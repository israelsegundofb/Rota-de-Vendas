(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Cp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kg={exports:{}},sf={};var qT;function z3(){if(qT)return sf;qT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return sf.Fragment=e,sf.jsx=n,sf.jsxs=n,sf}var $T;function H3(){return $T||($T=1,Kg.exports=z3()),Kg.exports}var _=H3(),Yg={exports:{}},yt={};var KT;function G3(){if(KT)return yt;KT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function T(Z){return Z===null||typeof Z!="object"?null:(Z=v&&Z[v]||Z["@@iterator"],typeof Z=="function"?Z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function k(Z,B,Q){this.props=Z,this.context=B,this.refs=C,this.updater=Q||S}k.prototype.isReactComponent={},k.prototype.setState=function(Z,B){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,B,"setState")},k.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function V(){}V.prototype=k.prototype;function D(Z,B,Q){this.props=Z,this.context=B,this.refs=C,this.updater=Q||S}var H=D.prototype=new V;H.constructor=D,A(H,k.prototype),H.isPureReactComponent=!0;var G=Array.isArray;function K(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function b(Z,B,Q){var W=Q.ref;return{$$typeof:t,type:Z,key:B,ref:W!==void 0?W:null,props:Q}}function F(Z,B){return b(Z.type,B,Z.props)}function O(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function M(Z){var B={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Q){return B[Q]})}var U=/\/+/g;function ue(Z,B){return typeof Z=="object"&&Z!==null&&Z.key!=null?M(""+Z.key):B.toString(36)}function pe(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(K,K):(Z.status="pending",Z.then(function(B){Z.status==="pending"&&(Z.status="fulfilled",Z.value=B)},function(B){Z.status==="pending"&&(Z.status="rejected",Z.reason=B)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function ae(Z,B,Q,W,ne){var he=typeof Z;(he==="undefined"||he==="boolean")&&(Z=null);var ge=!1;if(Z===null)ge=!0;else switch(he){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(Z.$$typeof){case t:case e:ge=!0;break;case h:return ge=Z._init,ae(ge(Z._payload),B,Q,W,ne)}}if(ge)return ne=ne(Z),ge=W===""?"."+ue(Z,0):W,G(ne)?(Q="",ge!=null&&(Q=ge.replace(U,"$&/")+"/"),ae(ne,B,Q,"",function(De){return De})):ne!=null&&(O(ne)&&(ne=F(ne,Q+(ne.key==null||Z&&Z.key===ne.key?"":(""+ne.key).replace(U,"$&/")+"/")+ge)),B.push(ne)),1;ge=0;var Ie=W===""?".":W+":";if(G(Z))for(var be=0;be<Z.length;be++)W=Z[be],he=Ie+ue(W,be),ge+=ae(W,B,Q,he,ne);else if(be=T(Z),typeof be=="function")for(Z=be.call(Z),be=0;!(W=Z.next()).done;)W=W.value,he=Ie+ue(W,be++),ge+=ae(W,B,Q,he,ne);else if(he==="object"){if(typeof Z.then=="function")return ae(pe(Z),B,Q,W,ne);throw B=String(Z),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ee(Z,B,Q){if(Z==null)return Z;var W=[],ne=0;return ae(Z,W,"","",function(he){return B.call(Q,he,ne++)}),W}function le(Z){if(Z._status===-1){var B=Z._result;B=B(),B.then(function(Q){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Q)},function(Q){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Q)}),Z._status===-1&&(Z._status=0,Z._result=B)}if(Z._status===1)return Z._result.default;throw Z._result}var se=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},ke={map:ee,forEach:function(Z,B,Q){ee(Z,function(){B.apply(this,arguments)},Q)},count:function(Z){var B=0;return ee(Z,function(){B++}),B},toArray:function(Z){return ee(Z,function(B){return B})||[]},only:function(Z){if(!O(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return yt.Activity=g,yt.Children=ke,yt.Component=k,yt.Fragment=n,yt.Profiler=i,yt.PureComponent=D,yt.StrictMode=r,yt.Suspense=f,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,yt.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return I.H.useMemoCache(Z)}},yt.cache=function(Z){return function(){return Z.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(Z,B,Q){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var W=A({},Z.props),ne=Z.key;if(B!=null)for(he in B.key!==void 0&&(ne=""+B.key),B)!N.call(B,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&B.ref===void 0||(W[he]=B[he]);var he=arguments.length-2;if(he===1)W.children=Q;else if(1<he){for(var ge=Array(he),Ie=0;Ie<he;Ie++)ge[Ie]=arguments[Ie+2];W.children=ge}return b(Z.type,ne,W)},yt.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:s,_context:Z},Z},yt.createElement=function(Z,B,Q){var W,ne={},he=null;if(B!=null)for(W in B.key!==void 0&&(he=""+B.key),B)N.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ne[W]=B[W]);var ge=arguments.length-2;if(ge===1)ne.children=Q;else if(1<ge){for(var Ie=Array(ge),be=0;be<ge;be++)Ie[be]=arguments[be+2];ne.children=Ie}if(Z&&Z.defaultProps)for(W in ge=Z.defaultProps,ge)ne[W]===void 0&&(ne[W]=ge[W]);return b(Z,he,ne)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(Z){return{$$typeof:c,render:Z}},yt.isValidElement=O,yt.lazy=function(Z){return{$$typeof:h,_payload:{_status:-1,_result:Z},_init:le}},yt.memo=function(Z,B){return{$$typeof:d,type:Z,compare:B===void 0?null:B}},yt.startTransition=function(Z){var B=I.T,Q={};I.T=Q;try{var W=Z(),ne=I.S;ne!==null&&ne(Q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(K,se)}catch(he){se(he)}finally{B!==null&&Q.types!==null&&(B.types=Q.types),I.T=B}},yt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},yt.use=function(Z){return I.H.use(Z)},yt.useActionState=function(Z,B,Q){return I.H.useActionState(Z,B,Q)},yt.useCallback=function(Z,B){return I.H.useCallback(Z,B)},yt.useContext=function(Z){return I.H.useContext(Z)},yt.useDebugValue=function(){},yt.useDeferredValue=function(Z,B){return I.H.useDeferredValue(Z,B)},yt.useEffect=function(Z,B){return I.H.useEffect(Z,B)},yt.useEffectEvent=function(Z){return I.H.useEffectEvent(Z)},yt.useId=function(){return I.H.useId()},yt.useImperativeHandle=function(Z,B,Q){return I.H.useImperativeHandle(Z,B,Q)},yt.useInsertionEffect=function(Z,B){return I.H.useInsertionEffect(Z,B)},yt.useLayoutEffect=function(Z,B){return I.H.useLayoutEffect(Z,B)},yt.useMemo=function(Z,B){return I.H.useMemo(Z,B)},yt.useOptimistic=function(Z,B){return I.H.useOptimistic(Z,B)},yt.useReducer=function(Z,B,Q){return I.H.useReducer(Z,B,Q)},yt.useRef=function(Z){return I.H.useRef(Z)},yt.useState=function(Z){return I.H.useState(Z)},yt.useSyncExternalStore=function(Z,B,Q){return I.H.useSyncExternalStore(Z,B,Q)},yt.useTransition=function(){return I.H.useTransition()},yt.version="19.2.4",yt}var YT;function Kx(){return YT||(YT=1,Yg.exports=G3()),Yg.exports}var de=Kx();const Dn=Cp(de);var Jg={exports:{}},af={},Wg={exports:{}},Zg={};var JT;function j3(){return JT||(JT=1,(function(t){function e(ae,ee){var le=ae.length;ae.push(ee);e:for(;0<le;){var se=le-1>>>1,ke=ae[se];if(0<i(ke,ee))ae[se]=ee,ae[le]=ke,le=se;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ee=ae[0],le=ae.pop();if(le!==ee){ae[0]=le;e:for(var se=0,ke=ae.length,Z=ke>>>1;se<Z;){var B=2*(se+1)-1,Q=ae[B],W=B+1,ne=ae[W];if(0>i(Q,le))W<ke&&0>i(ne,Q)?(ae[se]=ne,ae[W]=le,se=W):(ae[se]=Q,ae[B]=le,se=B);else if(W<ke&&0>i(ne,le))ae[se]=ne,ae[W]=le,se=W;else break e}}return ee}function i(ae,ee){var le=ae.sortIndex-ee.sortIndex;return le!==0?le:ae.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var f=[],d=[],h=1,g=null,v=3,T=!1,S=!1,A=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function H(ae){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=ae)r(d),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=n(d)}}function G(ae){if(A=!1,H(ae),!S)if(n(f)!==null)S=!0,K||(K=!0,M());else{var ee=n(d);ee!==null&&pe(G,ee.startTime-ae)}}var K=!1,I=-1,N=5,b=-1;function F(){return C?!0:!(t.unstable_now()-b<N)}function O(){if(C=!1,K){var ae=t.unstable_now();b=ae;var ee=!0;try{e:{S=!1,A&&(A=!1,V(I),I=-1),T=!0;var le=v;try{t:{for(H(ae),g=n(f);g!==null&&!(g.expirationTime>ae&&F());){var se=g.callback;if(typeof se=="function"){g.callback=null,v=g.priorityLevel;var ke=se(g.expirationTime<=ae);if(ae=t.unstable_now(),typeof ke=="function"){g.callback=ke,H(ae),ee=!0;break t}g===n(f)&&r(f),H(ae)}else r(f);g=n(f)}if(g!==null)ee=!0;else{var Z=n(d);Z!==null&&pe(G,Z.startTime-ae),ee=!1}}break e}finally{g=null,v=le,T=!1}ee=void 0}}finally{ee?M():K=!1}}}var M;if(typeof D=="function")M=function(){D(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ue=U.port2;U.port1.onmessage=O,M=function(){ue.postMessage(null)}}else M=function(){k(O,0)};function pe(ae,ee){I=k(function(){ae(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var le=v;v=ee;try{return ae()}finally{v=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ae,ee){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var le=v;v=ae;try{return ee()}finally{v=le}},t.unstable_scheduleCallback=function(ae,ee,le){var se=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?se+le:se):le=se,ae){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=le+ke,ae={id:h++,callback:ee,priorityLevel:ae,startTime:le,expirationTime:ke,sortIndex:-1},le>se?(ae.sortIndex=le,e(d,ae),n(f)===null&&ae===n(d)&&(A?(V(I),I=-1):A=!0,pe(G,le-se))):(ae.sortIndex=ke,e(f,ae),S||T||(S=!0,K||(K=!0,M()))),ae},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ae){var ee=v;return function(){var le=v;v=ee;try{return ae.apply(this,arguments)}finally{v=le}}}})(Zg)),Zg}var WT;function q3(){return WT||(WT=1,Wg.exports=j3()),Wg.exports}var Xg={exports:{}},kr={};var ZT;function $3(){if(ZT)return kr;ZT=1;var t=Kx();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,h)},kr.flushSync=function(f){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=h,r.d.f()}},kr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},kr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},kr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:T}):h==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},kr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},kr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},kr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},kr.requestFormReset=function(f){r.d.r(f)},kr.unstable_batchedUpdates=function(f,d){return f(d)},kr.useFormState=function(f,d,h){return o.H.useFormState(f,d,h)},kr.useFormStatus=function(){return o.H.useHostTransitionStatus()},kr.version="19.2.4",kr}var XT;function zC(){if(XT)return Xg.exports;XT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xg.exports=$3(),Xg.exports}var QT;function K3(){if(QT)return af;QT=1;var t=q3(),e=Kx(),n=zC();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var u=a,p=l;;){var E=u.return;if(E===null)break;var w=E.alternate;if(w===null){if(p=E.return,p!==null){u=p;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===u)return f(E),a;if(w===p)return f(E),l;w=w.sibling}throw Error(r(188))}if(u.return!==p.return)u=E,p=w;else{for(var P=!1,j=E.child;j;){if(j===u){P=!0,u=E,p=w;break}if(j===p){P=!0,p=E,u=w;break}j=j.sibling}if(!P){for(j=w.child;j;){if(j===u){P=!0,u=w,p=E;break}if(j===p){P=!0,p=w,u=E;break}j=j.sibling}if(!P)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case G:return"Suspense";case K:return"SuspenseList";case b:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case D:return a.displayName||"Context";case V:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return l=a.displayName||null,l!==null?l:ue(a.type)||"Memo";case N:l=a._payload,a=a._init;try{return ue(a(l))}catch{}}return null}var pe=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},se=[],ke=-1;function Z(a){return{current:a}}function B(a){0>ke||(a.current=se[ke],se[ke]=null,ke--)}function Q(a,l){ke++,se[ke]=a.current,a.current=l}var W=Z(null),ne=Z(null),he=Z(null),ge=Z(null);function Ie(a,l){switch(Q(he,l),Q(ne,a),Q(W,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?pT(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=pT(l),a=mT(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}B(W),Q(W,a)}function be(){B(W),B(ne),B(he)}function De(a){a.memoizedState!==null&&Q(ge,a);var l=W.current,u=mT(l,a.type);l!==u&&(Q(ne,a),Q(W,u))}function $e(a){ne.current===a&&(B(W),B(ne)),ge.current===a&&(B(ge),ef._currentValue=le)}var ie,ht;function Je(a){if(ie===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ie=l&&l[1]||"",ht=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+a+ht}var Ge=!1;function He(a,l){if(!a||Ge)return"";Ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Ne){var Se=Ne}Reflect.construct(a,[],Pe)}else{try{Pe.call()}catch(Ne){Se=Ne}a.call(Pe.prototype)}}else{try{throw Error()}catch(Ne){Se=Ne}(Pe=a())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Ne){if(Ne&&Se&&typeof Ne.stack=="string")return[Ne.stack,Se.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),P=w[0],j=w[1];if(P&&j){var oe=P.split(`
`),Ee=j.split(`
`);for(E=p=0;p<oe.length&&!oe[p].includes("DetermineComponentFrameRoot");)p++;for(;E<Ee.length&&!Ee[E].includes("DetermineComponentFrameRoot");)E++;if(p===oe.length||E===Ee.length)for(p=oe.length-1,E=Ee.length-1;1<=p&&0<=E&&oe[p]!==Ee[E];)E--;for(;1<=p&&0<=E;p--,E--)if(oe[p]!==Ee[E]){if(p!==1||E!==1)do if(p--,E--,0>E||oe[p]!==Ee[E]){var Re=`
`+oe[p].replace(" at new "," at ");return a.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",a.displayName)),Re}while(1<=p&&0<=E);break}}}finally{Ge=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Je(u):""}function Be(a,l){switch(a.tag){case 26:case 27:case 5:return Je(a.type);case 16:return Je("Lazy");case 13:return a.child!==l&&l!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return He(a.type,!1);case 11:return He(a.type.render,!1);case 1:return He(a.type,!0);case 31:return Je("Activity");default:return""}}function nt(a){try{var l="",u=null;do l+=Be(a,u),u=a,a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var rt=Object.prototype.hasOwnProperty,ft=t.unstable_scheduleCallback,fn=t.unstable_cancelCallback,An=t.unstable_shouldYield,Hn=t.unstable_requestPaint,gt=t.unstable_now,Ut=t.unstable_getCurrentPriorityLevel,Ct=t.unstable_ImmediatePriority,dn=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,Pn=t.unstable_LowPriority,it=t.unstable_IdlePriority,Ft=t.log,Zt=t.unstable_setDisableYieldValue,bt=null,Yt=null;function pr(a){if(typeof Ft=="function"&&Zt(a),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(bt,a)}catch{}}var gn=Math.clz32?Math.clz32:Hs,wa=Math.log,Wi=Math.LN2;function Hs(a){return a>>>=0,a===0?32:31-(wa(a)/Wi|0)|0}var Gr=256,Zi=262144,_n=4194304;function mr(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ti(a,l,u){var p=a.pendingLanes;if(p===0)return 0;var E=0,w=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var j=p&134217727;return j!==0?(p=j&~w,p!==0?E=mr(p):(P&=j,P!==0?E=mr(P):u||(u=j&~a,u!==0&&(E=mr(u))))):(j=p&~w,j!==0?E=mr(j):P!==0?E=mr(P):u||(u=p&~a,u!==0&&(E=mr(u)))),E===0?0:l!==0&&l!==E&&(l&w)===0&&(w=E&-E,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:E}function jr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Do(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(){var a=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),a}function Nr(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function Qn(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function jt(a,l,u,p,E,w){var P=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var j=a.entanglements,oe=a.expirationTimes,Ee=a.hiddenUpdates;for(u=P&~u;0<u;){var Re=31-gn(u),Pe=1<<Re;j[Re]=0,oe[Re]=-1;var Se=Ee[Re];if(Se!==null)for(Ee[Re]=null,Re=0;Re<Se.length;Re++){var Ne=Se[Re];Ne!==null&&(Ne.lane&=-536870913)}u&=~Pe}p!==0&&ni(a,p,0),w!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=w&~(P&~l))}function ni(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-gn(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function fe(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var p=31-gn(u),E=1<<p;E&l|a[p]&l&&(a[p]|=l),u&=~E}}function Ze(a,l){var u=l&-l;return u=(u&42)!==0?1:Qe(u),(u&(a.suspendedLanes|l))!==0?0:u}function Qe(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ct(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function z(){var a=ee.p;return a!==0?a:(a=window.event,a===void 0?32:UT(a.type))}function X(a,l){var u=ee.p;try{return ee.p=a,l()}finally{ee.p=u}}var q=Math.random().toString(36).slice(2),Y="__reactFiber$"+q,te="__reactProps$"+q,re="__reactContainer$"+q,ve="__reactEvents$"+q,Ae="__reactListeners$"+q,xe="__reactHandles$"+q,Te="__reactResources$"+q,we="__reactMarker$"+q;function Ve(a){delete a[Y],delete a[te],delete a[ve],delete a[Ae],delete a[xe]}function ze(a){var l=a[Y];if(l)return l;for(var u=a.parentNode;u;){if(l=u[re]||u[Y]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=TT(a);a!==null;){if(u=a[Y])return u;a=TT(a)}return l}a=u,u=a.parentNode}return null}function Ke(a){if(a=a[Y]||a[re]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ue(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function qe(a){var l=a[Te];return l||(l=a[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function et(a){a[we]=!0}var Qt=new Set,en={};function hn(a,l){Ir(a,l),Ir(a+"Capture",l)}function Ir(a,l){for(en[a]=l,a=0;a<l.length;a++)Qt.add(l[a])}var Xi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qi={},mi={};function Aa(a){return rt.call(mi,a)?!0:rt.call(Qi,a)?!1:Xi.test(a)?mi[a]=!0:(Qi[a]=!0,!1)}function Rr(a,l,u){if(Aa(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function gi(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function Gn(a,l,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+p)}}function or(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ca(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function du(a,l,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,w=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return E.call(this)},set:function(P){u=""+P,w.call(this,P)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(P){u=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function tn(a){if(!a._valueTracker){var l=Ca(a)?"checked":"value";a._valueTracker=du(a,l,""+a[l])}}function Mo(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return a&&(p=Ca(a)?a.checked?"true":"false":a.value),a=p,a!==u?(l.setValue(a),!0):!1}function ys(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Po=/[\n"\\]/g;function ri(a){return a.replace(Po,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ul(a,l,u,p,E,w,P,j){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),l!=null?P==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+or(l)):a.value!==""+or(l)&&(a.value=""+or(l)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),l!=null?hu(a,P,or(l)):u!=null?hu(a,P,or(u)):p!=null&&a.removeAttribute("value"),E==null&&w!=null&&(a.defaultChecked=!!w),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+or(j):a.removeAttribute("name")}function Nd(a,l,u,p,E,w,P,j){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){tn(a);return}u=u!=null?""+or(u):"",l=l!=null?""+or(l):u,j||l===a.value||(a.value=l),a.defaultValue=l}p=p??E,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=j?a.checked:!!p,a.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),tn(a)}function hu(a,l,u){l==="number"&&ys(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ba(a,l,u,p){if(a=a.options,l){l={};for(var E=0;E<u.length;E++)l["$"+u[E]]=!0;for(u=0;u<a.length;u++)E=l.hasOwnProperty("$"+a[u].value),a[u].selected!==E&&(a[u].selected=E),E&&p&&(a[u].defaultSelected=!0)}else{for(u=""+or(u),l=null,E=0;E<a.length;E++){if(a[E].value===u){a[E].selected=!0,p&&(a[E].defaultSelected=!0);return}l!==null||a[E].disabled||(l=a[E])}l!==null&&(l.selected=!0)}}function Id(a,l,u){if(l!=null&&(l=""+or(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+or(u):""}function Na(a,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(r(92));if(pe(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=or(l),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),tn(a)}function ii(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var Rd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(a,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,u):typeof u!="number"||u===0||Rd.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function mu(a,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var E in l)p=l[E],l.hasOwnProperty(E)&&u[E]!==p&&pu(a,E,p)}else for(var w in l)l.hasOwnProperty(w)&&pu(a,w,l[w])}function Vl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ia=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(a){return Ia.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function es(){}var gu=null;function Ii(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ra=null,_s=null;function Fo(a){var l=Ke(a);if(l&&(a=l.stateNode)){var u=a[te]||null;e:switch(a=l.stateNode,l.type){case"input":if(Ul(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ri(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==a&&p.form===a.form){var E=p[te]||null;if(!E)throw Error(r(90));Ul(p,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===a.form&&Mo(p)}break e;case"textarea":Id(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&ba(a,!!u.multiple,l,!1)}}}var zl=!1;function ka(a,l,u){if(zl)return a(l,u);zl=!0;try{var p=a(l);return p}finally{if(zl=!1,(Ra!==null||_s!==null)&&(Sh(),Ra&&(l=Ra,a=_s,_s=Ra=null,Fo(l),a)))for(l=0;l<a.length;l++)Fo(a[l])}}function ts(a,l){var u=a.stateNode;if(u===null)return null;var p=u[te]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=!1;if(Ri)try{var an={};Object.defineProperty(an,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",an,an),window.removeEventListener("test",an,an)}catch{Oo=!1}var Es=null,vu=null,Lo=null;function xu(){if(Lo)return Lo;var a,l=vu,u=l.length,p,E="value"in Es?Es.value:Es.textContent,w=E.length;for(a=0;a<u&&l[a]===E[a];a++);var P=u-a;for(p=1;p<=P&&l[u-p]===E[w-p];p++);return Lo=E.slice(a,1<p?1-p:void 0)}function Uo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Gs(){return!0}function ns(){return!1}function gr(a){function l(u,p,E,w,P){this._reactName=u,this._targetInst=E,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(u=a[j],this[j]=u?u(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Gs:ns,this.isPropagationStopped=ns,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),l}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=gr(js),Da=g({},js,{view:0,detail:0}),yu=gr(Da),Ma,Hl,ws,Gl=g({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ws&&(ws&&a.type==="mousemove"?(Ma=a.screenX-ws.screenX,Hl=a.screenY-ws.screenY):Hl=Ma=0,ws=a),Ma)},movementY:function(a){return"movementY"in a?a.movementY:Hl}}),_u=gr(Gl),Vo=g({},Gl,{dataTransfer:0}),Dd=gr(Vo),Md=g({},Da,{relatedTarget:0}),Bo=gr(Md),Eu=g({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),Pd=gr(Eu),jl=g({},js,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fd=gr(jl),Od=g({},js,{data:0}),Ss=gr(Od),Ld={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ud={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bd(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Vd[a])?!!l[a]:!1}function Pa(){return Bd}var qr=g({},Da,{key:function(a){if(a.key){var l=Ld[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Uo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ud[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(a){return a.type==="keypress"?Uo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Uo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),zd=gr(qr),Hd=g({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qs=gr(Hd),y=g({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),R=gr(y),L=g({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=gr(L),ye=g({},Gl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=gr(ye),je=g({},js,{newState:0,oldState:0}),Tt=gr(je),Fn=[9,13,27,32],Jt=Ri&&"CompositionEvent"in window,En=null;Ri&&"documentMode"in document&&(En=document.documentMode);var ki=Ri&&"TextEvent"in window&&!En,As=Ri&&(!Jt||En&&8<En&&11>=En),rs=" ",is=!1;function zo(a,l){switch(a){case"keyup":return Fn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ql(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $l=!1;function f4(a,l){switch(a){case"compositionend":return ql(l);case"keypress":return l.which!==32?null:(is=!0,rs);case"textInput":return a=l.data,a===rs&&is?null:a;default:return null}}function d4(a,l){if($l)return a==="compositionend"||!Jt&&zo(a,l)?(a=xu(),Lo=vu=Es=null,$l=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return As&&l.locale!=="ko"?null:l.data;default:return null}}var h4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!h4[a.type]:l==="textarea"}function Cy(a,l,u,p){Ra?_s?_s.push(p):_s=[p]:Ra=p,l=kh(l,"onChange"),0<l.length&&(u=new Ts("onChange","change",null,u,p),a.push({event:u,listeners:l}))}var Tu=null,wu=null;function p4(a){lT(a,0)}function Gd(a){var l=Ue(a);if(Mo(l))return a}function by(a,l){if(a==="change")return l}var Ny=!1;if(Ri){var em;if(Ri){var tm="oninput"in document;if(!tm){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),tm=typeof Iy.oninput=="function"}em=tm}else em=!1;Ny=em&&(!document.documentMode||9<document.documentMode)}function Ry(){Tu&&(Tu.detachEvent("onpropertychange",ky),wu=Tu=null)}function ky(a){if(a.propertyName==="value"&&Gd(wu)){var l=[];Cy(l,wu,a,Ii(a)),ka(p4,l)}}function m4(a,l,u){a==="focusin"?(Ry(),Tu=l,wu=u,Tu.attachEvent("onpropertychange",ky)):a==="focusout"&&Ry()}function g4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Gd(wu)}function v4(a,l){if(a==="click")return Gd(l)}function x4(a,l){if(a==="input"||a==="change")return Gd(l)}function y4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var vi=typeof Object.is=="function"?Object.is:y4;function Su(a,l){if(vi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var E=u[p];if(!rt.call(l,E)||!vi(a[E],l[E]))return!1}return!0}function Dy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function My(a,l){var u=Dy(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=l&&p>=l)return{node:u,offset:l-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Dy(u)}}function Py(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Py(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Fy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ys(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=ys(a.document)}return l}function nm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var _4=Ri&&"documentMode"in document&&11>=document.documentMode,Kl=null,rm=null,Au=null,im=!1;function Oy(a,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;im||Kl==null||Kl!==ys(p)||(p=Kl,"selectionStart"in p&&nm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Au&&Su(Au,p)||(Au=p,p=kh(rm,"onSelect"),0<p.length&&(l=new Ts("onSelect","select",null,l,u),a.push({event:l,listeners:p}),l.target=Kl)))}function Ho(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var Yl={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionrun:Ho("Transition","TransitionRun"),transitionstart:Ho("Transition","TransitionStart"),transitioncancel:Ho("Transition","TransitionCancel"),transitionend:Ho("Transition","TransitionEnd")},sm={},Ly={};Ri&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Go(a){if(sm[a])return sm[a];if(!Yl[a])return a;var l=Yl[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in Ly)return sm[a]=l[u];return a}var Uy=Go("animationend"),Vy=Go("animationiteration"),By=Go("animationstart"),E4=Go("transitionrun"),T4=Go("transitionstart"),w4=Go("transitioncancel"),zy=Go("transitionend"),Hy=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function ss(a,l){Hy.set(a,l),hn(l,[a])}var jd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Di=[],Jl=0,om=0;function qd(){for(var a=Jl,l=om=Jl=0;l<a;){var u=Di[l];Di[l++]=null;var p=Di[l];Di[l++]=null;var E=Di[l];Di[l++]=null;var w=Di[l];if(Di[l++]=null,p!==null&&E!==null){var P=p.pending;P===null?E.next=E:(E.next=P.next,P.next=E),p.pending=E}w!==0&&Gy(u,E,w)}}function $d(a,l,u,p){Di[Jl++]=a,Di[Jl++]=l,Di[Jl++]=u,Di[Jl++]=p,om|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function lm(a,l,u,p){return $d(a,l,u,p),Kd(a)}function jo(a,l){return $d(a,null,null,l),Kd(a)}function Gy(a,l,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var E=!1,w=a.return;w!==null;)w.childLanes|=u,p=w.alternate,p!==null&&(p.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(E=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,E&&l!==null&&(E=31-gn(u),a=w.hiddenUpdates,p=a[E],p===null?a[E]=[l]:p.push(l),l.lane=u|536870912),w):null}function Kd(a){if(50<Ku)throw Ku=0,vg=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Wl={};function S4(a,l,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(a,l,u,p){return new S4(a,l,u,p)}function cm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $s(a,l){var u=a.alternate;return u===null?(u=xi(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function jy(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Yd(a,l,u,p,E,w){var P=0;if(p=a,typeof a=="function")cm(a)&&(P=1);else if(typeof a=="string")P=I3(a,u,W.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case b:return a=xi(31,u,l,E),a.elementType=b,a.lanes=w,a;case A:return qo(u.children,E,w,l);case C:P=8,E|=24;break;case k:return a=xi(12,u,l,E|2),a.elementType=k,a.lanes=w,a;case G:return a=xi(13,u,l,E),a.elementType=G,a.lanes=w,a;case K:return a=xi(19,u,l,E),a.elementType=K,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:P=10;break e;case V:P=9;break e;case H:P=11;break e;case I:P=14;break e;case N:P=16,p=null;break e}P=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return l=xi(P,u,l,E),l.elementType=a,l.type=p,l.lanes=w,l}function qo(a,l,u,p){return a=xi(7,a,p,l),a.lanes=u,a}function um(a,l,u){return a=xi(6,a,null,l),a.lanes=u,a}function qy(a){var l=xi(18,null,null,0);return l.stateNode=a,l}function fm(a,l,u){return l=xi(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var $y=new WeakMap;function Mi(a,l){if(typeof a=="object"&&a!==null){var u=$y.get(a);return u!==void 0?u:(l={value:a,source:l,stack:nt(l)},$y.set(a,l),l)}return{value:a,source:l,stack:nt(l)}}var Zl=[],Xl=0,Jd=null,Cu=0,Pi=[],Fi=0,Fa=null,Cs=1,bs="";function Ks(a,l){Zl[Xl++]=Cu,Zl[Xl++]=Jd,Jd=a,Cu=l}function Ky(a,l,u){Pi[Fi++]=Cs,Pi[Fi++]=bs,Pi[Fi++]=Fa,Fa=a;var p=Cs;a=bs;var E=32-gn(p)-1;p&=~(1<<E),u+=1;var w=32-gn(l)+E;if(30<w){var P=E-E%5;w=(p&(1<<P)-1).toString(32),p>>=P,E-=P,Cs=1<<32-gn(l)+E|u<<E|p,bs=w+a}else Cs=1<<w|u<<E|p,bs=a}function dm(a){a.return!==null&&(Ks(a,1),Ky(a,1,0))}function hm(a){for(;a===Jd;)Jd=Zl[--Xl],Zl[Xl]=null,Cu=Zl[--Xl],Zl[Xl]=null;for(;a===Fa;)Fa=Pi[--Fi],Pi[Fi]=null,bs=Pi[--Fi],Pi[Fi]=null,Cs=Pi[--Fi],Pi[Fi]=null}function Yy(a,l){Pi[Fi++]=Cs,Pi[Fi++]=bs,Pi[Fi++]=Fa,Cs=l.id,bs=l.overflow,Fa=a}var vr=null,vn=null,Ot=!1,Oa=null,Oi=!1,pm=Error(r(519));function La(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bu(Mi(l,a)),pm}function Jy(a){var l=a.stateNode,u=a.type,p=a.memoizedProps;switch(l[Y]=a,l[te]=p,u){case"dialog":It("cancel",l),It("close",l);break;case"iframe":case"object":case"embed":It("load",l);break;case"video":case"audio":for(u=0;u<Ju.length;u++)It(Ju[u],l);break;case"source":It("error",l);break;case"img":case"image":case"link":It("error",l),It("load",l);break;case"details":It("toggle",l);break;case"input":It("invalid",l),Nd(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":It("invalid",l);break;case"textarea":It("invalid",l),Na(l,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||dT(l.textContent,u)?(p.popover!=null&&(It("beforetoggle",l),It("toggle",l)),p.onScroll!=null&&It("scroll",l),p.onScrollEnd!=null&&It("scrollend",l),p.onClick!=null&&(l.onclick=es),l=!0):l=!1,l||La(a,!0)}function Wy(a){for(vr=a.return;vr;)switch(vr.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:vr=vr.return}}function Ql(a){if(a!==vr)return!1;if(!Ot)return Wy(a),Ot=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Dg(a.type,a.memoizedProps)),u=!u),u&&vn&&La(a),Wy(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));vn=ET(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));vn=ET(a)}else l===27?(l=vn,Za(a.type)?(a=Lg,Lg=null,vn=a):vn=l):vn=vr?Ui(a.stateNode.nextSibling):null;return!0}function $o(){vn=vr=null,Ot=!1}function mm(){var a=Oa;return a!==null&&(li===null?li=a:li.push.apply(li,a),Oa=null),a}function bu(a){Oa===null?Oa=[a]:Oa.push(a)}var gm=Z(null),Ko=null,Ys=null;function Ua(a,l,u){Q(gm,l._currentValue),l._currentValue=u}function Js(a){a._currentValue=gm.current,B(gm)}function vm(a,l,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===u)break;a=a.return}}function xm(a,l,u,p){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var w=E.dependencies;if(w!==null){var P=E.child;w=w.firstContext;e:for(;w!==null;){var j=w;w=E;for(var oe=0;oe<l.length;oe++)if(j.context===l[oe]){w.lanes|=u,j=w.alternate,j!==null&&(j.lanes|=u),vm(w.return,u,a),p||(P=null);break e}w=j.next}}else if(E.tag===18){if(P=E.return,P===null)throw Error(r(341));P.lanes|=u,w=P.alternate,w!==null&&(w.lanes|=u),vm(P,u,a),P=null}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===a){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}}function ec(a,l,u,p){a=null;for(var E=l,w=!1;E!==null;){if(!w){if((E.flags&524288)!==0)w=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var P=E.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var j=E.type;vi(E.pendingProps.value,P.value)||(a!==null?a.push(j):a=[j])}}else if(E===ge.current){if(P=E.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(ef):a=[ef])}E=E.return}a!==null&&xm(l,a,u,p),l.flags|=262144}function Wd(a){for(a=a.firstContext;a!==null;){if(!vi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Yo(a){Ko=a,Ys=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function xr(a){return Zy(Ko,a)}function Zd(a,l){return Ko===null&&Yo(a),Zy(a,l)}function Zy(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Ys===null){if(a===null)throw Error(r(308));Ys=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Ys=Ys.next=l;return u}var A4=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},C4=t.unstable_scheduleCallback,b4=t.unstable_NormalPriority,jn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ym(){return{controller:new A4,data:new Map,refCount:0}}function Nu(a){a.refCount--,a.refCount===0&&C4(b4,function(){a.controller.abort()})}var Iu=null,_m=0,tc=0,nc=null;function N4(a,l){if(Iu===null){var u=Iu=[];_m=0,tc=wg(),nc={status:"pending",value:void 0,then:function(p){u.push(p)}}}return _m++,l.then(Xy,Xy),l}function Xy(){if(--_m===0&&Iu!==null){nc!==null&&(nc.status="fulfilled");var a=Iu;Iu=null,tc=0,nc=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function I4(a,l){var u=[],p={status:"pending",value:null,reason:null,then:function(E){u.push(E)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var E=0;E<u.length;E++)(0,u[E])(l)},function(E){for(p.status="rejected",p.reason=E,E=0;E<u.length;E++)(0,u[E])(void 0)}),p}var Qy=ae.S;ae.S=function(a,l){OE=gt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&N4(a,l),Qy!==null&&Qy(a,l)};var Jo=Z(null);function Em(){var a=Jo.current;return a!==null?a:pn.pooledCache}function Xd(a,l){l===null?Q(Jo,Jo.current):Q(Jo,l.pool)}function e_(){var a=Em();return a===null?null:{parent:jn._currentValue,pool:a}}var rc=Error(r(460)),Tm=Error(r(474)),Qd=Error(r(542)),eh={then:function(){}};function t_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function n_(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(es,es),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,i_(a),a;default:if(typeof l.status=="string")l.then(es,es);else{if(a=pn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=p}},function(p){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,i_(a),a}throw Zo=l,rc}}function Wo(a){try{var l=a._init;return l(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Zo=u,rc):u}}var Zo=null;function r_(){if(Zo===null)throw Error(r(459));var a=Zo;return Zo=null,a}function i_(a){if(a===rc||a===Qd)throw Error(r(483))}var ic=null,Ru=0;function th(a){var l=Ru;return Ru+=1,ic===null&&(ic=[]),n_(ic,a,l)}function ku(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function nh(a,l){throw l.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function s_(a){function l(me,ce){if(a){var _e=me.deletions;_e===null?(me.deletions=[ce],me.flags|=16):_e.push(ce)}}function u(me,ce){if(!a)return null;for(;ce!==null;)l(me,ce),ce=ce.sibling;return null}function p(me){for(var ce=new Map;me!==null;)me.key!==null?ce.set(me.key,me):ce.set(me.index,me),me=me.sibling;return ce}function E(me,ce){return me=$s(me,ce),me.index=0,me.sibling=null,me}function w(me,ce,_e){return me.index=_e,a?(_e=me.alternate,_e!==null?(_e=_e.index,_e<ce?(me.flags|=67108866,ce):_e):(me.flags|=67108866,ce)):(me.flags|=1048576,ce)}function P(me){return a&&me.alternate===null&&(me.flags|=67108866),me}function j(me,ce,_e,Me){return ce===null||ce.tag!==6?(ce=um(_e,me.mode,Me),ce.return=me,ce):(ce=E(ce,_e),ce.return=me,ce)}function oe(me,ce,_e,Me){var at=_e.type;return at===A?Re(me,ce,_e.props.children,Me,_e.key):ce!==null&&(ce.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===N&&Wo(at)===ce.type)?(ce=E(ce,_e.props),ku(ce,_e),ce.return=me,ce):(ce=Yd(_e.type,_e.key,_e.props,null,me.mode,Me),ku(ce,_e),ce.return=me,ce)}function Ee(me,ce,_e,Me){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==_e.containerInfo||ce.stateNode.implementation!==_e.implementation?(ce=fm(_e,me.mode,Me),ce.return=me,ce):(ce=E(ce,_e.children||[]),ce.return=me,ce)}function Re(me,ce,_e,Me,at){return ce===null||ce.tag!==7?(ce=qo(_e,me.mode,Me,at),ce.return=me,ce):(ce=E(ce,_e),ce.return=me,ce)}function Pe(me,ce,_e){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=um(""+ce,me.mode,_e),ce.return=me,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case T:return _e=Yd(ce.type,ce.key,ce.props,null,me.mode,_e),ku(_e,ce),_e.return=me,_e;case S:return ce=fm(ce,me.mode,_e),ce.return=me,ce;case N:return ce=Wo(ce),Pe(me,ce,_e)}if(pe(ce)||M(ce))return ce=qo(ce,me.mode,_e,null),ce.return=me,ce;if(typeof ce.then=="function")return Pe(me,th(ce),_e);if(ce.$$typeof===D)return Pe(me,Zd(me,ce),_e);nh(me,ce)}return null}function Se(me,ce,_e,Me){var at=ce!==null?ce.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return at!==null?null:j(me,ce,""+_e,Me);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case T:return _e.key===at?oe(me,ce,_e,Me):null;case S:return _e.key===at?Ee(me,ce,_e,Me):null;case N:return _e=Wo(_e),Se(me,ce,_e,Me)}if(pe(_e)||M(_e))return at!==null?null:Re(me,ce,_e,Me,null);if(typeof _e.then=="function")return Se(me,ce,th(_e),Me);if(_e.$$typeof===D)return Se(me,ce,Zd(me,_e),Me);nh(me,_e)}return null}function Ne(me,ce,_e,Me,at){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return me=me.get(_e)||null,j(ce,me,""+Me,at);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case T:return me=me.get(Me.key===null?_e:Me.key)||null,oe(ce,me,Me,at);case S:return me=me.get(Me.key===null?_e:Me.key)||null,Ee(ce,me,Me,at);case N:return Me=Wo(Me),Ne(me,ce,_e,Me,at)}if(pe(Me)||M(Me))return me=me.get(_e)||null,Re(ce,me,Me,at,null);if(typeof Me.then=="function")return Ne(me,ce,_e,th(Me),at);if(Me.$$typeof===D)return Ne(me,ce,_e,Zd(ce,Me),at);nh(ce,Me)}return null}function Xe(me,ce,_e,Me){for(var at=null,qt=null,tt=ce,At=ce=0,Dt=null;tt!==null&&At<_e.length;At++){tt.index>At?(Dt=tt,tt=null):Dt=tt.sibling;var $t=Se(me,tt,_e[At],Me);if($t===null){tt===null&&(tt=Dt);break}a&&tt&&$t.alternate===null&&l(me,tt),ce=w($t,ce,At),qt===null?at=$t:qt.sibling=$t,qt=$t,tt=Dt}if(At===_e.length)return u(me,tt),Ot&&Ks(me,At),at;if(tt===null){for(;At<_e.length;At++)tt=Pe(me,_e[At],Me),tt!==null&&(ce=w(tt,ce,At),qt===null?at=tt:qt.sibling=tt,qt=tt);return Ot&&Ks(me,At),at}for(tt=p(tt);At<_e.length;At++)Dt=Ne(tt,me,At,_e[At],Me),Dt!==null&&(a&&Dt.alternate!==null&&tt.delete(Dt.key===null?At:Dt.key),ce=w(Dt,ce,At),qt===null?at=Dt:qt.sibling=Dt,qt=Dt);return a&&tt.forEach(function(no){return l(me,no)}),Ot&&Ks(me,At),at}function dt(me,ce,_e,Me){if(_e==null)throw Error(r(151));for(var at=null,qt=null,tt=ce,At=ce=0,Dt=null,$t=_e.next();tt!==null&&!$t.done;At++,$t=_e.next()){tt.index>At?(Dt=tt,tt=null):Dt=tt.sibling;var no=Se(me,tt,$t.value,Me);if(no===null){tt===null&&(tt=Dt);break}a&&tt&&no.alternate===null&&l(me,tt),ce=w(no,ce,At),qt===null?at=no:qt.sibling=no,qt=no,tt=Dt}if($t.done)return u(me,tt),Ot&&Ks(me,At),at;if(tt===null){for(;!$t.done;At++,$t=_e.next())$t=Pe(me,$t.value,Me),$t!==null&&(ce=w($t,ce,At),qt===null?at=$t:qt.sibling=$t,qt=$t);return Ot&&Ks(me,At),at}for(tt=p(tt);!$t.done;At++,$t=_e.next())$t=Ne(tt,me,At,$t.value,Me),$t!==null&&(a&&$t.alternate!==null&&tt.delete($t.key===null?At:$t.key),ce=w($t,ce,At),qt===null?at=$t:qt.sibling=$t,qt=$t);return a&&tt.forEach(function(B3){return l(me,B3)}),Ot&&Ks(me,At),at}function cn(me,ce,_e,Me){if(typeof _e=="object"&&_e!==null&&_e.type===A&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case T:e:{for(var at=_e.key;ce!==null;){if(ce.key===at){if(at=_e.type,at===A){if(ce.tag===7){u(me,ce.sibling),Me=E(ce,_e.props.children),Me.return=me,me=Me;break e}}else if(ce.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===N&&Wo(at)===ce.type){u(me,ce.sibling),Me=E(ce,_e.props),ku(Me,_e),Me.return=me,me=Me;break e}u(me,ce);break}else l(me,ce);ce=ce.sibling}_e.type===A?(Me=qo(_e.props.children,me.mode,Me,_e.key),Me.return=me,me=Me):(Me=Yd(_e.type,_e.key,_e.props,null,me.mode,Me),ku(Me,_e),Me.return=me,me=Me)}return P(me);case S:e:{for(at=_e.key;ce!==null;){if(ce.key===at)if(ce.tag===4&&ce.stateNode.containerInfo===_e.containerInfo&&ce.stateNode.implementation===_e.implementation){u(me,ce.sibling),Me=E(ce,_e.children||[]),Me.return=me,me=Me;break e}else{u(me,ce);break}else l(me,ce);ce=ce.sibling}Me=fm(_e,me.mode,Me),Me.return=me,me=Me}return P(me);case N:return _e=Wo(_e),cn(me,ce,_e,Me)}if(pe(_e))return Xe(me,ce,_e,Me);if(M(_e)){if(at=M(_e),typeof at!="function")throw Error(r(150));return _e=at.call(_e),dt(me,ce,_e,Me)}if(typeof _e.then=="function")return cn(me,ce,th(_e),Me);if(_e.$$typeof===D)return cn(me,ce,Zd(me,_e),Me);nh(me,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint"?(_e=""+_e,ce!==null&&ce.tag===6?(u(me,ce.sibling),Me=E(ce,_e),Me.return=me,me=Me):(u(me,ce),Me=um(_e,me.mode,Me),Me.return=me,me=Me),P(me)):u(me,ce)}return function(me,ce,_e,Me){try{Ru=0;var at=cn(me,ce,_e,Me);return ic=null,at}catch(tt){if(tt===rc||tt===Qd)throw tt;var qt=xi(29,tt,null,me.mode);return qt.lanes=Me,qt.return=me,qt}}}var Xo=s_(!0),a_=s_(!1),Va=!1;function wm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ba(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function za(a,l,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Wt&2)!==0){var E=p.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),p.pending=l,l=Kd(a),Gy(a,null,u),l}return $d(a,p,l,u),Kd(a)}function Du(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,u|=p,l.lanes=u,fe(a,u)}}function Am(a,l){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var E=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?E=w=P:w=w.next=P,u=u.next}while(u!==null);w===null?E=w=l:w=w.next=l}else E=w=l;u={baseState:p.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var Cm=!1;function Mu(){if(Cm){var a=nc;if(a!==null)throw a}}function Pu(a,l,u,p){Cm=!1;var E=a.updateQueue;Va=!1;var w=E.firstBaseUpdate,P=E.lastBaseUpdate,j=E.shared.pending;if(j!==null){E.shared.pending=null;var oe=j,Ee=oe.next;oe.next=null,P===null?w=Ee:P.next=Ee,P=oe;var Re=a.alternate;Re!==null&&(Re=Re.updateQueue,j=Re.lastBaseUpdate,j!==P&&(j===null?Re.firstBaseUpdate=Ee:j.next=Ee,Re.lastBaseUpdate=oe))}if(w!==null){var Pe=E.baseState;P=0,Re=Ee=oe=null,j=w;do{var Se=j.lane&-536870913,Ne=Se!==j.lane;if(Ne?(kt&Se)===Se:(p&Se)===Se){Se!==0&&Se===tc&&(Cm=!0),Re!==null&&(Re=Re.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Xe=a,dt=j;Se=l;var cn=u;switch(dt.tag){case 1:if(Xe=dt.payload,typeof Xe=="function"){Pe=Xe.call(cn,Pe,Se);break e}Pe=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=dt.payload,Se=typeof Xe=="function"?Xe.call(cn,Pe,Se):Xe,Se==null)break e;Pe=g({},Pe,Se);break e;case 2:Va=!0}}Se=j.callback,Se!==null&&(a.flags|=64,Ne&&(a.flags|=8192),Ne=E.callbacks,Ne===null?E.callbacks=[Se]:Ne.push(Se))}else Ne={lane:Se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Re===null?(Ee=Re=Ne,oe=Pe):Re=Re.next=Ne,P|=Se;if(j=j.next,j===null){if(j=E.shared.pending,j===null)break;Ne=j,j=Ne.next,Ne.next=null,E.lastBaseUpdate=Ne,E.shared.pending=null}}while(!0);Re===null&&(oe=Pe),E.baseState=oe,E.firstBaseUpdate=Ee,E.lastBaseUpdate=Re,w===null&&(E.shared.lanes=0),$a|=P,a.lanes=P,a.memoizedState=Pe}}function o_(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function l_(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)o_(u[a],l)}var sc=Z(null),rh=Z(0);function c_(a,l){a=ia,Q(rh,a),Q(sc,l),ia=a|l.baseLanes}function bm(){Q(rh,ia),Q(sc,sc.current)}function Nm(){ia=rh.current,B(sc),B(rh)}var yi=Z(null),Li=null;function Ha(a){var l=a.alternate;Q(On,On.current&1),Q(yi,a),Li===null&&(l===null||sc.current!==null||l.memoizedState!==null)&&(Li=a)}function Im(a){Q(On,On.current),Q(yi,a),Li===null&&(Li=a)}function u_(a){a.tag===22?(Q(On,On.current),Q(yi,a),Li===null&&(Li=a)):Ga()}function Ga(){Q(On,On.current),Q(yi,yi.current)}function _i(a){B(yi),Li===a&&(Li=null),B(On)}var On=Z(0);function ih(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Fg(u)||Og(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ws=0,wt=null,on=null,qn=null,sh=!1,ac=!1,Qo=!1,ah=0,Fu=0,oc=null,R4=0;function In(){throw Error(r(321))}function Rm(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!vi(a[u],l[u]))return!1;return!0}function km(a,l,u,p,E,w){return Ws=w,wt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=a===null||a.memoizedState===null?K_:$m,Qo=!1,w=u(p,E),Qo=!1,ac&&(w=d_(l,u,p,E)),f_(a),w}function f_(a){ae.H=Uu;var l=on!==null&&on.next!==null;if(Ws=0,qn=on=wt=null,sh=!1,Fu=0,oc=null,l)throw Error(r(300));a===null||$n||(a=a.dependencies,a!==null&&Wd(a)&&($n=!0))}function d_(a,l,u,p){wt=a;var E=0;do{if(ac&&(oc=null),Fu=0,ac=!1,25<=E)throw Error(r(301));if(E+=1,qn=on=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ae.H=Y_,w=l(u,p)}while(ac);return w}function k4(){var a=ae.H,l=a.useState()[0];return l=typeof l.then=="function"?Ou(l):l,a=a.useState()[0],(on!==null?on.memoizedState:null)!==a&&(wt.flags|=1024),l}function Dm(){var a=ah!==0;return ah=0,a}function Mm(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function Pm(a){if(sh){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}sh=!1}Ws=0,qn=on=wt=null,ac=!1,Fu=ah=0,oc=null}function $r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?wt.memoizedState=qn=a:qn=qn.next=a,qn}function Ln(){if(on===null){var a=wt.alternate;a=a!==null?a.memoizedState:null}else a=on.next;var l=qn===null?wt.memoizedState:qn.next;if(l!==null)qn=l,on=a;else{if(a===null)throw wt.alternate===null?Error(r(467)):Error(r(310));on=a,a={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},qn===null?wt.memoizedState=qn=a:qn=qn.next=a}return qn}function oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(a){var l=Fu;return Fu+=1,oc===null&&(oc=[]),a=n_(oc,a,l),l=wt,(qn===null?l.memoizedState:qn.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?K_:$m),a}function lh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ou(a);if(a.$$typeof===D)return xr(a)}throw Error(r(438,String(a)))}function Fm(a){var l=null,u=wt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=wt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=oh(),wt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),p=0;p<a;p++)u[p]=F;return l.index++,u}function Zs(a,l){return typeof l=="function"?l(a):l}function ch(a){var l=Ln();return Om(l,on,a)}function Om(a,l,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var E=a.baseQueue,w=p.pending;if(w!==null){if(E!==null){var P=E.next;E.next=w.next,w.next=P}l.baseQueue=E=w,p.pending=null}if(w=a.baseState,E===null)a.memoizedState=w;else{l=E.next;var j=P=null,oe=null,Ee=l,Re=!1;do{var Pe=Ee.lane&-536870913;if(Pe!==Ee.lane?(kt&Pe)===Pe:(Ws&Pe)===Pe){var Se=Ee.revertLane;if(Se===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Pe===tc&&(Re=!0);else if((Ws&Se)===Se){Ee=Ee.next,Se===tc&&(Re=!0);continue}else Pe={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},oe===null?(j=oe=Pe,P=w):oe=oe.next=Pe,wt.lanes|=Se,$a|=Se;Pe=Ee.action,Qo&&u(w,Pe),w=Ee.hasEagerState?Ee.eagerState:u(w,Pe)}else Se={lane:Pe,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},oe===null?(j=oe=Se,P=w):oe=oe.next=Se,wt.lanes|=Pe,$a|=Pe;Ee=Ee.next}while(Ee!==null&&Ee!==l);if(oe===null?P=w:oe.next=j,!vi(w,a.memoizedState)&&($n=!0,Re&&(u=nc,u!==null)))throw u;a.memoizedState=w,a.baseState=P,a.baseQueue=oe,p.lastRenderedState=w}return E===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Lm(a){var l=Ln(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,E=u.pending,w=l.memoizedState;if(E!==null){u.pending=null;var P=E=E.next;do w=a(w,P.action),P=P.next;while(P!==E);vi(w,l.memoizedState)||($n=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,p]}function h_(a,l,u){var p=wt,E=Ln(),w=Ot;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=l();var P=!vi((on||E).memoizedState,u);if(P&&(E.memoizedState=u,$n=!0),E=E.queue,Bm(g_.bind(null,p,E,a),[a]),E.getSnapshot!==l||P||qn!==null&&qn.memoizedState.tag&1){if(p.flags|=2048,lc(9,{destroy:void 0},m_.bind(null,p,E,u,l),null),pn===null)throw Error(r(349));w||(Ws&127)!==0||p_(p,l,u)}return u}function p_(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=wt.updateQueue,l===null?(l=oh(),wt.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function m_(a,l,u,p){l.value=u,l.getSnapshot=p,v_(l)&&x_(a)}function g_(a,l,u){return u(function(){v_(l)&&x_(a)})}function v_(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!vi(a,u)}catch{return!0}}function x_(a){var l=jo(a,2);l!==null&&ci(l,a,2)}function Um(a){var l=$r();if(typeof a=="function"){var u=a;if(a=u(),Qo){pr(!0);try{u()}finally{pr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:a},l}function y_(a,l,u,p){return a.baseState=u,Om(a,on,typeof p=="function"?p:Zs)}function D4(a,l,u,p,E){if(dh(a))throw Error(r(485));if(a=l.action,a!==null){var w={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){w.listeners.push(P)}};ae.T!==null?u(!0):w.isTransition=!1,p(w),u=l.pending,u===null?(w.next=l.pending=w,__(l,w)):(w.next=u.next,l.pending=u.next=w)}}function __(a,l){var u=l.action,p=l.payload,E=a.state;if(l.isTransition){var w=ae.T,P={};ae.T=P;try{var j=u(E,p),oe=ae.S;oe!==null&&oe(P,j),E_(a,l,j)}catch(Ee){Vm(a,l,Ee)}finally{w!==null&&P.types!==null&&(w.types=P.types),ae.T=w}}else try{w=u(E,p),E_(a,l,w)}catch(Ee){Vm(a,l,Ee)}}function E_(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){T_(a,l,p)},function(p){return Vm(a,l,p)}):T_(a,l,u)}function T_(a,l,u){l.status="fulfilled",l.value=u,w_(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,__(a,u)))}function Vm(a,l,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,w_(l),l=l.next;while(l!==p)}a.action=null}function w_(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function S_(a,l){return l}function A_(a,l){if(Ot){var u=pn.formState;if(u!==null){e:{var p=wt;if(Ot){if(vn){t:{for(var E=vn,w=Oi;E.nodeType!==8;){if(!w){E=null;break t}if(E=Ui(E.nextSibling),E===null){E=null;break t}}w=E.data,E=w==="F!"||w==="F"?E:null}if(E){vn=Ui(E.nextSibling),p=E.data==="F!";break e}}La(p)}p=!1}p&&(l=u[0])}}return u=$r(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:l},u.queue=p,u=j_.bind(null,wt,p),p.dispatch=u,p=Um(!1),w=qm.bind(null,wt,!1,p.queue),p=$r(),E={state:l,dispatch:null,action:a,pending:null},p.queue=E,u=D4.bind(null,wt,E,w,u),E.dispatch=u,p.memoizedState=a,[l,u,!1]}function C_(a){var l=Ln();return b_(l,on,a)}function b_(a,l,u){if(l=Om(a,l,S_)[0],a=ch(Zs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Ou(l)}catch(P){throw P===rc?Qd:P}else p=l;l=Ln();var E=l.queue,w=E.dispatch;return u!==l.memoizedState&&(wt.flags|=2048,lc(9,{destroy:void 0},M4.bind(null,E,u),null)),[p,w,a]}function M4(a,l){a.action=l}function N_(a){var l=Ln(),u=on;if(u!==null)return b_(l,u,a);Ln(),l=l.memoizedState,u=Ln();var p=u.queue.dispatch;return u.memoizedState=a,[l,p,!1]}function lc(a,l,u,p){return a={tag:a,create:u,deps:p,inst:l,next:null},l=wt.updateQueue,l===null&&(l=oh(),wt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,l.lastEffect=a),a}function I_(){return Ln().memoizedState}function uh(a,l,u,p){var E=$r();wt.flags|=a,E.memoizedState=lc(1|l,{destroy:void 0},u,p===void 0?null:p)}function fh(a,l,u,p){var E=Ln();p=p===void 0?null:p;var w=E.memoizedState.inst;on!==null&&p!==null&&Rm(p,on.memoizedState.deps)?E.memoizedState=lc(l,w,u,p):(wt.flags|=a,E.memoizedState=lc(1|l,w,u,p))}function R_(a,l){uh(8390656,8,a,l)}function Bm(a,l){fh(2048,8,a,l)}function P4(a){wt.flags|=4;var l=wt.updateQueue;if(l===null)l=oh(),wt.updateQueue=l,l.events=[a];else{var u=l.events;u===null?l.events=[a]:u.push(a)}}function k_(a){var l=Ln().memoizedState;return P4({ref:l,nextImpl:a}),function(){if((Wt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function D_(a,l){return fh(4,2,a,l)}function M_(a,l){return fh(4,4,a,l)}function P_(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function F_(a,l,u){u=u!=null?u.concat([a]):null,fh(4,4,P_.bind(null,l,a),u)}function zm(){}function O_(a,l){var u=Ln();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&Rm(l,p[1])?p[0]:(u.memoizedState=[a,l],a)}function L_(a,l){var u=Ln();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&Rm(l,p[1]))return p[0];if(p=a(),Qo){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[p,l],p}function Hm(a,l,u){return u===void 0||(Ws&1073741824)!==0&&(kt&261930)===0?a.memoizedState=l:(a.memoizedState=u,a=UE(),wt.lanes|=a,$a|=a,u)}function U_(a,l,u,p){return vi(u,l)?u:sc.current!==null?(a=Hm(a,u,p),vi(a,l)||($n=!0),a):(Ws&42)===0||(Ws&1073741824)!==0&&(kt&261930)===0?($n=!0,a.memoizedState=u):(a=UE(),wt.lanes|=a,$a|=a,l)}function V_(a,l,u,p,E){var w=ee.p;ee.p=w!==0&&8>w?w:8;var P=ae.T,j={};ae.T=j,qm(a,!1,l,u);try{var oe=E(),Ee=ae.S;if(Ee!==null&&Ee(j,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Re=I4(oe,p);Lu(a,l,Re,wi(a))}else Lu(a,l,p,wi(a))}catch(Pe){Lu(a,l,{then:function(){},status:"rejected",reason:Pe},wi())}finally{ee.p=w,P!==null&&j.types!==null&&(P.types=j.types),ae.T=P}}function F4(){}function Gm(a,l,u,p){if(a.tag!==5)throw Error(r(476));var E=B_(a).queue;V_(a,E,l,le,u===null?F4:function(){return z_(a),u(p)})}function B_(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:le},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function z_(a){var l=B_(a);l.next===null&&(l=a.alternate.memoizedState),Lu(a,l.next.queue,{},wi())}function jm(){return xr(ef)}function H_(){return Ln().memoizedState}function G_(){return Ln().memoizedState}function O4(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=wi();a=Ba(u);var p=za(l,a,u);p!==null&&(ci(p,l,u),Du(p,l,u)),l={cache:ym()},a.payload=l;return}l=l.return}}function L4(a,l,u){var p=wi();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},dh(a)?q_(l,u):(u=lm(a,l,u,p),u!==null&&(ci(u,a,p),$_(u,l,p)))}function j_(a,l,u){var p=wi();Lu(a,l,u,p)}function Lu(a,l,u,p){var E={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(dh(a))q_(l,E);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var P=l.lastRenderedState,j=w(P,u);if(E.hasEagerState=!0,E.eagerState=j,vi(j,P))return $d(a,l,E,0),pn===null&&qd(),!1}catch{}if(u=lm(a,l,E,p),u!==null)return ci(u,a,p),$_(u,l,p),!0}return!1}function qm(a,l,u,p){if(p={lane:2,revertLane:wg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},dh(a)){if(l)throw Error(r(479))}else l=lm(a,u,p,2),l!==null&&ci(l,a,2)}function dh(a){var l=a.alternate;return a===wt||l!==null&&l===wt}function q_(a,l){ac=sh=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function $_(a,l,u){if((u&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,u|=p,l.lanes=u,fe(a,u)}}var Uu={readContext:xr,use:lh,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In};Uu.useEffectEvent=In;var K_={readContext:xr,use:lh,useCallback:function(a,l){return $r().memoizedState=[a,l===void 0?null:l],a},useContext:xr,useEffect:R_,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,uh(4194308,4,P_.bind(null,l,a),u)},useLayoutEffect:function(a,l){return uh(4194308,4,a,l)},useInsertionEffect:function(a,l){uh(4,2,a,l)},useMemo:function(a,l){var u=$r();l=l===void 0?null:l;var p=a();if(Qo){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[p,l],p},useReducer:function(a,l,u){var p=$r();if(u!==void 0){var E=u(l);if(Qo){pr(!0);try{u(l)}finally{pr(!1)}}}else E=l;return p.memoizedState=p.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},p.queue=a,a=a.dispatch=L4.bind(null,wt,a),[p.memoizedState,a]},useRef:function(a){var l=$r();return a={current:a},l.memoizedState=a},useState:function(a){a=Um(a);var l=a.queue,u=j_.bind(null,wt,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:zm,useDeferredValue:function(a,l){var u=$r();return Hm(u,a,l)},useTransition:function(){var a=Um(!1);return a=V_.bind(null,wt,a.queue,!0,!1),$r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var p=wt,E=$r();if(Ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),pn===null)throw Error(r(349));(kt&127)!==0||p_(p,l,u)}E.memoizedState=u;var w={value:u,getSnapshot:l};return E.queue=w,R_(g_.bind(null,p,w,a),[a]),p.flags|=2048,lc(9,{destroy:void 0},m_.bind(null,p,w,u,l),null),u},useId:function(){var a=$r(),l=pn.identifierPrefix;if(Ot){var u=bs,p=Cs;u=(p&~(1<<32-gn(p)-1)).toString(32)+u,l="_"+l+"R_"+u,u=ah++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=R4++,l="_"+l+"r_"+u.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:jm,useFormState:A_,useActionState:A_,useOptimistic:function(a){var l=$r();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=qm.bind(null,wt,!0,u),u.dispatch=l,[a,l]},useMemoCache:Fm,useCacheRefresh:function(){return $r().memoizedState=O4.bind(null,wt)},useEffectEvent:function(a){var l=$r(),u={impl:a};return l.memoizedState=u,function(){if((Wt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},$m={readContext:xr,use:lh,useCallback:O_,useContext:xr,useEffect:Bm,useImperativeHandle:F_,useInsertionEffect:D_,useLayoutEffect:M_,useMemo:L_,useReducer:ch,useRef:I_,useState:function(){return ch(Zs)},useDebugValue:zm,useDeferredValue:function(a,l){var u=Ln();return U_(u,on.memoizedState,a,l)},useTransition:function(){var a=ch(Zs)[0],l=Ln().memoizedState;return[typeof a=="boolean"?a:Ou(a),l]},useSyncExternalStore:h_,useId:H_,useHostTransitionStatus:jm,useFormState:C_,useActionState:C_,useOptimistic:function(a,l){var u=Ln();return y_(u,on,a,l)},useMemoCache:Fm,useCacheRefresh:G_};$m.useEffectEvent=k_;var Y_={readContext:xr,use:lh,useCallback:O_,useContext:xr,useEffect:Bm,useImperativeHandle:F_,useInsertionEffect:D_,useLayoutEffect:M_,useMemo:L_,useReducer:Lm,useRef:I_,useState:function(){return Lm(Zs)},useDebugValue:zm,useDeferredValue:function(a,l){var u=Ln();return on===null?Hm(u,a,l):U_(u,on.memoizedState,a,l)},useTransition:function(){var a=Lm(Zs)[0],l=Ln().memoizedState;return[typeof a=="boolean"?a:Ou(a),l]},useSyncExternalStore:h_,useId:H_,useHostTransitionStatus:jm,useFormState:N_,useActionState:N_,useOptimistic:function(a,l){var u=Ln();return on!==null?y_(u,on,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Fm,useCacheRefresh:G_};Y_.useEffectEvent=k_;function Km(a,l,u,p){l=a.memoizedState,u=u(p,l),u=u==null?l:g({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Ym={enqueueSetState:function(a,l,u){a=a._reactInternals;var p=wi(),E=Ba(p);E.payload=l,u!=null&&(E.callback=u),l=za(a,E,p),l!==null&&(ci(l,a,p),Du(l,a,p))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var p=wi(),E=Ba(p);E.tag=1,E.payload=l,u!=null&&(E.callback=u),l=za(a,E,p),l!==null&&(ci(l,a,p),Du(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=wi(),p=Ba(u);p.tag=2,l!=null&&(p.callback=l),l=za(a,p,u),l!==null&&(ci(l,a,u),Du(l,a,u))}};function J_(a,l,u,p,E,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,P):l.prototype&&l.prototype.isPureReactComponent?!Su(u,p)||!Su(E,w):!0}function W_(a,l,u,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==a&&Ym.enqueueReplaceState(l,l.state,null)}function el(a,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(a=a.defaultProps){u===l&&(u=g({},u));for(var E in a)u[E]===void 0&&(u[E]=a[E])}return u}function Z_(a){jd(a)}function X_(a){console.error(a)}function Q_(a){jd(a)}function hh(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function eE(a,l,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Jm(a,l,u){return u=Ba(u),u.tag=3,u.payload={element:null},u.callback=function(){hh(a,l)},u}function tE(a){return a=Ba(a),a.tag=3,a}function nE(a,l,u,p){var E=u.type.getDerivedStateFromError;if(typeof E=="function"){var w=p.value;a.payload=function(){return E(w)},a.callback=function(){eE(l,u,p)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){eE(l,u,p),typeof E!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var j=p.stack;this.componentDidCatch(p.value,{componentStack:j!==null?j:""})})}function U4(a,l,u,p,E){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&ec(l,u,E,!0),u=yi.current,u!==null){switch(u.tag){case 31:case 13:return Li===null?Ah():u.alternate===null&&Rn===0&&(Rn=3),u.flags&=-257,u.flags|=65536,u.lanes=E,p===eh?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),_g(a,p,E)),!1;case 22:return u.flags|=65536,p===eh?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),_g(a,p,E)),!1}throw Error(r(435,u.tag))}return _g(a,p,E),Ah(),!1}if(Ot)return l=yi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,p!==pm&&(a=Error(r(422),{cause:p}),bu(Mi(a,u)))):(p!==pm&&(l=Error(r(423),{cause:p}),bu(Mi(l,u))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,p=Mi(p,u),E=Jm(a.stateNode,p,E),Am(a,E),Rn!==4&&(Rn=2)),!1;var w=Error(r(520),{cause:p});if(w=Mi(w,u),$u===null?$u=[w]:$u.push(w),Rn!==4&&(Rn=2),l===null)return!0;p=Mi(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=E&-E,u.lanes|=a,a=Jm(u.stateNode,p,a),Am(u,a),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ka===null||!Ka.has(w))))return u.flags|=65536,E&=-E,u.lanes|=E,E=tE(E),nE(E,a,u,p),Am(u,E),!1}u=u.return}while(u!==null);return!1}var Wm=Error(r(461)),$n=!1;function yr(a,l,u,p){l.child=a===null?a_(l,null,u,p):Xo(l,a.child,u,p)}function rE(a,l,u,p,E){u=u.render;var w=l.ref;if("ref"in p){var P={};for(var j in p)j!=="ref"&&(P[j]=p[j])}else P=p;return Yo(l),p=km(a,l,u,P,w,E),j=Dm(),a!==null&&!$n?(Mm(a,l,E),Xs(a,l,E)):(Ot&&j&&dm(l),l.flags|=1,yr(a,l,p,E),l.child)}function iE(a,l,u,p,E){if(a===null){var w=u.type;return typeof w=="function"&&!cm(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,sE(a,l,w,p,E)):(a=Yd(u.type,null,p,l,l.mode,E),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!ig(a,E)){var P=w.memoizedProps;if(u=u.compare,u=u!==null?u:Su,u(P,p)&&a.ref===l.ref)return Xs(a,l,E)}return l.flags|=1,a=$s(w,p),a.ref=l.ref,a.return=l,l.child=a}function sE(a,l,u,p,E){if(a!==null){var w=a.memoizedProps;if(Su(w,p)&&a.ref===l.ref)if($n=!1,l.pendingProps=p=w,ig(a,E))(a.flags&131072)!==0&&($n=!0);else return l.lanes=a.lanes,Xs(a,l,E)}return Zm(a,l,u,p,E)}function aE(a,l,u,p){var E=p.children,w=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,a!==null){for(p=l.child=a.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;p=E&~w}else p=0,l.child=null;return oE(a,l,w,u,p)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Xd(l,w!==null?w.cachePool:null),w!==null?c_(l,w):bm(),u_(l);else return p=l.lanes=536870912,oE(a,l,w!==null?w.baseLanes|u:u,u,p)}else w!==null?(Xd(l,w.cachePool),c_(l,w),Ga(),l.memoizedState=null):(a!==null&&Xd(l,null),bm(),Ga());return yr(a,l,E,u),l.child}function Vu(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function oE(a,l,u,p,E){var w=Em();return w=w===null?null:{parent:jn._currentValue,pool:w},l.memoizedState={baseLanes:u,cachePool:w},a!==null&&Xd(l,null),bm(),u_(l),a!==null&&ec(a,l,p,!0),l.childLanes=E,null}function ph(a,l){return l=gh({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function lE(a,l,u){return Xo(l,a.child,null,u),a=ph(l,l.pendingProps),a.flags|=2,_i(l),l.memoizedState=null,a}function V4(a,l,u){var p=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Ot){if(p.mode==="hidden")return a=ph(l,p),l.lanes=536870912,Vu(null,a);if(Im(l),(a=vn)?(a=_T(a,Oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:Cs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},u=qy(a),u.return=l,l.child=u,vr=l,vn=null)):a=null,a===null)throw La(l);return l.lanes=536870912,null}return ph(l,p)}var w=a.memoizedState;if(w!==null){var P=w.dehydrated;if(Im(l),E)if(l.flags&256)l.flags&=-257,l=lE(a,l,u);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if($n||ec(a,l,u,!1),E=(u&a.childLanes)!==0,$n||E){if(p=pn,p!==null&&(P=Ze(p,u),P!==0&&P!==w.retryLane))throw w.retryLane=P,jo(a,P),ci(p,a,P),Wm;Ah(),l=lE(a,l,u)}else a=w.treeContext,vn=Ui(P.nextSibling),vr=l,Ot=!0,Oa=null,Oi=!1,a!==null&&Yy(l,a),l=ph(l,p),l.flags|=4096;return l}return a=$s(a.child,{mode:p.mode,children:p.children}),a.ref=l.ref,l.child=a,a.return=l,a}function mh(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function Zm(a,l,u,p,E){return Yo(l),u=km(a,l,u,p,void 0,E),p=Dm(),a!==null&&!$n?(Mm(a,l,E),Xs(a,l,E)):(Ot&&p&&dm(l),l.flags|=1,yr(a,l,u,E),l.child)}function cE(a,l,u,p,E,w){return Yo(l),l.updateQueue=null,u=d_(l,p,u,E),f_(a),p=Dm(),a!==null&&!$n?(Mm(a,l,w),Xs(a,l,w)):(Ot&&p&&dm(l),l.flags|=1,yr(a,l,u,w),l.child)}function uE(a,l,u,p,E){if(Yo(l),l.stateNode===null){var w=Wl,P=u.contextType;typeof P=="object"&&P!==null&&(w=xr(P)),w=new u(p,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ym,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=p,w.state=l.memoizedState,w.refs={},wm(l),P=u.contextType,w.context=typeof P=="object"&&P!==null?xr(P):Wl,w.state=l.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Km(l,u,P,p),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(P=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),P!==w.state&&Ym.enqueueReplaceState(w,w.state,null),Pu(l,p,w,E),Mu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){w=l.stateNode;var j=l.memoizedProps,oe=el(u,j);w.props=oe;var Ee=w.context,Re=u.contextType;P=Wl,typeof Re=="object"&&Re!==null&&(P=xr(Re));var Pe=u.getDerivedStateFromProps;Re=typeof Pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",j=l.pendingProps!==j,Re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j||Ee!==P)&&W_(l,w,p,P),Va=!1;var Se=l.memoizedState;w.state=Se,Pu(l,p,w,E),Mu(),Ee=l.memoizedState,j||Se!==Ee||Va?(typeof Pe=="function"&&(Km(l,u,Pe,p),Ee=l.memoizedState),(oe=Va||J_(l,u,oe,p,Se,Ee,P))?(Re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Ee),w.props=p,w.state=Ee,w.context=P,p=oe):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{w=l.stateNode,Sm(a,l),P=l.memoizedProps,Re=el(u,P),w.props=Re,Pe=l.pendingProps,Se=w.context,Ee=u.contextType,oe=Wl,typeof Ee=="object"&&Ee!==null&&(oe=xr(Ee)),j=u.getDerivedStateFromProps,(Ee=typeof j=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==Pe||Se!==oe)&&W_(l,w,p,oe),Va=!1,Se=l.memoizedState,w.state=Se,Pu(l,p,w,E),Mu();var Ne=l.memoizedState;P!==Pe||Se!==Ne||Va||a!==null&&a.dependencies!==null&&Wd(a.dependencies)?(typeof j=="function"&&(Km(l,u,j,p),Ne=l.memoizedState),(Re=Va||J_(l,u,Re,p,Se,Ne,oe)||a!==null&&a.dependencies!==null&&Wd(a.dependencies))?(Ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,Ne,oe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,Ne,oe)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&Se===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&Se===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Ne),w.props=p,w.state=Ne,w.context=oe,p=Re):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&Se===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&Se===a.memoizedState||(l.flags|=1024),p=!1)}return w=p,mh(a,l),p=(l.flags&128)!==0,w||p?(w=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&p?(l.child=Xo(l,a.child,null,E),l.child=Xo(l,null,u,E)):yr(a,l,u,E),l.memoizedState=w.state,a=l.child):a=Xs(a,l,E),a}function fE(a,l,u,p){return $o(),l.flags|=256,yr(a,l,u,p),l.child}var Xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(a){return{baseLanes:a,cachePool:e_()}}function eg(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=Ti),a}function dE(a,l,u){var p=l.pendingProps,E=!1,w=(l.flags&128)!==0,P;if((P=w)||(P=a!==null&&a.memoizedState===null?!1:(On.current&2)!==0),P&&(E=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ot){if(E?Ha(l):Ga(),(a=vn)?(a=_T(a,Oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:Cs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},u=qy(a),u.return=l,l.child=u,vr=l,vn=null)):a=null,a===null)throw La(l);return Og(a)?l.lanes=32:l.lanes=536870912,null}var j=p.children;return p=p.fallback,E?(Ga(),E=l.mode,j=gh({mode:"hidden",children:j},E),p=qo(p,E,u,null),j.return=l,p.return=l,j.sibling=p,l.child=j,p=l.child,p.memoizedState=Qm(u),p.childLanes=eg(a,P,u),l.memoizedState=Xm,Vu(null,p)):(Ha(l),tg(l,j))}var oe=a.memoizedState;if(oe!==null&&(j=oe.dehydrated,j!==null)){if(w)l.flags&256?(Ha(l),l.flags&=-257,l=ng(a,l,u)):l.memoizedState!==null?(Ga(),l.child=a.child,l.flags|=128,l=null):(Ga(),j=p.fallback,E=l.mode,p=gh({mode:"visible",children:p.children},E),j=qo(j,E,u,null),j.flags|=2,p.return=l,j.return=l,p.sibling=j,l.child=p,Xo(l,a.child,null,u),p=l.child,p.memoizedState=Qm(u),p.childLanes=eg(a,P,u),l.memoizedState=Xm,l=Vu(null,p));else if(Ha(l),Og(j)){if(P=j.nextSibling&&j.nextSibling.dataset,P)var Ee=P.dgst;P=Ee,p=Error(r(419)),p.stack="",p.digest=P,bu({value:p,source:null,stack:null}),l=ng(a,l,u)}else if($n||ec(a,l,u,!1),P=(u&a.childLanes)!==0,$n||P){if(P=pn,P!==null&&(p=Ze(P,u),p!==0&&p!==oe.retryLane))throw oe.retryLane=p,jo(a,p),ci(P,a,p),Wm;Fg(j)||Ah(),l=ng(a,l,u)}else Fg(j)?(l.flags|=192,l.child=a.child,l=null):(a=oe.treeContext,vn=Ui(j.nextSibling),vr=l,Ot=!0,Oa=null,Oi=!1,a!==null&&Yy(l,a),l=tg(l,p.children),l.flags|=4096);return l}return E?(Ga(),j=p.fallback,E=l.mode,oe=a.child,Ee=oe.sibling,p=$s(oe,{mode:"hidden",children:p.children}),p.subtreeFlags=oe.subtreeFlags&65011712,Ee!==null?j=$s(Ee,j):(j=qo(j,E,u,null),j.flags|=2),j.return=l,p.return=l,p.sibling=j,l.child=p,Vu(null,p),p=l.child,j=a.child.memoizedState,j===null?j=Qm(u):(E=j.cachePool,E!==null?(oe=jn._currentValue,E=E.parent!==oe?{parent:oe,pool:oe}:E):E=e_(),j={baseLanes:j.baseLanes|u,cachePool:E}),p.memoizedState=j,p.childLanes=eg(a,P,u),l.memoizedState=Xm,Vu(a.child,p)):(Ha(l),u=a.child,a=u.sibling,u=$s(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,a!==null&&(P=l.deletions,P===null?(l.deletions=[a],l.flags|=16):P.push(a)),l.child=u,l.memoizedState=null,u)}function tg(a,l){return l=gh({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function gh(a,l){return a=xi(22,a,null,l),a.lanes=0,a}function ng(a,l,u){return Xo(l,a.child,null,u),a=tg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function hE(a,l,u){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),vm(a.return,l,u)}function rg(a,l,u,p,E,w){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:E,treeForkCount:w}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=u,P.tailMode=E,P.treeForkCount=w)}function pE(a,l,u){var p=l.pendingProps,E=p.revealOrder,w=p.tail;p=p.children;var P=On.current,j=(P&2)!==0;if(j?(P=P&1|2,l.flags|=128):P&=1,Q(On,P),yr(a,l,p,u),p=Ot?Cu:0,!j&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&hE(a,u,l);else if(a.tag===19)hE(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(u=l.child,E=null;u!==null;)a=u.alternate,a!==null&&ih(a)===null&&(E=u),u=u.sibling;u=E,u===null?(E=l.child,l.child=null):(E=u.sibling,u.sibling=null),rg(l,!1,E,u,w,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,E=l.child,l.child=null;E!==null;){if(a=E.alternate,a!==null&&ih(a)===null){l.child=E;break}a=E.sibling,E.sibling=u,u=E,E=a}rg(l,!0,u,null,w,p);break;case"together":rg(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Xs(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),$a|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(ec(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,u=$s(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=$s(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function ig(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Wd(a)))}function B4(a,l,u){switch(l.tag){case 3:Ie(l,l.stateNode.containerInfo),Ua(l,jn,a.memoizedState.cache),$o();break;case 27:case 5:De(l);break;case 4:Ie(l,l.stateNode.containerInfo);break;case 10:Ua(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Im(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ha(l),l.flags|=128,null):(u&l.child.childLanes)!==0?dE(a,l,u):(Ha(l),a=Xs(a,l,u),a!==null?a.sibling:null);Ha(l);break;case 19:var E=(a.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(ec(a,l,u,!1),p=(u&l.childLanes)!==0),E){if(p)return pE(a,l,u);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Q(On,On.current),p)break;return null;case 22:return l.lanes=0,aE(a,l,u,l.pendingProps);case 24:Ua(l,jn,a.memoizedState.cache)}return Xs(a,l,u)}function mE(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)$n=!0;else{if(!ig(a,u)&&(l.flags&128)===0)return $n=!1,B4(a,l,u);$n=(a.flags&131072)!==0}else $n=!1,Ot&&(l.flags&1048576)!==0&&Ky(l,Cu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(a=Wo(l.elementType),l.type=a,typeof a=="function")cm(a)?(p=el(a,p),l.tag=1,l=uE(null,l,a,p,u)):(l.tag=0,l=Zm(null,l,a,p,u));else{if(a!=null){var E=a.$$typeof;if(E===H){l.tag=11,l=rE(null,l,a,p,u);break e}else if(E===I){l.tag=14,l=iE(null,l,a,p,u);break e}}throw l=ue(a)||a,Error(r(306,l,""))}}return l;case 0:return Zm(a,l,l.type,l.pendingProps,u);case 1:return p=l.type,E=el(p,l.pendingProps),uE(a,l,p,E,u);case 3:e:{if(Ie(l,l.stateNode.containerInfo),a===null)throw Error(r(387));p=l.pendingProps;var w=l.memoizedState;E=w.element,Sm(a,l),Pu(l,p,null,u);var P=l.memoizedState;if(p=P.cache,Ua(l,jn,p),p!==w.cache&&xm(l,[jn],u,!0),Mu(),p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=fE(a,l,p,u);break e}else if(p!==E){E=Mi(Error(r(424)),l),bu(E),l=fE(a,l,p,u);break e}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,vn=Ui(a.firstChild),vr=l,Ot=!0,Oa=null,Oi=!0,u=a_(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($o(),p===E){l=Xs(a,l,u);break e}yr(a,l,p,u)}l=l.child}return l;case 26:return mh(a,l),a===null?(u=CT(l.type,null,l.pendingProps,null))?l.memoizedState=u:Ot||(u=l.type,a=l.pendingProps,p=Dh(he.current).createElement(u),p[Y]=l,p[te]=a,_r(p,u,a),et(p),l.stateNode=p):l.memoizedState=CT(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return De(l),a===null&&Ot&&(p=l.stateNode=wT(l.type,l.pendingProps,he.current),vr=l,Oi=!0,E=vn,Za(l.type)?(Lg=E,vn=Ui(p.firstChild)):vn=E),yr(a,l,l.pendingProps.children,u),mh(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ot&&((E=p=vn)&&(p=g3(p,l.type,l.pendingProps,Oi),p!==null?(l.stateNode=p,vr=l,vn=Ui(p.firstChild),Oi=!1,E=!0):E=!1),E||La(l)),De(l),E=l.type,w=l.pendingProps,P=a!==null?a.memoizedProps:null,p=w.children,Dg(E,w)?p=null:P!==null&&Dg(E,P)&&(l.flags|=32),l.memoizedState!==null&&(E=km(a,l,k4,null,null,u),ef._currentValue=E),mh(a,l),yr(a,l,p,u),l.child;case 6:return a===null&&Ot&&((a=u=vn)&&(u=v3(u,l.pendingProps,Oi),u!==null?(l.stateNode=u,vr=l,vn=null,a=!0):a=!1),a||La(l)),null;case 13:return dE(a,l,u);case 4:return Ie(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Xo(l,null,p,u):yr(a,l,p,u),l.child;case 11:return rE(a,l,l.type,l.pendingProps,u);case 7:return yr(a,l,l.pendingProps,u),l.child;case 8:return yr(a,l,l.pendingProps.children,u),l.child;case 12:return yr(a,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,Ua(l,l.type,p.value),yr(a,l,p.children,u),l.child;case 9:return E=l.type._context,p=l.pendingProps.children,Yo(l),E=xr(E),p=p(E),l.flags|=1,yr(a,l,p,u),l.child;case 14:return iE(a,l,l.type,l.pendingProps,u);case 15:return sE(a,l,l.type,l.pendingProps,u);case 19:return pE(a,l,u);case 31:return V4(a,l,u);case 22:return aE(a,l,u,l.pendingProps);case 24:return Yo(l),p=xr(jn),a===null?(E=Em(),E===null&&(E=pn,w=ym(),E.pooledCache=w,w.refCount++,w!==null&&(E.pooledCacheLanes|=u),E=w),l.memoizedState={parent:p,cache:E},wm(l),Ua(l,jn,E)):((a.lanes&u)!==0&&(Sm(a,l),Pu(l,null,null,u),Mu()),E=a.memoizedState,w=l.memoizedState,E.parent!==p?(E={parent:p,cache:p},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),Ua(l,jn,p)):(p=w.cache,Ua(l,jn,p),p!==E.cache&&xm(l,[jn],u,!0))),yr(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Qs(a){a.flags|=4}function sg(a,l,u,p,E){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(HE())a.flags|=8192;else throw Zo=eh,Tm}else a.flags&=-16777217}function gE(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!kT(l))if(HE())a.flags|=8192;else throw Zo=eh,Tm}function vh(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Sa():536870912,a.lanes|=l,dc|=l)}function Bu(a,l){if(!Ot)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function xn(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(l)for(var E=a.child;E!==null;)u|=E.lanes|E.childLanes,p|=E.subtreeFlags&65011712,p|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)u|=E.lanes|E.childLanes,p|=E.subtreeFlags,p|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=p,a.childLanes=u,l}function z4(a,l,u){var p=l.pendingProps;switch(hm(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(l),null;case 1:return xn(l),null;case 3:return u=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Js(jn),be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Ql(l)?Qs(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mm())),xn(l),null;case 26:var E=l.type,w=l.memoizedState;return a===null?(Qs(l),w!==null?(xn(l),gE(l,w)):(xn(l),sg(l,E,null,p,u))):w?w!==a.memoizedState?(Qs(l),xn(l),gE(l,w)):(xn(l),l.flags&=-16777217):(a=a.memoizedProps,a!==p&&Qs(l),xn(l),sg(l,E,a,p,u)),null;case 27:if($e(l),u=he.current,E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return xn(l),null}a=W.current,Ql(l)?Jy(l):(a=wT(E,p,u),l.stateNode=a,Qs(l))}return xn(l),null;case 5:if($e(l),E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return xn(l),null}if(w=W.current,Ql(l))Jy(l);else{var P=Dh(he.current);switch(w){case 1:w=P.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:w=P.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":w=P.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":w=P.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":w=P.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?P.createElement(E,{is:p.is}):P.createElement(E)}}w[Y]=l,w[te]=p;e:for(P=l.child;P!==null;){if(P.tag===5||P.tag===6)w.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===l)break e;for(;P.sibling===null;){if(P.return===null||P.return===l)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}l.stateNode=w;e:switch(_r(w,E,p),E){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Qs(l)}}return xn(l),sg(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,u),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(a=he.current,Ql(l)){if(a=l.stateNode,u=l.memoizedProps,p=null,E=vr,E!==null)switch(E.tag){case 27:case 5:p=E.memoizedProps}a[Y]=l,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||dT(a.nodeValue,u)),a||La(l,!0)}else a=Dh(a).createTextNode(p),a[Y]=l,l.stateNode=a}return xn(l),null;case 31:if(u=l.memoizedState,a===null||a.memoizedState!==null){if(p=Ql(l),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Y]=l}else $o(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;xn(l),a=!1}else u=mm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return l.flags&256?(_i(l),l):(_i(l),null);if((l.flags&128)!==0)throw Error(r(558))}return xn(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=Ql(l),p!==null&&p.dehydrated!==null){if(a===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Y]=l}else $o(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;xn(l),E=!1}else E=mm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(_i(l),l):(_i(l),null)}return _i(l),(l.flags&128)!==0?(l.lanes=u,l):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=l.child,E=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(E=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==E&&(p.flags|=2048)),u!==a&&u&&(l.child.flags|=8192),vh(l,l.updateQueue),xn(l),null);case 4:return be(),a===null&&bg(l.stateNode.containerInfo),xn(l),null;case 10:return Js(l.type),xn(l),null;case 19:if(B(On),p=l.memoizedState,p===null)return xn(l),null;if(E=(l.flags&128)!==0,w=p.rendering,w===null)if(E)Bu(p,!1);else{if(Rn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=ih(a),w!==null){for(l.flags|=128,Bu(p,!1),a=w.updateQueue,l.updateQueue=a,vh(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)jy(u,a),u=u.sibling;return Q(On,On.current&1|2),Ot&&Ks(l,p.treeForkCount),l.child}a=a.sibling}p.tail!==null&&gt()>Th&&(l.flags|=128,E=!0,Bu(p,!1),l.lanes=4194304)}else{if(!E)if(a=ih(w),a!==null){if(l.flags|=128,E=!0,a=a.updateQueue,l.updateQueue=a,vh(l,a),Bu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ot)return xn(l),null}else 2*gt()-p.renderingStartTime>Th&&u!==536870912&&(l.flags|=128,E=!0,Bu(p,!1),l.lanes=4194304);p.isBackwards?(w.sibling=l.child,l.child=w):(a=p.last,a!==null?a.sibling=w:l.child=w,p.last=w)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=gt(),a.sibling=null,u=On.current,Q(On,E?u&1|2:u&1),Ot&&Ks(l,p.treeForkCount),a):(xn(l),null);case 22:case 23:return _i(l),Nm(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(xn(l),l.subtreeFlags&6&&(l.flags|=8192)):xn(l),u=l.updateQueue,u!==null&&vh(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),a!==null&&B(Jo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Js(jn),xn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function H4(a,l){switch(hm(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Js(jn),be(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return $e(l),null;case 31:if(l.memoizedState!==null){if(_i(l),l.alternate===null)throw Error(r(340));$o()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(_i(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));$o()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return B(On),null;case 4:return be(),null;case 10:return Js(l.type),null;case 22:case 23:return _i(l),Nm(),a!==null&&B(Jo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Js(jn),null;case 25:return null;default:return null}}function vE(a,l){switch(hm(l),l.tag){case 3:Js(jn),be();break;case 26:case 27:case 5:$e(l);break;case 4:be();break;case 31:l.memoizedState!==null&&_i(l);break;case 13:_i(l);break;case 19:B(On);break;case 10:Js(l.type);break;case 22:case 23:_i(l),Nm(),a!==null&&B(Jo);break;case 24:Js(jn)}}function zu(a,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var E=p.next;u=E;do{if((u.tag&a)===a){p=void 0;var w=u.create,P=u.inst;p=w(),P.destroy=p}u=u.next}while(u!==E)}}catch(j){rn(l,l.return,j)}}function ja(a,l,u){try{var p=l.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var w=E.next;p=w;do{if((p.tag&a)===a){var P=p.inst,j=P.destroy;if(j!==void 0){P.destroy=void 0,E=l;var oe=u,Ee=j;try{Ee()}catch(Re){rn(E,oe,Re)}}}p=p.next}while(p!==w)}}catch(Re){rn(l,l.return,Re)}}function xE(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{l_(l,u)}catch(p){rn(a,a.return,p)}}}function yE(a,l,u){u.props=el(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){rn(a,l,p)}}function Hu(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(E){rn(a,l,E)}}function Ns(a,l){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(E){rn(a,l,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(E){rn(a,l,E)}else u.current=null}function _E(a){var l=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(E){rn(a,a.return,E)}}function ag(a,l,u){try{var p=a.stateNode;u3(p,a.type,u,l),p[te]=l}catch(E){rn(a,a.return,E)}}function EE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Za(a.type)||a.tag===4}function og(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||EE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Za(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function lg(a,l,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=es));else if(p!==4&&(p===27&&Za(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(lg(a,l,u),a=a.sibling;a!==null;)lg(a,l,u),a=a.sibling}function xh(a,l,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(p!==4&&(p===27&&Za(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(xh(a,l,u),a=a.sibling;a!==null;)xh(a,l,u),a=a.sibling}function TE(a){var l=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);_r(l,p,u),l[Y]=a,l[te]=u}catch(w){rn(a,a.return,w)}}var ea=!1,Kn=!1,cg=!1,wE=typeof WeakSet=="function"?WeakSet:Set,lr=null;function G4(a,l){if(a=a.containerInfo,Rg=Vh,a=Fy(a),nm(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var E=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var P=0,j=-1,oe=-1,Ee=0,Re=0,Pe=a,Se=null;t:for(;;){for(var Ne;Pe!==u||E!==0&&Pe.nodeType!==3||(j=P+E),Pe!==w||p!==0&&Pe.nodeType!==3||(oe=P+p),Pe.nodeType===3&&(P+=Pe.nodeValue.length),(Ne=Pe.firstChild)!==null;)Se=Pe,Pe=Ne;for(;;){if(Pe===a)break t;if(Se===u&&++Ee===E&&(j=P),Se===w&&++Re===p&&(oe=P),(Ne=Pe.nextSibling)!==null)break;Pe=Se,Se=Pe.parentNode}Pe=Ne}u=j===-1||oe===-1?null:{start:j,end:oe}}else u=null}u=u||{start:0,end:0}}else u=null;for(kg={focusedElem:a,selectionRange:u},Vh=!1,lr=l;lr!==null;)if(l=lr,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,lr=a;else for(;lr!==null;){switch(l=lr,w=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)E=a[u],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=l,E=w.memoizedProps,w=w.memoizedState,p=u.stateNode;try{var Xe=el(u.type,E);a=p.getSnapshotBeforeUpdate(Xe,w),p.__reactInternalSnapshotBeforeUpdate=a}catch(dt){rn(u,u.return,dt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)Pg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Pg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,lr=a;break}lr=l.return}}function SE(a,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:na(a,u),p&4&&zu(5,u);break;case 1:if(na(a,u),p&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(P){rn(u,u.return,P)}else{var E=el(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(E,l,a.__reactInternalSnapshotBeforeUpdate)}catch(P){rn(u,u.return,P)}}p&64&&xE(u),p&512&&Hu(u,u.return);break;case 3:if(na(a,u),p&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{l_(a,l)}catch(P){rn(u,u.return,P)}}break;case 27:l===null&&p&4&&TE(u);case 26:case 5:na(a,u),l===null&&p&4&&_E(u),p&512&&Hu(u,u.return);break;case 12:na(a,u);break;case 31:na(a,u),p&4&&bE(a,u);break;case 13:na(a,u),p&4&&NE(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=X4.bind(null,u),x3(a,u))));break;case 22:if(p=u.memoizedState!==null||ea,!p){l=l!==null&&l.memoizedState!==null||Kn,E=ea;var w=Kn;ea=p,(Kn=l)&&!w?ra(a,u,(u.subtreeFlags&8772)!==0):na(a,u),ea=E,Kn=w}break;case 30:break;default:na(a,u)}}function AE(a){var l=a.alternate;l!==null&&(a.alternate=null,AE(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Ve(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Tn=null,si=!1;function ta(a,l,u){for(u=u.child;u!==null;)CE(a,l,u),u=u.sibling}function CE(a,l,u){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(bt,u)}catch{}switch(u.tag){case 26:Kn||Ns(u,l),ta(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Kn||Ns(u,l);var p=Tn,E=si;Za(u.type)&&(Tn=u.stateNode,si=!1),ta(a,l,u),Zu(u.stateNode),Tn=p,si=E;break;case 5:Kn||Ns(u,l);case 6:if(p=Tn,E=si,Tn=null,ta(a,l,u),Tn=p,si=E,Tn!==null)if(si)try{(Tn.nodeType===9?Tn.body:Tn.nodeName==="HTML"?Tn.ownerDocument.body:Tn).removeChild(u.stateNode)}catch(w){rn(u,l,w)}else try{Tn.removeChild(u.stateNode)}catch(w){rn(u,l,w)}break;case 18:Tn!==null&&(si?(a=Tn,xT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),_c(a)):xT(Tn,u.stateNode));break;case 4:p=Tn,E=si,Tn=u.stateNode.containerInfo,si=!0,ta(a,l,u),Tn=p,si=E;break;case 0:case 11:case 14:case 15:ja(2,u,l),Kn||ja(4,u,l),ta(a,l,u);break;case 1:Kn||(Ns(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&yE(u,l,p)),ta(a,l,u);break;case 21:ta(a,l,u);break;case 22:Kn=(p=Kn)||u.memoizedState!==null,ta(a,l,u),Kn=p;break;default:ta(a,l,u)}}function bE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{_c(a)}catch(u){rn(l,l.return,u)}}}function NE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{_c(a)}catch(u){rn(l,l.return,u)}}function j4(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new wE),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new wE),l;default:throw Error(r(435,a.tag))}}function yh(a,l){var u=j4(a);l.forEach(function(p){if(!u.has(p)){u.add(p);var E=Q4.bind(null,a,p);p.then(E,E)}})}function ai(a,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var E=u[p],w=a,P=l,j=P;e:for(;j!==null;){switch(j.tag){case 27:if(Za(j.type)){Tn=j.stateNode,si=!1;break e}break;case 5:Tn=j.stateNode,si=!1;break e;case 3:case 4:Tn=j.stateNode.containerInfo,si=!0;break e}j=j.return}if(Tn===null)throw Error(r(160));CE(w,P,E),Tn=null,si=!1,w=E.alternate,w!==null&&(w.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)IE(l,a),l=l.sibling}var as=null;function IE(a,l){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ai(l,a),oi(a),p&4&&(ja(3,a,a.return),zu(3,a),ja(5,a,a.return));break;case 1:ai(l,a),oi(a),p&512&&(Kn||u===null||Ns(u,u.return)),p&64&&ea&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var E=as;if(ai(l,a),oi(a),p&512&&(Kn||u===null||Ns(u,u.return)),p&4){var w=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,E=E.ownerDocument||E;t:switch(p){case"title":w=E.getElementsByTagName("title")[0],(!w||w[we]||w[Y]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=E.createElement(p),E.head.insertBefore(w,E.querySelector("head > title"))),_r(w,p,u),w[Y]=a,et(w),p=w;break e;case"link":var P=IT("link","href",E).get(p+(u.href||""));if(P){for(var j=0;j<P.length;j++)if(w=P[j],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(j,1);break t}}w=E.createElement(p),_r(w,p,u),E.head.appendChild(w);break;case"meta":if(P=IT("meta","content",E).get(p+(u.content||""))){for(j=0;j<P.length;j++)if(w=P[j],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(j,1);break t}}w=E.createElement(p),_r(w,p,u),E.head.appendChild(w);break;default:throw Error(r(468,p))}w[Y]=a,et(w),p=w}a.stateNode=p}else RT(E,a.type,a.stateNode);else a.stateNode=NT(E,p,a.memoizedProps);else w!==p?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,p===null?RT(E,a.type,a.stateNode):NT(E,p,a.memoizedProps)):p===null&&a.stateNode!==null&&ag(a,a.memoizedProps,u.memoizedProps)}break;case 27:ai(l,a),oi(a),p&512&&(Kn||u===null||Ns(u,u.return)),u!==null&&p&4&&ag(a,a.memoizedProps,u.memoizedProps);break;case 5:if(ai(l,a),oi(a),p&512&&(Kn||u===null||Ns(u,u.return)),a.flags&32){E=a.stateNode;try{ii(E,"")}catch(Xe){rn(a,a.return,Xe)}}p&4&&a.stateNode!=null&&(E=a.memoizedProps,ag(a,E,u!==null?u.memoizedProps:E)),p&1024&&(cg=!0);break;case 6:if(ai(l,a),oi(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Xe){rn(a,a.return,Xe)}}break;case 3:if(Fh=null,E=as,as=Mh(l.containerInfo),ai(l,a),as=E,oi(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{_c(l.containerInfo)}catch(Xe){rn(a,a.return,Xe)}cg&&(cg=!1,RE(a));break;case 4:p=as,as=Mh(a.stateNode.containerInfo),ai(l,a),oi(a),as=p;break;case 12:ai(l,a),oi(a);break;case 31:ai(l,a),oi(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,yh(a,p)));break;case 13:ai(l,a),oi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Eh=gt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,yh(a,p)));break;case 22:E=a.memoizedState!==null;var oe=u!==null&&u.memoizedState!==null,Ee=ea,Re=Kn;if(ea=Ee||E,Kn=Re||oe,ai(l,a),Kn=Re,ea=Ee,oi(a),p&8192)e:for(l=a.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(u===null||oe||ea||Kn||tl(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){oe=u=l;try{if(w=oe.stateNode,E)P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{j=oe.stateNode;var Pe=oe.memoizedProps.style,Se=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;j.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Xe){rn(oe,oe.return,Xe)}}}else if(l.tag===6){if(u===null){oe=l;try{oe.stateNode.nodeValue=E?"":oe.memoizedProps}catch(Xe){rn(oe,oe.return,Xe)}}}else if(l.tag===18){if(u===null){oe=l;try{var Ne=oe.stateNode;E?yT(Ne,!0):yT(oe.stateNode,!1)}catch(Xe){rn(oe,oe.return,Xe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,yh(a,u))));break;case 19:ai(l,a),oi(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,yh(a,p)));break;case 30:break;case 21:break;default:ai(l,a),oi(a)}}function oi(a){var l=a.flags;if(l&2){try{for(var u,p=a.return;p!==null;){if(EE(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var E=u.stateNode,w=og(a);xh(a,w,E);break;case 5:var P=u.stateNode;u.flags&32&&(ii(P,""),u.flags&=-33);var j=og(a);xh(a,j,P);break;case 3:case 4:var oe=u.stateNode.containerInfo,Ee=og(a);lg(a,Ee,oe);break;default:throw Error(r(161))}}catch(Re){rn(a,a.return,Re)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function RE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;RE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function na(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)SE(a,l.alternate,l),l=l.sibling}function tl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:ja(4,l,l.return),tl(l);break;case 1:Ns(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&yE(l,l.return,u),tl(l);break;case 27:Zu(l.stateNode);case 26:case 5:Ns(l,l.return),tl(l);break;case 22:l.memoizedState===null&&tl(l);break;case 30:tl(l);break;default:tl(l)}a=a.sibling}}function ra(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,E=a,w=l,P=w.flags;switch(w.tag){case 0:case 11:case 15:ra(E,w,u),zu(4,w);break;case 1:if(ra(E,w,u),p=w,E=p.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Ee){rn(p,p.return,Ee)}if(p=w,E=p.updateQueue,E!==null){var j=p.stateNode;try{var oe=E.shared.hiddenCallbacks;if(oe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<oe.length;E++)o_(oe[E],j)}catch(Ee){rn(p,p.return,Ee)}}u&&P&64&&xE(w),Hu(w,w.return);break;case 27:TE(w);case 26:case 5:ra(E,w,u),u&&p===null&&P&4&&_E(w),Hu(w,w.return);break;case 12:ra(E,w,u);break;case 31:ra(E,w,u),u&&P&4&&bE(E,w);break;case 13:ra(E,w,u),u&&P&4&&NE(E,w);break;case 22:w.memoizedState===null&&ra(E,w,u),Hu(w,w.return);break;case 30:break;default:ra(E,w,u)}l=l.sibling}}function ug(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Nu(u))}function fg(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Nu(a))}function os(a,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)kE(a,l,u,p),l=l.sibling}function kE(a,l,u,p){var E=l.flags;switch(l.tag){case 0:case 11:case 15:os(a,l,u,p),E&2048&&zu(9,l);break;case 1:os(a,l,u,p);break;case 3:os(a,l,u,p),E&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Nu(a)));break;case 12:if(E&2048){os(a,l,u,p),a=l.stateNode;try{var w=l.memoizedProps,P=w.id,j=w.onPostCommit;typeof j=="function"&&j(P,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(oe){rn(l,l.return,oe)}}else os(a,l,u,p);break;case 31:os(a,l,u,p);break;case 13:os(a,l,u,p);break;case 23:break;case 22:w=l.stateNode,P=l.alternate,l.memoizedState!==null?w._visibility&2?os(a,l,u,p):Gu(a,l):w._visibility&2?os(a,l,u,p):(w._visibility|=2,cc(a,l,u,p,(l.subtreeFlags&10256)!==0||!1)),E&2048&&ug(P,l);break;case 24:os(a,l,u,p),E&2048&&fg(l.alternate,l);break;default:os(a,l,u,p)}}function cc(a,l,u,p,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=a,P=l,j=u,oe=p,Ee=P.flags;switch(P.tag){case 0:case 11:case 15:cc(w,P,j,oe,E),zu(8,P);break;case 23:break;case 22:var Re=P.stateNode;P.memoizedState!==null?Re._visibility&2?cc(w,P,j,oe,E):Gu(w,P):(Re._visibility|=2,cc(w,P,j,oe,E)),E&&Ee&2048&&ug(P.alternate,P);break;case 24:cc(w,P,j,oe,E),E&&Ee&2048&&fg(P.alternate,P);break;default:cc(w,P,j,oe,E)}l=l.sibling}}function Gu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,p=l,E=p.flags;switch(p.tag){case 22:Gu(u,p),E&2048&&ug(p.alternate,p);break;case 24:Gu(u,p),E&2048&&fg(p.alternate,p);break;default:Gu(u,p)}l=l.sibling}}var ju=8192;function uc(a,l,u){if(a.subtreeFlags&ju)for(a=a.child;a!==null;)DE(a,l,u),a=a.sibling}function DE(a,l,u){switch(a.tag){case 26:uc(a,l,u),a.flags&ju&&a.memoizedState!==null&&R3(u,as,a.memoizedState,a.memoizedProps);break;case 5:uc(a,l,u);break;case 3:case 4:var p=as;as=Mh(a.stateNode.containerInfo),uc(a,l,u),as=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=ju,ju=16777216,uc(a,l,u),ju=p):uc(a,l,u));break;default:uc(a,l,u)}}function ME(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function qu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];lr=p,FE(p,a)}ME(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PE(a),a=a.sibling}function PE(a){switch(a.tag){case 0:case 11:case 15:qu(a),a.flags&2048&&ja(9,a,a.return);break;case 3:qu(a);break;case 12:qu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,_h(a)):qu(a);break;default:qu(a)}}function _h(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];lr=p,FE(p,a)}ME(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:ja(8,l,l.return),_h(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,_h(l));break;default:_h(l)}a=a.sibling}}function FE(a,l){for(;lr!==null;){var u=lr;switch(u.tag){case 0:case 11:case 15:ja(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Nu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,lr=p;else e:for(u=a;lr!==null;){p=lr;var E=p.sibling,w=p.return;if(AE(p),p===u){lr=null;break e}if(E!==null){E.return=w,lr=E;break e}lr=w}}}var q4={getCacheForType:function(a){var l=xr(jn),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u},cacheSignal:function(){return xr(jn).controller.signal}},$4=typeof WeakMap=="function"?WeakMap:Map,Wt=0,pn=null,Nt=null,kt=0,nn=0,Ei=null,qa=!1,fc=!1,dg=!1,ia=0,Rn=0,$a=0,nl=0,hg=0,Ti=0,dc=0,$u=null,li=null,pg=!1,Eh=0,OE=0,Th=1/0,wh=null,Ka=null,er=0,Ya=null,hc=null,sa=0,mg=0,gg=null,LE=null,Ku=0,vg=null;function wi(){return(Wt&2)!==0&&kt!==0?kt&-kt:ae.T!==null?wg():z()}function UE(){if(Ti===0)if((kt&536870912)===0||Ot){var a=Zi;Zi<<=1,(Zi&3932160)===0&&(Zi=262144),Ti=a}else Ti=536870912;return a=yi.current,a!==null&&(a.flags|=32),Ti}function ci(a,l,u){(a===pn&&(nn===2||nn===9)||a.cancelPendingCommit!==null)&&(pc(a,0),Ja(a,kt,Ti,!1)),Qn(a,u),((Wt&2)===0||a!==pn)&&(a===pn&&((Wt&2)===0&&(nl|=u),Rn===4&&Ja(a,kt,Ti,!1)),Is(a))}function VE(a,l,u){if((Wt&6)!==0)throw Error(r(327));var p=!u&&(l&127)===0&&(l&a.expiredLanes)===0||jr(a,l),E=p?J4(a,l):yg(a,l,!0),w=p;do{if(E===0){fc&&!p&&Ja(a,l,0,!1);break}else{if(u=a.current.alternate,w&&!K4(u)){E=yg(a,l,!1),w=!1;continue}if(E===2){if(w=l,a.errorRecoveryDisabledLanes&w)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var j=a;E=$u;var oe=j.current.memoizedState.isDehydrated;if(oe&&(pc(j,P).flags|=256),P=yg(j,P,!1),P!==2){if(dg&&!oe){j.errorRecoveryDisabledLanes|=w,nl|=w,E=4;break e}w=li,li=E,w!==null&&(li===null?li=w:li.push.apply(li,w))}E=P}if(w=!1,E!==2)continue}}if(E===1){pc(a,0),Ja(a,l,0,!0);break}e:{switch(p=a,w=E,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ja(p,l,Ti,!qa);break e;case 2:li=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=Eh+300-gt(),10<E)){if(Ja(p,l,Ti,!qa),ti(p,0,!0)!==0)break e;sa=l,p.timeoutHandle=gT(BE.bind(null,p,u,li,wh,pg,l,Ti,nl,dc,qa,w,"Throttled",-0,0),E);break e}BE(p,u,li,wh,pg,l,Ti,nl,dc,qa,w,null,-0,0)}}break}while(!0);Is(a)}function BE(a,l,u,p,E,w,P,j,oe,Ee,Re,Pe,Se,Ne){if(a.timeoutHandle=-1,Pe=l.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:es},DE(l,w,Pe);var Xe=(w&62914560)===w?Eh-gt():(w&4194048)===w?OE-gt():0;if(Xe=k3(Pe,Xe),Xe!==null){sa=w,a.cancelPendingCommit=Xe(YE.bind(null,a,l,w,u,p,E,P,j,oe,Re,Pe,null,Se,Ne)),Ja(a,w,P,!Ee);return}}YE(a,l,w,u,p,E,P,j,oe)}function K4(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var E=u[p],w=E.getSnapshot;E=E.value;try{if(!vi(w(),E))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ja(a,l,u,p){l&=~hg,l&=~nl,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var E=l;0<E;){var w=31-gn(E),P=1<<w;p[w]=-1,E&=~P}u!==0&&ni(a,u,l)}function Sh(){return(Wt&6)===0?(Yu(0),!1):!0}function xg(){if(Nt!==null){if(nn===0)var a=Nt.return;else a=Nt,Ys=Ko=null,Pm(a),ic=null,Ru=0,a=Nt;for(;a!==null;)vE(a.alternate,a),a=a.return;Nt=null}}function pc(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,h3(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),sa=0,xg(),pn=a,Nt=u=$s(a.current,null),kt=l,nn=0,Ei=null,qa=!1,fc=jr(a,l),dg=!1,dc=Ti=hg=nl=$a=Rn=0,li=$u=null,pg=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var E=31-gn(p),w=1<<E;l|=a[E],p&=~w}return ia=l,qd(),u}function zE(a,l){wt=null,ae.H=Uu,l===rc||l===Qd?(l=r_(),nn=3):l===Tm?(l=r_(),nn=4):nn=l===Wm?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ei=l,Nt===null&&(Rn=1,hh(a,Mi(l,a.current)))}function HE(){var a=yi.current;return a===null?!0:(kt&4194048)===kt?Li===null:(kt&62914560)===kt||(kt&536870912)!==0?a===Li:!1}function GE(){var a=ae.H;return ae.H=Uu,a===null?Uu:a}function jE(){var a=ae.A;return ae.A=q4,a}function Ah(){Rn=4,qa||(kt&4194048)!==kt&&yi.current!==null||(fc=!0),($a&134217727)===0&&(nl&134217727)===0||pn===null||Ja(pn,kt,Ti,!1)}function yg(a,l,u){var p=Wt;Wt|=2;var E=GE(),w=jE();(pn!==a||kt!==l)&&(wh=null,pc(a,l)),l=!1;var P=Rn;e:do try{if(nn!==0&&Nt!==null){var j=Nt,oe=Ei;switch(nn){case 8:xg(),P=6;break e;case 3:case 2:case 9:case 6:yi.current===null&&(l=!0);var Ee=nn;if(nn=0,Ei=null,mc(a,j,oe,Ee),u&&fc){P=0;break e}break;default:Ee=nn,nn=0,Ei=null,mc(a,j,oe,Ee)}}Y4(),P=Rn;break}catch(Re){zE(a,Re)}while(!0);return l&&a.shellSuspendCounter++,Ys=Ko=null,Wt=p,ae.H=E,ae.A=w,Nt===null&&(pn=null,kt=0,qd()),P}function Y4(){for(;Nt!==null;)qE(Nt)}function J4(a,l){var u=Wt;Wt|=2;var p=GE(),E=jE();pn!==a||kt!==l?(wh=null,Th=gt()+500,pc(a,l)):fc=jr(a,l);e:do try{if(nn!==0&&Nt!==null){l=Nt;var w=Ei;t:switch(nn){case 1:nn=0,Ei=null,mc(a,l,w,1);break;case 2:case 9:if(t_(w)){nn=0,Ei=null,$E(l);break}l=function(){nn!==2&&nn!==9||pn!==a||(nn=7),Is(a)},w.then(l,l);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:t_(w)?(nn=0,Ei=null,$E(l)):(nn=0,Ei=null,mc(a,l,w,7));break;case 5:var P=null;switch(Nt.tag){case 26:P=Nt.memoizedState;case 5:case 27:var j=Nt;if(P?kT(P):j.stateNode.complete){nn=0,Ei=null;var oe=j.sibling;if(oe!==null)Nt=oe;else{var Ee=j.return;Ee!==null?(Nt=Ee,Ch(Ee)):Nt=null}break t}}nn=0,Ei=null,mc(a,l,w,5);break;case 6:nn=0,Ei=null,mc(a,l,w,6);break;case 8:xg(),Rn=6;break e;default:throw Error(r(462))}}W4();break}catch(Re){zE(a,Re)}while(!0);return Ys=Ko=null,ae.H=p,ae.A=E,Wt=u,Nt!==null?0:(pn=null,kt=0,qd(),Rn)}function W4(){for(;Nt!==null&&!An();)qE(Nt)}function qE(a){var l=mE(a.alternate,a,ia);a.memoizedProps=a.pendingProps,l===null?Ch(a):Nt=l}function $E(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=cE(u,l,l.pendingProps,l.type,void 0,kt);break;case 11:l=cE(u,l,l.pendingProps,l.type.render,l.ref,kt);break;case 5:Pm(l);default:vE(u,l),l=Nt=jy(l,ia),l=mE(u,l,ia)}a.memoizedProps=a.pendingProps,l===null?Ch(a):Nt=l}function mc(a,l,u,p){Ys=Ko=null,Pm(l),ic=null,Ru=0;var E=l.return;try{if(U4(a,E,l,u,kt)){Rn=1,hh(a,Mi(u,a.current)),Nt=null;return}}catch(w){if(E!==null)throw Nt=E,w;Rn=1,hh(a,Mi(u,a.current)),Nt=null;return}l.flags&32768?(Ot||p===1?a=!0:fc||(kt&536870912)!==0?a=!1:(qa=a=!0,(p===2||p===9||p===3||p===6)&&(p=yi.current,p!==null&&p.tag===13&&(p.flags|=16384))),KE(l,a)):Ch(l)}function Ch(a){var l=a;do{if((l.flags&32768)!==0){KE(l,qa);return}a=l.return;var u=z4(l.alternate,l,ia);if(u!==null){Nt=u;return}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=a}while(l!==null);Rn===0&&(Rn=5)}function KE(a,l){do{var u=H4(a.alternate,a);if(u!==null){u.flags&=32767,Nt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){Nt=a;return}Nt=a=u}while(a!==null);Rn=6,Nt=null}function YE(a,l,u,p,E,w,P,j,oe){a.cancelPendingCommit=null;do bh();while(er!==0);if((Wt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=om,jt(a,u,w,P,j,oe),a===pn&&(Nt=pn=null,kt=0),hc=l,Ya=a,sa=u,mg=w,gg=E,LE=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,e3(Rt,function(){return QE(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=ae.T,ae.T=null,E=ee.p,ee.p=2,P=Wt,Wt|=4;try{G4(a,l,u)}finally{Wt=P,ee.p=E,ae.T=p}}er=1,JE(),WE(),ZE()}}function JE(){if(er===1){er=0;var a=Ya,l=hc,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null;var p=ee.p;ee.p=2;var E=Wt;Wt|=4;try{IE(l,a);var w=kg,P=Fy(a.containerInfo),j=w.focusedElem,oe=w.selectionRange;if(P!==j&&j&&j.ownerDocument&&Py(j.ownerDocument.documentElement,j)){if(oe!==null&&nm(j)){var Ee=oe.start,Re=oe.end;if(Re===void 0&&(Re=Ee),"selectionStart"in j)j.selectionStart=Ee,j.selectionEnd=Math.min(Re,j.value.length);else{var Pe=j.ownerDocument||document,Se=Pe&&Pe.defaultView||window;if(Se.getSelection){var Ne=Se.getSelection(),Xe=j.textContent.length,dt=Math.min(oe.start,Xe),cn=oe.end===void 0?dt:Math.min(oe.end,Xe);!Ne.extend&&dt>cn&&(P=cn,cn=dt,dt=P);var me=My(j,dt),ce=My(j,cn);if(me&&ce&&(Ne.rangeCount!==1||Ne.anchorNode!==me.node||Ne.anchorOffset!==me.offset||Ne.focusNode!==ce.node||Ne.focusOffset!==ce.offset)){var _e=Pe.createRange();_e.setStart(me.node,me.offset),Ne.removeAllRanges(),dt>cn?(Ne.addRange(_e),Ne.extend(ce.node,ce.offset)):(_e.setEnd(ce.node,ce.offset),Ne.addRange(_e))}}}}for(Pe=[],Ne=j;Ne=Ne.parentNode;)Ne.nodeType===1&&Pe.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Pe.length;j++){var Me=Pe[j];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}Vh=!!Rg,kg=Rg=null}finally{Wt=E,ee.p=p,ae.T=u}}a.current=l,er=2}}function WE(){if(er===2){er=0;var a=Ya,l=hc,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=ae.T,ae.T=null;var p=ee.p;ee.p=2;var E=Wt;Wt|=4;try{SE(a,l.alternate,l)}finally{Wt=E,ee.p=p,ae.T=u}}er=3}}function ZE(){if(er===4||er===3){er=0,Hn();var a=Ya,l=hc,u=sa,p=LE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?er=5:(er=0,hc=Ya=null,XE(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(Ka=null),ct(u),l=l.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(bt,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=ae.T,E=ee.p,ee.p=2,ae.T=null;try{for(var w=a.onRecoverableError,P=0;P<p.length;P++){var j=p[P];w(j.value,{componentStack:j.stack})}}finally{ae.T=l,ee.p=E}}(sa&3)!==0&&bh(),Is(a),E=a.pendingLanes,(u&261930)!==0&&(E&42)!==0?a===vg?Ku++:(Ku=0,vg=a):Ku=0,Yu(0)}}function XE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Nu(l)))}function bh(){return JE(),WE(),ZE(),QE()}function QE(){if(er!==5)return!1;var a=Ya,l=mg;mg=0;var u=ct(sa),p=ae.T,E=ee.p;try{ee.p=32>u?32:u,ae.T=null,u=gg,gg=null;var w=Ya,P=sa;if(er=0,hc=Ya=null,sa=0,(Wt&6)!==0)throw Error(r(331));var j=Wt;if(Wt|=4,PE(w.current),kE(w,w.current,P,u),Wt=j,Yu(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(bt,w)}catch{}return!0}finally{ee.p=E,ae.T=p,XE(a,l)}}function eT(a,l,u){l=Mi(u,l),l=Jm(a.stateNode,l,2),a=za(a,l,2),a!==null&&(Qn(a,2),Is(a))}function rn(a,l,u){if(a.tag===3)eT(a,a,u);else for(;l!==null;){if(l.tag===3){eT(l,a,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ka===null||!Ka.has(p))){a=Mi(u,a),u=tE(2),p=za(l,u,2),p!==null&&(nE(u,p,l,a),Qn(p,2),Is(p));break}}l=l.return}}function _g(a,l,u){var p=a.pingCache;if(p===null){p=a.pingCache=new $4;var E=new Set;p.set(l,E)}else E=p.get(l),E===void 0&&(E=new Set,p.set(l,E));E.has(u)||(dg=!0,E.add(u),a=Z4.bind(null,a,l,u),l.then(a,a))}function Z4(a,l,u){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,pn===a&&(kt&u)===u&&(Rn===4||Rn===3&&(kt&62914560)===kt&&300>gt()-Eh?(Wt&2)===0&&pc(a,0):hg|=u,dc===kt&&(dc=0)),Is(a)}function tT(a,l){l===0&&(l=Sa()),a=jo(a,l),a!==null&&(Qn(a,l),Is(a))}function X4(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),tT(a,u)}function Q4(a,l){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,E=a.memoizedState;E!==null&&(u=E.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),tT(a,u)}function e3(a,l){return ft(a,l)}var Nh=null,gc=null,Eg=!1,Ih=!1,Tg=!1,Wa=0;function Is(a){a!==gc&&a.next===null&&(gc===null?Nh=gc=a:gc=gc.next=a),Ih=!0,Eg||(Eg=!0,n3())}function Yu(a,l){if(!Tg&&Ih){Tg=!0;do for(var u=!1,p=Nh;p!==null;){if(a!==0){var E=p.pendingLanes;if(E===0)var w=0;else{var P=p.suspendedLanes,j=p.pingedLanes;w=(1<<31-gn(42|a)+1)-1,w&=E&~(P&~j),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,sT(p,w))}else w=kt,w=ti(p,p===pn?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||jr(p,w)||(u=!0,sT(p,w));p=p.next}while(u);Tg=!1}}function t3(){nT()}function nT(){Ih=Eg=!1;var a=0;Wa!==0&&d3()&&(a=Wa);for(var l=gt(),u=null,p=Nh;p!==null;){var E=p.next,w=rT(p,l);w===0?(p.next=null,u===null?Nh=E:u.next=E,E===null&&(gc=u)):(u=p,(a!==0||(w&3)!==0)&&(Ih=!0)),p=E}er!==0&&er!==5||Yu(a),Wa!==0&&(Wa=0)}function rT(a,l){for(var u=a.suspendedLanes,p=a.pingedLanes,E=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var P=31-gn(w),j=1<<P,oe=E[P];oe===-1?((j&u)===0||(j&p)!==0)&&(E[P]=Do(j,l)):oe<=l&&(a.expiredLanes|=j),w&=~j}if(l=pn,u=kt,u=ti(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===l&&(nn===2||nn===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&fn(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||jr(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(p!==null&&fn(p),ct(u)){case 2:case 8:u=dn;break;case 32:u=Rt;break;case 268435456:u=it;break;default:u=Rt}return p=iT.bind(null,a),u=ft(u,p),a.callbackPriority=l,a.callbackNode=u,l}return p!==null&&p!==null&&fn(p),a.callbackPriority=2,a.callbackNode=null,2}function iT(a,l){if(er!==0&&er!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(bh()&&a.callbackNode!==u)return null;var p=kt;return p=ti(a,a===pn?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(VE(a,p,l),rT(a,gt()),a.callbackNode!=null&&a.callbackNode===u?iT.bind(null,a):null)}function sT(a,l){if(bh())return null;VE(a,l,!0)}function n3(){p3(function(){(Wt&6)!==0?ft(Ct,t3):nT()})}function wg(){if(Wa===0){var a=tc;a===0&&(a=Gr,Gr<<=1,(Gr&261888)===0&&(Gr=256)),Wa=a}return Wa}function aT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Bl(""+a)}function oT(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function r3(a,l,u,p,E){if(l==="submit"&&u&&u.stateNode===E){var w=aT((E[te]||null).action),P=p.submitter;P&&(l=(l=P[te]||null)?aT(l.formAction):P.getAttribute("formAction"),l!==null&&(w=l,P=null));var j=new Ts("action","action",null,p,E);a.push({event:j,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Wa!==0){var oe=P?oT(E,P):new FormData(E);Gm(u,{pending:!0,data:oe,method:E.method,action:w},null,oe)}}else typeof w=="function"&&(j.preventDefault(),oe=P?oT(E,P):new FormData(E),Gm(u,{pending:!0,data:oe,method:E.method,action:w},w,oe))},currentTarget:E}]})}}for(var Sg=0;Sg<am.length;Sg++){var Ag=am[Sg],i3=Ag.toLowerCase(),s3=Ag[0].toUpperCase()+Ag.slice(1);ss(i3,"on"+s3)}ss(Uy,"onAnimationEnd"),ss(Vy,"onAnimationIteration"),ss(By,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(E4,"onTransitionRun"),ss(T4,"onTransitionStart"),ss(w4,"onTransitionCancel"),ss(zy,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function lT(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],E=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var P=p.length-1;0<=P;P--){var j=p[P],oe=j.instance,Ee=j.currentTarget;if(j=j.listener,oe!==w&&E.isPropagationStopped())break e;w=j,E.currentTarget=Ee;try{w(E)}catch(Re){jd(Re)}E.currentTarget=null,w=oe}else for(P=0;P<p.length;P++){if(j=p[P],oe=j.instance,Ee=j.currentTarget,j=j.listener,oe!==w&&E.isPropagationStopped())break e;w=j,E.currentTarget=Ee;try{w(E)}catch(Re){jd(Re)}E.currentTarget=null,w=oe}}}}function It(a,l){var u=l[ve];u===void 0&&(u=l[ve]=new Set);var p=a+"__bubble";u.has(p)||(cT(l,a,2,!1),u.add(p))}function Cg(a,l,u){var p=0;l&&(p|=4),cT(u,a,p,l)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function bg(a){if(!a[Rh]){a[Rh]=!0,Qt.forEach(function(u){u!=="selectionchange"&&(a3.has(u)||Cg(u,!1,a),Cg(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Rh]||(l[Rh]=!0,Cg("selectionchange",!1,l))}}function cT(a,l,u,p){switch(UT(l)){case 2:var E=P3;break;case 8:E=F3;break;default:E=Hg}u=E.bind(null,l,u,a),E=void 0,!Oo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),p?E!==void 0?a.addEventListener(l,u,{capture:!0,passive:E}):a.addEventListener(l,u,!0):E!==void 0?a.addEventListener(l,u,{passive:E}):a.addEventListener(l,u,!1)}function Ng(a,l,u,p,E){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var j=p.stateNode.containerInfo;if(j===E)break;if(P===4)for(P=p.return;P!==null;){var oe=P.tag;if((oe===3||oe===4)&&P.stateNode.containerInfo===E)return;P=P.return}for(;j!==null;){if(P=ze(j),P===null)return;if(oe=P.tag,oe===5||oe===6||oe===26||oe===27){p=w=P;continue e}j=j.parentNode}}p=p.return}ka(function(){var Ee=w,Re=Ii(u),Pe=[];e:{var Se=Hy.get(a);if(Se!==void 0){var Ne=Ts,Xe=a;switch(a){case"keypress":if(Uo(u)===0)break e;case"keydown":case"keyup":Ne=zd;break;case"focusin":Xe="focus",Ne=Bo;break;case"focusout":Xe="blur",Ne=Bo;break;case"beforeblur":case"afterblur":Ne=Bo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=R;break;case Uy:case Vy:case By:Ne=Pd;break;case zy:Ne=J;break;case"scroll":case"scrollend":Ne=yu;break;case"wheel":Ne=Ce;break;case"copy":case"cut":case"paste":Ne=Fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=qs;break;case"toggle":case"beforetoggle":Ne=Tt}var dt=(l&4)!==0,cn=!dt&&(a==="scroll"||a==="scrollend"),me=dt?Se!==null?Se+"Capture":null:Se;dt=[];for(var ce=Ee,_e;ce!==null;){var Me=ce;if(_e=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||_e===null||me===null||(Me=ts(ce,me),Me!=null&&dt.push(Wu(ce,Me,_e))),cn)break;ce=ce.return}0<dt.length&&(Se=new Ne(Se,Xe,null,u,Re),Pe.push({event:Se,listeners:dt}))}}if((l&7)===0){e:{if(Se=a==="mouseover"||a==="pointerover",Ne=a==="mouseout"||a==="pointerout",Se&&u!==gu&&(Xe=u.relatedTarget||u.fromElement)&&(ze(Xe)||Xe[re]))break e;if((Ne||Se)&&(Se=Re.window===Re?Re:(Se=Re.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ne?(Xe=u.relatedTarget||u.toElement,Ne=Ee,Xe=Xe?ze(Xe):null,Xe!==null&&(cn=s(Xe),dt=Xe.tag,Xe!==cn||dt!==5&&dt!==27&&dt!==6)&&(Xe=null)):(Ne=null,Xe=Ee),Ne!==Xe)){if(dt=_u,Me="onMouseLeave",me="onMouseEnter",ce="mouse",(a==="pointerout"||a==="pointerover")&&(dt=qs,Me="onPointerLeave",me="onPointerEnter",ce="pointer"),cn=Ne==null?Se:Ue(Ne),_e=Xe==null?Se:Ue(Xe),Se=new dt(Me,ce+"leave",Ne,u,Re),Se.target=cn,Se.relatedTarget=_e,Me=null,ze(Re)===Ee&&(dt=new dt(me,ce+"enter",Xe,u,Re),dt.target=_e,dt.relatedTarget=cn,Me=dt),cn=Me,Ne&&Xe)t:{for(dt=o3,me=Ne,ce=Xe,_e=0,Me=me;Me;Me=dt(Me))_e++;Me=0;for(var at=ce;at;at=dt(at))Me++;for(;0<_e-Me;)me=dt(me),_e--;for(;0<Me-_e;)ce=dt(ce),Me--;for(;_e--;){if(me===ce||ce!==null&&me===ce.alternate){dt=me;break t}me=dt(me),ce=dt(ce)}dt=null}else dt=null;Ne!==null&&uT(Pe,Se,Ne,dt,!1),Xe!==null&&cn!==null&&uT(Pe,cn,Xe,dt,!0)}}e:{if(Se=Ee?Ue(Ee):window,Ne=Se.nodeName&&Se.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&Se.type==="file")var qt=by;else if(Ay(Se))if(Ny)qt=x4;else{qt=g4;var tt=m4}else Ne=Se.nodeName,!Ne||Ne.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Ee&&Vl(Ee.elementType)&&(qt=by):qt=v4;if(qt&&(qt=qt(a,Ee))){Cy(Pe,qt,u,Re);break e}tt&&tt(a,Se,Ee),a==="focusout"&&Ee&&Se.type==="number"&&Ee.memoizedProps.value!=null&&hu(Se,"number",Se.value)}switch(tt=Ee?Ue(Ee):window,a){case"focusin":(Ay(tt)||tt.contentEditable==="true")&&(Kl=tt,rm=Ee,Au=null);break;case"focusout":Au=rm=Kl=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,Oy(Pe,u,Re);break;case"selectionchange":if(_4)break;case"keydown":case"keyup":Oy(Pe,u,Re)}var At;if(Jt)e:{switch(a){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else $l?zo(a,u)&&(Dt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(As&&u.locale!=="ko"&&($l||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&$l&&(At=xu()):(Es=Re,vu="value"in Es?Es.value:Es.textContent,$l=!0)),tt=kh(Ee,Dt),0<tt.length&&(Dt=new Ss(Dt,a,null,u,Re),Pe.push({event:Dt,listeners:tt}),At?Dt.data=At:(At=ql(u),At!==null&&(Dt.data=At)))),(At=ki?f4(a,u):d4(a,u))&&(Dt=kh(Ee,"onBeforeInput"),0<Dt.length&&(tt=new Ss("onBeforeInput","beforeinput",null,u,Re),Pe.push({event:tt,listeners:Dt}),tt.data=At)),r3(Pe,a,Ee,u,Re)}lT(Pe,l)})}function Wu(a,l,u){return{instance:a,listener:l,currentTarget:u}}function kh(a,l){for(var u=l+"Capture",p=[];a!==null;){var E=a,w=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||w===null||(E=ts(a,u),E!=null&&p.unshift(Wu(a,E,w)),E=ts(a,l),E!=null&&p.push(Wu(a,E,w))),a.tag===3)return p;a=a.return}return[]}function o3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function uT(a,l,u,p,E){for(var w=l._reactName,P=[];u!==null&&u!==p;){var j=u,oe=j.alternate,Ee=j.stateNode;if(j=j.tag,oe!==null&&oe===p)break;j!==5&&j!==26&&j!==27||Ee===null||(oe=Ee,E?(Ee=ts(u,w),Ee!=null&&P.unshift(Wu(u,Ee,oe))):E||(Ee=ts(u,w),Ee!=null&&P.push(Wu(u,Ee,oe)))),u=u.return}P.length!==0&&a.push({event:l,listeners:P})}var l3=/\r\n?/g,c3=/\u0000|\uFFFD/g;function fT(a){return(typeof a=="string"?a:""+a).replace(l3,`
`).replace(c3,"")}function dT(a,l){return l=fT(l),fT(a)===l}function ln(a,l,u,p,E,w){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||ii(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&ii(a,""+p);break;case"className":gi(a,"class",p);break;case"tabIndex":gi(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(a,u,p);break;case"style":mu(a,p,w);break;case"data":if(l!=="object"){gi(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Bl(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&ln(a,l,"name",E.name,E,null),ln(a,l,"formEncType",E.formEncType,E,null),ln(a,l,"formMethod",E.formMethod,E,null),ln(a,l,"formTarget",E.formTarget,E,null)):(ln(a,l,"encType",E.encType,E,null),ln(a,l,"method",E.method,E,null),ln(a,l,"target",E.target,E,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Bl(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=es);break;case"onScroll":p!=null&&It("scroll",a);break;case"onScrollEnd":p!=null&&It("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=Bl(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":It("beforetoggle",a),It("toggle",a),Rr(a,"popover",p);break;case"xlinkActuate":Gn(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Gn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Gn(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Gn(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Gn(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Gn(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Rr(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=kd.get(u)||u,Rr(a,u,p))}}function Ig(a,l,u,p,E,w){switch(u){case"style":mu(a,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?ii(a,p):(typeof p=="number"||typeof p=="bigint")&&ii(a,""+p);break;case"onScroll":p!=null&&It("scroll",a);break;case"onScrollEnd":p!=null&&It("scrollend",a);break;case"onClick":p!=null&&(a.onclick=es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!en.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(E=u.endsWith("Capture"),l=u.slice(2,E?u.length-7:void 0),w=a[te]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(l,w,E),typeof p=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,p,E);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Rr(a,u,p)}}}function _r(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",a),It("load",a);var p=!1,E=!1,w;for(w in u)if(u.hasOwnProperty(w)){var P=u[w];if(P!=null)switch(w){case"src":p=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:ln(a,l,w,P,u,null)}}E&&ln(a,l,"srcSet",u.srcSet,u,null),p&&ln(a,l,"src",u.src,u,null);return;case"input":It("invalid",a);var j=w=P=E=null,oe=null,Ee=null;for(p in u)if(u.hasOwnProperty(p)){var Re=u[p];if(Re!=null)switch(p){case"name":E=Re;break;case"type":P=Re;break;case"checked":oe=Re;break;case"defaultChecked":Ee=Re;break;case"value":w=Re;break;case"defaultValue":j=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,l));break;default:ln(a,l,p,Re,u,null)}}Nd(a,w,j,oe,Ee,P,E,!1);return;case"select":It("invalid",a),p=P=w=null;for(E in u)if(u.hasOwnProperty(E)&&(j=u[E],j!=null))switch(E){case"value":w=j;break;case"defaultValue":P=j;break;case"multiple":p=j;default:ln(a,l,E,j,u,null)}l=w,u=P,a.multiple=!!p,l!=null?ba(a,!!p,l,!1):u!=null&&ba(a,!!p,u,!0);return;case"textarea":It("invalid",a),w=E=p=null;for(P in u)if(u.hasOwnProperty(P)&&(j=u[P],j!=null))switch(P){case"value":p=j;break;case"defaultValue":E=j;break;case"children":w=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:ln(a,l,P,j,u,null)}Na(a,p,E,w);return;case"option":for(oe in u)u.hasOwnProperty(oe)&&(p=u[oe],p!=null)&&(oe==="selected"?a.selected=p&&typeof p!="function"&&typeof p!="symbol":ln(a,l,oe,p,u,null));return;case"dialog":It("beforetoggle",a),It("toggle",a),It("cancel",a),It("close",a);break;case"iframe":case"object":It("load",a);break;case"video":case"audio":for(p=0;p<Ju.length;p++)It(Ju[p],a);break;case"image":It("error",a),It("load",a);break;case"details":It("toggle",a);break;case"embed":case"source":case"link":It("error",a),It("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in u)if(u.hasOwnProperty(Ee)&&(p=u[Ee],p!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:ln(a,l,Ee,p,u,null)}return;default:if(Vl(l)){for(Re in u)u.hasOwnProperty(Re)&&(p=u[Re],p!==void 0&&Ig(a,l,Re,p,u,void 0));return}}for(j in u)u.hasOwnProperty(j)&&(p=u[j],p!=null&&ln(a,l,j,p,u,null))}function u3(a,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,w=null,P=null,j=null,oe=null,Ee=null,Re=null;for(Ne in u){var Pe=u[Ne];if(u.hasOwnProperty(Ne)&&Pe!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":oe=Pe;default:p.hasOwnProperty(Ne)||ln(a,l,Ne,null,p,Pe)}}for(var Se in p){var Ne=p[Se];if(Pe=u[Se],p.hasOwnProperty(Se)&&(Ne!=null||Pe!=null))switch(Se){case"type":w=Ne;break;case"name":E=Ne;break;case"checked":Ee=Ne;break;case"defaultChecked":Re=Ne;break;case"value":P=Ne;break;case"defaultValue":j=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,l));break;default:Ne!==Pe&&ln(a,l,Se,Ne,p,Pe)}}Ul(a,P,j,oe,Ee,Re,w,E);return;case"select":Ne=P=j=Se=null;for(w in u)if(oe=u[w],u.hasOwnProperty(w)&&oe!=null)switch(w){case"value":break;case"multiple":Ne=oe;default:p.hasOwnProperty(w)||ln(a,l,w,null,p,oe)}for(E in p)if(w=p[E],oe=u[E],p.hasOwnProperty(E)&&(w!=null||oe!=null))switch(E){case"value":Se=w;break;case"defaultValue":j=w;break;case"multiple":P=w;default:w!==oe&&ln(a,l,E,w,p,oe)}l=j,u=P,p=Ne,Se!=null?ba(a,!!u,Se,!1):!!p!=!!u&&(l!=null?ba(a,!!u,l,!0):ba(a,!!u,u?[]:"",!1));return;case"textarea":Ne=Se=null;for(j in u)if(E=u[j],u.hasOwnProperty(j)&&E!=null&&!p.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ln(a,l,j,null,p,E)}for(P in p)if(E=p[P],w=u[P],p.hasOwnProperty(P)&&(E!=null||w!=null))switch(P){case"value":Se=E;break;case"defaultValue":Ne=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==w&&ln(a,l,P,E,p,w)}Id(a,Se,Ne);return;case"option":for(var Xe in u)Se=u[Xe],u.hasOwnProperty(Xe)&&Se!=null&&!p.hasOwnProperty(Xe)&&(Xe==="selected"?a.selected=!1:ln(a,l,Xe,null,p,Se));for(oe in p)Se=p[oe],Ne=u[oe],p.hasOwnProperty(oe)&&Se!==Ne&&(Se!=null||Ne!=null)&&(oe==="selected"?a.selected=Se&&typeof Se!="function"&&typeof Se!="symbol":ln(a,l,oe,Se,p,Ne));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in u)Se=u[dt],u.hasOwnProperty(dt)&&Se!=null&&!p.hasOwnProperty(dt)&&ln(a,l,dt,null,p,Se);for(Ee in p)if(Se=p[Ee],Ne=u[Ee],p.hasOwnProperty(Ee)&&Se!==Ne&&(Se!=null||Ne!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,l));break;default:ln(a,l,Ee,Se,p,Ne)}return;default:if(Vl(l)){for(var cn in u)Se=u[cn],u.hasOwnProperty(cn)&&Se!==void 0&&!p.hasOwnProperty(cn)&&Ig(a,l,cn,void 0,p,Se);for(Re in p)Se=p[Re],Ne=u[Re],!p.hasOwnProperty(Re)||Se===Ne||Se===void 0&&Ne===void 0||Ig(a,l,Re,Se,p,Ne);return}}for(var me in u)Se=u[me],u.hasOwnProperty(me)&&Se!=null&&!p.hasOwnProperty(me)&&ln(a,l,me,null,p,Se);for(Pe in p)Se=p[Pe],Ne=u[Pe],!p.hasOwnProperty(Pe)||Se===Ne||Se==null&&Ne==null||ln(a,l,Pe,Se,p,Ne)}function hT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var E=u[p],w=E.transferSize,P=E.initiatorType,j=E.duration;if(w&&j&&hT(P)){for(P=0,j=E.responseEnd,p+=1;p<u.length;p++){var oe=u[p],Ee=oe.startTime;if(Ee>j)break;var Re=oe.transferSize,Pe=oe.initiatorType;Re&&hT(Pe)&&(oe=oe.responseEnd,P+=Re*(oe<j?1:(j-Ee)/(oe-Ee)))}if(--p,l+=8*(w+P)/(E.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Rg=null,kg=null;function Dh(a){return a.nodeType===9?a:a.ownerDocument}function pT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mT(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Dg(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Mg=null;function d3(){var a=window.event;return a&&a.type==="popstate"?a===Mg?!1:(Mg=a,!0):(Mg=null,!1)}var gT=typeof setTimeout=="function"?setTimeout:void 0,h3=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,p3=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(a){return vT.resolve(null).then(a).catch(m3)}:gT;function m3(a){setTimeout(function(){throw a})}function Za(a){return a==="head"}function xT(a,l){var u=l,p=0;do{var E=u.nextSibling;if(a.removeChild(u),E&&E.nodeType===8)if(u=E.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(E),_c(l);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Zu(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Zu(u);for(var w=u.firstChild;w;){var P=w.nextSibling,j=w.nodeName;w[we]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=P}}else u==="body"&&Zu(a.ownerDocument.body);u=E}while(u);_c(l)}function yT(a,l){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function Pg(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Pg(u),Ve(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function g3(a,l,u,p){for(;a.nodeType===1;){var E=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[we])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Ui(a.nextSibling),a===null)break}return null}function v3(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ui(a.nextSibling),a===null))return null;return a}function _T(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ui(a.nextSibling),a===null))return null;return a}function Fg(a){return a.data==="$?"||a.data==="$~"}function Og(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function x3(a,l){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||u.readyState!=="loading")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Ui(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Lg=null;function ET(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(l===0)return Ui(a.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}a=a.nextSibling}return null}function TT(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return a;l--}else u!=="/$"&&u!=="/&"||l++}a=a.previousSibling}return null}function wT(a,l,u){switch(l=Dh(u),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Zu(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Ve(a)}var Vi=new Map,ST=new Set;function Mh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var aa=ee.d;ee.d={f:y3,r:_3,D:E3,C:T3,L:w3,m:S3,X:C3,S:A3,M:b3};function y3(){var a=aa.f(),l=Sh();return a||l}function _3(a){var l=Ke(a);l!==null&&l.tag===5&&l.type==="form"?z_(l):aa.r(a)}var vc=typeof document>"u"?null:document;function AT(a,l,u){var p=vc;if(p&&typeof l=="string"&&l){var E=ri(l);E='link[rel="'+a+'"][href="'+E+'"]',typeof u=="string"&&(E+='[crossorigin="'+u+'"]'),ST.has(E)||(ST.add(E),a={rel:a,crossOrigin:u,href:l},p.querySelector(E)===null&&(l=p.createElement("link"),_r(l,"link",a),et(l),p.head.appendChild(l)))}}function E3(a){aa.D(a),AT("dns-prefetch",a,null)}function T3(a,l){aa.C(a,l),AT("preconnect",a,l)}function w3(a,l,u){aa.L(a,l,u);var p=vc;if(p&&a&&l){var E='link[rel="preload"][as="'+ri(l)+'"]';l==="image"&&u&&u.imageSrcSet?(E+='[imagesrcset="'+ri(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(E+='[imagesizes="'+ri(u.imageSizes)+'"]')):E+='[href="'+ri(a)+'"]';var w=E;switch(l){case"style":w=xc(a);break;case"script":w=yc(a)}Vi.has(w)||(a=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Vi.set(w,a),p.querySelector(E)!==null||l==="style"&&p.querySelector(Xu(w))||l==="script"&&p.querySelector(Qu(w))||(l=p.createElement("link"),_r(l,"link",a),et(l),p.head.appendChild(l)))}}function S3(a,l){aa.m(a,l);var u=vc;if(u&&a){var p=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+ri(p)+'"][href="'+ri(a)+'"]',w=E;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=yc(a)}if(!Vi.has(w)&&(a=g({rel:"modulepreload",href:a},l),Vi.set(w,a),u.querySelector(E)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Qu(w)))return}p=u.createElement("link"),_r(p,"link",a),et(p),u.head.appendChild(p)}}}function A3(a,l,u){aa.S(a,l,u);var p=vc;if(p&&a){var E=qe(p).hoistableStyles,w=xc(a);l=l||"default";var P=E.get(w);if(!P){var j={loading:0,preload:null};if(P=p.querySelector(Xu(w)))j.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Vi.get(w))&&Ug(a,u);var oe=P=p.createElement("link");et(oe),_r(oe,"link",a),oe._p=new Promise(function(Ee,Re){oe.onload=Ee,oe.onerror=Re}),oe.addEventListener("load",function(){j.loading|=1}),oe.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Ph(P,l,p)}P={type:"stylesheet",instance:P,count:1,state:j},E.set(w,P)}}}function C3(a,l){aa.X(a,l);var u=vc;if(u&&a){var p=qe(u).hoistableScripts,E=yc(a),w=p.get(E);w||(w=u.querySelector(Qu(E)),w||(a=g({src:a,async:!0},l),(l=Vi.get(E))&&Vg(a,l),w=u.createElement("script"),et(w),_r(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(E,w))}}function b3(a,l){aa.M(a,l);var u=vc;if(u&&a){var p=qe(u).hoistableScripts,E=yc(a),w=p.get(E);w||(w=u.querySelector(Qu(E)),w||(a=g({src:a,async:!0,type:"module"},l),(l=Vi.get(E))&&Vg(a,l),w=u.createElement("script"),et(w),_r(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(E,w))}}function CT(a,l,u,p){var E=(E=he.current)?Mh(E):null;if(!E)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=xc(u.href),u=qe(E).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=xc(u.href);var w=qe(E).hoistableStyles,P=w.get(a);if(P||(E=E.ownerDocument||E,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,P),(w=E.querySelector(Xu(a)))&&!w._p&&(P.instance=w,P.state.loading=5),Vi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Vi.set(a,u),w||N3(E,a,u,P.state))),l&&p===null)throw Error(r(528,""));return P}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=yc(u),u=qe(E).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function xc(a){return'href="'+ri(a)+'"'}function Xu(a){return'link[rel="stylesheet"]['+a+"]"}function bT(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function N3(a,l,u,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),_r(l,"link",u),et(l),a.head.appendChild(l))}function yc(a){return'[src="'+ri(a)+'"]'}function Qu(a){return"script[async]"+a}function NT(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+ri(u.href)+'"]');if(p)return l.instance=p,et(p),p;var E=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),et(p),_r(p,"style",E),Ph(p,u.precedence,a),l.instance=p;case"stylesheet":E=xc(u.href);var w=a.querySelector(Xu(E));if(w)return l.state.loading|=4,l.instance=w,et(w),w;p=bT(u),(E=Vi.get(E))&&Ug(p,E),w=(a.ownerDocument||a).createElement("link"),et(w);var P=w;return P._p=new Promise(function(j,oe){P.onload=j,P.onerror=oe}),_r(w,"link",p),l.state.loading|=4,Ph(w,u.precedence,a),l.instance=w;case"script":return w=yc(u.src),(E=a.querySelector(Qu(w)))?(l.instance=E,et(E),E):(p=u,(E=Vi.get(w))&&(p=g({},u),Vg(p,E)),a=a.ownerDocument||a,E=a.createElement("script"),et(E),_r(E,"link",p),a.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Ph(p,u.precedence,a));return l.instance}function Ph(a,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=p.length?p[p.length-1]:null,w=E,P=0;P<p.length;P++){var j=p[P];if(j.dataset.precedence===l)w=j;else if(w!==E)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function Ug(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Vg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Fh=null;function IT(a,l,u){if(Fh===null){var p=new Map,E=Fh=new Map;E.set(u,p)}else E=Fh,p=E.get(u),p||(p=new Map,E.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),E=0;E<u.length;E++){var w=u[E];if(!(w[we]||w[Y]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var P=w.getAttribute(l)||"";P=a+P;var j=p.get(P);j?j.push(w):p.set(P,[w])}}return p}function RT(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function I3(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function kT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function R3(a,l,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=xc(p.href),w=l.querySelector(Xu(E));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Oh.bind(a),l.then(a,a)),u.state.loading|=4,u.instance=w,et(w);return}w=l.ownerDocument||l,p=bT(p),(E=Vi.get(E))&&Ug(p,E),w=w.createElement("link"),et(w);var P=w;P._p=new Promise(function(j,oe){P.onload=j,P.onerror=oe}),_r(w,"link",p),u.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Oh.bind(a),l.addEventListener("load",u),l.addEventListener("error",u))}}var Bg=0;function k3(a,l){return a.stylesheets&&a.count===0&&Uh(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&Uh(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+l);0<a.imgBytes&&Bg===0&&(Bg=62500*f3());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Uh(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Bg?50:800)+l);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(E)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Lh=null;function Uh(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Lh=new Map,l.forEach(D3,a),Lh=null,Oh.call(a))}function D3(a,l){if(!(l.state.loading&4)){var u=Lh.get(a);if(u)var p=u.get(null);else{u=new Map,Lh.set(a,u);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<E.length;w++){var P=E[w];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),p=P)}p&&u.set(null,p)}E=l.instance,P=E.getAttribute("data-precedence"),w=u.get(P)||p,w===p&&u.set(null,E),u.set(P,E),this.count++,p=Oh.bind(this),E.addEventListener("load",p),E.addEventListener("error",p),w?w.parentNode.insertBefore(E,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),l.state.loading|=4}}var ef={$$typeof:D,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function M3(a,l,u,p,E,w,P,j,oe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=p,this.onUncaughtError=E,this.onCaughtError=w,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function DT(a,l,u,p,E,w,P,j,oe,Ee,Re,Pe){return a=new M3(a,l,u,P,oe,Ee,Re,Pe,j),l=1,w===!0&&(l|=24),w=xi(3,null,null,l),a.current=w,w.stateNode=a,l=ym(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:p,isDehydrated:u,cache:l},wm(w),a}function MT(a){return a?(a=Wl,a):Wl}function PT(a,l,u,p,E,w){E=MT(E),p.context===null?p.context=E:p.pendingContext=E,p=Ba(l),p.payload={element:u},w=w===void 0?null:w,w!==null&&(p.callback=w),u=za(a,p,l),u!==null&&(ci(u,a,l),Du(u,a,l))}function FT(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function zg(a,l){FT(a,l),(a=a.alternate)&&FT(a,l)}function OT(a){if(a.tag===13||a.tag===31){var l=jo(a,67108864);l!==null&&ci(l,a,67108864),zg(a,67108864)}}function LT(a){if(a.tag===13||a.tag===31){var l=wi();l=Qe(l);var u=jo(a,l);u!==null&&ci(u,a,l),zg(a,l)}}var Vh=!0;function P3(a,l,u,p){var E=ae.T;ae.T=null;var w=ee.p;try{ee.p=2,Hg(a,l,u,p)}finally{ee.p=w,ae.T=E}}function F3(a,l,u,p){var E=ae.T;ae.T=null;var w=ee.p;try{ee.p=8,Hg(a,l,u,p)}finally{ee.p=w,ae.T=E}}function Hg(a,l,u,p){if(Vh){var E=Gg(p);if(E===null)Ng(a,l,p,Bh,u),VT(a,p);else if(L3(E,a,l,u,p))p.stopPropagation();else if(VT(a,p),l&4&&-1<O3.indexOf(a)){for(;E!==null;){var w=Ke(E);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var P=mr(w.pendingLanes);if(P!==0){var j=w;for(j.pendingLanes|=2,j.entangledLanes|=2;P;){var oe=1<<31-gn(P);j.entanglements[1]|=oe,P&=~oe}Is(w),(Wt&6)===0&&(Th=gt()+500,Yu(0))}}break;case 31:case 13:j=jo(w,2),j!==null&&ci(j,w,2),Sh(),zg(w,2)}if(w=Gg(p),w===null&&Ng(a,l,p,Bh,u),w===E)break;E=w}E!==null&&p.stopPropagation()}else Ng(a,l,p,null,u)}}function Gg(a){return a=Ii(a),jg(a)}var Bh=null;function jg(a){if(Bh=null,a=ze(a),a!==null){var l=s(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=o(l),a!==null)return a;a=null}else if(u===31){if(a=c(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Bh=a,null}function UT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case Ct:return 2;case dn:return 8;case Rt:case Pn:return 32;case it:return 268435456;default:return 32}default:return 32}}var qg=!1,Xa=null,Qa=null,eo=null,tf=new Map,nf=new Map,to=[],O3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(a,l){switch(a){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":tf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(l.pointerId)}}function rf(a,l,u,p,E,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[E]},l!==null&&(l=Ke(l),l!==null&&OT(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),a)}function L3(a,l,u,p,E){switch(l){case"focusin":return Xa=rf(Xa,a,l,u,p,E),!0;case"dragenter":return Qa=rf(Qa,a,l,u,p,E),!0;case"mouseover":return eo=rf(eo,a,l,u,p,E),!0;case"pointerover":var w=E.pointerId;return tf.set(w,rf(tf.get(w)||null,a,l,u,p,E)),!0;case"gotpointercapture":return w=E.pointerId,nf.set(w,rf(nf.get(w)||null,a,l,u,p,E)),!0}return!1}function BT(a){var l=ze(a.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){a.blockedOn=l,X(a.priority,function(){LT(u)});return}}else if(l===31){if(l=c(u),l!==null){a.blockedOn=l,X(a.priority,function(){LT(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=Gg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);gu=p,u.target.dispatchEvent(p),gu=null}else return l=Ke(u),l!==null&&OT(l),a.blockedOn=u,!1;l.shift()}return!0}function zT(a,l,u){zh(a)&&u.delete(l)}function U3(){qg=!1,Xa!==null&&zh(Xa)&&(Xa=null),Qa!==null&&zh(Qa)&&(Qa=null),eo!==null&&zh(eo)&&(eo=null),tf.forEach(zT),nf.forEach(zT)}function Hh(a,l){a.blockedOn===l&&(a.blockedOn=null,qg||(qg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,U3)))}var Gh=null;function HT(a){Gh!==a&&(Gh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gh===a&&(Gh=null);for(var l=0;l<a.length;l+=3){var u=a[l],p=a[l+1],E=a[l+2];if(typeof p!="function"){if(jg(p||u)===null)continue;break}var w=Ke(u);w!==null&&(a.splice(l,3),l-=3,Gm(w,{pending:!0,data:E,method:u.method,action:p},p,E))}}))}function _c(a){function l(oe){return Hh(oe,a)}Xa!==null&&Hh(Xa,a),Qa!==null&&Hh(Qa,a),eo!==null&&Hh(eo,a),tf.forEach(l),nf.forEach(l);for(var u=0;u<to.length;u++){var p=to[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<to.length&&(u=to[0],u.blockedOn===null);)BT(u),u.blockedOn===null&&to.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var E=u[p],w=u[p+1],P=E[te]||null;if(typeof w=="function")P||HT(u);else if(P){var j=null;if(w&&w.hasAttribute("formAction")){if(E=w,P=w[te]||null)j=P.formAction;else if(jg(E)!==null)continue}else j=P.action;typeof j=="function"?u[p+1]=j:(u.splice(p,3),p-=3),HT(u)}}}function GT(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(P){return E=P})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function $g(a){this._internalRoot=a}jh.prototype.render=$g.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,p=wi();PT(u,p,a,l,null,null)},jh.prototype.unmount=$g.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;PT(a.current,2,null,a,null,null),Sh(),l[re]=null}};function jh(a){this._internalRoot=a}jh.prototype.unstable_scheduleHydration=function(a){if(a){var l=z();a={blockedOn:null,target:a,priority:l};for(var u=0;u<to.length&&l!==0&&l<to[u].priority;u++);to.splice(u,0,a),u===0&&BT(a)}};var jT=e.version;if(jT!=="19.2.4")throw Error(r(527,jT,"19.2.4"));ee.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var V3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{bt=qh.inject(V3),Yt=qh}catch{}}return af.createRoot=function(a,l){if(!i(a))throw Error(r(299));var u=!1,p="",E=Z_,w=X_,P=Q_;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=DT(a,1,!1,null,null,u,p,null,E,w,P,GT),a[re]=l.current,bg(a),new $g(l)},af.hydrateRoot=function(a,l,u){if(!i(a))throw Error(r(299));var p=!1,E="",w=Z_,P=X_,j=Q_,oe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.formState!==void 0&&(oe=u.formState)),l=DT(a,1,!0,l,u??null,p,E,oe,w,P,j,GT),l.context=MT(null),u=l.current,p=wi(),p=Qe(p),E=Ba(p),E.callback=null,za(u,E,p),u=p,l.current.lanes=u,Qn(l,u),Is(l),a[re]=l.current,bg(a),new jh(l)},af.version="19.2.4",af}var e2;function Y3(){if(e2)return Jg.exports;e2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jg.exports=K3(),Jg.exports}var J3=Y3();const W3=Cp(J3);const HC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const Z3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const X3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const t2=t=>{const e=X3(t);return e.charAt(0).toUpperCase()+e.slice(1)};var Q3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const tD=de.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...c},f)=>de.createElement("svg",{ref:f,...Q3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HC("lucide",i),...!s&&!eD(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,h])=>de.createElement(d,h)),...Array.isArray(s)?s:[s]]));const lt=(t,e)=>{const n=de.forwardRef(({className:r,...i},s)=>de.createElement(tD,{ref:s,iconNode:e,className:HC(`lucide-${Z3(t2(t))}`,`lucide-${t}`,r),...i}));return n.displayName=t2(t),n};const nD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],rD=lt("arrow-down",nD);const iD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sD=lt("arrow-left",iD);const aD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oD=lt("arrow-right",aD);const lD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],cD=lt("arrow-up",lD);const uD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],L0=lt("briefcase",uD);const fD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dD=lt("calendar",fD);const hD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pD=lt("camera",hD);const mD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],U0=lt("check",mD);const gD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vD=lt("chevron-right",gD);const xD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ha=lt("circle-alert",xD);const yD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fl=lt("circle-check-big",yD);const _D=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Dv=lt("cloud",_D);const ED=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],TD=lt("cookie",ED);const wD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],SD=lt("download",wD);const AD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],n2=lt("external-link",AD);const CD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],v0=lt("file-spreadsheet",CD);const bD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Mv=lt("file-text",bD);const ND=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],V0=lt("file-up",ND);const ID=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],GC=lt("funnel",ID);const RD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Yx=lt("globe",RD);const kD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Qg=lt("key",kD);const DD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jC=lt("layers",DD);const MD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],r2=lt("layout-dashboard",MD);const PD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sf=lt("loader-circle",PD);const FD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Pv=lt("lock",FD);const OD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LD=lt("log-out",OD);const UD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],VD=lt("mail",UD);const BD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jc=lt("map-pin",BD);const zD=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],HD=lt("map",zD);const GD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],jD=lt("maximize-2",GD);const qD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$D=lt("menu",qD);const KD=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],YD=lt("minimize-2",KD);const JD=[["path",{d:"M5 12h14",key:"1ays0h"}]],WD=lt("minus",JD);const ZD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],dl=lt("package",ZD);const XD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QD=lt("pen",XD);const eM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ev=lt("pencil",eM);const tM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nM=lt("phone",tM);const rM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jx=lt("plus",rM);const iM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],md=lt("save",iM);const sM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ll=lt("search",sM);const aM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],i2=lt("send",aM);const oM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lM=lt("shield-check",oM);const cM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fv=lt("shield",cM);const uM=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],oo=lt("shopping-bag",uM);const fM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],s2=lt("sparkles",fM);const dM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],zf=lt("store",dM);const hM=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],pM=lt("table",hM);const mM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Wx=lt("tag",mM);const gM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gl=lt("trash-2",gM);const vM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xM=lt("upload",vM);const yM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],a2=lt("user-plus",yM);const _M=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hi=lt("user",_M);const EM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ov=lt("users",EM);const TM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pa=lt("x",TM),qC={admin_dev:" Admin DEV",admin_general:" Admin Geral",general_manager:" Gerente Geral",sales_manager:" Gerente de Vendas",sales_supervisor:" Supervisor de Vendas",sales_internal:" Vendedor Interno",sales_external:" Vendedor Externo",admin:" Admin (Legado)",salesperson:" Vendedor (Legado)"},di={admin_dev:1,admin:1,admin_general:2,general_manager:3,sales_manager:4,sales_supervisor:5,sales_internal:6,sales_external:7,salesperson:7},o2=t=>qC[t]||t,wM=t=>t==="admin"?"admin_dev":t==="salesperson"?"sales_external":t,SM=t=>{const e=di[t],n=["admin_dev","admin_general","general_manager","sales_manager","sales_supervisor","sales_internal","sales_external"];return e===1?n:n.filter(r=>di[r]>e)},tv=(t,e)=>{const n=di[t],r=di[e];return r===1?n===1:n<r},Ec=t=>di[t]<=2,Af=t=>di[t]>=3,Lv=t=>di[t]<=5,Hf=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],Gf=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],AM={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},Zx=t=>{const e=t.toUpperCase().trim();return AM[e]||"Indefinido"};var x0={exports:{}};var CM=x0.exports,l2;function bM(){return l2||(l2=1,(function(t,e){((n,r)=>{t.exports=r()})(CM,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,c={},f=0,d={};function h(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var F=G(b);F.chunkSize=parseInt(F.chunkSize),b.step||b.chunk||(F.chunkSize=null),this._handle=new A(F),(this._handle.streamer=this)._config=F}).call(this,N),this.parseChunk=function(b,F){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let U=this._config.newline;U||(M=this._config.quoteChar||'"',U=this._handle.guessLineEndings(b,M)),b=[...b.split(U).slice(O)].join(U)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(M=this._config.beforeFirstChunk(b))!==void 0&&(b=M),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+b,M=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=M.meta.cursor,O=(this._finished||(this._partialLine=O.substring(b-this._baseIndex),this._baseIndex=b),M&&M.data&&(this._rowCount+=M.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:M,workerId:d.WORKER_ID,finished:O});else if(I(this._config.chunk)&&!F){if(this._config.chunk(M,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=M=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(M.data),this._completeResults.errors=this._completeResults.errors.concat(M.errors),this._completeResults.meta=M.meta),this._completed||!O||!I(this._config.complete)||M&&M.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||M&&M.meta.paused||this._nextChunk(),M}this._halted=!0},this._sendError=function(b){I(this._config.error)?this._config.error(b):o&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:b,finished:!1})}}function g(N){var b;(N=N||{}).chunkSize||(N.chunkSize=d.RemoteChunkSize),h.call(this,N),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),s||(b.onload=K(this._chunkLoaded,this),b.onerror=K(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var F,O=this._config.downloadRequestHeaders;for(F in O)b.setRequestHeader(F,O[F])}var M;this._config.chunkSize&&(M=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+M));try{b.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}s&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(F=>(F=F.getResponseHeader("Content-Range"))!==null?parseInt(F.substring(F.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(F){F=b.statusText||F,this._sendError(new Error(F))}}function v(N){(N=N||{}).chunkSize||(N.chunkSize=d.LocalChunkSize),h.call(this,N);var b,F,O=typeof FileReader<"u";this.stream=function(M){this._input=M,F=M.slice||M.webkitSlice||M.mozSlice,O?((b=new FileReader).onload=K(this._chunkLoaded,this),b.onerror=K(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var M=this._input,U=(this._config.chunkSize&&(U=Math.min(this._start+this._config.chunkSize,this._input.size),M=F.call(M,this._start,U)),b.readAsText(M,this._config.encoding));O||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(M){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(M.target.result)},this._chunkError=function(){this._sendError(b.error)}}function T(N){var b;h.call(this,N=N||{}),this.stream=function(F){return b=F,this._nextChunk()},this._nextChunk=function(){var F,O;if(!this._finished)return F=this._config.chunkSize,b=F?(O=b.substring(0,F),b.substring(F)):(O=b,""),this._finished=!b,this.parseChunk(O)}}function S(N){h.call(this,N=N||{});var b=[],F=!0,O=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(M){this._input=M,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):F=!0},this._streamData=K(function(M){try{b.push(typeof M=="string"?M:M.toString(this._config.encoding)),F&&(F=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(U){this._streamError(U)}},this),this._streamError=K(function(M){this._streamCleanUp(),this._sendError(M)},this),this._streamEnd=K(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(N){var b,F,O,M,U=Math.pow(2,53),ue=-U,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ee=this,le=0,se=0,ke=!1,Z=!1,B=[],Q={data:[],errors:[],meta:{}};function W(Ie){return N.skipEmptyLines==="greedy"?Ie.join("").trim()==="":Ie.length===1&&Ie[0].length===0}function ne(){if(Q&&O&&(ge("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),O=!1),N.skipEmptyLines&&(Q.data=Q.data.filter(function(ie){return!W(ie)})),he()){let ie=function(ht,Je){I(N.transformHeader)&&(ht=N.transformHeader(ht,Je)),B.push(ht)};var $e=ie;if(Q)if(Array.isArray(Q.data[0])){for(var Ie=0;he()&&Ie<Q.data.length;Ie++)Q.data[Ie].forEach(ie);Q.data.splice(0,1)}else Q.data.forEach(ie)}function be(ie,ht){for(var Je=N.header?{}:[],Ge=0;Ge<ie.length;Ge++){var He=Ge,Be=ie[Ge],Be=((nt,rt)=>(ft=>(N.dynamicTypingFunction&&N.dynamicTyping[ft]===void 0&&(N.dynamicTyping[ft]=N.dynamicTypingFunction(ft)),(N.dynamicTyping[ft]||N.dynamicTyping)===!0))(nt)?rt==="true"||rt==="TRUE"||rt!=="false"&&rt!=="FALSE"&&((ft=>{if(pe.test(ft)&&(ft=parseFloat(ft),ue<ft&&ft<U))return 1})(rt)?parseFloat(rt):ae.test(rt)?new Date(rt):rt===""?null:rt):rt)(He=N.header?Ge>=B.length?"__parsed_extra":B[Ge]:He,Be=N.transform?N.transform(Be,He):Be);He==="__parsed_extra"?(Je[He]=Je[He]||[],Je[He].push(Be)):Je[He]=Be}return N.header&&(Ge>B.length?ge("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+Ge,se+ht):Ge<B.length&&ge("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+Ge,se+ht)),Je}var De;Q&&(N.header||N.dynamicTyping||N.transform)&&(De=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(be),De=Q.data.length):Q.data=be(Q.data,0),N.header&&Q.meta&&(Q.meta.fields=B),se+=De)}function he(){return N.header&&B.length===0}function ge(Ie,be,De,$e){Ie={type:Ie,code:be,message:De},$e!==void 0&&(Ie.row=$e),Q.errors.push(Ie)}I(N.step)&&(M=N.step,N.step=function(Ie){Q=Ie,he()?ne():(ne(),Q.data.length!==0&&(le+=Ie.data.length,N.preview&&le>N.preview?F.abort():(Q.data=Q.data[0],M(Q,ee))))}),this.parse=function(Ie,be,De){var $e=N.quoteChar||'"',$e=(N.newline||(N.newline=this.guessLineEndings(Ie,$e)),O=!1,N.delimiter?I(N.delimiter)&&(N.delimiter=N.delimiter(Ie),Q.meta.delimiter=N.delimiter):(($e=((ie,ht,Je,Ge,He)=>{var Be,nt,rt,ft;He=He||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var fn=0;fn<He.length;fn++){for(var An,Hn=He[fn],gt=0,Ut=0,Ct=0,dn=(rt=void 0,new k({comments:Ge,delimiter:Hn,newline:ht,preview:10}).parse(ie)),Rt=0;Rt<dn.data.length;Rt++)Je&&W(dn.data[Rt])?Ct++:(An=dn.data[Rt].length,Ut+=An,rt===void 0?rt=An:0<An&&(gt+=Math.abs(An-rt),rt=An));0<dn.data.length&&(Ut/=dn.data.length-Ct),(nt===void 0||gt<=nt)&&(ft===void 0||ft<Ut)&&1.99<Ut&&(nt=gt,Be=Hn,ft=Ut)}return{successful:!!(N.delimiter=Be),bestDelimiter:Be}})(Ie,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=$e.bestDelimiter:(O=!0,N.delimiter=d.DefaultDelimiter),Q.meta.delimiter=N.delimiter),G(N));return N.preview&&N.header&&$e.preview++,b=Ie,F=new k($e),Q=F.parse(b,be,De),ne(),ke?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return ke},this.pause=function(){ke=!0,F.abort(),b=I(N.chunk)?"":b.substring(F.getCharIndex())},this.resume=function(){ee.streamer._halted?(ke=!1,ee.streamer.parseChunk(b,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,F.abort(),Q.meta.aborted=!0,I(N.complete)&&N.complete(Q),b=""},this.guessLineEndings=function(ie,$e){ie=ie.substring(0,1048576);var $e=new RegExp(C($e)+"([^]*?)"+C($e),"gm"),De=(ie=ie.replace($e,"")).split("\r"),$e=ie.split(`
`),ie=1<$e.length&&$e[0].length<De[0].length;if(De.length===1||ie)return`
`;for(var ht=0,Je=0;Je<De.length;Je++)De[Je][0]===`
`&&ht++;return ht>=De.length/2?`\r
`:"\r"}}function C(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(N){var b=(N=N||{}).delimiter,F=N.newline,O=N.comments,M=N.step,U=N.preview,ue=N.fastMode,pe=null,ae=!1,ee=N.quoteChar==null?'"':N.quoteChar,le=ee;if(N.escapeChar!==void 0&&(le=N.escapeChar),(typeof b!="string"||-1<d.BAD_DELIMITERS.indexOf(b))&&(b=","),O===b)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<d.BAD_DELIMITERS.indexOf(O))&&(O=!1),F!==`
`&&F!=="\r"&&F!==`\r
`&&(F=`
`);var se=0,ke=!1;this.parse=function(Z,B,Q){if(typeof Z!="string")throw new Error("Input must be a string");var W=Z.length,ne=b.length,he=F.length,ge=O.length,Ie=I(M),be=[],De=[],$e=[],ie=se=0;if(!Z)return gt();if(ue||ue!==!1&&Z.indexOf(ee)===-1){for(var ht=Z.split(F),Je=0;Je<ht.length;Je++){if($e=ht[Je],se+=$e.length,Je!==ht.length-1)se+=F.length;else if(Q)return gt();if(!O||$e.substring(0,ge)!==O){if(Ie){if(be=[],ft($e.split(b)),Ut(),ke)return gt()}else ft($e.split(b));if(U&&U<=Je)return be=be.slice(0,U),gt(!0)}}return gt()}for(var Ge=Z.indexOf(b,se),He=Z.indexOf(F,se),Be=new RegExp(C(le)+C(ee),"g"),nt=Z.indexOf(ee,se);;)if(Z[se]===ee)for(nt=se,se++;;){if((nt=Z.indexOf(ee,nt+1))===-1)return Q||De.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:se}),An();if(nt===W-1)return An(Z.substring(se,nt).replace(Be,ee));if(ee===le&&Z[nt+1]===le)nt++;else if(ee===le||nt===0||Z[nt-1]!==le){Ge!==-1&&Ge<nt+1&&(Ge=Z.indexOf(b,nt+1));var rt=fn((He=He!==-1&&He<nt+1?Z.indexOf(F,nt+1):He)===-1?Ge:Math.min(Ge,He));if(Z.substr(nt+1+rt,ne)===b){$e.push(Z.substring(se,nt).replace(Be,ee)),Z[se=nt+1+rt+ne]!==ee&&(nt=Z.indexOf(ee,se)),Ge=Z.indexOf(b,se),He=Z.indexOf(F,se);break}if(rt=fn(He),Z.substring(nt+1+rt,nt+1+rt+he)===F){if($e.push(Z.substring(se,nt).replace(Be,ee)),Hn(nt+1+rt+he),Ge=Z.indexOf(b,se),nt=Z.indexOf(ee,se),Ie&&(Ut(),ke))return gt();if(U&&be.length>=U)return gt(!0);break}De.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:se}),nt++}}else if(O&&$e.length===0&&Z.substring(se,se+ge)===O){if(He===-1)return gt();se=He+he,He=Z.indexOf(F,se),Ge=Z.indexOf(b,se)}else if(Ge!==-1&&(Ge<He||He===-1))$e.push(Z.substring(se,Ge)),se=Ge+ne,Ge=Z.indexOf(b,se);else{if(He===-1)break;if($e.push(Z.substring(se,He)),Hn(He+he),Ie&&(Ut(),ke))return gt();if(U&&be.length>=U)return gt(!0)}return An();function ft(Ct){be.push(Ct),ie=se}function fn(Ct){var dn=0;return dn=Ct!==-1&&(Ct=Z.substring(nt+1,Ct))&&Ct.trim()===""?Ct.length:dn}function An(Ct){return Q||(Ct===void 0&&(Ct=Z.substring(se)),$e.push(Ct),se=W,ft($e),Ie&&Ut()),gt()}function Hn(Ct){se=Ct,ft($e),$e=[],He=Z.indexOf(F,se)}function gt(Ct){if(N.header&&!B&&be.length&&!ae){var dn=be[0],Rt=Object.create(null),Pn=new Set(dn);let it=!1;for(let Ft=0;Ft<dn.length;Ft++){let Zt=dn[Ft];if(Rt[Zt=I(N.transformHeader)?N.transformHeader(Zt,Ft):Zt]){let bt,Yt=Rt[Zt];for(;bt=Zt+"_"+Yt,Yt++,Pn.has(bt););Pn.add(bt),dn[Ft]=bt,Rt[Zt]++,it=!0,(pe=pe===null?{}:pe)[bt]=Zt}else Rt[Zt]=1,dn[Ft]=Zt;Pn.add(Zt)}it&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:be,errors:De,meta:{delimiter:b,linebreak:F,aborted:ke,truncated:!!Ct,cursor:ie+(B||0),renamedHeaders:pe}}}function Ut(){M(gt()),be=[],De=[]}},this.abort=function(){ke=!0},this.getCharIndex=function(){return se}}function V(N){var b=N.data,F=c[b.workerId],O=!1;if(b.error)F.userError(b.error,b.file);else if(b.results&&b.results.data){var M={abort:function(){O=!0,D(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:H,resume:H};if(I(F.userStep)){for(var U=0;U<b.results.data.length&&(F.userStep({data:b.results.data[U],errors:b.results.errors,meta:b.results.meta},M),!O);U++);delete b.results}else I(F.userChunk)&&(F.userChunk(b.results,M,b.file),delete b.results)}b.finished&&!O&&D(b.workerId,b.results)}function D(N,b){var F=c[N];I(F.userComplete)&&F.userComplete(b),F.terminate(),delete c[N]}function H(){throw new Error("Not implemented.")}function G(N){if(typeof N!="object"||N===null)return N;var b,F=Array.isArray(N)?[]:{};for(b in N)F[b]=G(N[b]);return F}function K(N,b){return function(){N.apply(b,arguments)}}function I(N){return typeof N=="function"}return d.parse=function(N,b){var F=(b=b||{}).dynamicTyping||!1;if(I(F)&&(b.dynamicTypingFunction=F,F={}),b.dynamicTyping=F,b.transform=!!I(b.transform)&&b.transform,!b.worker||!d.WORKERS_SUPPORTED)return F=null,d.NODE_STREAM_INPUT,typeof N=="string"?(N=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(N),F=new(b.download?g:T)(b)):N.readable===!0&&I(N.read)&&I(N.on)?F=new S(b):(r.File&&N instanceof File||N instanceof Object)&&(F=new v(b)),F.stream(N);(F=(()=>{var O;return!!d.WORKERS_SUPPORTED&&(O=(()=>{var M=r.URL||r.webkitURL||null,U=n.toString();return d.BLOB_URL||(d.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",U,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=V,O.id=f++,c[O.id]=O)})()).userStep=b.step,F.userChunk=b.chunk,F.userComplete=b.complete,F.userError=b.error,b.step=I(b.step),b.chunk=I(b.chunk),b.complete=I(b.complete),b.error=I(b.error),delete b.worker,F.postMessage({input:N,config:b,workerId:F.id})},d.unparse=function(N,b){var F=!1,O=!0,M=",",U=`\r
`,ue='"',pe=ue+ue,ae=!1,ee=null,le=!1,se=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||d.BAD_DELIMITERS.filter(function(B){return b.delimiter.indexOf(B)!==-1}).length||(M=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(F=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(ae=b.skipEmptyLines),typeof b.newline=="string"&&(U=b.newline),typeof b.quoteChar=="string"&&(ue=b.quoteChar),typeof b.header=="boolean"&&(O=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");ee=b.columns}b.escapeChar!==void 0&&(pe=b.escapeChar+ue),b.escapeFormulae instanceof RegExp?le=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(le=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(ue),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return ke(null,N,ae);if(typeof N[0]=="object")return ke(ee||Object.keys(N[0]),N,ae)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||ee),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),ke(N.fields||[],N.data||[],ae);throw new Error("Unable to serialize unrecognized input");function ke(B,Q,W){var ne="",he=(typeof B=="string"&&(B=JSON.parse(B)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(B)&&0<B.length),ge=!Array.isArray(Q[0]);if(he&&O){for(var Ie=0;Ie<B.length;Ie++)0<Ie&&(ne+=M),ne+=Z(B[Ie],Ie);0<Q.length&&(ne+=U)}for(var be=0;be<Q.length;be++){var De=(he?B:Q[be]).length,$e=!1,ie=he?Object.keys(Q[be]).length===0:Q[be].length===0;if(W&&!he&&($e=W==="greedy"?Q[be].join("").trim()==="":Q[be].length===1&&Q[be][0].length===0),W==="greedy"&&he){for(var ht=[],Je=0;Je<De;Je++){var Ge=ge?B[Je]:Je;ht.push(Q[be][Ge])}$e=ht.join("").trim()===""}if(!$e){for(var He=0;He<De;He++){0<He&&!ie&&(ne+=M);var Be=he&&ge?B[He]:He;ne+=Z(Q[be][Be],He)}be<Q.length-1&&(!W||0<De&&!ie)&&(ne+=U)}}return ne}function Z(B,Q){var W,ne;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(ne=!1,le&&typeof B=="string"&&le.test(B)&&(B="'"+B,ne=!0),W=B.toString().replace(se,pe),(ne=ne||F===!0||typeof F=="function"&&F(B,Q)||Array.isArray(F)&&F[Q]||((he,ge)=>{for(var Ie=0;Ie<ge.length;Ie++)if(-1<he.indexOf(ge[Ie]))return!0;return!1})(W,d.BAD_DELIMITERS)||-1<W.indexOf(M)||W.charAt(0)===" "||W.charAt(W.length-1)===" ")?ue+W+ue:W)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=k,d.ParserHandle=A,d.NetworkStreamer=g,d.FileStreamer=v,d.StringStreamer=T,d.ReadableStreamStreamer=S,r.jQuery&&((i=r.jQuery).fn.parse=function(N){var b=N.config||{},F=[];return this.each(function(U){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var ue=0;ue<this.files.length;ue++)F.push({file:this.files[ue],inputElem:this,instanceConfig:i.extend({},b)})}),O(),this;function O(){if(F.length===0)I(N.complete)&&N.complete();else{var U,ue,pe,ae,ee=F[0];if(I(N.before)){var le=N.before(ee.file,ee.inputElem);if(typeof le=="object"){if(le.action==="abort")return U="AbortError",ue=ee.file,pe=ee.inputElem,ae=le.reason,void(I(N.error)&&N.error({name:U},ue,pe,ae));if(le.action==="skip")return void M();typeof le.config=="object"&&(ee.instanceConfig=i.extend(ee.instanceConfig,le.config))}else if(le==="skip")return void M()}var se=ee.instanceConfig.complete;ee.instanceConfig.complete=function(ke){I(se)&&se(ke,ee.file,ee.inputElem),M()},d.parse(ee.file,ee.instanceConfig)}}function M(){F.splice(0,1),O()}}),o&&(r.onmessage=function(N){N=N.data,d.WORKER_ID===void 0&&N&&(d.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=d.parse(N.input,N.config))&&r.postMessage({workerId:d.WORKER_ID,results:N,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(v.prototype=Object.create(h.prototype)).constructor=v,(T.prototype=Object.create(T.prototype)).constructor=T,(S.prototype=Object.create(h.prototype)).constructor=S,d})})(x0)),x0.exports}var NM=bM();const $C=Cp(NM);function Fe(t,e,n){function r(c,f){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:f,constr:o,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,f);const d=o.prototype,h=Object.keys(d);for(let g=0;g<h.length;g++){const v=h[g];v in c||(c[v]=d[v].bind(c))}}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function o(c){var f;const d=n?.Parent?new s:this;r(d,c),(f=d._zod).deferred??(f.deferred=[]);for(const h of d._zod.deferred)h();return d}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class Pc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class KC extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const YC={};function vl(t){return YC}function JC(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Uv(t,e){return typeof e=="bigint"?e.toString():e}function Xx(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Qx(t){return t==null}function e1(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function IM(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f?.[1]&&(i=Number.parseInt(f[1]))}const s=n>i?n:i,o=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return o%c/10**s}const c2=Symbol("evaluating");function sn(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==c2)return r===void 0&&(r=c2,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Cl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function No(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function u2(t){return JSON.stringify(t)}function RM(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const WC="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function B0(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const kM=Xx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function jf(t){if(B0(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(B0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function ZC(t){return jf(t)?{...t}:Array.isArray(t)?[...t]:t}const DM=new Set(["string","number","symbol"]);function qc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Io(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function ot(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function MM(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const PM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function FM(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=No(t._zod.def,{get shape(){const o={};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&(o[c]=n.shape[c])}return Cl(this,"shape",o),o},checks:[]});return Io(t,s)}function OM(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=No(t._zod.def,{get shape(){const o={...t._zod.def.shape};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&delete o[c]}return Cl(this,"shape",o),o},checks:[]});return Io(t,s)}function LM(t,e){if(!jf(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const s=t._zod.def.shape;for(const o in e)if(Object.getOwnPropertyDescriptor(s,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=No(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return Cl(this,"shape",s),s}});return Io(t,i)}function UM(t,e){if(!jf(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=No(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Cl(this,"shape",r),r}});return Io(t,n)}function VM(t,e){const n=No(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Cl(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Io(t,n)}function BM(t,e,n){const i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=No(e._zod.def,{get shape(){const c=e._zod.def.shape,f={...c};if(n)for(const d in n){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(f[d]=t?new t({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)f[d]=t?new t({type:"optional",innerType:c[d]}):c[d];return Cl(this,"shape",f),f},checks:[]});return Io(e,o)}function zM(t,e,n){const r=No(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new t({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new t({type:"nonoptional",innerType:i[o]});return Cl(this,"shape",s),s}});return Io(e,r)}function Ic(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function XC(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function $h(t){return typeof t=="string"?t:t?.message}function xl(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=$h(t.inst?._zod.def?.error?.(t))??$h(e?.error?.(t))??$h(n.customError?.(t))??$h(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function t1(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function qf(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const QC=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Uv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},eb=Fe("$ZodError",QC),tb=Fe("$ZodError",QC,{Parent:Error});function HM(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function GM(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let o=n,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(o[f]=o[f]||{_errors:[]},o[f]._errors.push(e(s))):o[f]=o[f]||{_errors:[]},o=o[f],c++}}};return r(t),n}const n1=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new Pc;if(o.issues.length){const c=new(i?.Err??t)(o.issues.map(f=>xl(f,s,vl())));throw WC(c,i?.callee),c}return o.value},r1=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(i?.Err??t)(o.issues.map(f=>xl(f,s,vl())));throw WC(c,i?.callee),c}return o.value},bp=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Pc;return s.issues.length?{success:!1,error:new(t??eb)(s.issues.map(o=>xl(o,i,vl())))}:{success:!0,data:s.value}},jM=bp(tb),Np=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(o=>xl(o,i,vl())))}:{success:!0,data:s.value}},qM=Np(tb),$M=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return n1(t)(e,n,i)},KM=t=>(e,n,r)=>n1(t)(e,n,r),YM=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return r1(t)(e,n,i)},JM=t=>async(e,n,r)=>r1(t)(e,n,r),WM=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bp(t)(e,n,i)},ZM=t=>(e,n,r)=>bp(t)(e,n,r),XM=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Np(t)(e,n,i)},QM=t=>async(e,n,r)=>Np(t)(e,n,r),eP=/^[cC][^\s-]{8,}$/,tP=/^[0-9a-z]+$/,nP=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,rP=/^[0-9a-vA-V]{20}$/,iP=/^[A-Za-z0-9]{27}$/,sP=/^[a-zA-Z0-9_-]{21}$/,aP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,oP=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,f2=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,lP=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,cP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function uP(){return new RegExp(cP,"u")}const fP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,hP=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,pP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,nb=/^[A-Za-z0-9_-]*$/,gP=/^\+[1-9]\d{6,14}$/,rb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",vP=new RegExp(`^${rb}$`);function ib(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function xP(t){return new RegExp(`^${ib(t)}$`)}function yP(t){const e=ib({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${rb}T(?:${r})$`)}const _P=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},EP=/^-?\d+$/,TP=/^-?\d+(?:\.\d+)?$/,wP=/^[^A-Z]*$/,SP=/^[^a-z]*$/,pi=Fe("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),sb={number:"number",bigint:"bigint",object:"date"},ab=Fe("$ZodCheckLessThan",(t,e)=>{pi.init(t,e);const n=sb[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ob=Fe("$ZodCheckGreaterThan",(t,e)=>{pi.init(t,e);const n=sb[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),AP=Fe("$ZodCheckMultipleOf",(t,e)=>{pi.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):IM(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),CP=Fe("$ZodCheckNumberFormat",(t,e)=>{pi.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,s]=PM[e.format];t._zod.onattach.push(o=>{const c=o._zod.bag;c.format=e.format,c.minimum=i,c.maximum=s,n&&(c.pattern=EP)}),t._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}c<i&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),c>s&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inclusive:!0,inst:t,continue:!e.abort})}}),bP=Fe("$ZodCheckMaxLength",(t,e)=>{var n;pi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Qx(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const o=t1(i);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),NP=Fe("$ZodCheckMinLength",(t,e)=>{var n;pi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Qx(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const o=t1(i);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),IP=Fe("$ZodCheckLengthEquals",(t,e)=>{var n;pi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!Qx(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const o=t1(i),c=s>e.length;r.issues.push({origin:o,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Ip=Fe("$ZodCheckStringFormat",(t,e)=>{var n,r;pi.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),RP=Fe("$ZodCheckRegex",(t,e)=>{Ip.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),kP=Fe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=wP),Ip.init(t,e)}),DP=Fe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=SP),Ip.init(t,e)}),MP=Fe("$ZodCheckIncludes",(t,e)=>{pi.init(t,e);const n=qc(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),PP=Fe("$ZodCheckStartsWith",(t,e)=>{pi.init(t,e);const n=new RegExp(`^${qc(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),FP=Fe("$ZodCheckEndsWith",(t,e)=>{pi.init(t,e);const n=new RegExp(`.*${qc(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),OP=Fe("$ZodCheckOverwrite",(t,e)=>{pi.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class LP{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const UP={major:4,minor:3,patch:6},Bn=Fe("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=UP;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const s of i._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(o,c,f)=>{let d=Ic(o),h;for(const g of c){if(g._zod.def.when){if(!g._zod.def.when(o))continue}else if(d)continue;const v=o.issues.length,T=g._zod.check(o);if(T instanceof Promise&&f?.async===!1)throw new Pc;if(h||T instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await T,o.issues.length!==v&&(d||(d=Ic(o,v)))});else{if(o.issues.length===v)continue;d||(d=Ic(o,v))}}return h?h.then(()=>o):o},s=(o,c,f)=>{if(Ic(o))return o.aborted=!0,o;const d=i(c,r,f);if(d instanceof Promise){if(f.async===!1)throw new Pc;return d.then(h=>t._zod.parse(h,f))}return t._zod.parse(d,f)};t._zod.run=(o,c)=>{if(c.skipChecks)return t._zod.parse(o,c);if(c.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(h=>s(h,o,c)):s(d,o,c)}const f=t._zod.parse(o,c);if(f instanceof Promise){if(c.async===!1)throw new Pc;return f.then(d=>i(d,r,c))}return i(f,r,c)}}sn(t,"~standard",()=>({validate:i=>{try{const s=jM(t,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return qM(t,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}))}),i1=Fe("$ZodString",(t,e)=>{Bn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??_P(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Sn=Fe("$ZodStringFormat",(t,e)=>{Ip.init(t,e),i1.init(t,e)}),VP=Fe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=oP),Sn.init(t,e)}),BP=Fe("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=f2(r))}else e.pattern??(e.pattern=f2());Sn.init(t,e)}),zP=Fe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=lP),Sn.init(t,e)}),HP=Fe("$ZodURL",(t,e)=>{Sn.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),GP=Fe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=uP()),Sn.init(t,e)}),jP=Fe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=sP),Sn.init(t,e)}),qP=Fe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=eP),Sn.init(t,e)}),$P=Fe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=tP),Sn.init(t,e)}),KP=Fe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=nP),Sn.init(t,e)}),YP=Fe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=rP),Sn.init(t,e)}),JP=Fe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=iP),Sn.init(t,e)}),WP=Fe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=yP(e)),Sn.init(t,e)}),ZP=Fe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=vP),Sn.init(t,e)}),XP=Fe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=xP(e)),Sn.init(t,e)}),QP=Fe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=aP),Sn.init(t,e)}),e6=Fe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=fP),Sn.init(t,e),t._zod.bag.format="ipv4"}),t6=Fe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=dP),Sn.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),n6=Fe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=hP),Sn.init(t,e)}),r6=Fe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=pP),Sn.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function lb(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const i6=Fe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=mP),Sn.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{lb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function s6(t){if(!nb.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return lb(n)}const a6=Fe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=nb),Sn.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{s6(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),o6=Fe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=gP),Sn.init(t,e)});function l6(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const c6=Fe("$ZodJWT",(t,e)=>{Sn.init(t,e),t._zod.check=n=>{l6(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),cb=Fe("$ZodNumber",(t,e)=>{Bn.init(t,e),t._zod.pattern=t._zod.bag.pattern??TP,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),u6=Fe("$ZodNumberFormat",(t,e)=>{CP.init(t,e),cb.init(t,e)}),f6=Fe("$ZodUnknown",(t,e)=>{Bn.init(t,e),t._zod.parse=n=>n}),d6=Fe("$ZodNever",(t,e)=>{Bn.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function d2(t,e,n){t.issues.length&&e.issues.push(...XC(n,t.issues)),e.value[n]=t.value}const h6=Fe("$ZodArray",(t,e)=>{Bn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const c=i[o],f=e.element._zod.run({value:c,issues:[]},r);f instanceof Promise?s.push(f.then(d=>d2(d,n,o))):d2(f,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function z0(t,e,n,r,i){if(t.issues.length){if(i&&!(n in r))return;e.issues.push(...XC(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function ub(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=MM(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function fb(t,e,n,r,i,s){const o=[],c=i.keySet,f=i.catchall._zod,d=f.def.type,h=f.optout==="optional";for(const g in e){if(c.has(g))continue;if(d==="never"){o.push(g);continue}const v=f.run({value:e[g],issues:[]},r);v instanceof Promise?t.push(v.then(T=>z0(T,n,g,e,h))):z0(v,n,g,e,h)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const p6=Fe("$ZodObject",(t,e)=>{if(Bn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...c};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=Xx(()=>ub(e));sn(t._zod,"propValues",()=>{const c=e.shape,f={};for(const d in c){const h=c[d]._zod;if(h.values){f[d]??(f[d]=new Set);for(const g of h.values)f[d].add(g)}}return f});const i=B0,s=e.catchall;let o;t._zod.parse=(c,f)=>{o??(o=r.value);const d=c.value;if(!i(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),c;c.value={};const h=[],g=o.shape;for(const v of o.keys){const T=g[v],S=T._zod.optout==="optional",A=T._zod.run({value:d[v],issues:[]},f);A instanceof Promise?h.push(A.then(C=>z0(C,c,v,d,S))):z0(A,c,v,d,S)}return s?fb(h,d,c,f,r.value,t):h.length?Promise.all(h).then(()=>c):c}}),m6=Fe("$ZodObjectJIT",(t,e)=>{p6.init(t,e);const n=t._zod.parse,r=Xx(()=>ub(e)),i=v=>{const T=new LP(["shape","payload","ctx"]),S=r.value,A=D=>{const H=u2(D);return`shape[${H}]._zod.run({ value: input[${H}], issues: [] }, ctx)`};T.write("const input = payload.value;");const C=Object.create(null);let k=0;for(const D of S.keys)C[D]=`key_${k++}`;T.write("const newResult = {};");for(const D of S.keys){const H=C[D],G=u2(D),I=v[D]?._zod?.optout==="optional";T.write(`const ${H} = ${A(D)};`),I?T.write(`
        if (${H}.issues.length) {
          if (${G} in input) {
            payload.issues = payload.issues.concat(${H}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${G}, ...iss.path] : [${G}]
            })));
          }
        }
        
        if (${H}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${H}.value;
        }
        
      `):T.write(`
        if (${H}.issues.length) {
          payload.issues = payload.issues.concat(${H}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${G}, ...iss.path] : [${G}]
          })));
        }
        
        if (${H}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${H}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const V=T.compile();return(D,H)=>V(v,D,H)};let s;const o=B0,c=!YC.jitless,d=c&&kM.value,h=e.catchall;let g;t._zod.parse=(v,T)=>{g??(g=r.value);const S=v.value;return o(S)?c&&d&&T?.async===!1&&T.jitless!==!0?(s||(s=i(e.shape)),v=s(v,T),h?fb([],S,v,T,g,t):v):n(v,T):(v.issues.push({expected:"object",code:"invalid_type",input:S,inst:t}),v)}});function h2(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!Ic(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(o=>xl(o,r,vl())))}),e)}const g6=Fe("$ZodUnion",(t,e)=>{Bn.init(t,e),sn(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),sn(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),sn(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),sn(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>e1(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const c=[];for(const f of e.options){const d=f._zod.run({value:i.value,issues:[]},s);if(d instanceof Promise)c.push(d),o=!0;else{if(d.issues.length===0)return d;c.push(d)}}return o?Promise.all(c).then(f=>h2(f,i,t,s)):h2(c,i,t,s)}}),v6=Fe("$ZodIntersection",(t,e)=>{Bn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),o=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([f,d])=>p2(n,f,d)):p2(n,s,o)}});function Vv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(jf(t)&&jf(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const o=Vv(t[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],o=Vv(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function p2(t,e,n){const r=new Map;let i;for(const c of e.issues)if(c.code==="unrecognized_keys"){i??(i=c);for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else t.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else t.issues.push(c);const s=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(s.length&&i&&t.issues.push({...i,keys:s}),Ic(t))return t;const o=Vv(e.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return t.value=o.data,t}const x6=Fe("$ZodEnum",(t,e)=>{Bn.init(t,e);const n=JC(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>DM.has(typeof i)).map(i=>typeof i=="string"?qc(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:t}),i}}),y6=Fe("$ZodLiteral",(t,e)=>{if(Bn.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?qc(r):r?qc(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),r}}),_6=Fe("$ZodTransform",(t,e)=>{Bn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new KC(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new Pc;return n.value=i,n}});function m2(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const db=Fe("$ZodOptional",(t,e)=>{Bn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",sn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),sn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${e1(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>m2(s,n.value)):m2(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),E6=Fe("$ZodExactOptional",(t,e)=>{db.init(t,e),sn(t._zod,"values",()=>e.innerType._zod.values),sn(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),T6=Fe("$ZodNullable",(t,e)=>{Bn.init(t,e),sn(t._zod,"optin",()=>e.innerType._zod.optin),sn(t._zod,"optout",()=>e.innerType._zod.optout),sn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${e1(n.source)}|null)$`):void 0}),sn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),w6=Fe("$ZodDefault",(t,e)=>{Bn.init(t,e),t._zod.optin="optional",sn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>g2(s,e)):g2(i,e)}});function g2(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const S6=Fe("$ZodPrefault",(t,e)=>{Bn.init(t,e),t._zod.optin="optional",sn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),A6=Fe("$ZodNonOptional",(t,e)=>{Bn.init(t,e),sn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>v2(s,t)):v2(i,t)}});function v2(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const C6=Fe("$ZodCatch",(t,e)=>{Bn.init(t,e),sn(t._zod,"optin",()=>e.innerType._zod.optin),sn(t._zod,"optout",()=>e.innerType._zod.optout),sn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(o=>xl(o,r,vl()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>xl(s,r,vl()))},input:n.value}),n.issues=[]),n)}}),b6=Fe("$ZodPipe",(t,e)=>{Bn.init(t,e),sn(t._zod,"values",()=>e.in._zod.values),sn(t._zod,"optin",()=>e.in._zod.optin),sn(t._zod,"optout",()=>e.out._zod.optout),sn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(o=>Kh(o,e.in,r)):Kh(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>Kh(s,e.out,r)):Kh(i,e.out,r)}});function Kh(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const N6=Fe("$ZodReadonly",(t,e)=>{Bn.init(t,e),sn(t._zod,"propValues",()=>e.innerType._zod.propValues),sn(t._zod,"values",()=>e.innerType._zod.values),sn(t._zod,"optin",()=>e.innerType?._zod?.optin),sn(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(x2):x2(i)}});function x2(t){return t.value=Object.freeze(t.value),t}const I6=Fe("$ZodCustom",(t,e)=>{pi.init(t,e),Bn.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>y2(s,n,r,t));y2(i,n,r,t)}});function y2(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(qf(i))}}var _2;class R6{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function k6(){return new R6}(_2=globalThis).__zod_globalRegistry??(_2.__zod_globalRegistry=k6());const hf=globalThis.__zod_globalRegistry;function D6(t,e){return new t({type:"string",...ot(e)})}function M6(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...ot(e)})}function E2(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...ot(e)})}function P6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...ot(e)})}function F6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ot(e)})}function O6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ot(e)})}function L6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ot(e)})}function U6(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...ot(e)})}function V6(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...ot(e)})}function B6(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...ot(e)})}function z6(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...ot(e)})}function H6(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...ot(e)})}function G6(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...ot(e)})}function j6(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...ot(e)})}function q6(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...ot(e)})}function $6(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...ot(e)})}function K6(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...ot(e)})}function Y6(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ot(e)})}function J6(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ot(e)})}function W6(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...ot(e)})}function Z6(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...ot(e)})}function X6(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...ot(e)})}function Q6(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...ot(e)})}function eF(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ot(e)})}function tF(t,e){return new t({type:"string",format:"date",check:"string_format",...ot(e)})}function nF(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...ot(e)})}function rF(t,e){return new t({type:"string",format:"duration",check:"string_format",...ot(e)})}function iF(t,e){return new t({type:"number",checks:[],...ot(e)})}function sF(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...ot(e)})}function aF(t){return new t({type:"unknown"})}function oF(t,e){return new t({type:"never",...ot(e)})}function T2(t,e){return new ab({check:"less_than",...ot(e),value:t,inclusive:!1})}function nv(t,e){return new ab({check:"less_than",...ot(e),value:t,inclusive:!0})}function w2(t,e){return new ob({check:"greater_than",...ot(e),value:t,inclusive:!1})}function rv(t,e){return new ob({check:"greater_than",...ot(e),value:t,inclusive:!0})}function S2(t,e){return new AP({check:"multiple_of",...ot(e),value:t})}function hb(t,e){return new bP({check:"max_length",...ot(e),maximum:t})}function H0(t,e){return new NP({check:"min_length",...ot(e),minimum:t})}function pb(t,e){return new IP({check:"length_equals",...ot(e),length:t})}function lF(t,e){return new RP({check:"string_format",format:"regex",...ot(e),pattern:t})}function cF(t){return new kP({check:"string_format",format:"lowercase",...ot(t)})}function uF(t){return new DP({check:"string_format",format:"uppercase",...ot(t)})}function fF(t,e){return new MP({check:"string_format",format:"includes",...ot(e),includes:t})}function dF(t,e){return new PP({check:"string_format",format:"starts_with",...ot(e),prefix:t})}function hF(t,e){return new FP({check:"string_format",format:"ends_with",...ot(e),suffix:t})}function Qc(t){return new OP({check:"overwrite",tx:t})}function pF(t){return Qc(e=>e.normalize(t))}function mF(){return Qc(t=>t.trim())}function gF(){return Qc(t=>t.toLowerCase())}function vF(){return Qc(t=>t.toUpperCase())}function xF(){return Qc(t=>RM(t))}function yF(t,e,n){return new t({type:"array",element:e,...ot(n)})}function _F(t,e,n){return new t({type:"custom",check:"custom",fn:e,...ot(n)})}function EF(t){const e=TF(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(qf(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(qf(i))}},t(n.value,n)));return e}function TF(t,e){const n=new pi({check:"custom",...ot(e)});return n._zod.check=t,n}function mb(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??hf,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Cr(t,e,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,s=e.seen.get(t);if(s)return s.count++,n.schemaPath.includes(t)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,o);const c=t._zod.toJSONSchema?.();if(c)o.schema=c;else{const h={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,o.schema,h);else{const v=o.schema,T=e.processors[i.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);T(t,e,v,h)}const g=t._zod.parent;g&&(o.ref||(o.ref=g),Cr(g,e,h),e.seen.get(g).isParent=!0)}const f=e.metadataRegistry.get(t);return f&&Object.assign(o.schema,f),e.io==="input"&&Kr(t)&&(delete o.schema.examples,delete o.schema.default),e.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,e.seen.get(t).schema}function gb(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const o of t.seen.entries()){const c=t.metadataRegistry.get(o[0])?.id;if(c){const f=r.get(c);if(f&&f!==o[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(c,o[0])}}const i=o=>{const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const g=t.external.registry.get(o[0])?.id,v=t.external.uri??(S=>S);if(g)return{ref:v(g)};const T=o[1].defId??o[1].schema.id??`schema${t.counter++}`;return o[1].defId=T,{defId:T,ref:`${v("__shared")}#/${c}/${T}`}}if(o[1]===n)return{ref:"#"};const d=`#/${c}/`,h=o[1].schema.id??`__schema${t.counter++}`;return{defId:h,ref:d+h}},s=o=>{if(o[1].schema.$ref)return;const c=o[1],{ref:f,defId:d}=i(o);c.def={...c.schema},d&&(c.defId=d);const h=c.schema;for(const g in h)delete h[g];h.$ref=f};if(t.cycles==="throw")for(const o of t.seen.entries()){const c=o[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of t.seen.entries()){const c=o[1];if(e===o[0]){s(o);continue}if(t.external){const d=t.external.registry.get(o[0])?.id;if(e!==o[0]&&d){s(o);continue}}if(t.metadataRegistry.get(o[0])?.id){s(o);continue}if(c.cycle){s(o);continue}if(c.count>1&&t.reused==="ref"){s(o);continue}}}function vb(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const c=t.seen.get(o);if(c.ref===null)return;const f=c.def??c.schema,d={...f},h=c.ref;if(c.ref=null,h){r(h);const v=t.seen.get(h),T=v.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(T)):Object.assign(f,T),Object.assign(f,d),o._zod.parent===h)for(const A in f)A==="$ref"||A==="allOf"||A in d||delete f[A];if(T.$ref&&v.def)for(const A in f)A==="$ref"||A==="allOf"||A in v.def&&JSON.stringify(f[A])===JSON.stringify(v.def[A])&&delete f[A]}const g=o._zod.parent;if(g&&g!==h){r(g);const v=t.seen.get(g);if(v?.schema.$ref&&(f.$ref=v.schema.$ref,v.def))for(const T in f)T==="$ref"||T==="allOf"||T in v.def&&JSON.stringify(f[T])===JSON.stringify(v.def[T])&&delete f[T]}t.override({zodSchema:o,jsonSchema:f,path:c.path??[]})};for(const o of[...t.seen.entries()].reverse())r(o[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const o=t.external.registry.get(e)?.id;if(!o)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(o)}Object.assign(i,n.def??n.schema);const s=t.external?.defs??{};for(const o of t.seen.entries()){const c=o[1];c.def&&c.defId&&(s[c.defId]=c.def)}t.external||Object.keys(s).length>0&&(t.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const o=JSON.parse(JSON.stringify(i));return Object.defineProperty(o,"~standard",{value:{...e["~standard"],jsonSchema:{input:G0(e,"input",t.processors),output:G0(e,"output",t.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function Kr(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Kr(r.element,n);if(r.type==="set")return Kr(r.valueType,n);if(r.type==="lazy")return Kr(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Kr(r.innerType,n);if(r.type==="intersection")return Kr(r.left,n)||Kr(r.right,n);if(r.type==="record"||r.type==="map")return Kr(r.keyType,n)||Kr(r.valueType,n);if(r.type==="pipe")return Kr(r.in,n)||Kr(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Kr(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Kr(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Kr(i,n))return!0;return!!(r.rest&&Kr(r.rest,n))}return!1}const wF=(t,e={})=>n=>{const r=mb({...n,processors:e});return Cr(t,r),gb(r,t),vb(r,t)},G0=(t,e,n={})=>r=>{const{libraryOptions:i,target:s}=r??{},o=mb({...i??{},target:s,io:e,processors:n});return Cr(t,o),gb(o,t),vb(o,t)},SF={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},AF=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:o,format:c,patterns:f,contentEncoding:d}=t._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof o=="number"&&(i.maxLength=o),c&&(i.format=SF[c]??c,i.format===""&&delete i.format,c==="time"&&delete i.format),d&&(i.contentEncoding=d),f&&f.size>0){const h=[...f];h.length===1?i.pattern=h[0].source:h.length>1&&(i.allOf=[...h.map(g=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},CF=(t,e,n,r)=>{const i=n,{minimum:s,maximum:o,format:c,multipleOf:f,exclusiveMaximum:d,exclusiveMinimum:h}=t._zod.bag;typeof c=="string"&&c.includes("int")?i.type="integer":i.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=h,i.exclusiveMinimum=!0):i.exclusiveMinimum=h),typeof s=="number"&&(i.minimum=s,typeof h=="number"&&e.target!=="draft-04"&&(h>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=d,i.exclusiveMaximum=!0):i.exclusiveMaximum=d),typeof o=="number"&&(i.maximum=o,typeof d=="number"&&e.target!=="draft-04"&&(d<=o?delete i.maximum:delete i.exclusiveMaximum)),typeof f=="number"&&(i.multipleOf=f)},bF=(t,e,n,r)=>{n.not={}},NF=(t,e,n,r)=>{},IF=(t,e,n,r)=>{const i=t._zod.def,s=JC(i.entries);s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),n.enum=s},RF=(t,e,n,r)=>{const i=t._zod.def,s=[];for(const o of i.values)if(o===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(o))}else s.push(o);if(s.length!==0)if(s.length===1){const o=s[0];n.type=o===null?"null":typeof o,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[o]:n.const=o}else s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),s.every(o=>typeof o=="boolean")&&(n.type="boolean"),s.every(o=>o===null)&&(n.type="null"),n.enum=s},kF=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},DF=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},MF=(t,e,n,r)=>{const i=n,s=t._zod.def,{minimum:o,maximum:c}=t._zod.bag;typeof o=="number"&&(i.minItems=o),typeof c=="number"&&(i.maxItems=c),i.type="array",i.items=Cr(s.element,e,{...r,path:[...r.path,"items"]})},PF=(t,e,n,r)=>{const i=n,s=t._zod.def;i.type="object",i.properties={};const o=s.shape;for(const d in o)i.properties[d]=Cr(o[d],e,{...r,path:[...r.path,"properties",d]});const c=new Set(Object.keys(o)),f=new Set([...c].filter(d=>{const h=s.shape[d]._zod;return e.io==="input"?h.optin===void 0:h.optout===void 0}));f.size>0&&(i.required=Array.from(f)),s.catchall?._zod.def.type==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=Cr(s.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},FF=(t,e,n,r)=>{const i=t._zod.def,s=i.inclusive===!1,o=i.options.map((c,f)=>Cr(c,e,{...r,path:[...r.path,s?"oneOf":"anyOf",f]}));s?n.oneOf=o:n.anyOf=o},OF=(t,e,n,r)=>{const i=t._zod.def,s=Cr(i.left,e,{...r,path:[...r.path,"allOf",0]}),o=Cr(i.right,e,{...r,path:[...r.path,"allOf",1]}),c=d=>"allOf"in d&&Object.keys(d).length===1,f=[...c(s)?s.allOf:[s],...c(o)?o.allOf:[o]];n.allOf=f},LF=(t,e,n,r)=>{const i=t._zod.def,s=Cr(i.innerType,e,r),o=e.seen.get(t);e.target==="openapi-3.0"?(o.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},UF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},VF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},BF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},zF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType;let o;try{o=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},HF=(t,e,n,r)=>{const i=t._zod.def,s=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Cr(s,e,r);const o=e.seen.get(t);o.ref=s},GF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.readOnly=!0},xb=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},jF=Fe("ZodISODateTime",(t,e)=>{WP.init(t,e),Nn.init(t,e)});function qF(t){return eF(jF,t)}const $F=Fe("ZodISODate",(t,e)=>{ZP.init(t,e),Nn.init(t,e)});function KF(t){return tF($F,t)}const YF=Fe("ZodISOTime",(t,e)=>{XP.init(t,e),Nn.init(t,e)});function JF(t){return nF(YF,t)}const WF=Fe("ZodISODuration",(t,e)=>{QP.init(t,e),Nn.init(t,e)});function ZF(t){return rF(WF,t)}const XF=(t,e)=>{eb.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>GM(t,n)},flatten:{value:n=>HM(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Uv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Uv,2)}},isEmpty:{get(){return t.issues.length===0}}})},Yi=Fe("ZodError",XF,{Parent:Error}),QF=n1(Yi),e5=r1(Yi),t5=bp(Yi),n5=Np(Yi),r5=$M(Yi),i5=KM(Yi),s5=YM(Yi),a5=JM(Yi),o5=WM(Yi),l5=ZM(Yi),c5=XM(Yi),u5=QM(Yi),zn=Fe("ZodType",(t,e)=>(Bn.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:G0(t,"input"),output:G0(t,"output")}}),t.toJSONSchema=wF(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(No(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>Io(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>QF(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>t5(t,n,r),t.parseAsync=async(n,r)=>e5(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>n5(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>r5(t,n,r),t.decode=(n,r)=>i5(t,n,r),t.encodeAsync=async(n,r)=>s5(t,n,r),t.decodeAsync=async(n,r)=>a5(t,n,r),t.safeEncode=(n,r)=>o5(t,n,r),t.safeDecode=(n,r)=>l5(t,n,r),t.safeEncodeAsync=async(n,r)=>c5(t,n,r),t.safeDecodeAsync=async(n,r)=>u5(t,n,r),t.refine=(n,r)=>t.check(rO(n,r)),t.superRefine=n=>t.check(iO(n)),t.overwrite=n=>t.check(Qc(n)),t.optional=()=>N2(t),t.exactOptional=()=>j5(t),t.nullable=()=>I2(t),t.nullish=()=>N2(I2(t)),t.nonoptional=n=>W5(t,n),t.array=()=>Eb(t),t.or=n=>O5([t,n]),t.and=n=>U5(t,n),t.transform=n=>R2(t,H5(n)),t.default=n=>K5(t,n),t.prefault=n=>J5(t,n),t.catch=n=>X5(t,n),t.pipe=n=>R2(t,n),t.readonly=()=>tO(t),t.describe=n=>{const r=t.clone();return hf.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return hf.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return hf.get(t);const r=t.clone();return hf.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),yb=Fe("_ZodString",(t,e)=>{i1.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>AF(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(lF(...r)),t.includes=(...r)=>t.check(fF(...r)),t.startsWith=(...r)=>t.check(dF(...r)),t.endsWith=(...r)=>t.check(hF(...r)),t.min=(...r)=>t.check(H0(...r)),t.max=(...r)=>t.check(hb(...r)),t.length=(...r)=>t.check(pb(...r)),t.nonempty=(...r)=>t.check(H0(1,...r)),t.lowercase=r=>t.check(cF(r)),t.uppercase=r=>t.check(uF(r)),t.trim=()=>t.check(mF()),t.normalize=(...r)=>t.check(pF(...r)),t.toLowerCase=()=>t.check(gF()),t.toUpperCase=()=>t.check(vF()),t.slugify=()=>t.check(xF())}),f5=Fe("ZodString",(t,e)=>{i1.init(t,e),yb.init(t,e),t.email=n=>t.check(M6(d5,n)),t.url=n=>t.check(U6(h5,n)),t.jwt=n=>t.check(Q6(N5,n)),t.emoji=n=>t.check(V6(p5,n)),t.guid=n=>t.check(E2(A2,n)),t.uuid=n=>t.check(P6(Yh,n)),t.uuidv4=n=>t.check(F6(Yh,n)),t.uuidv6=n=>t.check(O6(Yh,n)),t.uuidv7=n=>t.check(L6(Yh,n)),t.nanoid=n=>t.check(B6(m5,n)),t.guid=n=>t.check(E2(A2,n)),t.cuid=n=>t.check(z6(g5,n)),t.cuid2=n=>t.check(H6(v5,n)),t.ulid=n=>t.check(G6(x5,n)),t.base64=n=>t.check(W6(A5,n)),t.base64url=n=>t.check(Z6(C5,n)),t.xid=n=>t.check(j6(y5,n)),t.ksuid=n=>t.check(q6(_5,n)),t.ipv4=n=>t.check($6(E5,n)),t.ipv6=n=>t.check(K6(T5,n)),t.cidrv4=n=>t.check(Y6(w5,n)),t.cidrv6=n=>t.check(J6(S5,n)),t.e164=n=>t.check(X6(b5,n)),t.datetime=n=>t.check(qF(n)),t.date=n=>t.check(KF(n)),t.time=n=>t.check(JF(n)),t.duration=n=>t.check(ZF(n))});function Ds(t){return D6(f5,t)}const Nn=Fe("ZodStringFormat",(t,e)=>{Sn.init(t,e),yb.init(t,e)}),d5=Fe("ZodEmail",(t,e)=>{zP.init(t,e),Nn.init(t,e)}),A2=Fe("ZodGUID",(t,e)=>{VP.init(t,e),Nn.init(t,e)}),Yh=Fe("ZodUUID",(t,e)=>{BP.init(t,e),Nn.init(t,e)}),h5=Fe("ZodURL",(t,e)=>{HP.init(t,e),Nn.init(t,e)}),p5=Fe("ZodEmoji",(t,e)=>{GP.init(t,e),Nn.init(t,e)}),m5=Fe("ZodNanoID",(t,e)=>{jP.init(t,e),Nn.init(t,e)}),g5=Fe("ZodCUID",(t,e)=>{qP.init(t,e),Nn.init(t,e)}),v5=Fe("ZodCUID2",(t,e)=>{$P.init(t,e),Nn.init(t,e)}),x5=Fe("ZodULID",(t,e)=>{KP.init(t,e),Nn.init(t,e)}),y5=Fe("ZodXID",(t,e)=>{YP.init(t,e),Nn.init(t,e)}),_5=Fe("ZodKSUID",(t,e)=>{JP.init(t,e),Nn.init(t,e)}),E5=Fe("ZodIPv4",(t,e)=>{e6.init(t,e),Nn.init(t,e)}),T5=Fe("ZodIPv6",(t,e)=>{t6.init(t,e),Nn.init(t,e)}),w5=Fe("ZodCIDRv4",(t,e)=>{n6.init(t,e),Nn.init(t,e)}),S5=Fe("ZodCIDRv6",(t,e)=>{r6.init(t,e),Nn.init(t,e)}),A5=Fe("ZodBase64",(t,e)=>{i6.init(t,e),Nn.init(t,e)}),C5=Fe("ZodBase64URL",(t,e)=>{a6.init(t,e),Nn.init(t,e)}),b5=Fe("ZodE164",(t,e)=>{o6.init(t,e),Nn.init(t,e)}),N5=Fe("ZodJWT",(t,e)=>{c6.init(t,e),Nn.init(t,e)}),_b=Fe("ZodNumber",(t,e)=>{cb.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>CF(t,r,i),t.gt=(r,i)=>t.check(w2(r,i)),t.gte=(r,i)=>t.check(rv(r,i)),t.min=(r,i)=>t.check(rv(r,i)),t.lt=(r,i)=>t.check(T2(r,i)),t.lte=(r,i)=>t.check(nv(r,i)),t.max=(r,i)=>t.check(nv(r,i)),t.int=r=>t.check(C2(r)),t.safe=r=>t.check(C2(r)),t.positive=r=>t.check(w2(0,r)),t.nonnegative=r=>t.check(rv(0,r)),t.negative=r=>t.check(T2(0,r)),t.nonpositive=r=>t.check(nv(0,r)),t.multipleOf=(r,i)=>t.check(S2(r,i)),t.step=(r,i)=>t.check(S2(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Bv(t){return iF(_b,t)}const I5=Fe("ZodNumberFormat",(t,e)=>{u6.init(t,e),_b.init(t,e)});function C2(t){return sF(I5,t)}const R5=Fe("ZodUnknown",(t,e)=>{f6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>NF()});function b2(){return aF(R5)}const k5=Fe("ZodNever",(t,e)=>{d6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>bF(t,n,r)});function D5(t){return oF(k5,t)}const M5=Fe("ZodArray",(t,e)=>{h6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>MF(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(H0(n,r)),t.nonempty=n=>t.check(H0(1,n)),t.max=(n,r)=>t.check(hb(n,r)),t.length=(n,r)=>t.check(pb(n,r)),t.unwrap=()=>t.element});function Eb(t,e){return yF(M5,t,e)}const P5=Fe("ZodObject",(t,e)=>{m6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>PF(t,n,r,i),sn(t,"shape",()=>e.shape),t.keyof=()=>wb(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:b2()}),t.loose=()=>t.clone({...t._zod.def,catchall:b2()}),t.strict=()=>t.clone({...t._zod.def,catchall:D5()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>LM(t,n),t.safeExtend=n=>UM(t,n),t.merge=n=>VM(t,n),t.pick=n=>FM(t,n),t.omit=n=>OM(t,n),t.partial=(...n)=>BM(Sb,t,n[0]),t.required=(...n)=>zM(Ab,t,n[0])});function Tb(t,e){const n={type:"object",shape:t??{},...ot(e)};return new P5(n)}const F5=Fe("ZodUnion",(t,e)=>{g6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>FF(t,n,r,i),t.options=e.options});function O5(t,e){return new F5({type:"union",options:t,...ot(e)})}const L5=Fe("ZodIntersection",(t,e)=>{v6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>OF(t,n,r,i)});function U5(t,e){return new L5({type:"intersection",left:t,right:e})}const zv=Fe("ZodEnum",(t,e)=>{x6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>IF(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new zv({...e,checks:[],...ot(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new zv({...e,checks:[],...ot(i),entries:s})}});function wb(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new zv({type:"enum",entries:n,...ot(e)})}const V5=Fe("ZodLiteral",(t,e)=>{y6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>RF(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function B5(t,e){return new V5({type:"literal",values:Array.isArray(t)?t:[t],...ot(e)})}const z5=Fe("ZodTransform",(t,e)=>{_6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>DF(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new KC(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(qf(s,n.value,e));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(qf(o))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function H5(t){return new z5({type:"transform",transform:t})}const Sb=Fe("ZodOptional",(t,e)=>{db.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>xb(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function N2(t){return new Sb({type:"optional",innerType:t})}const G5=Fe("ZodExactOptional",(t,e)=>{E6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>xb(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function j5(t){return new G5({type:"optional",innerType:t})}const q5=Fe("ZodNullable",(t,e)=>{T6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>LF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function I2(t){return new q5({type:"nullable",innerType:t})}const $5=Fe("ZodDefault",(t,e)=>{w6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>VF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function K5(t,e){return new $5({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():ZC(e)}})}const Y5=Fe("ZodPrefault",(t,e)=>{S6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>BF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function J5(t,e){return new Y5({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():ZC(e)}})}const Ab=Fe("ZodNonOptional",(t,e)=>{A6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>UF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function W5(t,e){return new Ab({type:"nonoptional",innerType:t,...ot(e)})}const Z5=Fe("ZodCatch",(t,e)=>{C6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>zF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function X5(t,e){return new Z5({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const Q5=Fe("ZodPipe",(t,e)=>{b6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>HF(t,n,r,i),t.in=e.in,t.out=e.out});function R2(t,e){return new Q5({type:"pipe",in:t,out:e})}const eO=Fe("ZodReadonly",(t,e)=>{N6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>GF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function tO(t){return new eO({type:"readonly",innerType:t})}const nO=Fe("ZodCustom",(t,e)=>{I6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>kF(t,n)});function rO(t,e={}){return _F(nO,t,e)}function iO(t){return EF(t)}Tb({companyName:Ds().min(1,"Nome da empresa  obrigatrio"),address:Ds().min(5,"Endereo invlido"),contactName:Ds().optional(),phone:Ds().optional(),email:Ds().email("Email invlido").optional().or(B5("")),category:Ds().or(Eb(Ds())).optional(),status:wb(["Ativo","Inativo","Prospeccao"]).optional().default("Ativo"),lat:Bv().optional(),lng:Bv().optional()});const sO=Tb({name:Ds().min(1),price:Bv().positive(),category:Ds().min(1),sku:Ds().optional()}),k2=t=>{if(!t)return null;const e=t.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(e)return{lat:parseFloat(e[1]),lng:parseFloat(e[2])};const n=t.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return n?{lat:parseFloat(n[1]),lng:parseFloat(n[2])}:null},aO=t=>{if(!t)return null;try{const e=new URL(t),n=e.searchParams.get("query")||e.searchParams.get("q");if(n&&!n.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return n}catch{const n=t.match(/[?&]query=([^&]+)/)||t.match(/[?&]q=([^&]+)/);if(n)return decodeURIComponent(n[1].replace(/\+/g," "))}return null},j0=t=>{if(t==null)return{address:""};const e=String(t).trim(),n=e.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(n){const i=n[1].replace(/""/g,'"').trim(),s=n[2].replace(/""/g,'"').trim(),o=k2(i);return{link:i,address:s,...o}}const r=Cb(e);if(r.includes("google.com/maps")||r.includes("maps.app.goo.gl")){const i=aO(r),s=k2(r);return{link:r,address:i||r,...s}}return{address:r}},Cb=t=>{if(t==null)return"";const e=String(t),n=e.match(/"([^"]+)"\)$/);return n&&n[1]?n[1].trim():e.startsWith("=")?e.replace(/[="()]/g,"").trim():e.trim()},oO=t=>{const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},D2=t=>{if(!t)return 0;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},bb=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Nb=t=>new Promise((e,n)=>{$C.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:r=>{const i=r.data,s=[];i.forEach((o,c)=>{const f={};Object.keys(o).forEach(D=>{f[bb(D)]=o[D]});const d=f["numero do sku"]||f.sku||"",h=f.marca||f.fabricante||"Genrico",g=f["cod.fabrica"]||f["cod fabrica"]||f["codigo fabrica"]||"",v=f.descricao||f.nome||f.produto||"",T=oO(f["preco de venda"]||f.preco||"0"),S=f.categoria||h,A=D2(f.margem||"0"),C=D2(f.desconto||f.discount||"0"),k={category:S,sku:d,brand:h,factoryCode:g,name:v,price:T,margin:A,discount:C},V=sO.safeParse(k);V.success?s.push(V.data):console.warn(`Row ${c+1} invalid:`,V.error.issues)}),e(s)},error:r=>n(r)})}),lO=t=>new Promise((e,n)=>{$C.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:r=>r.trim().replace(/^\ufeff/,""),complete:r=>{const i=r.data,s=[];if(i.forEach(o=>{const c={};Object.keys(o).forEach(C=>{c[bb(C)]=o[C]});const f=c.endereco||c.logradouro||c.localizacao||c["endereco cobranca"]||c["link google maps"]||"";let{address:d,link:h,lat:g,lng:v}=j0(f);const T=c.cep||c.zip||c["codigo postal"]||"";T&&d&&!d.toLowerCase().includes(T.toLowerCase())&&(d=`${d}, ${T}`);const S=c.link||c.mapa||c["google maps"]||c.url||c.maps||c.coordenadas||c.geolocalizacao;if(S){const C=j0(S);C.link&&(h=C.link),C.lat&&(g=C.lat),C.lng&&(v=C.lng)}const A={companyName:c["razao social"]||c.cliente||c["nome fantasia"]||c.fantasia||c.empresa||c["nome comercial"]||"",ownerName:c["nome do proprietario"]||c.proprietario||c.dono||c["contato principal"]||"",phone:c.contato||c.telefone||c.celular||c.whatsapp||"",address:d,googleMapsLink:h,latitude:g,longitude:v};(A.companyName||A.address)&&s.push(A)}),s.length>0){const o=s[0];!o.companyName&&!o.address&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}e(s)},error:r=>{n(r)}})});var Ib=1252,cO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],s1={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},a1=function(t){cO.indexOf(t)!=-1&&(Ib=s1[0]=t)};function uO(){a1(1252)}var fs=function(t){a1(t)};function Rb(){fs(1200),uO()}function M2(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function fO(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function kb(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var pf=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?fO(t.slice(2)):e==254&&n==255?kb(t.slice(2)):e==65279?t.slice(1):t},Jh=function(e){return String.fromCharCode(e)},P2=function(e){return String.fromCharCode(e)},$f,lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function F2(t){for(var e="",n=0,r=0,i=0,s=0,o=0,c=0,f=0,d=0;d<t.length;)n=t.charCodeAt(d++),s=n>>2,r=t.charCodeAt(d++),o=(n&3)<<4|r>>4,i=t.charCodeAt(d++),c=(r&15)<<2|i>>6,f=i&63,isNaN(r)?c=f=64:isNaN(i)&&(f=64),e+=lo.charAt(s)+lo.charAt(o)+lo.charAt(c)+lo.charAt(f);return e}function Ni(t){var e="",n=0,r=0,i=0,s=0,o=0,c=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=lo.indexOf(t.charAt(d++)),o=lo.indexOf(t.charAt(d++)),n=s<<2|o>>4,e+=String.fromCharCode(n),c=lo.indexOf(t.charAt(d++)),r=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),f=lo.indexOf(t.charAt(d++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Lt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),bl=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function yo(t){return Lt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function O2(t){return Lt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var us=function(e){return Lt?bl(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Nl(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function o1(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return o1(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var ao=Lt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:bl(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function dO(t){for(var e=[],n=0,r=t.length+250,i=yo(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|c>>6&15|(o&3)<<4,i[n++]=128|c&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=yo(65535),r=65530)}return e.push(i.slice(0,n)),ao(e)}var Xr=/\u0000/g,mf=/[\u0001-\u0006]/g;function Fc(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function ds(t,e){var n=""+t;return n.length>=e?n:kn("0",e-n.length)+n}function l1(t,e){var n=""+t;return n.length>=e?n:kn(" ",e-n.length)+n}function q0(t,e){var n=""+t;return n.length>=e?n:n+kn(" ",e-n.length)}function hO(t,e){var n=""+Math.round(t);return n.length>=e?n:kn("0",e-n.length)+n}function pO(t,e){var n=""+t;return n.length>=e?n:kn("0",e-n.length)+n}var L2=Math.pow(2,32);function Tc(t,e){if(t>L2||t<-L2)return hO(t,e);var n=Math.round(t);return pO(n,e)}function $0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var U2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],iv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function mO(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var St={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},V2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function K0(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,c=0,f=1,d=0,h=0,g=Math.floor(i);d<e&&(g=Math.floor(i),c=g*o+s,h=g*d+f,!(i-g<5e-8));)i=1/(i-g),s=o,o=c,f=d,d=h;if(h>e&&(d>e?(h=f,c=s):(h=d,c=o)),!n)return[0,r*c,h];var v=Math.floor(r*c/h);return[v,r*c-v*h,h]}function cl(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],c={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),n&&(s=TO(f,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var Db=new Date(1899,11,31,0,0,0),vO=Db.getTime(),xO=new Date(1900,2,1,0,0,0);function Mb(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=xO&&(n+=1440*60*1e3),(n-(vO+(t.getTimezoneOffset()-Db.getTimezoneOffset())*6e4))/(1440*60*1e3)}function c1(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function yO(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function _O(t){var e=t<0?12:11,n=c1(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function EO(t){var e=c1(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Kf(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=_O(t):e===10?n=t.toFixed(10).substr(0,12):n=EO(t),c1(yO(n.toUpperCase()))}function yl(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Kf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return $i(14,Mb(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function TO(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function wO(t,e,n,r){var i="",s=0,o=0,c=n.y,f,d=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,d=2;break;default:f=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,d=e.length;break;case 3:return iv[n.m-1][1];case 5:return iv[n.m-1][0];default:return iv[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,d=e.length;break;case 3:return U2[n.q][0];default:return U2[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?ds(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=ds(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:f=c,d=1;break}var h=d>0?ds(f,d):"";return h}function co(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var Pb=/%/g;function SO(t,e,n){var r=e.replace(Pb,""),i=e.length-r.length;return ca(t,r,n*Math.pow(10,2*i))+kn("%",i)}function AO(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ca(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Fb(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Fb(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Ob=/# (\?+)( ?)\/( ?)(\d+)/;function CO(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,c=r;return n+(s===0?"":""+s)+" "+(o===0?kn(" ",t[1].length+1+t[4].length):l1(o,t[1].length)+t[2]+"/"+t[3]+ds(c,t[4].length))}function bO(t,e,n){return n+(e===0?"":""+e)+kn(" ",t[1].length+2+t[4].length)}var Lb=/^#*0*\.([0#]+)/,Ub=/\).*[0#]/,Vb=/\(###\) ###\\?-####/;function Jr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function B2(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function z2(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function NO(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function IO(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function zi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(Ub)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?zi("n",r,n):"("+zi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return AO(t,e,n);if(e.indexOf("%")!==-1)return SO(t,e,n);if(e.indexOf("E")!==-1)return Fb(e,n);if(e.charCodeAt(0)===36)return"$"+zi(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+Tc(f,e.length);if(e.match(/^[#?]+$/))return i=Tc(n,0),i==="0"&&(i=""),i.length>e.length?i:Jr(e.substr(0,e.length-i.length))+i;if(s=e.match(Ob))return CO(s,f,d);if(e.match(/^#+0+$/))return d+Tc(f,e.length-e.indexOf("0"));if(s=e.match(Lb))return i=B2(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Jr(s[1])).replace(/\.$/,"."+Jr(s[1])).replace(/\.(\d*)$/,function(S,A){return"."+A+kn("0",Jr(s[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+B2(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+co(Tc(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+zi(t,e,-n):co(""+(Math.floor(n)+NO(n,s[1].length)))+"."+ds(z2(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return zi(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Fc(zi(t,e.replace(/[\\-]/g,""),n)),o=0,Fc(Fc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<i.length?i.charAt(o++):S==="0"?"0":""}));if(e.match(Vb))return i=zi(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=K0(f,Math.pow(10,o)-1,!1),i=""+d,h=ca("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=q0(c[2],o),h.length<s[4].length&&(h=Jr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=K0(f,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?l1(c[1],o)+s[2]+"/"+s[3]+q0(c[2],o):kn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Tc(n,0),e.length<=i.length?i:Jr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,v=e.length-i.length-g;return Jr(e.substr(0,g)+i+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=z2(n,s[1].length),n<0?"-"+zi(t,e,-n):co(IO(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?ds(0,3-S.length):"")+S})+"."+ds(o,s[1].length);switch(e){case"###,##0.00":return zi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var T=co(Tc(f,0));return T!=="0"?d+T:"";case"###,###.00":return zi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return zi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function RO(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ca(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function kO(t,e,n){var r=e.replace(Pb,""),i=e.length-r.length;return ca(t,r,n*Math.pow(10,2*i))+kn("%",i)}function Bb(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Bb(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ks(t,e,n){if(t.charCodeAt(0)===40&&!e.match(Ub)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ks("n",r,n):"("+ks("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return RO(t,e,n);if(e.indexOf("%")!==-1)return kO(t,e,n);if(e.indexOf("E")!==-1)return Bb(e,n);if(e.charCodeAt(0)===36)return"$"+ks(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+ds(f,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Jr(e.substr(0,e.length-i.length))+i;if(s=e.match(Ob))return bO(s,f,d);if(e.match(/^#+0+$/))return d+ds(f,e.length-e.indexOf("0"));if(s=e.match(Lb))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Jr(s[1])).replace(/\.$/,"."+Jr(s[1])),i=i.replace(/\.(\d*)$/,function(S,A){return"."+A+kn("0",Jr(s[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+co(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ks(t,e,-n):co(""+n)+"."+kn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ks(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Fc(ks(t,e.replace(/[\\-]/g,""),n)),o=0,Fc(Fc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<i.length?i.charAt(o++):S==="0"?"0":""}));if(e.match(Vb))return i=ks(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=K0(f,Math.pow(10,o)-1,!1),i=""+d,h=ca("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=q0(c[2],o),h.length<s[4].length&&(h=Jr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=K0(f,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?l1(c[1],o)+s[2]+"/"+s[3]+q0(c[2],o):kn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Jr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,v=e.length-i.length-g;return Jr(e.substr(0,g)+i+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ks(t,e,-n):co(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?ds(0,3-S.length):"")+S})+"."+ds(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=co(""+f);return T!=="0"?d+T:"";default:if(e.match(/\.[0#?]*$/))return ks(t,e.slice(0,e.lastIndexOf(".")),n)+Jr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ca(t,e,n){return(n|0)===n?ks(t,e,n):zi(t,e,n)}function DO(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var zb=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function eu(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":$0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(zb))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function MO(t,e,n,r){for(var i=[],s="",o=0,c="",f="t",d,h,g,v="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!$0(t,o))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(g=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++o;break;case"\\":var T=t.charAt(++o),S=T==="("||T===")"?T:"t";i[i.length]={t:S,v:T},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=cl(e,n,t.charAt(o+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},f=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=cl(e,n),d==null))return"";for(s=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=v),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var A={t:c,v:c};if(d==null&&(d=cl(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(A.v=d.H>=12?"P":"A"),A.t="T",v="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(A.v=d.H>=12?"PM":"AM"),A.t="T",o+=5,v="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(A.v=d.H>=12?"":""),A.t="T",o+=5,v="h"):(A.t="t",++o),d==null&&A.t==="T")return"";i[i.length]=A,f=c;break;case"[":for(s=c;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(zb)){if(d==null&&(d=cl(e,n),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",eu(t)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++o<t.length&&(c=t.charAt(o))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++o)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++o;break}var C=0,k=0,V;for(o=i.length-1,f="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=v,f="h",C<1&&(C=1);break;case"s":(V=i[o].v.match(/\.0+$/))&&(k=Math.max(k,V[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":f=i[o].t;break;case"m":f==="s"&&(i[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[o].v.match(/[Hh]/)&&(C=1),C<2&&i[o].v.match(/[Mm]/)&&(C=2),C<3&&i[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var D="",H;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=wO(i[o].t.charCodeAt(0),i[o].v,d,k),i[o].t="t";break;case"n":case"?":for(H=o+1;i[H]!=null&&((c=i[H].t)==="?"||c==="D"||(c===" "||c==="t")&&i[H+1]!=null&&(i[H+1].t==="?"||i[H+1].t==="t"&&i[H+1].v==="/")||i[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[H].v==="/"||i[H].v===" "&&i[H+1]!=null&&i[H+1].t=="?"));)i[o].v+=i[H].v,i[H]={v:"",t:";"},++H;D+=i[o].v,o=H-1;break;case"G":i[o].t="t",i[o].v=yl(e,n);break}var G="",K,I;if(D.length>0){D.charCodeAt(0)==40?(K=e<0&&D.charCodeAt(0)===45?-e:e,I=ca("n",D,K)):(K=e<0&&r>1?-e:e,I=ca("n",D,K),K<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),H=I.length-1;var N=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){N=o;break}var b=i.length;if(N===i.length&&I.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(H>=i[o].v.length-1?(H-=i[o].v.length,i[o].v=I.substr(H+1,i[o].v.length)):H<0?i[o].v="":(i[o].v=I.substr(0,H+1),H=-1),i[o].t="t",b=o);H>=0&&b<i.length&&(i[b].v=I.substr(0,H+1)+i[b].v)}else if(N!==i.length&&I.indexOf("E")===-1){for(H=I.indexOf(".")-1,o=N;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(h=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")-1:i[o].v.length-1,G=i[o].v.substr(h+1);h>=0;--h)H>=0&&(i[o].v.charAt(h)==="0"||i[o].v.charAt(h)==="#")&&(G=I.charAt(H--)+G);i[o].v=G,i[o].t="t",b=o}for(H>=0&&b<i.length&&(i[b].v=I.substr(0,H+1)+i[b].v),H=I.indexOf(".")+1,o=N;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==N)){for(h=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")+1:0,G=i[o].v.substr(0,h);h<i[o].v.length;++h)H<I.length&&(G+=I.charAt(H++));i[o].v=G,i[o].t="t",b=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(K=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=ca(i[o].t,i[o].v,K),i[o].t="t");var F="";for(o=0;o!==i.length;++o)i[o]!=null&&(F+=i[o].v);return F}var H2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function G2(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function PO(t,e){var n=DO(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(H2),c=n[1].match(H2);return G2(e,o)?[r,n[0]]:G2(e,c)?[r,n[1]]:[r,n[o!=null&&c!=null?2:1]]}return[r,s]}function $i(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:St)[t],r==null&&(r=n.table&&n.table[V2[t]]||St[V2[t]]),r==null&&(r=gO[t]||"General");break}if($0(r,0))return yl(e,n);e instanceof Date&&(e=Mb(e,n.date1904));var i=PO(r,e);if($0(i[1]))return yl(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return MO(i[1],e,n,i[0])}function hl(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(St[n]==null){e<0&&(e=n);continue}if(St[n]==t){e=n;break}}e<0&&(e=391)}return St[e]=t,e}function Hb(){St=mO()}var FO={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Gb=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function OO(t){var e=typeof t=="number"?St[t]:t;return e=e.replace(Gb,"(\\d+)"),new RegExp("^"+e+"$")}function LO(t,e,n){var r=-1,i=-1,s=-1,o=-1,c=-1,f=-1;(e.match(Gb)||[]).forEach(function(g,v){var T=parseInt(n[v+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=T;break;case"d":s=T;break;case"h":o=T;break;case"s":f=T;break;case"m":o>=0?c=T:i=T;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&c==-1&&f==-1?d:r==-1&&i==-1&&s==-1?h:d+"T"+h}var UO=(function(){var t={};t.version="1.2.0";function e(){for(var I=0,N=new Array(256),b=0;b!=256;++b)I=b,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,N[b]=I;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(I){var N=0,b=0,F=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)O[F]=I[F];for(F=0;F!=256;++F)for(b=I[F],N=256+F;N<4096;N+=256)b=O[N]=b>>>8^I[b&255];var M=[];for(F=1;F!=16;++F)M[F-1]=typeof Int32Array<"u"?O.subarray(F*256,F*256+256):O.slice(F*256,F*256+256);return M}var i=r(n),s=i[0],o=i[1],c=i[2],f=i[3],d=i[4],h=i[5],g=i[6],v=i[7],T=i[8],S=i[9],A=i[10],C=i[11],k=i[12],V=i[13],D=i[14];function H(I,N){for(var b=N^-1,F=0,O=I.length;F<O;)b=b>>>8^n[(b^I.charCodeAt(F++))&255];return~b}function G(I,N){for(var b=N^-1,F=I.length-15,O=0;O<F;)b=D[I[O++]^b&255]^V[I[O++]^b>>8&255]^k[I[O++]^b>>16&255]^C[I[O++]^b>>>24]^A[I[O++]]^S[I[O++]]^T[I[O++]]^v[I[O++]]^g[I[O++]]^h[I[O++]]^d[I[O++]]^f[I[O++]]^c[I[O++]]^o[I[O++]]^s[I[O++]]^n[I[O++]];for(F+=15;O<F;)b=b>>>8^n[(b^I[O++])&255];return~b}function K(I,N){for(var b=N^-1,F=0,O=I.length,M=0,U=0;F<O;)M=I.charCodeAt(F++),M<128?b=b>>>8^n[(b^M)&255]:M<2048?(b=b>>>8^n[(b^(192|M>>6&31))&255],b=b>>>8^n[(b^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,U=I.charCodeAt(F++)&1023,b=b>>>8^n[(b^(240|M>>8&7))&255],b=b>>>8^n[(b^(128|M>>2&63))&255],b=b>>>8^n[(b^(128|U>>6&15|(M&3)<<4))&255],b=b>>>8^n[(b^(128|U&63))&255]):(b=b>>>8^n[(b^(224|M>>12&15))&255],b=b>>>8^n[(b^(128|M>>6&63))&255],b=b>>>8^n[(b^(128|M&63))&255]);return~b}return t.table=n,t.bstr=H,t.buf=G,t.str=K,t})(),zt=(function(){var e={};e.version="1.2.1";function n(z,X){for(var q=z.split("/"),Y=X.split("/"),te=0,re=0,ve=Math.min(q.length,Y.length);te<ve;++te){if(re=q[te].length-Y[te].length)return re;if(q[te]!=Y[te])return q[te]<Y[te]?-1:1}return q.length-Y.length}function r(z){if(z.charAt(z.length-1)=="/")return z.slice(0,-1).indexOf("/")===-1?z:r(z.slice(0,-1));var X=z.lastIndexOf("/");return X===-1?z:z.slice(0,X+1)}function i(z){if(z.charAt(z.length-1)=="/")return i(z.slice(0,-1));var X=z.lastIndexOf("/");return X===-1?z:z.slice(X+1)}function s(z,X){typeof X=="string"&&(X=new Date(X));var q=X.getHours();q=q<<6|X.getMinutes(),q=q<<5|X.getSeconds()>>>1,z.write_shift(2,q);var Y=X.getFullYear()-1980;Y=Y<<4|X.getMonth()+1,Y=Y<<5|X.getDate(),z.write_shift(2,Y)}function o(z){var X=z.read_shift(2)&65535,q=z.read_shift(2)&65535,Y=new Date,te=q&31;q>>>=5;var re=q&15;q>>>=4,Y.setMilliseconds(0),Y.setFullYear(q+1980),Y.setMonth(re-1),Y.setDate(te);var ve=X&31;X>>>=5;var Ae=X&63;return X>>>=6,Y.setHours(X),Y.setMinutes(Ae),Y.setSeconds(ve<<1),Y}function c(z){Tr(z,0);for(var X={},q=0;z.l<=z.length-4;){var Y=z.read_shift(2),te=z.read_shift(2),re=z.l+te,ve={};Y===21589&&(q=z.read_shift(1),q&1&&(ve.mtime=z.read_shift(4)),te>5&&(q&2&&(ve.atime=z.read_shift(4)),q&4&&(ve.ctime=z.read_shift(4))),ve.mtime&&(ve.mt=new Date(ve.mtime*1e3))),z.l=re,X[Y]=ve}return X}var f;function d(){return f||(f={})}function h(z,X){if(z[0]==80&&z[1]==75)return Gr(z,X);if((z[0]|32)==109&&(z[1]|32)==105)return Qn(z,X);if(z.length<512)throw new Error("CFB file size "+z.length+" < 512");var q=3,Y=512,te=0,re=0,ve=0,Ae=0,xe=0,Te=[],we=z.slice(0,512);Tr(we,0);var Ve=g(we);switch(q=Ve[0],q){case 3:Y=512;break;case 4:Y=4096;break;case 0:if(Ve[1]==0)return Gr(z,X);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}Y!==512&&(we=z.slice(0,Y),Tr(we,28));var ze=z.slice(0,Y);v(we,q);var Ke=we.read_shift(4,"i");if(q===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);we.l+=4,ve=we.read_shift(4,"i"),we.l+=4,we.chk("00100000","Mini Stream Cutoff Size: "),Ae=we.read_shift(4,"i"),te=we.read_shift(4,"i"),xe=we.read_shift(4,"i"),re=we.read_shift(4,"i");for(var Ue=-1,qe=0;qe<109&&(Ue=we.read_shift(4,"i"),!(Ue<0));++qe)Te[qe]=Ue;var et=T(z,Y);C(xe,re,et,Y,Te);var Qt=V(et,ve,Te,Y);Qt[ve].name="!Directory",te>0&&Ae!==U&&(Qt[Ae].name="!MiniFAT"),Qt[Te[0]].name="!FAT",Qt.fat_addrs=Te,Qt.ssz=Y;var en={},hn=[],Ir=[],Xi=[];D(ve,Qt,et,hn,te,en,Ir,Ae),S(Ir,Xi,hn),hn.shift();var Qi={FileIndex:Ir,FullPaths:Xi};return X&&X.raw&&(Qi.raw={header:ze,sectors:et}),Qi}function g(z){if(z[z.l]==80&&z[z.l+1]==75)return[0,0];z.chk(ue,"Header Signature: "),z.l+=16;var X=z.read_shift(2,"u");return[z.read_shift(2,"u"),X]}function v(z,X){var q=9;switch(z.l+=2,q=z.read_shift(2)){case 9:if(X!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(X!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}z.chk("0600","Mini Sector Shift: "),z.chk("000000000000","Reserved: ")}function T(z,X){for(var q=Math.ceil(z.length/X)-1,Y=[],te=1;te<q;++te)Y[te-1]=z.slice(te*X,(te+1)*X);return Y[q-1]=z.slice(q*X),Y}function S(z,X,q){for(var Y=0,te=0,re=0,ve=0,Ae=0,xe=q.length,Te=[],we=[];Y<xe;++Y)Te[Y]=we[Y]=Y,X[Y]=q[Y];for(;Ae<we.length;++Ae)Y=we[Ae],te=z[Y].L,re=z[Y].R,ve=z[Y].C,Te[Y]===Y&&(te!==-1&&Te[te]!==te&&(Te[Y]=Te[te]),re!==-1&&Te[re]!==re&&(Te[Y]=Te[re])),ve!==-1&&(Te[ve]=Y),te!==-1&&Y!=Te[Y]&&(Te[te]=Te[Y],we.lastIndexOf(te)<Ae&&we.push(te)),re!==-1&&Y!=Te[Y]&&(Te[re]=Te[Y],we.lastIndexOf(re)<Ae&&we.push(re));for(Y=1;Y<xe;++Y)Te[Y]===Y&&(re!==-1&&Te[re]!==re?Te[Y]=Te[re]:te!==-1&&Te[te]!==te&&(Te[Y]=Te[te]));for(Y=1;Y<xe;++Y)if(z[Y].type!==0){if(Ae=Y,Ae!=Te[Ae])do Ae=Te[Ae],X[Y]=X[Ae]+"/"+X[Y];while(Ae!==0&&Te[Ae]!==-1&&Ae!=Te[Ae]);Te[Y]=-1}for(X[0]+="/",Y=1;Y<xe;++Y)z[Y].type!==2&&(X[Y]+="/")}function A(z,X,q){for(var Y=z.start,te=z.size,re=[],ve=Y;q&&te>0&&ve>=0;)re.push(X.slice(ve*M,ve*M+M)),te-=M,ve=al(q,ve*4);return re.length===0?tr(0):ao(re).slice(0,z.size)}function C(z,X,q,Y,te){var re=U;if(z===U){if(X!==0)throw new Error("DIFAT chain shorter than expected")}else if(z!==-1){var ve=q[z],Ae=(Y>>>2)-1;if(!ve)return;for(var xe=0;xe<Ae&&(re=al(ve,xe*4))!==U;++xe)te.push(re);C(al(ve,Y-4),X-1,q,Y,te)}}function k(z,X,q,Y,te){var re=[],ve=[];te||(te=[]);var Ae=Y-1,xe=0,Te=0;for(xe=X;xe>=0;){te[xe]=!0,re[re.length]=xe,ve.push(z[xe]);var we=q[Math.floor(xe*4/Y)];if(Te=xe*4&Ae,Y<4+Te)throw new Error("FAT boundary crossed: "+xe+" 4 "+Y);if(!z[we])break;xe=al(z[we],Te)}return{nodes:re,data:Q2([ve])}}function V(z,X,q,Y){var te=z.length,re=[],ve=[],Ae=[],xe=[],Te=Y-1,we=0,Ve=0,ze=0,Ke=0;for(we=0;we<te;++we)if(Ae=[],ze=we+X,ze>=te&&(ze-=te),!ve[ze]){xe=[];var Ue=[];for(Ve=ze;Ve>=0;){Ue[Ve]=!0,ve[Ve]=!0,Ae[Ae.length]=Ve,xe.push(z[Ve]);var qe=q[Math.floor(Ve*4/Y)];if(Ke=Ve*4&Te,Y<4+Ke)throw new Error("FAT boundary crossed: "+Ve+" 4 "+Y);if(!z[qe]||(Ve=al(z[qe],Ke),Ue[Ve]))break}re[ze]={nodes:Ae,data:Q2([xe])}}return re}function D(z,X,q,Y,te,re,ve,Ae){for(var xe=0,Te=Y.length?2:0,we=X[z].data,Ve=0,ze=0,Ke;Ve<we.length;Ve+=128){var Ue=we.slice(Ve,Ve+128);Tr(Ue,64),ze=Ue.read_shift(2),Ke=p1(Ue,0,ze-Te),Y.push(Ke);var qe={name:Ke,type:Ue.read_shift(1),color:Ue.read_shift(1),L:Ue.read_shift(4,"i"),R:Ue.read_shift(4,"i"),C:Ue.read_shift(4,"i"),clsid:Ue.read_shift(16),state:Ue.read_shift(4,"i"),start:0,size:0},et=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);et!==0&&(qe.ct=H(Ue,Ue.l-8));var Qt=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);Qt!==0&&(qe.mt=H(Ue,Ue.l-8)),qe.start=Ue.read_shift(4,"i"),qe.size=Ue.read_shift(4,"i"),qe.size<0&&qe.start<0&&(qe.size=qe.type=0,qe.start=U,qe.name=""),qe.type===5?(xe=qe.start,te>0&&xe!==U&&(X[xe].name="!StreamData")):qe.size>=4096?(qe.storage="fat",X[qe.start]===void 0&&(X[qe.start]=k(q,qe.start,X.fat_addrs,X.ssz)),X[qe.start].name=qe.name,qe.content=X[qe.start].data.slice(0,qe.size)):(qe.storage="minifat",qe.size<0?qe.size=0:xe!==U&&qe.start!==U&&X[xe]&&(qe.content=A(qe,X[xe].data,(X[Ae]||{}).data))),qe.content&&Tr(qe.content,0),re[Ke]=qe,ve.push(qe)}}function H(z,X){return new Date((Ai(z,X+4)/1e7*Math.pow(2,32)+Ai(z,X)/1e7-11644473600)*1e3)}function G(z,X){return d(),h(f.readFileSync(z),X)}function K(z,X){var q=X&&X.type;switch(q||Lt&&Buffer.isBuffer(z)&&(q="buffer"),q||"base64"){case"file":return G(z,X);case"base64":return h(us(Ni(z)),X);case"binary":return h(us(z),X)}return h(z,X)}function I(z,X){var q=X||{},Y=q.root||"Root Entry";if(z.FullPaths||(z.FullPaths=[]),z.FileIndex||(z.FileIndex=[]),z.FullPaths.length!==z.FileIndex.length)throw new Error("inconsistent CFB structure");z.FullPaths.length===0&&(z.FullPaths[0]=Y+"/",z.FileIndex[0]={name:Y,type:5}),q.CLSID&&(z.FileIndex[0].clsid=q.CLSID),N(z)}function N(z){var X="Sh33tJ5";if(!zt.find(z,"/"+X)){var q=tr(4);q[0]=55,q[1]=q[3]=50,q[2]=54,z.FileIndex.push({name:X,type:2,content:q,size:4,L:69,R:69,C:69}),z.FullPaths.push(z.FullPaths[0]+X),b(z)}}function b(z,X){I(z);for(var q=!1,Y=!1,te=z.FullPaths.length-1;te>=0;--te){var re=z.FileIndex[te];switch(re.type){case 0:Y?q=!0:(z.FileIndex.pop(),z.FullPaths.pop());break;case 1:case 2:case 5:Y=!0,isNaN(re.R*re.L*re.C)&&(q=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!X)){var ve=new Date(1987,1,19),Ae=0,xe=Object.create?Object.create(null):{},Te=[];for(te=0;te<z.FullPaths.length;++te)xe[z.FullPaths[te]]=!0,z.FileIndex[te].type!==0&&Te.push([z.FullPaths[te],z.FileIndex[te]]);for(te=0;te<Te.length;++te){var we=r(Te[te][0]);Y=xe[we],Y||(Te.push([we,{name:i(we).replace("/",""),type:1,clsid:ae,ct:ve,mt:ve,content:null}]),xe[we]=!0)}for(Te.sort(function(Ke,Ue){return n(Ke[0],Ue[0])}),z.FullPaths=[],z.FileIndex=[],te=0;te<Te.length;++te)z.FullPaths[te]=Te[te][0],z.FileIndex[te]=Te[te][1];for(te=0;te<Te.length;++te){var Ve=z.FileIndex[te],ze=z.FullPaths[te];if(Ve.name=i(ze).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||ae,te===0)Ve.C=Te.length>1?1:-1,Ve.size=0,Ve.type=5;else if(ze.slice(-1)=="/"){for(Ae=te+1;Ae<Te.length&&r(z.FullPaths[Ae])!=ze;++Ae);for(Ve.C=Ae>=Te.length?-1:Ae,Ae=te+1;Ae<Te.length&&r(z.FullPaths[Ae])!=r(ze);++Ae);Ve.R=Ae>=Te.length?-1:Ae,Ve.type=1}else r(z.FullPaths[te+1]||"")==r(ze)&&(Ve.R=te+1),Ve.type=2}}}function F(z,X){var q=X||{};if(q.fileType=="mad")return jt(z,q);if(b(z),q.fileType==="zip")return _n(z,q);var Y=(function(Ke){for(var Ue=0,qe=0,et=0;et<Ke.FileIndex.length;++et){var Qt=Ke.FileIndex[et];if(Qt.content){var en=Qt.content.length;en>0&&(en<4096?Ue+=en+63>>6:qe+=en+511>>9)}}for(var hn=Ke.FullPaths.length+3>>2,Ir=Ue+7>>3,Xi=Ue+127>>7,Qi=Ir+qe+hn+Xi,mi=Qi+127>>7,Aa=mi<=109?0:Math.ceil((mi-109)/127);Qi+mi+Aa+127>>7>mi;)Aa=++mi<=109?0:Math.ceil((mi-109)/127);var Rr=[1,Aa,mi,Xi,hn,qe,Ue,0];return Ke.FileIndex[0].size=Ue<<6,Rr[7]=(Ke.FileIndex[0].start=Rr[0]+Rr[1]+Rr[2]+Rr[3]+Rr[4]+Rr[5])+(Rr[6]+7>>3),Rr})(z),te=tr(Y[7]<<9),re=0,ve=0;{for(re=0;re<8;++re)te.write_shift(1,pe[re]);for(re=0;re<8;++re)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),re=0;re<3;++re)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,Y[2]),te.write_shift(4,Y[0]+Y[1]+Y[2]+Y[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,Y[3]?Y[0]+Y[1]+Y[2]-1:U),te.write_shift(4,Y[3]),te.write_shift(-4,Y[1]?Y[0]-1:U),te.write_shift(4,Y[1]),re=0;re<109;++re)te.write_shift(-4,re<Y[2]?Y[1]+re:-1)}if(Y[1])for(ve=0;ve<Y[1];++ve){for(;re<236+ve*127;++re)te.write_shift(-4,re<Y[2]?Y[1]+re:-1);te.write_shift(-4,ve===Y[1]-1?U:ve+1)}var Ae=function(Ke){for(ve+=Ke;re<ve-1;++re)te.write_shift(-4,re+1);Ke&&(++re,te.write_shift(-4,U))};for(ve=re=0,ve+=Y[1];re<ve;++re)te.write_shift(-4,ee.DIFSECT);for(ve+=Y[2];re<ve;++re)te.write_shift(-4,ee.FATSECT);Ae(Y[3]),Ae(Y[4]);for(var xe=0,Te=0,we=z.FileIndex[0];xe<z.FileIndex.length;++xe)we=z.FileIndex[xe],we.content&&(Te=we.content.length,!(Te<4096)&&(we.start=ve,Ae(Te+511>>9)));for(Ae(Y[6]+7>>3);te.l&511;)te.write_shift(-4,ee.ENDOFCHAIN);for(ve=re=0,xe=0;xe<z.FileIndex.length;++xe)we=z.FileIndex[xe],we.content&&(Te=we.content.length,!(!Te||Te>=4096)&&(we.start=ve,Ae(Te+63>>6)));for(;te.l&511;)te.write_shift(-4,ee.ENDOFCHAIN);for(re=0;re<Y[4]<<2;++re){var Ve=z.FullPaths[re];if(!Ve||Ve.length===0){for(xe=0;xe<17;++xe)te.write_shift(4,0);for(xe=0;xe<3;++xe)te.write_shift(4,-1);for(xe=0;xe<12;++xe)te.write_shift(4,0);continue}we=z.FileIndex[re],re===0&&(we.start=we.size?we.start-1:U);var ze=re===0&&q.root||we.name;if(Te=2*(ze.length+1),te.write_shift(64,ze,"utf16le"),te.write_shift(2,Te),te.write_shift(1,we.type),te.write_shift(1,we.color),te.write_shift(-4,we.L),te.write_shift(-4,we.R),te.write_shift(-4,we.C),we.clsid)te.write_shift(16,we.clsid,"hex");else for(xe=0;xe<4;++xe)te.write_shift(4,0);te.write_shift(4,we.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,we.start),te.write_shift(4,we.size),te.write_shift(4,0)}for(re=1;re<z.FileIndex.length;++re)if(we=z.FileIndex[re],we.size>=4096)if(te.l=we.start+1<<9,Lt&&Buffer.isBuffer(we.content))we.content.copy(te,te.l,0,we.size),te.l+=we.size+511&-512;else{for(xe=0;xe<we.size;++xe)te.write_shift(1,we.content[xe]);for(;xe&511;++xe)te.write_shift(1,0)}for(re=1;re<z.FileIndex.length;++re)if(we=z.FileIndex[re],we.size>0&&we.size<4096)if(Lt&&Buffer.isBuffer(we.content))we.content.copy(te,te.l,0,we.size),te.l+=we.size+63&-64;else{for(xe=0;xe<we.size;++xe)te.write_shift(1,we.content[xe]);for(;xe&63;++xe)te.write_shift(1,0)}if(Lt)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function O(z,X){var q=z.FullPaths.map(function(xe){return xe.toUpperCase()}),Y=q.map(function(xe){var Te=xe.split("/");return Te[Te.length-(xe.slice(-1)=="/"?2:1)]}),te=!1;X.charCodeAt(0)===47?(te=!0,X=q[0].slice(0,-1)+X):te=X.indexOf("/")!==-1;var re=X.toUpperCase(),ve=te===!0?q.indexOf(re):Y.indexOf(re);if(ve!==-1)return z.FileIndex[ve];var Ae=!re.match(mf);for(re=re.replace(Xr,""),Ae&&(re=re.replace(mf,"!")),ve=0;ve<q.length;++ve)if((Ae?q[ve].replace(mf,"!"):q[ve]).replace(Xr,"")==re||(Ae?Y[ve].replace(mf,"!"):Y[ve]).replace(Xr,"")==re)return z.FileIndex[ve];return null}var M=64,U=-2,ue="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function le(z,X,q){d();var Y=F(z,q);f.writeFileSync(X,Y)}function se(z){for(var X=new Array(z.length),q=0;q<z.length;++q)X[q]=String.fromCharCode(z[q]);return X.join("")}function ke(z,X){var q=F(z,X);switch(X&&X.type||"buffer"){case"file":return d(),f.writeFileSync(X.filename,q),q;case"binary":return typeof q=="string"?q:se(q);case"base64":return F2(typeof q=="string"?q:se(q));case"buffer":if(Lt)return Buffer.isBuffer(q)?q:bl(q);case"array":return typeof q=="string"?us(q):q}return q}var Z;function B(z){try{var X=z.InflateRaw,q=new X;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)Z=z;else throw new Error("zlib does not expose bytesRead")}catch(Y){console.error("cannot use native zlib: "+(Y.message||Y))}}function Q(z,X){if(!Z)return Wi(z,X);var q=Z.InflateRaw,Y=new q,te=Y._processChunk(z.slice(z.l),Y._finishFlushFlag);return z.l+=Y.bytesRead,te}function W(z){return Z?Z.deflateRawSync(z):it(z)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ie(z){var X=(z<<1|z<<11)&139536|(z<<5|z<<15)&558144;return(X>>16|X>>8|X)&255}for(var be=typeof Uint8Array<"u",De=be?new Uint8Array(256):[],$e=0;$e<256;++$e)De[$e]=Ie($e);function ie(z,X){var q=De[z&255];return X<=8?q>>>8-X:(q=q<<8|De[z>>8&255],X<=16?q>>>16-X:(q=q<<8|De[z>>16&255],q>>>24-X))}function ht(z,X){var q=X&7,Y=X>>>3;return(z[Y]|(q<=6?0:z[Y+1]<<8))>>>q&3}function Je(z,X){var q=X&7,Y=X>>>3;return(z[Y]|(q<=5?0:z[Y+1]<<8))>>>q&7}function Ge(z,X){var q=X&7,Y=X>>>3;return(z[Y]|(q<=4?0:z[Y+1]<<8))>>>q&15}function He(z,X){var q=X&7,Y=X>>>3;return(z[Y]|(q<=3?0:z[Y+1]<<8))>>>q&31}function Be(z,X){var q=X&7,Y=X>>>3;return(z[Y]|(q<=1?0:z[Y+1]<<8))>>>q&127}function nt(z,X,q){var Y=X&7,te=X>>>3,re=(1<<q)-1,ve=z[te]>>>Y;return q<8-Y||(ve|=z[te+1]<<8-Y,q<16-Y)||(ve|=z[te+2]<<16-Y,q<24-Y)||(ve|=z[te+3]<<24-Y),ve&re}function rt(z,X,q){var Y=X&7,te=X>>>3;return Y<=5?z[te]|=(q&7)<<Y:(z[te]|=q<<Y&255,z[te+1]=(q&7)>>8-Y),X+3}function ft(z,X,q){var Y=X&7,te=X>>>3;return q=(q&1)<<Y,z[te]|=q,X+1}function fn(z,X,q){var Y=X&7,te=X>>>3;return q<<=Y,z[te]|=q&255,q>>>=8,z[te+1]=q,X+8}function An(z,X,q){var Y=X&7,te=X>>>3;return q<<=Y,z[te]|=q&255,q>>>=8,z[te+1]=q&255,z[te+2]=q>>>8,X+16}function Hn(z,X){var q=z.length,Y=2*q>X?2*q:X+5,te=0;if(q>=X)return z;if(Lt){var re=O2(Y);if(z.copy)z.copy(re);else for(;te<z.length;++te)re[te]=z[te];return re}else if(be){var ve=new Uint8Array(Y);if(ve.set)ve.set(z);else for(;te<q;++te)ve[te]=z[te];return ve}return z.length=Y,z}function gt(z){for(var X=new Array(z),q=0;q<z;++q)X[q]=0;return X}function Ut(z,X,q){var Y=1,te=0,re=0,ve=0,Ae=0,xe=z.length,Te=be?new Uint16Array(32):gt(32);for(re=0;re<32;++re)Te[re]=0;for(re=xe;re<q;++re)z[re]=0;xe=z.length;var we=be?new Uint16Array(xe):gt(xe);for(re=0;re<xe;++re)Te[te=z[re]]++,Y<te&&(Y=te),we[re]=0;for(Te[0]=0,re=1;re<=Y;++re)Te[re+16]=Ae=Ae+Te[re-1]<<1;for(re=0;re<xe;++re)Ae=z[re],Ae!=0&&(we[re]=Te[Ae+16]++);var Ve=0;for(re=0;re<xe;++re)if(Ve=z[re],Ve!=0)for(Ae=ie(we[re],Y)>>Y-Ve,ve=(1<<Y+4-Ve)-1;ve>=0;--ve)X[Ae|ve<<Ve]=Ve&15|re<<4;return Y}var Ct=be?new Uint16Array(512):gt(512),dn=be?new Uint16Array(32):gt(32);if(!be){for(var Rt=0;Rt<512;++Rt)Ct[Rt]=0;for(Rt=0;Rt<32;++Rt)dn[Rt]=0}(function(){for(var z=[],X=0;X<32;X++)z.push(5);Ut(z,dn,32);var q=[];for(X=0;X<=143;X++)q.push(8);for(;X<=255;X++)q.push(9);for(;X<=279;X++)q.push(7);for(;X<=287;X++)q.push(8);Ut(q,Ct,288)})();var Pn=(function(){for(var X=be?new Uint8Array(32768):[],q=0,Y=0;q<ge.length-1;++q)for(;Y<ge[q+1];++Y)X[Y]=q;for(;Y<32768;++Y)X[Y]=29;var te=be?new Uint8Array(259):[];for(q=0,Y=0;q<he.length-1;++q)for(;Y<he[q+1];++Y)te[Y]=q;function re(Ae,xe){for(var Te=0;Te<Ae.length;){var we=Math.min(65535,Ae.length-Te),Ve=Te+we==Ae.length;for(xe.write_shift(1,+Ve),xe.write_shift(2,we),xe.write_shift(2,~we&65535);we-- >0;)xe[xe.l++]=Ae[Te++]}return xe.l}function ve(Ae,xe){for(var Te=0,we=0,Ve=be?new Uint16Array(32768):[];we<Ae.length;){var ze=Math.min(65535,Ae.length-we);if(ze<10){for(Te=rt(xe,Te,+(we+ze==Ae.length)),Te&7&&(Te+=8-(Te&7)),xe.l=Te/8|0,xe.write_shift(2,ze),xe.write_shift(2,~ze&65535);ze-- >0;)xe[xe.l++]=Ae[we++];Te=xe.l*8;continue}Te=rt(xe,Te,+(we+ze==Ae.length)+2);for(var Ke=0;ze-- >0;){var Ue=Ae[we];Ke=(Ke<<5^Ue)&32767;var qe=-1,et=0;if((qe=Ve[Ke])&&(qe|=we&-32768,qe>we&&(qe-=32768),qe<we))for(;Ae[qe+et]==Ae[we+et]&&et<250;)++et;if(et>2){Ue=te[et],Ue<=22?Te=fn(xe,Te,De[Ue+1]>>1)-1:(fn(xe,Te,3),Te+=5,fn(xe,Te,De[Ue-23]>>5),Te+=3);var Qt=Ue<8?0:Ue-4>>2;Qt>0&&(An(xe,Te,et-he[Ue]),Te+=Qt),Ue=X[we-qe],Te=fn(xe,Te,De[Ue]>>3),Te-=3;var en=Ue<4?0:Ue-2>>1;en>0&&(An(xe,Te,we-qe-ge[Ue]),Te+=en);for(var hn=0;hn<et;++hn)Ve[Ke]=we&32767,Ke=(Ke<<5^Ae[we])&32767,++we;ze-=et-1}else Ue<=143?Ue=Ue+48:Te=ft(xe,Te,1),Te=fn(xe,Te,De[Ue]),Ve[Ke]=we&32767,++we}Te=fn(xe,Te,0)-1}return xe.l=(Te+7)/8|0,xe.l}return function(xe,Te){return xe.length<8?re(xe,Te):ve(xe,Te)}})();function it(z){var X=tr(50+Math.floor(z.length*1.1)),q=Pn(z,X);return X.slice(0,q)}var Ft=be?new Uint16Array(32768):gt(32768),Zt=be?new Uint16Array(32768):gt(32768),bt=be?new Uint16Array(128):gt(128),Yt=1,pr=1;function gn(z,X){var q=He(z,X)+257;X+=5;var Y=He(z,X)+1;X+=5;var te=Ge(z,X)+4;X+=4;for(var re=0,ve=be?new Uint8Array(19):gt(19),Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xe=1,Te=be?new Uint8Array(8):gt(8),we=be?new Uint8Array(8):gt(8),Ve=ve.length,ze=0;ze<te;++ze)ve[ne[ze]]=re=Je(z,X),xe<re&&(xe=re),Te[re]++,X+=3;var Ke=0;for(Te[0]=0,ze=1;ze<=xe;++ze)we[ze]=Ke=Ke+Te[ze-1]<<1;for(ze=0;ze<Ve;++ze)(Ke=ve[ze])!=0&&(Ae[ze]=we[Ke]++);var Ue=0;for(ze=0;ze<Ve;++ze)if(Ue=ve[ze],Ue!=0){Ke=De[Ae[ze]]>>8-Ue;for(var qe=(1<<7-Ue)-1;qe>=0;--qe)bt[Ke|qe<<Ue]=Ue&7|ze<<3}var et=[];for(xe=1;et.length<q+Y;)switch(Ke=bt[Be(z,X)],X+=Ke&7,Ke>>>=3){case 16:for(re=3+ht(z,X),X+=2,Ke=et[et.length-1];re-- >0;)et.push(Ke);break;case 17:for(re=3+Je(z,X),X+=3;re-- >0;)et.push(0);break;case 18:for(re=11+Be(z,X),X+=7;re-- >0;)et.push(0);break;default:et.push(Ke),xe<Ke&&(xe=Ke);break}var Qt=et.slice(0,q),en=et.slice(q);for(ze=q;ze<286;++ze)Qt[ze]=0;for(ze=Y;ze<30;++ze)en[ze]=0;return Yt=Ut(Qt,Ft,286),pr=Ut(en,Zt,30),X}function wa(z,X){if(z[0]==3&&!(z[1]&3))return[yo(X),2];for(var q=0,Y=0,te=O2(X||1<<18),re=0,ve=te.length>>>0,Ae=0,xe=0;(Y&1)==0;){if(Y=Je(z,q),q+=3,Y>>>1)Y>>1==1?(Ae=9,xe=5):(q=gn(z,q),Ae=Yt,xe=pr);else{q&7&&(q+=8-(q&7));var Te=z[q>>>3]|z[(q>>>3)+1]<<8;if(q+=32,Te>0)for(!X&&ve<re+Te&&(te=Hn(te,re+Te),ve=te.length);Te-- >0;)te[re++]=z[q>>>3],q+=8;continue}for(;;){!X&&ve<re+32767&&(te=Hn(te,re+32767),ve=te.length);var we=nt(z,q,Ae),Ve=Y>>>1==1?Ct[we]:Ft[we];if(q+=Ve&15,Ve>>>=4,(Ve>>>8&255)===0)te[re++]=Ve;else{if(Ve==256)break;Ve-=257;var ze=Ve<8?0:Ve-4>>2;ze>5&&(ze=0);var Ke=re+he[Ve];ze>0&&(Ke+=nt(z,q,ze),q+=ze),we=nt(z,q,xe),Ve=Y>>>1==1?dn[we]:Zt[we],q+=Ve&15,Ve>>>=4;var Ue=Ve<4?0:Ve-2>>1,qe=ge[Ve];for(Ue>0&&(qe+=nt(z,q,Ue),q+=Ue),!X&&ve<Ke&&(te=Hn(te,Ke+100),ve=te.length);re<Ke;)te[re]=te[re-qe],++re}}}return X?[te,q+7>>>3]:[te.slice(0,re),q+7>>>3]}function Wi(z,X){var q=z.slice(z.l||0),Y=wa(q,X);return z.l+=Y[1],Y[0]}function Hs(z,X){if(z)typeof console<"u"&&console.error(X);else throw new Error(X)}function Gr(z,X){var q=z;Tr(q,0);var Y=[],te=[],re={FileIndex:Y,FullPaths:te};I(re,{root:X.root});for(var ve=q.length-4;(q[ve]!=80||q[ve+1]!=75||q[ve+2]!=5||q[ve+3]!=6)&&ve>=0;)--ve;q.l=ve+4,q.l+=4;var Ae=q.read_shift(2);q.l+=6;var xe=q.read_shift(4);for(q.l=xe,ve=0;ve<Ae;++ve){q.l+=20;var Te=q.read_shift(4),we=q.read_shift(4),Ve=q.read_shift(2),ze=q.read_shift(2),Ke=q.read_shift(2);q.l+=8;var Ue=q.read_shift(4),qe=c(q.slice(q.l+Ve,q.l+Ve+ze));q.l+=Ve+ze+Ke;var et=q.l;q.l=Ue+4,Zi(q,Te,we,re,qe),q.l=et}return re}function Zi(z,X,q,Y,te){z.l+=2;var re=z.read_shift(2),ve=z.read_shift(2),Ae=o(z);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var xe=z.read_shift(4),Te=z.read_shift(4),we=z.read_shift(4),Ve=z.read_shift(2),ze=z.read_shift(2),Ke="",Ue=0;Ue<Ve;++Ue)Ke+=String.fromCharCode(z[z.l++]);if(ze){var qe=c(z.slice(z.l,z.l+ze));(qe[21589]||{}).mt&&(Ae=qe[21589].mt),((te||{})[21589]||{}).mt&&(Ae=te[21589].mt)}z.l+=ze;var et=z.slice(z.l,z.l+Te);switch(ve){case 8:et=Q(z,we);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ve)}var Qt=!1;re&8&&(xe=z.read_shift(4),xe==134695760&&(xe=z.read_shift(4),Qt=!0),Te=z.read_shift(4),we=z.read_shift(4)),Te!=X&&Hs(Qt,"Bad compressed size: "+X+" != "+Te),we!=q&&Hs(Qt,"Bad uncompressed size: "+q+" != "+we),fe(Y,Ke,et,{unsafe:!0,mt:Ae})}function _n(z,X){var q=X||{},Y=[],te=[],re=tr(1),ve=q.compression?8:0,Ae=0,xe=0,Te=0,we=0,Ve=0,ze=z.FullPaths[0],Ke=ze,Ue=z.FileIndex[0],qe=[],et=0;for(xe=1;xe<z.FullPaths.length;++xe)if(Ke=z.FullPaths[xe].slice(ze.length),Ue=z.FileIndex[xe],!(!Ue.size||!Ue.content||Ke=="Sh33tJ5")){var Qt=we,en=tr(Ke.length);for(Te=0;Te<Ke.length;++Te)en.write_shift(1,Ke.charCodeAt(Te)&127);en=en.slice(0,en.l),qe[Ve]=UO.buf(Ue.content,0);var hn=Ue.content;ve==8&&(hn=W(hn)),re=tr(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,Ae),re.write_shift(2,ve),Ue.mt?s(re,Ue.mt):re.write_shift(4,0),re.write_shift(-4,qe[Ve]),re.write_shift(4,hn.length),re.write_shift(4,Ue.content.length),re.write_shift(2,en.length),re.write_shift(2,0),we+=re.length,Y.push(re),we+=en.length,Y.push(en),we+=hn.length,Y.push(hn),re=tr(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,Ae),re.write_shift(2,ve),re.write_shift(4,0),re.write_shift(-4,qe[Ve]),re.write_shift(4,hn.length),re.write_shift(4,Ue.content.length),re.write_shift(2,en.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,Qt),et+=re.l,te.push(re),et+=en.length,te.push(en),++Ve}return re=tr(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Ve),re.write_shift(2,Ve),re.write_shift(4,et),re.write_shift(4,we),re.write_shift(2,0),ao([ao(Y),ao(te),re])}var mr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ti(z,X){if(z.ctype)return z.ctype;var q=z.name||"",Y=q.match(/\.([^\.]+)$/);return Y&&mr[Y[1]]||X&&(Y=(q=X).match(/[\.\\]([^\.\\])+$/),Y&&mr[Y[1]])?mr[Y[1]]:"application/octet-stream"}function jr(z){for(var X=F2(z),q=[],Y=0;Y<X.length;Y+=76)q.push(X.slice(Y,Y+76));return q.join(`\r
`)+`\r
`}function Do(z){var X=z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Te){var we=Te.charCodeAt(0).toString(16).toUpperCase();return"="+(we.length==1?"0"+we:we)});X=X.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),X.charAt(0)==`
`&&(X="=0D"+X.slice(1)),X=X.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],Y=X.split(`\r
`),te=0;te<Y.length;++te){var re=Y[te];if(re.length==0){q.push("");continue}for(var ve=0;ve<re.length;){var Ae=76,xe=re.slice(ve,ve+Ae);xe.charAt(Ae-1)=="="?Ae--:xe.charAt(Ae-2)=="="?Ae-=2:xe.charAt(Ae-3)=="="&&(Ae-=3),xe=re.slice(ve,ve+Ae),ve+=Ae,ve<re.length&&(xe+="="),q.push(xe)}}return q.join(`\r
`)}function Sa(z){for(var X=[],q=0;q<z.length;++q){for(var Y=z[q];q<=z.length&&Y.charAt(Y.length-1)=="=";)Y=Y.slice(0,Y.length-1)+z[++q];X.push(Y)}for(var te=0;te<X.length;++te)X[te]=X[te].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return us(X.join(`\r
`))}function Nr(z,X,q){for(var Y="",te="",re="",ve,Ae=0;Ae<10;++Ae){var xe=X[Ae];if(!xe||xe.match(/^\s*$/))break;var Te=xe.match(/^(.*?):\s*([^\s].*)$/);if(Te)switch(Te[1].toLowerCase()){case"content-location":Y=Te[2].trim();break;case"content-type":re=Te[2].trim();break;case"content-transfer-encoding":te=Te[2].trim();break}}switch(++Ae,te.toLowerCase()){case"base64":ve=us(Ni(X.slice(Ae).join("")));break;case"quoted-printable":ve=Sa(X.slice(Ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var we=fe(z,Y.slice(q.length),ve,{unsafe:!0});re&&(we.ctype=re)}function Qn(z,X){if(se(z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=X&&X.root||"",Y=(Lt&&Buffer.isBuffer(z)?z.toString("binary"):se(z)).split(`\r
`),te=0,re="";for(te=0;te<Y.length;++te)if(re=Y[te],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),q||(q=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),re.slice(0,q.length)!=q););var ve=(Y[1]||"").match(/boundary="(.*?)"/);if(!ve)throw new Error("MAD cannot find boundary");var Ae="--"+(ve[1]||""),xe=[],Te=[],we={FileIndex:xe,FullPaths:Te};I(we);var Ve,ze=0;for(te=0;te<Y.length;++te){var Ke=Y[te];Ke!==Ae&&Ke!==Ae+"--"||(ze++&&Nr(we,Y.slice(Ve,te),q),Ve=te)}return we}function jt(z,X){var q=X||{},Y=q.boundary||"SheetJS";Y="------="+Y;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Y.slice(2)+'"',"","",""],re=z.FullPaths[0],ve=re,Ae=z.FileIndex[0],xe=1;xe<z.FullPaths.length;++xe)if(ve=z.FullPaths[xe].slice(re.length),Ae=z.FileIndex[xe],!(!Ae.size||!Ae.content||ve=="Sh33tJ5")){ve=ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(et){return"_x"+et.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(et){return"_u"+et.charCodeAt(0).toString(16)+"_"});for(var Te=Ae.content,we=Lt&&Buffer.isBuffer(Te)?Te.toString("binary"):se(Te),Ve=0,ze=Math.min(1024,we.length),Ke=0,Ue=0;Ue<=ze;++Ue)(Ke=we.charCodeAt(Ue))>=32&&Ke<128&&++Ve;var qe=Ve>=ze*4/5;te.push(Y),te.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+ve),te.push("Content-Transfer-Encoding: "+(qe?"quoted-printable":"base64")),te.push("Content-Type: "+ti(Ae,ve)),te.push(""),te.push(qe?Do(we):jr(we))}return te.push(Y+`--\r
`),te.join(`\r
`)}function ni(z){var X={};return I(X,z),X}function fe(z,X,q,Y){var te=Y&&Y.unsafe;te||I(z);var re=!te&&zt.find(z,X);if(!re){var ve=z.FullPaths[0];X.slice(0,ve.length)==ve?ve=X:(ve.slice(-1)!="/"&&(ve+="/"),ve=(ve+X).replace("//","/")),re={name:i(X),type:2},z.FileIndex.push(re),z.FullPaths.push(ve),te||zt.utils.cfb_gc(z)}return re.content=q,re.size=q?q.length:0,Y&&(Y.CLSID&&(re.clsid=Y.CLSID),Y.mt&&(re.mt=Y.mt),Y.ct&&(re.ct=Y.ct)),re}function Ze(z,X){I(z);var q=zt.find(z,X);if(q){for(var Y=0;Y<z.FileIndex.length;++Y)if(z.FileIndex[Y]==q)return z.FileIndex.splice(Y,1),z.FullPaths.splice(Y,1),!0}return!1}function Qe(z,X,q){I(z);var Y=zt.find(z,X);if(Y){for(var te=0;te<z.FileIndex.length;++te)if(z.FileIndex[te]==Y)return z.FileIndex[te].name=i(q),z.FullPaths[te]=q,!0}return!1}function ct(z){b(z,!0)}return e.find=O,e.read=K,e.parse=h,e.write=ke,e.writeFile=le,e.utils={cfb_new:ni,cfb_add:fe,cfb_del:Ze,cfb_mov:Qe,cfb_gc:ct,ReadShift:Cf,CheckField:fN,prep_blob:Tr,bconcat:ao,use_zlib:B,_deflateRaw:it,_inflateRaw:Wi,consts:ee},e})();function VO(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ls(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function u1(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var Y0=new Date(1899,11,30,0,0,0);function Qr(t,e){var n=t.getTime(),r=Y0.getTime()+(t.getTimezoneOffset()-Y0.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var jb=new Date,BO=Y0.getTime()+(jb.getTimezoneOffset()-Y0.getTimezoneOffset())*6e4,j2=jb.getTimezoneOffset();function Rp(t){var e=new Date;return e.setTime(t*24*60*60*1e3+BO),e.getTimezoneOffset()!==j2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-j2)*6e4),e}function zO(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var q2=new Date("2017-02-19T19:06:09.000Z"),qb=isNaN(q2.getFullYear())?new Date("2/19/17"):q2,HO=qb.getFullYear()==2017;function fr(t,e){var n=new Date(t);if(HO)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(qb.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function _l(t,e){if(Lt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return vf(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return vf(kb(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return vf(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return vf(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Sr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Sr(t[n]));return e}function kn(t,e){for(var n="";n.length<e;)n+=t;return n}function ps(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var GO=["january","february","march","april","may","june","july","august","september","october","november","december"];function $c(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&GO.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var jO=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],c=1;c<s.length;++c)o.push(i),o.push(s[c]);return o}})();function $b(t){return t?t.content&&t.type?_l(t.content,!0):t.data?pf(t.data):t.asNodeBuffer&&Lt?pf(t.asNodeBuffer().toString("binary")):t.asBinary?pf(t.asBinary()):t._data&&t._data.getContent?pf(_l(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Kb(t){if(!t)return null;if(t.data)return M2(t.data);if(t.asNodeBuffer&&Lt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?M2(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function qO(t){return t&&t.name.slice(-4)===".bin"?Kb(t):$b(t)}function Hi(t,e){for(var n=t.FullPaths||Ls(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function f1(t,e){var n=Hi(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Wn(t,e,n){if(!n)return qO(f1(t,e));if(!e)return null;try{return Wn(t,e)}catch{return null}}function bi(t,e,n){if(!n)return $b(f1(t,e));if(!e)return null;try{return bi(t,e)}catch{return null}}function $O(t,e,n){return Kb(f1(t,e))}function $2(t){for(var e=t.FullPaths||Ls(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function KO(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Lt?r=bl(n):r=dO(n),zt.utils.cfb_add(t,e,r)}zt.utils.cfb_add(t,e,n)}else t.file(e,n)}function Yb(t,e){switch(e.type){case"base64":return zt.read(t,{type:"base64"});case"binary":return zt.read(t,{type:"binary"});case"buffer":case"array":return zt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function gf(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var Jb=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,YO=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,K2=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,JO=/<[^>]*>/g,Hr=Jb.match(K2)?K2:JO,WO=/<\w*:/,ZO=/<(\/?)\w+:/;function mt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(YO),c=0,f="",d=0,h="",g="",v=1;if(o)for(d=0;d!=o.length;++d){for(g=o[d],s=0;s!=g.length&&g.charCodeAt(s)!==61;++s);for(h=g.slice(0,s).trim();g.charCodeAt(s+1)==32;)++s;for(v=(i=g.charCodeAt(s+1))==34||i==39?1:0,f=g.slice(s+1+v,g.length-v),c=0;c!=h.length&&h.charCodeAt(c)!==58;++c);if(c===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=f,r[h.toLowerCase()]=f;else{var T=(c===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(c+1);if(r[T]&&h.slice(c-3,c)=="ext")continue;r[T]=f,r[T.toLowerCase()]=f}}return r}function Bs(t){return t.replace(ZO,"<$1")}var Wb={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},XO=u1(Wb),Gt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(c,f){return Wb[c]||String.fromCharCode(parseInt(f,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,f){return String.fromCharCode(parseInt(f,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}})(),QO=/[&<>'"]/g,eL=/[\u0000-\u001f]/g;function d1(t){var e=t+"";return e.replace(QO,function(n){return XO[n]}).replace(/\n/g,"<br/>").replace(eL,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var Y2=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function wn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function sv(t){for(var e="",n=0,r=0,i=0,s=0,o=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function J2(t){var e=yo(2*t.length),n,r,i=1,s=0,o=0,c;for(r=0;r<t.length;r+=i)i=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function W2(t){return bl(t,"binary").toString("utf8")}var Wh="foo bar baz",mn=Lt&&(W2(Wh)==sv(Wh)&&W2||J2(Wh)==sv(Wh)&&J2)||sv,vf=Lt?function(t){return bl(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Yf=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),Zb=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),tL=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),nL=/<\/?(?:vt:)?variant>/g,rL=/<(?:vt:)([^>]*)>([\s\S]*)</;function Z2(t,e){var n=mt(t),r=t.match(tL(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(nL,"").match(rL);o&&i.push({v:mn(o[2]),t:o[1]})}),i}var iL=/(^\s|\s$|\n)/;function sL(t){return Ls(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function aL(t,e,n){return"<"+t+(n!=null?sL(n):"")+(e!=null?(e.match(iL)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function h1(t){if(Lt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return mn(Nl(o1(t)));throw new Error("Bad input format: expected Buffer or string")}var Jf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,oL={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},lL=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function cL(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function uL(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[n+c]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var X2=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},Q2=Lt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:bl(e)})):X2(t)}:X2,ew=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(la(t,i)));return r.join("").replace(Xr,"")},p1=Lt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Xr,""):ew(t,e,n)}:ew,tw=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},Xb=Lt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):tw(t,e,n)}:tw,nw=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(wc(t,i)));return r.join("")},gd=Lt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):nw(e,n,r)}:nw,Qb=function(t,e){var n=Ai(t,e);return n>0?gd(t,e+4,e+4+n-1):""},eN=Qb,tN=function(t,e){var n=Ai(t,e);return n>0?gd(t,e+4,e+4+n-1):""},nN=tN,rN=function(t,e){var n=2*Ai(t,e);return n>0?gd(t,e+4,e+4+n-1):""},iN=rN,sN=function(e,n){var r=Ai(e,n);return r>0?p1(e,n+4,n+4+r):""},aN=sN,oN=function(t,e){var n=Ai(t,e);return n>0?gd(t,e+4,e+4+n):""},lN=oN,cN=function(t,e){return cL(t,e)},J0=cN,uN=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Lt&&(eN=function(e,n){if(!Buffer.isBuffer(e))return Qb(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},nN=function(e,n){if(!Buffer.isBuffer(e))return tN(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},iN=function(e,n){if(!Buffer.isBuffer(e))return rN(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},aN=function(e,n){if(!Buffer.isBuffer(e))return sN(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},lN=function(e,n){if(!Buffer.isBuffer(e))return oN(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},J0=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):cN(e,n)},uN=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var wc=function(t,e){return t[e]},la=function(t,e){return t[e+1]*256+t[e]},fL=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Ai=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},al=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},dL=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Cf(t,e){var n="",r,i,s=[],o,c,f,d;switch(e){case"dbcs":if(d=this.l,Lt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(la(this,d)),d+=2;t*=2;break;case"utf8":n=gd(this,this.l,this.l+t);break;case"utf16le":t*=2,n=p1(this,this.l,this.l+t);break;case"wstr":return Cf.call(this,t,"dbcs");case"lpstr-ansi":n=eN(this,this.l),t=4+Ai(this,this.l);break;case"lpstr-cp":n=nN(this,this.l),t=4+Ai(this,this.l);break;case"lpwstr":n=iN(this,this.l),t=4+2*Ai(this,this.l);break;case"lpp4":t=4+Ai(this,this.l),n=aN(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ai(this,this.l),n=lN(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=wc(this,this.l+t++))!==0;)s.push(Jh(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=la(this,this.l+t))!==0;)s.push(Jh(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",d=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=wc(this,d),this.l=d+1,c=Cf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Jh(la(this,d))),d+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=wc(this,d),this.l=d+1,c=Cf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Jh(wc(this,d))),d+=1}n=s.join("");break;default:switch(t){case 1:return r=wc(this,this.l),this.l++,r;case 2:return r=(e==="i"?fL:la)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?al:dL)(this,this.l),this.l+=4,r):(i=Ai(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=J0(this,this.l):i=J0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=Xb(this,this.l,t);break}}return this.l+=t,n}var hL=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},pL=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},mL=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function gL(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)mL(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,hL(this,e,this.l);break;case 8:if(r=8,n==="f"){uL(this,e,this.l);break}case 16:break;case-4:r=4,pL(this,e,this.l);break}return this.l+=r,this}function fN(t,e){var n=Xb(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Tr(t,e){t.l=e,t.read_shift=Cf,t.chk=fN,t.write_shift=gL}function zr(t,e){t.l+=e}function tr(t){var e=yo(t);return Tr(e,0),e}function _a(t,e,n){if(t){var r,i,s;Tr(t,t.l||0);for(var o=t.length,c=0,f=0;t.l<o;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=tp[c]||tp[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;f=t.l+s;var h=d.f&&d.f(t,s,n);if(t.l=f,e(h,d,c))return}}}function Hv(){var t=[],e=Lt?256:2048,n=function(d){var h=tr(d);return Tr(h,0),h},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=n(Math.max(d+1,e)))},o=function(){return i(),ao(t)},c=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:o,_bufs:t}}function bf(t,e,n){var r=Sr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function rw(t,e,n){var r=Sr(t);return r.s=bf(r.s,e.s,n),r.e=bf(r.e,e.s,n),r}function Nf(t,e){if(t.cRel&&t.c<0)for(t=Sr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Sr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=_t(t);return!t.cRel&&t.cRel!=null&&(n=yL(n)),!t.rRel&&t.rRel!=null&&(n=vL(n)),n}function av(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+rr(t.s.c)+":"+(t.e.cRel?"":"$")+rr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ar(t.s.r)+":"+(t.e.rRel?"":"$")+Ar(t.e.r):Nf(t.s,e.biff)+":"+Nf(t.e,e.biff)}function m1(t){return parseInt(xL(t),10)-1}function Ar(t){return""+(t+1)}function vL(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function xL(t){return t.replace(/\$(\d+)$/,"$1")}function g1(t){for(var e=_L(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function rr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function yL(t){return t.replace(/^([A-Z])/,"$$$1")}function _L(t){return t.replace(/^\$([A-Z])/,"$1")}function EL(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Zr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function _t(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function tu(t){var e=t.indexOf(":");return e==-1?{s:Zr(t),e:Zr(t)}:{s:Zr(t.slice(0,e)),e:Zr(t.slice(e+1))}}function Ht(t,e){return typeof e>"u"||typeof e=="number"?Ht(t.s,t.e):(typeof t!="string"&&(t=_t(t)),typeof e!="string"&&(e=_t(e)),t==e?t:t+":"+e)}function Mn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function iw(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=$i(t.z,n?Qr(e):e)}catch{}try{return t.w=$i((t.XF||{}).numFmtId||(n?14:0),n?Qr(e):e)}catch{return""+e}}function ma(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?kl[t.v]||t.v:e==null?iw(t,t.v):iw(t,e))}function Ro(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function dN(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),o=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Zr(r.origin):r.origin;o=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=Mn(s["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(d.e.r=o=h.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[g].length;++v)if(!(typeof e[g][v]>"u")){var T={v:e[g][v]},S=o+g,A=c+v;if(d.s.r>S&&(d.s.r=S),d.s.c>A&&(d.s.c=A),d.e.r<S&&(d.e.r=S),d.e.c<A&&(d.e.c=A),e[g][v]&&typeof e[g][v]=="object"&&!Array.isArray(e[g][v])&&!(e[g][v]instanceof Date))T=e[g][v];else if(Array.isArray(T.v)&&(T.f=e[g][v][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(r.nullError)T.t="e",T.v=0;else if(r.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=r.dateNF||St[14],r.cellDates?(T.t="d",T.w=$i(T.z,Qr(T.v))):(T.t="n",T.v=Qr(T.v),T.w=$i(T.z,T.v))):T.t="s";if(i)s[S]||(s[S]=[]),s[S][A]&&s[S][A].z&&(T.z=s[S][A].z),s[S][A]=T;else{var C=_t({c:A,r:S});s[C]&&s[C].z&&(T.z=s[C].z),s[C]=T}}}return d.s.c<1e7&&(s["!ref"]=Ht(d)),s}function nu(t,e){return dN(null,t,e)}function TL(t){return t.read_shift(4,"i")}function Br(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function wL(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function v1(t,e){var n=t.l,r=t.read_shift(1),i=Br(t),s=[],o={t:i,h:i};if((r&1)!==0){for(var c=t.read_shift(4),f=0;f!=c;++f)s.push(wL(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var SL=v1;function Ji(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Il(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var AL=Br;function x1(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var CL=Br,Gv=x1;function y1(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?J0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):al(e,0)>>2;return n?i/100:i}function hN(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Rl=hN;function Lr(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function bL(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=pl[i];d&&(e.rgb=Zf(d));break;case 2:e.rgb=Zf([o,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function NL(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function pN(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function IL(t){return pN(t,1)}function RL(t){return pN(t,2)}var _1=2,ui=3,Zh=11,sw=12,W0=19,Xh=64,kL=65,DL=71,ML=4108,PL=4126,cr=80,mN=81,FL=[cr,mN],OL={1:{n:"CodePage",t:_1},2:{n:"Category",t:cr},3:{n:"PresentationFormat",t:cr},4:{n:"ByteCount",t:ui},5:{n:"LineCount",t:ui},6:{n:"ParagraphCount",t:ui},7:{n:"SlideCount",t:ui},8:{n:"NoteCount",t:ui},9:{n:"HiddenCount",t:ui},10:{n:"MultimediaClipCount",t:ui},11:{n:"ScaleCrop",t:Zh},12:{n:"HeadingPairs",t:ML},13:{n:"TitlesOfParts",t:PL},14:{n:"Manager",t:cr},15:{n:"Company",t:cr},16:{n:"LinksUpToDate",t:Zh},17:{n:"CharacterCount",t:ui},19:{n:"SharedDoc",t:Zh},22:{n:"HyperlinksChanged",t:Zh},23:{n:"AppVersion",t:ui,p:"version"},24:{n:"DigSig",t:kL},26:{n:"ContentType",t:cr},27:{n:"ContentStatus",t:cr},28:{n:"Language",t:cr},29:{n:"Version",t:cr},255:{},2147483648:{n:"Locale",t:W0},2147483651:{n:"Behavior",t:W0},1919054434:{}},LL={1:{n:"CodePage",t:_1},2:{n:"Title",t:cr},3:{n:"Subject",t:cr},4:{n:"Author",t:cr},5:{n:"Keywords",t:cr},6:{n:"Comments",t:cr},7:{n:"Template",t:cr},8:{n:"LastAuthor",t:cr},9:{n:"RevNumber",t:cr},10:{n:"EditTime",t:Xh},11:{n:"LastPrinted",t:Xh},12:{n:"CreatedDate",t:Xh},13:{n:"ModifiedDate",t:Xh},14:{n:"PageCount",t:ui},15:{n:"WordCount",t:ui},16:{n:"CharCount",t:ui},17:{n:"Thumbnail",t:DL},18:{n:"Application",t:cr},19:{n:"DocSecurity",t:ui},255:{},2147483648:{n:"Locale",t:W0},2147483651:{n:"Behavior",t:W0},1919054434:{}},aw={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},UL=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function VL(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var BL=VL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),pl=Sr(BL),kl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},gN={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ow={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function zL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function HL(t){var e=zL();if(!t||!t.match)return e;var n={};if((t.match(Hr)||[]).forEach(function(r){var i=mt(r);switch(i[0].replace(WO,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[ow[i.ContentType]]!==void 0&&e[ow[i.ContentType]].push(i.PartName);break}}),e.xmlns!==oL.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var Rc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function jv(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function If(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Hr)||[]).forEach(function(i){var s=mt(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:gf(s.Target,e);n[c]=o,r[s.Id]=o}}),n["!id"]=r,n}var GL="application/vnd.oasis.opendocument.spreadsheet";function jL(t,e){for(var n=h1(t),r,i;r=Jf.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=mt(r[0],!1),i.path=="/"&&i.type!==GL)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Rf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],qL=(function(){for(var t=new Array(Rf.length),e=0;e<Rf.length;++e){var n=Rf[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function vN(t){var e={};t=mn(t);for(var n=0;n<Rf.length;++n){var r=Rf[n],i=t.match(qL[n]);i!=null&&i.length>0&&(e[r[1]]=Gt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=fr(e[r[1]]))}return e}var $L=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function xN(t,e,n,r){var i=[];if(typeof t=="string")i=Z2(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(h){return{v:h}}));var o=typeof e=="string"?Z2(e,r).map(function(h){return h.v}):e,c=0,f=0;if(o.length>0)for(var d=0;d!==i.length;d+=2){switch(f=+i[d+1].v,i[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=f,n.SheetNames=o.slice(c,c+f);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=f,n.DefinedNames=o.slice(c,c+f);break;case"Charts":case"Diagramme":n.Chartsheets=f,n.ChartNames=o.slice(c,c+f);break}c+=f}}function KL(t,e,n){var r={};return e||(e={}),t=mn(t),$L.forEach(function(i){var s=(t.match(Yf(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Gt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&xN(r.HeadingPairs,r.TitlesOfParts,e,n),e}var YL=/<[^>]+>[^<]*/g;function JL(t,e){var n={},r="",i=t.match(YL);if(i)for(var s=0;s!=i.length;++s){var o=i[s],c=mt(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Gt(c.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var f=o.split(">"),d=f[0].slice(4),h=f[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[r]=Gt(h);break;case"bool":n[r]=wn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(h);break;case"filetime":case"date":n[r]=fr(h);break;case"cy":case"error":n[r]=Gt(h);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,f)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return n}var WL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},ov;function ZL(t,e,n){ov||(ov=u1(WL)),e=ov[e]||e,t[e]=n}function E1(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function yN(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function _N(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function EN(t,e,n){return e===31?_N(t):yN(t,e,n)}function qv(t,e,n){return EN(t,e,n===!1?0:4)}function XL(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return EN(t,e,0)}function QL(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Xr,""),t.l-i&2&&(t.l+=2)}return n}function e8(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Xr,"");return n}function t8(t){var e=t.l,n=Z0(t,mN);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=Z0(t,ui);return[n,r]}function n8(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(t8(t));return n}function lw(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),o=t.read_shift(4);r[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(Xr,"").replace(mf,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function TN(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function r8(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Z0(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==sw&&r!==e&&FL.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===sw?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return yN(t,r,4).replace(Xr,"");case 31:return _N(t);case 64:return E1(t);case 65:return TN(t);case 71:return r8(t);case 80:return qv(t,r,!s.raw).replace(Xr,"");case 81:return XL(t,r).replace(Xr,"");case 4108:return n8(t);case 4126:case 4127:return r==4127?QL(t):e8(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function cw(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0,c=0,f=-1,d={};for(o=0;o!=i;++o){var h=t.read_shift(4),g=t.read_shift(4);s[o]=[h,g+n]}s.sort(function(V,D){return V[1]-D[1]});var v={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var T=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,T=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],T=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],T=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(T=!1,t.l=s[o][1]),T)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var S=e[s[o][0]];if(v[S.n]=Z0(t,S.t,{raw:!0}),S.p==="version"&&(v[S.n]=String(v[S.n]>>16)+"."+("0000"+String(v[S.n]&65535)).slice(-4)),S.n=="CodePage")switch(v[S.n]){case 0:v[S.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:fs(c=v[S.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[S.n])}}else if(s[o][0]===1){if(c=v.CodePage=Z0(t,_1),fs(c),f!==-1){var A=t.l;t.l=s[f][1],d=lw(t,c),t.l=A}}else if(s[o][0]===0){if(c===0){f=o,t.l=s[o+1][1];continue}d=lw(t,c)}else{var C=d[s[o][0]],k;switch(t[t.l]){case 65:t.l+=4,k=TN(t);break;case 30:t.l+=4,k=qv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,k=qv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,k=t.read_shift(4,"i");break;case 19:t.l+=4,k=t.read_shift(4);break;case 5:t.l+=4,k=t.read_shift(8,"f");break;case 11:t.l+=4,k=Un(t,4);break;case 64:t.l+=4,k=fr(E1(t));break;default:throw new Error("unparsed value: "+t[t.l])}v[C]=k}}return t.l=n+r,v}function uw(t,e,n){var r=t.content;if(!r)return{};Tr(r,0);var i,s,o,c,f=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),h=r.read_shift(16);if(h!==zt.utils.consts.HEADER_CLSID&&h!==n)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),c=r.read_shift(4),i===1&&c!==r.l)throw new Error("Length mismatch: "+c+" !== "+r.l);i===2&&(o=r.read_shift(16),f=r.read_shift(4));var g=cw(r,e),v={SystemIdentifier:d};for(var T in g)v[T]=g[T];if(v.FMTID=s,i===1)return v;if(f-r.l==2&&(r.l+=2),r.l!==f)throw new Error("Length mismatch 2: "+r.l+" !== "+f);var S;try{S=cw(r,null)}catch{}for(T in S)v[T]=S[T];return v.FMTID=[s,o],v}function ro(t,e){return t.read_shift(e),null}function i8(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Un(t,e){return t.read_shift(e)===1}function Zn(t){return t.read_shift(2,"u")}function wN(t,e){return i8(t,e,Zn)}function s8(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function vd(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function a8(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,c,f={};i&&(o=t.read_shift(2)),r&&(c=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,d);return i&&(t.l+=4*o),r&&(t.l+=c),f.t=h,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function El(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function xd(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):El(t,r,n)}function Dl(t,e,n){if(n.biff>5)return xd(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function o8(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function l8(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Xr,"");return r&&(t.l+=24),i}function c8(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(Xr,"");return n+o}function u8(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return l8(t);case"0303000000000000c000000000000046":return c8(t);default:throw new Error("Unsupported Moniker "+n)}}function Qh(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Xr,""):"";return n}function f8(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,o,c,f,d="",h,g;i&16&&(s=Qh(t,n-t.l)),i&128&&(o=Qh(t,n-t.l)),(i&257)===257&&(c=Qh(t,n-t.l)),(i&257)===1&&(f=u8(t,n-t.l)),i&8&&(d=Qh(t,n-t.l)),i&32&&(h=t.read_shift(16)),i&64&&(g=E1(t)),t.l=n;var v=o||c||f||"";v&&d&&(v+="#"+d),v||(v="#"+d),i&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var T={Target:v};return h&&(T.guid=h),g&&(T.time=g),s&&(T.Tooltip=s),T}function SN(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function AN(t,e){var n=SN(t);return n[3]=0,n}function zs(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function d8(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function h8(t,e,n){return e===0?"":Dl(t,e,n)}function p8(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function CN(t){var e=t.read_shift(2),n=y1(t);return[e,n]}function m8(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=vd(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function kp(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function bN(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var g8=bN;function NN(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function v8(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function x8(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Dr(t){t.l+=2,t.l+=t.read_shift(2)}var y8={0:Dr,4:Dr,5:Dr,6:Dr,7:x8,8:Dr,9:Dr,10:Dr,11:Dr,12:Dr,13:v8,14:Dr,15:Dr,16:Dr,17:Dr,18:Dr,19:Dr,20:Dr,21:NN};function _8(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(y8[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function e0(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function E8(t,e){return e===0||t.read_shift(2),1200}function T8(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Dl(t,0,n);return t.read_shift(e+r-t.l),i}function w8(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function S8(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=vd(t,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function A8(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<n;++o)s.push(a8(t));return s.Count=r,s.Unique=i,s}function C8(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function b8(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function N8(t){var e=d8(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function I8(t){return t.read_shift(2),t.read_shift(4)}function fw(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function R8(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:c,Selected:f,TabRatio:d}}function k8(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function D8(){}function M8(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=vd(t,0,n),r}function P8(t){var e=zs(t);return e.isst=t.read_shift(4),e}function F8(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=zs(t);n.biff==2&&t.l++;var s=xd(t,r-t.l,n);return i.val=s,i}function O8(t,e,n){var r=t.read_shift(2),i=Dl(t,0,n);return[r,i]}var L8=Dl;function dw(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),o=t.read_shift(i),c=t.read_shift(2),f=t.read_shift(2);return t.l=r,{s:{r:s,c},e:{r:o,c:f}}}function U8(t){var e=t.read_shift(2),n=t.read_shift(2),r=CN(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function V8(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(CN(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function B8(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function z8(t,e,n,r){var i={},s=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(4),f=t.read_shift(2);return i.patternType=UL[c>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=f&127,i.icvBack=f>>7&127,i.fsxButton=f>>14&1),i}function H8(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=z8(t,e,r.fStyle,n),r}function G8(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function hw(t,e,n){var r=zs(t);(n.biff==2||e==9)&&++t.l;var i=s8(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function j8(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=zs(t),i=Lr(t);return r.val=i,r}var pw=h8;function q8(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=El(t,s),c=[];r>t.l;)c.push(xd(t));return[s,i,o,c]}function mw(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=m8(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var $8=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function gw(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(n&&n.biff==2?1:2),f=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),f=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var d=El(t,o,n);i&32&&(d=$8[d.charCodeAt(0)]);var h=r-t.l;n&&n.biff==2&&--h;var g=r==t.l||c===0||!(h>0)?[]:b7(t,h,n,c);return{chKey:s,Name:d,itab:f,rgce:g}}function IN(t,e,n){if(n.biff<8)return K8(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(p8(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function K8(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=vd(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function Y8(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=El(t,r,n),o=El(t,i,n);return[s,o]}function J8(t,e,n){var r=bN(t);t.l++;var i=t.read_shift(1);return e-=8,[N7(t,e,n),i,r]}function vw(t,e,n){var r=g8(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,A7(t,e,n)]}function W8(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function Z8(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=Dl(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},c,o,s]}}function X8(t,e,n){return Z8(t,e,n)}function Q8(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(kp(t));return n}function eU(t,e,n){if(n&&n.biff<8)return nU(t,e,n);var r=NN(t),i=_8(t,e-22,r[1]);return{cmo:r,ft:i}}var tU={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function nU(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((tU[r]||zr)(t,e,n)),{cmo:[i,r,s],ft:o}}function rU(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=o8(t,6,n);var c=t.read_shift(2);t.read_shift(2),Zn(t,2);var f=t.read_shift(2);t.l+=f;for(var d=1;d<t.lens.length-1;++d){if(t.l-r!=t.lens[d])throw new Error("TxO: bad continue record");var h=t[t.l],g=El(t,t.lens[d+1]-t.lens[d]-1);if(i+=g,i.length>=(h?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function iU(t,e){var n=kp(t);t.l+=16;var r=f8(t,e-24);return[n,r]}function sU(t,e){t.read_shift(2);var n=kp(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Xr,""),[n,r]}function aU(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=aw[n]||n,n=t.read_shift(2),e[1]=aw[n]||n,e}function oU(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(AN(t));return n}function lU(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(AN(t));return n}function cU(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function RN(t,e,n){if(!n.cellStyles)return zr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var d={s:i,e:s,w:o,ixfe:c,flags:f};return(n.biff>=5||!n.biff)&&(d.level=f>>8&7),d}function uU(t,e){var n={};return e<32||(t.l+=16,n.header=Lr(t),n.footer=Lr(t),t.l+=2),n}function fU(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var dU=zs,hU=wN,pU=xd;function mU(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function gU(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=zs(t);++t.l;var i=Dl(t,e-7,n);return r.t="str",r.val=i,r}function vU(t){var e=zs(t);++t.l;var n=Lr(t);return e.t="n",e.val=n,e}function xU(t){var e=zs(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function yU(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function _U(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function EU(t,e,n){var r=t.l+e,i=zs(t),s=t.read_shift(2),o=El(t,s,n);return t.l=r,i.t="str",i.val=o,i}var TU=[2,3,48,49,131,139,140,245],xw=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=u1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,f){var d=[],h=yo(1);switch(f.type){case"base64":h=us(Ni(c));break;case"binary":h=us(c);break;case"buffer":case"array":h=c;break}Tr(h,0);var g=h.read_shift(1),v=!!(g&136),T=!1,S=!1;switch(g){case 2:break;case 3:break;case 48:T=!0,v=!0;break;case 49:T=!0,v=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var A=0,C=521;g==2&&(A=h.read_shift(2)),h.l+=3,g!=2&&(A=h.read_shift(4)),A>1048576&&(A=1e6),g!=2&&(C=h.read_shift(2));var k=h.read_shift(2),V=f.codepage||1252;g!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(V=t[h[h.l]]),h.l+=1,h.l+=2),S&&(h.l+=36);for(var D=[],H={},G=Math.min(h.length,g==2?521:C-10-(T?264:0)),K=S?32:11;h.l<G&&h[h.l]!=13;)switch(H={},H.name=$f.utils.decode(V,h.slice(h.l,h.l+K)).replace(/[\u0000\r\n].*$/g,""),h.l+=K,H.type=String.fromCharCode(h.read_shift(1)),g!=2&&!S&&(H.offset=h.read_shift(4)),H.len=h.read_shift(1),g==2&&(H.offset=h.read_shift(2)),H.dec=h.read_shift(1),H.name.length&&D.push(H),g!=2&&(h.l+=S?13:14),H.type){case"B":(!T||H.len!=8)&&f.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+H.type)}if(h[h.l]!==13&&(h.l=C-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=C;var I=0,N=0;for(d[0]=[],N=0;N!=D.length;++N)d[0][N]=D[N].name;for(;A-- >0;){if(h[h.l]===42){h.l+=k;continue}for(++h.l,d[++I]=[],N=0,N=0;N!=D.length;++N){var b=h.slice(h.l,h.l+D[N].len);h.l+=D[N].len,Tr(b,0);var F=$f.utils.decode(V,b);switch(D[N].type){case"C":F.trim().length&&(d[I][N]=F.replace(/\s+$/,""));break;case"D":F.length===8?d[I][N]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):d[I][N]=F;break;case"F":d[I][N]=parseFloat(F.trim());break;case"+":case"I":d[I][N]=S?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":d[I][N]=!0;break;case"N":case"F":d[I][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));d[I][N]="##MEMO##"+(S?parseInt(F.trim(),10):b.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(d[I][N]=+F||0);break;case"@":d[I][N]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":d[I][N]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":d[I][N]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[I][N]=-b.read_shift(-8,"f");break;case"B":if(T&&D[N].len==8){d[I][N]=b.read_shift(8,"f");break}case"G":case"P":b.l+=D[N].len;break;case"0":if(D[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+D[N].type)}}}if(g!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),f.DBF=D,d}function r(c,f){var d=f||{};d.dateNF||(d.dateNF="yyyymmdd");var h=nu(n(c,d),d);return h["!cols"]=d.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete d.DBF,h}function i(c,f){try{return Ro(r(c,f),f)}catch(d){if(f&&f.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,f){var d=f||{};if(+d.codepage>=0&&fs(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=Hv(),g=Zv(c,{header:1,raw:!0,cellDates:!0}),v=g[0],T=g.slice(1),S=c["!cols"]||[],A=0,C=0,k=0,V=1;for(A=0;A<v.length;++A){if(((S[A]||{}).DBF||{}).name){v[A]=S[A].DBF.name,++k;continue}if(v[A]!=null){if(++k,typeof v[A]=="number"&&(v[A]=v[A].toString(10)),typeof v[A]!="string")throw new Error("DBF Invalid column name "+v[A]+" |"+typeof v[A]+"|");if(v.indexOf(v[A])!==A){for(C=0;C<1024;++C)if(v.indexOf(v[A]+"_"+C)==-1){v[A]+="_"+C;break}}}}var D=Mn(c["!ref"]),H=[],G=[],K=[];for(A=0;A<=D.e.c-D.s.c;++A){var I="",N="",b=0,F=[];for(C=0;C<T.length;++C)T[C][A]!=null&&F.push(T[C][A]);if(F.length==0||v[A]==null){H[A]="?";continue}for(C=0;C<F.length;++C){switch(typeof F[C]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=F[C]instanceof Date?"D":"C";break;default:N="C"}b=Math.max(b,String(F[C]).length),I=I&&I!=N?"C":N}b>250&&(b=250),N=((S[A]||{}).DBF||{}).type,N=="C"&&S[A].DBF.len>b&&(b=S[A].DBF.len),I=="B"&&N=="N"&&(I="N",K[A]=S[A].DBF.dec,b=S[A].DBF.len),G[A]=I=="C"||N=="N"?b:s[I]||0,V+=G[A],H[A]=I}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,T.length),O.write_shift(2,296+32*k),O.write_shift(2,V),A=0;A<4;++A)O.write_shift(4,0);for(O.write_shift(4,0|(+e[Ib]||3)<<8),A=0,C=0;A<v.length;++A)if(v[A]!=null){var M=h.next(32),U=(v[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,U,"sbcs"),M.write_shift(1,H[A]=="?"?"C":H[A],"sbcs"),M.write_shift(4,C),M.write_shift(1,G[A]||s[H[A]]||0),M.write_shift(1,K[A]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),C+=G[A]||s[H[A]]||0}var ue=h.next(264);for(ue.write_shift(4,13),A=0;A<65;++A)ue.write_shift(4,0);for(A=0;A<T.length;++A){var pe=h.next(V);for(pe.write_shift(1,0),C=0;C<v.length;++C)if(v[C]!=null)switch(H[C]){case"L":pe.write_shift(1,T[A][C]==null?63:T[A][C]?84:70);break;case"B":pe.write_shift(8,T[A][C]||0,"f");break;case"N":var ae="0";for(typeof T[A][C]=="number"&&(ae=T[A][C].toFixed(K[C]||0)),k=0;k<G[C]-ae.length;++k)pe.write_shift(1,32);pe.write_shift(1,ae,"sbcs");break;case"D":T[A][C]?(pe.write_shift(4,("0000"+T[A][C].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(T[A][C].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+T[A][C].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(T[A][C]!=null?T[A][C]:"").slice(0,G[C]);for(pe.write_shift(1,ee,"sbcs"),k=0;k<G[C]-ee.length;++k)pe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),wU=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ls(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(v,T){var S=t[T];return typeof S=="number"?P2(S):S},r=function(v,T,S){var A=T.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return A==59?v:P2(A)};t["|"]=254;function i(v,T){switch(T.type){case"base64":return s(Ni(v),T);case"binary":return s(v,T);case"buffer":return s(Lt&&Buffer.isBuffer(v)?v.toString("binary"):Nl(v),T);case"array":return s(_l(v),T)}throw new Error("Unrecognized type "+T.type)}function s(v,T){var S=v.split(/[\n\r]+/),A=-1,C=-1,k=0,V=0,D=[],H=[],G=null,K={},I=[],N=[],b=[],F=0,O;for(+T.codepage>=0&&fs(+T.codepage);k!==S.length;++k){F=0;var M=S[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=M.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),ue=U[0],pe;if(M.length>0)switch(ue){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&H.push(M.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,ee=!1,le=!1,se=!1,ke=-1,Z=-1;for(V=1;V<U.length;++V)switch(U[V].charAt(0)){case"A":break;case"X":C=parseInt(U[V].slice(1))-1,ee=!0;break;case"Y":for(A=parseInt(U[V].slice(1))-1,ee||(C=0),O=D.length;O<=A;++O)D[O]=[];break;case"K":pe=U[V].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(ps(pe))?isNaN($c(pe).getDate())||(pe=fr(pe)):(pe=ps(pe),G!==null&&eu(G)&&(pe=Rp(pe))),ae=!0;break;case"E":se=!0;var B=Oc(U[V].slice(1),{r:A,c:C});D[A][C]=[D[A][C],B];break;case"S":le=!0,D[A][C]=[D[A][C],"S5S"];break;case"G":break;case"R":ke=parseInt(U[V].slice(1))-1;break;case"C":Z=parseInt(U[V].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+M)}if(ae&&(D[A][C]&&D[A][C].length==2?D[A][C][0]=pe:D[A][C]=pe,G=null),le){if(se)throw new Error("SYLK shared formula cannot have own formula");var Q=ke>-1&&D[ke][Z];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");D[A][C][1]=BN(Q[1],{r:A-ke,c:C-Z})}break;case"F":var W=0;for(V=1;V<U.length;++V)switch(U[V].charAt(0)){case"X":C=parseInt(U[V].slice(1))-1,++W;break;case"Y":for(A=parseInt(U[V].slice(1))-1,O=D.length;O<=A;++O)D[O]=[];break;case"M":F=parseInt(U[V].slice(1))/20;break;case"F":break;case"G":break;case"P":G=H[parseInt(U[V].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=U[V].slice(1).split(" "),O=parseInt(b[0],10);O<=parseInt(b[1],10);++O)F=parseInt(b[2],10),N[O-1]=F===0?{hidden:!0}:{wch:F},Kc(N[O-1]);break;case"C":C=parseInt(U[V].slice(1))-1,N[C]||(N[C]={});break;case"R":A=parseInt(U[V].slice(1))-1,I[A]||(I[A]={}),F>0?(I[A].hpt=F,I[A].hpx=Xf(F)):F===0&&(I[A].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+M)}W<1&&(G=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+M)}}return I.length>0&&(K["!rows"]=I),N.length>0&&(K["!cols"]=N),T&&T.sheetRows&&(D=D.slice(0,T.sheetRows)),[D,K]}function o(v,T){var S=i(v,T),A=S[0],C=S[1],k=nu(A,T);return Ls(C).forEach(function(V){k[V]=C[V]}),k}function c(v,T){return Ro(o(v,T),T)}function f(v,T,S,A){var C="C;Y"+(S+1)+";X"+(A+1)+";K";switch(v.t){case"n":C+=v.v||0,v.f&&!v.F&&(C+=";E"+cV(v.f,{r:S,c:A}));break;case"b":C+=v.v?"TRUE":"FALSE";break;case"e":C+=v.w||v.v;break;case"d":C+='"'+(v.w||v.v)+'"';break;case"s":C+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function d(v,T){T.forEach(function(S,A){var C="F;W"+(A+1)+" "+(A+1)+" ";S.hidden?C+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Q0(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=ep(S.wpx)),typeof S.wch=="number"&&(C+=Math.round(S.wch))),C.charAt(C.length-1)!=" "&&v.push(C)})}function h(v,T){T.forEach(function(S,A){var C="F;";S.hidden?C+="M0;":S.hpt?C+="M"+20*S.hpt+";":S.hpx&&(C+="M"+20*LN(S.hpx)+";"),C.length>2&&v.push(C+"R"+(A+1))})}function g(v,T){var S=["ID;PWXL;N;E"],A=[],C=Mn(v["!ref"]),k,V=Array.isArray(v),D=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),v["!cols"]&&d(S,v["!cols"]),v["!rows"]&&h(S,v["!rows"]),S.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var H=C.s.r;H<=C.e.r;++H)for(var G=C.s.c;G<=C.e.c;++G){var K=_t({r:H,c:G});k=V?(v[H]||[])[G]:v[K],!(!k||k.v==null&&(!k.f||k.F))&&A.push(f(k,v,H,G))}return S.join(D)+D+A.join(D)+D+"E"+D}return{to_workbook:c,to_sheet:o,from_sheet:g}})(),SU=(function(){function t(s,o){switch(o.type){case"base64":return e(Ni(s),o);case"binary":return e(s,o);case"buffer":return e(Lt&&Buffer.isBuffer(s)?s.toString("binary"):Nl(s),o);case"array":return e(_l(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var c=s.split(`
`),f=-1,d=-1,h=0,g=[];h!==c.length;++h){if(c[h].trim()==="BOT"){g[++f]=[],d=0;continue}if(!(f<0)){var v=c[h].trim().split(","),T=v[0],S=v[1];++h;for(var A=c[h]||"";(A.match(/["]/g)||[]).length&1&&h<c.length-1;)A+=`
`+c[++h];switch(A=A.trim(),+T){case-1:if(A==="BOT"){g[++f]=[],d=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?g[f][d]=!0:A==="FALSE"?g[f][d]=!1:isNaN(ps(S))?isNaN($c(S).getDate())?g[f][d]=S:g[f][d]=fr(S):g[f][d]=ps(S),++d;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),g[f][d++]=A!==""?A:null;break}if(A==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(s,o){return nu(t(s,o),o)}function r(s,o){return Ro(n(s,o),o)}var i=(function(){var s=function(f,d,h,g,v){f.push(d),f.push(h+","+g),f.push('"'+v.replace(/"/g,'""')+'"')},o=function(f,d,h,g){f.push(d+","+h),f.push(d==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(f){var d=[],h=Mn(f["!ref"]),g,v=Array.isArray(f);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,h.e.r-h.s.r+1,""),s(d,"TUPLES",0,h.e.c-h.s.c+1,""),s(d,"DATA",0,0,"");for(var T=h.s.r;T<=h.e.r;++T){o(d,-1,0,"BOT");for(var S=h.s.c;S<=h.e.c;++S){var A=_t({r:T,c:S});if(g=v?(f[T]||[])[S]:f[A],!g){o(d,1,0,"");continue}switch(g.t){case"n":var C=g.w;!C&&g.v!=null&&(C=g.v),C==null?g.f&&!g.F?o(d,1,0,"="+g.f):o(d,1,0,""):o(d,0,C,"V");break;case"b":o(d,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=$i(g.z||St[14],Qr(fr(g.v)))),o(d,0,g.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var k=`\r
`,V=d.join(k);return V}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),AU=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,v){for(var T=g.split(`
`),S=-1,A=-1,C=0,k=[];C!==T.length;++C){var V=T[C].trim().split(":");if(V[0]==="cell"){var D=Zr(V[1]);if(k.length<=D.r)for(S=k.length;S<=D.r;++S)k[S]||(k[S]=[]);switch(S=D.r,A=D.c,V[2]){case"t":k[S][A]=t(V[3]);break;case"v":k[S][A]=+V[3];break;case"vtf":var H=V[V.length-1];case"vtc":V[3]==="nl"?k[S][A]=!!+V[4]:k[S][A]=+V[4],V[2]=="vtf"&&(k[S][A]=[k[S][A],H])}}}return v&&v.sheetRows&&(k=k.slice(0,v.sheetRows)),k}function r(g,v){return nu(n(g,v),v)}function i(g,v){return Ro(r(g,v),v)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function d(g){if(!g||!g["!ref"])return"";for(var v=[],T=[],S,A="",C=tu(g["!ref"]),k=Array.isArray(g),V=C.s.r;V<=C.e.r;++V)for(var D=C.s.c;D<=C.e.c;++D)if(A=_t({r:V,c:D}),S=k?(g[V]||[])[D]:g[A],!(!S||S.v==null||S.t==="z")){switch(T=["cell",A,"t"],S.t){case"s":case"str":T.push(e(S.v));break;case"n":S.f?(T[2]="vtf",T[3]="n",T[4]=S.v,T[5]=e(S.f)):(T[2]="v",T[3]=S.v);break;case"b":T[2]="vt"+(S.f?"f":"c"),T[3]="nl",T[4]=S.v?"1":"0",T[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var H=Qr(fr(S.v));T[2]="vtc",T[3]="nd",T[4]=""+H,T[5]=S.w||$i(S.z||St[14],H);break;case"e":continue}v.push(T.join(":"))}return v.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function h(g){return[s,o,c,o,d(g),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),Wf=(function(){function t(h,g,v,T,S){S.raw?g[v][T]=h:h===""||(h==="TRUE"?g[v][T]=!0:h==="FALSE"?g[v][T]=!1:isNaN(ps(h))?isNaN($c(h).getDate())?g[v][T]=h:g[v][T]=fr(h):g[v][T]=ps(h))}function e(h,g){var v=g||{},T=[];if(!h||h.length===0)return T;for(var S=h.split(/[\r\n]/),A=S.length-1;A>=0&&S[A].length===0;)--A;for(var C=10,k=0,V=0;V<=A;++V)k=S[V].indexOf(" "),k==-1?k=S[V].length:k++,C=Math.max(C,k);for(V=0;V<=A;++V){T[V]=[];var D=0;for(t(S[V].slice(0,C).trim(),T,V,D,v),D=1;D<=(S[V].length-C)/10+1;++D)t(S[V].slice(C+(D-1)*10,C+D*10).trim(),T,V,D,v)}return v.sheetRows&&(T=T.slice(0,v.sheetRows)),T}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var g={},v=!1,T=0,S=0;T<h.length;++T)(S=h.charCodeAt(T))==34?v=!v:!v&&S in n&&(g[S]=(g[S]||0)+1);S=[];for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&S.push([g[T],T]);if(!S.length){g=r;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&S.push([g[T],T])}return S.sort(function(A,C){return A[0]-C[0]||r[A[1]]-r[C[1]]}),n[S.pop()[1]]||44}function s(h,g){var v=g||{},T="",S=v.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(T=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(T=h.charAt(4),h=h.slice(6)):T=i(h.slice(0,1024)):v&&v.FS?T=v.FS:T=i(h.slice(0,1024));var C=0,k=0,V=0,D=0,H=0,G=T.charCodeAt(0),K=!1,I=0,N=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var b=v.dateNF!=null?OO(v.dateNF):null;function F(){var O=h.slice(D,H),M={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)M.t="z";else if(v.raw)M.t="s",M.v=O;else if(O.trim().length===0)M.t="s",M.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(M.t="s",M.v=O.slice(2,-1).replace(/""/g,'"')):fV(O)?(M.t="n",M.f=O.slice(1)):(M.t="s",M.v=O);else if(O=="TRUE")M.t="b",M.v=!0;else if(O=="FALSE")M.t="b",M.v=!1;else if(!isNaN(V=ps(O)))M.t="n",v.cellText!==!1&&(M.w=O),M.v=V;else if(!isNaN($c(O).getDate())||b&&O.match(b)){M.z=v.dateNF||St[14];var U=0;b&&O.match(b)&&(O=LO(O,v.dateNF,O.match(b)||[]),U=1),v.cellDates?(M.t="d",M.v=fr(O,U)):(M.t="n",M.v=Qr(fr(O,U))),v.cellText!==!1&&(M.w=$i(M.z,M.v instanceof Date?Qr(M.v):M.v)),v.cellNF||delete M.z}else M.t="s",M.v=O;if(M.t=="z"||(v.dense?(S[C]||(S[C]=[]),S[C][k]=M):S[_t({c:k,r:C})]=M),D=H+1,N=h.charCodeAt(D),A.e.c<k&&(A.e.c=k),A.e.r<C&&(A.e.r=C),I==G)++k;else if(k=0,++C,v.sheetRows&&v.sheetRows<=C)return!0}e:for(;H<h.length;++H)switch(I=h.charCodeAt(H)){case 34:N===34&&(K=!K);break;case G:case 10:case 13:if(!K&&F())break e;break}return H-D>0&&F(),S["!ref"]=Ht(A),S}function o(h,g){return!(g&&g.PRN)||g.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,g):nu(e(h,g),g)}function c(h,g){var v="",T=g.type=="string"?[0,0,0,0]:I1(h,g);switch(g.type){case"base64":v=Ni(h);break;case"binary":v=h;break;case"buffer":g.codepage==65001?v=h.toString("utf8"):g.codepage&&typeof $f<"u"||(v=Lt&&Buffer.isBuffer(h)?h.toString("binary"):Nl(h));break;case"array":v=_l(h);break;case"string":v=h;break;default:throw new Error("Unrecognized type "+g.type)}return T[0]==239&&T[1]==187&&T[2]==191?v=mn(v.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?v=mn(v):g.type=="binary"&&typeof $f<"u",v.slice(0,19)=="socialcalc:version:"?AU.to_sheet(g.type=="string"?v:mn(v),g):o(v,g)}function f(h,g){return Ro(c(h,g),g)}function d(h){for(var g=[],v=Mn(h["!ref"]),T,S=Array.isArray(h),A=v.s.r;A<=v.e.r;++A){for(var C=[],k=v.s.c;k<=v.e.c;++k){var V=_t({r:A,c:k});if(T=S?(h[A]||[])[k]:h[V],!T||T.v==null){C.push("          ");continue}for(var D=(T.w||(ma(T),T.w)||"").slice(0,10);D.length<10;)D+=" ";C.push(D+(k===0?" ":""))}g.push(C.join(""))}return g.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:d}})();function CU(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=wU.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Wf.to_workbook(t,e)}}var kf=(function(){function t(B,Q,W){if(B){Tr(B,B.l||0);for(var ne=W.Enum||ke;B.l<B.length;){var he=B.read_shift(2),ge=ne[he]||ne[65535],Ie=B.read_shift(2),be=B.l+Ie,De=ge.f&&ge.f(B,Ie,W);if(B.l=be,Q(De,ge,he))return}}}function e(B,Q){switch(Q.type){case"base64":return n(us(Ni(B)),Q);case"binary":return n(us(B),Q);case"buffer":case"array":return n(B,Q)}throw"Unsupported type "+Q.type}function n(B,Q){if(!B)return B;var W=Q||{},ne=W.dense?[]:{},he="Sheet1",ge="",Ie=0,be={},De=[],$e=[],ie={s:{r:0,c:0},e:{r:0,c:0}},ht=W.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)W.Enum=ke,t(B,function(Be,nt,rt){switch(rt){case 0:W.vers=Be,Be>=4096&&(W.qpro=!0);break;case 6:ie=Be;break;case 204:Be&&(ge=Be);break;case 222:ge=Be;break;case 15:case 51:W.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:rt==14&&(Be[2]&112)==112&&(Be[2]&15)>1&&(Be[2]&15)<15&&(Be[1].z=W.dateNF||St[14],W.cellDates&&(Be[1].t="d",Be[1].v=Rp(Be[1].v))),W.qpro&&Be[3]>Ie&&(ne["!ref"]=Ht(ie),be[he]=ne,De.push(he),ne=W.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},Ie=Be[3],he=ge||"Sheet"+(Ie+1),ge="");var ft=W.dense?(ne[Be[0].r]||[])[Be[0].c]:ne[_t(Be[0])];if(ft){ft.t=Be[1].t,ft.v=Be[1].v,Be[1].z!=null&&(ft.z=Be[1].z),Be[1].f!=null&&(ft.f=Be[1].f);break}W.dense?(ne[Be[0].r]||(ne[Be[0].r]=[]),ne[Be[0].r][Be[0].c]=Be[1]):ne[_t(Be[0])]=Be[1];break}},W);else if(B[2]==26||B[2]==14)W.Enum=Z,B[2]==14&&(W.qpro=!0,B.l=0),t(B,function(Be,nt,rt){switch(rt){case 204:he=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>Ie&&(ne["!ref"]=Ht(ie),be[he]=ne,De.push(he),ne=W.dense?[]:{},ie={s:{r:0,c:0},e:{r:0,c:0}},Ie=Be[3],he="Sheet"+(Ie+1)),ht>0&&Be[0].r>=ht)break;W.dense?(ne[Be[0].r]||(ne[Be[0].r]=[]),ne[Be[0].r][Be[0].c]=Be[1]):ne[_t(Be[0])]=Be[1],ie.e.c<Be[0].c&&(ie.e.c=Be[0].c),ie.e.r<Be[0].r&&(ie.e.r=Be[0].r);break;case 27:Be[14e3]&&($e[Be[14e3][0]]=Be[14e3][1]);break;case 1537:$e[Be[0]]=Be[1],Be[0]==Ie&&(he=Be[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(ne["!ref"]=Ht(ie),be[ge||he]=ne,De.push(ge||he),!$e.length)return{SheetNames:De,Sheets:be};for(var Je={},Ge=[],He=0;He<$e.length;++He)be[De[He]]?(Ge.push($e[He]||De[He]),Je[$e[He]]=be[$e[He]]||be[De[He]]):(Ge.push($e[He]),Je[$e[He]]={"!ref":"A1"});return{SheetNames:Ge,Sheets:Je}}function r(B,Q){var W=Q||{};if(+W.codepage>=0&&fs(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=Hv(),he=Mn(B["!ref"]),ge=Array.isArray(B),Ie=[];cs(ne,0,s(1030)),cs(ne,6,f(he));for(var be=Math.min(he.e.r,8191),De=he.s.r;De<=be;++De)for(var $e=Ar(De),ie=he.s.c;ie<=he.e.c;++ie){De===he.s.r&&(Ie[ie]=rr(ie));var ht=Ie[ie]+$e,Je=ge?(B[De]||[])[ie]:B[ht];if(!(!Je||Je.t=="z"))if(Je.t=="n")(Je.v|0)==Je.v&&Je.v>=-32768&&Je.v<=32767?cs(ne,13,T(De,ie,Je.v)):cs(ne,14,A(De,ie,Je.v));else{var Ge=ma(Je);cs(ne,15,g(De,ie,Ge.slice(0,239)))}}return cs(ne,1),ne.end()}function i(B,Q){var W=Q||{};if(+W.codepage>=0&&fs(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=Hv();cs(ne,0,o(B));for(var he=0,ge=0;he<B.SheetNames.length;++he)(B.Sheets[B.SheetNames[he]]||{})["!ref"]&&cs(ne,27,se(B.SheetNames[he],ge++));var Ie=0;for(he=0;he<B.SheetNames.length;++he){var be=B.Sheets[B.SheetNames[he]];if(!(!be||!be["!ref"])){for(var De=Mn(be["!ref"]),$e=Array.isArray(be),ie=[],ht=Math.min(De.e.r,8191),Je=De.s.r;Je<=ht;++Je)for(var Ge=Ar(Je),He=De.s.c;He<=De.e.c;++He){Je===De.s.r&&(ie[He]=rr(He));var Be=ie[He]+Ge,nt=$e?(be[Je]||[])[He]:be[Be];if(!(!nt||nt.t=="z"))if(nt.t=="n")cs(ne,23,F(Je,He,Ie,nt.v));else{var rt=ma(nt);cs(ne,22,I(Je,He,Ie,rt.slice(0,239)))}}++Ie}}return cs(ne,1),ne.end()}function s(B){var Q=tr(2);return Q.write_shift(2,B),Q}function o(B){var Q=tr(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var W=0,ne=0,he=0,ge=0;ge<B.SheetNames.length;++ge){var Ie=B.SheetNames[ge],be=B.Sheets[Ie];if(!(!be||!be["!ref"])){++he;var De=tu(be["!ref"]);W<De.e.r&&(W=De.e.r),ne<De.e.c&&(ne=De.e.c)}}return W>8191&&(W=8191),Q.write_shift(2,W),Q.write_shift(1,he),Q.write_shift(1,ne),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function c(B,Q,W){var ne={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&W.qpro?(ne.s.c=B.read_shift(1),B.l++,ne.s.r=B.read_shift(2),ne.e.c=B.read_shift(1),B.l++,ne.e.r=B.read_shift(2),ne):(ne.s.c=B.read_shift(2),ne.s.r=B.read_shift(2),Q==12&&W.qpro&&(B.l+=2),ne.e.c=B.read_shift(2),ne.e.r=B.read_shift(2),Q==12&&W.qpro&&(B.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function f(B){var Q=tr(8);return Q.write_shift(2,B.s.c),Q.write_shift(2,B.s.r),Q.write_shift(2,B.e.c),Q.write_shift(2,B.e.r),Q}function d(B,Q,W){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(ne[0].c=B.read_shift(1),ne[3]=B.read_shift(1),ne[0].r=B.read_shift(2),B.l+=2):(ne[2]=B.read_shift(1),ne[0].c=B.read_shift(2),ne[0].r=B.read_shift(2)),ne}function h(B,Q,W){var ne=B.l+Q,he=d(B,Q,W);if(he[1].t="s",W.vers==20768){B.l++;var ge=B.read_shift(1);return he[1].v=B.read_shift(ge,"utf8"),he}return W.qpro&&B.l++,he[1].v=B.read_shift(ne-B.l,"cstr"),he}function g(B,Q,W){var ne=tr(7+W.length);ne.write_shift(1,255),ne.write_shift(2,Q),ne.write_shift(2,B),ne.write_shift(1,39);for(var he=0;he<ne.length;++he){var ge=W.charCodeAt(he);ne.write_shift(1,ge>=128?95:ge)}return ne.write_shift(1,0),ne}function v(B,Q,W){var ne=d(B,Q,W);return ne[1].v=B.read_shift(2,"i"),ne}function T(B,Q,W){var ne=tr(7);return ne.write_shift(1,255),ne.write_shift(2,Q),ne.write_shift(2,B),ne.write_shift(2,W,"i"),ne}function S(B,Q,W){var ne=d(B,Q,W);return ne[1].v=B.read_shift(8,"f"),ne}function A(B,Q,W){var ne=tr(13);return ne.write_shift(1,255),ne.write_shift(2,Q),ne.write_shift(2,B),ne.write_shift(8,W,"f"),ne}function C(B,Q,W){var ne=B.l+Q,he=d(B,Q,W);if(he[1].v=B.read_shift(8,"f"),W.qpro)B.l=ne;else{var ge=B.read_shift(2);H(B.slice(B.l,B.l+ge),he),B.l+=ge}return he}function k(B,Q,W){var ne=Q&32768;return Q&=-32769,Q=(ne?B:0)+(Q>=8192?Q-16384:Q),(ne?"":"$")+(W?rr(Q):Ar(Q))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},D=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function H(B,Q){Tr(B,0);for(var W=[],ne=0,he="",ge="",Ie="",be="";B.l<B.length;){var De=B[B.l++];switch(De){case 0:W.push(B.read_shift(8,"f"));break;case 1:ge=k(Q[0].c,B.read_shift(2),!0),he=k(Q[0].r,B.read_shift(2),!1),W.push(ge+he);break;case 2:{var $e=k(Q[0].c,B.read_shift(2),!0),ie=k(Q[0].r,B.read_shift(2),!1);ge=k(Q[0].c,B.read_shift(2),!0),he=k(Q[0].r,B.read_shift(2),!1),W.push($e+ie+":"+ge+he)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(B.read_shift(2));break;case 6:{for(var ht="";De=B[B.l++];)ht+=String.fromCharCode(De);W.push('"'+ht.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:be=W.pop(),Ie=W.pop(),W.push(["AND","OR"][De-20]+"("+Ie+","+be+")");break;default:if(De<32&&D[De])be=W.pop(),Ie=W.pop(),W.push(Ie+D[De]+be);else if(V[De]){if(ne=V[De][1],ne==69&&(ne=B[B.l++]),ne>W.length){console.error("WK1 bad formula parse 0x"+De.toString(16)+":|"+W.join("|")+"|");return}var Je=W.slice(-ne);W.length-=ne,W.push(V[De][0]+"("+Je.join(",")+")")}else return De<=7?console.error("WK1 invalid opcode "+De.toString(16)):De<=24?console.error("WK1 unsupported op "+De.toString(16)):De<=30?console.error("WK1 invalid opcode "+De.toString(16)):De<=115?console.error("WK1 unsupported function opcode "+De.toString(16)):console.error("WK1 unrecognized opcode "+De.toString(16))}}W.length==1?Q[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function G(B){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=B.read_shift(2),Q[3]=B[B.l++],Q[0].c=B[B.l++],Q}function K(B,Q){var W=G(B);return W[1].t="s",W[1].v=B.read_shift(Q-4,"cstr"),W}function I(B,Q,W,ne){var he=tr(6+ne.length);he.write_shift(2,B),he.write_shift(1,W),he.write_shift(1,Q),he.write_shift(1,39);for(var ge=0;ge<ne.length;++ge){var Ie=ne.charCodeAt(ge);he.write_shift(1,Ie>=128?95:Ie)}return he.write_shift(1,0),he}function N(B,Q){var W=G(B);W[1].v=B.read_shift(2);var ne=W[1].v>>1;if(W[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return W[1].v=ne,W}function b(B,Q){var W=G(B),ne=B.read_shift(4),he=B.read_shift(4),ge=B.read_shift(2);if(ge==65535)return ne===0&&he===3221225472?(W[1].t="e",W[1].v=15):ne===0&&he===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var Ie=ge&32768;return ge=(ge&32767)-16446,W[1].v=(1-Ie*2)*(he*Math.pow(2,ge+32)+ne*Math.pow(2,ge)),W}function F(B,Q,W,ne){var he=tr(14);if(he.write_shift(2,B),he.write_shift(1,W),he.write_shift(1,Q),ne==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var ge=0,Ie=0,be=0,De=0;return ne<0&&(ge=1,ne=-ne),Ie=Math.log2(ne)|0,ne/=Math.pow(2,Ie-31),De=ne>>>0,(De&2147483648)==0&&(ne/=2,++Ie,De=ne>>>0),ne-=De,De|=2147483648,De>>>=0,ne*=Math.pow(2,32),be=ne>>>0,he.write_shift(4,be),he.write_shift(4,De),Ie+=16383+(ge?32768:0),he.write_shift(2,Ie),he}function O(B,Q){var W=b(B);return B.l+=Q-14,W}function M(B,Q){var W=G(B),ne=B.read_shift(4);return W[1].v=ne>>6,W}function U(B,Q){var W=G(B),ne=B.read_shift(8,"f");return W[1].v=ne,W}function ue(B,Q){var W=U(B);return B.l+=Q-10,W}function pe(B,Q){return B[B.l+Q-1]==0?B.read_shift(Q,"cstr"):""}function ae(B,Q){var W=B[B.l++];W>Q-1&&(W=Q-1);for(var ne="";ne.length<W;)ne+=String.fromCharCode(B[B.l++]);return ne}function ee(B,Q,W){if(!(!W.qpro||Q<21)){var ne=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var he=B.read_shift(Q-21,"cstr");return[ne,he]}}function le(B,Q){for(var W={},ne=B.l+Q;B.l<ne;){var he=B.read_shift(2);if(he==14e3){for(W[he]=[0,""],W[he][0]=B.read_shift(2);B[B.l];)W[he][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return W}function se(B,Q){var W=tr(5+B.length);W.write_shift(2,14e3),W.write_shift(2,Q);for(var ne=0;ne<B.length;++ne){var he=B.charCodeAt(ne);W[W.l++]=he>127?95:he}return W[W.l++]=0,W}var ke={0:{n:"BOF",f:Zn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:K},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:le},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:ue},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function bU(t){var e={},n=t.match(Hr),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=mt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=s1[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var NU=(function(){var t=Yf("t"),e=Yf("rPr");function n(s){var o=s.match(t);if(!o)return{t:"s",v:""};var c={t:"s",v:Gt(o[1])},f=s.match(e);return f&&(c.s=bU(f[1])),c}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(c){return c.v})}})(),IU=(function(){var e=/(\r\n|\n)/g;function n(i,s,o){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var f=i.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(s.push("<"+f+">"),o.push("</"+f+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),RU=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,kU=/<(?:\w+:)?r>/,DU=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function T1(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Gt(mn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=mn(t),n&&(r.h=d1(r.t))):t.match(kU)&&(r.r=mn(t),r.t=Gt(mn((t.replace(DU,"").match(RU)||[]).join("").replace(Hr,""))),n&&(r.h=IU(NU(r.r)))),r):{t:""}}var MU=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,PU=/<(?:\w+:)?(?:si|sstItem)>/g,FU=/<\/(?:\w+:)?(?:si|sstItem)>/;function OU(t,e){var n=[],r="";if(!t)return n;var i=t.match(MU);if(i){r=i[2].replace(PU,"").split(FU);for(var s=0;s!=r.length;++s){var o=T1(r[s].trim(),e);o!=null&&(n[n.length]=o)}i=mt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function LU(t){return[t.read_shift(4),t.read_shift(4)]}function UU(t,e){var n=[],r=!1;return _a(t,function(s,o,c){switch(c){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function kN(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function ua(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function VU(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=ua(t,4),e.U=ua(t,4),e.W=ua(t,4),e}function BU(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function zU(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(BU(t));return e}function HU(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function GU(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=ua(t,4),e.U=ua(t,4),e.W=ua(t,4),e}function jU(t){var e=GU(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function DN(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function MN(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function qU(t){var e=ua(t);switch(e.Minor){case 2:return[e.Minor,$U(t)];case 3:return[e.Minor,KU()];case 4:return[e.Minor,YU(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function $U(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=DN(t,n),i=MN(t,t.length-t.l);return{t:"Std",h:r,v:i}}function KU(){throw new Error("File is password-protected: ECMA-376 Extensible")}function YU(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Hr,function(s){var o=mt(s);switch(Bs(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){r[c]=o[c]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function JU(t,e){var n={},r=n.EncryptionVersionInfo=ua(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=DN(t,i),e-=i,n.EncryptionVerifier=MN(t,e),n}function WU(t){var e={},n=e.EncryptionVersionInfo=ua(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function ZU(t){var e=0,n,r=kN(t),i=r.length+1,s,o,c,f,d;for(n=yo(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],c=(e&16384)===0?0:1,f=e<<1&32767,d=c|f,e=d^o;return e^52811}var PN=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,c){return r(o^c)},s=function(o){for(var c=e[o.length-1],f=104,d=o.length-1;d>=0;--d)for(var h=o[d],g=0;g!=7;++g)h&64&&(c^=n[f]),h*=2,--f;return c};return function(o){for(var c=kN(o),f=s(c),d=c.length,h=yo(16),g=0;g!=16;++g)h[g]=0;var v,T,S;for((d&1)===1&&(v=f>>8,h[d]=i(t[0],v),--d,v=f&255,T=c[c.length-1],h[d]=i(T,v));d>0;)--d,v=f>>8,h[d]=i(c[d],v),--d,v=f&255,h[d]=i(c[d],v);for(d=15,S=15-c.length;S>0;)v=f>>8,h[d]=i(t[S],v),--d,--S,v=f&255,h[d]=i(c[d],v),--d,--S;return h}})(),XU=function(t,e,n,r,i){i||(i=e),r||(r=PN(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},QU=function(t){var e=0,n=PN(t);return function(r){var i=XU("",r,e,n);return e=i[1],i[0]}};function e9(t,e,n,r){var i={key:Zn(t),verificationBytes:Zn(t)};return n.password&&(i.verifier=ZU(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=QU(n.password)),i}function t9(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=WU(t):r.Data=JU(t,e),r}function n9(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?t9(t,e-2,r):e9(t,n.biff>=8?e:e-2,n,r),r}var r9=(function(){function t(i,s){switch(s.type){case"base64":return e(Ni(i),s);case"binary":return e(i,s);case"buffer":return e(Lt&&Buffer.isBuffer(i)?i.toString("binary"):Nl(i),s);case"array":return e(_l(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},c=o.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(h,g){Array.isArray(c)&&(c[g]=[]);for(var v=/\\\w+\b/g,T=0,S,A=-1;S=v.exec(h);){switch(S[0]){case"\\cell":var C=h.slice(T,v.lastIndex-S[0].length);if(C[0]==" "&&(C=C.slice(1)),++A,C.length){var k={v:C,t:"s"};Array.isArray(c)?c[g][A]=k:c[_t({r:g,c:A})]=k}break}T=v.lastIndex}A>d.e.c&&(d.e.c=A)}),c["!ref"]=Ht(d),c}function n(i,s){return Ro(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Mn(i["!ref"]),c,f=Array.isArray(i),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var g=_t({r:d,c:h});c=f?(i[d]||[])[h]:i[g],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(ma(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function i9(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Zf(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function s9(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=i-s;if(o===0)return[0,0,e];var c=0,f=0,d=i+s;switch(f=o/(d>1?2-d:d),i){case e:c=((n-r)/o+6)%6;break;case n:c=(r-e)/o+2;break;case r:c=(e-n)/o+4;break}return[c/6,f,d/2]}function a9(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],c=6*e,f;if(n!==0)switch(c|0){case 0:case 6:f=i*c,o[0]+=i,o[1]+=f;break;case 1:f=i*(2-c),o[0]+=f,o[1]+=i;break;case 2:f=i*(c-2),o[1]+=i,o[2]+=f;break;case 3:f=i*(4-c),o[1]+=f,o[2]+=i;break;case 4:f=i*(c-4),o[2]+=i,o[0]+=f;break;case 5:f=i*(6-c),o[2]+=f,o[0]+=i;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function X0(t,e){if(e===0)return t;var n=s9(i9(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Zf(a9(n))}var FN=6,o9=15,l9=1,Wr=FN;function Q0(t){return Math.floor((t+Math.round(128/Wr)/256)*Wr)}function ep(t){return Math.floor((t-5)/Wr*100+.5)/100}function $v(t){return Math.round((t*Wr+5)/Wr*256)/256}function lv(t){return $v(ep(Q0(t)))}function w1(t){var e=Math.abs(t-lv(t)),n=Wr;if(e>.005)for(Wr=l9;Wr<o9;++Wr)Math.abs(t-lv(t))<=e&&(e=Math.abs(t-lv(t)),n=Wr);Wr=n}function Kc(t){t.width?(t.wpx=Q0(t.width),t.wch=ep(t.wpx),t.MDW=Wr):t.wpx?(t.wch=ep(t.wpx),t.width=$v(t.wch),t.MDW=Wr):typeof t.wch=="number"&&(t.width=$v(t.wch),t.wpx=Q0(t.width),t.MDW=Wr),t.customWidth&&delete t.customWidth}var c9=96,ON=c9;function LN(t){return t*96/ON}function Xf(t){return t*ON/96}var u9={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function f9(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Hr)||[]).forEach(function(o){var c=mt(o);switch(Bs(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=wn(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=wn(c.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function d9(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Hr)||[]).forEach(function(o){var c=mt(o);switch(Bs(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function h9(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Hr)||[]).forEach(function(o){var c=mt(o);switch(Bs(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=mn(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?wn(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?wn(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?wn(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?wn(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?wn(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?wn(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?wn(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=s1[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=wn(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var f=pl[i.color.index];i.color.index==81&&(f=pl[1]),f||(f=pl[1]),i.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=X0(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function p9(t,e,n){e.NumberFmt=[];for(var r=Ls(St),i=0;i<r.length;++i)e.NumberFmt[r[i]]=St[r[i]];var s=t[0].match(Hr);if(s)for(i=0;i<s.length;++i){var o=mt(s[i]);switch(Bs(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Gt(mn(o.formatCode)),f=parseInt(o.numFmtId,10);if(e.NumberFmt[f]=c,f>0){if(f>392){for(f=392;f>60&&e.NumberFmt[f]!=null;--f);e.NumberFmt[f]=c}hl(c,f)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var t0=["numFmtId","fillId","fontId","borderId","xfId"],n0=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function m9(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Hr)||[]).forEach(function(s){var o=mt(s),c=0;switch(Bs(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],c=0;c<t0.length;++c)r[t0[c]]&&(r[t0[c]]=parseInt(r[t0[c]],10));for(c=0;c<n0.length;++c)r[n0[c]]&&(r[n0[c]]=wn(r[n0[c]]));if(e.NumberFmt&&r.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[c]){r.numFmtId=c;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};o.vertical&&(f.vertical=o.vertical),o.horizontal&&(f.horizontal=o.horizontal),o.textRotation!=null&&(f.textRotation=o.textRotation),o.indent&&(f.indent=o.indent),o.wrapText&&(f.wrapText=wn(o.wrapText)),r.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var g9=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,f,d){var h={};if(!c)return h;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=c.match(e))&&p9(g,h,d),(g=c.match(i))&&h9(g,h,f,d),(g=c.match(r))&&d9(g,h,f,d),(g=c.match(s))&&f9(g,h,f,d),(g=c.match(n))&&m9(g,h,d),h}})();function v9(t,e){var n=t.read_shift(2),r=Br(t);return[n,r]}function x9(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=NL(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var c=t.read_shift(1);c>0&&(r.family=c);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=bL(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Br(t),r}var y9=zr;function _9(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var E9=zr;function T9(t,e,n){var r={};r.NumberFmt=[];for(var i in St)r.NumberFmt[i]=St[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return _a(t,function(f,d,h){switch(h){case 44:r.NumberFmt[f[0]]=f[1],hl(f[1],f[0]);break;case 43:r.Fonts.push(f),f.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(f.color.rgb=X0(e.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(h),o=!0;break;case 38:s.pop(),o=!1;break;default:if(d.T>0)s.push(h);else if(d.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}var w9=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function S9(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Hr)||[]).forEach(function(i){var s=mt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[w9.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function A9(){}function C9(){}var b9=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,N9=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,I9=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function R9(t,e,n){e.themeElements={};var r;[["clrScheme",b9,S9],["fontScheme",N9,A9],["fmtScheme",I9,C9]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var k9=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function UN(t,e){(!t||t.length===0)&&(t=D9());var n,r={};if(!(n=t.match(k9)))throw new Error("themeElements not found in theme");return R9(n[0],r,e),r.raw=t,r}function D9(t,e){var n=[Jb];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function M9(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var o;try{o=Yb(s,{type:"array"})}catch{return}var c=bi(o,"theme/theme/theme1.xml",!0);if(c)return UN(c,n)}}function P9(t){return t.read_shift(4)}function F9(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=O9(t,4);break;case 2:e.xclrValue=SN(t);break;case 3:e.xclrValue=P9(t);break;case 4:t.l+=4;break}return t.l+=8,e}function O9(t,e){return zr(t,e)}function L9(t,e){return zr(t,e)}function U9(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=F9(t);break;case 6:r[1]=L9(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function V9(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(U9(t,n-t.l));return{ixfe:r,ext:s}}function B9(t,e){e.forEach(function(n){n[0]})}function z9(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Br(t)}}function H9(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function G9(t){return t.l+=4,t.read_shift(4)!=0}function j9(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,c=2;return _a(t,function(f,d,h){switch(h){case 335:r.Types.push({name:f.name});break;case 51:f.forEach(function(g){c==1?r.Cell.push({type:r.Types[g[0]-1].name,index:g[1]}):c==0&&r.Value.push({type:r.Types[g[0]-1].name,index:g[1]})});break;case 337:c=f?1:0;break;case 338:c=2;break;case 35:s.push(h),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!d.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function q9(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,o;return t.replace(Hr,function(c){var f=mt(c);switch(Bs(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==f.name&&(o=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[f.t-1].name,index:+f.v}):s==0&&r.Value.push({type:r.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+f.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return c}),r}function $9(t){var e=[];if(!t)return e;var n=1;return(t.match(Hr)||[]).forEach(function(r){var i=mt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function K9(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=_t(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function Y9(t,e,n){var r=[];return _a(t,function(s,o,c){switch(c){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function J9(t,e,n,r){if(!t)return t;var i=r||{},s=!1;_a(t,function(c,f,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!f.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},i)}function W9(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function yw(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(o){var c=Zr(o.ref);if(i?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[o.ref],!s){s={t:"z"},i?t[c.r][c.c]=s:t[o.ref]=s;var f=Mn(t["!ref"]||"BDWGO1000001:A1");f.s.r>c.r&&(f.s.r=c.r),f.e.r<c.r&&(f.e.r=c.r),f.s.c>c.c&&(f.s.c=c.c),f.e.c<c.c&&(f.e.c=c.c);var d=Ht(f);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var h={a:o.author,t:o.t,r:o.r,T:n};o.h&&(h.h=o.h);for(var g=s.c.length-1;g>=0;--g){if(!n&&s.c[g].T)return;n&&!s.c[g].T&&s.c.splice(g,1)}if(n&&r){for(g=0;g<r.length;++g)if(h.a==r[g].id){h.a=r[g].name||h.a;break}}s.c.push(h)})}function Z9(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var f=mt(c[0]),d={author:f.authorId&&n[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},h=Zr(f.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!g&&!!g[1]&&T1(g[1])||{r:"",t:"",h:""};d.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),d.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=v.h),r.push(d)}}}}),r}function X9(t,e){var n=[],r=!1,i={},s=0;return t.replace(Hr,function(c,f){var d=mt(c);switch(Bs(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=f+c.length;break;case"</text>":i.t=t.slice(s,f).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),n}function Q9(t,e){var n=[],r=!1;return t.replace(Hr,function(s){var o=mt(s);switch(Bs(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function eV(t){var e={};e.iauthor=t.read_shift(4);var n=Rl(t);return e.rfx=n.s,e.ref=_t(n.s),t.l+=16,e}var tV=Br;function nV(t,e){var n=[],r=[],i={},s=!1;return _a(t,function(c,f,d){switch(d){case 632:r.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var rV="application/vnd.ms-office.vbaProject";function iV(t){var e=zt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");zt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),zt.write(e)}function sV(){return{"!type":"dialog"}}function aV(){return{"!type":"dialog"}}function oV(){return{"!type":"macro"}}function lV(){return{"!type":"macro"}}var Oc=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return c?h+=e.c:--h,f?d+=e.r:--d,i+(c?"":"$")+rr(h)+(f?"":"$")+Ar(d)}return function(i,s){return e=s,i.replace(t,n)}})(),VN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cV=(function(){return function(e,n){return e.replace(VN,function(r,i,s,o,c,f){var d=g1(o)-(s?0:n.c),h=m1(f)-(c?0:n.r),g=h==0?"":c?h+1:"["+h+"]",v=d==0?"":s?d+1:"["+d+"]";return i+"R"+g+"C"+v})}})();function BN(t,e){return t.replace(VN,function(n,r,i,s,o,c){return r+(i=="$"?i+s:rr(g1(s)+e.c))+(o=="$"?o+c:Ar(m1(c)+e.r))})}function uV(t,e,n){var r=tu(e),i=r.s,s=Zr(n),o={r:s.r-i.r,c:s.c-i.c};return BN(t,o)}function fV(t){return t.length!=1}function _w(t){return t.replace(/_xlfn\./g,"")}function Yn(t){t.l+=1}function _o(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function zN(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return HN(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=_o(t),c=_o(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function HN(t){var e=_o(t),n=_o(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function dV(t,e,n){if(n.biff<8)return HN(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=_o(t),o=_o(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function GN(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return hV(t);var r=t.read_shift(n&&n.biff==12?4:2),i=_o(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function hV(t){var e=_o(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function pV(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function mV(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return gV(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:c}}function gV(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function vV(t,e,n){var r=(t[t.l++]&96)>>5,i=zN(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function xV(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=zN(t,s,n);return[r,i,o]}function yV(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function _V(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function EV(t,e,n){var r=(t[t.l++]&96)>>5,i=dV(t,e-1,n);return[r,i]}function TV(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function Ew(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function wV(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function SV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function AV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function CV(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function bV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function jN(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function NV(t){return t.read_shift(2),jN(t)}function IV(t){return t.read_shift(2),jN(t)}function RV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=GN(t,0,n);return[r,i]}function kV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=mV(t,0,n);return[r,i]}function DV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=GN(t,0,n);return[r,i,s]}function MV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[P7[i],KN[i],r]}function PV(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:FV(t);return[i,(s[0]===0?KN:M7)[s[1]]]}function FV(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function OV(t,e,n){t.l+=n&&n.biff==2?3:4}function LV(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function UV(t){return t.l++,kl[t.read_shift(1)]}function VV(t){return t.l++,t.read_shift(2)}function BV(t){return t.l++,t.read_shift(1)!==0}function zV(t){return t.l++,Lr(t)}function HV(t,e,n){return t.l++,vd(t,e-1,n)}function GV(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Un(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=kl[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Lr(t);break;case 2:n[1]=Dl(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function jV(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Rl:kp)(t));return i}function qV(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var c=0;c!=i;++c)o[s][c]=GV(t,n.biff);return o}function $V(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function KV(t,e,n){if(n.biff==5)return YV(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function YV(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function JV(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function WV(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function ZV(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function XV(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var QV=zr,e7=zr,t7=zr;function yd(t,e,n){return t.l+=2,[pV(t)]}function S1(t){return t.l+=6,[]}var n7=yd,r7=S1,i7=S1,s7=yd;function qN(t){return t.l+=2,[Zn(t),t.read_shift(2)&1]}var a7=yd,o7=qN,l7=S1,c7=yd,u7=yd,f7=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function d7(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=f7[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function h7(t){return t.l+=2,[t.read_shift(4)]}function p7(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function m7(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function g7(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function v7(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function x7(t){return t.l+=4,[0,0]}var Tw={1:{n:"PtgExp",f:LV},2:{n:"PtgTbl",f:t7},3:{n:"PtgAdd",f:Yn},4:{n:"PtgSub",f:Yn},5:{n:"PtgMul",f:Yn},6:{n:"PtgDiv",f:Yn},7:{n:"PtgPower",f:Yn},8:{n:"PtgConcat",f:Yn},9:{n:"PtgLt",f:Yn},10:{n:"PtgLe",f:Yn},11:{n:"PtgEq",f:Yn},12:{n:"PtgGe",f:Yn},13:{n:"PtgGt",f:Yn},14:{n:"PtgNe",f:Yn},15:{n:"PtgIsect",f:Yn},16:{n:"PtgUnion",f:Yn},17:{n:"PtgRange",f:Yn},18:{n:"PtgUplus",f:Yn},19:{n:"PtgUminus",f:Yn},20:{n:"PtgPercent",f:Yn},21:{n:"PtgParen",f:Yn},22:{n:"PtgMissArg",f:Yn},23:{n:"PtgStr",f:HV},26:{n:"PtgSheet",f:p7},27:{n:"PtgEndSheet",f:m7},28:{n:"PtgErr",f:UV},29:{n:"PtgBool",f:BV},30:{n:"PtgInt",f:VV},31:{n:"PtgNum",f:zV},32:{n:"PtgArray",f:TV},33:{n:"PtgFunc",f:MV},34:{n:"PtgFuncVar",f:PV},35:{n:"PtgName",f:$V},36:{n:"PtgRef",f:RV},37:{n:"PtgArea",f:vV},38:{n:"PtgMemArea",f:JV},39:{n:"PtgMemErr",f:QV},40:{n:"PtgMemNoMem",f:e7},41:{n:"PtgMemFunc",f:WV},42:{n:"PtgRefErr",f:ZV},43:{n:"PtgAreaErr",f:yV},44:{n:"PtgRefN",f:kV},45:{n:"PtgAreaN",f:EV},46:{n:"PtgMemAreaN",f:g7},47:{n:"PtgMemNoMemN",f:v7},57:{n:"PtgNameX",f:KV},58:{n:"PtgRef3d",f:DV},59:{n:"PtgArea3d",f:xV},60:{n:"PtgRefErr3d",f:XV},61:{n:"PtgAreaErr3d",f:_V},255:{}},y7={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_7={1:{n:"PtgElfLel",f:qN},2:{n:"PtgElfRw",f:c7},3:{n:"PtgElfCol",f:n7},6:{n:"PtgElfRwV",f:u7},7:{n:"PtgElfColV",f:s7},10:{n:"PtgElfRadical",f:a7},11:{n:"PtgElfRadicalS",f:l7},13:{n:"PtgElfColS",f:r7},15:{n:"PtgElfColSV",f:i7},16:{n:"PtgElfRadicalLel",f:o7},25:{n:"PtgList",f:d7},29:{n:"PtgSxName",f:h7},255:{}},E7={0:{n:"PtgAttrNoop",f:x7},1:{n:"PtgAttrSemi",f:bV},2:{n:"PtgAttrIf",f:AV},4:{n:"PtgAttrChoose",f:wV},8:{n:"PtgAttrGoto",f:SV},16:{n:"PtgAttrSum",f:OV},32:{n:"PtgAttrBaxcel",f:Ew},33:{n:"PtgAttrBaxcel",f:Ew},64:{n:"PtgAttrSpace",f:NV},65:{n:"PtgAttrSpaceSemi",f:IV},128:{n:"PtgAttrIfError",f:CV},255:{}};function _d(t,e,n,r){if(r.biff<8)return zr(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=qV(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=jV(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&s.push(zr(t,e)),s}function Ed(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=Tw[s]||Tw[y7[s]],(s===24||s===25)&&(i=(s===24?_7:E7)[t[t.l+1]]),!i||!i.f?zr(t,e):o.push([i.n,i.f(t,e,n)]);return o}function T7(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];o?o[0]===2?i.push('"'+o[1].replace(/"/g,'""')+'"'):i.push(o[1]):i.push("")}e.push(i.join(","))}return e.join(";")}var w7={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function S7(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function $N(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function ww(t,e,n){var r=$N(t,e,n);return r=="#REF"?r:S7(r,n)}function Fr(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},c=[],f,d,h,g=0,v=0,T,S="";if(!t[0]||!t[0][0])return"";for(var A=-1,C="",k=0,V=t[0].length;k<V;++k){var D=t[0][k];switch(D[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),d=c.pop(),A>=0){switch(t[0][A][1][0]){case 0:C=kn(" ",t[0][A][1][1]);break;case 1:C=kn("\r",t[0][A][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}d=d+C,A=-1}c.push(d+w7[D[0]]+f);break;case"PtgIsect":f=c.pop(),d=c.pop(),c.push(d+" "+f);break;case"PtgUnion":f=c.pop(),d=c.pop(),c.push(d+","+f);break;case"PtgRange":f=c.pop(),d=c.pop(),c.push(d+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=bf(D[1][1],o,i),c.push(Nf(h,s));break;case"PtgRefN":h=n?bf(D[1][1],n,i):D[1][1],c.push(Nf(h,s));break;case"PtgRef3d":g=D[1][1],h=bf(D[1][2],o,i),S=ww(r,g,i),c.push(S+"!"+Nf(h,s));break;case"PtgFunc":case"PtgFuncVar":var H=D[1][0],G=D[1][1];H||(H=0),H&=127;var K=H==0?[]:c.slice(-H);c.length-=H,G==="User"&&(G=K.shift()),c.push(G+"("+K.join(",")+")");break;case"PtgBool":c.push(D[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(D[1]);break;case"PtgNum":c.push(String(D[1]));break;case"PtgStr":c.push('"'+D[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(D[1]);break;case"PtgAreaN":T=rw(D[1][1],n?{s:n}:o,i),c.push(av(T,i));break;case"PtgArea":T=rw(D[1][1],o,i),c.push(av(T,i));break;case"PtgArea3d":g=D[1][1],T=D[1][2],S=ww(r,g,i),c.push(S+"!"+av(T,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=D[1][2];var I=(r.names||[])[v-1]||(r[0]||[])[v],N=I?I.Name:"SH33TJSNAME"+String(v);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),c.push(N);break;case"PtgNameX":var b=D[1][1];v=D[1][2];var F;if(i.biff<=5)b<0&&(b=-b),r[b]&&(F=r[b][v]);else{var O="";if(((r[b]||[])[0]||[])[0]==14849||(((r[b]||[])[0]||[])[0]==1025?r[b][v]&&r[b][v].itab>0&&(O=r.SheetNames[r[b][v].itab-1]+"!"):O=r.SheetNames[v-1]+"!"),r[b]&&r[b][v])O+=r[b][v].Name;else if(r[0]&&r[0][v])O+=r[0][v].Name;else{var M=($N(r,b,i)||"").split(";;");M[v-1]?O=M[v-1]:O+="SH33TJSERRX"}c.push(O);break}F||(F={Name:"SH33TJSERRY"}),c.push(F.Name);break;case"PtgParen":var U="(",ue=")";if(A>=0){switch(C="",t[0][A][1][0]){case 2:U=kn(" ",t[0][A][1][1])+U;break;case 3:U=kn("\r",t[0][A][1][1])+U;break;case 4:ue=kn(" ",t[0][A][1][1])+ue;break;case 5:ue=kn("\r",t[0][A][1][1])+ue;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}A=-1}c.push(U+c.pop()+ue);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:D[1][1],r:D[1][0]};var pe={c:n.c,r:n.r};if(r.sharedf[_t(h)]){var ae=r.sharedf[_t(h)];c.push(Fr(ae,o,pe,r,i))}else{var ee=!1;for(f=0;f!=r.arrayf.length;++f)if(d=r.arrayf[f],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){c.push(Fr(d[1],o,pe,r,i)),ee=!0;break}ee||c.push(D[1])}break;case"PtgArray":c.push("{"+T7(D[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+D[1].idx+"[#"+D[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(D));default:throw new Error("Unrecognized Formula Token: "+String(D))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&A>=0&&le.indexOf(t[0][k][0])==-1){D=t[0][A];var se=!0;switch(D[1][0]){case 4:se=!1;case 0:C=kn(" ",D[1][1]);break;case 5:se=!1;case 1:C=kn("\r",D[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+D[1][0])}c.push((se?C:"")+c.pop()+(se?"":C)),A=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function A7(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],zr(t,e-2)];var c=Ed(t,o,n);return e!==o+i&&(s=_d(t,e-o-i,c,n)),t.l=r,[c,s]}function C7(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],zr(t,e-2)];var c=Ed(t,o,n);return e!==o+i&&(s=_d(t,e-o-i,c,n)),t.l=r,[c,s]}function b7(t,e,n,r){var i=t.l+e,s=Ed(t,r,n),o;return i!==t.l&&(o=_d(t,i-t.l,s,n)),[s,o]}function N7(t,e,n){var r=t.l+e,i,s=t.read_shift(2),o=Ed(t,s,n);return s==65535?[[],zr(t,e-2)]:(e!==s+2&&(i=_d(t,r-s-2,o,n)),[o,i])}function I7(t){var e;if(la(t,t.l+6)!==65535)return[Lr(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function cv(t,e,n){var r=t.l+e,i=zs(t);n.biff==2&&++t.l;var s=I7(t),o=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var c=C7(t,r-t.l,n);return{cell:i,val:s[0],formula:c,shared:o>>3&1,tt:s[1]}}function Dp(t,e,n){var r=t.read_shift(4),i=Ed(t,r,n),s=t.read_shift(4),o=s>0?_d(t,s,i,n):null;return[i,o]}var R7=Dp,Mp=Dp,k7=Dp,D7=Dp,M7={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},KN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},P7={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Sw(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function uv(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Df={},Lc={};function Mf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function YN(t,e,n,r,i,s){try{r.cellNF&&(t.z=St[e])}catch(c){if(r.WTF)throw c}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=fr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(St[e]==null&&hl(FO[e]||"General",e),t.t==="e")t.w=t.w||kl[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Kf(t.v);else if(t.t==="d"){var o=Qr(t.v);(o|0)===o?t.w=o.toString(10):t.w=Kf(o)}else{if(t.v===void 0)return"";t.w=yl(t.v,Lc)}else t.t==="d"?t.w=$i(e,Qr(t.v),Lc):t.w=$i(e,t.v,Lc)}catch(c){if(r.WTF)throw c}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=X0(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=X0(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(r.WTF&&s.Fills)throw c}}}function F7(t,e){var n=Mn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Ht(n))}var O7=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,L7=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,U7=/<(?:\w:)?hyperlink [^>]*>/mg,V7=/"(\w*:\w*)"/,B7=/<(?:\w:)?col\b[^>]*[\/]?>/g,z7=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,H7=/<(?:\w:)?pageMargins[^>]*\/>/g,JN=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,G7=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,j7=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function q7(t,e,n,r,i,s,o){if(!t)return t;r||(r={"!id":{}});var c=e.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",g=t.match(L7);g?(d=t.slice(0,g.index),h=t.slice(g.index+g[0].length)):d=h=t;var v=d.match(JN);v?A1(v[0],c,i,n):(v=d.match(G7))&&$7(v[0],v[1]||"",c,i,n);var T=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(T>0){var S=d.slice(T,T+50).match(V7);S&&F7(c,S[1])}var A=d.match(j7);A&&A[1]&&X7(A[1],i);var C=[];if(e.cellStyles){var k=d.match(B7);k&&J7(C,k)}g&&Q7(g[1],c,e,f,s,o);var V=h.match(z7);V&&(c["!autofilter"]=W7(V[0]));var D=[],H=h.match(O7);if(H)for(T=0;T!=H.length;++T)D[T]=Mn(H[T].slice(H[T].indexOf('"')+1));var G=h.match(U7);G&&K7(c,G,r);var K=h.match(H7);if(K&&(c["!margins"]=Y7(mt(K[0]))),!c["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(c["!ref"]=Ht(f)),e.sheetRows>0&&c["!ref"]){var I=Mn(c["!ref"]);e.sheetRows<=+I.e.r&&(I.e.r=e.sheetRows-1,I.e.r>f.e.r&&(I.e.r=f.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>f.e.c&&(I.e.c=f.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Ht(I))}return C.length>0&&(c["!cols"]=C),D.length>0&&(c["!merges"]=D),c}function A1(t,e,n,r){var i=mt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Gt(mn(i.codeName)))}function $7(t,e,n,r,i){A1(t.slice(0,t.indexOf(">")),n,r,i)}function K7(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=mt(mn(e[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Gt(s.location))):(s.Target="#"+Gt(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=Mn(s.ref),f=c.s.r;f<=c.e.r;++f)for(var d=c.s.c;d<=c.e.c;++d){var h=_t({c:d,r:f});r?(t[f]||(t[f]=[]),t[f][d]||(t[f][d]={t:"z",v:void 0}),t[f][d].l=s):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=s)}}}function Y7(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function J7(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=mt(e[r],!0);i.hidden&&(i.hidden=wn(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,w1(i.width)),Kc(i);s<=o;)t[s++]=Sr(i)}}function W7(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var Z7=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function X7(t,e){e.Views||(e.Views=[{}]),(t.match(Z7)||[]).forEach(function(n,r){var i=mt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),wn(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var Q7=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Yf("v"),o=Yf("f");return function(f,d,h,g,v,T){for(var S=0,A="",C=[],k=[],V=0,D=0,H=0,G="",K,I,N=0,b=0,F,O,M=0,U=0,ue=Array.isArray(T.CellXf),pe,ae=[],ee=[],le=Array.isArray(d),se=[],ke={},Z=!1,B=!!h.sheetStubs,Q=f.split(e),W=0,ne=Q.length;W!=ne;++W){A=Q[W].trim();var he=A.length;if(he!==0){var ge=0;e:for(S=0;S<he;++S)switch(A[S]){case">":if(A[S-1]!="/"){++S;break e}if(h&&h.cellStyles){if(I=mt(A.slice(ge,S),!0),N=I.r!=null?parseInt(I.r,10):N+1,b=-1,h.sheetRows&&h.sheetRows<N)continue;ke={},Z=!1,I.ht&&(Z=!0,ke.hpt=parseFloat(I.ht),ke.hpx=Xf(ke.hpt)),I.hidden=="1"&&(Z=!0,ke.hidden=!0),I.outlineLevel!=null&&(Z=!0,ke.level=+I.outlineLevel),Z&&(se[N-1]=ke)}break;case"<":ge=S;break}if(ge>=S)break;if(I=mt(A.slice(ge,S),!0),N=I.r!=null?parseInt(I.r,10):N+1,b=-1,!(h.sheetRows&&h.sheetRows<N)){g.s.r>N-1&&(g.s.r=N-1),g.e.r<N-1&&(g.e.r=N-1),h&&h.cellStyles&&(ke={},Z=!1,I.ht&&(Z=!0,ke.hpt=parseFloat(I.ht),ke.hpx=Xf(ke.hpt)),I.hidden=="1"&&(Z=!0,ke.hidden=!0),I.outlineLevel!=null&&(Z=!0,ke.level=+I.outlineLevel),Z&&(se[N-1]=ke)),C=A.slice(S).split(t);for(var Ie=0;Ie!=C.length&&C[Ie].trim().charAt(0)=="<";++Ie);for(C=C.slice(Ie),S=0;S!=C.length;++S)if(A=C[S].trim(),A.length!==0){if(k=A.match(n),V=S,D=0,H=0,A="<c "+(A.slice(0,1)=="<"?">":"")+A,k!=null&&k.length===2){for(V=0,G=k[1],D=0;D!=G.length&&!((H=G.charCodeAt(D)-64)<1||H>26);++D)V=26*V+H;--V,b=V}else++b;for(D=0;D!=A.length&&A.charCodeAt(D)!==62;++D);if(++D,I=mt(A.slice(0,D),!0),I.r||(I.r=_t({r:N-1,c:b})),G=A.slice(D),K={t:""},(k=G.match(s))!=null&&k[1]!==""&&(K.v=Gt(k[1])),h.cellFormula){if((k=G.match(o))!=null&&k[1]!==""){if(K.f=Gt(mn(k[1])).replace(/\r\n/g,`
`),h.xlfn||(K.f=_w(K.f)),k[0].indexOf('t="array"')>-1)K.F=(G.match(i)||[])[1],K.F.indexOf(":")>-1&&ae.push([Mn(K.F),K.F]);else if(k[0].indexOf('t="shared"')>-1){O=mt(k[0]);var be=Gt(mn(k[1]));h.xlfn||(be=_w(be)),ee[parseInt(O.si,10)]=[O,be,I.r]}}else(k=G.match(/<f[^>]*\/>/))&&(O=mt(k[0]),ee[O.si]&&(K.f=uV(ee[O.si][1],ee[O.si][2],I.r)));var De=Zr(I.r);for(D=0;D<ae.length;++D)De.r>=ae[D][0].s.r&&De.r<=ae[D][0].e.r&&De.c>=ae[D][0].s.c&&De.c<=ae[D][0].e.c&&(K.F=ae[D][1])}if(I.t==null&&K.v===void 0)if(K.f||K.F)K.v=0,K.t="n";else if(B)K.t="z";else continue;else K.t=I.t||"n";switch(g.s.c>b&&(g.s.c=b),g.e.c<b&&(g.e.c=b),K.t){case"n":if(K.v==""||K.v==null){if(!B)continue;K.t="z"}else K.v=parseFloat(K.v);break;case"s":if(typeof K.v>"u"){if(!B)continue;K.t="z"}else F=Df[parseInt(K.v,10)],K.v=F.t,K.r=F.r,h.cellHTML&&(K.h=F.h);break;case"str":K.t="s",K.v=K.v!=null?mn(K.v):"",h.cellHTML&&(K.h=d1(K.v));break;case"inlineStr":k=G.match(r),K.t="s",k!=null&&(F=T1(k[1]))?(K.v=F.t,h.cellHTML&&(K.h=F.h)):K.v="";break;case"b":K.v=wn(K.v);break;case"d":h.cellDates?K.v=fr(K.v,1):(K.v=Qr(fr(K.v,1)),K.t="n");break;case"e":(!h||h.cellText!==!1)&&(K.w=K.v),K.v=gN[K.v];break}if(M=U=0,pe=null,ue&&I.s!==void 0&&(pe=T.CellXf[I.s],pe!=null&&(pe.numFmtId!=null&&(M=pe.numFmtId),h.cellStyles&&pe.fillId!=null&&(U=pe.fillId))),YN(K,M,U,h,v,T),h.cellDates&&ue&&K.t=="n"&&eu(St[M])&&(K.t="d",K.v=Rp(K.v)),I.cm&&h.xlmeta){var $e=(h.xlmeta.Cell||[])[+I.cm-1];$e&&$e.type=="XLDAPR"&&(K.D=!0)}if(le){var ie=Zr(I.r);d[ie.r]||(d[ie.r]=[]),d[ie.r][ie.c]=K}else d[I.r]=K}}}}se.length>0&&(d["!rows"]=se)}})();function eB(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var tB=Rl;function nB(){}function rB(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=AL(t),n}function iB(t){var e=Ji(t);return[e]}function sB(t){var e=Il(t);return[e]}function aB(t){var e=Ji(t),n=t.read_shift(1);return[e,n,"b"]}function oB(t){var e=Il(t),n=t.read_shift(1);return[e,n,"b"]}function lB(t){var e=Ji(t),n=t.read_shift(1);return[e,n,"e"]}function cB(t){var e=Il(t),n=t.read_shift(1);return[e,n,"e"]}function uB(t){var e=Ji(t),n=t.read_shift(4);return[e,n,"s"]}function fB(t){var e=Il(t),n=t.read_shift(4);return[e,n,"s"]}function dB(t){var e=Ji(t),n=Lr(t);return[e,n,"n"]}function WN(t){var e=Il(t),n=Lr(t);return[e,n,"n"]}function hB(t){var e=Ji(t),n=y1(t);return[e,n,"n"]}function pB(t){var e=Il(t),n=y1(t);return[e,n,"n"]}function mB(t){var e=Ji(t),n=v1(t);return[e,n,"is"]}function gB(t){var e=Ji(t),n=Br(t);return[e,n,"str"]}function vB(t){var e=Il(t),n=Br(t);return[e,n,"str"]}function xB(t,e,n){var r=t.l+e,i=Ji(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var c=Mp(t,r-t.l,n);o[3]=Fr(c,null,i,n.supbooks,n)}else t.l=r;return o}function yB(t,e,n){var r=t.l+e,i=Ji(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var c=Mp(t,r-t.l,n);o[3]=Fr(c,null,i,n.supbooks,n)}else t.l=r;return o}function _B(t,e,n){var r=t.l+e,i=Ji(t);i.r=n["!row"];var s=Lr(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var c=Mp(t,r-t.l,n);o[3]=Fr(c,null,i,n.supbooks,n)}else t.l=r;return o}function EB(t,e,n){var r=t.l+e,i=Ji(t);i.r=n["!row"];var s=Br(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var c=Mp(t,r-t.l,n);o[3]=Fr(c,null,i,n.supbooks,n)}else t.l=r;return o}var TB=Rl;function wB(t,e){var n=t.l+e,r=Rl(t),i=x1(t),s=Br(t),o=Br(t),c=Br(t);t.l=n;var f={rfx:r,relId:i,loc:s,display:c};return o&&(f.Tooltip=o),f}function SB(){}function AB(t,e,n){var r=t.l+e,i=hN(t),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var c=R7(t,r-t.l,n);o[1]=c}else t.l=r;return o}function CB(t,e,n){var r=t.l+e,i=Rl(t),s=[i];if(n.cellFormula){var o=D7(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}var bB=["left","right","top","bottom","header","footer"];function NB(t){var e={};return bB.forEach(function(n){e[n]=Lr(t)}),e}function IB(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function RB(){}function kB(){}function DB(t,e,n,r,i,s,o){if(!t)return t;var c=e||{};r||(r={"!id":{}});var f=c.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,v=!1,T,S,A,C,k,V,D,H,G,K=[];c.biff=12,c["!row"]=0;var I=0,N=!1,b=[],F={},O=c.supbooks||i.supbooks||[[]];if(O.sharedf=F,O.arrayf=b,O.SheetNames=i.SheetNames||i.Sheets.map(function(le){return le.name}),!c.supbooks&&(c.supbooks=O,i.Names))for(var M=0;M<i.Names.length;++M)O[0][M+1]=i.Names[M];var U=[],ue=[],pe=!1;tp[16]={n:"BrtShortReal",f:WN};var ae;if(_a(t,function(se,ke,Z){if(!v)switch(Z){case 148:d=se;break;case 0:T=se,c.sheetRows&&c.sheetRows<=T.r&&(v=!0),H=Ar(C=T.r),c["!row"]=T.r,(se.hidden||se.hpt||se.level!=null)&&(se.hpt&&(se.hpx=Xf(se.hpt)),ue[se.r]=se);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(S={t:se[2]},se[2]){case"n":S.v=se[1];break;case"s":D=Df[se[1]],S.v=D.t,S.r=D.r;break;case"b":S.v=!!se[1];break;case"e":S.v=se[1],c.cellText!==!1&&(S.w=kl[S.v]);break;case"str":S.t="s",S.v=se[1];break;case"is":S.t="s",S.v=se[1].t;break}if((A=o.CellXf[se[0].iStyleRef])&&YN(S,A.numFmtId,null,c,s,o),k=se[0].c==-1?k+1:se[0].c,c.dense?(f[C]||(f[C]=[]),f[C][k]=S):f[rr(k)+H]=S,c.cellFormula){for(N=!1,I=0;I<b.length;++I){var B=b[I];T.r>=B[0].s.r&&T.r<=B[0].e.r&&k>=B[0].s.c&&k<=B[0].e.c&&(S.F=Ht(B[0]),N=!0)}!N&&se.length>3&&(S.f=se[3])}if(h.s.r>T.r&&(h.s.r=T.r),h.s.c>k&&(h.s.c=k),h.e.r<T.r&&(h.e.r=T.r),h.e.c<k&&(h.e.c=k),c.cellDates&&A&&S.t=="n"&&eu(St[A.numFmtId])){var Q=cl(S.v);Q&&(S.t="d",S.v=new Date(Q.y,Q.m-1,Q.d,Q.H,Q.M,Q.S,Q.u))}ae&&(ae.type=="XLDAPR"&&(S.D=!0),ae=void 0);break;case 1:case 12:if(!c.sheetStubs||g)break;S={t:"z",v:void 0},k=se[0].c==-1?k+1:se[0].c,c.dense?(f[C]||(f[C]=[]),f[C][k]=S):f[rr(k)+H]=S,h.s.r>T.r&&(h.s.r=T.r),h.s.c>k&&(h.s.c=k),h.e.r<T.r&&(h.e.r=T.r),h.e.c<k&&(h.e.c=k),ae&&(ae.type=="XLDAPR"&&(S.D=!0),ae=void 0);break;case 176:K.push(se);break;case 49:ae=((c.xlmeta||{}).Cell||[])[se-1];break;case 494:var W=r["!id"][se.relId];for(W?(se.Target=W.Target,se.loc&&(se.Target+="#"+se.loc),se.Rel=W):se.relId==""&&(se.Target="#"+se.loc),C=se.rfx.s.r;C<=se.rfx.e.r;++C)for(k=se.rfx.s.c;k<=se.rfx.e.c;++k)c.dense?(f[C]||(f[C]=[]),f[C][k]||(f[C][k]={t:"z",v:void 0}),f[C][k].l=se):(V=_t({c:k,r:C}),f[V]||(f[V]={t:"z",v:void 0}),f[V].l=se);break;case 426:if(!c.cellFormula)break;b.push(se),G=c.dense?f[C][k]:f[rr(k)+H],G.f=Fr(se[1],h,{r:T.r,c:k},O,c),G.F=Ht(se[0]);break;case 427:if(!c.cellFormula)break;F[_t(se[0].s)]=se[1],G=c.dense?f[C][k]:f[rr(k)+H],G.f=Fr(se[1],h,{r:T.r,c:k},O,c);break;case 60:if(!c.cellStyles)break;for(;se.e>=se.s;)U[se.e--]={width:se.w/256,hidden:!!(se.flags&1),level:se.level},pe||(pe=!0,w1(se.w/256)),Kc(U[se.e+1]);break;case 161:f["!autofilter"]={ref:Ht(se)};break;case 476:f["!margins"]=se;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),se.name&&(i.Sheets[n].CodeName=se.name),(se.above||se.left)&&(f["!outline"]={above:se.above,left:se.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),se.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!ke.T){if(!g||c.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},c),delete c.supbooks,delete c["!row"],!f["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(f["!ref"]=Ht(d||h)),c.sheetRows&&f["!ref"]){var ee=Mn(f["!ref"]);c.sheetRows<=+ee.e.r&&(ee.e.r=c.sheetRows-1,ee.e.r>h.e.r&&(ee.e.r=h.e.r),ee.e.r<ee.s.r&&(ee.s.r=ee.e.r),ee.e.c>h.e.c&&(ee.e.c=h.e.c),ee.e.c<ee.s.c&&(ee.s.c=ee.e.c),f["!fullref"]=f["!ref"],f["!ref"]=Ht(ee))}return K.length>0&&(f["!merges"]=K),U.length>0&&(f["!cols"]=U),ue.length>0&&(f["!rows"]=ue),f}function MB(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var i=Gt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function PB(t,e,n,r,i,s){var o=s||{"!type":"chart"};if(!t)return s;var c=0,f=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var v=MB(g);h.s.r=h.s.c=0,h.e.c=c,d=rr(c),v[0].forEach(function(T,S){o[d+Ar(S)]={t:"n",v:T,z:v[1]},f=S}),h.e.r<f&&(h.e.r=f),++c}),c>0&&(o["!ref"]=Ht(h)),o}function FB(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,c=t.match(JN);return c&&A1(c[0],s,i,n),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function OB(t,e){t.l+=10;var n=Br(t);return{name:n}}function LB(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return _a(t,function(f,d,h){switch(h){case 550:s["!rel"]=f;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),f.name&&(i.Sheets[n].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var ZN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],UB=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],VB=[],BB=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Aw(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=wn(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function Cw(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=wn(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function XN(t){Cw(t.WBProps,ZN),Cw(t.CalcPr,BB),Aw(t.WBView,UB),Aw(t.Sheets,VB),Lc.date1904=wn(t.WBProps.date1904)}var zB="][*?/\\".split("");function HB(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return zB.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var GB=/<\w+:workbook/;function jB(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(t.replace(Hr,function(f,d){var h=mt(f);switch(Bs(h[0])){case"<?xml":break;case"<workbook":f.match(GB)&&(i="xmlns"+f.match(/<(\w+):/)[1]),n.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],n.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":ZN.forEach(function(g){if(h[g[0]]!=null)switch(g[2]){case"bool":n.WBProps[g[0]]=wn(h[g[0]]);break;case"int":n.WBProps[g[0]]=parseInt(h[g[0]],10);break;default:n.WBProps[g[0]]=h[g[0]]}}),h.codeName&&(n.WBProps.CodeName=mn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],n.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Gt(mn(h.name)),delete h[0],n.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=mn(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),wn(h.hidden||"0")&&(s.Hidden=!0),o=d+f.length;break;case"</definedName>":s.Ref=Gt(mn(t.slice(o,d))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],n.CalcPr=h;break;case"<calcPr/>":delete h[0],n.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return f}),lL.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return XN(n),n}function qB(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Gv(t),n.name=Br(t),n}function $B(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Br(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function KB(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function YB(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=CL(t),o=k7(t,0,n),c=x1(t);t.l=r;var f={Name:s,Ptg:o};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function JB(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],tp[16]={n:"BrtFRTArchID$",f:KB},_a(t,function(f,d,h){switch(h){case 156:o.SheetNames.push(f.name),n.Sheets.push(f);break;case 153:n.WBProps=f;break;case 39:f.Sheet!=null&&(e.SID=f.Sheet),f.Ref=Fr(f.Ptg,null,null,o,e),delete e.SID,delete f.Ptg,s.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([h,f]):o[0]=[h,f],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(f),o.XTI=o.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!d.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),XN(n),n.Names=s,n.supbooks=o,n}function WB(t,e,n){return e.slice(-4)===".bin"?JB(t,n):jB(t,n)}function ZB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?DB(t,r,n,i,s,o,c):q7(t,r,n,i,s,o,c)}function XB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?LB(t,r,n,i,s):FB(t,r,n,i,s)}function QB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?oV():lV()}function ez(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?sV():aV()}function tz(t,e,n,r){return e.slice(-4)===".bin"?T9(t,n,r):g9(t,n,r)}function nz(t,e,n){return UN(t,n)}function rz(t,e,n){return e.slice(-4)===".bin"?UU(t,n):OU(t,n)}function iz(t,e,n){return e.slice(-4)===".bin"?nV(t,n):Z9(t,n)}function sz(t,e,n){return e.slice(-4)===".bin"?Y9(t):$9(t)}function az(t,e,n,r){return n.slice(-4)===".bin"?J9(t,e,n,r):void 0}function oz(t,e,n){return e.slice(-4)===".bin"?j9(t,e,n):q9(t,e,n)}var QN=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,eI=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ls(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(QN),s,o,c,f;if(i)for(f=0;f!=i.length;++f)s=i[f].match(eI),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(o+1),r[c]=s[2].slice(1,s[2].length-1));return r}function lz(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(QN),i,s,o,c;if(r)for(c=0;c!=r.length;++c)i=r[c].match(eI),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var Pf;function cz(t,e){var n=Pf[t]||Gt(t);return n==="General"?yl(e):$i(n,e)}function uz(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=wn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=fr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Gt(e)]=i}function fz(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||kl[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Kf(t.v):t.w=yl(t.v):t.w=cz(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Pf[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&eu(r)){var i=cl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function dz(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=u9[r.Pattern]||r.Pattern)}t[e.ID]=e}function hz(t,e,n,r,i,s,o,c,f,d){var h="General",g=r.StyleID,v={};d=d||{};var T=[],S=0;for(g===void 0&&c&&(g=c.StyleID),g===void 0&&o&&(g=o.StyleID);s[g]!==void 0&&(s[g].nf&&(h=s[g].nf),s[g].Interior&&T.push(s[g].Interior),!!s[g].Parent);)g=s[g].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=wn(t);break;case"String":r.t="s",r.r=Y2(Gt(t)),r.v=t.indexOf("<")>-1?Gt(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(fr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Gt(t):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=gN[t],d.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=Y2(e||t));break}if(fz(r,h,d),d.cellFormula!==!1)if(r.Formula){var A=Gt(r.Formula);A.charCodeAt(0)==61&&(A=A.slice(1)),r.f=Oc(A,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Oc("RC:RC",i):r.ArrayRange&&(r.F=Oc(r.ArrayRange,i),f.push([Mn(r.F),r.F]))}else for(S=0;S<f.length;++S)i.r>=f[S][0].s.r&&i.r<=f[S][0].e.r&&i.c>=f[S][0].s.c&&i.c<=f[S][0].e.c&&(r.F=f[S][1]);d.cellStyles&&(T.forEach(function(C){!v.patternType&&C.patternType&&(v.patternType=C.patternType)}),r.s=v),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function pz(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function fv(t,e){var n=e||{};Hb();var r=pf(h1(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=mn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=Sr(n);return o.type="string",Wf.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){i.indexOf("<"+nt)>=0&&(s=!0)}),s)return wz(r,n);Pf={"General Number":"General","General Date":St[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":St[15],"Short Date":St[14],"Long Time":St[19],"Medium Time":St[18],"Short Time":St[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:St[2],Standard:St[4],Percent:St[10],Scientific:St[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,f=[],d,h={},g=[],v=n.dense?[]:{},T="",S={},A={},C=ls('<Data ss:Type="String">'),k=0,V=0,D=0,H={s:{r:2e6,c:2e6},e:{r:0,c:0}},G={},K={},I="",N=0,b=[],F={},O={},M=0,U=[],ue=[],pe={},ae=[],ee,le=!1,se=[],ke=[],Z={},B=0,Q=0,W={Sheets:[],WBProps:{date1904:!1}},ne={};Jf.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";c=Jf.exec(r);)switch(c[3]=(he=c[3]).toLowerCase()){case"data":if(he=="data"){if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break}if(f[f.length-1][1])break;c[1]==="/"?hz(r.slice(k,c.index),I,C,f[f.length-1][0]=="comment"?pe:S,{c:V,r:D},G,ae[V],A,se,n):(I="",C=ls(c[0]),k=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(ue.length>0&&(S.c=ue),(!n.sheetRows||n.sheetRows>D)&&S.v!==void 0&&(n.dense?(v[D]||(v[D]=[]),v[D][V]=S):v[rr(V)+Ar(D)]=S),S.HRef&&(S.l={Target:Gt(S.HRef)},S.HRefScreenTip&&(S.l.Tooltip=S.HRefScreenTip),delete S.HRef,delete S.HRefScreenTip),(S.MergeAcross||S.MergeDown)&&(B=V+(parseInt(S.MergeAcross,10)|0),Q=D+(parseInt(S.MergeDown,10)|0),b.push({s:{c:V,r:D},e:{c:B,r:Q}})),!n.sheetStubs)S.MergeAcross?V=B+1:++V;else if(S.MergeAcross||S.MergeDown){for(var ge=V;ge<=B;++ge)for(var Ie=D;Ie<=Q;++Ie)(ge>V||Ie>D)&&(n.dense?(v[Ie]||(v[Ie]=[]),v[Ie][ge]={t:"z"}):v[rr(ge)+Ar(Ie)]={t:"z"});V=B+1}else++V;else S=lz(c[0]),S.Index&&(V=+S.Index-1),V<H.s.c&&(H.s.c=V),V>H.e.c&&(H.e.c=V),c[0].slice(-2)==="/>"&&++V,ue=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(D<H.s.r&&(H.s.r=D),D>H.e.r&&(H.e.r=D),c[0].slice(-2)==="/>"&&(A=ls(c[0]),A.Index&&(D=+A.Index-1)),V=0,++D):(A=ls(c[0]),A.Index&&(D=+A.Index-1),Z={},(A.AutoFitHeight=="0"||A.Height)&&(Z.hpx=parseInt(A.Height,10),Z.hpt=LN(Z.hpx),ke[D]=Z),A.Hidden=="1"&&(Z.hidden=!0,ke[D]=Z));break;case"worksheet":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));g.push(T),H.s.r<=H.e.r&&H.s.c<=H.e.c&&(v["!ref"]=Ht(H),n.sheetRows&&n.sheetRows<=H.e.r&&(v["!fullref"]=v["!ref"],H.e.r=n.sheetRows-1,v["!ref"]=Ht(H))),b.length&&(v["!merges"]=b),ae.length>0&&(v["!cols"]=ae),ke.length>0&&(v["!rows"]=ke),h[T]=v}else H={s:{r:2e6,c:2e6},e:{r:0,c:0}},D=V=0,f.push([c[3],!1]),d=ls(c[0]),T=Gt(d.Name),v=n.dense?[]:{},b=[],se=[],ke=[],ne={name:T,Hidden:0},W.Sheets.push(ne);break;case"table":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;f.push([c[3],!1]),ae=[],le=!1}break;case"style":c[1]==="/"?dz(G,K,n):K=ls(c[0]);break;case"numberformat":K.nf=Gt(ls(c[0]).Format||"General"),Pf[K.nf]&&(K.nf=Pf[K.nf]);for(var be=0;be!=392&&St[be]!=K.nf;++be);if(be==392){for(be=57;be!=392;++be)if(St[be]==null){hl(K.nf,be);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(ee=ls(c[0]),ee.Hidden&&(ee.hidden=!0,delete ee.Hidden),ee.Width&&(ee.wpx=parseInt(ee.Width,10)),!le&&ee.wpx>10){le=!0,Wr=FN;for(var De=0;De<ae.length;++De)ae[De]&&Kc(ae[De])}le&&Kc(ee),ae[ee.Index-1||ae.length]=ee;for(var $e=0;$e<+ee.Span;++$e)ae[ae.length]=Sr(ee);break;case"namedrange":if(c[1]==="/")break;W.Names||(W.Names=[]);var ie=mt(c[0]),ht={Name:ie.Name,Ref:Oc(ie.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(ht.Sheet=W.Sheets.length-1),W.Names.push(ht);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?I+=r.slice(N,c.index):N=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;K.Interior=ls(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?ZL(F,he,r.slice(M,c.index)):M=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else f.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));pz(pe),ue.push(pe)}else f.push([c[3],!1]),d=ls(c[0]),pe={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Je=ls(c[0]);v["!autofilter"]={ref:Oc(Je.Range).replace(/\$/g,"")},f.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"null":break;default:if(f.length==0&&c[3]=="document"||f.length==0&&c[3]=="uof")return Dw(r,n);var Ge=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ge=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ge=!1}break;case"excelworkbook":switch(c[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ge=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Ge=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(r.slice(M,c.index)){case"SheetHidden":ne.Hidden=1;break;case"SheetVeryHidden":ne.Hidden=2;break}else M=c.index+c[0].length;break;case"header":v["!margins"]||Mf(v["!margins"]={},"xlml"),isNaN(+mt(c[0]).Margin)||(v["!margins"].header=+mt(c[0]).Margin);break;case"footer":v["!margins"]||Mf(v["!margins"]={},"xlml"),isNaN(+mt(c[0]).Margin)||(v["!margins"].footer=+mt(c[0]).Margin);break;case"pagemargins":var He=mt(c[0]);v["!margins"]||Mf(v["!margins"]={},"xlml"),isNaN(+He.Top)||(v["!margins"].top=+He.Top),isNaN(+He.Left)||(v["!margins"].left=+He.Left),isNaN(+He.Right)||(v["!margins"].right=+He.Right),isNaN(+He.Bottom)||(v["!margins"].bottom=+He.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ge=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ge=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ge=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ge=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ge=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ge=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ge=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ge=!1}break;case"smarttags":break;default:Ge=!1;break}if(Ge||c[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?uz(O,he,U,r.slice(M,c.index)):(U=c,M=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+f.join("|")}var Be={};return!n.bookSheets&&!n.bookProps&&(Be.Sheets=h),Be.SheetNames=g,Be.Workbook=W,Be.SSF=Sr(St),Be.Props=F,Be.Custprops=O,Be}function Kv(t,e){switch(N1(e=e||{}),e.type||"base64"){case"base64":return fv(Ni(t),e);case"binary":case"buffer":case"file":return fv(t,e);case"array":return fv(Nl(t),e)}}function mz(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=IL(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=RL(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var gz=[60,1084,2066,2165,2175];function vz(t,e,n,r,i){var s=r,o=[],c=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}o.push(c),n.l+=s;for(var f=la(n,n.l),d=Yv[f],h=0;d!=null&&gz.indexOf(f)>-1;)s=la(n,n.l+2),h=n.l+4,f==2066?h+=4:(f==2165||f==2175)&&(h+=12),c=n.slice(h,n.l+4+s),o.push(c),n.l+=4+s,d=Yv[f=la(n,n.l)];var g=ao(o);Tr(g,0);var v=0;g.lens=[];for(var T=0;T<o.length;++T)g.lens.push(v),v+=o[T].length;if(g.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+g.length+" < "+r;return e.f(g,g.length,i)}function Rs(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=St[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||kl[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Kf(t.v):t.w=yl(t.v):t.w=$i(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&eu(St[r]||String(r))){var i=cl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function r0(t,e,n){return{v:t,ixfe:e,t:n}}function xz(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},o={},c=null,f=[],d="",h={},g,v="",T,S,A,C,k={},V=[],D,H,G=[],K=[],I={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},b=function(it){return it<8?pl[it]:it<64&&K[it-8]||pl[it]},F=function(it,Ft,Zt){var bt=Ft.XF.data;if(!(!bt||!bt.patternType||!Zt||!Zt.cellStyles)){Ft.s={},Ft.s.patternType=bt.patternType;var Yt;(Yt=Zf(b(bt.icvFore)))&&(Ft.s.fgColor={rgb:Yt}),(Yt=Zf(b(bt.icvBack)))&&(Ft.s.bgColor={rgb:Yt})}},O=function(it,Ft,Zt){if(!(Z>1)&&!(Zt.sheetRows&&it.r>=Zt.sheetRows)){if(Zt.cellStyles&&Ft.XF&&Ft.XF.data&&F(it,Ft,Zt),delete Ft.ixfe,delete Ft.XF,g=it,v=_t(it),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),it.r<o.s.r&&(o.s.r=it.r),it.c<o.s.c&&(o.s.c=it.c),it.r+1>o.e.r&&(o.e.r=it.r+1),it.c+1>o.e.c&&(o.e.c=it.c+1),Zt.cellFormula&&Ft.f){for(var bt=0;bt<V.length;++bt)if(!(V[bt][0].s.c>it.c||V[bt][0].s.r>it.r)&&!(V[bt][0].e.c<it.c||V[bt][0].e.r<it.r)){Ft.F=Ht(V[bt][0]),(V[bt][0].s.c!=it.c||V[bt][0].s.r!=it.r)&&delete Ft.f,Ft.f&&(Ft.f=""+Fr(V[bt][1],o,it,se,M));break}}Zt.dense?(i[it.r]||(i[it.r]=[]),i[it.r][it.c]=Ft):i[v]=Ft}},M={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:V,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(M.password=e.password);var U,ue=[],pe=[],ae=[],ee=[],le=!1,se=[];se.SheetNames=M.snames,se.sharedf=M.sharedf,se.arrayf=M.arrayf,se.names=[],se.XTI=[];var ke=0,Z=0,B=0,Q=[],W=[],ne;M.codepage=1200,fs(1200);for(var he=!1;t.l<t.length-1;){var ge=t.l,Ie=t.read_shift(2);if(Ie===0&&ke===10)break;var be=t.l===t.length?0:t.read_shift(2),De=Yv[Ie];if(De&&De.f){if(e.bookSheets&&ke===133&&Ie!==133)break;if(ke=Ie,De.r===2||De.r==12){var $e=t.read_shift(2);if(be-=2,!M.enc&&$e!==Ie&&(($e&255)<<8|$e>>8)!==Ie)throw new Error("rt mismatch: "+$e+"!="+Ie);De.r==12&&(t.l+=10,be-=10)}var ie={};if(Ie===10?ie=De.f(t,be,M):ie=vz(Ie,De,t,be,M),Z==0&&[9,521,1033,2057].indexOf(ke)===-1)continue;switch(Ie){case 34:n.opts.Date1904=I.WBProps.date1904=ie;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(M.enc||(t.l=0),M.enc=ie,!e.password)throw new Error("File is password-protected");if(ie.valid==null)throw new Error("Encryption scheme unsupported");if(!ie.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=ie;break;case 66:var ht=Number(ie);switch(ht){case 21010:ht=1200;break;case 32768:ht=1e4;break;case 32769:ht=1252;break}fs(M.codepage=ht),he=!0;break;case 317:M.rrtabid=ie;break;case 25:M.winlocked=ie;break;case 439:n.opts.RefreshAll=ie;break;case 12:n.opts.CalcCount=ie;break;case 16:n.opts.CalcDelta=ie;break;case 17:n.opts.CalcIter=ie;break;case 13:n.opts.CalcMode=ie;break;case 14:n.opts.CalcPrecision=ie;break;case 95:n.opts.CalcSaveRecalc=ie;break;case 15:M.CalcRefMode=ie;break;case 2211:n.opts.FullCalc=ie;break;case 129:ie.fDialog&&(i["!type"]="dialog"),ie.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ie.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:G.push(ie);break;case 430:se.push([ie]),se[se.length-1].XTI=[];break;case 35:case 547:se[se.length-1].push(ie);break;case 24:case 536:ne={Name:ie.Name,Ref:Fr(ie.rgce,o,null,se,M)},ie.itab>0&&(ne.Sheet=ie.itab-1),se.names.push(ne),se[0]||(se[0]=[],se[0].XTI=[]),se[se.length-1].push(ie),ie.Name=="_xlnm._FilterDatabase"&&ie.itab>0&&ie.rgce&&ie.rgce[0]&&ie.rgce[0][0]&&ie.rgce[0][0][0]=="PtgArea3d"&&(W[ie.itab-1]={ref:Ht(ie.rgce[0][0][1][2])});break;case 22:M.ExternCount=ie;break;case 23:se.length==0&&(se[0]=[],se[0].XTI=[]),se[se.length-1].XTI=se[se.length-1].XTI.concat(ie),se.XTI=se.XTI.concat(ie);break;case 2196:if(M.biff<8)break;ne!=null&&(ne.Comment=ie[1]);break;case 18:i["!protect"]=ie;break;case 19:ie!==0&&M.WTF&&console.error("Password verifier: "+ie);break;case 133:s[ie.pos]=ie,M.snames.push(ie.name);break;case 10:{if(--Z)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Ht(o),e.sheetRows&&e.sheetRows<=o.e.r){var Je=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ht(o),o.e.r=Je}o.e.r++,o.e.c++}ue.length>0&&(i["!merges"]=ue),pe.length>0&&(i["!objects"]=pe),ae.length>0&&(i["!cols"]=ae),ee.length>0&&(i["!rows"]=ee),I.Sheets.push(N)}d===""?h=i:r[d]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[Ie]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ie.BIFFVer]||8),M.biffguess=ie.BIFFVer==0,ie.BIFFVer==0&&ie.dt==4096&&(M.biff=5,he=!0,fs(M.codepage=28591)),M.biff==8&&ie.BIFFVer==0&&ie.dt==16&&(M.biff=2),Z++)break;if(i=e.dense?[]:{},M.biff<8&&!he&&(he=!0,fs(M.codepage=e.codepage||1252)),M.biff<5||ie.BIFFVer==0&&ie.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ge={pos:t.l-be,name:d};s[Ge.pos]=Ge,M.snames.push(d)}else d=(s[ge]||{name:""}).name;ie.dt==32&&(i["!type"]="chart"),ie.dt==64&&(i["!type"]="macro"),ue=[],pe=[],M.arrayf=V=[],ae=[],ee=[],le=!1,N={Hidden:(s[ge]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ie.r]||[])[ie.c]:i[_t({c:ie.c,r:ie.r})])&&++ie.c,D={ixfe:ie.ixfe,XF:G[ie.ixfe]||{},v:ie.val,t:"n"},B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O({c:ie.c,r:ie.r},D,e);break;case 5:case 517:D={ixfe:ie.ixfe,XF:G[ie.ixfe],v:ie.val,t:ie.t},B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O({c:ie.c,r:ie.r},D,e);break;case 638:D={ixfe:ie.ixfe,XF:G[ie.ixfe],v:ie.rknum,t:"n"},B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O({c:ie.c,r:ie.r},D,e);break;case 189:for(var He=ie.c;He<=ie.C;++He){var Be=ie.rkrec[He-ie.c][0];D={ixfe:Be,XF:G[Be],v:ie.rkrec[He-ie.c][1],t:"n"},B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O({c:He,r:ie.r},D,e)}break;case 6:case 518:case 1030:{if(ie.val=="String"){c=ie;break}if(D=r0(ie.val,ie.cell.ixfe,ie.tt),D.XF=G[D.ixfe],e.cellFormula){var nt=ie.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var rt=nt[0][0][1][0],ft=nt[0][0][1][1],fn=_t({r:rt,c:ft});k[fn]?D.f=""+Fr(ie.formula,o,ie.cell,se,M):D.F=((e.dense?(i[rt]||[])[ft]:i[fn])||{}).F}else D.f=""+Fr(ie.formula,o,ie.cell,se,M)}B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O(ie.cell,D,e),c=ie}break;case 7:case 519:if(c)c.val=ie,D=r0(ie,c.cell.ixfe,"s"),D.XF=G[D.ixfe],e.cellFormula&&(D.f=""+Fr(c.formula,o,c.cell,se,M)),B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O(c.cell,D,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{V.push(ie);var An=_t(ie[0].s);if(T=e.dense?(i[ie[0].s.r]||[])[ie[0].s.c]:i[An],e.cellFormula&&T){if(!c||!An||!T)break;T.f=""+Fr(ie[1],o,ie[0],se,M),T.F=Ht(ie[0])}}break;case 1212:{if(!e.cellFormula)break;if(v){if(!c)break;k[_t(c.cell)]=ie[0],T=e.dense?(i[c.cell.r]||[])[c.cell.c]:i[_t(c.cell)],(T||{}).f=""+Fr(ie[0],o,g,se,M)}}break;case 253:D=r0(f[ie.isst].t,ie.ixfe,"s"),f[ie.isst].h&&(D.h=f[ie.isst].h),D.XF=G[D.ixfe],B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O({c:ie.c,r:ie.r},D,e);break;case 513:e.sheetStubs&&(D={ixfe:ie.ixfe,XF:G[ie.ixfe],t:"z"},B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O({c:ie.c,r:ie.r},D,e));break;case 190:if(e.sheetStubs)for(var Hn=ie.c;Hn<=ie.C;++Hn){var gt=ie.ixfe[Hn-ie.c];D={ixfe:gt,XF:G[gt],t:"z"},B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O({c:Hn,r:ie.r},D,e)}break;case 214:case 516:case 4:D=r0(ie.val,ie.ixfe,"s"),D.XF=G[D.ixfe],B>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),O({c:ie.c,r:ie.r},D,e);break;case 0:case 512:Z===1&&(o=ie);break;case 252:f=ie;break;case 1054:if(M.biff==4){Q[B++]=ie[1];for(var Ut=0;Ut<B+163&&St[Ut]!=ie[1];++Ut);Ut>=163&&hl(ie[1],B+163)}else hl(ie[1],ie[0]);break;case 30:{Q[B++]=ie;for(var Ct=0;Ct<B+163&&St[Ct]!=ie;++Ct);Ct>=163&&hl(ie,B+163)}break;case 229:ue=ue.concat(ie);break;case 93:pe[ie.cmo[0]]=M.lastobj=ie;break;case 438:M.lastobj.TxO=ie;break;case 127:M.lastobj.ImData=ie;break;case 440:for(C=ie[0].s.r;C<=ie[0].e.r;++C)for(A=ie[0].s.c;A<=ie[0].e.c;++A)T=e.dense?(i[C]||[])[A]:i[_t({c:A,r:C})],T&&(T.l=ie[1]);break;case 2048:for(C=ie[0].s.r;C<=ie[0].e.r;++C)for(A=ie[0].s.c;A<=ie[0].e.c;++A)T=e.dense?(i[C]||[])[A]:i[_t({c:A,r:C})],T&&T.l&&(T.l.Tooltip=ie[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;T=e.dense?(i[ie[0].r]||[])[ie[0].c]:i[_t(ie[0])];var dn=pe[ie[2]];T||(e.dense?(i[ie[0].r]||(i[ie[0].r]=[]),T=i[ie[0].r][ie[0].c]={t:"z"}):T=i[_t(ie[0])]={t:"z"},o.e.r=Math.max(o.e.r,ie[0].r),o.s.r=Math.min(o.s.r,ie[0].r),o.e.c=Math.max(o.e.c,ie[0].c),o.s.c=Math.min(o.s.c,ie[0].c)),T.c||(T.c=[]),S={a:ie[1],t:dn.TxO.t},T.c.push(S)}break;case 2173:B9(G[ie.ixfe],ie.ext);break;case 125:{if(!M.cellStyles)break;for(;ie.e>=ie.s;)ae[ie.e--]={width:ie.w/256,level:ie.level||0,hidden:!!(ie.flags&1)},le||(le=!0,w1(ie.w/256)),Kc(ae[ie.e+1])}break;case 520:{var Rt={};ie.level!=null&&(ee[ie.r]=Rt,Rt.level=ie.level),ie.hidden&&(ee[ie.r]=Rt,Rt.hidden=!0),ie.hpt&&(ee[ie.r]=Rt,Rt.hpt=ie.hpt,Rt.hpx=Xf(ie.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Mf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ie]]=ie;break;case 161:i["!margins"]||Mf(i["!margins"]={}),i["!margins"].header=ie.header,i["!margins"].footer=ie.footer;break;case 574:ie.RTL&&(I.Views[0].RTL=!0);break;case 146:K=ie;break;case 2198:U=ie;break;case 140:H=ie;break;case 442:d?N.CodeName=ie||N.name:I.WBProps.CodeName=ie||"ThisWorkbook";break}}else De||console.error("Missing Info for XLS Record 0x"+Ie.toString(16)),t.l+=be}return n.SheetNames=Ls(s).sort(function(Pn,it){return Number(Pn)-Number(it)}).map(function(Pn){return s[Pn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&h["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=h)):n.Preamble=h,n.Sheets&&W.forEach(function(Pn,it){n.Sheets[n.SheetNames[it]]["!autofilter"]=Pn}),n.Strings=f,n.SSF=Sr(St),M.enc&&(n.Encryption=M.enc),U&&(n.Themes=U),n.Metadata={},H!==void 0&&(n.Metadata.Country=H),se.names.length>0&&(I.Names=se.names),n.Workbook=I,n}var bw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function yz(t,e,n){var r=zt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=uw(r,OL,bw.DSI);for(var s in i)e[s]=i[s]}catch(d){if(n.WTF)throw d}var o=zt.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var c=uw(o,LL,bw.SI);for(var f in c)e[f]==null&&(e[f]=c[f])}catch(d){if(n.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(xN(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function tI(t,e){e||(e={}),N1(e),Rb(),e.codepage&&a1(e.codepage);var n,r;if(t.FullPaths){if(zt.find(t,"/encryption"))throw new Error("File is password-protected");n=zt.find(t,"!CompObj"),r=zt.find(t,"/Workbook")||zt.find(t,"/Book")}else{switch(e.type){case"base64":t=us(Ni(t));break;case"binary":t=us(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Tr(t,0),r={content:t}}var i,s;if(n&&mz(n),e.bookProps&&!e.bookSheets)i={};else{var o=Lt?"buffer":"array";if(r&&r.content)i=xz(r.content,e);else if((s=zt.find(t,"PerfectOffice_MAIN"))&&s.content)i=kf.to_workbook(s.content,(e.type=o,e));else if((s=zt.find(t,"NativeContent_MAIN"))&&s.content)i=kf.to_workbook(s.content,(e.type=o,e));else throw(s=zt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&zt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=iV(t))}var c={};return t.FullPaths&&yz(t,c,e),i.Props=i.Custprops=c,e.bookFiles&&(i.cfb=t),i}var tp={0:{f:eB},1:{f:iB},2:{f:hB},3:{f:lB},4:{f:aB},5:{f:dB},6:{f:gB},7:{f:uB},8:{f:EB},9:{f:_B},10:{f:xB},11:{f:yB},12:{f:sB},13:{f:pB},14:{f:cB},15:{f:oB},16:{f:WN},17:{f:vB},18:{f:fB},19:{f:v1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:YB},40:{},42:{},43:{f:x9},44:{f:v9},45:{f:y9},46:{f:E9},47:{f:_9},48:{},49:{f:TL},50:{},51:{f:H9},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:RN},62:{f:mB},63:{f:K9},64:{f:RB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:zr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:IB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:rB},148:{f:tB,p:16},151:{f:SB},152:{},153:{f:$B},154:{},155:{},156:{f:qB},157:{},158:{},159:{T:1,f:LU},160:{T:-1},161:{T:1,f:Rl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:TB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:z9},336:{T:-1},337:{f:G9,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Gv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:IN},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:AB},427:{f:CB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:NB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:nB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Gv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tV},633:{T:1},634:{T:-1},635:{T:1,f:eV},636:{T:-1},637:{f:SL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:OB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:kB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Yv={6:{f:cv},10:{f:ro},12:{f:Zn},13:{f:Zn},14:{f:Un},15:{f:Un},16:{f:Lr},17:{f:Un},18:{f:Un},19:{f:Zn},20:{f:pw},21:{f:pw},23:{f:IN},24:{f:gw},25:{f:Un},26:{},27:{},28:{f:X8},29:{},34:{f:Un},35:{f:mw},38:{f:Lr},39:{f:Lr},40:{f:Lr},41:{f:Lr},42:{f:Un},43:{f:Un},47:{f:n9},49:{f:M8},51:{f:Zn},60:{},61:{f:R8},64:{f:Un},65:{f:D8},66:{f:Zn},77:{},80:{},81:{},82:{},85:{f:Zn},89:{},90:{},91:{},92:{f:T8},93:{f:eU},94:{},95:{f:Un},96:{},97:{},99:{f:Un},125:{f:RN},128:{f:G8},129:{f:w8},130:{f:Zn},131:{f:Un},132:{f:Un},133:{f:S8},134:{},140:{f:aU},141:{f:Zn},144:{},146:{f:lU},151:{},152:{},153:{},154:{},155:{},156:{f:Zn},157:{},158:{},160:{f:hU},161:{f:uU},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:V8},190:{f:B8},193:{f:ro},197:{},198:{},199:{},200:{},201:{},202:{f:Un},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Zn},220:{},221:{f:Un},222:{},224:{f:H8},225:{f:E8},226:{f:ro},227:{},229:{f:Q8},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:A8},253:{f:P8},255:{f:C8},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:wN},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Un},353:{f:ro},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:q8},431:{f:Un},432:{},433:{},434:{},437:{},438:{f:rU},439:{f:Un},440:{f:iU},441:{},442:{f:xd},443:{},444:{f:Zn},445:{},446:{},448:{f:ro},449:{f:I8,r:2},450:{f:ro},512:{f:dw},513:{f:dU},515:{f:j8},516:{f:F8},517:{f:hw},519:{f:pU},520:{f:b8},523:{},545:{f:vw},549:{f:fw},566:{},574:{f:k8},638:{f:U8},659:{},1048:{},1054:{f:O8},1084:{},1212:{f:J8},2048:{f:sU},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:e0},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ro},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:cU,r:12},2173:{f:V9,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Un,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Y8,r:12},2197:{},2198:{f:M9,r:12},2199:{},2200:{},2201:{},2202:{f:W8,r:12},2203:{f:ro},2204:{},2205:{},2206:{},2207:{},2211:{f:N8},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Zn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:fU},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:oU},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:dw},1:{},2:{f:xU},3:{f:vU},4:{f:gU},5:{f:hw},7:{f:yU},8:{},9:{f:e0},11:{},22:{f:Zn},30:{f:L8},31:{},32:{},33:{f:vw},36:{},37:{f:fw},50:{f:_U},62:{},52:{},67:{},68:{f:Zn},69:{},86:{},126:{},127:{f:mU},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:EU},223:{},234:{},354:{},421:{},518:{f:cv},521:{f:e0},536:{f:gw},547:{f:mw},561:{},579:{},1030:{f:cv},1033:{f:e0},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function cs(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&uN(n)&&t.push(n)}}function Nw(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,c=s&&s.index||t.length,f=jO(t.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,g=0,v=0,T={s:{r:1e7,c:1e7},e:{r:0,c:0}},S=[];for(o=0;o<f.length;++o){var A=f[o].trim(),C=A.slice(0,3).toLowerCase();if(C=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}h=0;continue}if(!(C!="<td"&&C!="<th")){var k=A.split(/<\/t[dh]>/i);for(c=0;c<k.length;++c){var V=k[c].trim();if(V.match(/<t[dh]/i)){for(var D=V,H=0;D.charAt(0)=="<"&&(H=D.indexOf(">"))>-1;)D=D.slice(H+1);for(var G=0;G<S.length;++G){var K=S[G];K.s.c==h&&K.s.r<d&&d<=K.e.r&&(h=K.e.c+1,G=-1)}var I=mt(V.slice(0,V.indexOf(">")));v=I.colspan?+I.colspan:1,((g=+I.rowspan)>1||v>1)&&S.push({s:{r:d,c:h},e:{r:d+(g||1)-1,c:h+v-1}});var N=I.t||I["data-t"]||"";if(!D.length){h+=v;continue}if(D=Zb(D),T.s.r>d&&(T.s.r=d),T.e.r<d&&(T.e.r=d),T.s.c>h&&(T.s.c=h),T.e.c<h&&(T.e.c=h),!D.length){h+=v;continue}var b={t:"s",v:D};n.raw||!D.trim().length||N=="s"||(D==="TRUE"?b={t:"b",v:!0}:D==="FALSE"?b={t:"b",v:!1}:isNaN(ps(D))?isNaN($c(D).getDate())||(b={t:"d",v:fr(D)},n.cellDates||(b={t:"n",v:Qr(b.v)}),b.z=n.dateNF||St[14]):b={t:"n",v:ps(D)}),n.dense?(r[d]||(r[d]=[]),r[d][h]=b):r[_t({r:d,c:h})]=b,h+=v}}}}return r["!ref"]=Ht(T),S.length&&(r["!merges"]=S),r}function _z(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,f=0,d=0;d<i.length;++d)if(!(i[d].s.r>n||i[d].s.c>o)&&!(i[d].e.r<n||i[d].e.c<o)){if(i[d].s.r<n||i[d].s.c<o){c=-1;break}c=i[d].e.r-i[d].s.r+1,f=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var h=_t({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[h],v=g&&g.v!=null&&(g.h||d1(g.w||(ma(g),g.w)||""))||"",T={};c>1&&(T.rowspan=c),f>1&&(T.colspan=f),r.editable?v='<span contenteditable="true">'+v+"</span>":g&&(T["data-t"]=g&&g.t||"z",g.v!=null&&(T["data-v"]=g.v),g.z!=null&&(T["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+g.l.Target+'">'+v+"</a>")),T.id=(r.id||"sjs")+"-"+h,s.push(aL("td",v,T))}}var S="<tr>";return S+s.join("")+"</tr>"}var Ez='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Tz="</body></html>";function wz(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Ro(Nw(n[0],e),e);var r=R1();return n.forEach(function(i,s){k1(r,Nw(i,e),"Sheet"+(s+1))}),r}function Sz(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function Az(t,e){var n=e||{},r=n.header!=null?n.header:Ez,i=n.footer!=null?n.footer:Tz,s=[r],o=tu(t["!ref"]);n.dense=Array.isArray(t),s.push(Sz(t,o,n));for(var c=o.s.r;c<=o.e.r;++c)s.push(_z(t,o,c,n));return s.push("</table>"+i),s.join("")}function nI(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Zr(r.origin):r.origin;i=o.r,s=o.c}var c=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=tu(t["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),i==-1&&(d.e.r=i=h.e.r+1)}var g=[],v=0,T=t["!rows"]||(t["!rows"]=[]),S=0,A=0,C=0,k=0,V=0,D=0;for(t["!cols"]||(t["!cols"]=[]);S<c.length&&A<f;++S){var H=c[S];if(Iw(H)){if(r.display)continue;T[A]={hidden:!0}}var G=H.children;for(C=k=0;C<G.length;++C){var K=G[C];if(!(r.display&&Iw(K))){var I=K.hasAttribute("data-v")?K.getAttribute("data-v"):K.hasAttribute("v")?K.getAttribute("v"):Zb(K.innerHTML),N=K.getAttribute("data-z")||K.getAttribute("z");for(v=0;v<g.length;++v){var b=g[v];b.s.c==k+s&&b.s.r<A+i&&A+i<=b.e.r&&(k=b.e.c+1-s,v=-1)}D=+K.getAttribute("colspan")||1,((V=+K.getAttribute("rowspan")||1)>1||D>1)&&g.push({s:{r:A+i,c:k+s},e:{r:A+i+(V||1)-1,c:k+s+(D||1)-1}});var F={t:"s",v:I},O=K.getAttribute("data-t")||K.getAttribute("t")||"";I!=null&&(I.length==0?F.t=O||"z":r.raw||I.trim().length==0||O=="s"||(I==="TRUE"?F={t:"b",v:!0}:I==="FALSE"?F={t:"b",v:!1}:isNaN(ps(I))?isNaN($c(I).getDate())||(F={t:"d",v:fr(I)},r.cellDates||(F={t:"n",v:Qr(F.v)}),F.z=r.dateNF||St[14]):F={t:"n",v:ps(I)})),F.z===void 0&&N!=null&&(F.z=N);var M="",U=K.getElementsByTagName("A");if(U&&U.length)for(var ue=0;ue<U.length&&!(U[ue].hasAttribute("href")&&(M=U[ue].getAttribute("href"),M.charAt(0)!="#"));++ue);M&&M.charAt(0)!="#"&&(F.l={Target:M}),r.dense?(t[A+i]||(t[A+i]=[]),t[A+i][k+s]=F):t[_t({c:k+s,r:A+i})]=F,d.e.c<k+s&&(d.e.c=k+s),k+=D}}++A}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,A-1+i),t["!ref"]=Ht(d),A>=f&&(t["!fullref"]=Ht((d.e.r=c.length-S+A-1+i,d))),t}function rI(t,e){var n=e||{},r=n.dense?[]:{};return nI(r,t,e)}function Cz(t,e){return Ro(rI(t,e),e)}function Iw(t){var e="",n=bz(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function bz(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Nz(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Gt(e.replace(/<[^>]*>/g,""));return[n]}var Rw={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function iI(t,e){var n=e||{},r=h1(t),i=[],s,o,c={name:""},f="",d=0,h,g,v={},T=[],S=n.dense?[]:{},A,C,k={value:""},V="",D=0,H=[],G=-1,K=-1,I={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,b={},F=[],O={},M=0,U=0,ue=[],pe=1,ae=1,ee=[],le={Names:[]},se={},ke=["",""],Z=[],B={},Q="",W=0,ne=!1,he=!1,ge=0;for(Jf.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");A=Jf.exec(r);)switch(A[3]=A[3].replace(/_.*$/,"")){case"table":case"":A[1]==="/"?(I.e.c>=I.s.c&&I.e.r>=I.s.r?S["!ref"]=Ht(I):S["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=I.e.r&&(S["!fullref"]=S["!ref"],I.e.r=n.sheetRows-1,S["!ref"]=Ht(I)),F.length&&(S["!merges"]=F),ue.length&&(S["!rows"]=ue),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),T.push(h.name),v[h.name]=S,he=!1):A[0].charAt(A[0].length-2)!=="/"&&(h=mt(A[0],!1),G=K=-1,I.s.r=I.s.c=1e7,I.e.r=I.e.c=0,S=n.dense?[]:{},F=[],ue=[],he=!0);break;case"table-row-group":A[1]==="/"?--N:++N;break;case"table-row":case"":if(A[1]==="/"){G+=pe,pe=1;break}if(g=mt(A[0],!1),g.?G=g.-1:G==-1&&(G=0),pe=+g["number-rows-repeated"]||1,pe<10)for(ge=0;ge<pe;++ge)N>0&&(ue[G+ge]={level:N});K=-1;break;case"covered-table-cell":A[1]!=="/"&&++K,n.sheetStubs&&(n.dense?(S[G]||(S[G]=[]),S[G][K]={t:"z"}):S[_t({r:G,c:K})]={t:"z"}),V="",H=[];break;case"table-cell":case"":if(A[0].charAt(A[0].length-2)==="/")++K,k=mt(A[0],!1),ae=parseInt(k["number-columns-repeated"]||"1",10),C={t:"z",v:null},k.formula&&n.cellFormula!=!1&&(C.f=Sw(Gt(k.formula))),(k.||k["value-type"])=="string"&&(C.t="s",C.v=Gt(k["string-value"]||""),n.dense?(S[G]||(S[G]=[]),S[G][K]=C):S[_t({r:G,c:K})]=C),K+=ae-1;else if(A[1]!=="/"){++K,V="",D=0,H=[],ae=1;var Ie=pe?G+pe-1:G;if(K>I.e.c&&(I.e.c=K),K<I.s.c&&(I.s.c=K),G<I.s.r&&(I.s.r=G),Ie>I.e.r&&(I.e.r=Ie),k=mt(A[0],!1),Z=[],B={},C={t:k.||k["value-type"],v:null},n.cellFormula)if(k.formula&&(k.formula=Gt(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(M=parseInt(k["number-matrix-rows-spanned"],10)||0,U=parseInt(k["number-matrix-columns-spanned"],10)||0,O={s:{r:G,c:K},e:{r:G+M-1,c:K+U-1}},C.F=Ht(O),ee.push([O,C.F])),k.formula)C.f=Sw(k.formula);else for(ge=0;ge<ee.length;++ge)G>=ee[ge][0].s.r&&G<=ee[ge][0].e.r&&K>=ee[ge][0].s.c&&K<=ee[ge][0].e.c&&(C.F=ee[ge][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(M=parseInt(k["number-rows-spanned"],10)||0,U=parseInt(k["number-columns-spanned"],10)||0,O={s:{r:G,c:K},e:{r:G+M-1,c:K+U-1}},F.push(O)),k["number-columns-repeated"]&&(ae=parseInt(k["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=wn(k["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(k.value);break;case"percentage":C.t="n",C.v=parseFloat(k.value);break;case"currency":C.t="n",C.v=parseFloat(k.value);break;case"date":C.t="d",C.v=fr(k["date-value"]),n.cellDates||(C.t="n",C.v=Qr(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=zO(k["time-value"])/86400,n.cellDates&&(C.t="d",C.v=Rp(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(k.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",k["string-value"]!=null&&(V=Gt(k["string-value"]),H=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(ne=!1,C.t==="s"&&(C.v=V||"",H.length&&(C.R=H),ne=D==0),se.Target&&(C.l=se),Z.length>0&&(C.c=Z,Z=[]),V&&n.cellText!==!1&&(C.w=V),ne&&(C.t="z",delete C.v),(!ne||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=G))for(var be=0;be<pe;++be){if(ae=parseInt(k["number-columns-repeated"]||"1",10),n.dense)for(S[G+be]||(S[G+be]=[]),S[G+be][K]=be==0?C:Sr(C);--ae>0;)S[G+be][K+ae]=Sr(C);else for(S[_t({r:G+be,c:K})]=C;--ae>0;)S[_t({r:G+be,c:K+ae})]=Sr(C);I.e.c<=K&&(I.e.c=K)}ae=parseInt(k["number-columns-repeated"]||"1",10),K+=ae-1,ae=0,C={},V="",H=[]}se={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!0]);break;case"annotation":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s;B.t=V,H.length&&(B.R=H),B.a=Q,Z.push(B)}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!1]);Q="",W=0,V="",D=0,H=[];break;case"creator":A[1]==="/"?Q=r.slice(W,A.index):W=A.index+A[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!1]);V="",D=0,H=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(A[1]==="/"){if(b[c.name]=f,(s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&(f="",c=mt(A[0],!1),i.push([A[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=mt(A[0],!1),f+=Rw[A[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=mt(A[0],!1),f+=Rw[A[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(A[0].slice(-2)==="/>")break;if(A[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=r.slice(d,A.index);break}else d=A.index+A[0].length;break;case"named-range":o=mt(A[0],!1),ke=uv(o["cell-range-address"]);var De={Name:o.name,Ref:ke[0]+"!"+ke[1]};he&&(De.Sheet=T.length),le.Names.push(De);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(A[1]==="/"&&(!k||!k["string-value"])){var $e=Nz(r.slice(D,A.index));V=(V.length>0?V+`
`:"")+$e[0]}else mt(A[0],!1),D=A.index+A[0].length;break;case"s":break;case"database-range":if(A[1]==="/")break;try{ke=uv(mt(A[0])["target-range-address"]),v[ke[0]]["!autofilter"]={ref:ke[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(A[1]!=="/"){if(se=mt(A[0],!1),!se.href)break;se.Target=Gt(se.href),delete se.href,se.Target.charAt(0)=="#"&&se.Target.indexOf(".")>-1?(ke=uv(se.Target.slice(1)),se.Target="#"+ke[0]+"!"+ke[1]):se.Target.match(/^\.\.[\\\/]/)&&(se.Target=se.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(A[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(A)}}var ie={Sheets:v,SheetNames:T,Workbook:le};return n.bookSheets&&delete ie.Sheets,ie}function kw(t,e){e=e||{},Hi(t,"META-INF/manifest.xml")&&jL(Wn(t,"META-INF/manifest.xml"),e);var n=bi(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=iI(mn(n),e);return Hi(t,"meta.xml")&&(r.Props=vN(Wn(t,"meta.xml"))),r}function Dw(t,e){return iI(t,e)}function C1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Jv(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):mn(Nl(t))}function Wv(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function Mw(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Iz(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function Qf(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function sr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Ur(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Qf(t,n),s=i&7;i=Math.floor(i/8);var o=0,c;if(i==0)break;switch(s){case 0:{for(var f=n[0];t[n[0]++]>=128;);c=t.slice(f,n[0])}break;case 5:o=4,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Qf(t,n),c=t.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:c,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function b1(t,e){return t?.map(function(n){return e(n.data)})||[]}function Rz(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Qf(t,r),s=Ur(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:sr(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=Ur(c.data),d=sr(f[3][0].data);o.messages.push({meta:f,data:t.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(o.merge=sr(s[3][0].data)>>>0>0),n.push(o)}return n}function kz(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Qf(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[n[0]],c>1&&(o|=e[n[0]+1]<<8),c>2&&(o|=e[n[0]+2]<<16),c>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var f=0,d=0;if(s==1?(d=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(d=(e[n[0]++]>>2)+1,s==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Wv(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(d>=f)for(i.push(i[0].slice(-f)),d-=f;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-f,-f+d))}}var h=Wv(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function Dz(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(kz(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Wv(e)}function Mz(t,e,n,r){var i=C1(t),s=i.getUint32(4,!0),o=(r>1?12:8)+Mw(s&(r>1?3470:398))*4,c=-1,f=-1,d=NaN,h=new Date(2001,0,1);s&512&&(c=i.getUint32(o,!0),o+=4),o+=Mw(s&(r>1?12288:4096))*4,s&16&&(f=i.getUint32(o,!0),o+=4),s&32&&(d=i.getFloat64(o,!0),o+=8),s&64&&(h.setTime(h.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var g;switch(t[2]){case 0:break;case 2:g={t:"n",v:d};break;case 3:g={t:"s",v:e[f]};break;case 5:g={t:"d",v:h};break;case 6:g={t:"b",v:d>0};break;case 7:g={t:"n",v:d/86400};break;case 8:g={t:"e",v:0};break;case 9:if(c>-1)g={t:"s",v:n[c]};else if(f>-1)g={t:"s",v:e[f]};else if(!isNaN(d))g={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return g}function Pz(t,e,n){var r=C1(t),i=r.getUint32(8,!0),s=12,o=-1,c=-1,f=NaN,d=NaN,h=new Date(2001,0,1);i&1&&(f=Iz(t,s),s+=16),i&2&&(d=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var g;switch(t[1]){case 0:break;case 2:g={t:"n",v:f};break;case 3:g={t:"s",v:e[c]};break;case 5:g={t:"d",v:h};break;case 6:g={t:"b",v:d>0};break;case 7:g={t:"n",v:d/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:g={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return g}function Fz(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return Mz(t,e,n,t[0]);case 5:return Pz(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function ho(t){var e=Ur(t);return Qf(e[1][0].data)}function Pw(t,e){var n=Ur(e.data),r=sr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var c=Ur(o.data),f=sr(c[1][0].data)>>>0;switch(r){case 1:s[f]=Jv(c[3][0].data);break;case 8:{var d=t[ho(c[9][0].data)][0],h=Ur(d.data),g=t[ho(h[1][0].data)][0],v=sr(g.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var T=Ur(g.data);s[f]=T[3].map(function(S){return Jv(S.data)}).join("")}break}}),s}function Oz(t,e){var n,r,i,s,o,c,f,d,h,g,v,T,S,A,C=Ur(t),k=sr(C[1][0].data)>>>0,V=sr(C[2][0].data)>>>0,D=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&sr(C[8][0].data)>0||!1,H,G;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&e!=0)H=(c=(o=C[7])==null?void 0:o[0])==null?void 0:c.data,G=(d=(f=C[6])==null?void 0:f[0])==null?void 0:d.data;else if((g=(h=C[4])==null?void 0:h[0])!=null&&g.data&&e!=1)H=(T=(v=C[4])==null?void 0:v[0])==null?void 0:T.data,G=(A=(S=C[3])==null?void 0:S[0])==null?void 0:A.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var K=D?4:1,I=C1(H),N=[],b=0;b<H.length/2;++b){var F=I.getUint16(b*2,!0);F<65535&&N.push([b,F])}if(N.length!=V)throw"Expected ".concat(V," cells, found ").concat(N.length);var O=[];for(b=0;b<N.length-1;++b)O[N[b][0]]=G.subarray(N[b][1]*K,N[b+1][1]*K);return N.length>=1&&(O[N[N.length-1][0]]=G.subarray(N[N.length-1][1]*K)),{R:k,cells:O}}function Lz(t,e){var n,r=Ur(e.data),i=(n=r?.[7])!=null&&n[0]?sr(r[7][0].data)>>>0>0?1:0:-1,s=b1(r[5],function(o){return Oz(o,i)});return{nrows:sr(r[4][0].data)>>>0,data:s.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(f,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=f}),o},[])}}function Uz(t,e,n){var r,i=Ur(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(sr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(sr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Ht(s);var o=Ur(i[4][0].data),c=Pw(t,t[ho(o[4][0].data)][0]),f=(r=o[17])!=null&&r[0]?Pw(t,t[ho(o[17][0].data)][0]):[],d=Ur(o[3][0].data),h=0;d[1].forEach(function(g){var v=Ur(g.data),T=t[ho(v[2][0].data)][0],S=sr(T.meta[1][0].data);if(S!=6002)throw new Error("6001 unexpected reference to ".concat(S));var A=Lz(t,T);A.data.forEach(function(C,k){C.forEach(function(V,D){var H=_t({r:h+k,c:D}),G=Fz(V,c,f);G&&(n[H]=G)})}),h+=A.nrows})}function Vz(t,e){var n=Ur(e.data),r={"!ref":"A1"},i=t[ho(n[2][0].data)],s=sr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Uz(t,i[0],r),r}function Bz(t,e){var n,r=Ur(e.data),i={name:(n=r[1])!=null&&n[0]?Jv(r[1][0].data):"",sheets:[]},s=b1(r[2],ho);return s.forEach(function(o){t[o].forEach(function(c){var f=sr(c.meta[1][0].data);f==6e3&&i.sheets.push(Vz(t,c))})}),i}function zz(t,e){var n=R1(),r=Ur(e.data),i=b1(r[1],ho);if(i.forEach(function(s){t[s].forEach(function(o){var c=sr(o.meta[1][0].data);if(c==2){var f=Bz(t,o);f.sheets.forEach(function(d,h){k1(n,d,h==0?f.name:f.name+"_"+h,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function dv(t){var e,n,r,i,s={},o=[];if(t.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var d;try{d=Dz(f.content)}catch(g){return console.log("?? "+f.content.length+" "+(g.message||g))}var h;try{h=Rz(d)}catch(g){return console.log("## "+(g.message||g))}h.forEach(function(g){s[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var c=((i=(r=(n=(e=s?.[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&sr(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||o.forEach(function(f){s[f].forEach(function(d){var h=sr(d.meta[1][0].data)>>>0;if(h==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return zz(s,c)}function Hz(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function N1(t){Hz([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Gz(t){return Rc.WS.indexOf(t)>-1?"sheet":t==Rc.CS?"chart":t==Rc.DS?"dialog":t==Rc.MS?"macro":t&&t.length?t:"sheet"}function jz(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,Gz(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function qz(t,e,n,r,i,s,o,c,f,d,h,g){try{s[r]=If(bi(t,n,!0),e);var v=Wn(t,e),T;switch(c){case"sheet":T=ZB(v,e,i,f,s[r],d,h,g);break;case"chart":if(T=XB(v,e,i,f,s[r],d,h,g),!T||!T["!drawel"])break;var S=gf(T["!drawel"].Target,e),A=jv(S),C=W9(bi(t,S,!0),If(bi(t,A,!0),S)),k=gf(C,S),V=jv(k);T=PB(bi(t,k,!0),k,f,If(bi(t,V,!0),k),d,T);break;case"macro":T=QB(v,e,i,f,s[r],d,h,g);break;case"dialog":T=ez(v,e,i,f,s[r],d,h,g);break;default:throw new Error("Unrecognized sheet type "+c)}o[r]=T;var D=[];s&&s[r]&&Ls(s[r]).forEach(function(H){var G="";if(s[r][H].Type==Rc.CMNT){G=gf(s[r][H].Target,e);var K=iz(Wn(t,G,!0),G,f);if(!K||!K.length)return;yw(T,K,!1)}s[r][H].Type==Rc.TCMNT&&(G=gf(s[r][H].Target,e),D=D.concat(X9(Wn(t,G,!0),f)))}),D&&D.length&&yw(T,D,!0,f.people||[])}catch(H){if(f.WTF)throw H}}function Bi(t){return t.charAt(0)=="/"?t.slice(1):t}function $z(t,e){if(Hb(),e=e||{},N1(e),Hi(t,"META-INF/manifest.xml")||Hi(t,"objectdata.xml"))return kw(t,e);if(Hi(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof dv<"u"){if(t.FileIndex)return dv(t);var n=zt.utils.cfb_new();return $2(t).forEach(function(ue){KO(n,ue,$O(t,ue))}),dv(n)}throw new Error("Unsupported NUMBERS file")}if(!Hi(t,"[Content_Types].xml"))throw Hi(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Hi(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=$2(t),i=HL(bi(t,"[Content_Types].xml")),s=!1,o,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",Wn(t,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!Wn(t,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},d={};if(!e.bookSheets&&!e.bookProps){if(Df=[],i.sst)try{Df=rz(Wn(t,Bi(i.sst)),i.sst,e)}catch(ue){if(e.WTF)throw ue}e.cellStyles&&i.themes.length&&(f=nz(bi(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(d=tz(Wn(t,Bi(i.style)),i.style,f,e))}i.links.map(function(ue){try{var pe=If(bi(t,jv(Bi(ue))),ue);return az(Wn(t,Bi(ue)),pe,ue,e)}catch{}});var h=WB(Wn(t,Bi(i.workbooks[0])),i.workbooks[0],e),g={},v="";i.coreprops.length&&(v=Wn(t,Bi(i.coreprops[0]),!0),v&&(g=vN(v)),i.extprops.length!==0&&(v=Wn(t,Bi(i.extprops[0]),!0),v&&KL(v,g,e)));var T={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(v=bi(t,Bi(i.custprops[0]),!0),v&&(T=JL(v,e)));var S={};if((e.bookSheets||e.bookProps)&&(h.Sheets?o=h.Sheets.map(function(pe){return pe.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),e.bookProps&&(S.Props=g,S.Custprops=T),e.bookSheets&&typeof o<"u"&&(S.SheetNames=o),e.bookSheets?S.SheetNames:e.bookProps))return S;o={};var A={};e.bookDeps&&i.calcchain&&(A=sz(Wn(t,Bi(i.calcchain)),i.calcchain));var C=0,k={},V,D;{var H=h.Sheets;g.Worksheets=H.length,g.SheetNames=[];for(var G=0;G!=H.length;++G)g.SheetNames[G]=H[G].name}var K=s?"bin":"xml",I=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,I+1)+"_rels/"+i.workbooks[0].slice(I+1)+".rels").replace(/^\//,"");Hi(t,N)||(N="xl/_rels/workbook."+K+".rels");var b=If(bi(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=oz(Wn(t,Bi(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Q9(Wn(t,Bi(i.people[0])),e)),b&&(b=jz(b,h.Sheets));var F=Wn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=g.Worksheets;++C){var O="sheet";if(b&&b[C]?(V="xl/"+b[C][1].replace(/[\/]?xl\//,""),Hi(t,V)||(V=b[C][1]),Hi(t,V)||(V=N.replace(/_rels\/.*$/,"")+b[C][1]),O=b[C][2]):(V="xl/worksheets/sheet"+(C+1-F)+"."+K,V=V.replace(/sheet0\./,"sheet.")),D=V.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(g.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var M=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==C&&(M=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==g.SheetNames[C].toLowerCase()&&(M=1);if(!M)continue e}}qz(t,V,D,g.SheetNames[C],C,k,o,O,e,h,f,d)}return S={Directory:i,Workbook:h,Props:g,Custprops:T,Deps:A,Sheets:o,SheetNames:g.SheetNames,Strings:Df,Styles:d,Themes:f,SSF:Sr(St)},e&&e.bookFiles&&(t.files?(S.keys=r,S.files=t.files):(S.keys=[],S.files={},t.FullPaths.forEach(function(ue,pe){ue=ue.replace(/^Root Entry[\/]/,""),S.keys.push(ue),S.files[ue]=t.FileIndex[pe]}))),e&&e.bookVBA&&(i.vba.length>0?S.vbaraw=Wn(t,Bi(i.vba[0]),!0):i.defaults&&i.defaults.bin===rV&&(S.vbaraw=Wn(t,"xl/vbaProject.bin",!0))),S}function Kz(t,e){var n=e||{},r="Workbook",i=zt.find(t,r);try{if(r="/!DataSpaces/Version",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(VU(i.content),r="/!DataSpaces/DataSpaceMap",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=zU(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=HU(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);jU(i.content)}catch{}if(r="/EncryptionInfo",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=qU(i.content);if(r="/EncryptedPackage",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function I1(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ni(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Yz(t,e){return zt.find(t,"EncryptedPackage")?Kz(t,e):tI(t,e)}function Jz(t,e){var n,r=t,i=e||{};return i.type||(i.type=Lt&&Buffer.isBuffer(t)?"buffer":"base64"),n=Yb(r,i),$z(n,i)}function sI(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return Kv(t.slice(n),e);default:break e}return Wf.to_workbook(t,e)}function Wz(t,e){var n="",r=I1(t,e);switch(e.type){case"base64":n=Ni(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=_l(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=mn(n)),e.type="binary",sI(n,e)}function Zz(t,e){var n=t;return e.type=="base64"&&(n=Ni(n)),n=$f.utils.decode(1200,n.slice(2),"str"),e.type="binary",sI(n,e)}function Xz(t){return t.match(/[^\x00-\x7F]/)?vf(t):t}function hv(t,e,n,r){return r?(n.type="string",Wf.to_workbook(t,n)):Wf.to_workbook(e,n)}function np(t,e){Rb();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return np(new Uint8Array(t),(n=Sr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Lc={},n.dateNF&&(Lc.dateNF=n.dateNF),n.type||(n.type=Lt&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Lt?"buffer":"binary",r=VO(t),typeof Uint8Array<"u"&&!Lt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=Xz(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return n=Sr(n),n.type="array",np(o1(r),n)}switch((i=I1(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Yz(zt.read(r,n),n);break;case 9:if(i[1]<=8)return tI(r,n);break;case 60:return Kv(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return CU(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return SU.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Jz(r,n):hv(t,r,n,s);case 239:return i[3]===60?Kv(r,n):hv(t,r,n,s);case 255:if(i[1]===254)return Zz(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return kf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return kf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return xw.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return r9.to_workbook(r,n);break;case 10:case 13:case 32:return Wz(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return TU.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?xw.to_workbook(r,n):hv(t,r,n,s)}function Qz(t,e,n,r,i,s,o,c){var f=Ar(n),d=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,v=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:n,enumerable:!1})}catch{v.__rowNum__=n}else v.__rowNum__=n;if(!o||t[n])for(var T=e.s.c;T<=e.e.c;++T){var S=o?t[n][T]:t[r[T]+f];if(S===void 0||S.t===void 0){if(d===void 0)continue;s[T]!=null&&(v[s[T]]=d);continue}var A=S.v;switch(S.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[T]!=null){if(A==null)if(S.t=="e"&&A===null)v[s[T]]=null;else if(d!==void 0)v[s[T]]=d;else if(h&&A===null)v[s[T]]=null;else continue;else v[s[T]]=h&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?A:ma(S,A,c);A!=null&&(g=!1)}}return{row:v,isempty:g}}function Zv(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},h=d.range!=null?d.range:t["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof h){case"string":f=Mn(h);break;case"number":f=Mn(t["!ref"]),f.s.r=h;break;default:f=h}r>0&&(i=0);var g=Ar(f.s.r),v=[],T=[],S=0,A=0,C=Array.isArray(t),k=f.s.r,V=0,D={};C&&!t[k]&&(t[k]=[]);var H=d.skipHidden&&t["!cols"]||[],G=d.skipHidden&&t["!rows"]||[];for(V=f.s.c;V<=f.e.c;++V)if(!(H[V]||{}).hidden)switch(v[V]=rr(V),n=C?t[k][V]:t[v[V]+g],r){case 1:s[V]=V-f.s.c;break;case 2:s[V]=v[V];break;case 3:s[V]=d.header[V-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=ma(n,null,d),A=D[o]||0,!A)D[o]=1;else{do c=o+"_"+A++;while(D[c]);D[o]=A,D[c]=1}s[V]=c}for(k=f.s.r+i;k<=f.e.r;++k)if(!(G[k]||{}).hidden){var K=Qz(t,f,k,v,r,s,C,d);(K.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(T[S++]=K.row)}return T.length=S,T}var Fw=/"/g;function eH(t,e,n,r,i,s,o,c){for(var f=!0,d=[],h="",g=Ar(n),v=e.s.c;v<=e.e.c;++v)if(r[v]){var T=c.dense?(t[n]||[])[v]:t[r[v]+g];if(T==null)h="";else if(T.v!=null){f=!1,h=""+(c.rawNumbers&&T.t=="n"?T.v:ma(T,null,c));for(var S=0,A=0;S!==h.length;++S)if((A=h.charCodeAt(S))===i||A===s||A===34||c.forceQuotes){h='"'+h.replace(Fw,'""')+'"';break}h=="ID"&&(h='"ID"')}else T.f!=null&&!T.F?(f=!1,h="="+T.f,h.indexOf(",")>=0&&(h='"'+h.replace(Fw,'""')+'"')):h="";d.push(h)}return c.blankrows===!1&&f?null:d.join(o)}function aI(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Mn(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,f=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),h="",g=[];r.dense=Array.isArray(t);for(var v=r.skipHidden&&t["!cols"]||[],T=r.skipHidden&&t["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(v[S]||{}).hidden||(g[S]=rr(S));for(var A=0,C=i.s.r;C<=i.e.r;++C)(T[C]||{}).hidden||(h=eH(t,i,C,g,o,f,s,r),h!=null&&(r.strip&&(h=h.replace(d,"")),(h||r.blankrows!==!1)&&n.push((A++?c:"")+h)));return delete r.dense,n.join("")}function tH(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=aI(t,e);return n}function nH(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Mn(t["!ref"]),s="",o=[],c,f=[],d=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)o[c]=rr(c);for(var h=i.s.r;h<=i.e.r;++h)for(s=Ar(h),c=i.s.c;c<=i.e.c;++c)if(e=o[c]+s,n=d?(t[h]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function oI(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Zr(r.origin):r.origin;o=f.r,c=f.c}var d,h={s:{c:0,r:0},e:{c,r:o+e.length-1+i}};if(s["!ref"]){var g=Mn(s["!ref"]);h.e.c=Math.max(h.e.c,g.e.c),h.e.r=Math.max(h.e.r,g.e.r),o==-1&&(o=g.e.r+1,h.e.r=o+e.length-1+i)}else o==-1&&(o=0,h.e.r=e.length-1+i);var v=r.header||[],T=0;e.forEach(function(A,C){Ls(A).forEach(function(k){(T=v.indexOf(k))==-1&&(v[T=v.length]=k);var V=A[k],D="z",H="",G=_t({c:c+T,r:o+C+i});d=ed(s,G),V&&typeof V=="object"&&!(V instanceof Date)?s[G]=V:(typeof V=="number"?D="n":typeof V=="boolean"?D="b":typeof V=="string"?D="s":V instanceof Date?(D="d",r.cellDates||(D="n",V=Qr(V)),H=r.dateNF||St[14]):V===null&&r.nullError&&(D="e",V=0),d?(d.t=D,d.v=V,delete d.w,delete d.R,H&&(d.z=H)):s[G]=d={t:D,v:V},H&&(d.z=H))})}),h.e.c=Math.max(h.e.c,c+v.length-1);var S=Ar(o);if(i)for(T=0;T<v.length;++T)s[rr(T+c)+S]={t:"s",v:v[T]};return s["!ref"]=Ht(h),s}function rH(t,e){return oI(null,t,e)}function ed(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Zr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ed(t,_t(e)):ed(t,_t({r:e,c:n||0}))}function iH(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function R1(){return{SheetNames:[],Sheets:{}}}function k1(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(HB(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function sH(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=iH(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function aH(t,e){return t.z=e,t}function lI(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function oH(t,e,n){return lI(t,"#"+e,n)}function lH(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function cH(t,e,n,r){for(var i=typeof e!="string"?e:Mn(e),s=typeof e=="string"?e:Ht(e),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var f=ed(t,o,c);f.t="n",f.F=s,delete f.v,o==i.s.r&&c==i.s.c&&(f.f=n,r&&(f.D=!0))}return t}var xf={encode_col:rr,encode_row:Ar,encode_cell:_t,encode_range:Ht,decode_col:g1,decode_row:m1,split_cell:EL,decode_cell:Zr,decode_range:tu,format_cell:ma,sheet_add_aoa:dN,sheet_add_json:oI,sheet_add_dom:nI,aoa_to_sheet:nu,json_to_sheet:rH,table_to_sheet:rI,table_to_book:Cz,sheet_to_csv:aI,sheet_to_txt:tH,sheet_to_json:Zv,sheet_to_html:Az,sheet_to_formulae:nH,sheet_to_row_object_array:Zv,sheet_get_cell:ed,book_new:R1,book_append_sheet:k1,book_set_sheet_visibility:sH,cell_set_number_format:aH,cell_set_hyperlink:lI,cell_set_internal_link:oH,cell_add_comment:lH,sheet_set_array_formula:cH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const cI=t=>String(t).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),uH=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},Ow=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},fH=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{try{const s=i.target?.result,o=np(s,{type:"binary"}),c=o.SheetNames[0],f=o.Sheets[c];if(!f["!ref"]){e([]);return}const d=xf.decode_range(f["!ref"]),h=[],g=[],v=d.s.r;for(let T=d.s.c;T<=d.e.c;++T){const S=xf.encode_cell({c:T,r:v}),A=f[S];if(A&&A.v){const C=String(A.v);g.push({index:T,name:C,normalized:cI(C)})}}for(let T=v+1;T<=d.e.r;++T){const S={};let A;if(g.forEach(M=>{const U=xf.encode_cell({c:M.index,r:T}),ue=f[U];ue&&(S[M.normalized]=ue.v,!A&&(M.normalized.includes("endereco")||M.normalized.includes("logradouro")||M.normalized.includes("localizacao")||M.normalized==="rua"||M.normalized==="mapa"||M.normalized==="link")&&ue.l&&ue.l.Target&&(A=ue.l.Target))}),Object.keys(S).length===0)continue;const C=S.endereco||S.logradouro||S.localizacao||S["endereco completo"]||S.rua||S.end||"";let{address:k,link:V,lat:D,lng:H}=j0(C),G=A||V;const K=S.link||S.mapa||S["google maps"]||S.url||S.maps||S.coordenadas||S.geolocalizacao;let I;g.forEach(M=>{if(["link","mapa","google maps","url","maps","coordenadas","geolocalizacao"].includes(M.normalized)){const U=xf.encode_cell({c:M.index,r:T}),ue=f[U];ue&&ue.l&&ue.l.Target&&(I=ue.l.Target)}});const N=I||K;if(N){const M=j0(N);M.link&&(G=M.link),M.lat&&(D=M.lat),M.lng&&(H=M.lng)}const b=S["razao social"]||S.cliente||S["nome fantasia"]||S.empresa||S.nome||S["nome cliente"]||S.parceiro||S.loja||"",F=S["nome do proprietario"]||S.proprietario||S.dono||S["contato principal"]||S.responsavel||S.socio||"",O=String(S.contato||S.telefone||S.celular||S.whatsapp||S.tel||S.fone||"");(b||k||C)&&h.push({companyName:b,ownerName:F,phone:O,address:k,googleMapsLink:G,latitude:D,longitude:H})}e(h)}catch(s){console.error("Excel Parsing Error:",s),n(s)}},r.onerror=i=>n(i),r.readAsBinaryString(t)}),uI=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{try{const s=i.target?.result,o=np(s,{type:"binary"}),c=o.SheetNames[0],f=o.Sheets[c],d=[];xf.sheet_to_json(f,{defval:""}).forEach(g=>{const v={};Object.keys(g).forEach(G=>{v[cI(G)]=g[G]});const T=String(v["numero do sku"]||v.sku||""),S=v.marca||v.fabricante||"Genrico",A=String(v["cod.fabrica"]||v["cod fabrica"]||v["codigo fabrica"]||""),C=v.descricao||v.nome||v.produto||"",k=uH(v["preco de venda"]||v.preco||0),V=v.categoria||S||"Geral",D=Ow(v.margem||0),H=Ow(v.desconto||v.discount||0);(T||C)&&d.push({category:V,sku:T,brand:S,factoryCode:A,name:C,price:k,margin:D,discount:H})}),e(d)}catch(s){console.error("Product Excel Parsing Error:",s),n(s)}},r.onerror=i=>n(i),r.readAsBinaryString(t)});var dH={};let hH,pH;function mH(){return{geminiUrl:hH,vertexUrl:pH}}function gH(t,e,n,r){var i,s;if(!t?.baseUrl){const o=mH();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}class Ea{}function Ye(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];x(h,e.slice(s+1),n[d])}else for(const d of f)x(d,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];x(f[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function vH(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&s.length>c)for(let f=c;f<s.length;f++){const d=s[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}Xv(t,i,s,0,o)}}function Xv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),c=t;if(o in c&&Array.isArray(c[o]))for(const f of c[o])Xv(f,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,c=Object.keys(o).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=o[d];for(const[d,h]of Object.entries(f)){const g=[];for(const v of n.slice(r))v==="*"?g.push(d):g.push(v);x(o,g,h)}for(const d of c)delete o[d]}}else{const o=t;s in o&&Xv(o[s],e,n,r+1,i)}}function D1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function xH(t){const e={},n=m(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function yH(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],EH(o)),e}function _H(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response"]);return o!=null&&x(e,["response"],TH(o)),e}function EH(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>wH(o))),x(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function TH(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>SH(o))),x(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function wH(t){const e={},n=m(t,["video"]);return n!=null&&x(e,["video"],RH(n)),e}function SH(t){const e={},n=m(t,["_self"]);return n!=null&&x(e,["video"],kH(n)),e}function AH(t){const e={},n=m(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function CH(t){const e={},n=m(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function bH(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response"]);return o!=null&&x(e,["response"],NH(o)),e}function NH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function fI(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response"]);return o!=null&&x(e,["response"],IH(o)),e}function IH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function RH(t){const e={},n=m(t,["uri"]);n!=null&&x(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],D1(r));const i=m(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function kH(t){const e={},n=m(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],D1(r));const i=m(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}var Lw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Lw||(Lw={}));var Uw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Uw||(Uw={}));var Vw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Vw||(Vw={}));var uo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(uo||(uo={}));var Bw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bw||(Bw={}));var zw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(zw||(zw={}));var Hw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Hw||(Hw={}));var Gw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Gw||(Gw={}));var jw;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(jw||(jw={}));var qw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qw||(qw={}));var $w;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($w||($w={}));var Kw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Kw||(Kw={}));var Yw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Yw||(Yw={}));var Jw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Jw||(Jw={}));var Ww;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ww||(Ww={}));var Zw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Zw||(Zw={}));var Xw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Xw||(Xw={}));var Qw;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Qw||(Qw={}));var eS;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(eS||(eS={}));var tS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(tS||(tS={}));var nS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(nS||(nS={}));var rp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(rp||(rp={}));var rS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rS||(rS={}));var iS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(iS||(iS={}));var sS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(sS||(sS={}));var Qv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qv||(Qv={}));var aS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(aS||(aS={}));var oS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(oS||(oS={}));var ex;(function(t){t.COLLECTION="COLLECTION"})(ex||(ex={}));var lS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(lS||(lS={}));var cS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(cS||(cS={}));var uS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(uS||(uS={}));var fS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(fS||(fS={}));var dS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(dS||(dS={}));var hS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hS||(hS={}));var pS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pS||(pS={}));var mS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mS||(mS={}));var gS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gS||(gS={}));var vS;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(vS||(vS={}));var xS;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(xS||(xS={}));var yS;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(yS||(yS={}));var _S;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_S||(_S={}));var ES;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(ES||(ES={}));var TS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(TS||(TS={}));var wS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(wS||(wS={}));var SS;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(SS||(SS={}));var AS;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(AS||(AS={}));var CS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(CS||(CS={}));var bS;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(bS||(bS={}));var NS;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(NS||(NS={}));var IS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(IS||(IS={}));var RS;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(RS||(RS={}));var kS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(kS||(kS={}));var DS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(DS||(DS={}));var MS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(MS||(MS={}));var PS;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(PS||(PS={}));var kc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(kc||(kc={}));class tx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class of{get text(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const g=[];for(const v of(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[T,S]of Object.entries(v))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(S!==null||S!==void 0)&&g.push(T);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const g of(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[v,T]of Object.entries(g))v!=="inlineData"&&(T!==null||T!==void 0)&&h.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,r,i,s,o,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,s,o,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.output}}class FS{}class OS{}class DH{}class MH{}class PH{}class FH{}class LS{}class US{}class VS{}class OH{}class ip{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ip;let i;const s=e;return n?i=_H(s):i=yH(s),Object.assign(r,i),r}}class BS{}class zS{}class HS{}class GS{}class LH{}class UH{}class VH{}class M1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new M1,s=bH(e);return Object.assign(r,s),r}}class BH{}class zH{}class HH{}class GH{}class jS{}class jH{get text(){var e,n,r;let i="",s=!1;const o=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&o.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="inlineData"&&f!==null&&s.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class qH{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class P1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new P1,s=fI(e);return Object.assign(r,s),r}}function Kt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function dI(t,e){const n=Kt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function hI(t){return Array.isArray(t)?t.map(e=>sp(e)):[sp(t)]}function sp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function pI(t){const e=sp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mI(t){const e=sp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function gI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>qS(e)):[qS(t)]}function nx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $S(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function KS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Vr(t){if(t==null)throw new Error("ContentUnion is required");return nx(t)?t:{role:"user",parts:gI(t)}}function F1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Vr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Vr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Vr(n)):[Vr(e)]}function qi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($S(t)||KS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vr(t)]}const e=[],n=[],r=nx(t[0]);for(const i of t){const s=nx(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if($S(i)||KS(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:gI(n)}),e}function $H(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(uo).includes(n[0].toUpperCase())?n[0].toUpperCase():uo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(uo).includes(r.toUpperCase())?r.toUpperCase():uo.TYPE_UNSPECIFIED})}}function Uc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&$H(t.type,e);for(const[o,c]of Object.entries(t))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(uo).includes(c.toUpperCase())?c.toUpperCase():uo.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Uc(c);else if(r.includes(o)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(Uc(d))}e[o]=f}else if(i.includes(o)){const f={};for(const[d,h]of Object.entries(c))f[d]=Uc(h);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=c}return e}function O1(t){return Uc(t)}function L1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function U1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ru(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Uc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Uc(e.response));return t}function iu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function KH(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ta(t,e){if(typeof e!="string")throw new Error("name must be a string");return KH(t,e,"cachedContents")}function vI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ko(t){return D1(t)}function YH(t){return t!=null&&typeof t=="object"&&"name"in t}function JH(t){return t!=null&&typeof t=="object"&&"video"in t}function WH(t){return t!=null&&typeof t=="object"&&"uri"in t}function xI(t){var e;let n;if(YH(t)&&(n=t.name),!(WH(t)&&(n=t.uri,n===void 0))&&!(JH(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function yI(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function _I(t){for(const e of["models","tunedModels","publisherModels"])if(ZH(t,e))return t[e];return[]}function ZH(t,e){return t!==null&&typeof t=="object"&&e in t}function XH(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function QH(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=XH(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function EI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function eG(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function TI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function su(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function wI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function tG(t){const e={},n=m(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>FG(o))),x(e,["inlinedResponses"],s)}const i=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["inlinedEmbedContentResponses"],s)}return e}function nG(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=m(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function rG(t){const e={},n=m(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function y0(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=m(t,["metadata","state"]);i!=null&&x(e,["state"],wI(i));const s=m(t,["metadata","createTime"]);s!=null&&x(e,["createTime"],s);const o=m(t,["metadata","endTime"]);o!=null&&x(e,["endTime"],o);const c=m(t,["metadata","updateTime"]);c!=null&&x(e,["updateTime"],c);const f=m(t,["metadata","model"]);f!=null&&x(e,["model"],f);const d=m(t,["metadata","output"]);return d!=null&&x(e,["dest"],tG(TI(d))),e}function rx(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=m(t,["state"]);i!=null&&x(e,["state"],wI(i));const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["createTime"]);o!=null&&x(e,["createTime"],o);const c=m(t,["startTime"]);c!=null&&x(e,["startTime"],c);const f=m(t,["endTime"]);f!=null&&x(e,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const h=m(t,["model"]);h!=null&&x(e,["model"],h);const g=m(t,["inputConfig"]);g!=null&&x(e,["src"],iG(g));const v=m(t,["outputConfig"]);v!=null&&x(e,["dest"],nG(TI(v)));const T=m(t,["completionStats"]);return T!=null&&x(e,["completionStats"],T),e}function iG(t){const e={},n=m(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=m(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function sG(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=m(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>PG(t,o))),x(n,["requests","requests"],s)}return n}function aG(t){const e={},n=m(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function oG(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function lG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],su(t,r)),n}function cG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],su(t,r)),n}function uG(t){const e={},n=m(t,["content"]);n!=null&&x(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],fG(r));const i=m(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const s=m(t,["finishReason"]);s!=null&&x(e,["finishReason"],s);const o=m(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const c=m(t,["groundingMetadata"]);c!=null&&x(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&x(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const h=m(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["safetyRatings"],v)}const g=m(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function fG(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function SI(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>HG(s))),x(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function dG(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function hG(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=m(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],rG(eG(i))),n}function YS(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["_url","model"],Kt(t,r));const i=m(e,["src"]);i!=null&&x(n,["batch","inputConfig"],sG(t,EI(t,i)));const s=m(e,["config"]);return s!=null&&dG(s,n),n}function pG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],Kt(t,r));const i=m(e,["src"]);i!=null&&x(n,["inputConfig"],aG(EI(t,i)));const s=m(e,["config"]);return s!=null&&hG(s,n),n}function mG(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function gG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["_url","model"],Kt(t,r));const i=m(e,["src"]);i!=null&&x(n,["batch","inputConfig"],wG(t,i));const s=m(e,["config"]);return s!=null&&mG(s,n),n}function vG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],su(t,r)),n}function xG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],su(t,r)),n}function yG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);return s!=null&&x(e,["error"],s),e}function _G(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);return s!=null&&x(e,["error"],s),e}function EG(t,e){const n={},r=m(e,["contents"]);if(r!=null){let s=F1(t,r);Array.isArray(s)&&(s=s.map(o=>o)),x(n,["requests[]","request","content"],s)}const i=m(e,["config"]);return i!=null&&(x(n,["_self"],TG(i,n)),vH(n,{"requests[].*":"requests[].request.*"})),n}function TG(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&x(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wG(t,e){const n={},r=m(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=m(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],EG(t,i)),n}function SG(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function AG(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const i=m(t,["name"]);if(i!=null&&x(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function CG(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&x(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bG(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],SI(Vr(i)));const s=m(e,["temperature"]);s!=null&&x(r,["temperature"],s);const o=m(e,["topP"]);o!=null&&x(r,["topP"],o);const c=m(e,["topK"]);c!=null&&x(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&x(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const g=m(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const v=m(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const T=m(e,["presencePenalty"]);T!=null&&x(r,["presencePenalty"],T);const S=m(e,["frequencyPenalty"]);S!=null&&x(r,["frequencyPenalty"],S);const A=m(e,["seed"]);A!=null&&x(r,["seed"],A);const C=m(e,["responseMimeType"]);C!=null&&x(r,["responseMimeType"],C);const k=m(e,["responseSchema"]);k!=null&&x(r,["responseSchema"],O1(k));const V=m(e,["responseJsonSchema"]);if(V!=null&&x(r,["responseJsonSchema"],V),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=m(e,["safetySettings"]);if(n!==void 0&&D!=null){let U=D;Array.isArray(U)&&(U=U.map(ue=>GG(ue))),x(n,["safetySettings"],U)}const H=m(e,["tools"]);if(n!==void 0&&H!=null){let U=iu(H);Array.isArray(U)&&(U=U.map(ue=>qG(ru(ue)))),x(n,["tools"],U)}const G=m(e,["toolConfig"]);if(n!==void 0&&G!=null&&x(n,["toolConfig"],jG(G)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=m(e,["cachedContent"]);n!==void 0&&K!=null&&x(n,["cachedContent"],Ta(t,K));const I=m(e,["responseModalities"]);I!=null&&x(r,["responseModalities"],I);const N=m(e,["mediaResolution"]);N!=null&&x(r,["mediaResolution"],N);const b=m(e,["speechConfig"]);if(b!=null&&x(r,["speechConfig"],L1(b)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=m(e,["thinkingConfig"]);F!=null&&x(r,["thinkingConfig"],F);const O=m(e,["imageConfig"]);O!=null&&x(r,["imageConfig"],MG(O));const M=m(e,["enableEnhancedCivicAnswers"]);if(M!=null&&x(r,["enableEnhancedCivicAnswers"],M),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function NG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>uG(d))),x(e,["candidates"],f)}const i=m(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const s=m(t,["promptFeedback"]);s!=null&&x(e,["promptFeedback"],s);const o=m(t,["responseId"]);o!=null&&x(e,["responseId"],o);const c=m(t,["usageMetadata"]);return c!=null&&x(e,["usageMetadata"],c),e}function IG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],su(t,r)),n}function RG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],su(t,r)),n}function kG(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function DG(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function MG(t){const e={},n=m(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function PG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["request","model"],Kt(t,r));const i=m(e,["contents"]);if(i!=null){let c=qi(i);Array.isArray(c)&&(c=c.map(f=>SI(f))),x(n,["request","contents"],c)}const s=m(e,["metadata"]);s!=null&&x(n,["metadata"],s);const o=m(e,["config"]);return o!=null&&x(n,["request","generationConfig"],bG(t,o,m(n,["request"],{}))),n}function FG(t){const e={},n=m(t,["response"]);n!=null&&x(e,["response"],NG(n));const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["error"]);return i!=null&&x(e,["error"],i),e}function OG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function LG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const s=m(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),n}function UG(t){const e={},n=m(t,["config"]);return n!=null&&OG(n,e),e}function VG(t){const e={},n=m(t,["config"]);return n!=null&&LG(n,e),e}function BG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>y0(o))),x(e,["batchJobs"],s)}return e}function zG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>rx(o))),x(e,["batchJobs"],s)}return e}function HG(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&x(e,["fileData"],SG(s));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],AG(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],oG(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function GG(t){const e={},n=m(t,["category"]);if(n!=null&&x(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function jG(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],CG(r)),e}function qG(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],kG(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],DG(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}var ga;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ga||(ga={}));class Ml{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class $G extends Ea{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ml(ga.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=YS(this.apiClient,e),r=n._url,i=Ye("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const h of f){const g=Object.assign({},h);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const T=g.request;T.systemInstruction=v,g.request=T}d.push(g)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=pG(this.apiClient,e);return c=Ye("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>rx(h))}else{const d=YS(this.apiClient,e);return c=Ye("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>y0(h))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=gG(this.apiClient,e);return s=Ye("{model}:asyncBatchEmbedContent",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>y0(f))}}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=RG(this.apiClient,e);return c=Ye("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>rx(h))}else{const d=IG(this.apiClient,e);return c=Ye("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>y0(h))}}async cancel(e){var n,r,i,s;let o="",c={};if(this.apiClient.isVertexAI()){const f=cG(this.apiClient,e);o=Ye("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=lG(this.apiClient,e);o=Ye("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=VG(e);return c=Ye("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=zG(h),v=new jS;return Object.assign(v,g),v})}else{const d=UG(e);return c=Ye("batches",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=BG(h),v=new jS;return Object.assign(v,g),v})}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=xG(this.apiClient,e);return c=Ye("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>_G(h))}else{const d=vG(this.apiClient,e);return c=Ye("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>yG(h))}}}function KG(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function JS(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>gj(s))),x(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function YG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&x(e,["displayName"],s);const o=m(t,["contents"]);if(e!==void 0&&o!=null){let h=qi(o);Array.isArray(h)&&(h=h.map(g=>JS(g))),x(e,["contents"],h)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&x(e,["systemInstruction"],JS(Vr(c)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>xj(g))),x(e,["tools"],h)}const d=m(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],vj(d)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function JG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&x(e,["displayName"],s);const o=m(t,["contents"]);if(e!==void 0&&o!=null){let g=qi(o);Array.isArray(g)&&(g=g.map(v=>v)),x(e,["contents"],g)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&x(e,["systemInstruction"],Vr(c));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>yj(v))),x(e,["tools"],g)}const d=m(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const h=m(t,["kmsKeyName"]);return e!==void 0&&h!=null&&x(e,["encryption_spec","kmsKeyName"],h),n}function WG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],dI(t,r));const i=m(e,["config"]);return i!=null&&YG(i,n),n}function ZG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],dI(t,r));const i=m(e,["config"]);return i!=null&&JG(i,n),n}function XG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],Ta(t,r)),n}function QG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],Ta(t,r)),n}function ej(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function tj(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function nj(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function rj(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const i=m(t,["name"]);if(i!=null&&x(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ij(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&x(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sj(t){const e={},n=m(t,["description"]);n!=null&&x(e,["description"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const i=m(t,["parameters"]);i!=null&&x(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&x(e,["parametersJsonSchema"],s);const o=m(t,["response"]);o!=null&&x(e,["response"],o);const c=m(t,["responseJsonSchema"]);if(c!=null&&x(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function aj(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],Ta(t,r)),n}function oj(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],Ta(t,r)),n}function lj(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function cj(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function uj(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function fj(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function dj(t){const e={},n=m(t,["config"]);return n!=null&&uj(n,e),e}function hj(t){const e={},n=m(t,["config"]);return n!=null&&fj(n,e),e}function pj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["cachedContents"],s)}return e}function mj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["cachedContents"],s)}return e}function gj(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&x(e,["fileData"],nj(s));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],rj(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],KG(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function vj(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],ij(r)),e}function xj(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],lj(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],cj(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function yj(t){const e={},n=m(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&x(e,["enterpriseWebSearch"],s);const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>sj(v))),x(e,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&x(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function _j(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function Ej(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function Tj(t,e){const n={},r=m(e,["name"]);r!=null&&x(n,["_url","name"],Ta(t,r));const i=m(e,["config"]);return i!=null&&_j(i,n),n}function wj(t,e){const n={},r=m(e,["name"]);r!=null&&x(n,["_url","name"],Ta(t,r));const i=m(e,["config"]);return i!=null&&Ej(i,n),n}class Sj extends Ea{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ml(ga.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=ZG(this.apiClient,e);return c=Ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=WG(this.apiClient,e);return c=Ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=oj(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=aj(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=QG(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=tj(h),v=new HS;return Object.assign(v,g),v})}else{const d=XG(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=ej(h),v=new HS;return Object.assign(v,g),v})}}async update(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=wj(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=Tj(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=hj(e);return c=Ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=mj(h),v=new GS;return Object.assign(v,g),v})}else{const d=dj(e);return c=Ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=pj(h),v=new GS;return Object.assign(v,g),v})}}}function ap(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(t){return this instanceof vt?(this.v=t,this):new vt(t)}function ms(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(T){return function(S){return Promise.resolve(S).then(T,g)}}function c(T,S){r[T]&&(i[T]=function(A){return new Promise(function(C,k){s.push([T,A,C,k])>1||f(T,A)})},S&&(i[T]=S(i[T])))}function f(T,S){try{d(r[T](S))}catch(A){v(s[0][3],A)}}function d(T){T.value instanceof vt?Promise.resolve(T.value.v).then(h,g):v(s[0][2],T)}function h(T){f("next",T)}function g(T){f("throw",T)}function v(T,S){T(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}function gs(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof WS=="function"?WS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,f){o=t[s](o),i(c,f,o.done,o.value)})}}function i(s,o,c,f){Promise.resolve(f).then(function(d){s({value:d,done:c})},o)}}function Aj(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:AI(n)}function AI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Cj(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ZS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!AI(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class bj{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Nj(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Nj{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Cj(s)}async sendMessage(e){var n;await this.sendPromise;const r=Vr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,c;const f=await i,d=(o=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,h=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];h!=null&&(v=(c=h.slice(g))!==null&&c!==void 0?c:[]);const T=d?[d]:[];this.recordHistory(r,T,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Vr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?ZS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ms(this,arguments,function*(){var i,s,o,c,f,d;const h=[];try{for(var g=!0,v=gs(e),T;T=yield vt(v.next()),i=T.done,!i;g=!0){c=T.value,g=!1;const S=c;if(Aj(S)){const A=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;A!==void 0&&h.push(A)}yield yield vt(S)}}catch(S){s={error:S}}finally{try{!g&&!i&&(o=v.return)&&(yield vt(o.call(v)))}finally{if(s)throw s.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...ZS(r)):this.history.push(e),this.history.push(...i)}}class td extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,td.prototype)}}function Ij(t){const e={},n=m(t,["file"]);return n!=null&&x(e,["file"],n),e}function Rj(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function kj(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","file"],xI(n)),e}function Dj(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Mj(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","file"],xI(n)),e}function Pj(t){const e={},n=m(t,["uris"]);return n!=null&&x(e,["uris"],n),e}function Fj(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Oj(t){const e={},n=m(t,["config"]);return n!=null&&Fj(n,e),e}function Lj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["files"],s)}return e}function Uj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),x(e,["files"],i)}return e}class Vj extends Ea{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ml(ga.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Oj(e);return s=Ye("files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Lj(f),h=new BH;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Ij(e);return s=Ye("upload/v1beta/files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Rj(f),h=new zH;return Object.assign(h,d),h})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Mj(e);return s=Ye("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kj(e);return s=Ye("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Dj(f),h=new HH;return Object.assign(h,d),h})}}async registerFilesInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Pj(e);return s=Ye("files:register",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Uj(f),h=new GH;return Object.assign(h,d),h})}}}function _0(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Bj(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>nq(s))),x(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function zj(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Hj(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const i=m(t,["name"]);if(i!=null&&x(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gj(t){const e={},n=m(t,["description"]);n!=null&&x(e,["description"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const i=m(t,["parameters"]);i!=null&&x(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&x(e,["parametersJsonSchema"],s);const o=m(t,["response"]);o!=null&&x(e,["response"],o);const c=m(t,["responseJsonSchema"]);if(c!=null&&x(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function jj(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const s=m(t,["candidateCount"]);s!=null&&x(e,["candidateCount"],s);const o=m(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const c=m(t,["frequencyPenalty"]);c!=null&&x(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&x(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const h=m(t,["mediaResolution"]);h!=null&&x(e,["mediaResolution"],h);const g=m(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const v=m(t,["responseLogprobs"]);v!=null&&x(e,["responseLogprobs"],v);const T=m(t,["responseMimeType"]);T!=null&&x(e,["responseMimeType"],T);const S=m(t,["responseModalities"]);S!=null&&x(e,["responseModalities"],S);const A=m(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const C=m(t,["routingConfig"]);C!=null&&x(e,["routingConfig"],C);const k=m(t,["seed"]);k!=null&&x(e,["seed"],k);const V=m(t,["speechConfig"]);V!=null&&x(e,["speechConfig"],V);const D=m(t,["stopSequences"]);D!=null&&x(e,["stopSequences"],D);const H=m(t,["temperature"]);H!=null&&x(e,["temperature"],H);const G=m(t,["thinkingConfig"]);G!=null&&x(e,["thinkingConfig"],G);const K=m(t,["topK"]);K!=null&&x(e,["topK"],K);const I=m(t,["topP"]);if(I!=null&&x(e,["topP"],I),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qj(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function $j(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Kj(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],U1(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],Bj(Vr(S)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let K=iu(A);Array.isArray(K)&&(K=K.map(I=>iq(ru(I)))),x(e,["setup","tools"],K)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],rq(C));const k=m(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&x(e,["setup","inputAudioTranscription"],k);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&x(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&x(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);if(e!==void 0&&G!=null&&x(e,["setup","proactivity"],G),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Yj(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],jj(r));const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],U1(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],Vr(S));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let I=iu(A);Array.isArray(I)&&(I=I.map(N=>sq(ru(N)))),x(e,["setup","tools"],I)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],C);const k=m(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&x(e,["setup","inputAudioTranscription"],k);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&x(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&x(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);e!==void 0&&G!=null&&x(e,["setup","proactivity"],G);const K=m(t,["explicitVadSignal"]);return e!==void 0&&K!=null&&x(e,["setup","explicitVadSignal"],K),n}function Jj(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],Kt(t,r));const i=m(e,["config"]);return i!=null&&x(n,["config"],Kj(i,n)),n}function Wj(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],Kt(t,r));const i=m(e,["config"]);return i!=null&&x(n,["config"],Yj(i,n)),n}function Zj(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function Xj(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function Qj(t){const e={},n=m(t,["media"]);if(n!=null){let d=hI(n);Array.isArray(d)&&(d=d.map(h=>_0(h))),x(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&x(e,["audio"],_0(mI(r)));const i=m(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&x(e,["video"],_0(pI(s)));const o=m(t,["text"]);o!=null&&x(e,["text"],o);const c=m(t,["activityStart"]);c!=null&&x(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&x(e,["activityEnd"],f),e}function eq(t){const e={},n=m(t,["media"]);if(n!=null){let d=hI(n);Array.isArray(d)&&(d=d.map(h=>h)),x(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&x(e,["audio"],mI(r));const i=m(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&x(e,["video"],pI(s));const o=m(t,["text"]);o!=null&&x(e,["text"],o);const c=m(t,["activityStart"]);c!=null&&x(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&x(e,["activityEnd"],f),e}function tq(t){const e={},n=m(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=m(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const s=m(t,["toolCallCancellation"]);s!=null&&x(e,["toolCallCancellation"],s);const o=m(t,["usageMetadata"]);o!=null&&x(e,["usageMetadata"],aq(o));const c=m(t,["goAway"]);c!=null&&x(e,["goAway"],c);const f=m(t,["sessionResumptionUpdate"]);f!=null&&x(e,["sessionResumptionUpdate"],f);const d=m(t,["voiceActivityDetectionSignal"]);d!=null&&x(e,["voiceActivityDetectionSignal"],d);const h=m(t,["voiceActivity"]);return h!=null&&x(e,["voiceActivity"],oq(h)),e}function nq(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&x(e,["fileData"],zj(s));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],Hj(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],_0(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function rq(t){const e={},n=m(t,["handle"]);if(n!=null&&x(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function iq(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],qj(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],$j(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function sq(t){const e={},n=m(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&x(e,["enterpriseWebSearch"],s);const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>Gj(v))),x(e,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&x(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function aq(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=m(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const s=m(t,["toolUsePromptTokenCount"]);s!=null&&x(e,["toolUsePromptTokenCount"],s);const o=m(t,["thoughtsTokenCount"]);o!=null&&x(e,["thoughtsTokenCount"],o);const c=m(t,["totalTokenCount"]);c!=null&&x(e,["totalTokenCount"],c);const f=m(t,["promptTokensDetails"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["promptTokensDetails"],T)}const d=m(t,["cacheTokensDetails"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["cacheTokensDetails"],T)}const h=m(t,["candidatesTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["responseTokensDetails"],T)}const g=m(t,["toolUsePromptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["toolUsePromptTokensDetails"],T)}const v=m(t,["trafficType"]);return v!=null&&x(e,["trafficType"],v),e}function oq(t){const e={},n=m(t,["type"]);return n!=null&&x(e,["voiceActivityType"],n),e}function lq(t,e){const n={},r=m(t,["data"]);if(r!=null&&x(n,["data"],r),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function cq(t,e){const n={},r=m(t,["content"]);r!=null&&x(n,["content"],r);const i=m(t,["citationMetadata"]);i!=null&&x(n,["citationMetadata"],uq(i));const s=m(t,["tokenCount"]);s!=null&&x(n,["tokenCount"],s);const o=m(t,["finishReason"]);o!=null&&x(n,["finishReason"],o);const c=m(t,["avgLogprobs"]);c!=null&&x(n,["avgLogprobs"],c);const f=m(t,["groundingMetadata"]);f!=null&&x(n,["groundingMetadata"],f);const d=m(t,["index"]);d!=null&&x(n,["index"],d);const h=m(t,["logprobsResult"]);h!=null&&x(n,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),x(n,["safetyRatings"],T)}const v=m(t,["urlContextMetadata"]);return v!=null&&x(n,["urlContextMetadata"],v),n}function uq(t,e){const n={},r=m(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),x(n,["citations"],i)}return n}function fq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["contents"]);if(s!=null){let o=qi(s);Array.isArray(o)&&(o=o.map(c=>c)),x(r,["contents"],o)}return r}function dq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(n,["tokensInfo"],s)}return n}function hq(t,e){const n={},r=m(t,["values"]);r!=null&&x(n,["values"],r);const i=m(t,["statistics"]);return i!=null&&x(n,["statistics"],pq(i)),n}function pq(t,e){const n={},r=m(t,["truncated"]);r!=null&&x(n,["truncated"],r);const i=m(t,["token_count"]);return i!=null&&x(n,["tokenCount"],i),n}function Pp(t,e){const n={},r=m(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>w$(o))),x(n,["parts"],s)}const i=m(t,["role"]);return i!=null&&x(n,["role"],i),n}function mq(t,e){const n={},r=m(t,["controlType"]);r!=null&&x(n,["controlType"],r);const i=m(t,["enableControlImageComputation"]);return i!=null&&x(n,["computeControl"],i),n}function gq(t,e){const n={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function vq(t,e,n){const r={},i=m(t,["systemInstruction"]);e!==void 0&&i!=null&&x(e,["systemInstruction"],Vr(i));const s=m(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>II(f))),x(e,["tools"],c)}const o=m(t,["generationConfig"]);return e!==void 0&&o!=null&&x(e,["generationConfig"],l$(o)),r}function xq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>Pp(f))),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&gq(o),r}function yq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&vq(o,r),r}function _q(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);i!=null&&x(n,["totalTokens"],i);const s=m(t,["cachedContentTokenCount"]);return s!=null&&x(n,["cachedContentTokenCount"],s),n}function Eq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);return i!=null&&x(n,["totalTokens"],i),n}function Tq(t,e,n){const r={},i=m(e,["model"]);return i!=null&&x(r,["_url","name"],Kt(t,i)),r}function wq(t,e,n){const r={},i=m(e,["model"]);return i!=null&&x(r,["_url","name"],Kt(t,i)),r}function Sq(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Aq(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Cq(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&x(e,["parameters","negativePrompt"],s);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&x(e,["parameters","sampleCount"],o);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&x(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&x(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&x(e,["parameters","includeSafetyAttributes"],v);const T=m(t,["includeRaiReason"]);e!==void 0&&T!=null&&x(e,["parameters","includeRaiReason"],T);const S=m(t,["language"]);e!==void 0&&S!=null&&x(e,["parameters","language"],S);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&x(e,["parameters","outputOptions","compressionQuality"],C);const k=m(t,["addWatermark"]);e!==void 0&&k!=null&&x(e,["parameters","addWatermark"],k);const V=m(t,["labels"]);e!==void 0&&V!=null&&x(e,["labels"],V);const D=m(t,["editMode"]);e!==void 0&&D!=null&&x(e,["parameters","editMode"],D);const H=m(t,["baseSteps"]);return e!==void 0&&H!=null&&x(e,["parameters","editConfig","baseSteps"],H),r}function bq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>I$(d))),x(r,["instances[0]","referenceImages"],f)}const c=m(e,["config"]);return c!=null&&Cq(c,r),r}function Nq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Fp(o))),x(n,["generatedImages"],s)}return n}function Iq(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&x(e,["requests[]","taskType"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&x(e,["requests[]","title"],s);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&x(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Rq(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&x(e,["instances[]","task_type"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&x(e,["instances[]","title"],s);const o=m(t,["outputDimensionality"]);e!==void 0&&o!=null&&x(e,["parameters","outputDimensionality"],o);const c=m(t,["mimeType"]);e!==void 0&&c!=null&&x(e,["instances[]","mimeType"],c);const f=m(t,["autoTruncate"]);return e!==void 0&&f!=null&&x(e,["parameters","autoTruncate"],f),r}function kq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["contents"]);if(s!=null){let f=F1(t,s);Array.isArray(f)&&(f=f.map(d=>d)),x(r,["requests[]","content"],f)}const o=m(e,["config"]);o!=null&&Iq(o,r);const c=m(e,["model"]);return c!==void 0&&x(r,["requests[]","model"],Kt(t,c)),r}function Dq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["contents"]);if(s!=null){let c=F1(t,s);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["instances[]","content"],c)}const o=m(e,["config"]);return o!=null&&Rq(o,r),r}function Mq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>c)),x(n,["embeddings"],o)}const s=m(t,["metadata"]);return s!=null&&x(n,["metadata"],s),n}function Pq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>hq(c))),x(n,["embeddings"],o)}const s=m(t,["metadata"]);return s!=null&&x(n,["metadata"],s),n}function Fq(t,e){const n={},r=m(t,["endpoint"]);r!=null&&x(n,["name"],r);const i=m(t,["deployedModelId"]);return i!=null&&x(n,["deployedModelId"],i),n}function Oq(t,e){const n={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["fileUri"]);r!=null&&x(n,["fileUri"],r);const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function Lq(t,e){const n={},r=m(t,["id"]);r!=null&&x(n,["id"],r);const i=m(t,["args"]);i!=null&&x(n,["args"],i);const s=m(t,["name"]);if(s!=null&&x(n,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Uq(t,e){const n={},r=m(t,["allowedFunctionNames"]);r!=null&&x(n,["allowedFunctionNames"],r);const i=m(t,["mode"]);if(i!=null&&x(n,["mode"],i),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Vq(t,e){const n={},r=m(t,["description"]);r!=null&&x(n,["description"],r);const i=m(t,["name"]);i!=null&&x(n,["name"],i);const s=m(t,["parameters"]);s!=null&&x(n,["parameters"],s);const o=m(t,["parametersJsonSchema"]);o!=null&&x(n,["parametersJsonSchema"],o);const c=m(t,["response"]);c!=null&&x(n,["response"],c);const f=m(t,["responseJsonSchema"]);if(f!=null&&x(n,["responseJsonSchema"],f),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function Bq(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&x(n,["systemInstruction"],Pp(Vr(s)));const o=m(e,["temperature"]);o!=null&&x(i,["temperature"],o);const c=m(e,["topP"]);c!=null&&x(i,["topP"],c);const f=m(e,["topK"]);f!=null&&x(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&x(i,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&x(i,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&x(i,["stopSequences"],g);const v=m(e,["responseLogprobs"]);v!=null&&x(i,["responseLogprobs"],v);const T=m(e,["logprobs"]);T!=null&&x(i,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&x(i,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&x(i,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&x(i,["seed"],C);const k=m(e,["responseMimeType"]);k!=null&&x(i,["responseMimeType"],k);const V=m(e,["responseSchema"]);V!=null&&x(i,["responseSchema"],O1(V));const D=m(e,["responseJsonSchema"]);if(D!=null&&x(i,["responseJsonSchema"],D),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=m(e,["safetySettings"]);if(n!==void 0&&H!=null){let ue=H;Array.isArray(ue)&&(ue=ue.map(pe=>R$(pe))),x(n,["safetySettings"],ue)}const G=m(e,["tools"]);if(n!==void 0&&G!=null){let ue=iu(G);Array.isArray(ue)&&(ue=ue.map(pe=>L$(ru(pe)))),x(n,["tools"],ue)}const K=m(e,["toolConfig"]);if(n!==void 0&&K!=null&&x(n,["toolConfig"],O$(K)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=m(e,["cachedContent"]);n!==void 0&&I!=null&&x(n,["cachedContent"],Ta(t,I));const N=m(e,["responseModalities"]);N!=null&&x(i,["responseModalities"],N);const b=m(e,["mediaResolution"]);b!=null&&x(i,["mediaResolution"],b);const F=m(e,["speechConfig"]);if(F!=null&&x(i,["speechConfig"],L1(F)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=m(e,["thinkingConfig"]);O!=null&&x(i,["thinkingConfig"],O);const M=m(e,["imageConfig"]);M!=null&&x(i,["imageConfig"],h$(M));const U=m(e,["enableEnhancedCivicAnswers"]);if(U!=null&&x(i,["enableEnhancedCivicAnswers"],U),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function zq(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&x(n,["systemInstruction"],Vr(s));const o=m(e,["temperature"]);o!=null&&x(i,["temperature"],o);const c=m(e,["topP"]);c!=null&&x(i,["topP"],c);const f=m(e,["topK"]);f!=null&&x(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&x(i,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&x(i,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&x(i,["stopSequences"],g);const v=m(e,["responseLogprobs"]);v!=null&&x(i,["responseLogprobs"],v);const T=m(e,["logprobs"]);T!=null&&x(i,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&x(i,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&x(i,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&x(i,["seed"],C);const k=m(e,["responseMimeType"]);k!=null&&x(i,["responseMimeType"],k);const V=m(e,["responseSchema"]);V!=null&&x(i,["responseSchema"],O1(V));const D=m(e,["responseJsonSchema"]);D!=null&&x(i,["responseJsonSchema"],D);const H=m(e,["routingConfig"]);H!=null&&x(i,["routingConfig"],H);const G=m(e,["modelSelectionConfig"]);G!=null&&x(i,["modelConfig"],G);const K=m(e,["safetySettings"]);if(n!==void 0&&K!=null){let le=K;Array.isArray(le)&&(le=le.map(se=>se)),x(n,["safetySettings"],le)}const I=m(e,["tools"]);if(n!==void 0&&I!=null){let le=iu(I);Array.isArray(le)&&(le=le.map(se=>II(ru(se)))),x(n,["tools"],le)}const N=m(e,["toolConfig"]);n!==void 0&&N!=null&&x(n,["toolConfig"],N);const b=m(e,["labels"]);n!==void 0&&b!=null&&x(n,["labels"],b);const F=m(e,["cachedContent"]);n!==void 0&&F!=null&&x(n,["cachedContent"],Ta(t,F));const O=m(e,["responseModalities"]);O!=null&&x(i,["responseModalities"],O);const M=m(e,["mediaResolution"]);M!=null&&x(i,["mediaResolution"],M);const U=m(e,["speechConfig"]);U!=null&&x(i,["speechConfig"],L1(U));const ue=m(e,["audioTimestamp"]);ue!=null&&x(i,["audioTimestamp"],ue);const pe=m(e,["thinkingConfig"]);pe!=null&&x(i,["thinkingConfig"],pe);const ae=m(e,["imageConfig"]);if(ae!=null&&x(i,["imageConfig"],p$(ae)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ee=m(e,["modelArmorConfig"]);return n!==void 0&&ee!=null&&x(n,["modelArmorConfig"],ee),i}function XS(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>Pp(f))),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&x(r,["generationConfig"],Bq(t,o,r)),r}function QS(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&x(r,["generationConfig"],zq(t,o,r)),r}function eA(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(h=>cq(h))),x(n,["candidates"],d)}const s=m(t,["modelVersion"]);s!=null&&x(n,["modelVersion"],s);const o=m(t,["promptFeedback"]);o!=null&&x(n,["promptFeedback"],o);const c=m(t,["responseId"]);c!=null&&x(n,["responseId"],c);const f=m(t,["usageMetadata"]);return f!=null&&x(n,["usageMetadata"],f),n}function tA(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),x(n,["candidates"],h)}const s=m(t,["createTime"]);s!=null&&x(n,["createTime"],s);const o=m(t,["modelVersion"]);o!=null&&x(n,["modelVersion"],o);const c=m(t,["promptFeedback"]);c!=null&&x(n,["promptFeedback"],c);const f=m(t,["responseId"]);f!=null&&x(n,["responseId"],f);const d=m(t,["usageMetadata"]);return d!=null&&x(n,["usageMetadata"],d),n}function Hq(t,e,n){const r={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const s=m(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const o=m(t,["guidanceScale"]);if(e!==void 0&&o!=null&&x(e,["parameters","guidanceScale"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&x(e,["parameters","safetySetting"],c);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const d=m(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&x(e,["parameters","includeSafetyAttributes"],d);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&x(e,["parameters","includeRaiReason"],h);const g=m(t,["language"]);e!==void 0&&g!=null&&x(e,["parameters","language"],g);const v=m(t,["outputMimeType"]);e!==void 0&&v!=null&&x(e,["parameters","outputOptions","mimeType"],v);const T=m(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&x(e,["parameters","outputOptions","compressionQuality"],T),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=m(t,["imageSize"]);if(e!==void 0&&S!=null&&x(e,["parameters","sampleImageSize"],S),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Gq(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&x(e,["parameters","negativePrompt"],s);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&x(e,["parameters","sampleCount"],o);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&x(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&x(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&x(e,["parameters","includeSafetyAttributes"],v);const T=m(t,["includeRaiReason"]);e!==void 0&&T!=null&&x(e,["parameters","includeRaiReason"],T);const S=m(t,["language"]);e!==void 0&&S!=null&&x(e,["parameters","language"],S);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&x(e,["parameters","outputOptions","compressionQuality"],C);const k=m(t,["addWatermark"]);e!==void 0&&k!=null&&x(e,["parameters","addWatermark"],k);const V=m(t,["labels"]);e!==void 0&&V!=null&&x(e,["labels"],V);const D=m(t,["imageSize"]);e!==void 0&&D!=null&&x(e,["parameters","sampleImageSize"],D);const H=m(t,["enhancePrompt"]);return e!==void 0&&H!=null&&x(e,["parameters","enhancePrompt"],H),r}function jq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["config"]);return o!=null&&Hq(o,r),r}function qq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["config"]);return o!=null&&Gq(o,r),r}function $q(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>i$(c))),x(n,["generatedImages"],o)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&x(n,["positivePromptSafetyAttributes"],bI(s)),n}function Kq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>Fp(c))),x(n,["generatedImages"],o)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&x(n,["positivePromptSafetyAttributes"],NI(s)),n}function Yq(t,e,n){const r={},i=m(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(t,["durationSeconds"]);if(e!==void 0&&s!=null&&x(e,["parameters","durationSeconds"],s),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const c=m(t,["resolution"]);e!==void 0&&c!=null&&x(e,["parameters","resolution"],c);const f=m(t,["personGeneration"]);if(e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(t,["negativePrompt"]);e!==void 0&&d!=null&&x(e,["parameters","negativePrompt"],d);const h=m(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&x(e,["parameters","enhancePrompt"],h),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(t,["lastFrame"]);e!==void 0&&g!=null&&x(e,["instances[0]","lastFrame"],Op(g));const v=m(t,["referenceImages"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>W$(S))),x(e,["instances[0]","referenceImages"],T)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Jq(t,e,n){const r={},i=m(t,["numberOfVideos"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&x(e,["parameters","storageUri"],s);const o=m(t,["fps"]);e!==void 0&&o!=null&&x(e,["parameters","fps"],o);const c=m(t,["durationSeconds"]);e!==void 0&&c!=null&&x(e,["parameters","durationSeconds"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&x(e,["parameters","seed"],f);const d=m(t,["aspectRatio"]);e!==void 0&&d!=null&&x(e,["parameters","aspectRatio"],d);const h=m(t,["resolution"]);e!==void 0&&h!=null&&x(e,["parameters","resolution"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["pubsubTopic"]);e!==void 0&&v!=null&&x(e,["parameters","pubsubTopic"],v);const T=m(t,["negativePrompt"]);e!==void 0&&T!=null&&x(e,["parameters","negativePrompt"],T);const S=m(t,["enhancePrompt"]);e!==void 0&&S!=null&&x(e,["parameters","enhancePrompt"],S);const A=m(t,["generateAudio"]);e!==void 0&&A!=null&&x(e,["parameters","generateAudio"],A);const C=m(t,["lastFrame"]);e!==void 0&&C!=null&&x(e,["instances[0]","lastFrame"],xs(C));const k=m(t,["referenceImages"]);if(e!==void 0&&k!=null){let H=k;Array.isArray(H)&&(H=H.map(G=>Z$(G))),x(e,["instances[0]","referenceImages"],H)}const V=m(t,["mask"]);e!==void 0&&V!=null&&x(e,["instances[0]","mask"],J$(V));const D=m(t,["compressionQuality"]);return e!==void 0&&D!=null&&x(e,["parameters","compressionQuality"],D),r}function Wq(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const i=m(t,["metadata"]);i!=null&&x(n,["metadata"],i);const s=m(t,["done"]);s!=null&&x(n,["done"],s);const o=m(t,["error"]);o!=null&&x(n,["error"],o);const c=m(t,["response","generateVideoResponse"]);return c!=null&&x(n,["response"],e$(c)),n}function Zq(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const i=m(t,["metadata"]);i!=null&&x(n,["metadata"],i);const s=m(t,["done"]);s!=null&&x(n,["done"],s);const o=m(t,["error"]);o!=null&&x(n,["error"],o);const c=m(t,["response"]);return c!=null&&x(n,["response"],t$(c)),n}function Xq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["image"]);o!=null&&x(r,["instances[0]","image"],Op(o));const c=m(e,["video"]);c!=null&&x(r,["instances[0]","video"],RI(c));const f=m(e,["source"]);f!=null&&n$(f,r);const d=m(e,["config"]);return d!=null&&Yq(d,r),r}function Qq(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["image"]);o!=null&&x(r,["instances[0]","image"],xs(o));const c=m(e,["video"]);c!=null&&x(r,["instances[0]","video"],kI(c));const f=m(e,["source"]);f!=null&&r$(f,r);const d=m(e,["config"]);return d!=null&&Jq(d,r),r}function e$(t,e){const n={},r=m(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>a$(c))),x(n,["generatedVideos"],o)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&x(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&x(n,["raiMediaFilteredReasons"],s),n}function t$(t,e){const n={},r=m(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>o$(c))),x(n,["generatedVideos"],o)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&x(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&x(n,["raiMediaFilteredReasons"],s),n}function n$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&x(e,["instances[0]","image"],Op(s));const o=m(t,["video"]);return e!==void 0&&o!=null&&x(e,["instances[0]","video"],RI(o)),r}function r$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&x(e,["instances[0]","image"],xs(s));const o=m(t,["video"]);return e!==void 0&&o!=null&&x(e,["instances[0]","video"],kI(o)),r}function i$(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["image"],m$(r));const i=m(t,["raiFilteredReason"]);i!=null&&x(n,["raiFilteredReason"],i);const s=m(t,["_self"]);return s!=null&&x(n,["safetyAttributes"],bI(s)),n}function Fp(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["image"],CI(r));const i=m(t,["raiFilteredReason"]);i!=null&&x(n,["raiFilteredReason"],i);const s=m(t,["_self"]);s!=null&&x(n,["safetyAttributes"],NI(s));const o=m(t,["prompt"]);return o!=null&&x(n,["enhancedPrompt"],o),n}function s$(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["mask"],CI(r));const i=m(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(n,["labels"],s)}return n}function a$(t,e){const n={},r=m(t,["video"]);return r!=null&&x(n,["video"],K$(r)),n}function o$(t,e){const n={},r=m(t,["_self"]);return r!=null&&x(n,["video"],Y$(r)),n}function l$(t,e){const n={},r=m(t,["modelSelectionConfig"]);r!=null&&x(n,["modelConfig"],r);const i=m(t,["responseJsonSchema"]);i!=null&&x(n,["responseJsonSchema"],i);const s=m(t,["audioTimestamp"]);s!=null&&x(n,["audioTimestamp"],s);const o=m(t,["candidateCount"]);o!=null&&x(n,["candidateCount"],o);const c=m(t,["enableAffectiveDialog"]);c!=null&&x(n,["enableAffectiveDialog"],c);const f=m(t,["frequencyPenalty"]);f!=null&&x(n,["frequencyPenalty"],f);const d=m(t,["logprobs"]);d!=null&&x(n,["logprobs"],d);const h=m(t,["maxOutputTokens"]);h!=null&&x(n,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&x(n,["mediaResolution"],g);const v=m(t,["presencePenalty"]);v!=null&&x(n,["presencePenalty"],v);const T=m(t,["responseLogprobs"]);T!=null&&x(n,["responseLogprobs"],T);const S=m(t,["responseMimeType"]);S!=null&&x(n,["responseMimeType"],S);const A=m(t,["responseModalities"]);A!=null&&x(n,["responseModalities"],A);const C=m(t,["responseSchema"]);C!=null&&x(n,["responseSchema"],C);const k=m(t,["routingConfig"]);k!=null&&x(n,["routingConfig"],k);const V=m(t,["seed"]);V!=null&&x(n,["seed"],V);const D=m(t,["speechConfig"]);D!=null&&x(n,["speechConfig"],D);const H=m(t,["stopSequences"]);H!=null&&x(n,["stopSequences"],H);const G=m(t,["temperature"]);G!=null&&x(n,["temperature"],G);const K=m(t,["thinkingConfig"]);K!=null&&x(n,["thinkingConfig"],K);const I=m(t,["topK"]);I!=null&&x(n,["topK"],I);const N=m(t,["topP"]);if(N!=null&&x(n,["topP"],N),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function c$(t,e,n){const r={},i=m(e,["model"]);return i!=null&&x(r,["_url","name"],Kt(t,i)),r}function u$(t,e,n){const r={},i=m(e,["model"]);return i!=null&&x(r,["_url","name"],Kt(t,i)),r}function f$(t,e){const n={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=m(t,["enableWidget"]);return r!=null&&x(n,["enableWidget"],r),n}function d$(t,e){const n={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=m(t,["timeRangeFilter"]);return r!=null&&x(n,["timeRangeFilter"],r),n}function h$(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const i=m(t,["imageSize"]);if(i!=null&&x(n,["imageSize"],i),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function p$(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const i=m(t,["imageSize"]);i!=null&&x(n,["imageSize"],i);const s=m(t,["personGeneration"]);s!=null&&x(n,["personGeneration"],s);const o=m(t,["outputMimeType"]);o!=null&&x(n,["imageOutputOptions","mimeType"],o);const c=m(t,["outputCompressionQuality"]);return c!=null&&x(n,["imageOutputOptions","compressionQuality"],c),n}function m$(t,e){const n={},r=m(t,["bytesBase64Encoded"]);r!=null&&x(n,["imageBytes"],ko(r));const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function CI(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&x(n,["imageBytes"],ko(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function Op(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(t,["imageBytes"]);r!=null&&x(n,["bytesBase64Encoded"],ko(r));const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function xs(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const i=m(t,["imageBytes"]);i!=null&&x(n,["bytesBase64Encoded"],ko(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function g$(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const c=m(e,["filter"]);n!==void 0&&c!=null&&x(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&x(n,["_url","models_url"],yI(t,f)),i}function v$(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const c=m(e,["filter"]);n!==void 0&&c!=null&&x(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&x(n,["_url","models_url"],yI(t,f)),i}function x$(t,e,n){const r={},i=m(e,["config"]);return i!=null&&g$(t,i,r),r}function y$(t,e,n){const r={},i=m(e,["config"]);return i!=null&&v$(t,i,r),r}function _$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let o=_I(s);Array.isArray(o)&&(o=o.map(c=>ix(c))),x(n,["models"],o)}return n}function E$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let o=_I(s);Array.isArray(o)&&(o=o.map(c=>sx(c))),x(n,["models"],o)}return n}function T$(t,e){const n={},r=m(t,["maskMode"]);r!=null&&x(n,["maskMode"],r);const i=m(t,["segmentationClasses"]);i!=null&&x(n,["maskClasses"],i);const s=m(t,["maskDilation"]);return s!=null&&x(n,["dilation"],s),n}function ix(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const i=m(t,["displayName"]);i!=null&&x(n,["displayName"],i);const s=m(t,["description"]);s!=null&&x(n,["description"],s);const o=m(t,["version"]);o!=null&&x(n,["version"],o);const c=m(t,["_self"]);c!=null&&x(n,["tunedModelInfo"],U$(c));const f=m(t,["inputTokenLimit"]);f!=null&&x(n,["inputTokenLimit"],f);const d=m(t,["outputTokenLimit"]);d!=null&&x(n,["outputTokenLimit"],d);const h=m(t,["supportedGenerationMethods"]);h!=null&&x(n,["supportedActions"],h);const g=m(t,["temperature"]);g!=null&&x(n,["temperature"],g);const v=m(t,["maxTemperature"]);v!=null&&x(n,["maxTemperature"],v);const T=m(t,["topP"]);T!=null&&x(n,["topP"],T);const S=m(t,["topK"]);S!=null&&x(n,["topK"],S);const A=m(t,["thinking"]);return A!=null&&x(n,["thinking"],A),n}function sx(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const i=m(t,["displayName"]);i!=null&&x(n,["displayName"],i);const s=m(t,["description"]);s!=null&&x(n,["description"],s);const o=m(t,["versionId"]);o!=null&&x(n,["version"],o);const c=m(t,["deployedModels"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>Fq(T))),x(n,["endpoints"],v)}const f=m(t,["labels"]);f!=null&&x(n,["labels"],f);const d=m(t,["_self"]);d!=null&&x(n,["tunedModelInfo"],V$(d));const h=m(t,["defaultCheckpointId"]);h!=null&&x(n,["defaultCheckpointId"],h);const g=m(t,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>T)),x(n,["checkpoints"],v)}return n}function w$(t,e){const n={},r=m(t,["mediaResolution"]);r!=null&&x(n,["mediaResolution"],r);const i=m(t,["codeExecutionResult"]);i!=null&&x(n,["codeExecutionResult"],i);const s=m(t,["executableCode"]);s!=null&&x(n,["executableCode"],s);const o=m(t,["fileData"]);o!=null&&x(n,["fileData"],Oq(o));const c=m(t,["functionCall"]);c!=null&&x(n,["functionCall"],Lq(c));const f=m(t,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const d=m(t,["inlineData"]);d!=null&&x(n,["inlineData"],lq(d));const h=m(t,["text"]);h!=null&&x(n,["text"],h);const g=m(t,["thought"]);g!=null&&x(n,["thought"],g);const v=m(t,["thoughtSignature"]);v!=null&&x(n,["thoughtSignature"],v);const T=m(t,["videoMetadata"]);return T!=null&&x(n,["videoMetadata"],T),n}function S$(t,e){const n={},r=m(t,["productImage"]);return r!=null&&x(n,["image"],xs(r)),n}function A$(t,e,n){const r={},i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const s=m(t,["baseSteps"]);e!==void 0&&s!=null&&x(e,["parameters","baseSteps"],s);const o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&x(e,["parameters","storageUri"],o);const c=m(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const f=m(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&x(e,["parameters","personGeneration"],d);const h=m(t,["addWatermark"]);e!==void 0&&h!=null&&x(e,["parameters","addWatermark"],h);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","mimeType"],g);const v=m(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&x(e,["parameters","outputOptions","compressionQuality"],v);const T=m(t,["enhancePrompt"]);e!==void 0&&T!=null&&x(e,["parameters","enhancePrompt"],T);const S=m(t,["labels"]);return e!==void 0&&S!=null&&x(e,["labels"],S),r}function C$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["source"]);s!=null&&N$(s,r);const o=m(e,["config"]);return o!=null&&A$(o,r),r}function b$(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Fp(s))),x(n,["generatedImages"],i)}return n}function N$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const s=m(t,["personImage"]);e!==void 0&&s!=null&&x(e,["instances[0]","personImage","image"],xs(s));const o=m(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>S$(f))),x(e,["instances[0]","productImages"],c)}return r}function I$(t,e){const n={},r=m(t,["referenceImage"]);r!=null&&x(n,["referenceImage"],xs(r));const i=m(t,["referenceId"]);i!=null&&x(n,["referenceId"],i);const s=m(t,["referenceType"]);s!=null&&x(n,["referenceType"],s);const o=m(t,["maskImageConfig"]);o!=null&&x(n,["maskImageConfig"],T$(o));const c=m(t,["controlImageConfig"]);c!=null&&x(n,["controlImageConfig"],mq(c));const f=m(t,["styleImageConfig"]);f!=null&&x(n,["styleImageConfig"],f);const d=m(t,["subjectImageConfig"]);return d!=null&&x(n,["subjectImageConfig"],d),n}function bI(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&x(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&x(n,["contentType"],s),n}function NI(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&x(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&x(n,["contentType"],s),n}function R$(t,e){const n={},r=m(t,["category"]);if(r!=null&&x(n,["category"],r),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(t,["threshold"]);return i!=null&&x(n,["threshold"],i),n}function k$(t,e){const n={},r=m(t,["image"]);return r!=null&&x(n,["image"],xs(r)),n}function D$(t,e,n){const r={},i=m(t,["mode"]);e!==void 0&&i!=null&&x(e,["parameters","mode"],i);const s=m(t,["maxPredictions"]);e!==void 0&&s!=null&&x(e,["parameters","maxPredictions"],s);const o=m(t,["confidenceThreshold"]);e!==void 0&&o!=null&&x(e,["parameters","confidenceThreshold"],o);const c=m(t,["maskDilation"]);e!==void 0&&c!=null&&x(e,["parameters","maskDilation"],c);const f=m(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&x(e,["parameters","binaryColorThreshold"],f);const d=m(t,["labels"]);return e!==void 0&&d!=null&&x(e,["labels"],d),r}function M$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["source"]);s!=null&&F$(s,r);const o=m(e,["config"]);return o!=null&&D$(o,r),r}function P$(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s$(s))),x(n,["generatedMasks"],i)}return n}function F$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&x(e,["instances[0]","image"],xs(s));const o=m(t,["scribbleImage"]);return e!==void 0&&o!=null&&x(e,["instances[0]","scribble"],k$(o)),r}function O$(t,e){const n={},r=m(t,["retrievalConfig"]);r!=null&&x(n,["retrievalConfig"],r);const i=m(t,["functionCallingConfig"]);return i!=null&&x(n,["functionCallingConfig"],Uq(i)),n}function L$(t,e){const n={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["computerUse"]);r!=null&&x(n,["computerUse"],r);const i=m(t,["fileSearch"]);i!=null&&x(n,["fileSearch"],i);const s=m(t,["codeExecution"]);if(s!=null&&x(n,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>v)),x(n,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(n,["googleMaps"],f$(c));const f=m(t,["googleSearch"]);f!=null&&x(n,["googleSearch"],d$(f));const d=m(t,["googleSearchRetrieval"]);d!=null&&x(n,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(n,["urlContext"],h),n}function II(t,e){const n={},r=m(t,["retrieval"]);r!=null&&x(n,["retrieval"],r);const i=m(t,["computerUse"]);if(i!=null&&x(n,["computerUse"],i),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=m(t,["codeExecution"]);s!=null&&x(n,["codeExecution"],s);const o=m(t,["enterpriseWebSearch"]);o!=null&&x(n,["enterpriseWebSearch"],o);const c=m(t,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>Vq(T))),x(n,["functionDeclarations"],v)}const f=m(t,["googleMaps"]);f!=null&&x(n,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&x(n,["googleSearch"],d);const h=m(t,["googleSearchRetrieval"]);h!=null&&x(n,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&x(n,["urlContext"],g),n}function U$(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&x(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&x(n,["updateTime"],s),n}function V$(t,e){const n={},r=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&x(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&x(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&x(n,["updateTime"],s),n}function B$(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&x(e,["description"],s);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&x(e,["defaultCheckpointId"],o),r}function z$(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&x(e,["description"],s);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&x(e,["defaultCheckpointId"],o),r}function H$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","name"],Kt(t,i));const s=m(e,["config"]);return s!=null&&B$(s,r),r}function G$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["config"]);return s!=null&&z$(s,r),r}function j$(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const s=m(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&x(e,["parameters","safetySetting"],s);const o=m(t,["personGeneration"]);e!==void 0&&o!=null&&x(e,["parameters","personGeneration"],o);const c=m(t,["includeRaiReason"]);e!==void 0&&c!=null&&x(e,["parameters","includeRaiReason"],c);const f=m(t,["outputMimeType"]);e!==void 0&&f!=null&&x(e,["parameters","outputOptions","mimeType"],f);const d=m(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&x(e,["parameters","outputOptions","compressionQuality"],d);const h=m(t,["enhanceInputImage"]);e!==void 0&&h!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=m(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const v=m(t,["labels"]);e!==void 0&&v!=null&&x(e,["labels"],v);const T=m(t,["numberOfImages"]);e!==void 0&&T!=null&&x(e,["parameters","sampleCount"],T);const S=m(t,["mode"]);return e!==void 0&&S!=null&&x(e,["parameters","mode"],S),r}function q$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],Kt(t,i));const s=m(e,["image"]);s!=null&&x(r,["instances[0]","image"],xs(s));const o=m(e,["upscaleFactor"]);o!=null&&x(r,["parameters","upscaleConfig","upscaleFactor"],o);const c=m(e,["config"]);return c!=null&&j$(c,r),r}function $$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Fp(o))),x(n,["generatedImages"],s)}return n}function K$(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["uri"],r);const i=m(t,["encodedVideo"]);i!=null&&x(n,["videoBytes"],ko(i));const s=m(t,["encoding"]);return s!=null&&x(n,["mimeType"],s),n}function Y$(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["uri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&x(n,["videoBytes"],ko(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function J$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["_self"],xs(r));const i=m(t,["maskMode"]);return i!=null&&x(n,["maskMode"],i),n}function W$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["image"],Op(r));const i=m(t,["referenceType"]);return i!=null&&x(n,["referenceType"],i),n}function Z$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["image"],xs(r));const i=m(t,["referenceType"]);return i!=null&&x(n,["referenceType"],i),n}function RI(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["uri"],r);const i=m(t,["videoBytes"]);i!=null&&x(n,["encodedVideo"],ko(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["encoding"],s),n}function kI(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["gcsUri"],r);const i=m(t,["videoBytes"]);i!=null&&x(n,["bytesBase64Encoded"],ko(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function X$(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function Q$(t){const e={},n=m(t,["config"]);return n!=null&&X$(n,e),e}function eK(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function tK(t){const e={},n=m(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&eK(r,e),e}function nK(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function rK(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["customMetadata"],s)}const i=m(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function iK(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response"]);return o!=null&&x(e,["response"],aK(o)),e}function sK(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=m(t,["config"]);return i!=null&&rK(i,e),e}function aK(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function oK(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function lK(t){const e={},n=m(t,["config"]);return n!=null&&oK(n,e),e}function cK(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["fileSearchStores"],s)}return e}function DI(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=m(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const s=m(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),x(e,["customMetadata"],c)}const o=m(t,["chunkingConfig"]);return e!==void 0&&o!=null&&x(e,["chunkingConfig"],o),n}function uK(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&DI(r,e),e}function fK(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}const dK="Content-Type",hK="X-Server-Timeout",pK="User-Agent",ax="x-goog-api-client",mK="1.40.0",gK=`google-genai-sdk/${mK}`,vK="v1beta1",xK="v1beta";class yK{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:vK}else{if(!this.clientOptions.apiKey)throw new td({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:xK,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===ex.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))i.searchParams.append(o,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>s.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&_K(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nA(i),new tx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return ms(this,arguments,function*(){var r;const i=(r=e?.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield vt(i.read());if(d){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=s.decode(h,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),C=A.status,k=A.code,V=`got status: ${C}. ${JSON.stringify(S)}`;if(k>=400&&k<600)throw new td({message:V,status:k})}}catch(S){if(S.name==="ApiError")throw S}o+=g;let v=-1,T=0;for(;;){v=-1,T=0;for(const C of f){const k=o.indexOf(C);k!==-1&&(v===-1||k<v)&&(v=k,T=C.length)}if(v===-1)break;const S=o.substring(0,v);o=o.substring(v+T);const A=S.trim();if(A.startsWith(c)){const C=A.substring(c.length).trim();try{const k=new Response(C,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield vt(new tx(k))}catch(k){throw new Error(`exception parsing stream chunk ${C}. ${k}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=gK+" "+this.clientOptions.userAgentExtra;return e[pK]=n,e[ax]=n,e[dK]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(hK,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const c=(r=n?.mimeType)!==null&&r!==void 0?r:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(e),h=Ye("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n?.httpOptions);return s.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),c=String(o.size),f=(i=r?.mimeType)!==null&&i!==void 0?i:o.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),g={};r!=null&&DI(r,g);const v=await this.fetchUploadUrl(d,c,f,h,g,r?.httpOptions);return s.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var c;let f={};o?f=o:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:f});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function nA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new td({message:i,status:n}):new Error(i)}}function _K(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const c=Object.assign({},s);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const d=o[f],h=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?c[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(n,e);t.body=JSON.stringify(i)}const EK="mcp_used/unknown";let TK=!1;function MI(t){for(const e of t)if(wK(e)||typeof e=="object"&&"inputSchema"in e)return!0;return TK}function PI(t){var e;const n=(e=t[ax])!==null&&e!==void 0?e:"";t[ax]=(n+` ${EK}`).trimStart()}function wK(t){return t!==null&&typeof t=="object"&&t instanceof V1}function SK(t){return ms(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const o=yield vt(n.listTools({cursor:i}));for(const c of o.tools)yield yield vt(c),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class V1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new V1(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const h of this.mcpClients)try{for(var c=!0,f=(n=void 0,gs(SK(h))),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const g=i;o.push(g);const v=g.name;if(s[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);s[v]=h}}catch(g){n={error:g}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),QH(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}async function AK(t,e,n){const r=new qH;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class CK{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=IK(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const h=new Promise(D=>{d=D}),g=e.callbacks,v=function(){d({})},T=this.apiClient,S={onopen:v,onmessage:D=>{AK(T,g.onmessage,D)},onerror:(n=g?.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=g?.onclose)!==null&&r!==void 0?r:function(D){}},A=this.webSocketFactory.create(f,NK(o),S);A.connect(),await h;const V={setup:{model:Kt(this.apiClient,e.model)}};return A.send(JSON.stringify(V)),new bK(A,this.apiClient)}}class bK{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Xj(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Zj(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(kc.PLAY)}pause(){this.sendPlaybackControl(kc.PAUSE)}stop(){this.sendPlaybackControl(kc.STOP)}resetContext(){this.sendPlaybackControl(kc.RESET_CONTEXT)}close(){this.conn.close()}}function NK(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function IK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const RK="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kK(t,e,n){const r=new jH;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=tq(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class DK{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new CK(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&MI(e.config.tools)&&PI(g);const v=OK(g);if(this.apiClient.isVertexAI()){const b=this.apiClient.getProject(),F=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),M=!!b&&!!F||!!O;this.apiClient.getCustomBaseUrl()&&!M?h=f:(h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const b=this.apiClient.getApiKey();let F="BidiGenerateContent",O="key";b?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",O="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${O}=${b}`}let T=()=>{};const S=new Promise(b=>{T=b}),A=e.callbacks,C=function(){var b;(b=A?.onopen)===null||b===void 0||b.call(A),T({})},k=this.apiClient,V={onopen:C,onmessage:b=>{kK(k,A.onmessage,b)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=A?.onclose)!==null&&r!==void 0?r:function(b){}},D=this.webSocketFactory.create(h,FK(v),V);D.connect(),await S;let H=Kt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const b=this.apiClient.getProject(),F=this.apiClient.getLocation();b&&F&&(H=`projects/${b}/locations/${F}/`+H)}let G={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rp.AUDIO]}:e.config.responseModalities=[rp.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],I=[];for(const b of K)if(this.isCallableTool(b)){const F=b;I.push(await F.tool())}else I.push(b);I.length>0&&(e.config.tools=I);const N={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=Wj(this.apiClient,N):G=Jj(this.apiClient,N),delete G.config,D.send(JSON.stringify(G)),new PK(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const MK={turnComplete:!0};class PK{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=qi(n.turns),e.isVertexAI()||(r=r.map(i=>Pp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(RK)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},MK),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:eq(e)}:n={realtimeInput:Qj(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function FK(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function OK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const rA=10;function iA(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t?.tools)!==null&&n!==void 0?n:[])if(Vc(o)){i=!0;break}if(!i)return!0;const s=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Vc(t){return"callTool"in t&&typeof t.callTool=="function"}function LK(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Vc(i)))!==null&&r!==void 0?r:!1}function sA(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Vc(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function aA(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class UK extends Ea{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!LK(n)||iA(n.config))return await this.generateContentInternal(f);const d=sA(n);if(d.length>0){const A=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,g;const v=qi(f.contents),T=(s=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:rA;let S=0;for(;S<T&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,C=[];for(const k of(c=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Vc(k)){const D=await k.callTool(h.functionCalls);C.push(...D)}S++,g={role:"user",parts:C},f.contents=qi(f.contents),f.contents.push(A),f.contents.push(g),aA(f.config)&&(v.push(A),v.push(g))}return aA(f.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,s,o,c;if(this.maybeMoveToResponseJsonSchem(n),iA(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=sA(n);if(f.length>0){const g=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,h=(c=(o=n?.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r?.generatedImages)for(const f of r.generatedImages)f&&f?.safetyAttributes&&((i=f?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=f?.safetyAttributes:o.push(f);let c;return s?c={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Ml(ga.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async f=>Vc(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&MI(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),PI(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Vc(o)){const c=o,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,c)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:rA;let o=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,h,g){return ms(this,arguments,function*(){for(var v,T,S,A,C,k;c<s;){o&&(c++,o=!1);const G=yield vt(d.processParamsMaybeAddMcpUsage(g)),K=yield vt(d.generateContentStreamInternal(G)),I=[],N=[];try{for(var V=!0,D=(T=void 0,gs(K)),H;H=yield vt(D.next()),v=H.done,!v;V=!0){A=H.value,V=!1;const b=A;if(yield yield vt(b),b.candidates&&(!((C=b.candidates[0])===null||C===void 0)&&C.content)){N.push(b.candidates[0].content);for(const F of(k=b.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(c<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const O=yield vt(h.get(F.functionCall.name).callTool([F.functionCall]));I.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(b){T={error:b}}finally{try{!V&&!v&&(S=D.return)&&(yield vt(S.call(D)))}finally{if(T)throw T.error}}if(I.length>0){o=!0;const b=new of;b.candidates=[{content:{role:"user",parts:I}}],yield yield vt(b);const F=[];F.push(...N),F.push({role:"user",parts:I});const O=qi(g.contents).concat(F);g.contents=O}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=QS(this.apiClient,e);return c=Ye("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=tA(h),v=new of;return Object.assign(v,g),v})}else{const d=XS(this.apiClient,e);return c=Ye("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=eA(h),v=new of;return Object.assign(v,g),v})}}async generateContentStreamInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=QS(this.apiClient,e);return c=Ye("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return ms(this,arguments,function*(){var v,T,S,A;try{for(var C=!0,k=gs(g),V;V=yield vt(k.next()),v=V.done,!v;C=!0){A=V.value,C=!1;const D=A,H=tA(yield vt(D.json()),e);H.sdkHttpResponse={headers:D.headers};const G=new of;Object.assign(G,H),yield yield vt(G)}}catch(D){T={error:D}}finally{try{!C&&!v&&(S=k.return)&&(yield vt(S.call(k)))}finally{if(T)throw T.error}}})})}else{const d=XS(this.apiClient,e);return c=Ye("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(g){return ms(this,arguments,function*(){var v,T,S,A;try{for(var C=!0,k=gs(g),V;V=yield vt(k.next()),v=V.done,!v;C=!0){A=V.value,C=!1;const D=A,H=eA(yield vt(D.json()),e);H.sdkHttpResponse={headers:D.headers};const G=new of;Object.assign(G,H),yield yield vt(G)}}catch(D){T={error:D}}finally{try{!C&&!v&&(S=k.return)&&(yield vt(S.call(k)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Dq(this.apiClient,e);return c=Ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Pq(h),v=new FS;return Object.assign(v,g),v})}else{const d=kq(this.apiClient,e);return c=Ye("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Mq(h),v=new FS;return Object.assign(v,g),v})}}async generateImagesInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=qq(this.apiClient,e);return c=Ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Kq(h),v=new OS;return Object.assign(v,g),v})}else{const d=jq(this.apiClient,e);return c=Ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=$q(h),v=new OS;return Object.assign(v,g),v})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=bq(this.apiClient,e);return s=Ye("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Nq(f),h=new DH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=q$(this.apiClient,e);return s=Ye("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=$$(f),h=new MH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=C$(this.apiClient,e);return s=Ye("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=b$(f),h=new PH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=M$(this.apiClient,e);return s=Ye("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=P$(f),h=new FH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=u$(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>sx(h))}else{const d=c$(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>ix(h))}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=y$(this.apiClient,e);return c=Ye("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=E$(h),v=new LS;return Object.assign(v,g),v})}else{const d=x$(this.apiClient,e);return c=Ye("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=_$(h),v=new LS;return Object.assign(v,g),v})}}async update(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=G$(this.apiClient,e);return c=Ye("{model}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>sx(h))}else{const d=H$(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>ix(h))}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=wq(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Aq(h),v=new US;return Object.assign(v,g),v})}else{const d=Tq(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Sq(h),v=new US;return Object.assign(v,g),v})}}async countTokens(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=yq(this.apiClient,e);return c=Ye("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Eq(h),v=new VS;return Object.assign(v,g),v})}else{const d=xq(this.apiClient,e);return c=Ye("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=_q(h),v=new VS;return Object.assign(v,g),v})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=fq(this.apiClient,e);return s=Ye("{model}:computeTokens",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=dq(f),h=new OH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Qq(this.apiClient,e);return c=Ye("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Zq(h),v=new ip;return Object.assign(v,g),v})}else{const d=Xq(this.apiClient,e);return c=Ye("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Wq(h),v=new ip;return Object.assign(v,g),v})}}}class VK extends Ea{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=CH(e);return c=Ye("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o}else{const d=AH(e);return c=Ye("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=xH(e);return s=Ye("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function BK(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function zK(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>WK(s))),x(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function HK(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const s=m(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&x(n,["newSessionExpireTime"],s);const o=m(e,["uses"]);n!==void 0&&o!=null&&x(n,["uses"],o);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&x(n,["bidiGenerateContentSetup"],JK(t,c));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&x(n,["fieldMask"],f),r}function GK(t,e){const n={},r=m(e,["config"]);return r!=null&&x(n,["config"],HK(t,r,n)),n}function jK(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function qK(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const i=m(t,["name"]);if(i!=null&&x(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $K(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function KK(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function YK(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],U1(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],zK(Vr(S)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let K=iu(A);Array.isArray(K)&&(K=K.map(I=>XK(ru(I)))),x(e,["setup","tools"],K)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],ZK(C));const k=m(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&x(e,["setup","inputAudioTranscription"],k);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&x(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&x(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);if(e!==void 0&&G!=null&&x(e,["setup","proactivity"],G),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function JK(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],Kt(t,r));const i=m(e,["config"]);return i!=null&&x(n,["config"],YK(i,n)),n}function WK(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&x(e,["fileData"],jK(s));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],qK(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],BK(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function ZK(t){const e={},n=m(t,["handle"]);if(n!=null&&x(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function XK(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],$K(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],KK(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function QK(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function eY(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=QK(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)s?t.fieldMask=s:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const f=[];s&&f.push(s),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class tY extends Ea{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=GK(this.apiClient,e);s=Ye("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const f=eY(c,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function nY(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function rY(t){const e={},n=m(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&nY(r,e),e}function iY(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function sY(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function aY(t){const e={},n=m(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&sY(r,e),e}function oY(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["documents"],s)}return e}class lY extends Ea{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ml(ga.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iY(e);return s=Ye("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=rY(e);i=Ye("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aY(e);return s=Ye("{parent}/documents",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=oY(f),h=new LH;return Object.assign(h,d),h})}}}class cY extends Ea{constructor(e,n=new lY(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ml(ga.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Q$(e);return s=Ye("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nK(e);return s=Ye("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=tK(e);i=Ye("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=lK(e);return s=Ye("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=cK(f),h=new UH;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uK(e);return s=Ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=fK(f),h=new VH;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sK(e);return s=Ye("{file_search_store_name}:importFile",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=iK(f),h=new M1;return Object.assign(h,d),h})}}}let FI=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return FI=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const uY=()=>FI();function ox(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const lx=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Ki extends Error{}class ei extends Ki{constructor(e,n,r,i){super(`${ei.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Lp({message:r,cause:lx(n)});const s=n;return e===400?new LI(e,s,r,i):e===401?new UI(e,s,r,i):e===403?new VI(e,s,r,i):e===404?new BI(e,s,r,i):e===409?new zI(e,s,r,i):e===422?new HI(e,s,r,i):e===429?new GI(e,s,r,i):e>=500?new jI(e,s,r,i):new ei(e,s,r,i)}}class cx extends ei{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Lp extends ei{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class OI extends Lp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class LI extends ei{}class UI extends ei{}class VI extends ei{}class BI extends ei{}class zI extends ei{}class HI extends ei{}class GI extends ei{}class jI extends ei{}const fY=/^[a-z][a-z0-9+.-]*:/i,dY=t=>fY.test(t);let ux=t=>(ux=Array.isArray,ux(t));const hY=ux;let pY=hY;const oA=pY;function mY(t){if(!t)return!0;for(const e in t)return!1;return!0}function gY(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const vY=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ki(`${t} must be an integer`);if(e<0)throw new Ki(`${t} must be a positive integer`);return e},xY=t=>{try{return JSON.parse(t)}catch{return}};const yY=t=>new Promise(e=>setTimeout(e,t));const Sc="0.0.1";function _Y(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const EY=()=>{var t,e,n,r,i;const s=_Y();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":cA(Deno.build.os),"X-Stainless-Arch":lA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":cA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":lA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=TY();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function TY(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const lA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",cA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let i0;const wY=()=>i0??(i0=EY());function SY(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function qI(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function AY(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return qI({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function $I(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function CY(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}const bY=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const KI=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function pv(t,e,n){return KI(),new File(t,e??"unknown_file",n)}function NY(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const IY=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const YI=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",RY=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&YI(t),kY=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function DY(t,e,n){if(KI(),t=await t,RY(t))return t instanceof File?t:pv([await t.arrayBuffer()],t.name);if(kY(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),pv(await fx(i),e,n)}const r=await fx(t);if(e||(e=NY(t)),!n?.type){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return pv(r,e,n)}async function fx(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(YI(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(IY(t))try{for(var c=!0,f=gs(t),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const h=i;o.push(...await fx(h))}}catch(h){n={error:h}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(s=t?.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${MY(t)}`)}return o}function MY(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class JI{constructor(e){this._client=e}}JI._key=[];function WI(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const uA=Object.freeze(Object.create(null)),PY=(t=WI)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((h,g,v)=>{var T,S,A;/[?#]/.test(g)&&(i=!0);const C=r[v];let k=(i?encodeURIComponent:t)(""+C);return v!==r.length&&(C==null||typeof C=="object"&&C.toString===((A=Object.getPrototypeOf((S=Object.getPrototypeOf((T=C.hasOwnProperty)!==null&&T!==void 0?T:uA))!==null&&S!==void 0?S:uA))===null||A===void 0?void 0:A.toString))&&(k=C+"",s.push({start:h.length+g.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),h+g+(v===r.length?"":k)},""),c=o.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)s.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(s.sort((h,g)=>h.start-g.start),s.length>0){let h=0;const g=s.reduce((v,T)=>{const S=" ".repeat(T.start-h),A="^".repeat(T.length);return h=T.start+T.length,v+S+A},"");throw new Ki(`Path parameters result in path with invalid segments:
${s.map(v=>v.error).join(`
`)}
${o}
${g}`)}return o}),s0=PY(WI);class ZI extends JI{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=ap(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Ki("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Ki("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(s0`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(s0`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(s0`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,c=ap(s,["api_version"]);return this._client.get(s0`/${o}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=n?.stream)!==null&&i!==void 0?i:!1}))}}ZI._key=Object.freeze(["interactions"]);class XI extends ZI{}function FY(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let a0;function B1(t){let e;return(a0??(e=new globalThis.TextEncoder,a0=e.encode.bind(e)))(t)}let o0;function fA(t){let e;return(o0??(e=new globalThis.TextDecoder,o0=e.decode.bind(e)))(t)}class Up{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?B1(e):e;this.buffer=FY([this.buffer,n]);const r=[];let i;for(;(i=OY(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(fA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=fA(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Up.NEWLINE_CHARS=new Set([`
`,"\r"]);Up.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function OY(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function LY(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const op={off:0,error:200,warn:300,info:400,debug:500},dA=(t,e,n)=>{if(t){if(gY(op,t))return t;Yr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(op))}`)}};function yf(){}function l0(t,e,n){return!e||op[t]>op[n]?yf:e[t].bind(e)}const UY={error:yf,warn:yf,info:yf,debug:yf};let hA=new WeakMap;function Yr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return UY;const i=hA.get(n);if(i&&i[0]===r)return i[1];const s={error:l0("error",n,r),warn:l0("warn",n,r),info:l0("info",n,r),debug:l0("debug",n,r)};return hA.set(n,[r,s]),s}const il=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class Dc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?Yr(r):console;function o(){return ms(this,arguments,function*(){var f,d,h,g;if(i)throw new Ki("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var T=!0,S=gs(VY(e,n)),A;A=yield vt(S.next()),f=A.done,!f;T=!0){g=A.value,T=!1;const C=g;if(!v)if(C.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield vt(JSON.parse(C.data))}catch(k){throw s.error("Could not parse message into JSON:",C.data),s.error("From chunk:",C.raw),k}}}catch(C){d={error:C}}finally{try{!T&&!f&&(h=S.return)&&(yield vt(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(C){if(ox(C))return yield vt(void 0);throw C}finally{v||n.abort()}})}return new Dc(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return ms(this,arguments,function*(){var f,d,h,g;const v=new Up,T=$I(e);try{for(var S=!0,A=gs(T),C;C=yield vt(A.next()),f=C.done,!f;S=!0){g=C.value,S=!1;const k=g;for(const V of v.decode(k))yield yield vt(V)}}catch(k){d={error:k}}finally{try{!S&&!f&&(h=A.return)&&(yield vt(h.call(A)))}finally{if(d)throw d.error}}for(const k of v.flush())yield yield vt(k)})}function o(){return ms(this,arguments,function*(){var f,d,h,g;if(i)throw new Ki("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var T=!0,S=gs(s()),A;A=yield vt(S.next()),f=A.done,!f;T=!0){g=A.value,T=!1;const C=g;v||C&&(yield yield vt(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!T&&!f&&(h=S.return)&&(yield vt(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(C){if(ox(C))return yield vt(void 0);throw C}finally{v||n.abort()}})}return new Dc(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Dc(()=>i(e),this.controller,this.client),new Dc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return qI({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=B1(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function VY(t,e){return ms(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ki("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ki("Attempted to iterate over a response with no body");const c=new zY,f=new Up,d=$I(t.body);try{for(var h=!0,g=gs(BY(d)),v;v=yield vt(g.next()),r=v.done,!r;h=!0){o=v.value,h=!1;const T=o;for(const S of f.decode(T)){const A=c.decode(S);A&&(yield yield vt(A))}}}catch(T){i={error:T}}finally{try{!h&&!r&&(s=g.return)&&(yield vt(s.call(g)))}finally{if(i)throw i.error}}for(const T of f.flush()){const S=c.decode(T);S&&(yield yield vt(S))}})}function BY(t){return ms(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var c=!0,f=gs(t),d;d=yield vt(f.next()),n=d.done,!n;c=!0){s=d.value,c=!1;const h=s;if(h==null)continue;const g=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?B1(h):h;let v=new Uint8Array(o.length+g.length);v.set(o),v.set(g,o.length),o=v;let T;for(;(T=LY(o))!==-1;)yield yield vt(o.slice(0,T)),o=o.slice(T)}}catch(h){r={error:h}}finally{try{!c&&!n&&(i=f.return)&&(yield vt(i.call(f)))}finally{if(r)throw r.error}}o.length>0&&(yield yield vt(o))})}class zY{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=HY(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function HY(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function GY(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var c;if(e.options.stream)return Yr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Dc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(c=f?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Yr(t).debug(`[${r}] response parsed`,il({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}class z1 extends Promise{constructor(e,n,r=GY){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new z1(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const QI=Symbol("brand.privateNullableHeaders");function*jY(t){if(!t)return;if(QI in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():oA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=oA(r[1])?r[1]:[r[1]];let o=!1;for(const c of s)c!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,c])}}const lf=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of jY(r)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),o===null?(e.delete(s),n.add(c)):(e.append(s,o),n.delete(c))}}return{[QI]:!0,values:e,nulls:n}};const mv=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=dH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};var eR;class Vp{constructor(e){var n,r,i,s,o,c,f,{baseURL:d=mv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=mv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=e,v=ap(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:h,apiVersion:g},v),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(r=T.timeout)!==null&&r!==void 0?r:Vp.DEFAULT_TIMEOUT,this.logger=(i=T.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(o=(s=dA(T.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:dA(mv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:S,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=T.fetch)!==null&&f!==void 0?f:SY(),this.encoder=bY,this._options=T,this.apiKey=h,this.apiVersion=g,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=lf([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return lf([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return lf([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ki(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Sc}`}defaultIdempotencyKey(){return`stainless-node-retry-${uY()}`}makeStatusError(e,n,r,i){return ei.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=dY(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return mY(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new z1(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,o;const c=await e,f=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:d,url:h,timeout:g}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:c});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Yr(this).debug(`[${v}] sending request`,il({retryOfRequestLogID:r,method:c.method,url:h,options:c,headers:d.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new cx;const A=new AbortController,C=await this.fetchWithTimeout(h,d,g,A).catch(lx),k=Date.now();if(C instanceof globalThis.Error){const D=`retrying, ${n} attempts remaining`;if(!((o=c.signal)===null||o===void 0)&&o.aborted)throw new cx;const H=ox(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Yr(this).info(`[${v}] connection ${H?"timed out":"failed"} - ${D}`),Yr(this).debug(`[${v}] connection ${H?"timed out":"failed"} (${D})`,il({retryOfRequestLogID:r,url:h,durationMs:k-S,message:C.message})),this.retryRequest(c,n,r??v);throw Yr(this).info(`[${v}] connection ${H?"timed out":"failed"} - error; no more retries left`),Yr(this).debug(`[${v}] connection ${H?"timed out":"failed"} (error; no more retries left)`,il({retryOfRequestLogID:r,url:h,durationMs:k-S,message:C.message})),H?new OI:new Lp({cause:C})}const V=`[${v}${T}] ${d.method} ${h} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${k-S}ms`;if(!C.ok){const D=await this.shouldRetry(C);if(n&&D){const b=`retrying, ${n} attempts remaining`;return await CY(C.body),Yr(this).info(`${V} - ${b}`),Yr(this).debug(`[${v}] response error (${b})`,il({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:k-S})),this.retryRequest(c,n,r??v,C.headers)}const H=D?"error; no more retries left":"error; not retryable";Yr(this).info(`${V} - ${H}`);const G=await C.text().catch(b=>lx(b).message),K=xY(G),I=K?void 0:G;throw Yr(this).debug(`[${v}] response error (${H})`,il({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:I,durationMs:Date.now()-S})),this.makeStatusError(C.status,K,I,C.headers)}return Yr(this).info(V),Yr(this).debug(`[${v}] response start`,il({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:k-S})),{response:C,options:c,controller:A,requestLogID:v,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:o,method:c}=s,f=ap(s,["signal","method"]),d=i.abort.bind(i);o&&o.addEventListener("abort",d,{once:!0});const h=setTimeout(d,r),g=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},g?{duplex:"half"}:{}),{method:"GET"}),f);c&&(v.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let o;const c=i?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(o=d)}const f=i?.get("retry-after");if(f&&!o){const d=parseFloat(f);Number.isNaN(d)?o=Date.parse(f)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){const d=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,d)}return await yY(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},e),{method:c,path:f,query:d,defaultBaseURL:h}=o,g=this.buildURL(f,d,h);"timeout"in o&&vY("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:T}=this.buildBody({options:o}),S=await this.buildHeaders({options:e,method:c,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:g,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let c=lf([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),wY()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=lf([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:AY(e)}:this.encoder({body:e,headers:r})}}Vp.DEFAULT_TIMEOUT=6e4;class dr extends Vp{constructor(){super(...arguments),this.interactions=new XI(this)}}eR=dr;dr.GeminiNextGenAPIClient=eR;dr.GeminiNextGenAPIClientError=Ki;dr.APIError=ei;dr.APIConnectionError=Lp;dr.APIConnectionTimeoutError=OI;dr.APIUserAbortError=cx;dr.NotFoundError=BI;dr.ConflictError=zI;dr.RateLimitError=GI;dr.BadRequestError=LI;dr.AuthenticationError=UI;dr.InternalServerError=jI;dr.PermissionDeniedError=VI;dr.UnprocessableEntityError=HI;dr.toFile=DY;dr.Interactions=XI;function qY(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function $Y(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function KY(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function YY(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function JY(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(t,["epochCount"]);e!==void 0&&s!=null&&x(e,["tuningTask","hyperparameters","epochCount"],s);const o=m(t,["learningRateMultiplier"]);if(o!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(m(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(m(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&x(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&x(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(m(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(m(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(m(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(m(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function WY(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec"],gv(G))}else if(i==="PREFERENCE_TUNING"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec"],gv(G))}else if(i==="DISTILLATION"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["distillationSpec"],gv(G))}const s=m(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&x(e,["tunedModelDisplayName"],s);const o=m(t,["description"]);e!==void 0&&o!=null&&x(e,["description"],o);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],G)}else if(c==="PREFERENCE_TUNING"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],G)}else if(c==="DISTILLATION"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","epochCount"],G)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],G)}else if(f==="PREFERENCE_TUNING"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],G)}else if(f==="DISTILLATION"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","learningRateMultiplier"],G)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],G)}else if(d==="PREFERENCE_TUNING"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],G)}else if(d==="DISTILLATION"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["distillationSpec","exportLastCheckpointOnly"],G)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],G)}else if(h==="PREFERENCE_TUNING"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],G)}else if(h==="DISTILLATION"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","adapterSize"],G)}let g=m(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const G=m(t,["tuningMode"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","tuningMode"],G)}const v=m(t,["customBaseModel"]);e!==void 0&&v!=null&&x(e,["customBaseModel"],v);let T=m(n,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const G=m(t,["batchSize"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","batchSize"],G)}let S=m(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const G=m(t,["learningRate"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRate"],G)}const A=m(t,["labels"]);e!==void 0&&A!=null&&x(e,["labels"],A);const C=m(t,["beta"]);e!==void 0&&C!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],C);const k=m(t,["baseTeacherModel"]);e!==void 0&&k!=null&&x(e,["distillationSpec","baseTeacherModel"],k);const V=m(t,["tunedTeacherModelSource"]);e!==void 0&&V!=null&&x(e,["distillationSpec","tunedTeacherModelSource"],V);const D=m(t,["sftLossWeightMultiplier"]);e!==void 0&&D!=null&&x(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const H=m(t,["outputUri"]);return e!==void 0&&H!=null&&x(e,["outputUri"],H),r}function ZY(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&lJ(s);const o=m(t,["config"]);return o!=null&&JY(o,n),n}function XY(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&cJ(s,n,e);const o=m(t,["config"]);return o!=null&&WY(o,n,e),n}function QY(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function eJ(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function tJ(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&x(e,["_query","pageToken"],s);const o=m(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function nJ(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&x(e,["_query","pageToken"],s);const o=m(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function rJ(t,e){const n={},r=m(t,["config"]);return r!=null&&tJ(r,n),n}function iJ(t,e){const n={},r=m(t,["config"]);return r!=null&&nJ(r,n),n}function sJ(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const s=m(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>tR(c))),x(n,["tuningJobs"],o)}return n}function aJ(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const s=m(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>dx(c))),x(n,["tuningJobs"],o)}return n}function oJ(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["model"],r);const i=m(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function lJ(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),x(n,["examples","examples"],i)}return n}function cJ(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(i==="DISTILLATION"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["distillationSpec","promptDatasetUri"],o)}let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(s==="DISTILLATION"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["distillationSpec","promptDatasetUri"],o)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function tR(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&x(n,["name"],i);const s=m(t,["state"]);s!=null&&x(n,["state"],vI(s));const o=m(t,["createTime"]);o!=null&&x(n,["createTime"],o);const c=m(t,["tuningTask","startTime"]);c!=null&&x(n,["startTime"],c);const f=m(t,["tuningTask","completeTime"]);f!=null&&x(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const h=m(t,["description"]);h!=null&&x(n,["description"],h);const g=m(t,["baseModel"]);g!=null&&x(n,["baseModel"],g);const v=m(t,["_self"]);return v!=null&&x(n,["tunedModel"],oJ(v)),n}function dx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&x(n,["name"],i);const s=m(t,["state"]);s!=null&&x(n,["state"],vI(s));const o=m(t,["createTime"]);o!=null&&x(n,["createTime"],o);const c=m(t,["startTime"]);c!=null&&x(n,["startTime"],c);const f=m(t,["endTime"]);f!=null&&x(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const h=m(t,["error"]);h!=null&&x(n,["error"],h);const g=m(t,["description"]);g!=null&&x(n,["description"],g);const v=m(t,["baseModel"]);v!=null&&x(n,["baseModel"],v);const T=m(t,["tunedModel"]);T!=null&&x(n,["tunedModel"],T);const S=m(t,["preTunedModel"]);S!=null&&x(n,["preTunedModel"],S);const A=m(t,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const C=m(t,["preferenceOptimizationSpec"]);C!=null&&x(n,["preferenceOptimizationSpec"],C);const k=m(t,["distillationSpec"]);k!=null&&x(n,["distillationSpec"],k);const V=m(t,["tuningDataStats"]);V!=null&&x(n,["tuningDataStats"],V);const D=m(t,["encryptionSpec"]);D!=null&&x(n,["encryptionSpec"],D);const H=m(t,["partnerModelTuningSpec"]);H!=null&&x(n,["partnerModelTuningSpec"],H);const G=m(t,["customBaseModel"]);G!=null&&x(n,["customBaseModel"],G);const K=m(t,["experiment"]);K!=null&&x(n,["experiment"],K);const I=m(t,["labels"]);I!=null&&x(n,["labels"],I);const N=m(t,["outputUri"]);N!=null&&x(n,["outputUri"],N);const b=m(t,["pipelineJob"]);b!=null&&x(n,["pipelineJob"],b);const F=m(t,["serviceAccount"]);F!=null&&x(n,["serviceAccount"],F);const O=m(t,["tunedModelDisplayName"]);O!=null&&x(n,["tunedModelDisplayName"],O);const M=m(t,["veoTuningSpec"]);return M!=null&&x(n,["veoTuningSpec"],M),n}function uJ(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&x(n,["name"],i);const s=m(t,["metadata"]);s!=null&&x(n,["metadata"],s);const o=m(t,["done"]);o!=null&&x(n,["done"],o);const c=m(t,["error"]);return c!=null&&x(n,["error"],c),n}function gv(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=m(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}class fJ extends Ea{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ml(ga.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:Qv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=eJ(e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>dx(h))}else{const d=QY(e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>tR(h))}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=iJ(e);return c=Ye("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=aJ(h),v=new BS;return Object.assign(v,g),v})}else{const d=rJ(e);return c=Ye("tunedModels",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=sJ(h),v=new BS;return Object.assign(v,g),v})}}async cancel(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=$Y(e);return c=Ye("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=YY(h),v=new zS;return Object.assign(v,g),v})}else{const d=qY(e);return c=Ye("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=KY(h),v=new zS;return Object.assign(v,g),v})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=XY(e,e);return s=Ye("tuningJobs",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>dx(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=ZY(e);return s=Ye("tunedModels",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>uJ(f))}}}class dJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hJ=1024*1024*8,pJ=3,mJ=1e3,gJ=2,lp="x-goog-upload-status";async function vJ(t,e,n){var r;const i=await nR(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[lp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function xJ(t,e,n){var r;const i=await nR(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[lp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=fI(s),c=new P1;return Object.assign(c,o),c}async function nR(t,e,n){var r,i;let s=0,o=0,c=new tx(new Response),f="upload";for(s=t.size;o<s;){const d=Math.min(hJ,s-o),h=t.slice(o,o+d);o+d>=s&&(f+=", finalize");let g=0,v=mJ;for(;g<pJ&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=c?.headers)===null||r===void 0)&&r[lp]));)g++,await _J(v),v=v*gJ;if(o+=d,((i=c?.headers)===null||i===void 0?void 0:i[lp])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function yJ(t){return{size:t.size,type:t.type}}function _J(t){return new Promise(e=>setTimeout(e,t))}class EJ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vJ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yJ(e)}}class TJ{create(e,n,r){return new wJ(e,n,r)}}class wJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const pA="x-goog-api-key";class SJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(pA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pA,this.apiKey)}}}const AJ="gl-node/";class rR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new dr({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=gH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new SJ(this.apiKey);this.apiClient=new yK({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:AJ+"web",uploader:new EJ,downloader:new dJ}),this.models=new UK(this.apiClient),this.live=new DK(this.apiClient,i,new TJ),this.batches=new $G(this.apiClient),this.chats=new bj(this.models,this.apiClient),this.caches=new Sj(this.apiClient),this.files=new Vj(this.apiClient),this.operations=new VK(this.apiClient),this.authTokens=new tY(this.apiClient),this.tunings=new fJ(this.apiClient),this.fileSearchStores=new cY(this.apiClient)}}const hx=async(t,e)=>{if(!t||!e)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${e}`,s=await(await fetch(r)).json();if(s.status==="OK"&&s.results&&s.results.length>0){const o=s.results[0],c=o.geometry.location;return{lat:c.lat,lng:c.lng,formattedAddress:o.formatted_address,locationType:o.geometry.location_type,addressComponents:o.address_components}}else return console.warn(`Geocoding failed for address "${t}":`,s.status,s.error_message),null}catch(n){return console.error(`Geocoding fetch error for address "${t}":`,n),null}};class CJ{value;next;constructor(e){this.value=e}}class bJ{#e;#t;#n;constructor(){this.clear()}enqueue(e){const n=new CJ(e);this.#e?(this.#t.next=n,this.#t=n):(this.#e=n,this.#t=n),this.#n++}dequeue(){const e=this.#e;if(e)return this.#e=this.#e.next,this.#n--,this.#e||(this.#t=void 0),e.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}*drain(){for(;this.#e;)yield this.dequeue()}}function NJ(t){let e=!1;if(typeof t=="object"&&({concurrency:t,rejectOnClear:e=!1}=t),mA(t),typeof e!="boolean")throw new TypeError("Expected `rejectOnClear` to be a boolean");const n=new bJ;let r=0;const i=()=>{r<t&&n.size>0&&(r++,n.dequeue().run())},s=()=>{r--,i()},o=async(d,h,g)=>{const v=(async()=>d(...g))();h(v);try{await v}catch{}s()},c=(d,h,g,v)=>{const T={reject:g};new Promise(S=>{T.run=S,n.enqueue(T)}).then(o.bind(void 0,d,h,v)),r<t&&i()},f=(d,...h)=>new Promise((g,v)=>{c(d,g,v,h)});return Object.defineProperties(f,{activeCount:{get:()=>r},pendingCount:{get:()=>n.size},clearQueue:{value(){if(!e){n.clear();return}const d=AbortSignal.abort().reason;for(;n.size>0;)n.dequeue().reject(d)}},concurrency:{get:()=>t,set(d){mA(d),t=d,queueMicrotask(()=>{for(;r<t&&n.size>0;)i()})}},map:{async value(d,h){const g=Array.from(d,(v,T)=>this(h,v,T));return Promise.all(g)}}}),f}function mA(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}var iR={};const px=t=>new Promise(e=>setTimeout(e,t)),IJ=t=>{const e=t.replace(/\D/g,"");if(e.length<5)return"Indefinido";const n=parseInt(e.substring(0,1)),r=parseInt(e.substring(0,2));return n===0||n===1||n===2||n===3?"Sudeste":n===8||n===9?"Sul":n===4||n===5?"Nordeste":n===6?r>=60&&r<=65?"Nordeste":"Norte":n===7?r===77||r===76?"Norte":"Centro-Oeste":"Indefinido"},RJ=t=>{const e=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],n=["AC","AP","AM","PA","RO","RR","TO"],r=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],s=["PR","SC","RS"],o=t.toUpperCase().trim();return e.includes(o)?"Nordeste":n.includes(o)?"Norte":r.includes(o)?"Centro-Oeste":i.includes(o)?"Sudeste":s.includes(o)?"Sul":"Indefinido"},kJ=t=>{let e="Desconhecido",n="BR",r="Indefinido";if(Array.isArray(t)){const i=t.find(o=>o.types.includes("administrative_area_level_1"));i&&(n=i.short_name);const s=t.find(o=>o.types.includes("administrative_area_level_2")||o.types.includes("locality"));s&&(e=s.long_name),r=RJ(n)}return{city:e,state:n,region:r}},DJ=async(t,e,n,r,i,s)=>{const o=new rR({apiKey:n||iR.API_KEY}),c=NJ(3),f=t.length;let d=0;const h=i.map(S=>`"${S}"`).join(" | "),g=async(S,A)=>{if(!S)return d++,s&&s(d,f),null;const C=S.address||"",k=Cb(C),V=S.companyName||"Empresa Desconhecida",D=S.ownerName||"",H=S.phone||"",G=k.match(/\d{5}[-]?\d{3}/),K=G?G[0]:"",I=`${e}-${Date.now()}-${A}`;if(!k&&V==="Empresa Desconhecida")return d++,s&&s(d,f),null;const N=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${V}" localizada EXATAMENTE em "${k}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${h} | "Outros".

      IMPORTANTE: Use o endereo "${k}" como ncora principal para a busca.

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let b=0;const F=5;let O=null,M=!1,U={},ue="";for(;!M&&b<=F;)try{const pe=await o.models.generateContent({model:"gemini-2.5-flash",contents:N,config:{tools:[{googleMaps:{}}]}});let ae=pe.text||"{}";ae=ae.replace(/```json/g,"").replace(/```/g,"").trim();try{U=JSON.parse(ae)}catch{const se=ae.match(/\{[\s\S]*\}/);if(se)try{U=JSON.parse(se[0])}catch{}}const ee=pe.candidates?.[0]?.groundingMetadata?.groundingChunks;if(ee&&Array.isArray(ee)){const le=ee.find(se=>se.maps?.uri);le&&(ue=le.maps.uri)}M=!0}catch(pe){const ae=pe.status===429||pe.code===429||pe.message&&(pe.message.includes("quota")||pe.message.includes("429")),ee=pe.status===503||pe.code===503;if((ae||ee)&&b<F){b++;const le=2e3*Math.pow(2,b);console.warn(`Retry ${b}/${F} for client ${A}`),await px(le)}else{console.error(`Failed to process client with AI ${A} (continuing to manual geocode)`,pe);break}}try{let pe=S.latitude||(typeof U.lat=="number"?U.lat:0),ae=S.longitude||(typeof U.lng=="number"?U.lng:0),ee=U.cleanAddress||k,le=U.city||"Desconhecido",se=U.state||"BR",ke=U.region||"Indefinido";const Z=pe!==0&&ae!==0;if(!Z||le==="Desconhecido"||se==="BR"){const ne=C||ee;if(ne&&ne.length>5&&r)try{const he=await hx(ne,r);if(he){if(Z||(pe=he.lat,ae=he.lng),he.addressComponents){const ge=kJ(he.addressComponents);le=ge.city,se=ge.state,ke=ge.region}(!ke||ke==="Indefinido")&&K&&(ke=IJ(K)),he.formattedAddress&&(ee=he.formattedAddress)}}catch(he){console.warn(`Geocoding failed for ${V}`,he)}}const Q=ne=>Array.isArray(ne)?ne:typeof ne=="string"?[ne]:["Outros"];let W=H;U.phone&&(W=W?`${W} | Maps: ${U.phone}`:U.phone),U.website&&(W=W?`${W} | Site: ${U.website}`:`Site: ${U.website}`),O={id:I,salespersonId:e,companyName:V,ownerName:D,contact:W,originalAddress:C,cleanAddress:ee,category:Q(U.category),region:ke,state:se,city:le,lat:pe,lng:ae,googleMapsUri:S.googleMapsLink||ue}}catch(pe){console.error("Critical error in client finalization",pe),O={id:I,salespersonId:e,companyName:V,ownerName:D,contact:H,originalAddress:C,cleanAddress:C,category:["Outros"],region:"Indefinido",state:"BR",city:"Erro Critico",lat:0,lng:0,googleMapsUri:S.googleMapsLink}}return d++,s&&s(d,f),await px(500),O},v=t.map((S,A)=>c(()=>g(S,A)));return(await Promise.all(v)).filter(S=>S!==null)},MJ=async(t,e,n)=>{const r=new rR({apiKey:e||iR.API_KEY}),i=10,s=t.length;let o=0;const c=[...t];for(let f=0;f<s;f+=i){const d=t.slice(f,f+i),g=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${d.map(v=>`- ID: ${v.sku} | Nome: ${v.name} | Marca: ${v.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let T=(await r.models.generateContent({model:"gemini-2.5-flash",contents:g})).text||"[]";T=T.replace(/```json/g,"").replace(/```/g,"").trim();let S=[];try{S=JSON.parse(T)}catch{console.error("Failed to parse AI response",T);const C=T.match(/\[.*\]/s);if(C)try{S=JSON.parse(C[0])}catch{}}Array.isArray(S)&&S.forEach(A=>{const C=c.findIndex(k=>String(k.sku)===String(A.sku));C!==-1&&(c[C]={...c[C],category:A.category})})}catch(v){console.error("Batch classification failed",v)}o+=d.length,n&&n(o,s),await px(1e3)}return c},PJ=()=>{};var gA={};const sR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},aR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=s>>2,g=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,T=d&63;f||(T=64,o||(v=64)),r.push(n[h],n[g],n[v],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new OJ;const v=s<<2|c>>4;if(r.push(v),d!==64){const T=c<<4&240|d>>2;if(r.push(T),g!==64){const S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LJ=function(t){const e=sR(t);return aR.encodeByteArray(e,!0)},cp=function(t){return LJ(t).replace(/\./g,"")},UJ=function(t){try{return aR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BJ=()=>VJ().__FIREBASE_DEFAULTS__,zJ=()=>{if(typeof process>"u"||typeof gA>"u")return;const t=gA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UJ(t[1]);return e&&JSON.parse(e)},H1=()=>{try{return PJ()||BJ()||zJ()||HJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GJ=t=>H1()?.emulatorHosts?.[t],jJ=t=>{const e=GJ(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oR=()=>H1()?.config;class qJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function G1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $J(t){return(await fetch(t,{credentials:"include"})).ok}function KJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cp(JSON.stringify(n)),cp(JSON.stringify(o)),""].join(".")}const Ff={};function YJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ff))Ff[e]?t.emulator.push(e):t.prod.push(e);return t}function JJ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vA=!1;function WJ(t,e){if(typeof window>"u"||typeof document>"u"||!G1(window.location.host)||Ff[t]===e||Ff[t]||vA)return;Ff[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=YJ().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{vA=!0,o()},v}function h(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=JJ(r),T=n("text"),S=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),k=n("preprendIcon"),V=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const D=v.element;c(D),h(C,A);const H=d();f(V,k),D.append(V,S,C,H),document.body.appendChild(D)}s?(S.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function ZJ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XJ(){const t=H1()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QJ(){return!XJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eW(){try{return typeof indexedDB=="object"}catch{return!1}}function tW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const nW="FirebaseError";class au extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nW,Object.setPrototypeOf(this,au.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lR.prototype.create)}}class lR{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?rW(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new au(i,c,r)}}function rW(t,e){return t.replace(iW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const iW=/\{\$([^}]+)}/g;function up(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xA(s)&&xA(o)){if(!up(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xA(t){return t!==null&&typeof t=="object"}function nd(t){return t&&t._delegate?t._delegate:t}class rd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const sl="[DEFAULT]";class sW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qJ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oW(e))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sl){return this.instances.has(e)}getOptions(e=sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sl){return this.component?this.component.multipleInstances?e:sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aW(t){return t===sl?void 0:t}function oW(t){return t.instantiationMode==="EAGER"}class lW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const cW={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},uW=Bt.INFO,fW={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},dW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cR{constructor(e){this.name=e,this._logLevel=uW,this._logHandler=dW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const hW=(t,e)=>e.some(n=>t instanceof n);let yA,_A;function pW(){return yA||(yA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mW(){return _A||(_A=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uR=new WeakMap,mx=new WeakMap,fR=new WeakMap,vv=new WeakMap,j1=new WeakMap;function gW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(po(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uR.set(n,t)}).catch(()=>{}),j1.set(e,t),e}function vW(t){if(mx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mx.set(t,e)}let gx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xW(t){gx=t(gx)}function yW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xv(this),e,...n);return fR.set(r,e.sort?e.sort():[e]),po(r)}:mW().includes(t)?function(...e){return t.apply(xv(this),e),po(uR.get(this))}:function(...e){return po(t.apply(xv(this),e))}}function _W(t){return typeof t=="function"?yW(t):(t instanceof IDBTransaction&&vW(t),hW(t,pW())?new Proxy(t,gx):t)}function po(t){if(t instanceof IDBRequest)return gW(t);if(vv.has(t))return vv.get(t);const e=_W(t);return e!==t&&(vv.set(t,e),j1.set(e,t)),e}const xv=t=>j1.get(t);function EW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=po(o);return r&&o.addEventListener("upgradeneeded",f=>{r(po(o.result),f.oldVersion,f.newVersion,po(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const TW=["get","getKey","getAll","getAllKeys","count"],wW=["put","add","delete","clear"],yv=new Map;function EA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yv.get(e))return yv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TW.includes(n)))return;const s=async function(o,...c){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return yv.set(e,s),s}xW(t=>({...t,get:(e,n,r)=>EA(e,n)||t.get(e,n,r),has:(e,n)=>!!EA(e,n)||t.has(e,n)}));class SW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AW(t){return t.getComponent()?.type==="VERSION"}const vx="@firebase/app",TA="0.14.8";const va=new cR("@firebase/app"),CW="@firebase/app-compat",bW="@firebase/analytics-compat",NW="@firebase/analytics",IW="@firebase/app-check-compat",RW="@firebase/app-check",kW="@firebase/auth",DW="@firebase/auth-compat",MW="@firebase/database",PW="@firebase/data-connect",FW="@firebase/database-compat",OW="@firebase/functions",LW="@firebase/functions-compat",UW="@firebase/installations",VW="@firebase/installations-compat",BW="@firebase/messaging",zW="@firebase/messaging-compat",HW="@firebase/performance",GW="@firebase/performance-compat",jW="@firebase/remote-config",qW="@firebase/remote-config-compat",$W="@firebase/storage",KW="@firebase/storage-compat",YW="@firebase/firestore",JW="@firebase/ai",WW="@firebase/firestore-compat",ZW="firebase",XW="12.9.0";const xx="[DEFAULT]",QW={[vx]:"fire-core",[CW]:"fire-core-compat",[NW]:"fire-analytics",[bW]:"fire-analytics-compat",[RW]:"fire-app-check",[IW]:"fire-app-check-compat",[kW]:"fire-auth",[DW]:"fire-auth-compat",[MW]:"fire-rtdb",[PW]:"fire-data-connect",[FW]:"fire-rtdb-compat",[OW]:"fire-fn",[LW]:"fire-fn-compat",[UW]:"fire-iid",[VW]:"fire-iid-compat",[BW]:"fire-fcm",[zW]:"fire-fcm-compat",[HW]:"fire-perf",[GW]:"fire-perf-compat",[jW]:"fire-rc",[qW]:"fire-rc-compat",[$W]:"fire-gcs",[KW]:"fire-gcs-compat",[YW]:"fire-fst",[WW]:"fire-fst-compat",[JW]:"fire-vertex","fire-js":"fire-js",[ZW]:"fire-js-all"};const id=new Map,eZ=new Map,yx=new Map;function wA(t,e){try{t.container.addComponent(e)}catch(n){va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fp(t){const e=t.name;if(yx.has(e))return va.debug(`There were multiple attempts to register component ${e}.`),!1;yx.set(e,t);for(const n of id.values())wA(n,t);for(const n of eZ.values())wA(n,t);return!0}function tZ(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function nZ(t){return t==null?!1:t.settings!==void 0}const rZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new lR("app","Firebase",rZ);class iZ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}const sZ=XW;function dR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(n||(n=oR()),!n)throw mo.create("no-options");const s=id.get(i);if(s){if(up(n,s.options)&&up(r,s.config))return s;throw mo.create("duplicate-app",{appName:i})}const o=new lW(i);for(const f of yx.values())o.addComponent(f);const c=new iZ(n,r,o);return id.set(i,c),c}function hR(t=xx){const e=id.get(t);if(!e&&t===xx&&oR())return dR();if(!e)throw mo.create("no-app",{appName:t});return e}function aZ(){return Array.from(id.values())}function Bc(t,e,n){let r=QW[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),va.warn(o.join(" "));return}fp(new rd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const oZ="firebase-heartbeat-database",lZ=1,sd="firebase-heartbeat-store";let _v=null;function pR(){return _v||(_v=EW(oZ,lZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw mo.create("idb-open",{originalErrorMessage:t.message})})),_v}async function cZ(t){try{const n=(await pR()).transaction(sd),r=await n.objectStore(sd).get(mR(t));return await n.done,r}catch(e){if(e instanceof au)va.warn(e.message);else{const n=mo.create("idb-get",{originalErrorMessage:e?.message});va.warn(n.message)}}}async function SA(t,e){try{const r=(await pR()).transaction(sd,"readwrite");await r.objectStore(sd).put(e,mR(t)),await r.done}catch(n){if(n instanceof au)va.warn(n.message);else{const r=mo.create("idb-set",{originalErrorMessage:n?.message});va.warn(r.message)}}}function mR(t){return`${t.name}!${t.options.appId}`}const uZ=1024,fZ=30;class dZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>fZ){const i=mZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){va.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=AA(),{heartbeatsToSend:n,unsentEntries:r}=hZ(this._heartbeatsCache.heartbeats),i=cp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return va.warn(e),""}}}function AA(){return new Date().toISOString().substring(0,10)}function hZ(t,e=uZ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eW()?tW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return SA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function CA(t){return cp(JSON.stringify({version:2,heartbeats:t})).length}function mZ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function gZ(t){fp(new rd("platform-logger",e=>new SW(e),"PRIVATE")),fp(new rd("heartbeat",e=>new dZ(e),"PRIVATE")),Bc(vx,TA,t),Bc(vx,TA,"esm2020"),Bc("fire-js","")}gZ("");var vZ="firebase",xZ="12.9.0";Bc(vZ,xZ,"app");var bA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var go,gR;(function(){var t;function e(I,N){function b(){}b.prototype=N.prototype,I.F=N.prototype,I.prototype=new b,I.prototype.constructor=I,I.D=function(F,O,M){for(var U=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)U[ue-2]=arguments[ue];return N.prototype[O].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,N,b){b||(b=0);const F=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)F[O]=N.charCodeAt(b++)|N.charCodeAt(b++)<<8|N.charCodeAt(b++)<<16|N.charCodeAt(b++)<<24;else for(O=0;O<16;++O)F[O]=N[b++]|N[b++]<<8|N[b++]<<16|N[b++]<<24;N=I.g[0],b=I.g[1],O=I.g[2];let M=I.g[3],U;U=N+(M^b&(O^M))+F[0]+3614090360&4294967295,N=b+(U<<7&4294967295|U>>>25),U=M+(O^N&(b^O))+F[1]+3905402710&4294967295,M=N+(U<<12&4294967295|U>>>20),U=O+(b^M&(N^b))+F[2]+606105819&4294967295,O=M+(U<<17&4294967295|U>>>15),U=b+(N^O&(M^N))+F[3]+3250441966&4294967295,b=O+(U<<22&4294967295|U>>>10),U=N+(M^b&(O^M))+F[4]+4118548399&4294967295,N=b+(U<<7&4294967295|U>>>25),U=M+(O^N&(b^O))+F[5]+1200080426&4294967295,M=N+(U<<12&4294967295|U>>>20),U=O+(b^M&(N^b))+F[6]+2821735955&4294967295,O=M+(U<<17&4294967295|U>>>15),U=b+(N^O&(M^N))+F[7]+4249261313&4294967295,b=O+(U<<22&4294967295|U>>>10),U=N+(M^b&(O^M))+F[8]+1770035416&4294967295,N=b+(U<<7&4294967295|U>>>25),U=M+(O^N&(b^O))+F[9]+2336552879&4294967295,M=N+(U<<12&4294967295|U>>>20),U=O+(b^M&(N^b))+F[10]+4294925233&4294967295,O=M+(U<<17&4294967295|U>>>15),U=b+(N^O&(M^N))+F[11]+2304563134&4294967295,b=O+(U<<22&4294967295|U>>>10),U=N+(M^b&(O^M))+F[12]+1804603682&4294967295,N=b+(U<<7&4294967295|U>>>25),U=M+(O^N&(b^O))+F[13]+4254626195&4294967295,M=N+(U<<12&4294967295|U>>>20),U=O+(b^M&(N^b))+F[14]+2792965006&4294967295,O=M+(U<<17&4294967295|U>>>15),U=b+(N^O&(M^N))+F[15]+1236535329&4294967295,b=O+(U<<22&4294967295|U>>>10),U=N+(O^M&(b^O))+F[1]+4129170786&4294967295,N=b+(U<<5&4294967295|U>>>27),U=M+(b^O&(N^b))+F[6]+3225465664&4294967295,M=N+(U<<9&4294967295|U>>>23),U=O+(N^b&(M^N))+F[11]+643717713&4294967295,O=M+(U<<14&4294967295|U>>>18),U=b+(M^N&(O^M))+F[0]+3921069994&4294967295,b=O+(U<<20&4294967295|U>>>12),U=N+(O^M&(b^O))+F[5]+3593408605&4294967295,N=b+(U<<5&4294967295|U>>>27),U=M+(b^O&(N^b))+F[10]+38016083&4294967295,M=N+(U<<9&4294967295|U>>>23),U=O+(N^b&(M^N))+F[15]+3634488961&4294967295,O=M+(U<<14&4294967295|U>>>18),U=b+(M^N&(O^M))+F[4]+3889429448&4294967295,b=O+(U<<20&4294967295|U>>>12),U=N+(O^M&(b^O))+F[9]+568446438&4294967295,N=b+(U<<5&4294967295|U>>>27),U=M+(b^O&(N^b))+F[14]+3275163606&4294967295,M=N+(U<<9&4294967295|U>>>23),U=O+(N^b&(M^N))+F[3]+4107603335&4294967295,O=M+(U<<14&4294967295|U>>>18),U=b+(M^N&(O^M))+F[8]+1163531501&4294967295,b=O+(U<<20&4294967295|U>>>12),U=N+(O^M&(b^O))+F[13]+2850285829&4294967295,N=b+(U<<5&4294967295|U>>>27),U=M+(b^O&(N^b))+F[2]+4243563512&4294967295,M=N+(U<<9&4294967295|U>>>23),U=O+(N^b&(M^N))+F[7]+1735328473&4294967295,O=M+(U<<14&4294967295|U>>>18),U=b+(M^N&(O^M))+F[12]+2368359562&4294967295,b=O+(U<<20&4294967295|U>>>12),U=N+(b^O^M)+F[5]+4294588738&4294967295,N=b+(U<<4&4294967295|U>>>28),U=M+(N^b^O)+F[8]+2272392833&4294967295,M=N+(U<<11&4294967295|U>>>21),U=O+(M^N^b)+F[11]+1839030562&4294967295,O=M+(U<<16&4294967295|U>>>16),U=b+(O^M^N)+F[14]+4259657740&4294967295,b=O+(U<<23&4294967295|U>>>9),U=N+(b^O^M)+F[1]+2763975236&4294967295,N=b+(U<<4&4294967295|U>>>28),U=M+(N^b^O)+F[4]+1272893353&4294967295,M=N+(U<<11&4294967295|U>>>21),U=O+(M^N^b)+F[7]+4139469664&4294967295,O=M+(U<<16&4294967295|U>>>16),U=b+(O^M^N)+F[10]+3200236656&4294967295,b=O+(U<<23&4294967295|U>>>9),U=N+(b^O^M)+F[13]+681279174&4294967295,N=b+(U<<4&4294967295|U>>>28),U=M+(N^b^O)+F[0]+3936430074&4294967295,M=N+(U<<11&4294967295|U>>>21),U=O+(M^N^b)+F[3]+3572445317&4294967295,O=M+(U<<16&4294967295|U>>>16),U=b+(O^M^N)+F[6]+76029189&4294967295,b=O+(U<<23&4294967295|U>>>9),U=N+(b^O^M)+F[9]+3654602809&4294967295,N=b+(U<<4&4294967295|U>>>28),U=M+(N^b^O)+F[12]+3873151461&4294967295,M=N+(U<<11&4294967295|U>>>21),U=O+(M^N^b)+F[15]+530742520&4294967295,O=M+(U<<16&4294967295|U>>>16),U=b+(O^M^N)+F[2]+3299628645&4294967295,b=O+(U<<23&4294967295|U>>>9),U=N+(O^(b|~M))+F[0]+4096336452&4294967295,N=b+(U<<6&4294967295|U>>>26),U=M+(b^(N|~O))+F[7]+1126891415&4294967295,M=N+(U<<10&4294967295|U>>>22),U=O+(N^(M|~b))+F[14]+2878612391&4294967295,O=M+(U<<15&4294967295|U>>>17),U=b+(M^(O|~N))+F[5]+4237533241&4294967295,b=O+(U<<21&4294967295|U>>>11),U=N+(O^(b|~M))+F[12]+1700485571&4294967295,N=b+(U<<6&4294967295|U>>>26),U=M+(b^(N|~O))+F[3]+2399980690&4294967295,M=N+(U<<10&4294967295|U>>>22),U=O+(N^(M|~b))+F[10]+4293915773&4294967295,O=M+(U<<15&4294967295|U>>>17),U=b+(M^(O|~N))+F[1]+2240044497&4294967295,b=O+(U<<21&4294967295|U>>>11),U=N+(O^(b|~M))+F[8]+1873313359&4294967295,N=b+(U<<6&4294967295|U>>>26),U=M+(b^(N|~O))+F[15]+4264355552&4294967295,M=N+(U<<10&4294967295|U>>>22),U=O+(N^(M|~b))+F[6]+2734768916&4294967295,O=M+(U<<15&4294967295|U>>>17),U=b+(M^(O|~N))+F[13]+1309151649&4294967295,b=O+(U<<21&4294967295|U>>>11),U=N+(O^(b|~M))+F[4]+4149444226&4294967295,N=b+(U<<6&4294967295|U>>>26),U=M+(b^(N|~O))+F[11]+3174756917&4294967295,M=N+(U<<10&4294967295|U>>>22),U=O+(N^(M|~b))+F[2]+718787259&4294967295,O=M+(U<<15&4294967295|U>>>17),U=b+(M^(O|~N))+F[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(O+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,N){N===void 0&&(N=I.length);const b=N-this.blockSize,F=this.C;let O=this.h,M=0;for(;M<N;){if(O==0)for(;M<=b;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<N;)if(F[O++]=I.charCodeAt(M++),O==this.blockSize){i(this,F),O=0;break}}else for(;M<N;)if(F[O++]=I[M++],O==this.blockSize){i(this,F),O=0;break}}this.h=O,this.o+=N},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var b=I.length-8;b<I.length;++b)I[b]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,b=0;b<4;++b)for(let F=0;F<32;F+=8)I[N++]=this.g[b]>>>F&255;return I};function s(I,N){var b=c;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=N(I)}function o(I,N){this.h=N;const b=[];let F=!0;for(let O=I.length-1;O>=0;O--){const M=I[O]|0;F&&M==N||(b[O]=M,F=!1)}this.g=b}var c={};function f(I){return-128<=I&&I<128?s(I,function(N){return new o([N|0],N<0?-1:0)}):new o([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return g;if(I<0)return C(d(-I));const N=[];let b=1;for(let F=0;I>=b;F++)N[F]=I/b|0,b*=4294967296;return new o(N,0)}function h(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return C(h(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=d(Math.pow(N,8));let F=g;for(let M=0;M<I.length;M+=8){var O=Math.min(8,I.length-M);const U=parseInt(I.substring(M,M+O),N);O<8?(O=d(Math.pow(N,O)),F=F.j(O).add(d(U))):(F=F.j(b),F=F.add(d(U)))}return F}var g=f(0),v=f(1),T=f(16777216);t=o.prototype,t.m=function(){if(A(this))return-C(this).m();let I=0,N=1;for(let b=0;b<this.g.length;b++){const F=this.i(b);I+=(F>=0?F:4294967296+F)*N,N*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(A(this))return"-"+C(this).toString(I);const N=d(Math.pow(I,6));var b=this;let F="";for(;;){const O=H(b,N).g;b=k(b,O.j(N));let M=((b.g.length>0?b.g[0]:b.h)>>>0).toString(I);if(b=O,S(b))return M+F;for(;M.length<6;)M="0"+M;F=M+F}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=k(this,I),A(I)?-1:S(I)?0:1};function C(I){const N=I.g.length,b=[];for(let F=0;F<N;F++)b[F]=~I.g[F];return new o(b,~I.h).add(v)}t.abs=function(){return A(this)?C(this):this},t.add=function(I){const N=Math.max(this.g.length,I.g.length),b=[];let F=0;for(let O=0;O<=N;O++){let M=F+(this.i(O)&65535)+(I.i(O)&65535),U=(M>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);F=U>>>16,M&=65535,U&=65535,b[O]=U<<16|M}return new o(b,b[b.length-1]&-2147483648?-1:0)};function k(I,N){return I.add(C(N))}t.j=function(I){if(S(this)||S(I))return g;if(A(this))return A(I)?C(this).j(C(I)):C(C(this).j(I));if(A(I))return C(this.j(C(I)));if(this.l(T)<0&&I.l(T)<0)return d(this.m()*I.m());const N=this.g.length+I.g.length,b=[];for(var F=0;F<2*N;F++)b[F]=0;for(F=0;F<this.g.length;F++)for(let O=0;O<I.g.length;O++){const M=this.i(F)>>>16,U=this.i(F)&65535,ue=I.i(O)>>>16,pe=I.i(O)&65535;b[2*F+2*O]+=U*pe,V(b,2*F+2*O),b[2*F+2*O+1]+=M*pe,V(b,2*F+2*O+1),b[2*F+2*O+1]+=U*ue,V(b,2*F+2*O+1),b[2*F+2*O+2]+=M*ue,V(b,2*F+2*O+2)}for(I=0;I<N;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=N;I<2*N;I++)b[I]=0;return new o(b,0)};function V(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function D(I,N){this.g=I,this.h=N}function H(I,N){if(S(N))throw Error("division by zero");if(S(I))return new D(g,g);if(A(I))return N=H(C(I),N),new D(C(N.g),C(N.h));if(A(N))return N=H(I,C(N)),new D(C(N.g),N.h);if(I.g.length>30){if(A(I)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var b=v,F=N;F.l(I)<=0;)b=G(b),F=G(F);var O=K(b,1),M=K(F,1);for(F=K(F,2),b=K(b,2);!S(F);){var U=M.add(F);U.l(I)<=0&&(O=O.add(b),M=U),F=K(F,1),b=K(b,1)}return N=k(I,O.j(N)),new D(O,N)}for(O=g;I.l(N)>=0;){for(b=Math.max(1,Math.floor(I.m()/N.m())),F=Math.ceil(Math.log(b)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),M=d(b),U=M.j(N);A(U)||U.l(I)>0;)b-=F,M=d(b),U=M.j(N);S(M)&&(M=v),O=O.add(M),I=k(I,U)}return new D(O,I)}t.B=function(I){return H(this,I).h},t.and=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)&I.i(F);return new o(b,this.h&I.h)},t.or=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)|I.i(F);return new o(b,this.h|I.h)},t.xor=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)^I.i(F);return new o(b,this.h^I.h)};function G(I){const N=I.g.length+1,b=[];for(let F=0;F<N;F++)b[F]=I.i(F)<<1|I.i(F-1)>>>31;return new o(b,I.h)}function K(I,N){const b=N>>5;N%=32;const F=I.g.length-b,O=[];for(let M=0;M<F;M++)O[M]=N>0?I.i(M+b)>>>N|I.i(M+b+1)<<32-N:I.i(M+b);return new o(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,go=o}).apply(typeof bA<"u"?bA:typeof self<"u"?self:typeof window<"u"?window:{});var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vR,_f,xR,E0,_x,yR,_R,ER;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof c0=="object"&&c0];for(var R=0;R<y.length;++R){var L=y[R];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(y,R){if(R)e:{var L=r;y=y.split(".");for(var J=0;J<y.length-1;J++){var ye=y[J];if(!(ye in L))break e;L=L[ye]}y=y[y.length-1],J=L[y],R=R(J),R!=J&&R!=null&&e(L,y,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(R){var L=[],J;for(J in R)Object.prototype.hasOwnProperty.call(R,J)&&L.push([J,R[J]]);return L}});var s=s||{},o=this||self;function c(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function f(y,R,L){return y.call.apply(y.bind,arguments)}function d(y,R,L){return d=f,d.apply(null,arguments)}function h(y,R){var L=Array.prototype.slice.call(arguments,1);return function(){var J=L.slice();return J.push.apply(J,arguments),y.apply(this,J)}}function g(y,R){function L(){}L.prototype=R.prototype,y.Z=R.prototype,y.prototype=new L,y.prototype.constructor=y,y.Ob=function(J,ye,Ce){for(var je=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)je[Tt-2]=arguments[Tt];return R.prototype[ye].apply(J,je)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function T(y){const R=y.length;if(R>0){const L=Array(R);for(let J=0;J<R;J++)L[J]=y[J];return L}return[]}function S(y,R){for(let J=1;J<arguments.length;J++){const ye=arguments[J];var L=typeof ye;if(L=L!="object"?L:ye?Array.isArray(ye)?"array":L:"null",L=="array"||L=="object"&&typeof ye.length=="number"){L=y.length||0;const Ce=ye.length||0;y.length=L+Ce;for(let je=0;je<Ce;je++)y[L+je]=ye[je]}else y.push(ye)}}class A{constructor(R,L){this.i=R,this.j=L,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function C(y){o.setTimeout(()=>{throw y},0)}function k(){var y=I;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class V{constructor(){this.h=this.g=null}add(R,L){const J=D.get();J.set(R,L),this.h?this.h.next=J:this.g=J,this.h=J}}var D=new A(()=>new H,y=>y.reset());class H{constructor(){this.next=this.g=this.h=null}set(R,L){this.h=R,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let G,K=!1,I=new V,N=()=>{const y=Promise.resolve(void 0);G=()=>{y.then(b)}};function b(){for(var y;y=k();){try{y.h.call(y.g)}catch(L){C(L)}var R=D;R.j(y),R.h<100&&(R.h++,y.next=R.g,R.g=y)}K=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const L=()=>{};o.addEventListener("test",L,R),o.removeEventListener("test",L,R)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function ue(y,R){O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,R)}g(ue,O),ue.prototype.init=function(y,R){const L=this.type=y.type,J=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget,R||(L=="mouseover"?R=y.fromElement:L=="mouseout"&&(R=y.toElement)),this.relatedTarget=R,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),ae=0;function ee(y,R,L,J,ye){this.listener=y,this.proxy=null,this.src=R,this.type=L,this.capture=!!J,this.ha=ye,this.key=++ae,this.da=this.fa=!1}function le(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function se(y,R,L){for(const J in y)R.call(L,y[J],J,y)}function ke(y,R){for(const L in y)R.call(void 0,y[L],L,y)}function Z(y){const R={};for(const L in y)R[L]=y[L];return R}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(y,R){let L,J;for(let ye=1;ye<arguments.length;ye++){J=arguments[ye];for(L in J)y[L]=J[L];for(let Ce=0;Ce<B.length;Ce++)L=B[Ce],Object.prototype.hasOwnProperty.call(J,L)&&(y[L]=J[L])}}function W(y){this.src=y,this.g={},this.h=0}W.prototype.add=function(y,R,L,J,ye){const Ce=y.toString();y=this.g[Ce],y||(y=this.g[Ce]=[],this.h++);const je=he(y,R,J,ye);return je>-1?(R=y[je],L||(R.fa=!1)):(R=new ee(R,this.src,Ce,!!J,ye),R.fa=L,y.push(R)),R};function ne(y,R){const L=R.type;if(L in y.g){var J=y.g[L],ye=Array.prototype.indexOf.call(J,R,void 0),Ce;(Ce=ye>=0)&&Array.prototype.splice.call(J,ye,1),Ce&&(le(R),y.g[L].length==0&&(delete y.g[L],y.h--))}}function he(y,R,L,J){for(let ye=0;ye<y.length;++ye){const Ce=y[ye];if(!Ce.da&&Ce.listener==R&&Ce.capture==!!L&&Ce.ha==J)return ye}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Ie={};function be(y,R,L,J,ye){if(Array.isArray(R)){for(let Ce=0;Ce<R.length;Ce++)be(y,R[Ce],L,J,ye);return null}return L=nt(L),y&&y[pe]?y.J(R,L,c(J)?!!J.capture:!1,ye):De(y,R,L,!1,J,ye)}function De(y,R,L,J,ye,Ce){if(!R)throw Error("Invalid event type");const je=c(ye)?!!ye.capture:!!ye;let Tt=He(y);if(Tt||(y[ge]=Tt=new W(y)),L=Tt.add(R,L,J,je,Ce),L.proxy)return L;if(J=$e(),L.proxy=J,J.src=y,J.listener=L,y.addEventListener)M||(ye=je),ye===void 0&&(ye=!1),y.addEventListener(R.toString(),J,ye);else if(y.attachEvent)y.attachEvent(Je(R.toString()),J);else if(y.addListener&&y.removeListener)y.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return L}function $e(){function y(L){return R.call(y.src,y.listener,L)}const R=Ge;return y}function ie(y,R,L,J,ye){if(Array.isArray(R))for(var Ce=0;Ce<R.length;Ce++)ie(y,R[Ce],L,J,ye);else J=c(J)?!!J.capture:!!J,L=nt(L),y&&y[pe]?(y=y.i,Ce=String(R).toString(),Ce in y.g&&(R=y.g[Ce],L=he(R,L,J,ye),L>-1&&(le(R[L]),Array.prototype.splice.call(R,L,1),R.length==0&&(delete y.g[Ce],y.h--)))):y&&(y=He(y))&&(R=y.g[R.toString()],y=-1,R&&(y=he(R,L,J,ye)),(L=y>-1?R[y]:null)&&ht(L))}function ht(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[pe])ne(R.i,y);else{var L=y.type,J=y.proxy;R.removeEventListener?R.removeEventListener(L,J,y.capture):R.detachEvent?R.detachEvent(Je(L),J):R.addListener&&R.removeListener&&R.removeListener(J),(L=He(R))?(ne(L,y),L.h==0&&(L.src=null,R[ge]=null)):le(y)}}}function Je(y){return y in Ie?Ie[y]:Ie[y]="on"+y}function Ge(y,R){if(y.da)y=!0;else{R=new ue(R,this);const L=y.listener,J=y.ha||y.src;y.fa&&ht(y),y=L.call(J,R)}return y}function He(y){return y=y[ge],y instanceof W?y:null}var Be="__closure_events_fn_"+(Math.random()*1e9>>>0);function nt(y){return typeof y=="function"?y:(y[Be]||(y[Be]=function(R){return y.handleEvent(R)}),y[Be])}function rt(){F.call(this),this.i=new W(this),this.M=this,this.G=null}g(rt,F),rt.prototype[pe]=!0,rt.prototype.removeEventListener=function(y,R,L,J){ie(this,y,R,L,J)};function ft(y,R){var L,J=y.G;if(J)for(L=[];J;J=J.G)L.push(J);if(y=y.M,J=R.type||R,typeof R=="string")R=new O(R,y);else if(R instanceof O)R.target=R.target||y;else{var ye=R;R=new O(J,y),Q(R,ye)}ye=!0;let Ce,je;if(L)for(je=L.length-1;je>=0;je--)Ce=R.g=L[je],ye=fn(Ce,J,!0,R)&&ye;if(Ce=R.g=y,ye=fn(Ce,J,!0,R)&&ye,ye=fn(Ce,J,!1,R)&&ye,L)for(je=0;je<L.length;je++)Ce=R.g=L[je],ye=fn(Ce,J,!1,R)&&ye}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var y=this.i;for(const R in y.g){const L=y.g[R];for(let J=0;J<L.length;J++)le(L[J]);delete y.g[R],y.h--}}this.G=null},rt.prototype.J=function(y,R,L,J){return this.i.add(String(y),R,!1,L,J)},rt.prototype.K=function(y,R,L,J){return this.i.add(String(y),R,!0,L,J)};function fn(y,R,L,J){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();let ye=!0;for(let Ce=0;Ce<R.length;++Ce){const je=R[Ce];if(je&&!je.da&&je.capture==L){const Tt=je.listener,Fn=je.ha||je.src;je.fa&&ne(y.i,je),ye=Tt.call(Fn,J)!==!1&&ye}}return ye&&!J.defaultPrevented}function An(y,R){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=d(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:o.setTimeout(y,R||0)}function Hn(y){y.g=An(()=>{y.g=null,y.i&&(y.i=!1,Hn(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class gt extends F{constructor(R,L){super(),this.m=R,this.l=L,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Hn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ut(y){F.call(this),this.h=y,this.g={}}g(Ut,F);var Ct=[];function dn(y){se(y.g,function(R,L){this.g.hasOwnProperty(L)&&ht(R)},y),y.g={}}Ut.prototype.N=function(){Ut.Z.N.call(this),dn(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=o.JSON.stringify,Pn=o.JSON.parse,it=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function Ft(){}function Zt(){}var bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){O.call(this,"d")}g(Yt,O);function pr(){O.call(this,"c")}g(pr,O);var gn={},wa=null;function Wi(){return wa=wa||new rt}gn.Ia="serverreachability";function Hs(y){O.call(this,gn.Ia,y)}g(Hs,O);function Gr(y){const R=Wi();ft(R,new Hs(R))}gn.STAT_EVENT="statevent";function Zi(y,R){O.call(this,gn.STAT_EVENT,y),this.stat=R}g(Zi,O);function _n(y){const R=Wi();ft(R,new Zi(R,y))}gn.Ja="timingevent";function mr(y,R){O.call(this,gn.Ja,y),this.size=R}g(mr,O);function ti(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},R)}function jr(){this.g=!0}jr.prototype.ua=function(){this.g=!1};function Do(y,R,L,J,ye,Ce){y.info(function(){if(y.g)if(Ce){var je="",Tt=Ce.split("&");for(let Jt=0;Jt<Tt.length;Jt++){var Fn=Tt[Jt].split("=");if(Fn.length>1){const En=Fn[0];Fn=Fn[1];const ki=En.split("_");je=ki.length>=2&&ki[1]=="type"?je+(En+"="+Fn+"&"):je+(En+"=redacted&")}}}else je=null;else je=Ce;return"XMLHTTP REQ ("+J+") [attempt "+ye+"]: "+R+`
`+L+`
`+je})}function Sa(y,R,L,J,ye,Ce,je){y.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+ye+"]: "+R+`
`+L+`
`+Ce+" "+je})}function Nr(y,R,L,J){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+jt(y,L)+(J?" "+J:"")})}function Qn(y,R){y.info(function(){return"TIMEOUT: "+R})}jr.prototype.info=function(){};function jt(y,R){if(!y.g)return R;if(!R)return null;try{const Ce=JSON.parse(R);if(Ce){for(y=0;y<Ce.length;y++)if(Array.isArray(Ce[y])){var L=Ce[y];if(!(L.length<2)){var J=L[1];if(Array.isArray(J)&&!(J.length<1)){var ye=J[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(let je=1;je<J.length;je++)J[je]=""}}}}return Rt(Ce)}catch{return R}}var ni={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ze;function Qe(){}g(Qe,Ft),Qe.prototype.g=function(){return new XMLHttpRequest},Ze=new Qe;function ct(y){return encodeURIComponent(String(y))}function z(y){var R=1;y=y.split(":");const L=[];for(;R>0&&y.length;)L.push(y.shift()),R--;return y.length&&L.push(y.join(":")),L}function X(y,R,L,J){this.j=y,this.i=R,this.l=L,this.S=J||1,this.V=new Ut(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new q}function q(){this.i=null,this.g="",this.h=!1}var Y={},te={};function re(y,R,L){y.M=1,y.A=Mo(Gn(R)),y.u=L,y.R=!0,ve(y,null)}function ve(y,R){y.F=Date.now(),we(y),y.B=Gn(y.A);var L=y.B,J=y.S;Array.isArray(J)||(J=[String(J)]),Vl(L.i,"t",J),y.C=0,L=y.j.L,y.h=new q,y.g=Vd(y.j,L?R:null,!y.u),y.P>0&&(y.O=new gt(d(y.Y,y,y.g),y.P)),R=y.V,L=y.g,J=y.ba;var ye="readystatechange";Array.isArray(ye)||(ye&&(Ct[0]=ye.toString()),ye=Ct);for(let Ce=0;Ce<ye.length;Ce++){const je=be(L,ye[Ce],J||R.handleEvent,!1,R.h||R);if(!je)break;R.g[je.key]=je}R=y.J?Z(y.J):{},y.u?(y.v||(y.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,R)):(y.v="GET",y.g.ea(y.B,y.v,null,R)),Gr(),Do(y.i,y.v,y.B,y.l,y.S,y.u)}X.prototype.ba=function(y){y=y.target;const R=this.O;R&&ns(y)==3?R.j():this.Y(y)},X.prototype.Y=function(y){try{if(y==this.g)e:{const Tt=ns(this.g),Fn=this.g.ya(),Jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||gr(this.g)))){this.K||Tt!=4||Fn==7||(Fn==8||Jt<=0?Gr(3):Gr(2)),ze(this);var R=this.g.ca();this.X=R;var L=Ae(this);if(this.o=R==200,Sa(this.i,this.v,this.B,this.l,this.S,Tt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var J,ye=this.g;if((J=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(J)){var Ce=J;break t}}Ce=null}if(y=Ce)Nr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,y);else{this.o=!1,this.m=3,_n(12),Ue(this),Ke(this);break e}}if(this.R){y=!0;let En;for(;!this.K&&this.C<L.length;)if(En=Te(this,L),En==te){Tt==4&&(this.m=4,_n(14),y=!1),Nr(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Y){this.m=4,_n(15),Nr(this.i,this.l,L,"[Invalid Chunk]"),y=!1;break}else Nr(this.i,this.l,En,null),qe(this,En);if(xe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||L.length!=0||this.h.h||(this.m=1,_n(16),y=!1),this.o=this.o&&y,!y)Nr(this.i,this.l,L,"[Invalid Chunked Response]"),Ue(this),Ke(this);else if(L.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Eu(je),je.P=!0,_n(11))}}else Nr(this.i,this.l,L,null),qe(this,L);Tt==4&&Ue(this),this.o&&!this.K&&(Tt==4?Fd(this.j,this):(this.o=!1,we(this)))}else js(this.g),R==400&&L.indexOf("Unknown SID")>0?(this.m=3,_n(12)):(this.m=0,_n(13)),Ue(this),Ke(this)}}}catch{}};function Ae(y){if(!xe(y))return y.g.la();const R=gr(y.g);if(R==="")return"";let L="";const J=R.length,ye=ns(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ue(y),Ke(y),"";y.h.i=new o.TextDecoder}for(let Ce=0;Ce<J;Ce++)y.h.h=!0,L+=y.h.i.decode(R[Ce],{stream:!(ye&&Ce==J-1)});return R.length=0,y.h.g+=L,y.C=0,y.h.g}function xe(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Te(y,R){var L=y.C,J=R.indexOf(`
`,L);return J==-1?te:(L=Number(R.substring(L,J)),isNaN(L)?Y:(J+=1,J+L>R.length?te:(R=R.slice(J,J+L),y.C=J+L,R)))}X.prototype.cancel=function(){this.K=!0,Ue(this)};function we(y){y.T=Date.now()+y.H,Ve(y,y.H)}function Ve(y,R){if(y.D!=null)throw Error("WatchDog timer not null");y.D=ti(d(y.aa,y),R)}function ze(y){y.D&&(o.clearTimeout(y.D),y.D=null)}X.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Qn(this.i,this.B),this.M!=2&&(Gr(),_n(17)),Ue(this),this.m=2,Ke(this)):Ve(this,this.T-y)};function Ke(y){y.j.I==0||y.K||Fd(y.j,y)}function Ue(y){ze(y);var R=y.O;R&&typeof R.dispose=="function"&&R.dispose(),y.O=null,dn(y.V),y.g&&(R=y.g,y.g=null,R.abort(),R.dispose())}function qe(y,R){try{var L=y.j;if(L.I!=0&&(L.g==y||Ir(L.h,y))){if(!y.L&&Ir(L.h,y)&&L.I==3){try{var J=L.Ba.g.parse(R)}catch{J=null}if(Array.isArray(J)&&J.length==3){var ye=J;if(ye[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<y.F)jl(L),Ma(L);else break e;Bo(L),_n(18)}}else L.xa=ye[1],0<L.xa-L.K&&ye[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=ti(d(L.Va,L),6e3));hn(L.h)<=1&&L.ta&&(L.ta=void 0)}else Ss(L,11)}else if((y.L||L.g==y)&&jl(L),!U(R))for(ye=L.Ba.g.parse(R),R=0;R<ye.length;R++){let Jt=ye[R];const En=Jt[0];if(!(En<=L.K))if(L.K=En,Jt=Jt[1],L.I==2)if(Jt[0]=="c"){L.M=Jt[1],L.ba=Jt[2];const ki=Jt[3];ki!=null&&(L.ka=ki,L.j.info("VER="+L.ka));const As=Jt[4];As!=null&&(L.za=As,L.j.info("SVER="+L.za));const rs=Jt[5];rs!=null&&typeof rs=="number"&&rs>0&&(J=1.5*rs,L.O=J,L.j.info("backChannelRequestTimeoutMs_="+J)),J=L;const is=y.g;if(is){const zo=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zo){var Ce=J.h;Ce.g||zo.indexOf("spdy")==-1&&zo.indexOf("quic")==-1&&zo.indexOf("h2")==-1||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(Xi(Ce,Ce.h),Ce.h=null))}if(J.G){const ql=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(J.wa=ql,tn(J.J,J.G,ql))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-y.F,L.j.info("Handshake RTT: "+L.T+"ms")),J=L;var je=y;if(J.na=Ud(J,J.L?J.ba:null,J.W),je.L){Qi(J.h,je);var Tt=je,Fn=J.O;Fn&&(Tt.H=Fn),Tt.D&&(ze(Tt),we(Tt)),J.g=je}else Md(J);L.i.length>0&&ws(L)}else Jt[0]!="stop"&&Jt[0]!="close"||Ss(L,7);else L.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Ss(L,7):yu(L):Jt[0]!="noop"&&L.l&&L.l.qa(Jt),L.A=0)}}Gr(4)}catch{}}var et=class{constructor(y,R){this.g=y,this.map=R}};function Qt(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function en(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function hn(y){return y.h?1:y.g?y.g.size:0}function Ir(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Xi(y,R){y.g?y.g.add(R):y.h=R}function Qi(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}Qt.prototype.cancel=function(){if(this.i=mi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function mi(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const L of y.g.values())R=R.concat(L.G);return R}return T(y.i)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rr(y,R){if(y){y=y.split("&");for(let L=0;L<y.length;L++){const J=y[L].indexOf("=");let ye,Ce=null;J>=0?(ye=y[L].substring(0,J),Ce=y[L].substring(J+1)):ye=y[L],R(ye,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function gi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;y instanceof gi?(this.l=y.l,or(this,y.j),this.o=y.o,this.g=y.g,Ca(this,y.u),this.h=y.h,du(this,kd(y.i)),this.m=y.m):y&&(R=String(y).match(Aa))?(this.l=!1,or(this,R[1]||"",!0),this.o=ys(R[2]||""),this.g=ys(R[3]||"",!0),Ca(this,R[4]),this.h=ys(R[5]||"",!0),du(this,R[6]||"",!0),this.m=ys(R[7]||"")):(this.l=!1,this.i=new Na(null,this.l))}gi.prototype.toString=function(){const y=[];var R=this.j;R&&y.push(Po(R,Ul,!0),":");var L=this.g;return(L||R=="file")&&(y.push("//"),(R=this.o)&&y.push(Po(R,Ul,!0),"@"),y.push(ct(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&y.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&y.push("/"),y.push(Po(L,L.charAt(0)=="/"?hu:Nd,!0))),(L=this.i.toString())&&y.push("?",L),(L=this.m)&&y.push("#",Po(L,Id)),y.join("")},gi.prototype.resolve=function(y){const R=Gn(this);let L=!!y.j;L?or(R,y.j):L=!!y.o,L?R.o=y.o:L=!!y.g,L?R.g=y.g:L=y.u!=null;var J=y.h;if(L)Ca(R,y.u);else if(L=!!y.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var ye=R.h.lastIndexOf("/");ye!=-1&&(J=R.h.slice(0,ye+1)+J)}if(ye=J,ye==".."||ye==".")J="";else if(ye.indexOf("./")!=-1||ye.indexOf("/.")!=-1){J=ye.lastIndexOf("/",0)==0,ye=ye.split("/");const Ce=[];for(let je=0;je<ye.length;){const Tt=ye[je++];Tt=="."?J&&je==ye.length&&Ce.push(""):Tt==".."?((Ce.length>1||Ce.length==1&&Ce[0]!="")&&Ce.pop(),J&&je==ye.length&&Ce.push("")):(Ce.push(Tt),J=!0)}J=Ce.join("/")}else J=ye}return L?R.h=J:L=y.i.toString()!=="",L?du(R,kd(y.i)):L=!!y.m,L&&(R.m=y.m),R};function Gn(y){return new gi(y)}function or(y,R,L){y.j=L?ys(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Ca(y,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);y.u=R}else y.u=null}function du(y,R,L){R instanceof Na?(y.i=R,Bl(y.i,y.l)):(L||(R=Po(R,ba)),y.i=new Na(R,y.l))}function tn(y,R,L){y.i.set(R,L)}function Mo(y){return tn(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function ys(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Po(y,R,L){return typeof y=="string"?(y=encodeURI(y).replace(R,ri),L&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ri(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ul=/[#\/\?@]/g,Nd=/[#\?:]/g,hu=/[#\?]/g,ba=/[#\?@]/g,Id=/#/g;function Na(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function ii(y){y.g||(y.g=new Map,y.h=0,y.i&&Rr(y.i,function(R,L){y.add(decodeURIComponent(R.replace(/\+/g," ")),L)}))}t=Na.prototype,t.add=function(y,R){ii(this),this.i=null,y=Ia(this,y);let L=this.g.get(y);return L||this.g.set(y,L=[]),L.push(R),this.h+=1,this};function Rd(y,R){ii(y),R=Ia(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function pu(y,R){return ii(y),R=Ia(y,R),y.g.has(R)}t.forEach=function(y,R){ii(this),this.g.forEach(function(L,J){L.forEach(function(ye){y.call(R,ye,J,this)},this)},this)};function mu(y,R){ii(y);let L=[];if(typeof R=="string")pu(y,R)&&(L=L.concat(y.g.get(Ia(y,R))));else for(y=Array.from(y.g.values()),R=0;R<y.length;R++)L=L.concat(y[R]);return L}t.set=function(y,R){return ii(this),this.i=null,y=Ia(this,y),pu(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},t.get=function(y,R){return y?(y=mu(this,y),y.length>0?String(y[0]):R):R};function Vl(y,R,L){Rd(y,R),L.length>0&&(y.i=null,y.g.set(Ia(y,R),T(L)),y.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(let J=0;J<R.length;J++){var L=R[J];const ye=ct(L);L=mu(this,L);for(let Ce=0;Ce<L.length;Ce++){let je=ye;L[Ce]!==""&&(je+="="+ct(L[Ce])),y.push(je)}}return this.i=y.join("&")};function kd(y){const R=new Na;return R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),R}function Ia(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function Bl(y,R){R&&!y.j&&(ii(y),y.i=null,y.g.forEach(function(L,J){const ye=J.toLowerCase();J!=ye&&(Rd(this,J),Vl(this,ye,L))},y)),y.j=R}function es(y,R){const L=new jr;if(o.Image){const J=new Image;J.onload=h(Ii,L,"TestLoadImage: loaded",!0,R,J),J.onerror=h(Ii,L,"TestLoadImage: error",!1,R,J),J.onabort=h(Ii,L,"TestLoadImage: abort",!1,R,J),J.ontimeout=h(Ii,L,"TestLoadImage: timeout",!1,R,J),o.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=y}else R(!1)}function gu(y,R){const L=new jr,J=new AbortController,ye=setTimeout(()=>{J.abort(),Ii(L,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:J.signal}).then(Ce=>{clearTimeout(ye),Ce.ok?Ii(L,"TestPingServer: ok",!0,R):Ii(L,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ye),Ii(L,"TestPingServer: error",!1,R)})}function Ii(y,R,L,J,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),J(L)}catch{}}function Ra(){this.g=new it}function _s(y){this.i=y.Sb||null,this.h=y.ab||!1}g(_s,Ft),_s.prototype.g=function(){return new Fo(this.i,this.h)};function Fo(y,R){rt.call(this),this.H=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Fo,rt),t=Fo.prototype,t.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=R,this.readyState=1,ts(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(R.body=y),(this.H||o).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zl(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function zl(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?ka(this):ts(this),this.readyState==3&&zl(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ka(this))},t.Na=function(y){this.g&&(this.response=y,ka(this))},t.ga=function(){this.g&&ka(this)};function ka(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ts(y)}t.setRequestHeader=function(y,R){this.A.append(y,R)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var L=R.next();!L.done;)L=L.value,y.push(L[0]+": "+L[1]),L=R.next();return y.join(`\r
`)};function ts(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ri(y){let R="";return se(y,function(L,J){R+=J,R+=":",R+=L,R+=`\r
`}),R}function Oo(y,R,L){e:{for(J in L){var J=!1;break e}J=!0}J||(L=Ri(L),typeof y=="string"?L!=null&&ct(L):tn(y,R,L))}function an(y){rt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(an,rt);var Es=/^https?$/i,vu=["POST","PUT"];t=an.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,R,L,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ze.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(Ce){Lo(this,Ce);return}if(y=L||"",L=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var ye in J)L.set(ye,J[ye]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ce of J.keys())L.set(Ce,J.get(Ce));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(L.keys()).find(Ce=>Ce.toLowerCase()=="content-type"),ye=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(vu,R,void 0)>=0)||J||ye||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ce,je]of L)this.g.setRequestHeader(Ce,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(Ce){Lo(this,Ce)}};function Lo(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.o=5,xu(y),Gs(y)}function xu(y){y.A||(y.A=!0,ft(y,"complete"),ft(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,ft(this,"complete"),ft(this,"abort"),Gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),an.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Uo(this):this.Xa())},t.Xa=function(){Uo(this)};function Uo(y){if(y.h&&typeof s<"u"){if(y.v&&ns(y)==4)setTimeout(y.Ca.bind(y),0);else if(ft(y,"readystatechange"),ns(y)==4){y.h=!1;try{const Ce=y.ca();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var L;if(!(L=R)){var J;if(J=Ce===0){let je=String(y.D).match(Aa)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),J=!Es.test(je?je.toLowerCase():"")}L=J}if(L)ft(y,"complete"),ft(y,"success");else{y.o=6;try{var ye=ns(y)>2?y.g.statusText:""}catch{ye=""}y.l=ye+" ["+y.ca()+"]",xu(y)}}finally{Gs(y)}}}}function Gs(y,R){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const L=y.g;y.g=null,R||ft(y,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ns(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ns(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),Pn(R)}};function gr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function js(y){const R={};y=(y.g&&ns(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<y.length;J++){if(U(y[J]))continue;var L=z(y[J]);const ye=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Ce=R[ye]||[];R[ye]=Ce,Ce.push(L)}ke(R,function(J){return J.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(y,R,L){return L&&L.internalChannelParams&&L.internalChannelParams[y]||R}function Da(y){this.za=0,this.i=[],this.j=new jr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ts("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ts("baseRetryDelayMs",5e3,y),this.Za=Ts("retryDelaySeedMs",1e4,y),this.Ta=Ts("forwardChannelMaxRetries",2,y),this.va=Ts("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Qt(y&&y.concurrentRequestLimit),this.Ba=new Ra,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Da.prototype,t.ka=8,t.I=1,t.connect=function(y,R,L,J){_n(0),this.W=y,this.H=R||{},L&&J!==void 0&&(this.H.OSID=L,this.H.OAID=J),this.F=this.X,this.J=Ud(this,null,this.W),ws(this)};function yu(y){if(Hl(y),y.I==3){var R=y.V++,L=Gn(y.J);if(tn(L,"SID",y.M),tn(L,"RID",R),tn(L,"TYPE","terminate"),Vo(y,L),R=new X(y,y.j,R),R.M=2,R.A=Mo(Gn(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(R.A.toString(),"")}catch{}!L&&o.Image&&(new Image().src=R.A,L=!0),L||(R.g=Vd(R.j,null),R.g.ea(R.A)),R.F=Date.now(),we(R)}Ld(y)}function Ma(y){y.g&&(Eu(y),y.g.cancel(),y.g=null)}function Hl(y){Ma(y),y.v&&(o.clearTimeout(y.v),y.v=null),jl(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function ws(y){if(!en(y.h)&&!y.m){y.m=!0;var R=y.Ea;G||N(),K||(G(),K=!0),I.add(R,y),y.D=0}}function Gl(y,R){return hn(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=R.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=ti(d(y.Ea,y,R),Od(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const ye=new X(this,this.j,y);let Ce=this.o;if(this.U&&(Ce?(Ce=Z(Ce),Q(Ce,this.U)):Ce=this.U),this.u!==null||this.R||(ye.J=Ce,Ce=null),this.S)e:{for(var R=0,L=0;L<this.i.length;L++){t:{var J=this.i[L];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(R+=J,R>4096){R=L;break e}if(R===4096||L===this.i.length-1){R=L+1;break e}}R=1e3}else R=1e3;R=Dd(this,ye,R),L=Gn(this.J),tn(L,"RID",y),tn(L,"CVER",22),this.G&&tn(L,"X-HTTP-Session-Id",this.G),Vo(this,L),Ce&&(this.R?R="headers="+ct(Ri(Ce))+"&"+R:this.u&&Oo(L,this.u,Ce)),Xi(this.h,ye),this.Ra&&tn(L,"TYPE","init"),this.S?(tn(L,"$req",R),tn(L,"SID","null"),ye.U=!0,re(ye,L,null)):re(ye,L,R),this.I=2}}else this.I==3&&(y?_u(this,y):this.i.length==0||en(this.h)||_u(this))};function _u(y,R){var L;R?L=R.l:L=y.V++;const J=Gn(y.J);tn(J,"SID",y.M),tn(J,"RID",L),tn(J,"AID",y.K),Vo(y,J),y.u&&y.o&&Oo(J,y.u,y.o),L=new X(y,y.j,L,y.D+1),y.u===null&&(L.J=y.o),R&&(y.i=R.G.concat(y.i)),R=Dd(y,L,1e3),L.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Xi(y.h,L),re(L,J,R)}function Vo(y,R){y.H&&se(y.H,function(L,J){tn(R,J,L)}),y.l&&se({},function(L,J){tn(R,J,L)})}function Dd(y,R,L){L=Math.min(y.i.length,L);const J=y.l?d(y.l.Ka,y.l,y):null;e:{var ye=y.i;let Tt=-1;for(;;){const Fn=["count="+L];Tt==-1?L>0?(Tt=ye[0].g,Fn.push("ofs="+Tt)):Tt=0:Fn.push("ofs="+Tt);let Jt=!0;for(let En=0;En<L;En++){var Ce=ye[En].g;const ki=ye[En].map;if(Ce-=Tt,Ce<0)Tt=Math.max(0,ye[En].g-100),Jt=!1;else try{Ce="req"+Ce+"_"||"";try{var je=ki instanceof Map?ki:Object.entries(ki);for(const[As,rs]of je){let is=rs;c(rs)&&(is=Rt(rs)),Fn.push(Ce+As+"="+encodeURIComponent(is))}}catch(As){throw Fn.push(Ce+"type="+encodeURIComponent("_badmap")),As}}catch{J&&J(ki)}}if(Jt){je=Fn.join("&");break e}}je=void 0}return y=y.i.splice(0,L),R.G=y,je}function Md(y){if(!y.g&&!y.v){y.Y=1;var R=y.Da;G||N(),K||(G(),K=!0),I.add(R,y),y.A=0}}function Bo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=ti(d(y.Da,y),Od(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Pd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=ti(d(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_n(10),Ma(this),Pd(this))};function Eu(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function Pd(y){y.g=new X(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var R=Gn(y.na);tn(R,"RID","rpc"),tn(R,"SID",y.M),tn(R,"AID",y.K),tn(R,"CI",y.F?"0":"1"),!y.F&&y.ia&&tn(R,"TO",y.ia),tn(R,"TYPE","xmlhttp"),Vo(y,R),y.u&&y.o&&Oo(R,y.u,y.o),y.O&&(y.g.H=y.O);var L=y.g;y=y.ba,L.M=1,L.A=Mo(Gn(R)),L.u=null,L.R=!0,ve(L,y)}t.Va=function(){this.C!=null&&(this.C=null,Ma(this),Bo(this),_n(19))};function jl(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function Fd(y,R){var L=null;if(y.g==R){jl(y),Eu(y),y.g=null;var J=2}else if(Ir(y.h,R))L=R.G,Qi(y.h,R),J=1;else return;if(y.I!=0){if(R.o)if(J==1){L=R.u?R.u.length:0,R=Date.now()-R.F;var ye=y.D;J=Wi(),ft(J,new mr(J,L)),ws(y)}else Md(y);else if(ye=R.m,ye==3||ye==0&&R.X>0||!(J==1&&Gl(y,R)||J==2&&Bo(y)))switch(L&&L.length>0&&(R=y.h,R.i=R.i.concat(L)),ye){case 1:Ss(y,5);break;case 4:Ss(y,10);break;case 3:Ss(y,6);break;default:Ss(y,2)}}}function Od(y,R){let L=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(L*=2),L*R}function Ss(y,R){if(y.j.info("Error code "+R),R==2){var L=d(y.bb,y),J=y.Ua;const ye=!J;J=new gi(J||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||or(J,"https"),Mo(J),ye?es(J.toString(),L):gu(J.toString(),L)}else _n(2);y.I=0,y.l&&y.l.pa(R),Ld(y),Hl(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function Ld(y){if(y.I=0,y.ja=[],y.l){const R=mi(y.h);(R.length!=0||y.i.length!=0)&&(S(y.ja,R),S(y.ja,y.i),y.h.i.length=0,T(y.i),y.i.length=0),y.l.oa()}}function Ud(y,R,L){var J=L instanceof gi?Gn(L):new gi(L);if(J.g!="")R&&(J.g=R+"."+J.g),Ca(J,J.u);else{var ye=o.location;J=ye.protocol,R=R?R+"."+ye.hostname:ye.hostname,ye=+ye.port;const Ce=new gi(null);J&&or(Ce,J),R&&(Ce.g=R),ye&&Ca(Ce,ye),L&&(Ce.h=L),J=Ce}return L=y.G,R=y.wa,L&&R&&tn(J,L,R),tn(J,"VER",y.ka),Vo(y,J),J}function Vd(y,R,L){if(R&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Aa&&!y.ma?new an(new _s({ab:L})):new an(y.ma),R.Fa(y.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bd(){}t=Bd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pa(){}Pa.prototype.g=function(y,R){return new qr(y,R)};function qr(y,R){rt.call(this),this.g=new Da(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(y?y["X-WebChannel-Client-Profile"]=R.sa:y={"X-WebChannel-Client-Profile":R.sa}),this.g.U=y,(y=R&&R.Qb)&&!U(y)&&(this.g.u=y),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!U(R)&&(this.g.G=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new qs(this)}g(qr,rt),qr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){yu(this.g)},qr.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var L={};L.__data__=y,y=L}else this.v&&(L={},L.__data__=Rt(y),y=L);R.i.push(new et(R.Ya++,y)),R.I==3&&ws(R)},qr.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,qr.Z.N.call(this)};function zd(y){Yt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const L in R){y=L;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}g(zd,Yt);function Hd(){pr.call(this),this.status=1}g(Hd,pr);function qs(y){this.g=y}g(qs,Bd),qs.prototype.ra=function(){ft(this.g,"a")},qs.prototype.qa=function(y){ft(this.g,new zd(y))},qs.prototype.pa=function(y){ft(this.g,new Hd)},qs.prototype.oa=function(){ft(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,ER=function(){return new Pa},_R=function(){return Wi()},yR=gn,_x={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,E0=ni,fe.COMPLETE="complete",xR=fe,Zt.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",rt.prototype.listen=rt.prototype.J,_f=Zt,an.prototype.listenOnce=an.prototype.K,an.prototype.getLastError=an.prototype.Ha,an.prototype.getLastErrorCode=an.prototype.ya,an.prototype.getStatus=an.prototype.ca,an.prototype.getResponseJson=an.prototype.La,an.prototype.getResponseText=an.prototype.la,an.prototype.send=an.prototype.ea,an.prototype.setWithCredentials=an.prototype.Fa,vR=an}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});class Pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");let ou="12.9.0";function yZ(t){ou=t}const Tl=new cR("@firebase/firestore");function Ac(){return Tl.logLevel}function We(t,...e){if(Tl.logLevel<=Bt.DEBUG){const n=e.map(q1);Tl.debug(`Firestore (${ou}): ${t}`,...n)}}function xa(t,...e){if(Tl.logLevel<=Bt.ERROR){const n=e.map(q1);Tl.error(`Firestore (${ou}): ${t}`,...n)}}function wl(t,...e){if(Tl.logLevel<=Bt.WARN){const n=e.map(q1);Tl.warn(`Firestore (${ou}): ${t}`,...n)}}function q1(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function pt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TR(t,r,n)}function TR(t,e,n){let r=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xa(r),new Error(r)}function Xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||TR(e,i,r)}function Et(t,e){return t}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends au{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _Z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pr.UNAUTHENTICATED)))}shutdown(){}}class EZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class TZ{constructor(e){this.t=e,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new wR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new Pr(e)}}class wZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class SZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wZ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AZ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nZ(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xt(this.o===void 0,3512);const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class $1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function Ex(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Ev(i)===Ev(s)?Mt(i,s):Ev(i)?1:-1}return Mt(t.length,e.length)}const bZ=55296,NZ=57343;function Ev(t){const e=t.charCodeAt(0);return e>=bZ&&e<=NZ}function Yc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const IA="__name__";class Ms{constructor(e,n,r){n===void 0?n=0:n>e.length&&pt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ms.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Mt(e.length,n.length)}static compareSegments(e,n){const r=Ms.isNumericId(e),i=Ms.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):Ex(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return go.fromString(e.substring(4,e.length-2))}}class Cn extends Ms{construct(e,n,r){return new Cn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Cn(n)}static emptyPath(){return new Cn([])}}const IZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends Ms{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return IZ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IA}static keyField(){return new wr([IA])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new st(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new st(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new st(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new st(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Cn.fromString(e))}static fromName(e){return new ut(Cn.fromString(e).popFirst(5))}static empty(){return new ut(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Cn(e.slice()))}}function RZ(t,e,n){if(!n)throw new st(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kZ(t,e,n,r){if(e===!0&&r===!0)throw new st(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RA(t){if(!ut.isDocumentKey(t))throw new st(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function K1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pt(12329,{type:typeof t})}function xo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=K1(t);throw new st(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Xn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Td(t,e){if(!SR(t))throw new st(Le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new st(Le.INVALID_ARGUMENT,n);return!0}const kA=-62135596800,DA=1e6;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*DA);return new yn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kA)throw new st(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DA}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Td(e,yn._jsonSchema))return new yn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yn._jsonSchemaVersion="firestore/timestamp/1.0",yn._jsonSchema={type:Xn("string",yn._jsonSchemaVersion),seconds:Xn("number"),nanoseconds:Xn("number")};class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new yn(0,0))}static max(){return new xt(new yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ad=-1;function DZ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(r===1e9?new yn(n+1,0):new yn(n,r));return new Eo(i,ut.empty(),e)}function MZ(t){return new Eo(t.readTime,t.key,ad)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(xt.min(),ut.empty(),ad)}static max(){return new Eo(xt.max(),ut.empty(),ad)}}function PZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ut.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}const FZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lu(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==FZ)throw t;We("LocalStore","Unexpectedly lost primary lease")}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Oe.reject(n)}static resolve(e){return new Oe(((n,r)=>{n(e)}))}static reject(e){return new Oe(((n,r)=>{r(e)}))}static waitFor(e){return new Oe(((n,r)=>{let i=0,s=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++s,o&&s===i&&n()}),(f=>r(f)))})),o=!0,s===i&&n()}))}static or(e){let n=Oe.resolve(!1);for(const r of e)n=n.next((i=>i?Oe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Oe(((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;n(e[d]).next((h=>{o[d]=h,++c,c===s&&r(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new Oe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function LZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(t){return t.name==="IndexedDbTransactionError"}class Bp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bp.ce=-1;const Y1=-1;function zp(t){return t==null}function dp(t){return t===0&&1/t==-1/0}function UZ(t){return typeof t=="number"&&Number.isInteger(t)&&!dp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const AR="";function VZ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MA(e)),e=BZ(t.get(n),e);return MA(e)}function BZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case AR:n+="";break;default:n+=s}}return n}function MA(t){return t+AR+""}function PA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class bn{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new u0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new u0(this.root,e,this.comparator,!1)}getReverseIterator(){return new u0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new u0(this.root,e,this.comparator,!0)}}class u0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=s??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ar{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FA(this.data.getIterator())}getIteratorFrom(e){return new FA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ar)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ar(this.comparator);return n.data=e,n}}class FA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hs{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new hs([])}unionWith(e){let n=new ar(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class bR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bR("Invalid base64 string: "+s):s}})(e);return new br(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const zZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(Xt(!!t,39018),typeof t=="string"){let e=0;const n=zZ.exec(t);if(Xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(t.seconds),nanos:Vn(t.nanos)}}function Vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}const NR="server_timestamp",IR="__type__",RR="__previous_value__",kR="__local_write_time__";function J1(t){return(t?.mapValue?.fields||{})[IR]?.stringValue===NR}function Hp(t){const e=t.mapValue.fields[RR];return J1(e)?Hp(e):e}function od(t){const e=To(t.mapValue.fields[kR].timestampValue);return new yn(e.seconds,e.nanos)}class HZ{constructor(e,n,r,i,s,o,c,f,d,h,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=g}}const hp="(default)";class ld{constructor(e,n){this.projectId=e,this.database=n||hp}static empty(){return new ld("","")}get isDefaultDatabase(){return this.database===hp}isEqual(e){return e instanceof ld&&e.projectId===this.projectId&&e.database===this.database}}function GZ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new st(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(t.options.projectId,e)}const DR="__type__",jZ="__max__",f0={mapValue:{}},MR="__vector__",pp="value";function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J1(t)?4:$Z(t)?9007199254740991:qZ(t)?10:11:pt(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return od(t).isEqual(od(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=To(i.timestampValue),c=To(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return wo(i.bytesValue).isEqual(wo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Vn(i.geoPointValue.latitude)===Vn(s.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Vn(i.integerValue)===Vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Vn(i.doubleValue),c=Vn(s.doubleValue);return o===c?dp(o)===dp(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Yc(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(PA(o)!==PA(c))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(c[f]===void 0||!Us(o[f],c[f])))return!1;return!0})(t,e);default:return pt(52216,{left:t})}}function cd(t,e){return(t.values||[]).find((n=>Us(n,e)))!==void 0}function Jc(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=Vn(s.integerValue||s.doubleValue),f=Vn(o.integerValue||o.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return OA(t.timestampValue,e.timestampValue);case 4:return OA(od(t),od(e));case 5:return Ex(t.stringValue,e.stringValue);case 6:return(function(s,o){const c=wo(s),f=wo(o);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),f=o.split("/");for(let d=0;d<c.length&&d<f.length;d++){const h=Mt(c[d],f[d]);if(h!==0)return h}return Mt(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=Mt(Vn(s.latitude),Vn(o.latitude));return c!==0?c:Mt(Vn(s.longitude),Vn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return LA(t.arrayValue,e.arrayValue);case 10:return(function(s,o){const c=s.fields||{},f=o.fields||{},d=c[pp]?.arrayValue,h=f[pp]?.arrayValue,g=Mt(d?.values?.length||0,h?.values?.length||0);return g!==0?g:LA(d,h)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===f0.mapValue&&o===f0.mapValue)return 0;if(s===f0.mapValue)return 1;if(o===f0.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=o.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let g=0;g<f.length&&g<h.length;++g){const v=Ex(f[g],h[g]);if(v!==0)return v;const T=Jc(c[f[g]],d[h[g]]);if(T!==0)return T}return Mt(f.length,h.length)})(t.mapValue,e.mapValue);default:throw pt(23264,{he:n})}}function OA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=To(t),r=To(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function LA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Jc(n[i],r[i]);if(s)return s}return Mt(n.length,r.length)}function Wc(t){return Tx(t)}function Tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=To(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ut.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Tx(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Tx(n.fields[o])}`;return i+"}"})(t.mapValue):pt(61005,{value:t})}function T0(t){switch(So(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hp(t);return e?16+T0(e):16;case 5:return 2*t.stringValue.length;case 6:return wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+T0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Pl(r.fields,((s,o)=>{i+=s.length+T0(o)})),i})(t.mapValue);default:throw pt(13486,{value:t})}}function wx(t){return!!t&&"integerValue"in t}function W1(t){return!!t&&"arrayValue"in t}function UA(t){return!!t&&"nullValue"in t}function VA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function w0(t){return!!t&&"mapValue"in t}function qZ(t){return(t?.mapValue?.fields||{})[DR]?.stringValue===MR}function Of(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Pl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Of(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Of(t.arrayValue.values[n]);return e}return{...t}}function $Z(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jZ}class Gi{constructor(e){this.value=e}static empty(){return new Gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!w0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Of(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Of(o):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());w0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];w0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Gi(Of(this.value))}}function PR(t){const e=[];return Pl(t.fields,((n,r)=>{const i=new wr([n]);if(w0(r)){const s=PR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new hs(e)}class Or{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Or(e,0,xt.min(),xt.min(),xt.min(),Gi.empty(),0)}static newFoundDocument(e,n,r,i){return new Or(e,1,n,xt.min(),r,i,0)}static newNoDocument(e,n){return new Or(e,2,n,xt.min(),xt.min(),Gi.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,xt.min(),xt.min(),Gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mp{constructor(e,n){this.position=e,this.inclusive=n}}function BA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ut.comparator(ut.fromName(o.referenceValue),n.key):r=Jc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}class gp{constructor(e,n="asc"){this.field=e,this.dir=n}}function KZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FR{}class nr extends FR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JZ(e,n,r):n==="array-contains"?new XZ(e,r):n==="in"?new QZ(e,r):n==="not-in"?new eX(e,r):n==="array-contains-any"?new tX(e,r):new nr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WZ(e,r):new ZZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jc(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(Jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends FR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vs(e,n)}matches(e){return OR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OR(t){return t.op==="and"}function LR(t){return YZ(t)&&OR(t)}function YZ(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function Sx(t){if(t instanceof nr)return t.field.canonicalString()+t.op.toString()+Wc(t.value);if(LR(t))return t.filters.map((e=>Sx(e))).join(",");{const e=t.filters.map((n=>Sx(n))).join(",");return`${t.op}(${e})`}}function UR(t,e){return t instanceof nr?(function(r,i){return i instanceof nr&&r.op===i.op&&r.field.isEqual(i.field)&&Us(r.value,i.value)})(t,e):t instanceof Vs?(function(r,i){return i instanceof Vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,c)=>s&&UR(o,i.filters[c])),!0):!1})(t,e):void pt(19439)}function VR(t){return t instanceof nr?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wc(n.value)}`})(t):t instanceof Vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(VR).join(" ,")+"}"})(t):"Filter"}class JZ extends nr{constructor(e,n,r){super(e,n,r),this.key=ut.fromName(r.referenceValue)}matches(e){const n=ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class WZ extends nr{constructor(e,n){super(e,"in",n),this.keys=BR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ZZ extends nr{constructor(e,n){super(e,"not-in",n),this.keys=BR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function BR(t,e){return(e.arrayValue?.values||[]).map((n=>ut.fromName(n.referenceValue)))}class XZ extends nr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W1(n)&&cd(n.arrayValue,this.value)}}class QZ extends nr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cd(this.value.arrayValue,n)}}class eX extends nr{constructor(e,n){super(e,"not-in",n)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cd(this.value.arrayValue,n)}}class tX extends nr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>cd(this.value.arrayValue,r)))}}class nX{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function HA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nX(t,e,n,r,i,s,o)}function Z1(t){const e=Et(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Sx(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wc(r))).join(",")),e.Te=n}return e.Te}function X1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zA(t.startAt,e.startAt)&&zA(t.endAt,e.endAt)}function Ax(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Gp{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rX(t,e,n,r,i,s,o,c){return new Gp(t,e,n,r,i,s,o,c)}function jp(t){return new Gp(t)}function GA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iX(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function sX(t){return t.collectionGroup!==null}function Lf(t){const e=Et(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ar(wr.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new gp(s,r))})),n.has(wr.keyField().canonicalString())||e.Ie.push(new gp(wr.keyField(),r))}return e.Ie}function Ps(t){const e=Et(t);return e.Ee||(e.Ee=aX(e,Lf(t))),e.Ee}function aX(t,e){if(t.limitType==="F")return HA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new gp(i.field,s)}));const n=t.endAt?new mp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mp(t.startAt.position,t.startAt.inclusive):null;return HA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cx(t,e,n){return new Gp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qp(t,e){return X1(Ps(t),Ps(e))&&t.limitType===e.limitType}function zR(t){return`${Z1(Ps(t))}|lt:${t.limitType}`}function Cc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>VR(i))).join(", ")}]`),zp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Wc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Wc(i))).join(",")),`Target(${r})`})(Ps(t))}; limitType=${t.limitType})`}function $p(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ut.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Lf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,f){const d=BA(o,c,f);return o.inclusive?d<=0:d<0})(r.startAt,Lf(r),i)||r.endAt&&!(function(o,c,f){const d=BA(o,c,f);return o.inclusive?d>=0:d>0})(r.endAt,Lf(r),i))})(t,e)}function oX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HR(t){return(e,n)=>{let r=!1;for(const i of Lf(t)){const s=lX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lX(t,e,n){const r=t.field.isKeyField()?ut.comparator(e.key,n.key):(function(s,o,c){const f=o.data.field(s),d=c.data.field(s);return f!==null&&d!==null?Jc(f,d):pt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:t.dir})}}class Fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return CR(this.inner)}size(){return this.innerSize}}const cX=new bn(ut.comparator);function ya(){return cX}const GR=new bn(ut.comparator);function Ef(...t){let e=GR;for(const n of t)e=e.insert(n.key,n);return e}function jR(t){let e=GR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ul(){return Uf()}function qR(){return Uf()}function Uf(){return new Fl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const uX=new bn(ut.comparator),fX=new ar(ut.comparator);function Pt(...t){let e=fX;for(const n of t)e=e.add(n);return e}const dX=new ar(Mt);function hX(){return dX}function Q1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dp(e)?"-0":e}}function $R(t){return{integerValue:""+t}}function pX(t,e){return UZ(e)?$R(e):Q1(t,e)}class Kp{constructor(){this._=void 0}}function mX(t,e,n){return t instanceof vp?(function(i,s){const o={fields:{[IR]:{stringValue:NR},[kR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&J1(s)&&(s=Hp(s)),s&&(o.fields[RR]=s),{mapValue:o}})(n,e):t instanceof ud?YR(t,e):t instanceof fd?JR(t,e):(function(i,s){const o=KR(i,s),c=jA(o)+jA(i.Ae);return wx(o)&&wx(i.Ae)?$R(c):Q1(i.serializer,c)})(t,e)}function gX(t,e,n){return t instanceof ud?YR(t,e):t instanceof fd?JR(t,e):n}function KR(t,e){return t instanceof xp?(function(r){return wx(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class vp extends Kp{}class ud extends Kp{constructor(e){super(),this.elements=e}}function YR(t,e){const n=WR(e);for(const r of t.elements)n.some((i=>Us(i,r)))||n.push(r);return{arrayValue:{values:n}}}class fd extends Kp{constructor(e){super(),this.elements=e}}function JR(t,e){let n=WR(e);for(const r of t.elements)n=n.filter((i=>!Us(i,r)));return{arrayValue:{values:n}}}class xp extends Kp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jA(t){return Vn(t.integerValue||t.doubleValue)}function WR(t){return W1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ud&&i instanceof ud||r instanceof fd&&i instanceof fd?Yc(r.elements,i.elements,Us):r instanceof xp&&i instanceof xp?Us(r.Ae,i.Ae):r instanceof vp&&i instanceof vp})(t.transform,e.transform)}class xX{constructor(e,n){this.version=e,this.transformResults=n}}class fa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function S0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yp{}function ZR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QR(t.key,fa.none()):new wd(t.key,t.data,fa.none());{const n=t.data,r=Gi.empty();let i=new ar(wr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ol(t.key,r,new hs(i.toArray()),fa.none())}}function yX(t,e,n){t instanceof wd?(function(i,s,o){const c=i.value.clone(),f=$A(i.fieldTransforms,s,o.transformResults);c.setAll(f),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ol?(function(i,s,o){if(!S0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=$A(i.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(XR(i)),f.setAll(c),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Vf(t,e,n,r){return t instanceof wd?(function(s,o,c,f){if(!S0(s.precondition,o))return c;const d=s.value.clone(),h=KA(s.fieldTransforms,f,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ol?(function(s,o,c,f){if(!S0(s.precondition,o))return c;const d=KA(s.fieldTransforms,f,o),h=o.data;return h.setAll(XR(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,o,c){return S0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function _X(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KR(r.transform,i||null);s!=null&&(n===null&&(n=Gi.empty()),n.set(r.field,s))}return n||null}function qA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yc(r,i,((s,o)=>vX(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wd extends Yp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ol extends Yp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function $A(t,e,n){const r=new Map;Xt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,gX(o,c,n[i]))}return r}function KA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mX(s,o,e))}return r}class QR extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EX extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TX{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yX(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qR();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;const f=ZR(o,c);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(xt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pt())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,((n,r)=>qA(n,r)))&&Yc(this.baseMutations,e.baseMutations,((n,r)=>qA(n,r)))}}class ey{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return uX})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ey(e,n,r,i)}}class wX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SX{constructor(e,n){this.count=e,this.unchangedNames=n}}var Jn,Vt;function AX(t){switch(t){case Le.OK:return pt(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return pt(15467,{code:t})}}function ek(t){if(t===void 0)return xa("GRPC error has no .code"),Le.UNKNOWN;switch(t){case Jn.OK:return Le.OK;case Jn.CANCELLED:return Le.CANCELLED;case Jn.UNKNOWN:return Le.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return Le.INTERNAL;case Jn.UNAVAILABLE:return Le.UNAVAILABLE;case Jn.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Jn.NOT_FOUND:return Le.NOT_FOUND;case Jn.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Jn.ABORTED:return Le.ABORTED;case Jn.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Jn.DATA_LOSS:return Le.DATA_LOSS;default:return pt(39323,{code:t})}}(Vt=Jn||(Jn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";function CX(){return new TextEncoder}const bX=new go([4294967295,4294967295],0);function YA(t){const e=CX().encode(t),n=new gR;return n.update(e),new Uint8Array(n.digest())}function JA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new go([n,r],0),new go([i,s],0)]}class ty{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tf(`Invalid padding: ${n}`);if(r<0)throw new Tf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=go.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(go.fromNumber(r)));return i.compare(bX)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=YA(e),[r,i]=JA(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ty(s,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=YA(e),[r,i]=JA(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jp(xt.min(),i,new bn(Mt),ya(),Pt())}}class Sd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sd(r,n,Pt(),Pt(),Pt())}}class A0{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class tk{constructor(e,n){this.targetId=e,this.Ce=n}}class nk{constructor(e,n,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class WA{constructor(){this.ve=0,this.Fe=ZA(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pt(),n=Pt(),r=Pt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pt(38017,{changeType:s})}})),new Sd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=ZA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class NX{constructor(e){this.Ge=e,this.ze=new Map,this.je=ya(),this.He=d0(),this.Je=d0(),this.Ze=new bn(Mt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Ax(s))if(r===0){const o=new ut(s.path);this.et(n,o,Or.newNoDocument(o,xt.min()))}else Xt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),f=c?this.ct(c,e,o):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,c;try{o=wo(r).toUint8Array()}catch(f){if(f instanceof bR)return wl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new ty(o,i,s)}catch(f){return wl(f instanceof Tf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const c=this.ot(o);if(c){if(s.current&&Ax(c.target)){const f=new ut(c.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Or.newNoDocument(f,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}}));let r=Pt();this.Je.forEach(((s,o)=>{let c=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Jp(e,n,this.Ze,this.je,r);return this.je=ya(),this.He=d0(),this.Je=d0(),this.Ze=new bn(Mt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new WA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ar(Mt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ar(Mt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function d0(){return new bn(ut.comparator)}function ZA(){return new bn(ut.comparator)}const IX={asc:"ASCENDING",desc:"DESCENDING"},RX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kX={and:"AND",or:"OR"};class DX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bx(t,e){return t.useProto3Json||zp(e)?e:{value:e}}function yp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MX(t,e){return yp(t,e.toTimestamp())}function Fs(t){return Xt(!!t,49232),xt.fromTimestamp((function(n){const r=To(n);return new yn(r.seconds,r.nanos)})(t))}function ny(t,e){return Nx(t,e).canonicalString()}function Nx(t,e){const n=(function(i){return new Cn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ik(t){const e=Cn.fromString(t);return Xt(ck(e),10190,{key:e.toString()}),e}function Ix(t,e){return ny(t.databaseId,e.path)}function Tv(t,e){const n=ik(e);if(n.get(1)!==t.databaseId.projectId)throw new st(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new st(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ut(ak(n))}function sk(t,e){return ny(t.databaseId,e)}function PX(t){const e=ik(t);return e.length===4?Cn.emptyPath():ak(e)}function Rx(t){return new Cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ak(t){return Xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XA(t,e,n){return{name:Ix(t,e),fields:n.value.mapValue.fields}}function FX(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:pt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,h){return d.useProto3Json?(Xt(h===void 0||typeof h=="string",58123),br.fromBase64String(h||"")):(Xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),br.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(d){const h=d.code===void 0?Le.UNKNOWN:ek(d.code);return new st(h,d.message||"")})(o);n=new nk(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tv(t,r.document.name),s=Fs(r.document.updateTime),o=r.document.createTime?Fs(r.document.createTime):xt.min(),c=new Gi({mapValue:{fields:r.document.fields}}),f=Or.newFoundDocument(i,s,o,c),d=r.targetIds||[],h=r.removedTargetIds||[];n=new A0(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tv(t,r.document),s=r.readTime?Fs(r.readTime):xt.min(),o=Or.newNoDocument(i,s),c=r.removedTargetIds||[];n=new A0([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tv(t,r.document),s=r.removedTargetIds||[];n=new A0([],s,i,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new SX(i,s),c=r.targetId;n=new tk(c,o)}}return n}function OX(t,e){let n;if(e instanceof wd)n={update:XA(t,e.key,e.value)};else if(e instanceof QR)n={delete:Ix(t,e.key)};else if(e instanceof Ol)n={update:XA(t,e.key,e.data),updateMask:qX(e.fieldMask)};else{if(!(e instanceof EX))return pt(16599,{dt:e.type});n={verify:Ix(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const c=o.transform;if(c instanceof vp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ud)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof xp)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw pt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:MX(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pt(27497)})(t,e.precondition)),n}function LX(t,e){return t&&t.length>0?(Xt(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Fs(i.updateTime):Fs(s);return o.isEqual(xt.min())&&(o=Fs(s)),new xX(o,i.transformResults||[])})(n,e)))):[]}function UX(t,e){return{documents:[sk(t,e.path)]}}function VX(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sk(t,i);const s=(function(d){if(d.length!==0)return lk(Vs.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((h=>(function(v){return{field:bc(v.field),direction:HX(v.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=bx(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function BX(t){let e=PX(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=(function(g){const v=ok(g);return v instanceof Vs&&LR(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((v=>(function(S){return new gp(Nc(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,zp(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(g){const v=!!g.before,T=g.values||[];return new mp(T,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const v=!g.before,T=g.values||[];return new mp(T,v)})(n.endAt)),rX(e,i,o,s,c,"F",f,d)}function zX(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ok(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nc(n.unaryFilter.field);return nr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Nc(n.unaryFilter.field);return nr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Nc(n.unaryFilter.field);return nr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Nc(n.unaryFilter.field);return nr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nr.create(Nc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vs.create(n.compositeFilter.filters.map((r=>ok(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(t):pt(30097,{filter:t})}function HX(t){return IX[t]}function GX(t){return RX[t]}function jX(t){return kX[t]}function bc(t){return{fieldPath:t.canonicalString()}}function Nc(t){return wr.fromServerFormat(t.fieldPath)}function lk(t){return t instanceof nr?(function(n){if(n.op==="=="){if(VA(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NAN"}};if(UA(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VA(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NOT_NAN"}};if(UA(n.value))return{unaryFilter:{field:bc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bc(n.field),op:GX(n.op),value:n.value}}})(t):t instanceof Vs?(function(n){const r=n.getFilters().map((i=>lk(i)));return r.length===1?r[0]:{compositeFilter:{op:jX(n.op),filters:r}}})(t):pt(54877,{filter:t})}function qX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function uk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class fo{constructor(e,n,r,i,s=xt.min(),o=xt.min(),c=br.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $X{constructor(e){this.yt=e}}function KX(t){const e=BX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cx(e,e.limit,"L"):e}class YX{constructor(){this.Sn=new JX}addToCollectionParentIndex(e,n){return this.Sn.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(Eo.min())}updateCollectionGroup(e,n,r){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class JX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ar(Cn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ar(Cn.comparator)).toArray()}}const QA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fk=41943040;class fi{static withCacheSize(e){return new fi(e,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(fk,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);class Zc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zc(0)}static ar(){return new Zc(-1)}}const eC="LruGarbageCollector",WX=1048576;function tC([t,e],[n,r]){const i=Mt(t,n);return i===0?Mt(e,r):i}class ZX{constructor(e){this.Pr=e,this.buffer=new ar(tC),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){We(eC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?We(eC,"Ignoring IndexedDB error during garbage collection: ",n):await lu(n)}await this.Ar(3e5)}))}}class QX{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Oe.resolve(Bp.ce);const r=new ZX(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(We("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(QA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QA):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,c,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Ac()<=Bt.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function eQ(t,e){return new QX(t,e)}class tQ{constructor(){this.changes=new Fl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Vf(r.mutation,i,hs.empty(),yn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pt()){const i=ul();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Ef();return s.forEach(((c,f)=>{o=o.insert(c,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=ul();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let s=ya();const o=Uf(),c=(function(){return Uf()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Ol)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Vf(h.mutation,d,h.mutation.getFieldMask(),yn.now())):o.set(d.key,hs.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((d,h)=>o.set(d,h))),n.forEach(((d,h)=>c.set(d,new nQ(h,o.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Uf();let i=new bn(((o,c)=>o-c)),s=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||hs.empty();h=c.applyToLocalView(d,h),r.set(f,h);const g=(i.get(c.batchId)||Pt()).add(f);i=i.insert(c.batchId,g)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,h=f.value,g=qR();h.forEach((v=>{if(!s.has(v)){const T=ZR(n.get(v),r.get(v));T!==null&&g.set(v,T),s=s.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Oe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return iX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sX(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Oe.resolve(ul());let c=ad,f=s;return o.next((d=>Oe.forEach(d,((h,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(h)?Oe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{f=f.insert(h,v)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,f,d,Pt()))).next((h=>({batchId:c,changes:jR(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ut(n)).next((r=>{let i=Ef();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ef();return this.indexManager.getCollectionParents(e,s).next((c=>Oe.forEach(c,(f=>{const d=(function(g,v){return new Gp(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((f,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Or.newInvalidDocument(h)))}));let c=Ef();return o.forEach(((f,d)=>{const h=s.get(f);h!==void 0&&Vf(h.mutation,d,hs.empty(),yn.now()),$p(n,d)&&(c=c.insert(f,d))})),c}))}}class iQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fs(i.createTime)}})(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:KX(i.bundledQuery),readTime:Fs(i.readTime)}})(n)),Oe.resolve()}}class sQ{constructor(){this.overlays=new bn(ut.comparator),this.Lr=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ul();return Oe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),Oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),Oe.resolve()}getOverlaysForCollection(e,n,r){const i=ul(),s=n.length+1,o=new ut(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bn(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=ul(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const c=ul(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>c.set(d,h))),!(c.size()>=i)););return Oe.resolve(c)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wX(n,r));let s=this.Lr.get(n);s===void 0&&(s=Pt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class aQ{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}class ry{constructor(){this.kr=new ar(ur.Kr),this.qr=new ar(ur.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ur(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ur(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ut(new Cn([])),r=new ur(n,e),i=new ur(n,e+1),s=[];return this.qr.forEachInRange([r,i],(o=>{this.Wr(o),s.push(o.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ut(new Cn([])),r=new ur(n,e),i=new ur(n,e+1);let s=Pt();return this.qr.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new ur(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ur{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ut.comparator(e.key,n.key)||Mt(e.Hr,n.Hr)}static Ur(e,n){return Mt(e.Hr,n.Hr)||ut.comparator(e.key,n.key)}}class oQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ar(ur.Kr)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TX(s,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Jr=this.Jr.add(new ur(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(e,n){return Oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?Y1:this.Yn-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(o=>{const c=this.Zr(o.Hr);s.push(c)})),Oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ar(Mt);return n.forEach((i=>{const s=new ur(i,0),o=new ur(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],(c=>{r=r.add(c.Hr)}))})),Oe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ut.isDocumentKey(s)||(s=s.child(""));const o=new ur(new ut(s),0);let c=new ar(Mt);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.Hr)),!0)}),o),Oe.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Oe.forEach(n.mutations,(i=>{const s=new ur(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ur(n,0),i=this.Jr.firstAfterOrEqual(r);return Oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class lQ{constructor(e){this.ti=e,this.docs=(function(){return new bn(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Oe.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let r=ya();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Or.newInvalidDocument(i))})),Oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ya();const o=n.path,c=new ut(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||PZ(MZ(h),r)<=0||(i.has(h.key)||$p(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pt(9500)}ni(e,n){return Oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cQ(this)}getSize(e){return Oe.resolve(this.size)}}class cQ extends tQ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class uQ{constructor(e){this.persistence=e,this.ri=new Fl((n=>Z1(n)),X1),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ii=0,this.si=new ry,this.targetCount=0,this.oi=Zc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.lr(n),Oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Oe.waitFor(s).next((()=>i))}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Oe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Oe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Oe.resolve(r)}containsKey(e,n){return Oe.resolve(this.si.containsKey(n))}}class dk{constructor(e,n){this._i={},this.overlays={},this.ai=new Bp(0),this.ui=!1,this.ui=!0,this.ci=new aQ,this.referenceDelegate=e(this),this.li=new uQ(this),this.indexManager=new YX,this.remoteDocumentCache=(function(i){return new lQ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new $X(n),this.Pi=new iQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new oQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new fQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return Oe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class fQ extends OZ{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Ri=new ry,this.Ai=null}static Vi(e){return new iy(e)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.di,(r=>{const i=ut.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,xt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Oe.or([()=>Oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _p{constructor(e,n){this.persistence=e,this.fi=new Fl((r=>VZ(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=eQ(this,n)}static Vi(e,n){return new _p(e,n)}Ti(){}Ii(e){return Oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Oe.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?Oe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(o=>this.wr(e,o,n).next((c=>{c||(r++,s.removeEntry(o,xt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Oe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=T0(e.data.value)),n}wr(e,n,r){return Oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Pt(),i=Pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sy(e,n.fromCache,r,i)}}class dQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class hQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return QJ()?8:LZ(ZJ())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new dQ;return this.ys(e,n,o).next((c=>{if(s.result=c,this.As)return this.ws(e,n,o,c.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Ac()<=Bt.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",Cc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Oe.resolve()):(Ac()<=Bt.DEBUG&&We("QueryEngine","Query:",Cc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ac()<=Bt.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",Cc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):Oe.resolve())}gs(e,n){if(GA(n))return Oe.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Cx(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Pt(...s);return this.fs.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,c);return this.Ss(n,d,o,f.readTime)?this.gs(e,Cx(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,i){return GA(n)||i.isEqual(xt.min())?Oe.resolve(null):this.fs.getDocuments(e,r).next((s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?Oe.resolve(null):(Ac()<=Bt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cc(n)),this.Ds(e,o,n,DZ(i,ad)).next((c=>c)))}))}bs(e,n){let r=new ar(HR(e));return n.forEach(((i,s)=>{$p(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Ac()<=Bt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Cc(n)),this.fs.getDocumentsMatchingQuery(e,n,Eo.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const ay="LocalStore",pQ=3e8;class mQ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new bn(Mt),this.Fs=new Fl((s=>Z1(s)),X1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function gQ(t,e,n,r){return new mQ(t,e,n,r)}async function hk(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],c=[];let f=Pt();for(const d of i){o.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of s){c.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:o,addedBatchIds:c})))}))}))}function vQ(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,h){const g=d.batch,v=g.keys();let T=Oe.resolve();return v.forEach((S=>{T=T.next((()=>h.getEntry(f,S))).next((A=>{const C=d.docVersions.get(S);Xt(C!==null,48541),A.version.compareTo(C)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),h.addEntry(A)))}))})),T.next((()=>c.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Pt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function pk(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function xQ(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const c=[];e.targetChanges.forEach(((h,g)=>{const v=i.get(g);if(!v)return;c.push(n.li.removeMatchingKeys(s,h.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,h.addedDocuments,g))));let T=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(br.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(g,T),(function(A,C,k){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=pQ?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(v,T,h)&&c.push(n.li.updateTargetData(s,T))}));let f=ya(),d=Pt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))})),c.push(yQ(s,o,e.documentUpdates).next((h=>{f=h.Bs,d=h.Ls}))),!r.isEqual(xt.min())){const h=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(h)}return Oe.waitFor(c).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,d))).next((()=>f))})).then((s=>(n.vs=i,s)))}function yQ(t,e,n){let r=Pt(),i=Pt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=ya();return n.forEach(((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(xt.min())?(e.removeEntry(c,f.readTime),o=o.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(c,f)):We(ay,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:o,Ls:i}}))}function _Q(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Y1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function EQ(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,Oe.resolve(i)):n.li.allocateTargetId(r).next((o=>(i=new fo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function kx(t,e,n){const r=Et(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!cu(o))throw o;We(ay,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function nC(t,e,n){const r=Et(t);let i=xt.min(),s=Pt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,h){const g=Et(f),v=g.Fs.get(h);return v!==void 0?Oe.resolve(g.vs.get(v)):g.li.getTargetData(d,h)})(r,o,Ps(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,c.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:xt.min(),n?s:Pt()))).next((c=>(TQ(r,oX(e),c),{documents:c,ks:s})))))}function TQ(t,e,n){let r=t.Ms.get(e)||xt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class rC{constructor(){this.activeTargetIds=hX()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wQ{constructor(){this.vo=new rC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SQ{Mo(e){}shutdown(){}}const iC="ConnectivityMonitor";class sC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){We(iC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){We(iC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let h0=null;function Dx(){return h0===null?h0=(function(){return 268435456+Math.round(2147483648*Math.random())})():h0++,"0x"+h0.toString(16)}const wv="RestConnection",AQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class CQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===hp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Dx(),c=this.Qo(e,n.toUriEncodedString());We(wv,`Sending RPC '${e}' ${o}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:d}=new URL(c),h=G1(d);return this.zo(e,c,f,r,h).then((g=>(We(wv,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw wl(wv,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g}))}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ou})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=AQ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class bQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Mr="WebChannelConnection",cf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class zc extends CQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!zc.c_){const e=_R();cf(e,yR.STAT_EVENT,(n=>{n.stat===_x.PROXY?We(Mr,"STAT_EVENT: detected buffering proxy"):n.stat===_x.NOPROXY&&We(Mr,"STAT_EVENT: detected no buffering proxy")})),zc.c_=!0}}zo(e,n,r,i,s){const o=Dx();return new Promise(((c,f)=>{const d=new vR;d.setWithCredentials(!0),d.listenOnce(xR.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case E0.NO_ERROR:const g=d.getResponseJson();We(Mr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case E0.TIMEOUT:We(Mr,`RPC '${e}' ${o} timed out`),f(new st(Le.DEADLINE_EXCEEDED,"Request time out"));break;case E0.HTTP_ERROR:const v=d.getStatus();if(We(Mr,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const A=(function(k){const V=k.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(V)>=0?V:Le.UNKNOWN})(S.status);f(new st(A,S.message))}else f(new st(Le.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new st(Le.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{We(Mr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);We(Mr,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=Dx(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");We(Mr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let g=!1,v=!1;const T=new bQ({Ho:S=>{v?We(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(We(Mr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),g=!0),We(Mr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return cf(h,_f.EventType.OPEN,(()=>{v||(We(Mr,`RPC '${e}' stream ${i} transport opened.`),T.i_())})),cf(h,_f.EventType.CLOSE,(()=>{v||(v=!0,We(Mr,`RPC '${e}' stream ${i} transport closed`),T.o_(),this.E_(h))})),cf(h,_f.EventType.ERROR,(S=>{v||(v=!0,wl(Mr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),T.o_(new st(Le.UNAVAILABLE,"The operation could not be completed")))})),cf(h,_f.EventType.MESSAGE,(S=>{if(!v){const A=S.data[0];Xt(!!A,16349);const C=A,k=C?.error||C[0]?.error;if(k){We(Mr,`RPC '${e}' stream ${i} received error:`,k);const V=k.status;let D=(function(K){const I=Jn[K];if(I!==void 0)return ek(I)})(V),H=k.message;V==="NOT_FOUND"&&H.includes("database")&&H.includes("does not exist")&&H.includes(this.databaseId.database)&&wl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=Le.INTERNAL,H="Unknown error status: "+V+" with message "+k.message),v=!0,T.o_(new st(D,H)),h.close()}else We(Mr,`RPC '${e}' stream ${i} received:`,A),T.__(A)}})),zc.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ER()}}function NQ(t){return new zc(t)}function Sv(){return typeof document<"u"?document:null}function Wp(t){return new DX(t,!0)}zc.c_=!1;class mk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const aC="PersistentStream";class gk{constructor(e,n,r,i,s,o,c,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(xa(n.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new st(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return We(aC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(We(aC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IQ extends gk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FX(this.serializer,e),r=(function(s){if(!("targetChange"in s))return xt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?Fs(o.readTime):xt.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Rx(this.serializer),n.addTarget=(function(s,o){let c;const f=o.target;if(c=Ax(f)?{documents:UX(s,f)}:{query:VX(s,f).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=rk(s,o.resumeToken);const d=bx(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(xt.min())>0){c.readTime=yp(s,o.snapshotVersion.toTimestamp());const d=bx(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=zX(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Rx(this.serializer),n.removeTarget=e,this.K_(n)}}class RQ extends gk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LX(e.writeResults,e.commitTime),r=Fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rx(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>OX(this.serializer,r)))};this.K_(n)}}class kQ{}class DQ extends kQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new st(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Wo(e,Nx(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new st(Le.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.jo(e,Nx(n,r),i,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function MQ(t,e,n,r){return new DQ(t,e,n,r)}class PQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xa(n),this.aa=!1):We("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sl="RemoteStore";class FQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((o=>{r.enqueueAndForget((async()=>{Ll(this)&&(We(Sl,"Restarting streams for network reachability change."),await(async function(f){const d=Et(f);d.Ea.add(4),await Ad(d),d.Va.set("Unknown"),d.Ea.delete(4),await Zp(d)})(this))}))})),this.Va=new PQ(r,i)}}async function Zp(t){if(Ll(t))for(const e of t.Ra)await e(!0)}async function Ad(t){for(const e of t.Ra)await e(!1)}function vk(t,e){const n=Et(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uy(n)?cy(n):uu(n).O_()&&ly(n,e))}function oy(t,e){const n=Et(t),r=uu(n);n.Ia.delete(e),r.O_()&&xk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ll(n)&&n.Va.set("Unknown"))}function ly(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uu(t).Z_(e)}function xk(t,e){t.da.$e(e),uu(t).X_(e)}function cy(t){t.da=new NX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uu(t).start(),t.Va.ua()}function uy(t){return Ll(t)&&!uu(t).x_()&&t.Ia.size>0}function Ll(t){return Et(t).Ea.size===0}function yk(t){t.da=void 0}async function OQ(t){t.Va.set("Online")}async function LQ(t){t.Ia.forEach(((e,n)=>{ly(t,e)}))}async function UQ(t,e){yk(t),uy(t)?(t.Va.ha(e),cy(t)):t.Va.set("Unknown")}async function VQ(t,e,n){if(t.Va.set("Online"),e instanceof nk&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.da.removeTarget(c))})(t,e)}catch(r){We(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ep(t,r)}else if(e instanceof A0?t.da.Xe(e):e instanceof tk?t.da.st(e):t.da.tt(e),!n.isEqual(xt.min()))try{const r=await pk(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const c=s.da.Tt(o);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=s.Ia.get(d);h&&s.Ia.set(d,h.withResumeToken(f.resumeToken,o))}})),c.targetMismatches.forEach(((f,d)=>{const h=s.Ia.get(f);if(!h)return;s.Ia.set(f,h.withResumeToken(br.EMPTY_BYTE_STRING,h.snapshotVersion)),xk(s,f);const g=new fo(h.target,f,d,h.sequenceNumber);ly(s,g)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){We(Sl,"Failed to raise snapshot:",r),await Ep(t,r)}}async function Ep(t,e,n){if(!cu(e))throw e;t.Ea.add(1),await Ad(t),t.Va.set("Offline"),n||(n=()=>pk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{We(Sl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Zp(t)}))}function _k(t,e){return e().catch((n=>Ep(t,n,e)))}async function Xp(t){const e=Et(t),n=Ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Y1;for(;BQ(e);)try{const i=await _Q(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,zQ(e,i)}catch(i){await Ep(e,i)}Ek(e)&&Tk(e)}function BQ(t){return Ll(t)&&t.Ta.length<10}function zQ(t,e){t.Ta.push(e);const n=Ao(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Ek(t){return Ll(t)&&!Ao(t).x_()&&t.Ta.length>0}function Tk(t){Ao(t).start()}async function HQ(t){Ao(t).ra()}async function GQ(t){const e=Ao(t);for(const n of t.Ta)e.ea(n.mutations)}async function jQ(t,e,n){const r=t.Ta.shift(),i=ey.from(r,e,n);await _k(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Xp(t)}async function qQ(t,e){e&&Ao(t).Y_&&await(async function(r,i){if((function(o){return AX(o)&&o!==Le.ABORTED})(i.code)){const s=r.Ta.shift();Ao(r).B_(),await _k(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Xp(r)}})(t,e),Ek(t)&&Tk(t)}async function oC(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),We(Sl,"RemoteStore received new credentials");const r=Ll(n);n.Ea.add(3),await Ad(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zp(n)}async function $Q(t,e){const n=Et(t);e?(n.Ea.delete(2),await Zp(n)):e||(n.Ea.add(2),await Ad(n),n.Va.set("Unknown"))}function uu(t){return t.ma||(t.ma=(function(n,r,i){const s=Et(n);return s.sa(),new IQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:OQ.bind(null,t),Yo:LQ.bind(null,t),t_:UQ.bind(null,t),J_:VQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),uy(t)?cy(t):t.Va.set("Unknown")):(await t.ma.stop(),yk(t))}))),t.ma}function Ao(t){return t.fa||(t.fa=(function(n,r,i){const s=Et(n);return s.sa(),new RQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:HQ.bind(null,t),t_:qQ.bind(null,t),ta:GQ.bind(null,t),na:jQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Xp(t)):(await t.fa.stop(),t.Ta.length>0&&(We(Sl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class fy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,c=new fy(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(xa("AsyncQueue",`${e}: ${t}`),cu(t))return new st(Le.UNAVAILABLE,`${e}: ${t}`);throw t}class Hc{static emptySet(e){return new Hc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=Ef(),this.sortedSet=new bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lC{constructor(){this.ga=new bn(ut.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xc{constructor(e,n,r,i,s,o,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Xc(e,n,Hc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class KQ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class YQ{constructor(){this.queries=cC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=cC(),s.forEach(((o,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new st(Le.ABORTED,"Firestore shutting down"))}}function cC(){return new Fl((t=>zR(t)),qp)}async function wk(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new KQ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=dy(o,`Initialization of query '${Cc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&hy(n)}async function Sk(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JQ(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const c of o.ba)c.Fa(i)&&(r=!0);o.wa=i}}r&&hy(n)}function WQ(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function hy(t){t.Ca.forEach((e=>{e.next()}))}var Mx,uC;(uC=Mx||(Mx={})).Ma="default",uC.Cache="cache";class Ak{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mx.Cache}}class Ck{constructor(e){this.key=e}}class bk{constructor(e){this.key=e}}class ZQ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=HR(e),this.tu=new Hc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new lC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,g)=>{const v=i.get(h),T=$p(this.query,g)?g:null,S=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;v&&T?v.data.isEqual(T.data)?S!==A&&(r.track({type:3,doc:T}),C=!0):this.su(v,T)||(r.track({type:2,doc:T}),C=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(c=!0)):!v&&T?(r.track({type:0,doc:T}),C=!0):v&&!T&&(r.track({type:1,doc:v}),C=!0,(f||d)&&(c=!0)),C&&(T?(o=o.add(T),s=A?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,g)=>(function(T,S){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:C})}};return A(T)-A(S)})(h.type,g.type)||this.eu(h.doc,g.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,d=f!==this.Xa;return this.Xa=f,o.length!==0||d?{snapshot:new Xc(this.query,e.tu,s,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new bk(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Ck(r))})),n}cu(e){this.Za=e.ks,this.Ya=Pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const py="SyncEngine";class XQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QQ{constructor(e){this.key=e,this.hu=!1}}class eee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fl((c=>zR(c)),qp),this.Iu=new Map,this.Eu=new Set,this.Ru=new bn(ut.comparator),this.Au=new Map,this.Vu=new ry,this.du={},this.mu=new Map,this.fu=Zc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tee(t,e,n=!0){const r=Mk(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Nk(r,e,n,!0),i}async function nee(t,e){const n=Mk(t);await Nk(n,e,!0,!1)}async function Nk(t,e,n,r){const i=await EQ(t.localStore,Ps(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await ree(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&vk(t.remoteStore,i),c}async function ree(t,e,n,r,i){t.pu=(g,v,T)=>(async function(A,C,k,V){let D=C.view.ru(k);D.Ss&&(D=await nC(A.localStore,C.query,!1).then((({documents:I})=>C.view.ru(I,D))));const H=V&&V.targetChanges.get(C.targetId),G=V&&V.targetMismatches.get(C.targetId)!=null,K=C.view.applyChanges(D,A.isPrimaryClient,H,G);return dC(A,C.targetId,K.au),K.snapshot})(t,g,v,T);const s=await nC(t.localStore,e,!0),o=new ZQ(e,s.ks),c=o.ru(s.documents),f=Sd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(c,t.isPrimaryClient,f);dC(t,n,d.au);const h=new XQ(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function iee(t,e,n){const r=Et(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!qp(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await kx(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&oy(r.remoteStore,i.targetId),Px(r,i.targetId)})).catch(lu)):(Px(r,i.targetId),await kx(r.localStore,i.targetId,!0))}async function see(t,e){const n=Et(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oy(n.remoteStore,r.targetId))}async function aee(t,e,n){const r=hee(t);try{const i=await(function(o,c){const f=Et(o),d=yn.now(),h=c.reduce(((T,S)=>T.add(S.key)),Pt());let g,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let S=ya(),A=Pt();return f.xs.getEntries(T,h).next((C=>{S=C,S.forEach(((k,V)=>{V.isValidDocument()||(A=A.add(k))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,S))).next((C=>{g=C;const k=[];for(const V of c){const D=_X(V,g.get(V.key).overlayedDocument);D!=null&&k.push(new Ol(V.key,D,PR(D.value.mapValue),fa.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,k,c)})).next((C=>{v=C;const k=C.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(T,C.batchId,k)}))})).then((()=>({batchId:v.batchId,changes:jR(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,f){let d=o.du[o.currentUser.toKey()];d||(d=new bn(Mt)),d=d.insert(c,f),o.du[o.currentUser.toKey()]=d})(r,i.batchId,n),await Cd(r,i.changes),await Xp(r.remoteStore)}catch(i){const s=dy(i,"Failed to persist write");n.reject(s)}}async function Ik(t,e){const n=Et(t);try{const r=await xQ(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Xt(o.hu,14607):i.removedDocuments.size>0&&(Xt(o.hu,42227),o.hu=!1))})),await Cd(n,r,e)}catch(r){await lu(r)}}function fC(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const f=Et(o);f.onlineState=c;let d=!1;f.queries.forEach(((h,g)=>{for(const v of g.ba)v.va(c)&&(d=!0)})),d&&hy(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oee(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new bn(ut.comparator);o=o.insert(s,Or.newNoDocument(s,xt.min()));const c=Pt().add(s),f=new Jp(xt.min(),new Map,new bn(Mt),o,c);await Ik(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),my(r)}else await kx(r.localStore,e,!1).then((()=>Px(r,e,n))).catch(lu)}async function lee(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await vQ(n.localStore,e);kk(n,r,null),Rk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cd(n,i)}catch(i){await lu(i)}}async function cee(t,e,n){const r=Et(t);try{const i=await(function(o,c){const f=Et(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,c).next((g=>(Xt(g!==null,37113),h=g.keys(),f.mutationQueue.removeMutationBatch(d,g)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);kk(r,e,n),Rk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cd(r,i)}catch(i){await lu(i)}}function Rk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function kk(t,e,n){const r=Et(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Px(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||Dk(t,r)}))}function Dk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(oy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),my(t))}function dC(t,e,n){for(const r of n)r instanceof Ck?(t.Vu.addReference(r.key,e),uee(t,r)):r instanceof bk?(We(py,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Dk(t,r.key)):pt(19791,{wu:r})}function uee(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(We(py,"New document in limbo: "+n),t.Eu.add(r),my(t))}function my(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ut(Cn.fromString(e)),r=t.fu.next();t.Au.set(r,new QQ(n)),t.Ru=t.Ru.insert(n,r),vk(t.remoteStore,new fo(Ps(jp(n.path)),r,"TargetPurposeLimboResolution",Bp.ce))}}async function Cd(t,e,n){const r=Et(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{o.push(r.pu(f,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,h?"current":"not-current")}if(d){i.push(d);const h=sy.Es(f.targetId,d);s.push(h)}})))})),await Promise.all(o),r.Pu.J_(i),await(async function(f,d){const h=Et(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Oe.forEach(d,(v=>Oe.forEach(v.Ts,(T=>h.persistence.referenceDelegate.addReference(g,v.targetId,T))).next((()=>Oe.forEach(v.Is,(T=>h.persistence.referenceDelegate.removeReference(g,v.targetId,T)))))))))}catch(g){if(!cu(g))throw g;We(ay,"Failed to update sequence numbers: "+g)}for(const g of d){const v=g.targetId;if(!g.fromCache){const T=h.vs.get(v),S=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(v,A)}}})(r.localStore,s))}async function fee(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){We(py,"User change. New user:",e.toKey());const r=await hk(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new st(Le.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cd(n,r.Ns)}}function dee(t,e){const n=Et(t),r=n.Au.get(e);if(r&&r.hu)return Pt().add(r.key);{let i=Pt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function Mk(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oee.bind(null,e),e.Pu.J_=JQ.bind(null,e.eventManager),e.Pu.yu=WQ.bind(null,e.eventManager),e}function hee(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cee.bind(null,e),e}class Tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gQ(this.persistence,new hQ,e.initialUser,this.serializer)}Cu(e){return new dk(iy.Vi,this.serializer)}Du(e){return new wQ}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tp.provider={build:()=>new Tp};class pee extends Tp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xt(this.persistence.referenceDelegate instanceof _p,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new dk((r=>_p.Vi(r,n)),this.serializer)}}class Fx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fee.bind(null,this.syncEngine),await $Q(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YQ})()}createDatastore(e){const n=Wp(e.databaseInfo.databaseId),r=NQ(e.databaseInfo);return MQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,c){return new FQ(r,i,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>fC(this.syncEngine,n,0)),(function(){return sC.v()?new sC:new SQ})())}createSyncEngine(e,n){return(function(i,s,o,c,f,d,h){const g=new eee(i,s,o,c,f,d);return h&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Et(n);We(Sl,"RemoteStore shutting down."),r.Ea.add(5),await Ad(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fx.provider={build:()=>new Fx};class Pk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Co="FirestoreClient";class mee{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=$1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{We(Co,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(We(Co,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Av(t,e){t.asyncQueue.verifyOperationInProgress(),We(Co,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await hk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gee(t);We(Co,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>oC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>oC(e.remoteStore,i))),t._onlineComponents=e}async function gee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We(Co,"Using user provided OfflineComponentProvider");try{await Av(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;wl("Error using user provided cache. Falling back to memory cache: "+n),await Av(t,new Tp)}}else We(Co,"Using default OfflineComponentProvider"),await Av(t,new pee(void 0));return t._offlineComponents}async function Fk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We(Co,"Using user provided OnlineComponentProvider"),await hC(t,t._uninitializedComponentsProvider._online)):(We(Co,"Using default OnlineComponentProvider"),await hC(t,new Fx))),t._onlineComponents}function vee(t){return Fk(t).then((e=>e.syncEngine))}async function Ox(t){const e=await Fk(t),n=e.eventManager;return n.onListen=tee.bind(null,e.syncEngine),n.onUnlisten=iee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=see.bind(null,e.syncEngine),n}function xee(t,e,n,r){const i=new Pk(r),s=new Ak(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>wk(await Ox(t),s))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>Sk(await Ox(t),s)))}}function yee(t,e,n={}){const r=new vo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,f,d){const h=new Pk({next:v=>{h.Nu(),o.enqueueAndForget((()=>Sk(s,g)));const T=v.docs.has(c);!T&&v.fromCache?d.reject(new st(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new st(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new Ak(jp(c.path),h,{includeMetadataChanges:!0,Ka:!0});return wk(s,g)})(await Ox(t),t.asyncQueue,e,n,r))),r.promise}function _ee(t,e){const n=new vo;return t.asyncQueue.enqueueAndForget((async()=>aee(await vee(t),e,n))),n.promise}function Ok(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Eee="ComponentProvider",pC=new Map;function Tee(t,e,n,r,i){return new HZ(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Ok(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const Lk="firestore.googleapis.com",mC=!0;class gC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lk,this.ssl=mC}else this.host=e.host,this.ssl=e.ssl??mC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WX)throw new st(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ok(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _Z;switch(r.type){case"firstParty":return new SZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=pC.get(n);r&&(We(Eee,"Removing Datastore"),pC.delete(n),r.terminate())})(this),Promise.resolve()}}function wee(t,e,n,r={}){t=xo(t,gy);const i=G1(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&($J(`https://${c}`),WJ("Firestore",!0)),s.host!==Lk&&s.host!==c&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!up(f,o)&&(t._setSettings(f),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Pr.MOCK_USER;else{d=KJ(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new st(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Pr(g)}t._authCredentials=new EZ(new wR(d,h))}}class Qp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qp(this.firestore,e,this._query)}}class ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}toJSON(){return{type:ir._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Td(n,ir._jsonSchema))return new ir(e,r||null,new ut(Cn.fromString(n.referencePath)))}}ir._jsonSchemaVersion="firestore/documentReference/1.0",ir._jsonSchema={type:Xn("string",ir._jsonSchemaVersion),referencePath:Xn("string")};class dd extends Qp{constructor(e,n,r){super(e,n,jp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new ut(e))}withConverter(e){return new dd(this.firestore,e,this._path)}}function vy(t,e,...n){if(t=nd(t),arguments.length===1&&(e=$1.newId()),RZ("doc","path",e),t instanceof gy){const r=Cn.fromString(e,...n);return RA(r),new ir(t,null,new ut(r))}{if(!(t instanceof ir||t instanceof dd))throw new st(Le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Cn.fromString(e,...n));return RA(r),new ir(t.firestore,t instanceof dd?t.converter:null,new ut(r))}}const vC="AsyncQueue";class xC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mk(this,"async_queue_retry"),this._c=()=>{const r=Sv();r&&We(vC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cu(e))throw e;We(vC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,xa("INTERNAL UNHANDLED ERROR: ",yC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=fy.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&pt(47125,{Pc:yC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hd extends gy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xC(e),this._firestoreClient=void 0,await e}}}function See(t,e){const n=typeof t=="object"?t:hR(),r=typeof t=="string"?t:hp,i=tZ(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jJ("firestore");s&&wee(i,...s)}return i}function xy(t){if(t._terminated)throw new st(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Aee(t),t._firestoreClient}function Aee(t){const e=t._freezeSettings(),n=Tee(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ji(br.fromBase64String(e))}catch(n){throw new st(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ji(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Td(e,ji._jsonSchema))return ji.fromBase64String(e.bytes)}}ji._jsonSchemaVersion="firestore/bytes/1.0",ji._jsonSchema={type:Xn("string",ji._jsonSchemaVersion),bytes:Xn("string")};class Uk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new st(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vk{constructor(e){this._methodName=e}}class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(Td(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:Xn("string",Os._jsonSchemaVersion),latitude:Xn("number"),longitude:Xn("number")};class vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Td(e,vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new vs(e.vectorValues);throw new st(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vs._jsonSchemaVersion="firestore/vectorValue/1.0",vs._jsonSchema={type:Xn("string",vs._jsonSchemaVersion),vectorValues:Xn("object")};const Cee=/^__.*__$/;class bee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ol(e,this.data,this.fieldMask,n,this.fieldTransforms):new wd(e,this.data,n,this.fieldTransforms)}}function Bk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:t})}}class yy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Bk(this.dataSource)&&Cee.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Nee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wp(e)}createContext(e,n,r,i=!1){return new yy({dataSource:e,methodName:n,targetDoc:r,path:wr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iee(t){const e=t._freezeSettings(),n=Wp(t._databaseId);return new Nee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ree(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);jk("Data must be an object, but it was:",o,r);const c=Hk(r,o);let f,d;if(s.merge)f=new hs(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const v=_y(e,g,n);if(!o.contains(v))throw new st(Le.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Mee(h,v)||h.push(v)}f=new hs(h),d=o.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,d=o.fieldTransforms;return new bee(new Gi(c),f,d)}function zk(t,e){if(Gk(t=nd(t)))return jk("Unsupported field value:",e,t),Hk(t,e);if(t instanceof Vk)return(function(r,i){if(!Bk(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const c of r){let f=zk(c,i.childContextForArray(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=nd(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=yn.fromDate(r);return{timestampValue:yp(i.serializer,s)}}if(r instanceof yn){const s=new yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yp(i.serializer,s)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ji)return{bytesValue:rk(i.serializer,r._byteString)};if(r instanceof ir){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ny(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vs)return(function(o,c){const f=o instanceof vs?o.toArray():o;return{mapValue:{fields:{[DR]:{stringValue:MR},[pp]:{arrayValue:{values:f.map((h=>{if(typeof h!="number")throw c.createError("VectorValues must only contain numeric values.");return Q1(c.serializer,h)}))}}}}}})(r,i);if(uk(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${K1(r)}`)})(t,e)}function Hk(t,e){const n={};return CR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(t,((r,i)=>{const s=zk(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Gk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yn||t instanceof Os||t instanceof ji||t instanceof ir||t instanceof Vk||t instanceof vs||uk(t))}function jk(t,e,n){if(!Gk(n)||!SR(n)){const r=K1(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function _y(t,e,n){if((e=nd(e))instanceof Uk)return e._internalPath;if(typeof e=="string")return Dee(t,e);throw wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const kee=new RegExp("[~\\*/\\[\\]]");function Dee(t,e,n){if(e.search(kee)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uk(...e.split("."))._internalPath}catch{throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new st(Le.INVALID_ARGUMENT,c+t+f)}function Mee(t,e){return t.some((n=>n.isEqual(e)))}class Pee{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[pp].arrayValue?.values?.map((r=>Vn(r.doubleValue)));return new vs(n)}convertGeoPoint(e){return new Os(Vn(e.latitude),Vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(od(e));default:return null}}convertTimestamp(e){const n=To(e);return new yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Cn.fromString(e);Xt(ck(r),9688,{name:e});const i=new ld(r.get(1),r.get(3)),s=new ut(r.popFirst(5));return i.isEqual(n)||xa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class qk extends Pee{constructor(e){super(),this.firestore=e}convertBytes(e){return new ji(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,n)}}const _C="@firebase/firestore",EC="4.11.0";function TC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class $k{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(_y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fee extends $k{data(){return super.data()}}function Oee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new st(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Lee(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class wf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ml extends $k{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new C0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ml._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ml._jsonSchemaVersion="firestore/documentSnapshot/1.0",ml._jsonSchema={type:Xn("string",ml._jsonSchemaVersion),bundleSource:Xn("string","DocumentSnapshot"),bundleName:Xn("string"),bundle:Xn("string")};class C0 extends ml{data(e={}){return super.data(e)}}class Gc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new C0(this._firestore,this._userDataWriter,r.key,r,new wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const f=new C0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new wf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new C0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new wf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:Uee(c.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Uee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:t})}}Gc._jsonSchemaVersion="firestore/querySnapshot/1.0",Gc._jsonSchema={type:Xn("string",Gc._jsonSchemaVersion),bundleSource:Xn("string","QuerySnapshot"),bundleName:Xn("string"),bundle:Xn("string")};function Vee(t){t=xo(t,ir);const e=xo(t.firestore,hd),n=xy(e);return yee(n,t._key).then((r=>Kk(e,t,r)))}function Bee(t,e,n){t=xo(t,ir);const r=xo(t.firestore,hd),i=Lee(t.converter,e),s=Iee(r);return Hee(r,[Ree(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fa.none())])}function zee(t,...e){t=nd(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||TC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(TC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,o,c;if(t instanceof ir)o=xo(t.firestore,hd),c=jp(t._key.path),s={next:d=>{e[r]&&e[r](Kk(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=xo(t,Qp);o=xo(d.firestore,hd),c=d._query;const h=new qk(o);s={next:g=>{e[r]&&e[r](new Gc(o,h,d,g))},error:e[r+1],complete:e[r+2]},Oee(t._query)}const f=xy(o);return xee(f,c,i,s)}function Hee(t,e){const n=xy(t);return _ee(n,e)}function Kk(t,e,n){const r=n.docs.get(e._key),i=new qk(t);return new ml(t,i,e._key,r,new wf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){yZ(sZ),fp(new rd("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new hd(new TZ(r.getProvider("auth-internal")),new AZ(o,r.getProvider("app-check-internal")),GZ(o,i),o);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Bc(_C,EC,e),Bc(_C,EC,"esm2020")})();const Yk=()=>{const t=localStorage.getItem("firebase_config");return t?JSON.parse(t):{apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"}},Gee=t=>{localStorage.setItem("firebase_config",JSON.stringify(t))},jee=()=>{localStorage.removeItem("firebase_config")};let Cv,bo;const Ey=async t=>{try{const e=t||Yk();return e?(aZ().length>0?Cv=hR():Cv=dR(e),bo=See(Cv),!0):!1}catch(e){return console.error("Error initializing Firebase:",e),!1}},qee=()=>!!bo,ol=t=>{if(t==null)return null;if(Array.isArray(t))return t.map(ol);if(typeof t!="object")return t;const e={};for(const n in t){const r=t[n];r===void 0?e[n]=null:r!==null&&typeof r=="object"?e[n]=ol(r):e[n]=r}return e},Sp=async(t,e,n,r,i=[])=>{if(bo)try{const s={clients:ol(t),products:ol(e),categories:ol(n),users:ol(r),uploadedFiles:ol(i),lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await Bee(vy(bo,"rota-vendas","master-data"),s),console.log(" Data saved to cloud successfully")}catch(s){throw console.error("Error saving to cloud:",s),s}},Jk=async()=>{if(!bo)return null;try{const t=vy(bo,"rota-vendas","master-data"),e=await Vee(t);return e.exists()?e.data():null}catch(t){return console.error("Error loading from cloud:",t),null}},$ee=t=>bo?zee(vy(bo,"rota-vendas","master-data"),e=>{e.exists()&&t(e.data())}):()=>{},Kee=Object.freeze(Object.defineProperty({__proto__:null,initializeFirebase:Ey,isFirebaseInitialized:qee,loadFromCloud:Jk,saveToCloud:Sp,subscribeToCloudChanges:$ee},Symbol.toStringTag,{value:"Module"}));var Lx=zC(),bv,wC;function Yee(){return wC||(wC=1,bv=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),bv}var Jee=Yee();const Ux=Cp(Jee);function Wee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Zee(t){var e=Wee(t,"string");return typeof e=="symbol"?e:String(e)}function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}function Al(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const oa={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},Xee="https://maps.googleapis.com/maps/api/js";class pd{static async load(e,n){var r;const i=e.libraries?e.libraries.split(","):[],s=this.serializeParams(e);this.listeners.push(n),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=oa.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=s,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==s&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const o=["maps",...i];await Promise.all(o.map(c=>google.maps.importLibrary(c)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((i,s)=>{var o;const c=document.createElement("script"),f=new URLSearchParams;for(const[d,h]of Object.entries(e)){const g=d.replace(/[A-Z]/g,v=>"_"+v[0].toLowerCase());f.set(g,h)}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),c.async=!0,c.src=Xee+"?"+f.toString(),c.nonce=((o=document.querySelector("script[nonce]"))==null?void 0:o.nonce)||"",c.onerror=()=>{this.loadingStatus=oa.FAILED,this.notifyLoadingStatusListeners(),s(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=oa.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=oa.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=oa.LOADING,this.notifyLoadingStatusListeners(),document.head.append(c)}),n);google.maps.importLibrary=i=>r().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}pd.loadingStatus=oa.NOT_LOADED;pd.serializedApiParams=void 0;pd.listeners=[];const Qee=["onLoad","apiKey","version","libraries"],ete=["children"],tte="GMP_visgl_rgmlibrary_v1_default",bd=Dn.createContext(null);function nte(){const[t,e]=de.useState({});return{mapInstances:t,addMapInstance:(s,o="default")=>{e(c=>da({},c,{[o]:s}))},removeMapInstance:(s="default")=>{e(o=>Al(o,[s].map(Zee)))},clearMapInstances:()=>{e({})}}}function rte(t){const{onLoad:e,apiKey:n,version:r,libraries:i=[]}=t,s=Al(t,Qee),[o,c]=de.useState(pd.loadingStatus),[f,d]=de.useReducer((T,S)=>da({},T,{[S.name]:S.value}),{}),h=de.useMemo(()=>i?.join(","),[i]),g=de.useMemo(()=>JSON.stringify(da({apiKey:n,version:r},s)),[n,r,s]),v=de.useCallback(async T=>{var S;if(f[T])return f[T];if(!((S=google)!=null&&(S=S.maps)!=null&&S.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const A=await window.google.maps.importLibrary(T);return d({name:T,value:A}),A},[f]);return de.useEffect(()=>{(async()=>{try{const T=da({key:n},s);r&&(T.v=r),h?.length>0&&(T.libraries=h),T.solutionChannel===void 0?T.solutionChannel=tte:T.solutionChannel===""&&delete T.solutionChannel,await pd.load(T,S=>c(S));for(const S of["core","maps",...i])await v(S);e&&e()}catch(T){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",T)}})()},[n,h,g]),{status:o,loadedLibraries:f,importLibrary:v}}const ite=t=>{const{children:e}=t,n=Al(t,ete),{mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:o}=nte(),{status:c,loadedLibraries:f,importLibrary:d}=rte(n),h=de.useMemo(()=>({mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:o,status:c,loadedLibraries:f,importLibrary:d}),[r,i,s,o,c,f,d]);return Dn.createElement(bd.Provider,{value:h},e)};function ste(t,e){for(const n of cte){const r=e[n],i=Wk[n];de.useEffect(()=>{if(!t||!r)return;const s=google.maps.event.addListener(t,i,o=>{r(ate(i,t,o))});return()=>s.remove()},[t,i,r])}}function ate(t,e,n){const r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(ote.includes(t)){const s=r,o=e.getCenter(),c=e.getZoom(),f=e.getHeading()||0,d=e.getTilt()||0,h=e.getBounds();return(!o||!h||!Number.isFinite(c))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),s.detail={center:o?.toJSON()||{lat:0,lng:0},zoom:c||0,heading:f,tilt:d,bounds:h?.toJSON()||{north:90,east:180,south:-90,west:-180}},s}else if(lte.includes(t)){var i;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const s=r;return s.domEvent=n.domEvent,s.stoppable=!0,s.stop=()=>n.stop(),s.detail={latLng:((i=n.latLng)==null?void 0:i.toJSON())||null,placeId:n.placeId},s}return r}const Wk={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},ote=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],lte=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],cte=Object.keys(Wk);function Zk(t,e){const n=de.useRef(void 0);(!n.current||!Ux(e,n.current))&&(n.current=e),de.useEffect(t,n.current)}const ute=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function fte(t,e){const n={},r=Object.keys(e);for(const i of r)ute.has(i)&&(n[i]=e[i]);Zk(()=>{t&&t.setOptions(n)},[n])}function Xk(){var t;return((t=de.useContext(bd))==null?void 0:t.status)||oa.NOT_LOADED}function dte(t,e){const{viewport:n,viewState:r}=e,i=!!n;return de.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:s,longitude:o,bearing:c,pitch:f,zoom:d}=r;t.moveCamera({center:{lat:s,lng:o},heading:c,tilt:f,zoom:d+1})},[t,r]),i}function hte(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function Qk(t){return hte(t)?t:t.toJSON()}function pte(t,e,n){const r=n.center?Qk(n.center):null;let i=null,s=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(i=r.lat,s=r.lng);const o=Number.isFinite(n.zoom)?n.zoom:null,c=Number.isFinite(n.heading)?n.heading:null,f=Number.isFinite(n.tilt)?n.tilt:null;de.useLayoutEffect(()=>{if(!t)return;const d={};let h=!1;i!==null&&s!==null&&(e.current.center.lat!==i||e.current.center.lng!==s)&&(d.center={lat:i,lng:s},h=!0),o!==null&&e.current.zoom!==o&&(d.zoom=o,h=!0),c!==null&&e.current.heading!==c&&(d.heading=c,h=!0),f!==null&&e.current.tilt!==f&&(d.tilt=f,h=!0),h&&t.moveCamera(d)})}const mte=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Dn.createElement("div",{style:t},Dn.createElement("h2",null,"Error: AuthFailure"),Dn.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Dn.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function gte(){const[t,e]=de.useState(null),n=de.useCallback(r=>e(r),[e]);return[t,n]}function e4(){return Xk()===oa.LOADED}function vte(){const[,t]=de.useReducer(e=>e+1,0);return t}function xte(t,e){const n=t.getCenter(),r=t.getZoom(),i=t.getHeading()||0,s=t.getTilt()||0,o=t.getBounds();(!n||!o||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:n?.toJSON()||{lat:0,lng:0},zoom:r||0,heading:i,tilt:s})}function yte(t){const e=vte(),n=de.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return de.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{xte(t,n),e()});return()=>r.remove()},[t,e]),n}const _te=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],Ete=["padding"];class b0{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}b0.entries={};function Tte(t,e){const n=e4(),[r,i]=de.useState(null),[s,o]=gte(),c=yte(r),{id:f,defaultBounds:d,defaultCenter:h,defaultZoom:g,defaultHeading:v,defaultTilt:T,reuseMaps:S}=t,A=Al(t,_te),C=t.zoom!==void 0||t.defaultZoom!==void 0,k=t.center!==void 0||t.defaultCenter!==void 0;!d&&(!C||!k)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!A.center&&h&&(A.center=h),!A.zoom&&Number.isFinite(g)&&(A.zoom=g),!A.heading&&Number.isFinite(v)&&(A.heading=v),!A.tilt&&Number.isFinite(T)&&(A.tilt=T);for(const D of Object.keys(A))A[D]===void 0&&delete A[D];const V=de.useRef();return de.useEffect(()=>{if(!s||!n)return;const{addMapInstance:D,removeMapInstance:H}=e,G=t.mapId,K=G||"default";let I,N;if(S&&b0.has(K)?(N=b0.pop(K),I=N.getDiv(),s.appendChild(I),N.setOptions(A),setTimeout(()=>N.setCenter(N.getCenter()),0)):(I=document.createElement("div"),I.style.height="100%",s.appendChild(I),N=new google.maps.Map(I,A)),i(N),D(N,f),d){const{padding:b}=d,F=Al(d,Ete);N.fitBounds(F,b)}else(!C||!k)&&N.fitBounds({east:180,west:-180,south:-90,north:90});if(V.current){const{mapId:b,cameraState:F}=V.current;b!==G&&N.setOptions(F)}return()=>{V.current={mapId:G,cameraState:c.current},I.remove(),S?b0.push(K,N):google.maps.event.clearInstanceListeners(N),i(null),H(f)}},[s,n,f,t.mapId]),[r,o,c]}const t4=Dn.createContext(null),n4=t=>{const{children:e,id:n,className:r,style:i}=t,s=de.useContext(bd),o=Xk();if(!s)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[c,f,d]=Tte(t,s);pte(c,d,t),ste(c,t),fte(c,t);const h=dte(c,t),g=!!t.controlled;de.useEffect(()=>{if(c)return h&&c.setOptions({disableDefaultUI:!0}),(h||g)&&c.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{c.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[c,h,g,t.gestureHandling,t.keyboardShortcuts]);const v=t.center?Qk(t.center):null;let T=null,S=null;v&&Number.isFinite(v.lat)&&Number.isFinite(v.lng)&&(T=v.lat,S=v.lng);const A=de.useMemo(()=>{var V,D,H,G,K;return{center:{lat:(V=T)!=null?V:0,lng:(D=S)!=null?D:0},zoom:(H=t.zoom)!=null?H:0,heading:(G=t.heading)!=null?G:0,tilt:(K=t.tilt)!=null?K:0}},[T,S,t.zoom,t.heading,t.tilt]);de.useLayoutEffect(()=>{if(!c||!g)return;c.moveCamera(A);const V=c.addListener("bounds_changed",()=>{c.moveCamera(A)});return()=>V.remove()},[c,g,A]);const C=de.useMemo(()=>da({width:"100%",height:"100%",position:"relative",zIndex:h?-1:0},i),[i,h]),k=de.useMemo(()=>({map:c}),[c]);return o===oa.AUTH_FAILURE?Dn.createElement("div",{style:da({position:"relative"},r?{}:C),className:r},Dn.createElement(mte,null)):Dn.createElement("div",da({ref:f,"data-testid":"map",style:r?void 0:C,className:r},n?{id:n}:{}),c?Dn.createElement(t4.Provider,{value:k},e):null)};n4.deckGLViewProps=!0;const SC=new Set;function wte(...t){const e=JSON.stringify(t);SC.has(e)||(SC.add(e),console.error(...t))}const fu=(t=null)=>{const e=de.useContext(bd),{map:n}=de.useContext(t4)||{};if(e===null)return wte("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function r4(t){const e=e4(),n=de.useContext(bd);return de.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),n?.loadedLibraries[t]||null}function i4(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=t.style;if(n==null){if(e==null)return;for(const i in e)e.hasOwnProperty(i)&&AC(r,i,e[i]);return}for(const i in n)n.hasOwnProperty(i)&&(e==null||!e.hasOwnProperty(i))&&(i.indexOf("--")===0?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="");if(e!=null)for(const i in e){const s=e[i];e.hasOwnProperty(i)&&n[i]!==s&&AC(r,i,s)}}function AC(t,e,n){const r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n=="number"&&n!==0&&!Ate(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const Ste=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function Ate(t){return Ste.has(t)}function Mc(t,e,n){de.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function uf(t,e,n){de.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}const Cte=Dn.createContext(null);function bte(t){const[e,n]=de.useState(null),[r,i]=de.useState(null),s=de.useRef(null),o=fu(),c=r4("marker"),{children:f,className:d,style:h,onClick:g,onDrag:v,onDragStart:T,onDragEnd:S,collisionBehavior:A,clickable:C,draggable:k,position:V,title:D,zIndex:H}=t,G=de.Children.count(f);return de.useEffect(()=>{if(!o||!c)return;const K=new c.AdvancedMarkerElement;K.map=o,n(K);let I=null;return G>0&&(I=document.createElement("div"),K.content=I,i(I)),()=>{var N;K.map=null,(N=I)==null||N.remove(),n(null),i(null)}},[o,c,G]),de.useEffect(()=>{!e||!e.content||(e.content.className=d||"")},[e,d]),uf(r,"className",d??""),de.useEffect(()=>{r&&(i4(r,h||null,s.current),s.current=h||null)},[r,d,h]),uf(e,"position",V),uf(e,"title",D??""),uf(e,"zIndex",H),uf(e,"collisionBehavior",A),de.useEffect(()=>{e&&(k!==void 0?e.gmpDraggable=k:v||T||S?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,k,v,S,T]),de.useEffect(()=>{e&&(C!==void 0?e.gmpClickable=C:g?e.gmpClickable=!0:e.gmpClickable=!1)},[e,C,g]),Mc(e,"click",g),Mc(e,"drag",v),Mc(e,"dragstart",T),Mc(e,"dragend",S),[e,r]}de.forwardRef((t,e)=>{const{children:n}=t,[r,i]=bte(t),s=de.useMemo(()=>r?{marker:r}:null,[r]);return de.useImperativeHandle(e,()=>r,[r]),i?Dn.createElement(Cte.Provider,{value:s},Lx.createPortal(n,i)):null});const Nte=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],Ite=t=>{const{children:e,headerContent:n,style:r,className:i,pixelOffset:s,anchor:o,shouldFocus:c,onClose:f,onCloseClick:d}=t,h=Al(t,Nte),g=r4("maps"),[v,T]=de.useState(null),S=de.useRef(null),A=de.useRef(null);de.useEffect(()=>{if(!g)return;S.current=document.createElement("div"),A.current=document.createElement("div");const V=h;s&&(V.pixelOffset=new google.maps.Size(s[0],s[1])),n&&(V.headerContent=typeof n=="string"?n:A.current);const D=new google.maps.InfoWindow(h);return D.setContent(S.current),T(D),()=>{var H,G;D.setContent(null),(H=S.current)==null||H.remove(),(G=A.current)==null||G.remove(),S.current=null,A.current=null,T(null)}},[g]);const C=de.useRef(null);de.useEffect(()=>{!v||!S.current||(i4(S.current,r||null,C.current),C.current=r||null,i!==S.current.className&&(S.current.className=i||""))},[v,i,r]),Zk(()=>{if(!v)return;const V=h;s?V.pixelOffset=new google.maps.Size(s[0],s[1]):V.pixelOffset=null,n?V.headerContent=typeof n=="string"?n:A.current:V.headerContent=null,v.setOptions(h)},[h,s,n]),Mc(v,"close",f),Mc(v,"closeclick",d);const k=fu();return de.useEffect(()=>{if(!k||!v||o===null)return;const V=!!o,D={map:k};return o&&(D.anchor=o),c!==void 0&&(D.shouldFocus=c),v.open(D),()=>{V&&v.set("anchor",null),v.close()}},[v,o,k,c]),Dn.createElement(Dn.Fragment,null,S.current&&Lx.createPortal(e,S.current),A.current!==null&&Lx.createPortal(n,A.current))},Rte=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function kte(t){const[e,n]=de.useState(null),r=fu(),{onClick:i,onDrag:s,onDragStart:o,onDragEnd:c,onMouseOver:f,onMouseOut:d}=t,h=Al(t,Rte),{position:g,draggable:v}=h;return de.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const T=new google.maps.Marker(h);return T.setMap(r),n(T),()=>{T.setMap(null),n(null)}},[r]),de.useEffect(()=>{if(!e)return;const T=e,S=google.maps.event;return i&&S.addListener(T,"click",i),s&&S.addListener(T,"drag",s),o&&S.addListener(T,"dragstart",o),c&&S.addListener(T,"dragend",c),f&&S.addListener(T,"mouseover",f),d&&S.addListener(T,"mouseout",d),e.setDraggable(!!v),()=>{S.clearInstanceListeners(T)}},[e,v,i,s,o,c,f,d]),de.useEffect(()=>{e&&h&&e.setOptions(h)},[e,h]),de.useEffect(()=>{v||!g||!e||e.setPosition(g)},[v,g,e]),e}de.forwardRef((t,e)=>{const n=kte(t);return de.useImperativeHandle(e,()=>n,[n]),Dn.createElement(Dn.Fragment,null)});const CC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Nv=1,ff=8;class Ty{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==Nv)throw new Error(`Got v${i} data when expected v${Nv}.`);const s=CC[r&15];if(!s)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new Ty(c,o,s,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=CC.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-c%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,ff,e),this.coords=new this.ArrayType(this.data,ff+c+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(ff+o+c+f),this.ids=new this.IndexArrayType(this.data,ff,e),this.coords=new this.ArrayType(this.data,ff+c+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Nv<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Vx(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:o,nodeSize:c}=this,f=[0,s.length-1,0],d=[];for(;f.length;){const h=f.pop()||0,g=f.pop()||0,v=f.pop()||0;if(g-v<=c){for(let C=v;C<=g;C++){const k=o[2*C],V=o[2*C+1];k>=e&&k<=r&&V>=n&&V<=i&&d.push(s[C])}continue}const T=v+g>>1,S=o[2*T],A=o[2*T+1];S>=e&&S<=r&&A>=n&&A<=i&&d.push(s[T]),(h===0?e<=S:n<=A)&&(f.push(v),f.push(T-1),f.push(1-h)),(h===0?r>=S:i>=A)&&(f.push(T+1),f.push(g),f.push(1-h))}return d}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:o}=this,c=[0,i.length-1,0],f=[],d=r*r;for(;c.length;){const h=c.pop()||0,g=c.pop()||0,v=c.pop()||0;if(g-v<=o){for(let C=v;C<=g;C++)bC(s[2*C],s[2*C+1],e,n)<=d&&f.push(i[C]);continue}const T=v+g>>1,S=s[2*T],A=s[2*T+1];bC(S,A,e,n)<=d&&f.push(i[T]),(h===0?e-r<=S:n-r<=A)&&(c.push(v),c.push(T-1),c.push(1-h)),(h===0?e+r>=S:n+r>=A)&&(c.push(T+1),c.push(g),c.push(1-h))}return f}}function Vx(t,e,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;s4(t,e,o,r,i,s),Vx(t,e,n,r,o-1,1-s),Vx(t,e,n,o+1,i,1-s)}function s4(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const d=i-r+1,h=n-r+1,g=Math.log(d),v=.5*Math.exp(2*g/3),T=.5*Math.sqrt(g*v*(d-v)/d)*(h-d/2<0?-1:1),S=Math.max(r,Math.floor(n-h*v/d+T)),A=Math.min(i,Math.floor(n+(d-h)*v/d+T));s4(t,e,n,S,A,s)}const o=e[2*n+s];let c=r,f=i;for(df(t,e,r,n),e[2*i+s]>o&&df(t,e,r,i);c<f;){for(df(t,e,c,f),c++,f--;e[2*c+s]<o;)c++;for(;e[2*f+s]>o;)f--}e[2*r+s]===o?df(t,e,r,f):(f++,df(t,e,f,i)),f<=n&&(r=f+1),n<=f&&(i=f-1)}}function df(t,e,n,r){Iv(t,n,r),Iv(e,2*n,2*r),Iv(e,2*n+1,2*r+1)}function Iv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function bC(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const Dte={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},NC=Math.fround||(t=>(e=>(t[0]=+e,t[0])))(new Float32Array(1)),rl=2,so=3,Rv=4,io=5,a4=6;class Mte{constructor(e){this.options=Object.assign(Object.create(Dte),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const o=[];for(let f=0;f<e.length;f++){const d=e[f];if(!d.geometry)continue;const[h,g]=d.geometry.coordinates,v=NC(p0(h)),T=NC(m0(g));o.push(v,T,1/0,f,-1,1),this.options.reduce&&o.push(0)}let c=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(let f=i;f>=r;f--){const d=+Date.now();c=this.trees[f]=this._createTree(this._cluster(c,f)),n&&console.log("z%d: %d clusters in %dms",f,c.numItems,+Date.now()-d)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const g=this.getClusters([r,i,180,o],n),v=this.getClusters([-180,i,s,o],n);return g.concat(v)}const c=this.trees[this._limitZoom(n)],f=c.range(p0(r),m0(o),p0(s),m0(i)),d=c.data,h=[];for(const g of f){const v=this.stride*g;h.push(d[v+io]>1?IC(d,v,this.clusterProps):this.points[d[v+so]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const o=s.data;if(n*this.stride>=o.length)throw new Error(i);const c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),f=o[n*this.stride],d=o[n*this.stride+1],h=s.within(f,d,c),g=[];for(const v of h){const T=v*this.stride;o[T+Rv]===e&&g.push(o[T+io]>1?IC(o,T,this.clusterProps):this.points[o[T+so]])}if(g.length===0)throw new Error(i);return g}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:c}=this.options,f=c/o,d=(r-f)/s,h=(r+1+f)/s,g={features:[]};return this._addTileFeatures(i.range((n-f)/s,d,(n+1+f)/s,h),i.data,n,r,s,g),n===0&&this._addTileFeatures(i.range(1-f/s,d,1,h),i.data,s,r,s,g),n===s-1&&this._addTileFeatures(i.range(0,d,f/s,h),i.data,-1,r,s,g),g.features.length?g:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const o=this.getChildren(n);for(const c of o){const f=c.properties;if(f&&f.cluster?s+f.point_count<=i?s+=f.point_count:s=this._appendLeaves(e,f.cluster_id,r,i,s):s<i?s++:e.push(c),e.length===r)break}return s}_createTree(e){const n=new Ty(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(const c of e){const f=c*this.stride,d=n[f+io]>1;let h,g,v;if(d)h=o4(n,f,this.clusterProps),g=n[f],v=n[f+1];else{const A=this.points[n[f+so]];h=A.properties;const[C,k]=A.geometry.coordinates;g=p0(C),v=m0(k)}const T={type:1,geometry:[[Math.round(this.options.extent*(g*s-r)),Math.round(this.options.extent*(v*s-i))]],tags:h};let S;d||this.options.generateId?S=n[f+so]:S=this.points[n[f+so]].id,S!==void 0&&(T.id=S),o.features.push(T)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:s,minPoints:o}=this.options,c=r/(i*Math.pow(2,n)),f=e.data,d=[],h=this.stride;for(let g=0;g<f.length;g+=h){if(f[g+rl]<=n)continue;f[g+rl]=n;const v=f[g],T=f[g+1],S=e.within(f[g],f[g+1],c),A=f[g+io];let C=A;for(const k of S){const V=k*h;f[V+rl]>n&&(C+=f[V+io])}if(C>A&&C>=o){let k=v*A,V=T*A,D,H=-1;const G=((g/h|0)<<5)+(n+1)+this.points.length;for(const K of S){const I=K*h;if(f[I+rl]<=n)continue;f[I+rl]=n;const N=f[I+io];k+=f[I]*N,V+=f[I+1]*N,f[I+Rv]=G,s&&(D||(D=this._map(f,g,!0),H=this.clusterProps.length,this.clusterProps.push(D)),s(D,this._map(f,I)))}f[g+Rv]=G,d.push(k/C,V/C,1/0,G,-1,C),s&&d.push(H)}else{for(let k=0;k<h;k++)d.push(f[g+k]);if(C>1)for(const k of S){const V=k*h;if(!(f[V+rl]<=n)){f[V+rl]=n;for(let D=0;D<h;D++)d.push(f[V+D])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+io]>1){const o=this.clusterProps[e[n+a4]];return r?Object.assign({},o):o}const i=this.points[e[n+so]].properties,s=this.options.map(i);return r&&s===i?Object.assign({},s):s}}function IC(t,e,n){return{type:"Feature",id:t[e+so],properties:o4(t,e,n),geometry:{type:"Point",coordinates:[Pte(t[e]),Fte(t[e+1])]}}}function o4(t,e,n){const r=t[e+io],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=t[e+a4],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+so],point_count:r,point_count_abbreviated:i})}function p0(t){return t/360+.5}function m0(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Pte(t){return(t-.5)*360}function Fte(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function Ote(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Ci{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Bx{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(Ci.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Ci.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Ci.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Lte{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Ute(e)}}const Ute=t=>t.map(n=>new Bx({position:Ci.getPosition(n),markers:[n]}));class Vte extends Lte{constructor(e){var{maxZoom:n,radius:r=60}=e,i=Ote(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Mte(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!Ux(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const o=Ci.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Ux(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Bx({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new Bx({markers:[i],position:Ci.getPosition(i)})}}class Bte{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class zte{render({count:e,position:n},r,i){const o=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,c=`Cluster of ${e} markers`,f=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Ci.isAdvancedMarkerAvailable(i)){const g=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");const v={map:i,position:n,zIndex:f,title:c,content:g};return new google.maps.marker.AdvancedMarkerElement(v)}const d={position:n,zIndex:f,title:c,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}function Hte(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class wy{constructor(){Hte(wy,google.maps.OverlayView)}}var Bf;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Bf||(Bf={}));const Gte=(t,e,n)=>{n.fitBounds(e.bounds)};class jte extends wy{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new Vte(r),renderer:s=new zte,onClusterClick:o=Gte}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(Ci.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Bf.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const o of n)o.markers.length==1&&i.add(o.markers[0]);const s=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?i.has(o.marker)||Ci.setMap(o.marker,null):s.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(o=>Ci.setMap(o,null)))}google.maps.event.trigger(this,Bf.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Ci.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new Bte(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>Ci.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Bf.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),Ci.setMap(r.marker,n)})}}const qte=({clients:t})=>{const e=fu(),n=de.useRef(0);return de.useEffect(()=>{if(!e||!window.google||t.length===0)return;if(Math.abs(t.length-n.current)>0){const i=new google.maps.LatLngBounds;let s=!1;if(t.forEach(o=>{o.lat&&o.lng&&(i.extend({lat:o.lat,lng:o.lng}),s=!0)}),s){e.fitBounds(i);const o=google.maps.event.addListenerOnce(e,"idle",()=>{e.getZoom()>16&&e.setZoom(16)});return n.current=t.length,()=>google.maps.event.removeListener(o)}}},[e,t]),null},$te=()=>{const t=fu();return t?_.jsxs("div",{className:"absolute bottom-6 right-4 flex flex-col gap-2 z-10 shadow-lg bg-transparent",children:[_.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)+1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom In",children:_.jsx(Jx,{className:"w-5 h-5"})}),_.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)-1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom Out",children:_.jsx(WD,{className:"w-5 h-5"})})]}):null},Kte=t=>{switch(t){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},RC=t=>{let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);const n=(e&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n},Yte=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,Jte=({clients:t,onClientSelect:e,productFilterActive:n,users:r,isClusteringEnabled:i})=>{const s=fu(),o=de.useRef(null),c=de.useRef([]),f=de.useMemo(()=>{const h=document.createElement("div");return h.innerHTML=Yte,h.style.display="flex",h.style.alignItems="center",h.style.justifyContent="center",h},[]),d=de.useMemo(()=>{const h=new Map;return r&&r.forEach(g=>{let v={bg:"#6B7280",border:"#374151",glyph:"#fff"};g.color?v={bg:g.color,border:"black",glyph:"#fff"}:v={bg:RC(g.id+g.name),border:"black",glyph:"#fff"},h.set(g.id,v)}),h},[r]);return de.useEffect(()=>{if(!s)return;if(!google.maps.marker){console.warn("Google Maps Marker library not loaded. Likely an invalid API Key.");return}o.current&&(o.current.clearMarkers(),o.current.setMap(null)),c.current.forEach(S=>{S.map=null,google.maps.event.clearInstanceListeners(S)}),c.current=[],i?o.current=new jte({map:s,markers:[]}):o.current=null;let h=!0,g=0;const v=200,T=()=>{if(!h||!google.maps.marker)return;const S=t.slice(g,g+v);if(S.length===0)return;const A=S.map(C=>{let k={bg:"#6B7280",border:"#374151",glyph:"#fff"};if(n)k={bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};else{const K=d.get(C.salespersonId);K?k=K:C.ownerName?k={bg:RC(C.ownerName),border:"black",glyph:"#fff"}:k=Kte(C.region)}let V=null;n&&(V=f.cloneNode(!0),V.style.color=k.glyph);const D={background:k.bg,borderColor:k.border,glyphColor:k.glyph,scale:1};V&&(D.glyph=V);const H=new google.maps.marker.PinElement(D),G=new google.maps.marker.AdvancedMarkerElement({position:{lat:C.lat,lng:C.lng},content:H.element,map:i?null:s,title:C.companyName});return G.addListener("click",()=>{e(C.id)}),G});h&&(i&&o.current&&o.current.addMarkers(A),c.current.push(...A)),g+=v,g<t.length&&requestAnimationFrame(T)};return T(),()=>{h=!1,o.current&&(o.current.clearMarkers(),o.current.setMap(null)),c.current.forEach(S=>{S.map=null})}},[s,t,n,e,f,d,i]),_.jsx(qte,{clients:t})},Wte=({clients:t,apiKey:e,onInvalidKey:n,productFilterActive:r,highlightProductTerm:i,activeProductCategory:s,users:o,filterContent:c})=>{const f={lat:-14.235,lng:-51.9253},[d,h]=de.useState(null),[g,v]=de.useState(!1),[T,S]=de.useState(!1),[A,C]=de.useState(!0),k=t.find(G=>G.id===d);de.useEffect(()=>(e&&v(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),v(!0)},()=>{window.gm_authFailure=()=>{};const G=document.getElementsByTagName("script");for(let K=G.length-1;K>=0;K--){const I=G[K];I.src&&I.src.includes("maps.googleapis.com/maps/api/js")&&I.parentNode?.removeChild(I)}}),[e]);const V=de.useMemo(()=>{if(!k?.purchasedProducts)return[];const G=!!i,K=s&&s!=="Todos";if(!G&&!K)return k.purchasedProducts;const I=i?i.toLowerCase():"",N=s||"";return[...k.purchasedProducts].sort((b,F)=>{let O=0,M=0;return K&&b.category===N&&(O+=2),K&&F.category===N&&(M+=2),G&&((b.name.toLowerCase().includes(I)||b.sku.toLowerCase().includes(I)||b.brand.toLowerCase().includes(I)||b.factoryCode.toLowerCase().includes(I))&&(O+=1),(F.name.toLowerCase().includes(I)||F.sku.toLowerCase().includes(I)||F.brand.toLowerCase().includes(I)||F.factoryCode.toLowerCase().includes(I))&&(M+=1)),M-O})},[k,i,s]),D=()=>{S(!T)};if(!e)return _.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:_.jsx(Qg,{className:"w-8 h-8"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),_.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[_.jsx(Qg,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(g)return _.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:_.jsx(ha,{className:"w-8 h-8"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),_.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),_.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[_.jsx(Qg,{className:"w-4 h-4"})," Trocar API Key"]})]});const H=T?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-lg overflow-hidden shadow-sm border border-gray-200 relative z-0";return _.jsx("div",{className:H,children:_.jsx(ite,{apiKey:e,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:_.jsxs(n4,{defaultCenter:f,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[_.jsx(Jte,{clients:t,onClientSelect:h,productFilterActive:r,users:o,isClusteringEnabled:A}),_.jsx($te,{}),T&&c&&_.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 bg-white/95 backdrop-blur-sm shadow-md border-b border-gray-200",children:c}),_.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[_.jsx("button",{onClick:()=>C(!A),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${A?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:A?"Desativar Agrupamento":"Ativar Agrupamento",children:A?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex -space-x-1",children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):_.jsxs(_.Fragment,{children:[_.jsx(jc,{className:"w-3 h-3"}),"Solto"]})}),_.jsx("button",{onClick:D,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:T?"Sair da Tela Cheia":"Tela Cheia",children:T?_.jsx(YD,{className:"w-5 h-5"}):_.jsx(jD,{className:"w-5 h-5"})})]}),k&&_.jsx(Ite,{position:{lat:k.lat,lng:k.lng},onCloseClick:()=>h(null),headerContent:_.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[_.jsx(zf,{className:"w-4 h-4 text-blue-600"}),k.companyName]}),children:_.jsx("div",{className:"min-w-[200px] max-w-[280px] p-1",children:_.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[_.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[_.jsx(Yx,{className:"w-3 h-3"}),k.city," - ",k.state," (",k.region,")"]}),_.jsxs("p",{className:"flex items-center gap-2",children:[_.jsx(hi,{className:"w-3 h-3 text-gray-400"}),_.jsx("span",{className:"font-medium text-gray-700",children:k.ownerName||"No informado"})]}),_.jsxs("p",{className:"flex items-center gap-2",children:[_.jsx(nM,{className:"w-3 h-3 text-gray-400"}),_.jsx("span",{className:"font-medium text-gray-700",children:k.contact||"Sem contato"})]}),k.purchasedProducts&&k.purchasedProducts.length>0&&_.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-1 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit",children:[_.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[_.jsx("span",{className:"font-bold text-gray-800",children:k.purchasedProducts.length})," Prod."]}),_.jsx("div",{className:"h-3 w-px bg-gray-300"}),_.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[_.jsx("span",{className:"font-bold text-gray-800",children:new Set(k.purchasedProducts.map(G=>G.sku)).size})," SKUs"]})]}),_.jsxs("p",{className:"flex items-start gap-2",children:[_.jsx(jc,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),_.jsx("span",{className:"leading-tight",children:k.cleanAddress})]}),r&&V.length>0&&_.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[_.jsxs("p",{className:"text-[10px] uppercase font-bold text-rose-600 mb-1 flex items-center gap-1",children:[_.jsx(oo,{className:"w-3 h-3"}),"Produtos Vendidos (Filtro)"]}),_.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1 pr-1 custom-scrollbar",children:[V.slice(0,3).map((G,K)=>{const I=i?.toLowerCase()||"",N=I&&(G.name.toLowerCase().includes(I)||G.sku.toLowerCase().includes(I)||G.brand.toLowerCase().includes(I)||G.factoryCode.toLowerCase().includes(I));return _.jsxs("div",{className:`${N?"bg-rose-100 border-rose-300":"bg-rose-50 border-rose-100"} p-1.5 rounded border flex justify-between items-center transition-colors`,children:[_.jsxs("div",{className:"flex flex-col overflow-hidden max-w-[120px]",children:[_.jsx("span",{className:`truncate font-medium ${N?"text-rose-950 font-bold":"text-rose-900"}`,title:G.name,children:G.name}),_.jsxs("span",{className:"text-[9px] text-gray-500 truncate",children:[G.sku,"  ",G.brand]})]}),_.jsx("span",{className:"text-rose-700 font-bold",children:G.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},K)}),V.length>3&&_.jsxs("p",{className:"text-[10px] text-center text-gray-400 italic",children:["e mais ",V.length-3," itens..."]})]})]}),_.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[_.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[_.jsx(Wx,{className:"w-3 h-3 mr-1"}),k.category.join(", ")]}),_.jsx("a",{href:k.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${k.lat},${k.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},Zte=({client:t,isOpen:e,onClose:n,onSave:r,users:i=[],uploadedFiles:s=[]})=>{const[o,c]=de.useState(()=>({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]}));if(Dn.useEffect(()=>{c({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]})},[t]),!e)return null;const f=i.find(A=>A.id===t.salespersonId),d=f?.name||"No atribudo",h=f?.role==="sales_internal"?"Interno":f?.role==="sales_external"||f?.role==="salesperson"?"Externo":f?.role?"Equipe":"",g=f?.salesCategory||"",v=s.find(A=>A.id===t.sourceFileId),T=A=>{A.preventDefault(),r(o),n()},S=A=>{const{name:C,value:k}=A.target;c(V=>{const D={[C]:k};return C==="state"&&(D.region=Zx(k)),{...V,...D}})};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(zf,{className:"w-5 h-5 text-primary"}),_.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),_.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),_.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:t.id})]}),_.jsx("button",{onClick:n,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",children:_.jsx(pa,{className:"w-6 h-6"})})]}),_.jsxs("div",{className:"mx-6 mb-2 flex flex-wrap items-center gap-3 px-4 py-2.5 bg-purple-50 border border-purple-200 rounded-xl",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(hi,{className:"w-4 h-4 text-purple-600"}),_.jsx("span",{className:"text-xs font-bold text-purple-800",children:"Vendedor Responsvel:"}),_.jsx("span",{className:"text-sm font-semibold text-purple-900",children:d})]}),h&&_.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full ${h==="Interno"?"bg-blue-100 text-blue-700":h==="Externo"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:h}),g&&g!=="N/A"&&_.jsxs("span",{className:"text-[10px] font-medium uppercase tracking-wider px-2 py-0.5 rounded-full bg-purple-100 text-purple-700",children:[_.jsx(L0,{className:"w-3 h-3 inline mr-1"}),g]}),v&&_.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[_.jsx(Mv,{className:"w-3.5 h-3.5 text-gray-500"}),_.jsxs("span",{className:"text-[10px] text-gray-600 font-medium",children:["Origem: ",_.jsx("span",{className:"font-bold",children:v.fileName})]})]})]}),_.jsxs("form",{onSubmit:T,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),_.jsx("input",{type:"text",name:"companyName",value:o.companyName,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),_.jsx("input",{type:"text",name:"ownerName",value:o.ownerName,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Contato"}),_.jsx("input",{type:"text",name:"contact",value:o.contact,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),_.jsxs("div",{className:"md:col-span-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),_.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Gf.filter(A=>A!=="Todos").map(A=>{const C=o.category.includes(A);return _.jsx("button",{type:"button",onClick:()=>{c(k=>{const V=k.category||[];return V.includes(A)?V.length===1?k:{...k,category:V.filter(D=>D!==A)}:{...k,category:[...V,A]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${C?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:A},A)})})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{name:"region",value:o.region,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",children:[_.jsx("option",{value:"Indefinido",children:"Indefinido"}),Hf.map(A=>_.jsx("option",{value:A,children:A},A))]}),_.jsx(Yx,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Municpio"}),_.jsx("input",{type:"text",name:"city",value:o.city,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"UF"}),_.jsx("input",{type:"text",name:"state",maxLength:2,value:o.state,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all uppercase"})]})]}),_.jsxs("div",{className:"space-y-1 pt-2",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),_.jsx("input",{type:"text",name:"cleanAddress",value:o.cleanAddress,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]})]}),_.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[_.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),_.jsxs("button",{type:"submit",onClick:T,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[_.jsx(md,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},Xte=({isOpen:t,onClose:e,onAdd:n,salespersonId:r,ownerName:i,users:s=[]})=>{const[o,c]=de.useState(r),[f,d]=de.useState({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),[h,g]=de.useState(""),[v,T]=de.useState(!1);if(de.useEffect(()=>{t&&(d({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),c(r),g(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async k=>{},k=>{console.warn("Location access denied or error:",k)}))},[t]),!t)return null;const S=(k,V)=>{d(D=>{const H={[k]:V};return k==="state"&&(H.region=Zx(V)),{...D,...H}}),h&&g("")},A=k=>{d(V=>{const D=V.category;return D.includes(k)?D.length===1?V:{...V,category:D.filter(H=>H!==k)}:{...V,category:[...D,k]}})},C=k=>{if(k.preventDefault(),!f.companyName||!f.originalAddress||!f.city||!f.state||!f.contact){g("Por favor, preencha todos os campos obrigatrios (*).");return}T(!0);const V=`${f.originalAddress}, ${f.city} - ${f.state}`;n({companyName:f.companyName,ownerName:f.ownerName||"No Informado",contact:f.contact,category:f.category,region:f.region,state:f.state,city:f.city,originalAddress:V,salespersonId:o,googleMapsUri:""}),T(!1),e()};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(zf,{className:"w-5 h-5 text-primary"}),_.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),_.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),_.jsx("button",{onClick:e,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:_.jsx(pa,{className:"w-6 h-6"})})]}),_.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:_.jsxs("form",{id:"add-client-form",onSubmit:C,className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),_.jsx("input",{type:"text",required:!0,value:f.companyName,onChange:k=>S("companyName",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),_.jsx("input",{type:"text",value:f.ownerName,onChange:k=>S("ownerName",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),s.length>0&&_.jsxs("div",{children:[_.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:[_.jsx(hi,{className:"w-3 h-3 inline mr-1"}),"Vendedor Responsvel"]}),_.jsx("select",{value:o,onChange:k=>c(k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Vendedor Responsvel",children:s.filter(k=>k.role==="salesperson"||k.role==="sales_external"||k.role==="sales_internal").map(k=>_.jsxs("option",{value:k.id,children:[k.name,k.salesCategory?` (${k.salesCategory})`:""]},k.id))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),_.jsx("input",{type:"text",required:!0,value:f.contact,onChange:k=>S("contact",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),_.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Gf.filter(k=>k!=="Todos").map(k=>{const V=f.category.includes(k);return _.jsx("button",{type:"button",onClick:()=>A(k),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${V?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:k},k)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{value:f.region,onChange:k=>S("region",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:Hf.map(k=>_.jsx("option",{value:k,children:k},k))}),_.jsx(Yx,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),_.jsx("input",{type:"text",required:!0,value:f.city,onChange:k=>S("city",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{required:!0,value:f.state,onChange:k=>S("state",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(k=>_.jsx("option",{value:k,children:k},k))}),_.jsx(jc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),_.jsx("textarea",{rows:2,required:!0,value:f.originalAddress,onChange:k=>S("originalAddress",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none resize-none transition-colors",placeholder:"Rua, Nmero, Bairro, CEP"}),_.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),h&&_.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[_.jsx(ha,{className:"w-5 h-5"}),h]}),_.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:_.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[_.jsx(jc,{className:"w-4 h-4 shrink-0"}),_.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})})]})}),_.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:v,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:v?"Salvando...":_.jsxs(_.Fragment,{children:[_.jsx(md,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},Qte=({isOpen:t,onClose:e,client:n,products:r,onSave:i,productCategories:s})=>{const[o,c]=de.useState(""),[f,d]=de.useState("Todos"),[h,g]=de.useState([]);Dn.useEffect(()=>{n&&n.purchasedProducts?g(n.purchasedProducts.map(A=>A.sku)):g([])},[n]);const v=de.useMemo(()=>r.filter(A=>{const C=A.name.toLowerCase().includes(o.toLowerCase())||A.sku.toLowerCase().includes(o.toLowerCase())||A.brand.toLowerCase().includes(o.toLowerCase()),k=f==="Todos"||A.category===f;return C&&k}),[r,o,f]),T=A=>{g(C=>C.includes(A)?C.filter(k=>k!==A):[...C,A])},S=()=>{if(!n)return;const A=r.filter(C=>h.includes(C.sku));i(n.id,A),e()};return!t||!n?null:_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[_.jsx(oo,{className:"w-5 h-5 text-blue-600"}),"Atribuir Produtos"]}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",_.jsx("span",{className:"font-semibold text-gray-700",children:n.companyName})]})]}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:_.jsx(pa,{className:"w-5 h-5 text-gray-500"})})]}),_.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-3 bg-white z-10",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx(ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsx("input",{type:"text",placeholder:"Buscar por nome, SKU, marca...",value:o,onChange:A=>c(A.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),_.jsxs("select",{value:f,onChange:A=>d(A.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[_.jsx("option",{value:"Todos",children:"Todas Categorias"}),s.map(A=>_.jsx("option",{value:A,children:A},A))]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:v.length===0?_.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:_.jsx("p",{children:"Nenhum produto encontrado."})}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:v.map(A=>{const C=h.includes(A.sku);return _.jsx("div",{onClick:()=>T(A.sku),className:`
                      relative p-3 rounded-xl border cursor-pointer transition-all duration-200 group
                      ${C?"bg-blue-50 border-blue-500 shadow-sm":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}
                    `,children:_.jsxs("div",{className:"flex justify-between items-start gap-2",children:[_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:`text-sm font-medium truncate ${C?"text-blue-800":"text-gray-800"}`,children:A.name}),_.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["SKU: ",A.sku,"  ",A.brand]}),_.jsx("p",{className:"text-xs font-bold text-gray-700 mt-1",children:A.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),_.jsx("div",{className:`
                        w-5 h-5 rounded-full border flex items-center justify-center transition-colors
                        ${C?"bg-blue-500 border-blue-500":"border-gray-300 group-hover:border-blue-400"}
                      `,children:C&&_.jsx(fl,{className:"w-3.5 h-3.5 text-white"})})]})},A.sku)})})}),_.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex justify-between items-center",children:[_.jsxs("div",{className:"text-sm text-gray-600",children:[_.jsx("span",{className:"font-bold text-blue-600",children:h.length})," produtos selecionados"]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),_.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition-transform active:scale-95",children:[_.jsx(md,{className:"w-4 h-4"}),"Salvar Atribuio"]})]})]})]})})},ene=({clients:t,onUpdateClient:e,onAddClient:n,currentUserRole:r,currentUserId:i,currentUserName:s,products:o=[],productCategories:c=[],users:f=[],uploadedFiles:d=[]})=>{const[h,g]=de.useState(""),[v,T]=de.useState("Todos"),[S,A]=de.useState("Todos"),[C,k]=de.useState(null),[V,D]=de.useState(!1),[H,G]=de.useState(!1),[K,I]=de.useState(!1),[N,b]=de.useState(null),F=de.useMemo(()=>t.filter(ee=>{const le=ee.companyName.toLowerCase().includes(h.toLowerCase())||ee.ownerName.toLowerCase().includes(h.toLowerCase()),se=v==="Todos"||ee.region===v,ke=S==="Todos"||Array.isArray(ee.category)&&ee.category.some(Z=>Z.trim()===S.trim());return le&&se&&ke}),[t,h,v,S]),O=()=>{const ee=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","Produtos Comprados","Link Maps"],le=F.map(W=>[W.id,W.companyName,W.ownerName,W.contact,W.cleanAddress,W.city,W.state,W.region,W.category.join("; "),W.purchasedProducts?W.purchasedProducts.map(ne=>ne.sku).join("; "):"",W.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${W.lat},${W.lng}`]),se=W=>{if(W==null)return"";const ne=String(W);return ne.includes('"')||ne.includes(",")||ne.includes(`
`)?`"${ne.replace(/"/g,'""')}"`:ne},ke=[ee.join(","),...le.map(W=>W.map(se).join(","))].join(`
`),Z=new Blob([`\uFEFF${ke}`],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(Z),Q=document.createElement("a");Q.setAttribute("href",B),Q.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},M=ee=>{k(ee),D(!0)},U=ee=>{b(ee),I(!0)},ue=(ee,le)=>{const se=t.find(ke=>ke.id===ee);if(se){const ke={...se,purchasedProducts:le};e(ke)}},pe=({client:ee,style:le})=>_.jsx("div",{style:le,className:"p-1",children:_.jsxs("div",{className:"h-full bg-surface-container-low border border-outline-variant/30 rounded-lg p-3 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden flex flex-col",children:[_.jsx("div",{className:"absolute top-0 right-0 p-0",children:_.jsx("span",{className:`px-3 py-1 rounded-bl-lg text-[10px] font-bold uppercase tracking-wider
                        ${ee.region==="Nordeste"?"bg-orange-100 text-orange-800":ee.region==="Sudeste"?"bg-blue-100 text-blue-800":ee.region==="Sul"?"bg-purple-100 text-purple-800":ee.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:ee.region})}),_.jsxs("div",{className:"flex items-start gap-4 pr-12 mb-2",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:ee.companyName.charAt(0).toUpperCase()}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",title:ee.companyName,children:ee.companyName}),_.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant mt-0.5",children:[_.jsx(Wx,{className:"w-3 h-3"}),_.jsx("span",{className:"truncate",children:ee.category.join(", ")})]}),ee.purchasedProducts&&ee.purchasedProducts.length>0&&_.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-md border border-gray-100 w-fit",children:[_.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[" ",_.jsx("span",{className:"font-bold text-gray-800",children:ee.purchasedProducts.length})," Prod."]}),_.jsx("div",{className:"h-3 w-px bg-gray-300"}),_.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[" ",_.jsx("span",{className:"font-bold text-gray-800",children:new Set(ee.purchasedProducts.map(se=>se.sku)).size})," SKUs"]})]}),ee.purchasedProducts&&ee.purchasedProducts.length>0&&_.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[ee.purchasedProducts.slice(0,2).map((se,ke)=>_.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:se.name,children:se.sku},ke)),ee.purchasedProducts.length>2&&_.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",ee.purchasedProducts.length-2]})]})]})]}),_.jsxs("div",{className:"space-y-2 flex-grow",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[_.jsx(zf,{className:"w-4 h-4 shrink-0"}),_.jsx("span",{className:"truncate",children:ee.ownerName})]}),_.jsxs("div",{className:"flex items-start gap-2 text-sm text-on-surface-variant group/link",children:[_.jsx(jc,{className:"w-4 h-4 shrink-0 mt-0.5"}),_.jsx("span",{className:"line-clamp-2",children:ee.cleanAddress})]})]}),_.jsxs("div",{className:"mt-4 pt-3 border-t border-outline-variant/30 flex items-center justify-between",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>U(ee),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Atribuir Produtos",children:_.jsx(oo,{className:"w-4 h-4"})}),_.jsx("a",{href:ee.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${ee.lat},${ee.lng}`,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-on-surface-variant hover:text-primary hover:bg-surface-container-highest rounded-lg transition-colors",title:"Ver rota no Google Maps",children:_.jsx(n2,{className:"w-4 h-4"})})]}),_.jsxs("button",{onClick:()=>M(ee),className:"flex items-center gap-1.5 text-xs font-bold text-primary hover:text-primary/80 transition-colors px-3 py-1.5 rounded-lg active:bg-surface-container-highest",children:[_.jsx(QD,{className:"w-3 h-3"})," Editar"]})]})]})}),ae=({client:ee})=>_.jsxs("div",{className:"p-4 border-b border-gray-100 last:border-0 bg-white",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-900",children:ee.companyName}),_.jsx("p",{className:"text-xs text-gray-500",children:ee.category.join(", ")}),ee.purchasedProducts&&ee.purchasedProducts.length>0&&_.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[ee.purchasedProducts.slice(0,3).map((le,se)=>_.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:le.name,children:le.sku},se)),ee.purchasedProducts.length>3&&_.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",ee.purchasedProducts.length-3]})]})]}),_.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase
              ${ee.region==="Nordeste"?"bg-orange-100 text-orange-800":ee.region==="Sudeste"?"bg-blue-100 text-blue-800":ee.region==="Sul"?"bg-purple-100 text-purple-800":ee.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
           `,children:ee.region})]}),_.jsxs("div",{className:"space-y-1 mb-3",children:[_.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[_.jsx(zf,{className:"w-4 h-4 text-gray-400"})," ",ee.ownerName]}),_.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[_.jsx(jc,{className:"w-4 h-4 text-gray-400"})," ",_.jsx("span",{className:"truncate",children:ee.cleanAddress})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>M(ee),className:"flex-1 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg text-center",children:"Editar"}),_.jsxs("button",{onClick:()=>U(ee),className:"flex-1 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg text-center flex items-center justify-center gap-1",children:[_.jsx(oo,{className:"w-4 h-4"})," Produtos"]}),_.jsx("a",{href:ee.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${ee.lat},${ee.lng}`,target:"_blank",className:"flex-none p-2 text-gray-600 bg-gray-100 rounded-lg flex items-center justify-center",children:_.jsx(n2,{className:"w-5 h-5"})})]})]});return _.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[_.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-200 flex flex-col md:flex-row gap-3 items-center justify-between bg-white z-10 sticky top-0 md:relative shadow-sm md:shadow-none",children:[_.jsxs("div",{className:"relative w-full md:max-w-xs group",children:[_.jsx(ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-primary transition-colors"}),_.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",className:"w-full pl-10 pr-4 py-1.5 bg-surface-container-highest border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all placeholder:text-on-surface-variant/50",value:h,onChange:ee=>g(ee.target.value)})]}),_.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:[_.jsxs("select",{value:v,onChange:ee=>T(ee.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",children:[_.jsx("option",{value:"Todos",children:"Todas Regies"}),Hf.map(ee=>_.jsx("option",{value:ee,children:ee},ee))]}),_.jsxs("select",{value:S,onChange:ee=>A(ee.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",children:[_.jsx("option",{value:"Todos",children:"Todos Segmentos"}),Gf.filter(ee=>ee!=="Todos").map(ee=>_.jsx("option",{value:ee,children:ee},ee))]}),_.jsxs("div",{className:"md:ml-auto flex items-center gap-2 pl-2 border-l border-gray-200",children:[r&&Af(r)&&n&&_.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95 whitespace-nowrap",children:[_.jsx(Jx,{className:"w-4 h-4"})," Novo"]}),_.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-outline-variant/30 text-on-surface hover:bg-surface-container-highest rounded-lg text-xs font-bold transition-colors shadow-sm whitespace-nowrap",children:[_.jsx(SD,{className:"w-4 h-4"})," Exportar"]})]})]})]}),_.jsxs("div",{className:"px-3 py-1.5 bg-gray-50 border-b border-gray-200 text-xs text-gray-500",children:["Exibindo ",F.length," de ",t.length," clientes"]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar bg-gray-50",children:[_.jsx("div",{className:"md:hidden flex flex-col gap-0 bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:F.map(ee=>_.jsx(ae,{client:ee},ee.id))}),_.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2",children:F.map(ee=>_.jsx(pe,{client:ee,style:{}},ee.id))}),F.length===0&&_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[_.jsx(GC,{className:"w-12 h-12 mb-2 opacity-20"}),_.jsx("p",{className:"text-lg font-medium",children:"Nenhum cliente encontrado"}),_.jsx("p",{className:"text-sm",children:"Tente ajustar seus filtros de busca"})]})]}),C&&V&&_.jsx(Zte,{isOpen:V,onClose:()=>D(!1),client:C,onSave:ee=>{e(ee),D(!1)},users:f,uploadedFiles:d}),H&&n&&_.jsx(Xte,{isOpen:H,onClose:()=>G(!1),onAdd:ee=>{n(ee),G(!1)},salespersonId:i||"",ownerName:s||"",users:f}),_.jsx(Qte,{isOpen:K,onClose:()=>I(!1),client:N,products:o,productCategories:c,onSave:ue})]})},tne="modulepreload",nne=function(t){return"/Rota-de-Vendas/"+t},kC={},zx=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");i=d(n.map(h=>{if(h=nne(h),h in kC)return;kC[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":tne,g||(T.as="script"),T.crossOrigin="",T.href=h,f&&T.setAttribute("nonce",f),document.head.appendChild(T),g)return new Promise((S,A)=>{T.addEventListener("load",S),T.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return i.then(c=>{for(const f of c||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})};var Hx=function(){return Hx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Hx.apply(this,arguments)},Gx,rne=function(t){var e;t?(function(n){if(n)for(;n.lastChild;)n.lastChild.remove()})(typeof t=="string"?document.getElementById(t):t):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},ine=function(t,e){rne(e),window.___grecaptcha_cfg=void 0;var n=document.querySelector("#"+t);n&&n.remove(),(function(){var r=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');r&&r.remove()})()},sne=function(t){var e=t.render,n=t.onLoadCallbackName,r=t.language,i=t.onLoad,s=t.useRecaptchaNet,o=t.useEnterprise,c=t.scriptProps,f=c===void 0?{}:c,d=f.nonce,h=d===void 0?"":d,g=f.defer,v=g!==void 0&&g,T=f.async,S=T!==void 0&&T,A=f.id,C=A===void 0?"":A,k=f.appendTo,V=C||"google-recaptcha-v3";if((function(G){return!!document.querySelector("#"+G)})(V))i();else{var D=(function(G){return"https://www."+(G.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(G.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:o,useRecaptchaNet:s}),H=document.createElement("script");H.id=V,H.src=D+"?render="+e+(e==="explicit"?"&onload="+n:"")+(r?"&hl="+r:""),h&&(H.nonce=h),H.defer=!!v,H.async=!!S,H.onload=i,(k==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(H)}},DC=function(t){console.warn(t)};(function(t){t.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Gx||(Gx={}));var Sy=de.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});Sy.Consumer;function MC(t){var e=t.reCaptchaKey,n=t.useEnterprise,r=n!==void 0&&n,i=t.useRecaptchaNet,s=i!==void 0&&i,o=t.scriptProps,c=t.language,f=t.container,d=t.children,h=de.useState(null),g=h[0],v=h[1],T=de.useRef(e),S=JSON.stringify(o),A=JSON.stringify(f?.parameters);de.useEffect((function(){if(e){var V=o?.id||"google-recaptcha-v3",D=o?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[D]=function(){var H=r?window.grecaptcha.enterprise:window.grecaptcha,G=Hx({badge:"inline",size:"invisible",sitekey:e},f?.parameters||{});T.current=H.render(f?.element,G)},sne({render:f?.element?"explicit":e,onLoadCallbackName:D,useEnterprise:r,useRecaptchaNet:s,scriptProps:o,language:c,onLoad:function(){if(window&&window.grecaptcha){var H=r?window.grecaptcha.enterprise:window.grecaptcha;H.ready((function(){v(H)}))}else DC("<GoogleRecaptchaProvider /> "+Gx.SCRIPT_NOT_AVAILABLE)}}),function(){ine(V,f?.element)}}DC("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[r,s,S,A,c,e,f?.element]);var C=de.useCallback((function(V){if(!g||!g.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return g.execute(T.current,{action:V})}),[g,T]),k=de.useMemo((function(){return{executeRecaptcha:g?C:void 0,container:f?.element}}),[C,g,f?.element]);return Dn.createElement(Sy.Provider,{value:k},d)}var ane=function(){return de.useContext(Sy)};function l4(t,e){return t(e={exports:{}},e.exports),e.exports;}var hr=typeof Symbol=="function"&&Symbol.for,jx=hr?Symbol.for("react.element"):60103,qx=hr?Symbol.for("react.portal"):60106,N0=hr?Symbol.for("react.fragment"):60107,I0=hr?Symbol.for("react.strict_mode"):60108,R0=hr?Symbol.for("react.profiler"):60114,k0=hr?Symbol.for("react.provider"):60109,D0=hr?Symbol.for("react.context"):60110,$x=hr?Symbol.for("react.async_mode"):60111,Ap=hr?Symbol.for("react.concurrent_mode"):60111,M0=hr?Symbol.for("react.forward_ref"):60112,P0=hr?Symbol.for("react.suspense"):60113,one=hr?Symbol.for("react.suspense_list"):60120,F0=hr?Symbol.for("react.memo"):60115,O0=hr?Symbol.for("react.lazy"):60116,lne=hr?Symbol.for("react.block"):60121,cne=hr?Symbol.for("react.fundamental"):60117,une=hr?Symbol.for("react.responder"):60118,fne=hr?Symbol.for("react.scope"):60119;function Si(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jx:switch(t=t.type){case $x:case Ap:case N0:case R0:case I0:case P0:return t;default:switch(t=t&&t.$$typeof){case D0:case M0:case O0:case F0:case k0:return t;default:return e}}case qx:return e}}}function PC(t){return Si(t)===Ap}var dne={AsyncMode:$x,ConcurrentMode:Ap,ContextConsumer:D0,ContextProvider:k0,Element:jx,ForwardRef:M0,Fragment:N0,Lazy:O0,Memo:F0,Portal:qx,Profiler:R0,StrictMode:I0,Suspense:P0,isAsyncMode:function(t){return PC(t)||Si(t)===$x},isConcurrentMode:PC,isContextConsumer:function(t){return Si(t)===D0},isContextProvider:function(t){return Si(t)===k0},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jx},isForwardRef:function(t){return Si(t)===M0},isFragment:function(t){return Si(t)===N0},isLazy:function(t){return Si(t)===O0},isMemo:function(t){return Si(t)===F0},isPortal:function(t){return Si(t)===qx},isProfiler:function(t){return Si(t)===R0},isStrictMode:function(t){return Si(t)===I0},isSuspense:function(t){return Si(t)===P0},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===N0||t===Ap||t===R0||t===I0||t===P0||t===one||typeof t=="object"&&t!==null&&(t.$$typeof===O0||t.$$typeof===F0||t.$$typeof===k0||t.$$typeof===D0||t.$$typeof===M0||t.$$typeof===cne||t.$$typeof===une||t.$$typeof===fne||t.$$typeof===lne)},typeOf:Si},un=l4((function(t,e){})),FC=(un.AsyncMode,un.ConcurrentMode,un.ContextConsumer,un.ContextProvider,un.Element,un.ForwardRef,un.Fragment,un.Lazy,un.Memo,un.Portal,un.Profiler,un.StrictMode,un.Suspense,un.isAsyncMode,un.isConcurrentMode,un.isContextConsumer,un.isContextProvider,un.isElement,un.isForwardRef,un.isFragment,un.isLazy,un.isMemo,un.isPortal,un.isProfiler,un.isStrictMode,un.isSuspense,un.isValidElementType,un.typeOf,l4((function(t){t.exports=dne}))),hne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OC={};OC[FC.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OC[FC.Memo]=hne;const pne=({users:t,onLogin:e})=>{const[n,r]=de.useState("login"),[i,s]=de.useState(""),[o,c]=de.useState(""),[f,d]=de.useState(""),[h,g]=de.useState(""),[v,T]=de.useState(""),[S,A]=de.useState(""),[C,k]=de.useState(!1),{executeRecaptcha:V}=ane(),[D,H]=de.useState(!1),G=async F=>{if(F.preventDefault(),d(""),console.log("[CAPTCHA] Key configured:","MISSING"),console.log("[CAPTCHA] executeRecaptcha available:",!!V),!V){console.error("[CAPTCHA] executeRecaptcha not available - Provider may not be loaded"),d(" Sistema de segurana no carregado. Recarregue a pgina.");return}H(!0);try{console.log("[CAPTCHA] Executing reCAPTCHA verification...");const O=await V("login");if(console.log("[CAPTCHA] Token received:",O?"Success ":"Failed "),console.log("[CAPTCHA] Token length:",O?.length||0),!O)throw new Error("reCAPTCHA token is empty");console.log("[AUTH] CAPTCHA passed, validating credentials...");let M=t;try{const{loadFromCloud:ue}=await zx(async()=>{const{loadFromCloud:ae}=await Promise.resolve().then(()=>Kee);return{loadFromCloud:ae}},void 0),pe=await ue();pe&&pe.users&&(console.log("[AUTH] Fetched fresh users from cloud for validation"),M=pe.users)}catch(ue){console.warn("[AUTH] Failed to fetch fresh users, using prop users",ue)}const U=M.find(ue=>ue.username.toLowerCase()===i.toLowerCase());U&&U.password===o?(console.log("[AUTH] Login successful "),e(U)):(console.warn("[AUTH] Invalid credentials"),d(" Credenciais invlidas. Verifique usurio e senha."))}catch(O){console.error("[CAPTCHA] Error details:",{message:O?.message,name:O?.name,stack:O?.stack,error:O}),O?.message?.includes("Invalid site key")?d(" Erro de configurao: Chave reCAPTCHA invlida. Contate o administrador."):O?.message?.includes("network")?d(" Erro de rede. Verifique sua conexo e tente novamente."):d(` Falha na verificao de segurana: ${O?.message||"Erro desconhecido"}. Tente novamente.`)}finally{H(!1)}},K=()=>{d(""),A(""),g(""),T("")},I=F=>{K(),r(F)},N=async F=>{F.preventDefault(),d(""),k(!0),await new Promise(M=>setTimeout(M,1500));const O=t.find(M=>M.email?.toLowerCase()===h.toLowerCase());A(O?`Seu usurio foi enviado para: ${h}`:"Se este e-mail estiver cadastrado, voc receber seu usurio em breve."),k(!1)},b=async F=>{F.preventDefault(),d(""),k(!0),await new Promise(M=>setTimeout(M,1500));const O=t.find(M=>M.username.toLowerCase()===v.toLowerCase()||M.email?.toLowerCase()===v.toLowerCase());O&&O.email?A(`Instrues de redefinio enviadas para: ${O.email}`):A("Se os dados estiverem corretos, enviamos as instrues para o seu e-mail de cadastro."),k(!1)};return _.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[_.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),_.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[_.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[n!=="login"&&_.jsx("button",{onClick:()=>I("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:_.jsx(sD,{className:"w-6 h-6"})}),_.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:_.jsx(lM,{className:"w-7 h-7 text-white"})}),_.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),_.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),_.jsxs("div",{className:"p-8 space-y-6",children:[n==="login"&&_.jsxs("form",{onSubmit:G,className:"space-y-6 pt-2 animate-fade-in",children:[_.jsx("div",{className:"text-center pb-2",children:_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),_.jsxs("div",{className:"relative",children:[_.jsx(hi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),_.jsx("input",{type:"text",value:i,onChange:F=>s(F.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),_.jsx("div",{className:"text-right mt-1",children:_.jsx("button",{type:"button",onClick:()=>I("forgot_user"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci o usurio"})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),_.jsxs("div",{className:"relative",children:[_.jsx(Pv,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),_.jsx("input",{type:"password",value:o,onChange:F=>c(F.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),_.jsx("div",{className:"text-right mt-1",children:_.jsx("button",{type:"button",onClick:()=>I("forgot_pass"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci a senha"})})]})]}),f&&_.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[_.jsx(ha,{className:"w-4 h-4 flex-shrink-0"}),f]}),_.jsx("button",{type:"submit",disabled:D,className:"w-full bg-slate-800 hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-wait text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:D?_.jsxs(_.Fragment,{children:[_.jsx(Fv,{className:"w-4 h-4 animate-pulse"}),"Verificando segurana..."]}):_.jsxs(_.Fragment,{children:["Entrar ",_.jsx(oD,{className:"w-4 h-4"})]})})]}),n==="forgot_user"&&_.jsxs("div",{className:"animate-fade-in space-y-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(hi,{className:"w-8 h-8 text-blue-600"})}),_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recuperar Usurio"}),_.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu e-mail cadastrado. Enviaremos seu nome de usurio para ele."})]}),S?_.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[_.jsx(U0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),_.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"E-mail Enviado!"}),_.jsx("p",{className:"text-sm text-green-700",children:S}),_.jsx("button",{onClick:()=>I("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):_.jsxs("form",{onSubmit:N,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"E-mail Cadastrado"}),_.jsxs("div",{className:"relative",children:[_.jsx(VD,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),_.jsx("input",{type:"email",required:!0,value:h,onChange:F=>g(F.target.value),placeholder:"exemplo@empresa.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),_.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Recuperar Usurio",!C&&_.jsx(i2,{className:"w-4 h-4"})]})]})]}),n==="forgot_pass"&&_.jsxs("div",{className:"animate-fade-in space-y-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"bg-orange-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Pv,{className:"w-8 h-8 text-orange-600"})}),_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Redefinir Senha"}),_.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu usurio ou e-mail. Enviaremos as instrues de redefinio."})]}),S?_.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[_.jsx(U0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),_.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"Sucesso!"}),_.jsx("p",{className:"text-sm text-green-700",children:S}),_.jsx("button",{onClick:()=>I("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):_.jsxs("form",{onSubmit:b,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio ou E-mail"}),_.jsxs("div",{className:"relative",children:[_.jsx(hi,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),_.jsx("input",{type:"text",required:!0,value:v,onChange:F=>T(F.target.value),placeholder:"Digite seu usurio ou email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),_.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Enviar Instrues",!C&&_.jsx(i2,{className:"w-4 h-4"})]})]})]})]})]})]})},mne=(t,e=200,n=200,r=.7)=>new Promise((i,s)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=c=>{const f=new Image;f.src=c.target?.result,f.onload=()=>{const d=document.createElement("canvas");let h=f.width,g=f.height;h>g?h>e&&(g=Math.round(g*=e/h),h=e):g>n&&(h=Math.round(h*=n/g),g=n),d.width=h,d.height=g;const v=d.getContext("2d");if(!v){s(new Error("Could not get canvas context"));return}v.drawImage(f,0,0,h,g);const T=d.toDataURL("image/jpeg",r);i(T)},f.onerror=d=>s(d)},o.onerror=c=>s(c)}),gne=({currentUser:t,users:e,onAddUser:n,onUpdateUser:r,onDeleteUser:i,onCleanupDuplicates:s,totalClients:o})=>{const[c,f]=de.useState(null),[d,h]=de.useState(""),[g,v]=de.useState(""),[T,S]=de.useState(""),A=SM(t.role),C=A.includes("sales_external")?"sales_external":A[0],[k,V]=de.useState(C),[D,H]=de.useState("Externo"),[G,K]=de.useState("#3B82F6"),[I,N]=de.useState(void 0),b=de.useRef(null),[F,O]=de.useState("Todos"),M=()=>{f(null),h(""),v(""),S(""),V(C),H("Externo"),K("#3B82F6"),N(void 0),b.current&&(b.current.value="")},U=le=>{if(!tv(t.role,le.role)){alert("Voc no tem permisso para editar este usurio (Nvel Hierrquico Superior ou Igual).");return}f(le.id),h(le.name),v(le.username),S(le.password||""),V(wM(le.role)),H(le.salesCategory||"N/A"),K(le.color||"#3B82F6"),N(le.photoURL),window.scrollTo({top:0,behavior:"smooth"})},ue=async le=>{const se=le.target.files?.[0];if(se){if(!["image/jpeg","image/png"].includes(se.type)){alert("Apenas imagens JPEG ou PNG so permitidas.");return}if(se.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB.");return}try{const ke=await mne(se);N(ke)}catch(ke){console.error("Erro ao processar imagem:",ke),alert("Erro ao processar a imagem. Tente novamente.")}}},pe=le=>{if(le.preventDefault(),!d||!g||!T)return;const se=di[k]>=4,ke={id:c||Date.now().toString(),name:d,username:g,role:k,password:T,salesCategory:se?D:"N/A",color:se?G:void 0,photoURL:I};c?r(ke):n(ke),M()},ae=e.filter(le=>F==="Todos"||F==="N/A"&&di[le.role]<=2?!0:le.salesCategory===F),ee=["Todos","Externo","Interno","Mercado Livre"];return _.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[_.jsxs("div",{className:`bg-white rounded-[28px] shadow-elevation-1 p-6 transition-all border ${c?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${c?"text-primary":"text-on-surface"}`,children:[c?_.jsx(ev,{className:"w-5 h-5"}):_.jsx(a2,{className:"w-5 h-5 text-primary"}),c?"Editar Usurio":"Cadastrar Novo Usurio"]}),c&&_.jsxs("button",{onClick:M,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[_.jsx(pa,{className:"w-4 h-4"})," Cancelar Edio"]})]}),_.jsxs("form",{onSubmit:pe,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-3 flex justify-center mb-4",children:[_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:`w-24 h-24 rounded-full overflow-hidden border-2 flex items-center justify-center bg-surface-container-highest ${I?"border-primary":"border-dashed border-outline-variant"}`,children:I?_.jsx("img",{src:I,alt:"Profile",className:"w-full h-full object-cover"}):_.jsx(hi,{className:"w-10 h-10 text-on-surface-variant/50"})}),_.jsxs("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 p-1.5 bg-primary text-on-primary rounded-full shadow-md cursor-pointer hover:bg-primary/90 transition-colors",title:"Alterar foto",children:[_.jsx(pD,{className:"w-4 h-4"}),_.jsx("input",{id:"photo-upload",type:"file",accept:"image/jpeg, image/png",onChange:ue,className:"hidden",ref:b})]}),I&&_.jsx("button",{type:"button",onClick:()=>{N(void 0),b.current&&(b.current.value="")},className:"absolute -top-1 -right-1 p-1 bg-error text-white rounded-full shadow-md hover:bg-error/90 transition-colors",title:"Remover foto",children:_.jsx(pa,{className:"w-3 h-3"})})]}),_.jsxs("div",{className:"ml-4 flex flex-col justify-center",children:[_.jsx("span",{className:"text-sm font-medium text-on-surface",children:"Foto de Perfil"}),_.jsx("span",{className:"text-xs text-on-surface-variant",children:"JPG ou PNG at 2MB."})]})]}),_.jsxs("div",{className:"lg:col-span-2",children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),_.jsx("input",{type:"text",value:d,onChange:le=>h(le.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),_.jsx("input",{type:"text",value:g,onChange:le=>v(le.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),_.jsx("input",{type:"text",value:T,onChange:le=>S(le.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),_.jsx("select",{value:k,onChange:le=>V(le.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:A.map(le=>_.jsx("option",{value:le,children:qC[le]||le},le))}),_.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 pl-1",children:"* Voc s pode criar nveis abaixo do seu."})]}),di[k]>=4&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"animate-fade-in",children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),_.jsxs("select",{value:D,onChange:le=>H(le.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[_.jsx("option",{value:"Externo",children:"Externo"}),_.jsx("option",{value:"Interno",children:"Interno"}),_.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),_.jsxs("div",{className:"animate-fade-in",children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"color",value:G,onChange:le=>K(le.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),_.jsx("input",{type:"text",value:G,onChange:le=>K(le.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),_.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:_.jsxs("button",{type:"submit",disabled:!d||!g||!T,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${c?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[c?_.jsx(md,{className:"w-4 h-4"}):_.jsx(a2,{className:"w-4 h-4"}),c?"Salvar Alteraes":"Criar Acesso"]})})]})]}),_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 overflow-hidden",children:[_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[_.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[_.jsx(hi,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",ae.length,")"]}),_.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[_.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[_.jsx(ha,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),_.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",_.jsx("strong",{children:o}),o>143&&_.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),_.jsxs("button",{onClick:s,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[_.jsx(ha,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),_.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:ee.map(le=>_.jsx("button",{onClick:()=>O(le),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${F===le?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:le},le))})]}),_.jsx("div",{className:"hidden md:block overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),_.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),_.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),_.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),_.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),_.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),_.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[ae.map(le=>_.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${c===le.id?"bg-primary-container/30":""}`,children:[_.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30",children:le.photoURL?_.jsx("img",{src:le.photoURL,alt:le.name,className:"w-full h-full object-cover"}):_.jsx(hi,{className:"w-4 h-4 text-primary"})}),le.name]})}),_.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:le.username}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${di[le.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:o2(le.role)})}),_.jsx("td",{className:"px-6 py-4",children:di[le.role]>=4?_.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[_.jsx(L0,{className:"w-3.5 h-3.5"}),le.salesCategory||"N/A"]}):_.jsx("span",{className:"text-outline-variant",children:"-"})}),_.jsx("td",{className:"px-6 py-4",children:di[le.role]>=4&&le.color?_.jsx("div",{className:"flex items-center gap-2",title:le.color,children:_.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:le.color}})}):_.jsx("span",{className:"text-outline-variant",children:"-"})}),_.jsx("td",{className:"px-6 py-4 text-right",children:_.jsx("div",{className:"flex items-center justify-end gap-2",children:tv(t.role,le.role)?_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>U(le),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:_.jsx(ev,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>i(le.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:_.jsx(gl,{className:"w-4 h-4"})})]}):_.jsx("div",{className:"flex items-center gap-2 opacity-30 cursor-not-allowed",children:_.jsx("span",{className:"text-xs italic",children:"Sem permisso"})})})})]},le.id)),ae.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),_.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[ae.map(le=>_.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${c===le.id?"bg-primary-container/30 border-primary/30":""}`,children:[_.jsxs("div",{className:"flex justify-between items-start mb-3",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30 flex-shrink-0",children:le.photoURL?_.jsx("img",{src:le.photoURL,alt:le.name,className:"w-full h-full object-cover"}):_.jsx(hi,{className:"w-5 h-5 text-primary"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-on-surface",children:le.name}),_.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",le.username]})]})]}),_.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${di[le.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:o2(le.role)})]}),_.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[_.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[_.jsx("span",{children:"Categoria:"}),_.jsx("span",{className:"font-medium text-on-surface",children:le.salesCategory||"-"})]}),_.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[_.jsx("span",{children:"Senha:"}),_.jsx("span",{className:"font-mono",children:le.password||"***"})]})]}),_.jsx("div",{className:"flex justify-end gap-2 pt-2",children:tv(t.role,le.role)&&_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>U(le),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[_.jsx(ev,{className:"w-3.5 h-3.5"})," Editar"]}),_.jsxs("button",{onClick:()=>i(le.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[_.jsx(gl,{className:"w-3.5 h-3.5"})," Remover"]})]})})]},le.id)),ae.length===0&&_.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},vne=({categories:t,onAddCategory:e,onDeleteCategory:n})=>{const[r,i]=de.useState(""),s=o=>{o.preventDefault(),r.trim()&&(e(r.trim()),i(""))};return _.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[_.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[_.jsx(jC,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),_.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),_.jsxs("form",{onSubmit:s,className:"flex gap-3 mb-8",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx(Wx,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),_.jsx("input",{type:"text",value:r,onChange:o=>i(o.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),_.jsxs("button",{type:"submit",disabled:!r.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[_.jsx(Jx,{className:"w-4 h-4"})," Adicionar"]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[t.map(o=>_.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[_.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[_.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o]}),_.jsx("button",{onClick:()=>n(o),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:_.jsx(gl,{className:"w-4 h-4"})})]},o)),t.length===0&&_.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},xne=({products:t,onUploadProducts:e,onClearProducts:n,onSaveProducts:r,apiKey:i})=>{const[s,o]=de.useState(!1),[c,f]=de.useState(""),[d,h]=de.useState(!1),[g,v]=de.useState({current:0,total:0}),[T,S]=de.useState([]),[A,C]=de.useState(null),[k,V]=de.useState(!1);de.useEffect(()=>{S(t),V(!1)},[t]);const D=async M=>{const U=M.target.files?.[0];if(U){o(!0);try{let ue=[];const pe=U.name.toLowerCase();if(pe.endsWith(".csv"))ue=await Nb(U);else if(pe.endsWith(".xlsx")||pe.endsWith(".xls"))ue=await uI(U);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");e(ue),M.target.value=""}catch(ue){console.error("Error parsing products:",ue),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{o(!1)}}},H=()=>{r&&(r(T),V(!1),alert("Alteraes salvas com sucesso!"))},G=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(T.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${T.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){h(!0),v({current:0,total:T.length});try{const M=await MJ(T,i,(U,ue)=>{v({current:U,total:ue})});S(M),V(!0),alert(` ${M.length} produtos foram categorizados pela IA!`)}catch(M){console.error("AI Categorization failed",M),alert(`Erro ao categorizar produtos: ${M.message||"Erro desconhecido"}`)}finally{h(!1),v({current:0,total:0})}}},K=(M,U,ue)=>{const pe=[...T];pe[M]={...pe[M],[U]:ue},S(pe),V(!0)},I=M=>{let U="asc";A&&A.key===M&&A.direction==="asc"&&(U="desc"),C({key:M,direction:U})},N=M=>A?[...M].sort((U,ue)=>{let pe=U[A.key],ae=ue[A.key];return A.key==="price"||A.key==="discount"?(pe=Number(pe||0),ae=Number(ae||0)):(pe=String(pe||"").toLowerCase(),ae=String(ae||"").toLowerCase()),pe<ae?A.direction==="asc"?-1:1:pe>ae?A.direction==="asc"?1:-1:0}):M,b=T.map((M,U)=>({...M,originalIndex:U})).filter(M=>M.name.toLowerCase().includes(c.toLowerCase())||M.sku.toLowerCase().includes(c.toLowerCase())||M.brand.toLowerCase().includes(c.toLowerCase())||M.factoryCode.toLowerCase().includes(c.toLowerCase())),F=N(b),O=({column:M})=>A?.key!==M?_.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):A.direction==="asc"?_.jsx(cD,{className:"w-3 h-3 ml-1 inline-block text-primary"}):_.jsx(rD,{className:"w-3 h-3 ml-1 inline-block text-primary"});return _.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[_.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[_.jsx(dl,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),_.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),_.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[k&&_.jsxs("button",{onClick:H,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[_.jsx(md,{className:"w-4 h-4"})," Salvar Alteraes"]}),t.length>0&&_.jsxs("button",{onClick:G,disabled:d,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?_.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):_.jsx(s2,{className:"w-4 h-4"}),d?"Processando...":"IA Classificar"]}),t.length>0&&_.jsxs("button",{onClick:n,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[_.jsx(gl,{className:"w-4 h-4"})," Limpar"]}),_.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${s?"opacity-50 pointer-events-none":""}`,children:[s?_.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):_.jsx(xM,{className:"w-4 h-4"}),s?"Processando...":"Importar CSV",_.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:D})]})]})]}),t.length===0?_.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[_.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:_.jsx(v0,{className:"w-8 h-8 text-outline"})}),_.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),_.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):_.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[_.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[_.jsx(ll,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),_.jsx("input",{type:"text",value:c,onChange:M=>f(M.target.value),placeholder:"Filtrar por SKU, Marca, Cdigo ou Descrio...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),_.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:_.jsxs("tr",{children:[_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>I("sku"),children:["SKU ",_.jsx(O,{column:"sku"})]}),_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("brand"),children:["Marca ",_.jsx(O,{column:"brand"})]}),_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("factoryCode"),children:["Cd. Fbrica ",_.jsx(O,{column:"factoryCode"})]}),_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>I("name"),children:["Descrio ",_.jsx(O,{column:"name"})]}),_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>I("category"),children:["Categoria ",_.jsx(O,{column:"category"})]}),_.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("price"),children:["Preo (R$) ",_.jsx(O,{column:"price"})]}),_.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>I("discount"),children:["Desc. (%) ",_.jsx(O,{column:"discount"})]})]})}),_.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:F.map(M=>_.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[_.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:M.sku}),_.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs",children:M.brand}),_.jsx("td",{className:"px-4 py-2 font-mono text-xs text-on-surface-variant",children:M.factoryCode}),_.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:M.name,children:M.name}),_.jsx("td",{className:"px-2 py-2",children:_.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:M.category,onChange:U=>K(M.originalIndex,"category",U.target.value)})}),_.jsx("td",{className:"px-2 py-2 text-right",children:_.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:M.price,onChange:U=>K(M.originalIndex,"price",parseFloat(U.target.value)||0)})}),_.jsx("td",{className:"px-2 py-2 text-right",children:_.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:M.discount||0,onChange:U=>K(M.originalIndex,"discount",parseFloat(U.target.value)||0)})})]},`${M.sku}-${M.originalIndex}`))})]})}),_.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[F.map(M=>_.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:M.sku}),_.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:M.name}),_.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:M.brand})]}),_.jsx("div",{className:"text-right",children:_.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:M.factoryCode})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Categoria"}),_.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:M.category,onChange:U=>K(M.originalIndex,"category",U.target.value)})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),_.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:M.discount||0,onChange:U=>K(M.originalIndex,"discount",parseFloat(U.target.value)||0)})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),_.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:M.price,onChange:U=>K(M.originalIndex,"price",parseFloat(U.target.value)||0)})]})]},`${M.sku}-${M.originalIndex}`)),F.length===0&&_.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),_.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[_.jsxs("span",{children:["Total de Produtos: ",_.jsx("strong",{children:T.length})]}),_.jsxs("span",{children:["Exibindo: ",_.jsx("strong",{children:F.length})]})]})]})]}),d&&_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[_.jsx(s2,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),_.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&h(!1)},className:"text-on-surface-variant hover:text-on-surface",children:_.jsx(pa,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[_.jsx("span",{children:"Processando produtos..."}),_.jsxs("span",{className:"font-mono font-bold text-primary",children:[g.current," / ",g.total]})]}),_.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})}),_.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},yne=({isOpen:t,onClose:e,onSaveToCloud:n,onClearDatabase:r,isFirebaseConnected:i=!1})=>{const[s,o]=de.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[c,f]=de.useState("idle"),[d,h]=de.useState("");de.useEffect(()=>{if(t){const S=Yk();S&&(o(S),f("success"),h("Configurao salva encontrada."))}},[t]);const g=S=>{o({...s,[S.target.name]:S.target.value}),f("idle"),h("")},v=async()=>{if(f("testing"),h("Testando conexo..."),!s.apiKey||!s.projectId){f("error"),h("Campos obrigatrios faltando.");return}try{await Ey(s)?(Gee(s),f("success"),h("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(f("error"),h("Falha ao conectar. Verifique as credenciais."))}catch(S){f("error"),h("Erro: "+S.message)}},T=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(jee(),o({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),f("idle"),h("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return t?_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[_.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:_.jsx(Dv,{className:"w-5 h-5"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold",children:"Configurao de Nuvem"}),_.jsx("p",{className:"text-xs text-slate-400",children:"Sincronizao via Firebase Firestore"})]})]}),_.jsx("button",{onClick:e,className:"text-white/50 hover:text-white",children:""})]}),_.jsxs("div",{className:"p-6 space-y-4",children:[_.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-blue-50 p-3 rounded border border-blue-100",children:["Insira os dados do seu projeto Firebase. Voc pode encontrar isso no Console do Firebase ",">"," Configuraes do Projeto ",">"," Seus aplicativos."]}),_.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[_.jsx("input",{type:"text",name:"apiKey",placeholder:"apiKey",value:s.apiKey,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"authDomain",placeholder:"authDomain",value:s.authDomain,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"projectId",placeholder:"projectId",value:s.projectId,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"storageBucket",placeholder:"storageBucket",value:s.storageBucket,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"messagingSenderId",placeholder:"messagingSenderId",value:s.messagingSenderId,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"appId",placeholder:"appId",value:s.appId,onChange:g,className:"text-xs p-2 border rounded"})]}),d&&_.jsxs("div",{className:`text-xs p-2 rounded flex items-center gap-2 ${c==="error"?"bg-red-50 text-red-600":c==="success"?"bg-green-50 text-green-600":"bg-gray-50 text-gray-600"}`,children:[c==="testing"&&_.jsx(Sf,{className:"w-3 h-3 animate-spin"}),c==="success"&&_.jsx(U0,{className:"w-3 h-3"}),d]})]}),i&&n&&r&&_.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[_.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-3",children:"Aes da Nuvem"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[_.jsx(Dv,{className:"w-4 h-4"}),"Salvar na Nuvem"]}),_.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[_.jsx(gl,{className:"w-4 h-4"}),"Limpar Base"]})]})]}),_.jsxs("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-2",children:[c==="success"&&_.jsxs("button",{onClick:T,className:"px-4 py-2 text-red-500 text-xs font-bold hover:bg-red-50 rounded transition-colors mr-auto flex items-center gap-1",children:[_.jsx(gl,{className:"w-3 h-3"})," Desconectar"]}),_.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 font-medium text-sm hover:bg-gray-200 rounded-lg",children:"Cancelar"}),_.jsx("button",{onClick:v,disabled:c==="testing",className:"px-6 py-2 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:c==="testing"?"Verificando...":"Salvar e Conectar"})]})]})}):null},_ne=({onAccept:t,onDecline:e})=>{const[n,r]=de.useState(!1);de.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const c=setTimeout(()=>r(!0),1500);return()=>clearTimeout(c)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),r(!1),t()},s=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),r(!1),e()};return n?_.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 animate-slide-up",children:_.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-xl p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600 shrink-0",children:_.jsx(TD,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Este site utiliza cookies e armazenamento local"}),_.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Ns armazenamos dados no seu navegador para garantir que o sistema carregue instantaneamente na prxima vez que voc acessar (cache offline). Isso permite que voc trabalhe mais rpido e at mesmo sem internet."})]})]}),_.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[_.jsx("button",{onClick:s,className:"flex-1 md:flex-none px-4 py-2.5 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Agora no"}),_.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[_.jsx(U0,{className:"w-4 h-4"}),"Permitir Cache Rpido"]})]})]})}):null},Ene=({users:t,uploadedFiles:e,onUploadClients:n,onUploadProducts:r,onDeleteFile:i,onReassignSalesperson:s,procState:o={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,f]=de.useState("clients"),[d,h]=de.useState(""),[g,v]=de.useState([]),T=D=>{if(D.target.files&&D.target.files.length>0){const H=Array.from(D.target.files).map(G=>({file:G,targetUserId:d||""}));v(G=>[...G,...H]),D.target.value=""}},S=D=>{v(H=>H.filter((G,K)=>K!==D))},A=(D,H)=>{v(G=>{const K=[...G];return K[D].targetUserId=H,K})},C=async()=>{const D=g.filter(H=>H.targetUserId);if(D.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const H of D)await n(H.file,H.targetUserId,!0);v([])},k=D=>{const H=D.target.files?.[0];H&&(r(H),D.target.value="")},V=e.filter(D=>D.type===c);return _.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[_.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:_.jsxs("div",{children:[_.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[_.jsx(V0,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),_.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),_.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[_.jsxs("button",{onClick:()=>f("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[_.jsx(Ov,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&_.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),_.jsxs("button",{onClick:()=>f("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[_.jsx(dl,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&_.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),o?.isActive&&_.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${o.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[o.status==="processing"||o.status==="reading"?_.jsx(Sf,{className:"w-5 h-5 animate-spin"}):o.status==="completed"?_.jsx(fl,{className:"w-5 h-5"}):_.jsx(ha,{className:"w-5 h-5"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-sm",children:o.status==="reading"?"Lendo arquivo...":o.status==="processing"?"Processando dados...":o.status==="completed"?"Importao Concluda!":"Erro na Importao"}),o.errorMessage&&_.jsx("p",{className:"text-xs mt-1 opacity-80",children:o.errorMessage})]})]}),_.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[_.jsx("div",{className:"lg:col-span-4",children:_.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[_.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[_.jsx(wne,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?_.jsxs("div",{className:"space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:D=>h(D.target.value),children:[_.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),t.filter(D=>Af(D.role)).map(D=>_.jsx("option",{value:D.id,children:D.name},D.id))]}),_.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:_.jsx(Tne,{className:"w-4 h-4"})})]})]}),g.length>0&&_.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[_.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[_.jsxs("span",{children:["Arquivos na Fila (",g.length,")"]}),_.jsx("button",{onClick:()=>v([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),_.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:g.map((D,H)=>_.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[_.jsx(v0,{className:"w-4 h-4 text-primary shrink-0"}),_.jsx("span",{className:"truncate flex-1 font-medium",title:D.file.name,children:D.file.name}),_.jsxs("select",{value:D.targetUserId,onChange:G=>A(H,G.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${D.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[_.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),t.filter(G=>Af(G.role)).map(G=>_.jsx("option",{value:G.id,children:G.name},G.id))]}),_.jsx("button",{onClick:()=>S(H),className:"text-on-surface-variant hover:text-error p-1",children:_.jsx(pa,{className:"w-3 h-3"})})]},H))}),_.jsx("button",{onClick:C,disabled:o?.isActive||g.some(D=>!D.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:o?.isActive?_.jsxs(_.Fragment,{children:[_.jsx(Sf,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):_.jsxs(_.Fragment,{children:[_.jsx(fl,{className:"w-3 h-3"}),"Processar ",g.length," Arquivos"]})})]}),_.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[_.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[_.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:_.jsx(V0,{className:"w-6 h-6"})}),_.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),_.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:T,disabled:o?.isActive&&o.status==="processing"})]}),_.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant",children:[_.jsx(Mv,{className:"w-3 h-3"}),_.jsx("span",{children:"Suporta .csv, .xlsx, .xls (Mltiplos arquivos)"})]})]}):_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[_.jsx(dl,{className:"w-5 h-5 shrink-0"}),_.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),_.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[_.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:_.jsx(dl,{className:"w-6 h-6"})}),_.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),_.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:k,disabled:o?.isActive&&o.status==="processing"})]})]})]})}),_.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[_.jsx("div",{className:"flex items-center justify-between mb-2",children:_.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[_.jsx(v0,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",_.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:V.length})]})}),V.length===0?_.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:_.jsx(Mv,{className:"w-10 h-10 text-outline"})}),_.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),_.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):_.jsx("div",{className:"space-y-3",children:V.map(D=>_.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[_.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[_.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${D.status==="error"?"bg-error-container text-error":D.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:D.status==="processing"?_.jsx(Sf,{className:"w-5 h-5 animate-spin"}):D.status==="error"?_.jsx(ha,{className:"w-5 h-5"}):_.jsx(v0,{className:"w-5 h-5"})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:D.fileName,children:D.fileName}),_.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(dD,{className:"w-3 h-3"}),new Date(D.uploadDate).toLocaleDateString(),_.jsx("span",{className:"opacity-60 ml-1",children:new Date(D.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(fl,{className:"w-3 h-3"}),D.itemCount," registros"]})]}),D.status==="error"&&_.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:D.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&_.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:t.find(G=>G.id===D.salespersonId)?.name?.charAt(0)||"?"}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsxs("select",{value:D.salespersonId,onChange:H=>s?.(D.id,H.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:D.status==="processing",children:[_.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),t.filter(H=>Af(H.role)).map(H=>_.jsx("option",{value:H.id,className:"bg-surface text-on-surface",children:H.name},H.id))]}),_.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),_.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:D.status==="processing"?_.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):_.jsxs("button",{onClick:()=>i(D.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[_.jsx(gl,{className:"w-4 h-4"}),_.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},D.id))})]})]})]})};function Tne(t){return _.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),_.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function wne(t){return _.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),_.jsx("circle",{cx:"12",cy:"10",r:"5"}),_.jsx("path",{d:"M12 15V3"}),_.jsx("path",{d:"m9 6 3-3 3 3"})]})}const Sne=[{id:"admin",name:"Admin DEV",username:"admin",email:"admin@vendas.ai",role:"admin_dev",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"sales_external",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"sales_internal",password:"123",salesCategory:"Interno",color:"#3B82F6"}],c4=()=>{const[t,e]=de.useState([]),[n,r]=de.useState(null);return{users:t,setUsers:e,currentUser:n,login:d=>{r(d)},logout:()=>{r(null)},addUser:d=>{e([...t,d])},updateUser:d=>{e(t.map(h=>h.id===d.id?d:h))},deleteUser:d=>{e(t.filter(h=>h.id!==d))}}},LC=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_USERS:Sne,useAuth:c4},Symbol.toStringTag,{value:"Module"})),kv=()=>{try{const t=localStorage.getItem("vendas_ai_clients");if(t)return JSON.parse(t).map(n=>({...n,category:Array.isArray(n.category)?n.category:typeof n.category=="string"?[n.category]:["Outros"],region:Zx(n.state)}))}catch(t){console.error("Failed to load clients",t)}return[]},UC=()=>{try{const t=localStorage.getItem("vendas_ai_products");return t?JSON.parse(t):[]}catch{return[]}},VC=()=>{try{const t=localStorage.getItem("vendas_ai_categories");return t?JSON.parse(t):Gf.filter(e=>e!=="Todos")}catch{return Gf.filter(e=>e!=="Todos")}},BC=()=>{try{const t=localStorage.getItem("vendas_ai_files");return t?JSON.parse(t):[]}catch{return[]}},g0=t=>t.map(e=>e.id==="admin"||e.username==="admin"?{...e,role:"admin_dev",name:"Admin DEV",salesCategory:"N/A"}:e.role==="admin"?{...e,role:"admin_dev"}:e.role==="salesperson"?{...e,role:"sales_external"}:e),Ane=(t,e)=>{const[n,r]=de.useState([]),[i,s]=de.useState(UC),[o,c]=de.useState(VC),[f,d]=de.useState(BC),[h,g]=de.useState(!1),[v,T]=de.useState(!1);return de.useEffect(()=>{(async()=>{const A=await Ey();if(g(A),A){console.log("Loading data from Cloud...");try{const k=await Jk();if(k&&(k.clients?.length>0||k.products?.length>0||k.users?.length>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),k.clients&&r(k.clients),k.products&&s(k.products),k.categories&&c(k.categories),k.users&&e&&e(g0(k.users)),k.uploadedFiles&&d(k.uploadedFiles),T(!0);return}else{console.log("Cloud is empty. Checking localStorage for migration...");const V=localStorage.getItem("vendas_ai_users");let D=V?JSON.parse(V):null;if(!D||D.length===0){console.log("No users in localStorage. Using INITIAL_USERS.");const{INITIAL_USERS:H}=await zx(async()=>{const{INITIAL_USERS:G}=await Promise.resolve().then(()=>LC);return{INITIAL_USERS:G}},void 0);D=H}D=g0(D),e&&e(D),r(kv()),console.log("Saving initial data to cloud..."),await Sp(kv(),UC(),VC(),D,BC()),T(!0);return}}catch(k){console.error("Cloud load error",k)}}console.log("Loading data from LocalStorage..."),r(kv());const C=localStorage.getItem("vendas_ai_users");if(C&&e)e(g0(JSON.parse(C)));else if(e){const{INITIAL_USERS:k}=await zx(async()=>{const{INITIAL_USERS:V}=await Promise.resolve().then(()=>LC);return{INITIAL_USERS:V}},void 0);e(g0(k))}T(!0)})()},[]),de.useEffect(()=>{if(h&&v&&(n.length>0||t.length>0||f.length>0)){const S=setTimeout(()=>{Sp(n,i,o,t,f).catch(A=>console.error("Auto-save failed",A))},2e3);return()=>clearTimeout(S)}},[n,i,o,t,f,h,v]),de.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(n))},[n]),de.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(o))},[o]),de.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(i))},[i]),de.useEffect(()=>{localStorage.setItem("vendas_ai_files",JSON.stringify(f))},[f]),de.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(t))},[t]),{masterClientList:n,setMasterClientList:r,products:i,setProducts:s,categories:o,setCategories:c,uploadedFiles:f,setUploadedFiles:d,isFirebaseConnected:h,isDataLoaded:v}},Cne=(t,e,n,r)=>{const[i,s]=de.useState(""),[o,c]=de.useState("Todas"),[f,d]=de.useState("Todos"),[h,g]=de.useState("Todas"),[v,T]=de.useState("Todos"),[S,A]=de.useState("Todos"),[C,k]=de.useState("Todos"),[V,D]=de.useState("Todos"),[H,G]=de.useState("Todos"),[K,I]=de.useState(""),N=de.useMemo(()=>{if(!n)return[];let ue=[];return Lv(n.role)?S!=="Todos"?ue=t.filter(pe=>pe.salespersonId===S):ue=t:ue=t.filter(pe=>pe.salespersonId===n.id),ue},[n,t,S]),b=de.useMemo(()=>N.filter(ue=>{const pe=o==="Todas"||ue.region===o,ae=f==="Todos"||ue.state===f,ee=h==="Todas"||ue.city===h,le=v==="Todos"||Array.isArray(ue.category)&&ue.category.includes(v);let se=!0;if(n&&Lv(n.role)&&C!=="Todos"){const W=e.find(ne=>ne.id===ue.salespersonId);(!W||W.salesCategory!==C)&&(se=!1)}const ke=i.toLowerCase(),Z=i===""||ue.companyName.toLowerCase().includes(ke)||ue.ownerName&&ue.ownerName.toLowerCase().includes(ke);let B=!0;const Q=K.toLowerCase();if(V!=="Todos"||H!=="Todos"||Q!=="")if(!ue.purchasedProducts||ue.purchasedProducts.length===0)B=!1;else{const W=V==="Todos"||ue.purchasedProducts.some(ge=>ge.category===V),ne=H==="Todos"||ue.purchasedProducts.some(ge=>ge.sku===H),he=Q===""||ue.purchasedProducts.some(ge=>ge.name.toLowerCase().includes(Q)||ge.sku.toLowerCase().includes(Q)||ge.brand.toLowerCase().includes(Q)||ge.factoryCode.toLowerCase().includes(Q)||ge.price.toString().includes(Q));B=W&&ne&&he}return pe&&ae&&ee&&le&&Z&&B&&se}),[N,o,f,h,v,i,V,H,K,C,e,n]),F=de.useMemo(()=>{let ue=N;o!=="Todas"&&(ue=ue.filter(ae=>ae.region===o));const pe=new Set(ue.map(ae=>ae.state).filter(Boolean));return Array.from(pe).sort()},[N,o]),O=de.useMemo(()=>{let ue=N;if(o!=="Todas"&&(ue=ue.filter(ae=>ae.region===o)),f!=="Todos")ue=ue.filter(ae=>ae.state===f);else return[];const pe=new Set(ue.map(ae=>ae.city).filter(Boolean));return Array.from(pe).sort()},[N,o,f]),M=de.useMemo(()=>{const ue=new Set(r.map(pe=>pe.category));return Array.from(ue).sort()},[r]);return{searchQuery:i,setSearchQuery:s,filterRegion:o,setFilterRegion:c,filterState:f,setFilterState:d,filterCity:h,setFilterCity:g,filterCategory:v,setFilterCategory:T,filterSalespersonId:S,setFilterSalespersonId:A,filterSalesCategory:C,setFilterSalesCategory:k,filterProductCategory:V,setFilterProductCategory:D,filterProductSku:H,setFilterProductSku:G,searchProductQuery:K,setSearchProductQuery:I,filteredClients:b,visibleClients:N,availableStates:F,availableCities:O,productCategories:M,resetFilters:()=>{s(""),c("Todas"),d("Todos"),g("Todas"),A("Todos"),k("Todos"),D("Todos"),G("Todos"),I("")}}},bne=()=>{const{users:t,setUsers:e,currentUser:n,login:r,logout:i,addUser:s,updateUser:o,deleteUser:c}=c4(),{masterClientList:f,setMasterClientList:d,products:h,setProducts:g,categories:v,setCategories:T,uploadedFiles:S,setUploadedFiles:A,isFirebaseConnected:C}=Ane(t,e),{searchQuery:k,setSearchQuery:V,filterRegion:D,setFilterRegion:H,filterState:G,setFilterState:K,filterCity:I,setFilterCity:N,filterCategory:b,setFilterCategory:F,filterSalespersonId:O,setFilterSalespersonId:M,filterSalesCategory:U,setFilterSalesCategory:ue,filterProductCategory:pe,setFilterProductCategory:ae,filterProductSku:ee,setFilterProductSku:le,searchProductQuery:se,setSearchProductQuery:ke,filteredClients:Z,visibleClients:B,availableStates:Q,availableCities:W,productCategories:ne,resetFilters:he}=Cne(f,t,n,h),[ge,Ie]=de.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[be,De]=de.useState(()=>{const fe="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Gemini API Key Source:","FOUND","(first 10 chars):",fe?.substring(0,10)+"..."),fe}),[$e,ie]=de.useState(()=>{const fe="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Maps API Key Source:","FOUND","(first 10 chars):",fe?.substring(0,10)+"..."),fe}),[ht,Je]=de.useState(0),[Ge,He]=de.useState("map"),[Be,nt]=de.useState(!1),[rt,ft]=de.useState(!1),[fn,An]=de.useState(!1),[Hn,gt]=de.useState(void 0),Ut=de.useRef(!1),Ct=fe=>{if(ge.isActive&&ge.status==="processing")if(window.confirm(`Gostaria de Parar de Enviar o Arquivo?

Clique em OK para PARAR o envio.
Clique em Cancelar para CONTINUAR o envio.`))Ut.current=!0,He(fe);else return;else He(fe)},[dn,Rt]=de.useState(""),[Pn,it]=de.useState(!1),Ft=()=>{if(!window.confirm(` Remover Clientes Duplicados?

Esta ao ir:
 Identificar clientes com mesmo nome e endereo
 Manter apenas 1 registro de cada
 Atualizar a contagem total

Deseja continuar?`))return;const Ze=new Map,Qe=[];let ct=0;if(f.forEach(z=>{const X=`${z.companyName}-${z.cleanAddress}`.toLowerCase().trim();Ze.has(X)?ct++:(Ze.set(X,z),Qe.push(z))}),ct===0){alert(" Nenhum cliente duplicado encontrado!");return}d(Qe),alert(` Limpeza Concluda!

${ct} clientes duplicados removidos
Total anterior: ${f.length}
Total atual: ${Qe.length}`)},Zt=fe=>{v.includes(fe)||T([...v,fe])},bt=fe=>{T(v.filter(Ze=>Ze!==fe))},Yt=fe=>{g(Ze=>{const Qe=[...Ze,...fe];return Gr(f,Qe),Qe})},pr=fe=>{g(fe)},gn=()=>{g([]),d(fe=>fe.map(Ze=>({...Ze,purchasedProducts:[]})))},wa=()=>{window.confirm(` ATENO: Limpar TODOS os Clientes?

Esta ao ir:
 Remover TODOS os clientes do sistema
 Limpar a listagem de arquivos
 Resetar contadores

Os vendedores, produtos e categorias no sero afetados.

Deseja continuar?`)&&(d([]),A(fe=>fe.filter(Ze=>Ze.type!=="clients")),alert(` Base de Clientes Limpa!

Voc pode agora fazer upload de novas planilhas de clientes.`))},Wi=async fe=>{const Ze=f.find(ct=>ct.id===fe.id);let Qe={...fe};if(Ze&&Ze.cleanAddress!==fe.cleanAddress)try{const ct=await hx(fe.cleanAddress,be||"");ct&&(Qe.lat=ct.lat,Qe.lng=ct.lng,ct.formattedAddress&&(Qe.cleanAddress=ct.formattedAddress))}catch(ct){console.error("Failed to re-geocode updated client:",ct)}d(ct=>ct.map(z=>z.id===Qe.id?Qe:z))},Hs=async fe=>{let Ze={...fe};if((!Ze.lat||!Ze.lng)&&Ze.cleanAddress)try{const Qe=await hx(Ze.cleanAddress,be||"");Qe&&(Ze.lat=Qe.lat,Ze.lng=Qe.lng,Qe.formattedAddress&&(Ze.cleanAddress=Qe.formattedAddress))}catch(Qe){console.error("Failed to geocode new client:",Qe)}d(Qe=>[...Qe,Ze]),setTimeout(()=>{const Qe=document.querySelector(".overflow-y-auto");Qe&&(Qe.scrollTop=Qe.scrollHeight)},100)},Gr=(fe,Ze)=>{if(Ze.length===0)return;const Qe=fe.map(ct=>{if(ct.purchasedProducts&&ct.purchasedProducts.length>0)return ct;let z=Ze.filter(te=>ct.category.some(re=>te.category.toLowerCase().includes(re.toLowerCase())||re.toLowerCase().includes(te.category.toLowerCase())));z.length===0&&(z=Ze);const X=Math.floor(Math.random()*5)+1,Y=[...z].sort(()=>.5-Math.random()).slice(0,X);return{...ct,purchasedProducts:Y}});d(Qe)},Zi=async()=>{const fe=prompt("Digite sua Chave de API do Google Maps:");fe&&fe.trim()&&(ie(fe.trim()),localStorage.setItem("google_maps_api_key",fe.trim()),Je(Ze=>Ze+1))},_n=fe=>{if(r(fe),he(),Ct("map"),it(!1),Ec(fe.role)){const Ze=t.find(Qe=>Af(Qe.role));Ze&&Rt(Ze.id)}},mr=()=>{if(ge.isActive&&ge.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))Ut.current=!0;else return;i(),he()},ti=async(fe,Ze,Qe=!1)=>{const ct=t.find(q=>q.id===Ze),z=ct?ct.name:"Desconhecido";if(f.length>0&&!Qe&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const X=crypto.randomUUID();Ie({isActive:!0,total:0,current:0,fileName:fe.name,ownerName:z,status:"reading"}),Ut.current=!1;try{let q=[];const Y=fe.name.toLowerCase();if(console.log(`Processing file: ${fe.name}, Lower: ${Y}`),Y.endsWith(".csv"))console.log("Selected Parser: CSV"),q=await lO(fe);else if(Y.endsWith(".xlsx")||Y.endsWith(".xls"))console.log("Selected Parser: Excel"),q=await fH(fe);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",q.length),q.length>0&&console.log("Sample Parsed Item:",q[0]),q.length===0)throw new Error("Arquivo vazio.");const te={id:X,fileName:fe.name,uploadDate:new Date().toISOString(),salespersonId:Ze,salespersonName:z,type:"clients",itemCount:q.length,status:"processing"};A(Ae=>[te,...Ae]),Ie(Ae=>({...Ae,total:q.length,status:"processing"}));const ve=(await DJ(q,Ze,be,$e,v,(Ae,xe)=>{if(Ut.current)throw new Error("CANCELLED_BY_USER");Ie(Te=>({...Te,current:Ae,total:xe}))})).map(Ae=>({...Ae,sourceFileId:X}));d(Ae=>[...Ae,...ve]),Ie(Ae=>({...Ae,status:"completed"})),A(Ae=>Ae.map(xe=>xe.id===X?{...xe,status:"completed"}:xe)),setTimeout(()=>{Ie(Ae=>Ae.status==="completed"?{...Ae,isActive:!1}:Ae)},5e3)}catch(q){console.error(q);const Y=q.message==="CANCELLED_BY_USER",te=Y?"Cancelado pelo usurio.":q.message||"Erro desconhecido",re=Y;Ie(ve=>({...ve,status:"error",errorMessage:te,isActive:!re})),A(ve=>ve.map(Ae=>Ae.id===X?{...Ae,status:"error",errorMessage:te}:Ae))}},jr=fe=>{const Ze=S.find(Qe=>Qe.id===fe);Ze&&window.confirm(`Tem certeza que deseja excluir o arquivo "${Ze.fileName}"?

Isso remover todos os ${Ze.itemCount} registros associados.`)&&(Ze.type==="clients"?d(Qe=>Qe.filter(ct=>ct.sourceFileId!==fe)):Ze.type==="products"&&g(Qe=>Qe.filter(ct=>ct.sourceFileId!==fe)),A(Qe=>Qe.filter(ct=>ct.id!==fe)))},Do=(fe,Ze)=>{const ct=t.find(z=>z.id===Ze)?.name||"None";A(z=>z.map(X=>X.id===fe?{...X,salespersonId:Ze,salespersonName:ct}:X)),d(z=>z.map(X=>X.sourceFileId===fe?{...X,salespersonId:Ze}:X)),Ze?(Ct("map"),M(Ze),alert(`Arquivo e ${Z.filter(z=>z.sourceFileId===fe).length} clientes reatribudos para: ${ct}

Mapa filtrado automaticamente.`)):(M("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},Sa=async fe=>{const Ze=crypto.randomUUID();Ie({isActive:!0,total:0,current:0,fileName:fe.name,ownerName:"Sistema",status:"reading"});try{let Qe=[];const ct=fe.name.toLowerCase();if(ct.endsWith(".csv"))Qe=await Nb(fe);else if(ct.endsWith(".xlsx")||ct.endsWith(".xls"))Qe=await uI(fe);else throw new Error("Formato no suportado.");if(Qe.length===0)throw new Error("Arquivo vazio.");Qe=Qe.map(X=>({...X,sourceFileId:Ze}));const z={id:Ze,fileName:fe.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:Qe.length,status:"completed"};A(X=>[z,...X]),Yt(Qe),Ie({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${Qe.length} produtos importados com sucesso.`)}catch(Qe){console.error(Qe),Ie(ct=>({...ct,status:"error",errorMessage:Qe.message})),A(ct=>ct.map(z=>z.id===Ze?{...z,status:"error",errorMessage:Qe.message}:z))}},Nr="6LcyKmUsAAAAAC-uUPRRD2ZMZRJu_dBPUH5Gp4gm";if(console.log("[APP] reCAPTCHA Key Source:","FALLBACK"),console.log("[APP] reCAPTCHA Key (first 10 chars):",Nr.substring(0,10)+"..."),console.log("[APP] Environment:","production"),!n)return _.jsx(MC,{reCaptchaKey:Nr,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:_.jsx(pne,{users:t,onLogin:_n})});const Qn=Ec(n.role),jt=Lv(n.role),ni=pe!=="Todos"||ee!=="Todos"||se!=="";return _.jsx(MC,{reCaptchaKey:Nr,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:_.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[Pn&&_.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>it(!1)}),_.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${Pn?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[_.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[_.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[_.jsx(r2,{className:"w-6 h-6"}),"Rota de Vendas"]}),_.jsx("button",{onClick:()=>it(!1),className:"md:hidden text-on-surface-variant hover:text-primary",children:_.jsx(pa,{className:"w-6 h-6"})})]}),_.jsx("div",{className:"px-6 py-2",children:_.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:Qn?"Painel Administrativo":"Portal do Vendedor"})}),_.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[_.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),_.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),_.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[_.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md overflow-hidden ${Qn?"bg-tertiary":"bg-secondary"}`,children:n.photoURL?_.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):_.jsx("span",{children:n.name.charAt(0)})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:n.name}),_.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:n.email})]})]})]}),_.jsxs("nav",{className:"space-y-1 mb-8",children:[_.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),_.jsxs("button",{onClick:()=>{He("map"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(HD,{className:`w-5 h-5 ${Ge==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),_.jsxs("button",{onClick:()=>{He("table"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(pM,{className:`w-5 h-5 ${Ge==="table"?"fill-current":""}`}),"Listagem de Dados"]})]}),Qn&&_.jsxs("nav",{className:"space-y-1 mb-8",children:[_.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),_.jsxs("button",{onClick:()=>{Ct("admin_users"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(Ov,{className:`w-5 h-5 ${Ge==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),_.jsxs("button",{onClick:()=>{Ct("admin_categories"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(jC,{className:`w-5 h-5 ${Ge==="admin_categories"?"fill-current":""}`}),"Categorias"]}),_.jsxs("button",{onClick:()=>{Ct("admin_products"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(dl,{className:`w-5 h-5 ${Ge==="admin_products"?"fill-current":""}`}),"Produtos"]}),_.jsxs("button",{onClick:()=>{Ct("admin_files"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(V0,{className:`w-5 h-5 ${Ge==="admin_files"?"fill-current":""}`}),"Arquivos"]}),_.jsxs("button",{onClick:()=>{An(!0),it(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[_.jsx(Dv,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),_.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[_.jsxs("button",{onClick:mr,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",children:[_.jsx(LD,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),_.jsx("div",{className:"text-center mt-4",children:_.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),_.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[_.jsx("button",{onClick:()=>it(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",children:_.jsx($D,{className:"w-6 h-6"})}),_.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[_.jsx(r2,{className:"w-5 h-5"})," Rota de Vendas"]}),_.jsx("div",{className:"w-10"})," "]}),_.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!Ec&&Ge==="table"&&_.jsx("button",{onClick:()=>nt(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",children:_.jsx(Ov,{className:"w-6 h-6"})}),_.jsx(yne,{isOpen:fn,onClose:()=>An(!1),onSaveToCloud:()=>{Sp(f,h,v,t),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:wa,isFirebaseConnected:C}),_.jsx(_ne,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),_.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[_.jsx("span",{children:"Portal"}),_.jsx(vD,{className:"w-4 h-4"}),_.jsx("span",{className:"font-semibold text-blue-600",children:Ge==="map"?"Mapa da Carteira":Ge==="table"?"Listagem de Clientes":Ge==="admin_categories"?"Categorias de Clientes":Ge==="admin_products"?"Catlogo de Produtos":"Gesto de Usurios"})]}),_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsxs("div",{className:"text-right",children:[_.jsx("p",{className:"text-xs text-gray-400",children:Ec?"Clientes Visualizados":"Meus Clientes"}),_.jsx("p",{className:"text-lg font-bold leading-none",children:B.length})]}),Ec&&_.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[_.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),_.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:f.length})]})]})]}),Ge==="admin_users"&&Qn?_.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:_.jsx(gne,{currentUser:n,users:t,onAddUser:s,onUpdateUser:o,onDeleteUser:c,onCleanupDuplicates:Ft,totalClients:f.length})}):Ge==="admin_categories"&&Qn?_.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:_.jsx(vne,{categories:v,onAddCategory:Zt,onDeleteCategory:bt})}):Ge==="admin_products"&&Qn?_.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:_.jsx(xne,{products:h,onUploadProducts:Yt,onClearProducts:gn,onSaveProducts:pr,apiKey:be})}):Ge==="admin_files"&&Qn?_.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:_.jsx(Ene,{users:t,uploadedFiles:S,onUploadClients:(fe,Ze)=>ti(fe,Ze),onUploadProducts:Sa,onDeleteFile:jr,onReassignSalesperson:Do,procState:ge})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"bg-gray-100 px-3 py-2.5 border-b border-gray-200 flex flex-col gap-2",children:[_.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_.jsxs("div",{className:"relative",children:[_.jsx(ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsx("input",{type:"text",value:k,onChange:fe=>V(fe.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-3 py-1.5 text-sm border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-52 border outline-none"})]}),_.jsx("div",{className:"h-5 w-px bg-gray-300 mx-1 hidden sm:block"}),_.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[_.jsx(GC,{className:"w-4 h-4"}),_.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"Filtros:"})]}),_.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${jt?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[_.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${jt?"text-purple-600":"text-gray-500"}`,children:[jt?_.jsx(Fv,{className:"w-3 h-3"}):_.jsx(hi,{className:"w-3 h-3"}),Qn?"Admin":jt?"Gesto":"Vendedor"]}),_.jsxs("div",{className:"relative",children:[_.jsx(hi,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${jt?"text-purple-400":"text-gray-400"}`}),_.jsxs("select",{value:jt?O:n?.id||"",onChange:fe=>jt&&M(fe.target.value),disabled:!jt,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${jt?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:jt?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[jt&&_.jsx("option",{value:"Todos",children:"Todos Vendedores"}),jt?t.filter(fe=>fe.role==="salesperson"||fe.role==="sales_external"||fe.role==="sales_internal").map(fe=>_.jsx("option",{value:fe.id,children:fe.name},fe.id)):_.jsx("option",{value:n?.id,children:n?.name})]})]}),jt&&_.jsxs("div",{className:"relative animate-fade-in",children:[_.jsx(L0,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),_.jsxs("select",{value:U,onChange:fe=>ue(fe.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",children:[_.jsx("option",{value:"Todos",children:"Todas Equipes"}),_.jsx("option",{value:"Externo",children:"Externo"}),_.jsx("option",{value:"Interno",children:"Interno"}),_.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),_.jsxs("select",{value:D,onChange:fe=>{H(fe.target.value),K("Todos"),N("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",children:[_.jsx("option",{value:"Todas",children:"Todas Regies"}),Hf.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]}),_.jsxs("select",{value:G,onChange:fe=>{K(fe.target.value),N("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:Q.length===0,children:[_.jsxs("option",{value:"Todos",children:["Todos Estados ",D!=="Todas"?`(${D})`:""]}),Q.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]}),_.jsxs("select",{value:I,onChange:fe=>N(fe.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5 min-w-[100px]",disabled:G==="Todos"||W.length===0,children:[_.jsx("option",{value:"Todas",children:"Todas Cidades"}),W.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]}),_.jsxs("div",{className:"flex items-center gap-1 relative",children:[_.jsx(oo,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),_.jsxs("select",{value:b,onChange:fe=>F(fe.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",children:[_.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),v.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[_.jsx(dl,{className:"w-4 h-4"}),"Vendas:"]}),_.jsxs("select",{value:pe,onChange:fe=>ae(fe.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${pe!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[_.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),ne.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]}),_.jsxs("div",{className:"relative animate-fade-in",children:[_.jsx(oo,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${ee!=="Todos"?"text-green-600":"text-gray-400"}`}),_.jsxs("select",{value:ee,onChange:fe=>le(fe.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${ee!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[_.jsx("option",{value:"Todos",children:"Todos Produtos"}),h.filter(fe=>pe==="Todos"||fe.category===pe).sort((fe,Ze)=>fe.name.localeCompare(Ze.name)).map(fe=>_.jsxs("option",{value:fe.sku,children:[fe.name.substring(0,30),"... (",fe.sku,")"]},fe.sku))]})]}),_.jsxs("div",{className:"relative",children:[_.jsx(ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),_.jsx("input",{type:"text",value:se,onChange:fe=>ke(fe.target.value),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-56 transition-colors ${se?"bg-green-50 border-green-300":"border-gray-300"}`})]}),ni&&_.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[_.jsx(fl,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!ni&&_.jsx("span",{className:"ml-auto text-xs text-gray-400",children:h.length===0?"Nenhum produto cadastrado no admin.":`${h.length} produtos no catlogo.`})]}),_.jsx("div",{className:"flex justify-end",children:_.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-lg",children:[Z.length," resultados encontrados"]})})]}),_.jsx("div",{className:"flex-1 overflow-hidden p-1.5 bg-gray-100",children:B.length===0&&!ge.isActive?_.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:Ec?_.jsxs(_.Fragment,{children:[_.jsx(V0,{className:"w-12 h-12 mb-2 opacity-20"}),_.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),_.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):_.jsxs(_.Fragment,{children:[_.jsx(Pv,{className:"w-12 h-12 mb-2 opacity-20"}),_.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),_.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):_.jsx("div",{className:"h-full bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden relative",children:Ge==="map"?_.jsx(Wte,{clients:Z,apiKey:$e,onInvalidKey:Zi,productFilterActive:ni,highlightProductTerm:se,activeProductCategory:pe,users:t,filterContent:_.jsxs("div",{className:"bg-gray-100/95 backdrop-blur-sm px-3 py-2 flex flex-col gap-1.5",children:[_.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_.jsxs("div",{className:"relative",children:[_.jsx(ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsx("input",{type:"text",value:k,onChange:fe=>V(fe.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-3 py-1.5 text-sm border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-48 border outline-none"})]}),_.jsx("div",{className:"h-5 w-px bg-gray-300 mx-0.5 hidden sm:block"}),_.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${jt?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[_.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${jt?"text-purple-600":"text-gray-500"}`,children:[jt?_.jsx(Fv,{className:"w-3 h-3"}):_.jsx(hi,{className:"w-3 h-3"}),Qn?"Admin":jt?"Gesto":"Vendedor"]}),_.jsxs("div",{className:"relative",children:[_.jsx(hi,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${jt?"text-purple-400":"text-gray-400"}`}),_.jsxs("select",{value:jt?O:n?.id||"",onChange:fe=>jt&&M(fe.target.value),disabled:!jt,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${jt?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:jt?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[jt&&_.jsx("option",{value:"Todos",children:"Todos Vendedores"}),jt?t.filter(fe=>fe.role==="salesperson"||fe.role==="sales_external"||fe.role==="sales_internal").map(fe=>_.jsx("option",{value:fe.id,children:fe.name},fe.id)):_.jsx("option",{value:n?.id,children:n?.name})]})]}),jt&&_.jsxs("div",{className:"relative animate-fade-in",children:[_.jsx(L0,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),_.jsxs("select",{value:U,onChange:fe=>ue(fe.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",children:[_.jsx("option",{value:"Todos",children:"Todas Equipes"}),_.jsx("option",{value:"Externo",children:"Externo"}),_.jsx("option",{value:"Interno",children:"Interno"}),_.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),_.jsxs("select",{value:D,onChange:fe=>{H(fe.target.value),K("Todos"),N("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",children:[_.jsx("option",{value:"Todas",children:"Todas Regies"}),Hf.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]}),_.jsxs("select",{value:G,onChange:fe=>{K(fe.target.value),N("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:Q.length===0,children:[_.jsx("option",{value:"Todos",children:"Todos Estados"}),Q.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]}),_.jsxs("select",{value:I,onChange:fe=>N(fe.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:G==="Todos"||W.length===0,children:[_.jsx("option",{value:"Todas",children:"Todas Cidades"}),W.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]}),_.jsxs("div",{className:"flex items-center gap-1 relative",children:[_.jsx(oo,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),_.jsxs("select",{value:b,onChange:fe=>F(fe.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",children:[_.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),v.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]})]}),_.jsxs("span",{className:"ml-auto text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-lg",children:[Z.length," resultados"]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[_.jsx(dl,{className:"w-4 h-4"}),"Vendas:"]}),_.jsxs("select",{value:pe,onChange:fe=>ae(fe.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${pe!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[_.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),ne.map(fe=>_.jsx("option",{value:fe,children:fe},fe))]}),_.jsxs("div",{className:"relative animate-fade-in",children:[_.jsx(oo,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${ee!=="Todos"?"text-green-600":"text-gray-400"}`}),_.jsxs("select",{value:ee,onChange:fe=>le(fe.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${ee!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[_.jsx("option",{value:"Todos",children:"Todos Produtos"}),h.filter(fe=>pe==="Todos"||fe.category===pe).sort((fe,Ze)=>fe.name.localeCompare(Ze.name)).map(fe=>_.jsxs("option",{value:fe.sku,children:[fe.name.substring(0,30),"... (",fe.sku,")"]},fe.sku))]})]}),_.jsxs("div",{className:"relative",children:[_.jsx(ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),_.jsx("input",{type:"text",value:se,onChange:fe=>ke(fe.target.value),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-52 transition-colors ${se?"bg-green-50 border-green-300":"border-gray-300"}`})]}),ni&&_.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[_.jsx(fl,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]})]})]})},`${be}-${ht}`):_.jsx(ene,{clients:Z,onUpdateClient:Wi,onAddClient:Hs,currentUserRole:n?.role,currentUserId:n?.id,currentUserName:n?.name,products:h,productCategories:ne,users:t,uploadedFiles:S})})})]}),ge.isActive&&_.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[_.jsx("div",{className:`h-1.5 w-full ${ge.status==="error"?"bg-red-200":"bg-blue-100"}`,children:_.jsx("div",{className:`h-full transition-all duration-300 ${ge.status==="completed"?"bg-green-500 w-full":ge.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:ge.total>0?`${ge.current/ge.total*100}%`:"0%"}})}),_.jsxs("div",{className:"p-4",children:[_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{children:[_.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[ge.status==="completed"&&_.jsx(fl,{className:"w-4 h-4 text-green-500"}),ge.status==="processing"&&_.jsx(Sf,{className:"w-4 h-4 text-blue-500 animate-spin"}),ge.status==="error"&&_.jsx(ha,{className:"w-4 h-4 text-red-500"}),ge.status==="reading"?"Lendo Arquivo...":ge.status==="processing"?"Processando Planilha":ge.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),_.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ge.fileName," ",_.jsx("span",{className:"mx-1",children:""})," ",ge.ownerName]})]}),_.jsx("button",{onClick:()=>{ge.isActive&&ge.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(Ut.current=!0,Ie(fe=>({...fe,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):Ie(fe=>({...fe,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",children:_.jsx(pa,{className:"w-4 h-4"})})]}),ge.status==="processing"&&_.jsxs("div",{className:"mt-3",children:[_.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[_.jsx("span",{children:"Progresso (IA + Maps)"}),_.jsxs("span",{className:"font-mono",children:[ge.current," / ",ge.total]})]}),_.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),ge.status==="error"&&_.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:ge.errorMessage})]})]})]})]})})};class Nne extends Dn.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:_.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[_.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[_.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:_.jsx(ha,{className:"w-8 h-8"})}),_.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),_.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:this.state.error?.toString()}),_.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const u4=document.getElementById("root");if(!u4)throw new Error("Could not find root element to mount to");const Ine=W3.createRoot(u4);Ine.render(_.jsx(Dn.StrictMode,{children:_.jsx(Nne,{children:_.jsx(bne,{})})}));
