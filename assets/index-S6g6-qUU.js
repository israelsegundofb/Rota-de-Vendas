function VY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Us(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jw={exports:{}},z0={};var GO;function zY(){if(GO)return z0;GO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:e,type:n,key:s,ref:i!==void 0?i:null,props:a}}return z0.Fragment=t,z0.jsx=r,z0.jsxs=r,z0}var qO;function $Y(){return qO||(qO=1,Jw.exports=zY()),Jw.exports}var v=$Y(),Xw={exports:{}},Pt={};var KO;function HY(){if(KO)return Pt;KO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function C(X,z,te){this.props=X,this.context=z,this.refs=T,this.updater=te||_}C.prototype.isReactComponent={},C.prototype.setState=function(X,z){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,z,"setState")},C.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function L(){}L.prototype=C.prototype;function P(X,z,te){this.props=X,this.context=z,this.refs=T,this.updater=te||_}var D=P.prototype=new L;D.constructor=P,w(D,C.prototype),D.isPureReactComponent=!0;var F=Array.isArray;function R(){}var I={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function O(X,z,te){var Z=te.ref;return{$$typeof:e,type:X,key:z,ref:Z!==void 0?Z:null,props:te}}function B(X,z){return O(X.type,z,X.props)}function V(X){return typeof X=="object"&&X!==null&&X.$$typeof===e}function j(X){var z={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(te){return z[te]})}var G=/\/+/g;function de(X,z){return typeof X=="object"&&X!==null&&X.key!=null?j(""+X.key):z.toString(36)}function ge(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(R,R):(X.status="pending",X.then(function(z){X.status==="pending"&&(X.status="fulfilled",X.value=z)},function(z){X.status==="pending"&&(X.status="rejected",X.reason=z)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ie(X,z,te,Z,K){var pe=typeof X;(pe==="undefined"||pe==="boolean")&&(X=null);var xe=!1;if(X===null)xe=!0;else switch(pe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(X.$$typeof){case e:case t:xe=!0;break;case d:return xe=X._init,ie(xe(X._payload),z,te,Z,K)}}if(xe)return K=K(X),xe=Z===""?"."+de(X,0):Z,F(K)?(te="",xe!=null&&(te=xe.replace(G,"$&/")+"/"),ie(K,z,te,"",function(ve){return ve})):K!=null&&(V(K)&&(K=B(K,te+(K.key==null||X&&X.key===K.key?"":(""+K.key).replace(G,"$&/")+"/")+xe)),z.push(K)),1;xe=0;var ke=Z===""?".":Z+":";if(F(X))for(var le=0;le<X.length;le++)Z=X[le],pe=ke+de(Z,le),xe+=ie(Z,z,te,pe,K);else if(le=x(X),typeof le=="function")for(X=le.call(X),le=0;!(Z=X.next()).done;)Z=Z.value,pe=ke+de(Z,le++),xe+=ie(Z,z,te,pe,K);else if(pe==="object"){if(typeof X.then=="function")return ie(ge(X),z,te,Z,K);throw z=String(X),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return xe}function fe(X,z,te){if(X==null)return X;var Z=[],K=0;return ie(X,Z,"","",function(pe){return z.call(te,pe,K++)}),Z}function ue(X){if(X._status===-1){var z=X._result;z=z(),z.then(function(te){(X._status===0||X._status===-1)&&(X._status=1,X._result=te)},function(te){(X._status===0||X._status===-1)&&(X._status=2,X._result=te)}),X._status===-1&&(X._status=0,X._result=z)}if(X._status===1)return X._result.default;throw X._result}var ae=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},_e={map:fe,forEach:function(X,z,te){fe(X,function(){z.apply(this,arguments)},te)},count:function(X){var z=0;return fe(X,function(){z++}),z},toArray:function(X){return fe(X,function(z){return z})||[]},only:function(X){if(!V(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Pt.Activity=h,Pt.Children=_e,Pt.Component=C,Pt.Fragment=r,Pt.Profiler=i,Pt.PureComponent=P,Pt.StrictMode=n,Pt.Suspense=c,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return I.H.useMemoCache(X)}},Pt.cache=function(X){return function(){return X.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(X,z,te){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Z=w({},X.props),K=X.key;if(z!=null)for(pe in z.key!==void 0&&(K=""+z.key),z)!k.call(z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&z.ref===void 0||(Z[pe]=z[pe]);var pe=arguments.length-2;if(pe===1)Z.children=te;else if(1<pe){for(var xe=Array(pe),ke=0;ke<pe;ke++)xe[ke]=arguments[ke+2];Z.children=xe}return O(X.type,K,Z)},Pt.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},Pt.createElement=function(X,z,te){var Z,K={},pe=null;if(z!=null)for(Z in z.key!==void 0&&(pe=""+z.key),z)k.call(z,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(K[Z]=z[Z]);var xe=arguments.length-2;if(xe===1)K.children=te;else if(1<xe){for(var ke=Array(xe),le=0;le<xe;le++)ke[le]=arguments[le+2];K.children=ke}if(X&&X.defaultProps)for(Z in xe=X.defaultProps,xe)K[Z]===void 0&&(K[Z]=xe[Z]);return O(X,pe,K)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(X){return{$$typeof:o,render:X}},Pt.isValidElement=V,Pt.lazy=function(X){return{$$typeof:d,_payload:{_status:-1,_result:X},_init:ue}},Pt.memo=function(X,z){return{$$typeof:u,type:X,compare:z===void 0?null:z}},Pt.startTransition=function(X){var z=I.T,te={};I.T=te;try{var Z=X(),K=I.S;K!==null&&K(te,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(R,ae)}catch(pe){ae(pe)}finally{z!==null&&te.types!==null&&(z.types=te.types),I.T=z}},Pt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Pt.use=function(X){return I.H.use(X)},Pt.useActionState=function(X,z,te){return I.H.useActionState(X,z,te)},Pt.useCallback=function(X,z){return I.H.useCallback(X,z)},Pt.useContext=function(X){return I.H.useContext(X)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(X,z){return I.H.useDeferredValue(X,z)},Pt.useEffect=function(X,z){return I.H.useEffect(X,z)},Pt.useEffectEvent=function(X){return I.H.useEffectEvent(X)},Pt.useId=function(){return I.H.useId()},Pt.useImperativeHandle=function(X,z,te){return I.H.useImperativeHandle(X,z,te)},Pt.useInsertionEffect=function(X,z){return I.H.useInsertionEffect(X,z)},Pt.useLayoutEffect=function(X,z){return I.H.useLayoutEffect(X,z)},Pt.useMemo=function(X,z){return I.H.useMemo(X,z)},Pt.useOptimistic=function(X,z){return I.H.useOptimistic(X,z)},Pt.useReducer=function(X,z,te){return I.H.useReducer(X,z,te)},Pt.useRef=function(X){return I.H.useRef(X)},Pt.useState=function(X){return I.H.useState(X)},Pt.useSyncExternalStore=function(X,z,te){return I.H.useSyncExternalStore(X,z,te)},Pt.useTransition=function(){return I.H.useTransition()},Pt.version="19.2.4",Pt}var WO;function Ph(){return WO||(WO=1,Xw.exports=HY()),Xw.exports}var M=Ph();const kr=Us(M),GY=VY({__proto__:null,default:kr},[M]);var Zw={exports:{}},$0={},Qw={exports:{}},eE={};var YO;function qY(){return YO||(YO=1,(function(e){function t(ie,fe){var ue=ie.length;ie.push(fe);e:for(;0<ue;){var ae=ue-1>>>1,_e=ie[ae];if(0<i(_e,fe))ie[ae]=fe,ie[ue]=_e,ue=ae;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var fe=ie[0],ue=ie.pop();if(ue!==fe){ie[0]=ue;e:for(var ae=0,_e=ie.length,X=_e>>>1;ae<X;){var z=2*(ae+1)-1,te=ie[z],Z=z+1,K=ie[Z];if(0>i(te,ue))Z<_e&&0>i(K,te)?(ie[ae]=K,ie[Z]=ue,ae=Z):(ie[ae]=te,ie[z]=ue,ae=z);else if(Z<_e&&0>i(K,ue))ie[ae]=K,ie[Z]=ue,ae=Z;else break e}}return fe}function i(ie,fe){var ue=ie.sortIndex-fe.sortIndex;return ue!==0?ue:ie.id-fe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,h=null,g=3,x=!1,_=!1,w=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function D(ie){for(var fe=r(u);fe!==null;){if(fe.callback===null)n(u);else if(fe.startTime<=ie)n(u),fe.sortIndex=fe.expirationTime,t(c,fe);else break;fe=r(u)}}function F(ie){if(w=!1,D(ie),!_)if(r(c)!==null)_=!0,R||(R=!0,j());else{var fe=r(u);fe!==null&&ge(F,fe.startTime-ie)}}var R=!1,I=-1,k=5,O=-1;function B(){return T?!0:!(e.unstable_now()-O<k)}function V(){if(T=!1,R){var ie=e.unstable_now();O=ie;var fe=!0;try{e:{_=!1,w&&(w=!1,L(I),I=-1),x=!0;var ue=g;try{t:{for(D(ie),h=r(c);h!==null&&!(h.expirationTime>ie&&B());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,g=h.priorityLevel;var _e=ae(h.expirationTime<=ie);if(ie=e.unstable_now(),typeof _e=="function"){h.callback=_e,D(ie),fe=!0;break t}h===r(c)&&n(c),D(ie)}else n(c);h=r(c)}if(h!==null)fe=!0;else{var X=r(u);X!==null&&ge(F,X.startTime-ie),fe=!1}}break e}finally{h=null,g=ue,x=!1}fe=void 0}}finally{fe?j():R=!1}}}var j;if(typeof P=="function")j=function(){P(V)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,de=G.port2;G.port1.onmessage=V,j=function(){de.postMessage(null)}}else j=function(){C(V,0)};function ge(ie,fe){I=C(function(){ie(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(ie){switch(g){case 1:case 2:case 3:var fe=3;break;default:fe=g}var ue=g;g=fe;try{return ie()}finally{g=ue}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=g;g=ie;try{return fe()}finally{g=ue}},e.unstable_scheduleCallback=function(ie,fe,ue){var ae=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ae+ue:ae):ue=ae,ie){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ue+_e,ie={id:d++,callback:fe,priorityLevel:ie,startTime:ue,expirationTime:_e,sortIndex:-1},ue>ae?(ie.sortIndex=ue,t(u,ie),r(c)===null&&ie===r(u)&&(w?(L(I),I=-1):w=!0,ge(F,ue-ae))):(ie.sortIndex=_e,t(c,ie),_||x||(_=!0,R||(R=!0,j()))),ie},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(ie){var fe=g;return function(){var ue=g;g=fe;try{return ie.apply(this,arguments)}finally{g=ue}}}})(eE)),eE}var JO;function KY(){return JO||(JO=1,Qw.exports=qY()),Qw.exports}var tE={exports:{}},Li={};var XO;function WY(){if(XO)return Li;XO=1;var e=Ph();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:c,containerInfo:u,implementation:d}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Li.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return a(c,u,null,d)},Li.flushSync=function(c){var u=s.T,d=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=u,n.p=d,n.d.f()}},Li.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Li.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Li.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,x=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:x}):d==="script"&&n.d.X(c,{crossOrigin:h,integrity:g,fetchPriority:x,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Li.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Li.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);n.d.L(c,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Li.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Li.requestFormReset=function(c){n.d.r(c)},Li.unstable_batchedUpdates=function(c,u){return c(u)},Li.useFormState=function(c,u,d){return s.H.useFormState(c,u,d)},Li.useFormStatus=function(){return s.H.useHostTransitionStatus()},Li.version="19.2.4",Li}var ZO;function Z8(){if(ZO)return tE.exports;ZO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tE.exports=WY(),tE.exports}var QO;function YY(){if(QO)return $0;QO=1;var e=KY(),t=Ph(),r=Z8();function n(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var f=l,p=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(p=f.return),l=f.return;while(l)}return f.tag===3?p:null}function s(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function u(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(n(188));return f!==l?null:l}for(var p=l,y=f;;){var S=p.return;if(S===null)break;var N=S.alternate;if(N===null){if(y=S.return,y!==null){p=y;continue}break}if(S.child===N.child){for(N=S.child;N;){if(N===p)return c(S),l;if(N===y)return c(S),f;N=N.sibling}throw Error(n(188))}if(p.return!==y.return)p=S,y=N;else{for(var H=!1,J=S.child;J;){if(J===p){H=!0,p=S,y=N;break}if(J===y){H=!0,y=S,p=N;break}J=J.sibling}if(!H){for(J=N.child;J;){if(J===p){H=!0,p=N,y=S;break}if(J===y){H=!0,y=N,p=S;break}J=J.sibling}if(!H)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:f}function d(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=d(l),f!==null)return f;l=l.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(l){return l===null||typeof l!="object"?null:(l=V&&l[V]||l["@@iterator"],typeof l=="function"?l:null)}var G=Symbol.for("react.client.reference");function de(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===G?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case w:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case R:return"SuspenseList";case O:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case P:return l.displayName||"Context";case L:return(l._context.displayName||"Context")+".Consumer";case D:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case I:return f=l.displayName||null,f!==null?f:de(l.type)||"Memo";case k:f=l._payload,l=l._init;try{return de(l(f))}catch{}}return null}var ge=Array.isArray,ie=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ae=[],_e=-1;function X(l){return{current:l}}function z(l){0>_e||(l.current=ae[_e],ae[_e]=null,_e--)}function te(l,f){_e++,ae[_e]=l.current,l.current=f}var Z=X(null),K=X(null),pe=X(null),xe=X(null);function ke(l,f){switch(te(pe,f),te(K,l),te(Z,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?pO(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=pO(f),l=mO(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}z(Z),te(Z,l)}function le(){z(Z),z(K),z(pe)}function ve(l){l.memoizedState!==null&&te(xe,l);var f=Z.current,p=mO(f,l.type);f!==p&&(te(K,l),te(Z,p))}function Fe(l){K.current===l&&(z(Z),z(K)),xe.current===l&&(z(xe),j0._currentValue=ue)}var W,Je;function Be(l){if(W===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);W=f&&f[1]||"",Je=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+W+l+Je}var We=!1;function $e(l,f){if(!l||We)return"";We=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(f){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Re){var Ie=Re}Reflect.construct(l,[],Ve)}else{try{Ve.call()}catch(Re){Ie=Re}l.call(Ve.prototype)}}else{try{throw Error()}catch(Re){Ie=Re}(Ve=l())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Re){if(Re&&Ie&&typeof Re.stack=="string")return[Re.stack,Ie.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=y.DetermineComponentFrameRoot(),H=N[0],J=N[1];if(H&&J){var he=H.split(`
`),Ce=J.split(`
`);for(S=y=0;y<he.length&&!he[y].includes("DetermineComponentFrameRoot");)y++;for(;S<Ce.length&&!Ce[S].includes("DetermineComponentFrameRoot");)S++;if(y===he.length||S===Ce.length)for(y=he.length-1,S=Ce.length-1;1<=y&&0<=S&&he[y]!==Ce[S];)S--;for(;1<=y&&0<=S;y--,S--)if(he[y]!==Ce[S]){if(y!==1||S!==1)do if(y--,S--,0>S||he[y]!==Ce[S]){var De=`
`+he[y].replace(" at new "," at ");return l.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",l.displayName)),De}while(1<=y&&0<=S);break}}}finally{We=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Be(p):""}function Le(l,f){switch(l.tag){case 26:case 27:case 5:return Be(l.type);case 16:return Be("Lazy");case 13:return l.child!==f&&f!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return $e(l.type,!1);case 11:return $e(l.type.render,!1);case 1:return $e(l.type,!0);case 31:return Be("Activity");default:return""}}function Xe(l){try{var f="",p=null;do f+=Le(l,p),p=l,l=l.return;while(l);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var tt=Object.prototype.hasOwnProperty,pt=e.unstable_scheduleCallback,kt=e.unstable_cancelCallback,qr=e.unstable_shouldYield,Vr=e.unstable_requestPaint,bt=e.unstable_now,_r=e.unstable_getCurrentPriorityLevel,Kt=e.unstable_ImmediatePriority,Tr=e.unstable_UserBlockingPriority,dt=e.unstable_NormalPriority,Mt=e.unstable_LowPriority,Et=e.unstable_IdlePriority,rr=e.log,Ht=e.unstable_setDisableYieldValue,Vt=null,br=null;function _i(l){if(typeof rr=="function"&&Ht(l),br&&typeof br.setStrictMode=="function")try{br.setStrictMode(Vt,l)}catch{}}var gt=Math.clz32?Math.clz32:il,ya=Math.log,xo=Math.LN2;function il(l){return l>>>=0,l===0?32:31-(ya(l)/xo|0)|0}var xa=256,_o=262144,Zr=4194304;function ni(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function $a(l,f,p){var y=l.pendingLanes;if(y===0)return 0;var S=0,N=l.suspendedLanes,H=l.pingedLanes;l=l.warmLanes;var J=y&134217727;return J!==0?(y=J&~N,y!==0?S=ni(y):(H&=J,H!==0?S=ni(H):p||(p=J&~l,p!==0&&(S=ni(p))))):(J=y&~N,J!==0?S=ni(J):H!==0?S=ni(H):p||(p=y&~l,p!==0&&(S=ni(p)))),S===0?0:f!==0&&f!==S&&(f&N)===0&&(N=S&-S,p=f&-f,N>=p||N===32&&(p&4194048)!==0)?f:S}function _a(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function _u(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var l=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),l}function ba(l){for(var f=[],p=0;31>p;p++)f.push(l);return f}function wa(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function bu(l,f,p,y,S,N){var H=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var J=l.entanglements,he=l.expirationTimes,Ce=l.hiddenUpdates;for(p=H&~p;0<p;){var De=31-gt(p),Ve=1<<De;J[De]=0,he[De]=-1;var Ie=Ce[De];if(Ie!==null)for(Ce[De]=null,De=0;De<Ie.length;De++){var Re=Ie[De];Re!==null&&(Re.lane&=-536870913)}p&=~Ve}y!==0&&bi(l,y,0),N!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=N&~(H&~f))}function bi(l,f,p){l.pendingLanes|=f,l.suspendedLanes&=~f;var y=31-gt(f);l.entangledLanes|=f,l.entanglements[y]=l.entanglements[y]|1073741824|p&261930}function Ha(l,f){var p=l.entangledLanes|=f;for(l=l.entanglements;p;){var y=31-gt(p),S=1<<y;S&f|l[y]&f&&(l[y]|=f),p&=~S}}function Fi(l,f){var p=f&-f;return p=(p&42)!==0?1:Qi(p),(p&(l.suspendedLanes|f))!==0?0:p}function Qi(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Rn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Y(){var l=fe.p;return l!==0?l:(l=window.event,l===void 0?32:jO(l.type))}function se(l,f){var p=fe.p;try{return fe.p=l,f()}finally{fe.p=p}}var Q=Math.random().toString(36).slice(2),re="__reactFiber$"+Q,ne="__reactProps$"+Q,oe="__reactContainer$"+Q,Ee="__reactEvents$"+Q,Oe="__reactListeners$"+Q,Te="__reactHandles$"+Q,Ne="__reactResources$"+Q,Se="__reactMarker$"+Q;function qe(l){delete l[re],delete l[ne],delete l[Ee],delete l[Oe],delete l[Te]}function Ye(l){var f=l[re];if(f)return f;for(var p=l.parentNode;p;){if(f=p[oe]||p[re]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(l=wO(l);l!==null;){if(p=l[re])return p;l=wO(l)}return f}l=p,p=l.parentNode}return null}function Qe(l){if(l=l[re]||l[oe]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function Ge(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(n(33))}function Ze(l){var f=l[Ne];return f||(f=l[Ne]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function lt(l){l[Se]=!0}var gr=new Set,vr={};function Ar(l,f){ii(l,f),ii(l+"Capture",f)}function ii(l,f){for(vr[l]=f,l=0;l<f.length;l++)gr.add(f[l])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qa={},ea={};function wo(l){return tt.call(ea,l)?!0:tt.call(qa,l)?!1:Ga.test(l)?ea[l]=!0:(qa[l]=!0,!1)}function ai(l,f,p){if(wo(f))if(p===null)l.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var y=f.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+p)}}function ta(l,f,p){if(p===null)l.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+p)}}function cn(l,f,p,y){if(y===null)l.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(f,p,""+y)}}function un(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Rr(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function nr(l,f,p){var y=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,N=y.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return S.call(this)},set:function(H){p=""+H,N.call(this,H)}}),Object.defineProperty(l,f,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(H){p=""+H},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function ir(l){if(!l._valueTracker){var f=Rr(l)?"checked":"value";l._valueTracker=nr(l,f,""+l[f])}}function ce(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var p=f.getValue(),y="";return l&&(y=Rr(l)?l.checked?"true":"false":l.value),l=y,l!==p?(f.setValue(l),!0):!1}function Me(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Ke=/[\n"\\]/g;function rt(l){return l.replace(Ke,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function vt(l,f,p,y,S,N,H,J){l.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?l.type=H:l.removeAttribute("type"),f!=null?H==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+un(f)):l.value!==""+un(f)&&(l.value=""+un(f)):H!=="submit"&&H!=="reset"||l.removeAttribute("value"),f!=null?Tt(l,H,un(f)):p!=null?Tt(l,H,un(p)):y!=null&&l.removeAttribute("value"),S==null&&N!=null&&(l.defaultChecked=!!N),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?l.name=""+un(J):l.removeAttribute("name")}function Ft(l,f,p,y,S,N,H,J){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),f!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||f!=null)){ir(l);return}p=p!=null?""+un(p):"",f=f!=null?""+un(f):p,J||f===l.value||(l.value=f),l.defaultValue=f}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=J?l.checked:!!y,l.defaultChecked=!!y,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(l.name=H),ir(l)}function Tt(l,f,p){f==="number"&&Me(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function mt(l,f,p,y){if(l=l.options,f){f={};for(var S=0;S<p.length;S++)f["$"+p[S]]=!0;for(p=0;p<l.length;p++)S=f.hasOwnProperty("$"+l[p].value),l[p].selected!==S&&(l[p].selected=S),S&&y&&(l[p].defaultSelected=!0)}else{for(p=""+un(p),f=null,S=0;S<l.length;S++){if(l[S].value===p){l[S].selected=!0,y&&(l[S].defaultSelected=!0);return}f!==null||l[S].disabled||(f=l[S])}f!==null&&(f.selected=!0)}}function Dt(l,f,p){if(f!=null&&(f=""+un(f),f!==l.value&&(l.value=f),p==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=p!=null?""+un(p):""}function zt(l,f,p,y){if(f==null){if(y!=null){if(p!=null)throw Error(n(92));if(ge(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),f=p}p=un(f),l.defaultValue=p,y=l.textContent,y===p&&y!==""&&y!==null&&(l.value=y),ir(l)}function Ct(l,f){if(f){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=f;return}}l.textContent=f}var Zt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function On(l,f,p){var y=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":y?l.setProperty(f,p):typeof p!="number"||p===0||Zt.has(f)?f==="float"?l.cssFloat=p:l[f]=(""+p).trim():l[f]=p+"px"}function Qt(l,f,p){if(f!=null&&typeof f!="object")throw Error(n(62));if(l=l.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||f!=null&&f.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var S in f)y=f[S],f.hasOwnProperty(S)&&p[S]!==y&&On(l,S,y)}else for(var N in f)f.hasOwnProperty(N)&&On(l,N,f[N])}function si(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ra=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(l){return Sr.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Ea(){}var fn=null;function oi(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var hs=null,Eo=null;function wu(l){var f=Qe(l);if(f&&(l=f.stateNode)){var p=l[ne]||null;e:switch(l=f.stateNode,f.type){case"input":if(vt(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+rt(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var y=p[f];if(y!==l&&y.form===l.form){var S=y[ne]||null;if(!S)throw Error(n(90));vt(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(f=0;f<p.length;f++)y=p[f],y.form===l.form&&ce(y)}break e;case"textarea":Dt(l,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&mt(l,!!p.multiple,f,!1)}}}var Jf=!1;function nc(l,f,p){if(Jf)return l(f,p);Jf=!0;try{var y=l(f);return y}finally{if(Jf=!1,(hs!==null||Eo!==null)&&(uv(),hs&&(f=hs,l=Eo,Eo=hs=null,wu(f),l)))for(f=0;f<l.length;f++)wu(l[f])}}function $s(l,f){var p=l.stateNode;if(p===null)return null;var y=p[ne]||null;if(y===null)return null;p=y[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=!1;if(ps)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Eu=!1}var To=null,t0=null,Tu=null;function r0(){if(Tu)return Tu;var l,f=t0,p=f.length,y,S="value"in To?To.value:To.textContent,N=S.length;for(l=0;l<p&&f[l]===S[l];l++);var H=p-l;for(y=1;y<=H&&f[p-y]===S[N-y];y++);return Tu=S.slice(l,1<y?1-y:void 0)}function Au(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function al(){return!0}function Hs(){return!1}function wi(l){function f(p,y,S,N,H){this._reactName=p,this._targetInst=S,this.type=y,this.nativeEvent=N,this.target=H,this.currentTarget=null;for(var J in l)l.hasOwnProperty(J)&&(p=l[J],this[J]=p?p(N):N[J]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?al:Hs,this.isPropagationStopped=Hs,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),f}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=wi(sl),ic=h({},sl,{view:0,detail:0}),n0=wi(ic),ac,Xf,So,Zf=h({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==So&&(So&&l.type==="mousemove"?(ac=l.screenX-So.screenX,Xf=l.screenY-So.screenY):Xf=ac=0,So=l),ac)},movementY:function(l){return"movementY"in l?l.movementY:Xf}}),i0=wi(Zf),Su=h({},Zf,{dataTransfer:0}),yg=wi(Su),xg=h({},ic,{relatedTarget:0}),Cu=wi(xg),a0=h({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),_g=wi(a0),Qf=h({},sl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),bg=wi(Qf),wg=h({},sl,{data:0}),Co=wi(wg),Eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ag={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sg(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=Ag[l])?!!f[l]:!1}function sc(){return Sg}var na=h({},ic,{key:function(l){if(l.key){var f=Eg[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Au(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Tg[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(l){return l.type==="keypress"?Au(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Au(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Cg=wi(na),Ng=h({},Zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=wi(Ng),A=h({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),U=wi(A),q=h({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ee=wi(q),be=h({},Zf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=wi(be),et=h({},sl,{newState:0,oldState:0}),Lt=wi(et),Tn=[9,13,27,32],yr=ps&&"CompositionEvent"in window,Qr=null;ps&&"documentMode"in document&&(Qr=document.documentMode);var ms=ps&&"TextEvent"in window&&!Qr,No=ps&&(!yr||Qr&&8<Qr&&11>=Qr),Gs=" ",qs=!1;function Nu(l,f){switch(l){case"keyup":return Tn.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var td=!1;function fW(l,f){switch(l){case"compositionend":return ed(f);case"keypress":return f.which!==32?null:(qs=!0,Gs);case"textInput":return l=f.data,l===Gs&&qs?null:l;default:return null}}function dW(l,f){if(td)return l==="compositionend"||!yr&&Nu(l,f)?(l=r0(),Tu=t0=To=null,td=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return No&&f.locale!=="ko"?null:f.data;default:return null}}var hW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ak(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!hW[l.type]:f==="textarea"}function Sk(l,f,p,y){hs?Eo?Eo.push(y):Eo=[y]:hs=y,f=vv(f,"onChange"),0<f.length&&(p=new Ao("onChange","change",null,p,y),l.push({event:p,listeners:f}))}var s0=null,o0=null;function pW(l){lO(l,0)}function Ig(l){var f=Ge(l);if(ce(f))return l}function Ck(l,f){if(l==="change")return f}var Nk=!1;if(ps){var nb;if(ps){var ib="oninput"in document;if(!ib){var Ik=document.createElement("div");Ik.setAttribute("oninput","return;"),ib=typeof Ik.oninput=="function"}nb=ib}else nb=!1;Nk=nb&&(!document.documentMode||9<document.documentMode)}function kk(){s0&&(s0.detachEvent("onpropertychange",Pk),o0=s0=null)}function Pk(l){if(l.propertyName==="value"&&Ig(o0)){var f=[];Sk(f,o0,l,oi(l)),nc(pW,f)}}function mW(l,f,p){l==="focusin"?(kk(),s0=f,o0=p,s0.attachEvent("onpropertychange",Pk)):l==="focusout"&&kk()}function gW(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ig(o0)}function vW(l,f){if(l==="click")return Ig(f)}function yW(l,f){if(l==="input"||l==="change")return Ig(f)}function xW(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Wa=typeof Object.is=="function"?Object.is:xW;function l0(l,f){if(Wa(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var p=Object.keys(l),y=Object.keys(f);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var S=p[y];if(!tt.call(f,S)||!Wa(l[S],f[S]))return!1}return!0}function Rk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ok(l,f){var p=Rk(l);l=0;for(var y;p;){if(p.nodeType===3){if(y=l+p.textContent.length,l<=f&&y>=f)return{node:p,offset:f-l};l=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Rk(p)}}function Mk(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?Mk(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function Dk(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Me(l.document);f instanceof l.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)l=f.contentWindow;else break;f=Me(l.document)}return f}function ab(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var _W=ps&&"documentMode"in document&&11>=document.documentMode,rd=null,sb=null,c0=null,ob=!1;function Fk(l,f,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ob||rd==null||rd!==Me(y)||(y=rd,"selectionStart"in y&&ab(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),c0&&l0(c0,y)||(c0=y,y=vv(sb,"onSelect"),0<y.length&&(f=new Ao("onSelect","select",null,f,p),l.push({event:f,listeners:y}),f.target=rd)))}function Iu(l,f){var p={};return p[l.toLowerCase()]=f.toLowerCase(),p["Webkit"+l]="webkit"+f,p["Moz"+l]="moz"+f,p}var nd={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionrun:Iu("Transition","TransitionRun"),transitionstart:Iu("Transition","TransitionStart"),transitioncancel:Iu("Transition","TransitionCancel"),transitionend:Iu("Transition","TransitionEnd")},lb={},Lk={};ps&&(Lk=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);function ku(l){if(lb[l])return lb[l];if(!nd[l])return l;var f=nd[l],p;for(p in f)if(f.hasOwnProperty(p)&&p in Lk)return lb[l]=f[p];return l}var jk=ku("animationend"),Uk=ku("animationiteration"),Bk=ku("animationstart"),bW=ku("transitionrun"),wW=ku("transitionstart"),EW=ku("transitioncancel"),Vk=ku("transitionend"),zk=new Map,cb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cb.push("scrollEnd");function Ks(l,f){zk.set(l,f),Ar(f,[l])}var kg=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},gs=[],id=0,ub=0;function Pg(){for(var l=id,f=ub=id=0;f<l;){var p=gs[f];gs[f++]=null;var y=gs[f];gs[f++]=null;var S=gs[f];gs[f++]=null;var N=gs[f];if(gs[f++]=null,y!==null&&S!==null){var H=y.pending;H===null?S.next=S:(S.next=H.next,H.next=S),y.pending=S}N!==0&&$k(p,S,N)}}function Rg(l,f,p,y){gs[id++]=l,gs[id++]=f,gs[id++]=p,gs[id++]=y,ub|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function fb(l,f,p,y){return Rg(l,f,p,y),Og(l)}function Pu(l,f){return Rg(l,null,null,f),Og(l)}function $k(l,f,p){l.lanes|=p;var y=l.alternate;y!==null&&(y.lanes|=p);for(var S=!1,N=l.return;N!==null;)N.childLanes|=p,y=N.alternate,y!==null&&(y.childLanes|=p),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(S=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,S&&f!==null&&(S=31-gt(p),l=N.hiddenUpdates,y=l[S],y===null?l[S]=[f]:y.push(f),f.lane=p|536870912),N):null}function Og(l){if(50<P0)throw P0=0,_w=null,Error(n(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var ad={};function TW(l,f,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(l,f,p,y){return new TW(l,f,p,y)}function db(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ll(l,f){var p=l.alternate;return p===null?(p=Ya(l.tag,f,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=f,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,f=l.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function Hk(l,f){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,f=p.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Mg(l,f,p,y,S,N){var H=0;if(y=l,typeof l=="function")db(l)&&(H=1);else if(typeof l=="string")H=IY(l,p,Z.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case O:return l=Ya(31,p,f,S),l.elementType=O,l.lanes=N,l;case w:return Ru(p.children,S,N,f);case T:H=8,S|=24;break;case C:return l=Ya(12,p,f,S|2),l.elementType=C,l.lanes=N,l;case F:return l=Ya(13,p,f,S),l.elementType=F,l.lanes=N,l;case R:return l=Ya(19,p,f,S),l.elementType=R,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case P:H=10;break e;case L:H=9;break e;case D:H=11;break e;case I:H=14;break e;case k:H=16,y=null;break e}H=29,p=Error(n(130,l===null?"null":typeof l,"")),y=null}return f=Ya(H,p,f,S),f.elementType=l,f.type=y,f.lanes=N,f}function Ru(l,f,p,y){return l=Ya(7,l,y,f),l.lanes=p,l}function hb(l,f,p){return l=Ya(6,l,null,f),l.lanes=p,l}function Gk(l){var f=Ya(18,null,null,0);return f.stateNode=l,f}function pb(l,f,p){return f=Ya(4,l.children!==null?l.children:[],l.key,f),f.lanes=p,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var qk=new WeakMap;function vs(l,f){if(typeof l=="object"&&l!==null){var p=qk.get(l);return p!==void 0?p:(f={value:l,source:f,stack:Xe(f)},qk.set(l,f),f)}return{value:l,source:f,stack:Xe(f)}}var sd=[],od=0,Dg=null,u0=0,ys=[],xs=0,oc=null,Io=1,ko="";function cl(l,f){sd[od++]=u0,sd[od++]=Dg,Dg=l,u0=f}function Kk(l,f,p){ys[xs++]=Io,ys[xs++]=ko,ys[xs++]=oc,oc=l;var y=Io;l=ko;var S=32-gt(y)-1;y&=~(1<<S),p+=1;var N=32-gt(f)+S;if(30<N){var H=S-S%5;N=(y&(1<<H)-1).toString(32),y>>=H,S-=H,Io=1<<32-gt(f)+S|p<<S|y,ko=N+l}else Io=1<<N|p<<S|y,ko=l}function mb(l){l.return!==null&&(cl(l,1),Kk(l,1,0))}function gb(l){for(;l===Dg;)Dg=sd[--od],sd[od]=null,u0=sd[--od],sd[od]=null;for(;l===oc;)oc=ys[--xs],ys[xs]=null,ko=ys[--xs],ys[xs]=null,Io=ys[--xs],ys[xs]=null}function Wk(l,f){ys[xs++]=Io,ys[xs++]=ko,ys[xs++]=oc,Io=f.id,ko=f.overflow,oc=l}var Ei=null,Kr=null,er=!1,lc=null,_s=!1,vb=Error(n(519));function cc(l){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw f0(vs(f,l)),vb}function Yk(l){var f=l.stateNode,p=l.type,y=l.memoizedProps;switch(f[re]=l,f[ne]=y,p){case"dialog":qt("cancel",f),qt("close",f);break;case"iframe":case"object":case"embed":qt("load",f);break;case"video":case"audio":for(p=0;p<O0.length;p++)qt(O0[p],f);break;case"source":qt("error",f);break;case"img":case"image":case"link":qt("error",f),qt("load",f);break;case"details":qt("toggle",f);break;case"input":qt("invalid",f),Ft(f,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":qt("invalid",f);break;case"textarea":qt("invalid",f),zt(f,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||y.suppressHydrationWarning===!0||dO(f.textContent,p)?(y.popover!=null&&(qt("beforetoggle",f),qt("toggle",f)),y.onScroll!=null&&qt("scroll",f),y.onScrollEnd!=null&&qt("scrollend",f),y.onClick!=null&&(f.onclick=Ea),f=!0):f=!1,f||cc(l,!0)}function Jk(l){for(Ei=l.return;Ei;)switch(Ei.tag){case 5:case 31:case 13:_s=!1;return;case 27:case 3:_s=!0;return;default:Ei=Ei.return}}function ld(l){if(l!==Ei)return!1;if(!er)return Jk(l),er=!0,!1;var f=l.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||Dw(l.type,l.memoizedProps)),p=!p),p&&Kr&&cc(l),Jk(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Kr=bO(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Kr=bO(l)}else f===27?(f=Kr,Ec(l.type)?(l=Bw,Bw=null,Kr=l):Kr=f):Kr=Ei?ws(l.stateNode.nextSibling):null;return!0}function Ou(){Kr=Ei=null,er=!1}function yb(){var l=lc;return l!==null&&(Ca===null?Ca=l:Ca.push.apply(Ca,l),lc=null),l}function f0(l){lc===null?lc=[l]:lc.push(l)}var xb=X(null),Mu=null,ul=null;function uc(l,f,p){te(xb,f._currentValue),f._currentValue=p}function fl(l){l._currentValue=xb.current,z(xb)}function _b(l,f,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,y!==null&&(y.childLanes|=f)):y!==null&&(y.childLanes&f)!==f&&(y.childLanes|=f),l===p)break;l=l.return}}function bb(l,f,p,y){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var N=S.dependencies;if(N!==null){var H=S.child;N=N.firstContext;e:for(;N!==null;){var J=N;N=S;for(var he=0;he<f.length;he++)if(J.context===f[he]){N.lanes|=p,J=N.alternate,J!==null&&(J.lanes|=p),_b(N.return,p,l),y||(H=null);break e}N=J.next}}else if(S.tag===18){if(H=S.return,H===null)throw Error(n(341));H.lanes|=p,N=H.alternate,N!==null&&(N.lanes|=p),_b(H,p,l),H=null}else H=S.child;if(H!==null)H.return=S;else for(H=S;H!==null;){if(H===l){H=null;break}if(S=H.sibling,S!==null){S.return=H.return,H=S;break}H=H.return}S=H}}function cd(l,f,p,y){l=null;for(var S=f,N=!1;S!==null;){if(!N){if((S.flags&524288)!==0)N=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var H=S.alternate;if(H===null)throw Error(n(387));if(H=H.memoizedProps,H!==null){var J=S.type;Wa(S.pendingProps.value,H.value)||(l!==null?l.push(J):l=[J])}}else if(S===xe.current){if(H=S.alternate,H===null)throw Error(n(387));H.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(j0):l=[j0])}S=S.return}l!==null&&bb(f,l,p,y),f.flags|=262144}function Fg(l){for(l=l.firstContext;l!==null;){if(!Wa(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Du(l){Mu=l,ul=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ti(l){return Xk(Mu,l)}function Lg(l,f){return Mu===null&&Du(l),Xk(l,f)}function Xk(l,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},ul===null){if(l===null)throw Error(n(308));ul=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else ul=ul.next=f;return p}var AW=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(p,y){l.push(y)}};this.abort=function(){f.aborted=!0,l.forEach(function(p){return p()})}},SW=e.unstable_scheduleCallback,CW=e.unstable_NormalPriority,Mn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wb(){return{controller:new AW,data:new Map,refCount:0}}function d0(l){l.refCount--,l.refCount===0&&SW(CW,function(){l.controller.abort()})}var h0=null,Eb=0,ud=0,fd=null;function NW(l,f){if(h0===null){var p=h0=[];Eb=0,ud=Sw(),fd={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Eb++,f.then(Zk,Zk),f}function Zk(){if(--Eb===0&&h0!==null){fd!==null&&(fd.status="fulfilled");var l=h0;h0=null,ud=0,fd=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function IW(l,f){var p=[],y={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return l.then(function(){y.status="fulfilled",y.value=f;for(var S=0;S<p.length;S++)(0,p[S])(f)},function(S){for(y.status="rejected",y.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),y}var Qk=ie.S;ie.S=function(l,f){FR=bt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&NW(l,f),Qk!==null&&Qk(l,f)};var Fu=X(null);function Tb(){var l=Fu.current;return l!==null?l:Ur.pooledCache}function jg(l,f){f===null?te(Fu,Fu.current):te(Fu,f.pool)}function eP(){var l=Tb();return l===null?null:{parent:Mn._currentValue,pool:l}}var dd=Error(n(460)),Ab=Error(n(474)),Ug=Error(n(542)),Bg={then:function(){}};function tP(l){return l=l.status,l==="fulfilled"||l==="rejected"}function rP(l,f,p){switch(p=l[p],p===void 0?l.push(f):p!==f&&(f.then(Ea,Ea),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,iP(l),l;default:if(typeof f.status=="string")f.then(Ea,Ea);else{if(l=Ur,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=f,l.status="pending",l.then(function(y){if(f.status==="pending"){var S=f;S.status="fulfilled",S.value=y}},function(y){if(f.status==="pending"){var S=f;S.status="rejected",S.reason=y}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,iP(l),l}throw ju=f,dd}}function Lu(l){try{var f=l._init;return f(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(ju=p,dd):p}}var ju=null;function nP(){if(ju===null)throw Error(n(459));var l=ju;return ju=null,l}function iP(l){if(l===dd||l===Ug)throw Error(n(483))}var hd=null,p0=0;function Vg(l){var f=p0;return p0+=1,hd===null&&(hd=[]),rP(hd,l,f)}function m0(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function zg(l,f){throw f.$$typeof===g?Error(n(525)):(l=Object.prototype.toString.call(f),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function aP(l){function f(ye,me){if(l){var Ae=ye.deletions;Ae===null?(ye.deletions=[me],ye.flags|=16):Ae.push(me)}}function p(ye,me){if(!l)return null;for(;me!==null;)f(ye,me),me=me.sibling;return null}function y(ye){for(var me=new Map;ye!==null;)ye.key!==null?me.set(ye.key,ye):me.set(ye.index,ye),ye=ye.sibling;return me}function S(ye,me){return ye=ll(ye,me),ye.index=0,ye.sibling=null,ye}function N(ye,me,Ae){return ye.index=Ae,l?(Ae=ye.alternate,Ae!==null?(Ae=Ae.index,Ae<me?(ye.flags|=67108866,me):Ae):(ye.flags|=67108866,me)):(ye.flags|=1048576,me)}function H(ye){return l&&ye.alternate===null&&(ye.flags|=67108866),ye}function J(ye,me,Ae,je){return me===null||me.tag!==6?(me=hb(Ae,ye.mode,je),me.return=ye,me):(me=S(me,Ae),me.return=ye,me)}function he(ye,me,Ae,je){var yt=Ae.type;return yt===w?De(ye,me,Ae.props.children,je,Ae.key):me!==null&&(me.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===k&&Lu(yt)===me.type)?(me=S(me,Ae.props),m0(me,Ae),me.return=ye,me):(me=Mg(Ae.type,Ae.key,Ae.props,null,ye.mode,je),m0(me,Ae),me.return=ye,me)}function Ce(ye,me,Ae,je){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ae.containerInfo||me.stateNode.implementation!==Ae.implementation?(me=pb(Ae,ye.mode,je),me.return=ye,me):(me=S(me,Ae.children||[]),me.return=ye,me)}function De(ye,me,Ae,je,yt){return me===null||me.tag!==7?(me=Ru(Ae,ye.mode,je,yt),me.return=ye,me):(me=S(me,Ae),me.return=ye,me)}function Ve(ye,me,Ae){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=hb(""+me,ye.mode,Ae),me.return=ye,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return Ae=Mg(me.type,me.key,me.props,null,ye.mode,Ae),m0(Ae,me),Ae.return=ye,Ae;case _:return me=pb(me,ye.mode,Ae),me.return=ye,me;case k:return me=Lu(me),Ve(ye,me,Ae)}if(ge(me)||j(me))return me=Ru(me,ye.mode,Ae,null),me.return=ye,me;if(typeof me.then=="function")return Ve(ye,Vg(me),Ae);if(me.$$typeof===P)return Ve(ye,Lg(ye,me),Ae);zg(ye,me)}return null}function Ie(ye,me,Ae,je){var yt=me!==null?me.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return yt!==null?null:J(ye,me,""+Ae,je);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case x:return Ae.key===yt?he(ye,me,Ae,je):null;case _:return Ae.key===yt?Ce(ye,me,Ae,je):null;case k:return Ae=Lu(Ae),Ie(ye,me,Ae,je)}if(ge(Ae)||j(Ae))return yt!==null?null:De(ye,me,Ae,je,null);if(typeof Ae.then=="function")return Ie(ye,me,Vg(Ae),je);if(Ae.$$typeof===P)return Ie(ye,me,Lg(ye,Ae),je);zg(ye,Ae)}return null}function Re(ye,me,Ae,je,yt){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return ye=ye.get(Ae)||null,J(me,ye,""+je,yt);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case x:return ye=ye.get(je.key===null?Ae:je.key)||null,he(me,ye,je,yt);case _:return ye=ye.get(je.key===null?Ae:je.key)||null,Ce(me,ye,je,yt);case k:return je=Lu(je),Re(ye,me,Ae,je,yt)}if(ge(je)||j(je))return ye=ye.get(Ae)||null,De(me,ye,je,yt,null);if(typeof je.then=="function")return Re(ye,me,Ae,Vg(je),yt);if(je.$$typeof===P)return Re(ye,me,Ae,Lg(me,je),yt);zg(me,je)}return null}function ut(ye,me,Ae,je){for(var yt=null,fr=null,ht=me,Bt=me=0,Yt=null;ht!==null&&Bt<Ae.length;Bt++){ht.index>Bt?(Yt=ht,ht=null):Yt=ht.sibling;var dr=Ie(ye,ht,Ae[Bt],je);if(dr===null){ht===null&&(ht=Yt);break}l&&ht&&dr.alternate===null&&f(ye,ht),me=N(dr,me,Bt),fr===null?yt=dr:fr.sibling=dr,fr=dr,ht=Yt}if(Bt===Ae.length)return p(ye,ht),er&&cl(ye,Bt),yt;if(ht===null){for(;Bt<Ae.length;Bt++)ht=Ve(ye,Ae[Bt],je),ht!==null&&(me=N(ht,me,Bt),fr===null?yt=ht:fr.sibling=ht,fr=ht);return er&&cl(ye,Bt),yt}for(ht=y(ht);Bt<Ae.length;Bt++)Yt=Re(ht,ye,Bt,Ae[Bt],je),Yt!==null&&(l&&Yt.alternate!==null&&ht.delete(Yt.key===null?Bt:Yt.key),me=N(Yt,me,Bt),fr===null?yt=Yt:fr.sibling=Yt,fr=Yt);return l&&ht.forEach(function(Nc){return f(ye,Nc)}),er&&cl(ye,Bt),yt}function wt(ye,me,Ae,je){if(Ae==null)throw Error(n(151));for(var yt=null,fr=null,ht=me,Bt=me=0,Yt=null,dr=Ae.next();ht!==null&&!dr.done;Bt++,dr=Ae.next()){ht.index>Bt?(Yt=ht,ht=null):Yt=ht.sibling;var Nc=Ie(ye,ht,dr.value,je);if(Nc===null){ht===null&&(ht=Yt);break}l&&ht&&Nc.alternate===null&&f(ye,ht),me=N(Nc,me,Bt),fr===null?yt=Nc:fr.sibling=Nc,fr=Nc,ht=Yt}if(dr.done)return p(ye,ht),er&&cl(ye,Bt),yt;if(ht===null){for(;!dr.done;Bt++,dr=Ae.next())dr=Ve(ye,dr.value,je),dr!==null&&(me=N(dr,me,Bt),fr===null?yt=dr:fr.sibling=dr,fr=dr);return er&&cl(ye,Bt),yt}for(ht=y(ht);!dr.done;Bt++,dr=Ae.next())dr=Re(ht,ye,Bt,dr.value,je),dr!==null&&(l&&dr.alternate!==null&&ht.delete(dr.key===null?Bt:dr.key),me=N(dr,me,Bt),fr===null?yt=dr:fr.sibling=dr,fr=dr);return l&&ht.forEach(function(BY){return f(ye,BY)}),er&&cl(ye,Bt),yt}function Fr(ye,me,Ae,je){if(typeof Ae=="object"&&Ae!==null&&Ae.type===w&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case x:e:{for(var yt=Ae.key;me!==null;){if(me.key===yt){if(yt=Ae.type,yt===w){if(me.tag===7){p(ye,me.sibling),je=S(me,Ae.props.children),je.return=ye,ye=je;break e}}else if(me.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===k&&Lu(yt)===me.type){p(ye,me.sibling),je=S(me,Ae.props),m0(je,Ae),je.return=ye,ye=je;break e}p(ye,me);break}else f(ye,me);me=me.sibling}Ae.type===w?(je=Ru(Ae.props.children,ye.mode,je,Ae.key),je.return=ye,ye=je):(je=Mg(Ae.type,Ae.key,Ae.props,null,ye.mode,je),m0(je,Ae),je.return=ye,ye=je)}return H(ye);case _:e:{for(yt=Ae.key;me!==null;){if(me.key===yt)if(me.tag===4&&me.stateNode.containerInfo===Ae.containerInfo&&me.stateNode.implementation===Ae.implementation){p(ye,me.sibling),je=S(me,Ae.children||[]),je.return=ye,ye=je;break e}else{p(ye,me);break}else f(ye,me);me=me.sibling}je=pb(Ae,ye.mode,je),je.return=ye,ye=je}return H(ye);case k:return Ae=Lu(Ae),Fr(ye,me,Ae,je)}if(ge(Ae))return ut(ye,me,Ae,je);if(j(Ae)){if(yt=j(Ae),typeof yt!="function")throw Error(n(150));return Ae=yt.call(Ae),wt(ye,me,Ae,je)}if(typeof Ae.then=="function")return Fr(ye,me,Vg(Ae),je);if(Ae.$$typeof===P)return Fr(ye,me,Lg(ye,Ae),je);zg(ye,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,me!==null&&me.tag===6?(p(ye,me.sibling),je=S(me,Ae),je.return=ye,ye=je):(p(ye,me),je=hb(Ae,ye.mode,je),je.return=ye,ye=je),H(ye)):p(ye,me)}return function(ye,me,Ae,je){try{p0=0;var yt=Fr(ye,me,Ae,je);return hd=null,yt}catch(ht){if(ht===dd||ht===Ug)throw ht;var fr=Ya(29,ht,null,ye.mode);return fr.lanes=je,fr.return=ye,fr}}}var Uu=aP(!0),sP=aP(!1),fc=!1;function Sb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cb(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function dc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function hc(l,f,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(xr&2)!==0){var S=y.pending;return S===null?f.next=f:(f.next=S.next,S.next=f),y.pending=f,f=Og(l),$k(l,null,p),f}return Rg(l,y,f,p),Og(l)}function g0(l,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var y=f.lanes;y&=l.pendingLanes,p|=y,f.lanes=p,Ha(l,p)}}function Nb(l,f){var p=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var S=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var H={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?S=N=H:N=N.next=H,p=p.next}while(p!==null);N===null?S=N=f:N=N.next=f}else S=N=f;p={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:N,shared:y.shared,callbacks:y.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=f:l.next=f,p.lastBaseUpdate=f}var Ib=!1;function v0(){if(Ib){var l=fd;if(l!==null)throw l}}function y0(l,f,p,y){Ib=!1;var S=l.updateQueue;fc=!1;var N=S.firstBaseUpdate,H=S.lastBaseUpdate,J=S.shared.pending;if(J!==null){S.shared.pending=null;var he=J,Ce=he.next;he.next=null,H===null?N=Ce:H.next=Ce,H=he;var De=l.alternate;De!==null&&(De=De.updateQueue,J=De.lastBaseUpdate,J!==H&&(J===null?De.firstBaseUpdate=Ce:J.next=Ce,De.lastBaseUpdate=he))}if(N!==null){var Ve=S.baseState;H=0,De=Ce=he=null,J=N;do{var Ie=J.lane&-536870913,Re=Ie!==J.lane;if(Re?(Wt&Ie)===Ie:(y&Ie)===Ie){Ie!==0&&Ie===ud&&(Ib=!0),De!==null&&(De=De.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var ut=l,wt=J;Ie=f;var Fr=p;switch(wt.tag){case 1:if(ut=wt.payload,typeof ut=="function"){Ve=ut.call(Fr,Ve,Ie);break e}Ve=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=wt.payload,Ie=typeof ut=="function"?ut.call(Fr,Ve,Ie):ut,Ie==null)break e;Ve=h({},Ve,Ie);break e;case 2:fc=!0}}Ie=J.callback,Ie!==null&&(l.flags|=64,Re&&(l.flags|=8192),Re=S.callbacks,Re===null?S.callbacks=[Ie]:Re.push(Ie))}else Re={lane:Ie,tag:J.tag,payload:J.payload,callback:J.callback,next:null},De===null?(Ce=De=Re,he=Ve):De=De.next=Re,H|=Ie;if(J=J.next,J===null){if(J=S.shared.pending,J===null)break;Re=J,J=Re.next,Re.next=null,S.lastBaseUpdate=Re,S.shared.pending=null}}while(!0);De===null&&(he=Ve),S.baseState=he,S.firstBaseUpdate=Ce,S.lastBaseUpdate=De,N===null&&(S.shared.lanes=0),yc|=H,l.lanes=H,l.memoizedState=Ve}}function oP(l,f){if(typeof l!="function")throw Error(n(191,l));l.call(f)}function lP(l,f){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)oP(p[l],f)}var pd=X(null),$g=X(0);function cP(l,f){l=_l,te($g,l),te(pd,f),_l=l|f.baseLanes}function kb(){te($g,_l),te(pd,pd.current)}function Pb(){_l=$g.current,z(pd),z($g)}var Ja=X(null),bs=null;function pc(l){var f=l.alternate;te(An,An.current&1),te(Ja,l),bs===null&&(f===null||pd.current!==null||f.memoizedState!==null)&&(bs=l)}function Rb(l){te(An,An.current),te(Ja,l),bs===null&&(bs=l)}function uP(l){l.tag===22?(te(An,An.current),te(Ja,l),bs===null&&(bs=l)):mc()}function mc(){te(An,An.current),te(Ja,Ja.current)}function Xa(l){z(Ja),bs===l&&(bs=null),z(An)}var An=X(0);function Hg(l){for(var f=l;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||jw(p)||Uw(p)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var dl=0,jt=null,Mr=null,Dn=null,Gg=!1,md=!1,Bu=!1,qg=0,x0=0,gd=null,kW=0;function dn(){throw Error(n(321))}function Ob(l,f){if(f===null)return!1;for(var p=0;p<f.length&&p<l.length;p++)if(!Wa(l[p],f[p]))return!1;return!0}function Mb(l,f,p,y,S,N){return dl=N,jt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ie.H=l===null||l.memoizedState===null?KP:Yb,Bu=!1,N=p(y,S),Bu=!1,md&&(N=dP(f,p,y,S)),fP(l),N}function fP(l){ie.H=w0;var f=Mr!==null&&Mr.next!==null;if(dl=0,Dn=Mr=jt=null,Gg=!1,x0=0,gd=null,f)throw Error(n(300));l===null||Fn||(l=l.dependencies,l!==null&&Fg(l)&&(Fn=!0))}function dP(l,f,p,y){jt=l;var S=0;do{if(md&&(gd=null),x0=0,md=!1,25<=S)throw Error(n(301));if(S+=1,Dn=Mr=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}ie.H=WP,N=f(p,y)}while(md);return N}function PW(){var l=ie.H,f=l.useState()[0];return f=typeof f.then=="function"?_0(f):f,l=l.useState()[0],(Mr!==null?Mr.memoizedState:null)!==l&&(jt.flags|=1024),f}function Db(){var l=qg!==0;return qg=0,l}function Fb(l,f,p){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~p}function Lb(l){if(Gg){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Gg=!1}dl=0,Dn=Mr=jt=null,md=!1,x0=qg=0,gd=null}function ia(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?jt.memoizedState=Dn=l:Dn=Dn.next=l,Dn}function Sn(){if(Mr===null){var l=jt.alternate;l=l!==null?l.memoizedState:null}else l=Mr.next;var f=Dn===null?jt.memoizedState:Dn.next;if(f!==null)Dn=f,Mr=l;else{if(l===null)throw jt.alternate===null?Error(n(467)):Error(n(310));Mr=l,l={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Dn===null?jt.memoizedState=Dn=l:Dn=Dn.next=l}return Dn}function Kg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _0(l){var f=x0;return x0+=1,gd===null&&(gd=[]),l=rP(gd,l,f),f=jt,(Dn===null?f.memoizedState:Dn.next)===null&&(f=f.alternate,ie.H=f===null||f.memoizedState===null?KP:Yb),l}function Wg(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return _0(l);if(l.$$typeof===P)return Ti(l)}throw Error(n(438,String(l)))}function jb(l){var f=null,p=jt.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var y=jt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(f={data:y.data.map(function(S){return S.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=Kg(),jt.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(l),y=0;y<l;y++)p[y]=B;return f.index++,p}function hl(l,f){return typeof f=="function"?f(l):f}function Yg(l){var f=Sn();return Ub(f,Mr,l)}function Ub(l,f,p){var y=l.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var S=l.baseQueue,N=y.pending;if(N!==null){if(S!==null){var H=S.next;S.next=N.next,N.next=H}f.baseQueue=S=N,y.pending=null}if(N=l.baseState,S===null)l.memoizedState=N;else{f=S.next;var J=H=null,he=null,Ce=f,De=!1;do{var Ve=Ce.lane&-536870913;if(Ve!==Ce.lane?(Wt&Ve)===Ve:(dl&Ve)===Ve){var Ie=Ce.revertLane;if(Ie===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Ve===ud&&(De=!0);else if((dl&Ie)===Ie){Ce=Ce.next,Ie===ud&&(De=!0);continue}else Ve={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},he===null?(J=he=Ve,H=N):he=he.next=Ve,jt.lanes|=Ie,yc|=Ie;Ve=Ce.action,Bu&&p(N,Ve),N=Ce.hasEagerState?Ce.eagerState:p(N,Ve)}else Ie={lane:Ve,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},he===null?(J=he=Ie,H=N):he=he.next=Ie,jt.lanes|=Ve,yc|=Ve;Ce=Ce.next}while(Ce!==null&&Ce!==f);if(he===null?H=N:he.next=J,!Wa(N,l.memoizedState)&&(Fn=!0,De&&(p=fd,p!==null)))throw p;l.memoizedState=N,l.baseState=H,l.baseQueue=he,y.lastRenderedState=N}return S===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function Bb(l){var f=Sn(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var y=p.dispatch,S=p.pending,N=f.memoizedState;if(S!==null){p.pending=null;var H=S=S.next;do N=l(N,H.action),H=H.next;while(H!==S);Wa(N,f.memoizedState)||(Fn=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),p.lastRenderedState=N}return[N,y]}function hP(l,f,p){var y=jt,S=Sn(),N=er;if(N){if(p===void 0)throw Error(n(407));p=p()}else p=f();var H=!Wa((Mr||S).memoizedState,p);if(H&&(S.memoizedState=p,Fn=!0),S=S.queue,$b(gP.bind(null,y,S,l),[l]),S.getSnapshot!==f||H||Dn!==null&&Dn.memoizedState.tag&1){if(y.flags|=2048,vd(9,{destroy:void 0},mP.bind(null,y,S,p,f),null),Ur===null)throw Error(n(349));N||(dl&127)!==0||pP(y,f,p)}return p}function pP(l,f,p){l.flags|=16384,l={getSnapshot:f,value:p},f=jt.updateQueue,f===null?(f=Kg(),jt.updateQueue=f,f.stores=[l]):(p=f.stores,p===null?f.stores=[l]:p.push(l))}function mP(l,f,p,y){f.value=p,f.getSnapshot=y,vP(f)&&yP(l)}function gP(l,f,p){return p(function(){vP(f)&&yP(l)})}function vP(l){var f=l.getSnapshot;l=l.value;try{var p=f();return!Wa(l,p)}catch{return!0}}function yP(l){var f=Pu(l,2);f!==null&&Na(f,l,2)}function Vb(l){var f=ia();if(typeof l=="function"){var p=l;if(l=p(),Bu){_i(!0);try{p()}finally{_i(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:l},f}function xP(l,f,p,y){return l.baseState=p,Ub(l,Mr,typeof y=="function"?y:hl)}function RW(l,f,p,y,S){if(Zg(l))throw Error(n(485));if(l=f.action,l!==null){var N={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){N.listeners.push(H)}};ie.T!==null?p(!0):N.isTransition=!1,y(N),p=f.pending,p===null?(N.next=f.pending=N,_P(f,N)):(N.next=p.next,f.pending=p.next=N)}}function _P(l,f){var p=f.action,y=f.payload,S=l.state;if(f.isTransition){var N=ie.T,H={};ie.T=H;try{var J=p(S,y),he=ie.S;he!==null&&he(H,J),bP(l,f,J)}catch(Ce){zb(l,f,Ce)}finally{N!==null&&H.types!==null&&(N.types=H.types),ie.T=N}}else try{N=p(S,y),bP(l,f,N)}catch(Ce){zb(l,f,Ce)}}function bP(l,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){wP(l,f,y)},function(y){return zb(l,f,y)}):wP(l,f,p)}function wP(l,f,p){f.status="fulfilled",f.value=p,EP(f),l.state=p,f=l.pending,f!==null&&(p=f.next,p===f?l.pending=null:(p=p.next,f.next=p,_P(l,p)))}function zb(l,f,p){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do f.status="rejected",f.reason=p,EP(f),f=f.next;while(f!==y)}l.action=null}function EP(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function TP(l,f){return f}function AP(l,f){if(er){var p=Ur.formState;if(p!==null){e:{var y=jt;if(er){if(Kr){t:{for(var S=Kr,N=_s;S.nodeType!==8;){if(!N){S=null;break t}if(S=ws(S.nextSibling),S===null){S=null;break t}}N=S.data,S=N==="F!"||N==="F"?S:null}if(S){Kr=ws(S.nextSibling),y=S.data==="F!";break e}}cc(y)}y=!1}y&&(f=p[0])}}return p=ia(),p.memoizedState=p.baseState=f,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TP,lastRenderedState:f},p.queue=y,p=HP.bind(null,jt,y),y.dispatch=p,y=Vb(!1),N=Wb.bind(null,jt,!1,y.queue),y=ia(),S={state:f,dispatch:null,action:l,pending:null},y.queue=S,p=RW.bind(null,jt,S,N,p),S.dispatch=p,y.memoizedState=l,[f,p,!1]}function SP(l){var f=Sn();return CP(f,Mr,l)}function CP(l,f,p){if(f=Ub(l,f,TP)[0],l=Yg(hl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var y=_0(f)}catch(H){throw H===dd?Ug:H}else y=f;f=Sn();var S=f.queue,N=S.dispatch;return p!==f.memoizedState&&(jt.flags|=2048,vd(9,{destroy:void 0},OW.bind(null,S,p),null)),[y,N,l]}function OW(l,f){l.action=f}function NP(l){var f=Sn(),p=Mr;if(p!==null)return CP(f,p,l);Sn(),f=f.memoizedState,p=Sn();var y=p.queue.dispatch;return p.memoizedState=l,[f,y,!1]}function vd(l,f,p,y){return l={tag:l,create:p,deps:y,inst:f,next:null},f=jt.updateQueue,f===null&&(f=Kg(),jt.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,f.lastEffect=l),l}function IP(){return Sn().memoizedState}function Jg(l,f,p,y){var S=ia();jt.flags|=l,S.memoizedState=vd(1|f,{destroy:void 0},p,y===void 0?null:y)}function Xg(l,f,p,y){var S=Sn();y=y===void 0?null:y;var N=S.memoizedState.inst;Mr!==null&&y!==null&&Ob(y,Mr.memoizedState.deps)?S.memoizedState=vd(f,N,p,y):(jt.flags|=l,S.memoizedState=vd(1|f,N,p,y))}function kP(l,f){Jg(8390656,8,l,f)}function $b(l,f){Xg(2048,8,l,f)}function MW(l){jt.flags|=4;var f=jt.updateQueue;if(f===null)f=Kg(),jt.updateQueue=f,f.events=[l];else{var p=f.events;p===null?f.events=[l]:p.push(l)}}function PP(l){var f=Sn().memoizedState;return MW({ref:f,nextImpl:l}),function(){if((xr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function RP(l,f){return Xg(4,2,l,f)}function OP(l,f){return Xg(4,4,l,f)}function MP(l,f){if(typeof f=="function"){l=l();var p=f(l);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function DP(l,f,p){p=p!=null?p.concat([l]):null,Xg(4,4,MP.bind(null,f,l),p)}function Hb(){}function FP(l,f){var p=Sn();f=f===void 0?null:f;var y=p.memoizedState;return f!==null&&Ob(f,y[1])?y[0]:(p.memoizedState=[l,f],l)}function LP(l,f){var p=Sn();f=f===void 0?null:f;var y=p.memoizedState;if(f!==null&&Ob(f,y[1]))return y[0];if(y=l(),Bu){_i(!0);try{l()}finally{_i(!1)}}return p.memoizedState=[y,f],y}function Gb(l,f,p){return p===void 0||(dl&1073741824)!==0&&(Wt&261930)===0?l.memoizedState=f:(l.memoizedState=p,l=jR(),jt.lanes|=l,yc|=l,p)}function jP(l,f,p,y){return Wa(p,f)?p:pd.current!==null?(l=Gb(l,p,y),Wa(l,f)||(Fn=!0),l):(dl&42)===0||(dl&1073741824)!==0&&(Wt&261930)===0?(Fn=!0,l.memoizedState=p):(l=jR(),jt.lanes|=l,yc|=l,f)}function UP(l,f,p,y,S){var N=fe.p;fe.p=N!==0&&8>N?N:8;var H=ie.T,J={};ie.T=J,Wb(l,!1,f,p);try{var he=S(),Ce=ie.S;if(Ce!==null&&Ce(J,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var De=IW(he,y);b0(l,f,De,es(l))}else b0(l,f,y,es(l))}catch(Ve){b0(l,f,{then:function(){},status:"rejected",reason:Ve},es())}finally{fe.p=N,H!==null&&J.types!==null&&(H.types=J.types),ie.T=H}}function DW(){}function qb(l,f,p,y){if(l.tag!==5)throw Error(n(476));var S=BP(l).queue;UP(l,S,f,ue,p===null?DW:function(){return VP(l),p(y)})}function BP(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:ue},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:p},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function VP(l){var f=BP(l);f.next===null&&(f=l.alternate.memoizedState),b0(l,f.next.queue,{},es())}function Kb(){return Ti(j0)}function zP(){return Sn().memoizedState}function $P(){return Sn().memoizedState}function FW(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var p=es();l=dc(p);var y=hc(f,l,p);y!==null&&(Na(y,f,p),g0(y,f,p)),f={cache:wb()},l.payload=f;return}f=f.return}}function LW(l,f,p){var y=es();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Zg(l)?GP(f,p):(p=fb(l,f,p,y),p!==null&&(Na(p,l,y),qP(p,f,y)))}function HP(l,f,p){var y=es();b0(l,f,p,y)}function b0(l,f,p,y){var S={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Zg(l))GP(f,S);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var H=f.lastRenderedState,J=N(H,p);if(S.hasEagerState=!0,S.eagerState=J,Wa(J,H))return Rg(l,f,S,0),Ur===null&&Pg(),!1}catch{}if(p=fb(l,f,S,y),p!==null)return Na(p,l,y),qP(p,f,y),!0}return!1}function Wb(l,f,p,y){if(y={lane:2,revertLane:Sw(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Zg(l)){if(f)throw Error(n(479))}else f=fb(l,p,y,2),f!==null&&Na(f,l,2)}function Zg(l){var f=l.alternate;return l===jt||f!==null&&f===jt}function GP(l,f){md=Gg=!0;var p=l.pending;p===null?f.next=f:(f.next=p.next,p.next=f),l.pending=f}function qP(l,f,p){if((p&4194048)!==0){var y=f.lanes;y&=l.pendingLanes,p|=y,f.lanes=p,Ha(l,p)}}var w0={readContext:Ti,use:Wg,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};w0.useEffectEvent=dn;var KP={readContext:Ti,use:Wg,useCallback:function(l,f){return ia().memoizedState=[l,f===void 0?null:f],l},useContext:Ti,useEffect:kP,useImperativeHandle:function(l,f,p){p=p!=null?p.concat([l]):null,Jg(4194308,4,MP.bind(null,f,l),p)},useLayoutEffect:function(l,f){return Jg(4194308,4,l,f)},useInsertionEffect:function(l,f){Jg(4,2,l,f)},useMemo:function(l,f){var p=ia();f=f===void 0?null:f;var y=l();if(Bu){_i(!0);try{l()}finally{_i(!1)}}return p.memoizedState=[y,f],y},useReducer:function(l,f,p){var y=ia();if(p!==void 0){var S=p(f);if(Bu){_i(!0);try{p(f)}finally{_i(!1)}}}else S=f;return y.memoizedState=y.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},y.queue=l,l=l.dispatch=LW.bind(null,jt,l),[y.memoizedState,l]},useRef:function(l){var f=ia();return l={current:l},f.memoizedState=l},useState:function(l){l=Vb(l);var f=l.queue,p=HP.bind(null,jt,f);return f.dispatch=p,[l.memoizedState,p]},useDebugValue:Hb,useDeferredValue:function(l,f){var p=ia();return Gb(p,l,f)},useTransition:function(){var l=Vb(!1);return l=UP.bind(null,jt,l.queue,!0,!1),ia().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,p){var y=jt,S=ia();if(er){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),Ur===null)throw Error(n(349));(Wt&127)!==0||pP(y,f,p)}S.memoizedState=p;var N={value:p,getSnapshot:f};return S.queue=N,kP(gP.bind(null,y,N,l),[l]),y.flags|=2048,vd(9,{destroy:void 0},mP.bind(null,y,N,p,f),null),p},useId:function(){var l=ia(),f=Ur.identifierPrefix;if(er){var p=ko,y=Io;p=(y&~(1<<32-gt(y)-1)).toString(32)+p,f="_"+f+"R_"+p,p=qg++,0<p&&(f+="H"+p.toString(32)),f+="_"}else p=kW++,f="_"+f+"r_"+p.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:Kb,useFormState:AP,useActionState:AP,useOptimistic:function(l){var f=ia();f.memoizedState=f.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=Wb.bind(null,jt,!0,p),p.dispatch=f,[l,f]},useMemoCache:jb,useCacheRefresh:function(){return ia().memoizedState=FW.bind(null,jt)},useEffectEvent:function(l){var f=ia(),p={impl:l};return f.memoizedState=p,function(){if((xr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Yb={readContext:Ti,use:Wg,useCallback:FP,useContext:Ti,useEffect:$b,useImperativeHandle:DP,useInsertionEffect:RP,useLayoutEffect:OP,useMemo:LP,useReducer:Yg,useRef:IP,useState:function(){return Yg(hl)},useDebugValue:Hb,useDeferredValue:function(l,f){var p=Sn();return jP(p,Mr.memoizedState,l,f)},useTransition:function(){var l=Yg(hl)[0],f=Sn().memoizedState;return[typeof l=="boolean"?l:_0(l),f]},useSyncExternalStore:hP,useId:zP,useHostTransitionStatus:Kb,useFormState:SP,useActionState:SP,useOptimistic:function(l,f){var p=Sn();return xP(p,Mr,l,f)},useMemoCache:jb,useCacheRefresh:$P};Yb.useEffectEvent=PP;var WP={readContext:Ti,use:Wg,useCallback:FP,useContext:Ti,useEffect:$b,useImperativeHandle:DP,useInsertionEffect:RP,useLayoutEffect:OP,useMemo:LP,useReducer:Bb,useRef:IP,useState:function(){return Bb(hl)},useDebugValue:Hb,useDeferredValue:function(l,f){var p=Sn();return Mr===null?Gb(p,l,f):jP(p,Mr.memoizedState,l,f)},useTransition:function(){var l=Bb(hl)[0],f=Sn().memoizedState;return[typeof l=="boolean"?l:_0(l),f]},useSyncExternalStore:hP,useId:zP,useHostTransitionStatus:Kb,useFormState:NP,useActionState:NP,useOptimistic:function(l,f){var p=Sn();return Mr!==null?xP(p,Mr,l,f):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:jb,useCacheRefresh:$P};WP.useEffectEvent=PP;function Jb(l,f,p,y){f=l.memoizedState,p=p(y,f),p=p==null?f:h({},f,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Xb={enqueueSetState:function(l,f,p){l=l._reactInternals;var y=es(),S=dc(y);S.payload=f,p!=null&&(S.callback=p),f=hc(l,S,y),f!==null&&(Na(f,l,y),g0(f,l,y))},enqueueReplaceState:function(l,f,p){l=l._reactInternals;var y=es(),S=dc(y);S.tag=1,S.payload=f,p!=null&&(S.callback=p),f=hc(l,S,y),f!==null&&(Na(f,l,y),g0(f,l,y))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var p=es(),y=dc(p);y.tag=2,f!=null&&(y.callback=f),f=hc(l,y,p),f!==null&&(Na(f,l,p),g0(f,l,p))}};function YP(l,f,p,y,S,N,H){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,N,H):f.prototype&&f.prototype.isPureReactComponent?!l0(p,y)||!l0(S,N):!0}function JP(l,f,p,y){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,y),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,y),f.state!==l&&Xb.enqueueReplaceState(f,f.state,null)}function Vu(l,f){var p=f;if("ref"in f){p={};for(var y in f)y!=="ref"&&(p[y]=f[y])}if(l=l.defaultProps){p===f&&(p=h({},p));for(var S in l)p[S]===void 0&&(p[S]=l[S])}return p}function XP(l){kg(l)}function ZP(l){console.error(l)}function QP(l){kg(l)}function Qg(l,f){try{var p=l.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(y){setTimeout(function(){throw y})}}function eR(l,f,p){try{var y=l.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Zb(l,f,p){return p=dc(p),p.tag=3,p.payload={element:null},p.callback=function(){Qg(l,f)},p}function tR(l){return l=dc(l),l.tag=3,l}function rR(l,f,p,y){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var N=y.value;l.payload=function(){return S(N)},l.callback=function(){eR(f,p,y)}}var H=p.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(l.callback=function(){eR(f,p,y),typeof S!="function"&&(xc===null?xc=new Set([this]):xc.add(this));var J=y.stack;this.componentDidCatch(y.value,{componentStack:J!==null?J:""})})}function jW(l,f,p,y,S){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(f=p.alternate,f!==null&&cd(f,p,S,!0),p=Ja.current,p!==null){switch(p.tag){case 31:case 13:return bs===null?fv():p.alternate===null&&hn===0&&(hn=3),p.flags&=-257,p.flags|=65536,p.lanes=S,y===Bg?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([y]):f.add(y),Ew(l,y,S)),!1;case 22:return p.flags|=65536,y===Bg?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([y]):p.add(y)),Ew(l,y,S)),!1}throw Error(n(435,p.tag))}return Ew(l,y,S),fv(),!1}if(er)return f=Ja.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=S,y!==vb&&(l=Error(n(422),{cause:y}),f0(vs(l,p)))):(y!==vb&&(f=Error(n(423),{cause:y}),f0(vs(f,p))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,y=vs(y,p),S=Zb(l.stateNode,y,S),Nb(l,S),hn!==4&&(hn=2)),!1;var N=Error(n(520),{cause:y});if(N=vs(N,p),k0===null?k0=[N]:k0.push(N),hn!==4&&(hn=2),f===null)return!0;y=vs(y,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,l=S&-S,p.lanes|=l,l=Zb(p.stateNode,y,l),Nb(p,l),!1;case 1:if(f=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(xc===null||!xc.has(N))))return p.flags|=65536,S&=-S,p.lanes|=S,S=tR(S),rR(S,l,p,y),Nb(p,S),!1}p=p.return}while(p!==null);return!1}var Qb=Error(n(461)),Fn=!1;function Ai(l,f,p,y){f.child=l===null?sP(f,null,p,y):Uu(f,l.child,p,y)}function nR(l,f,p,y,S){p=p.render;var N=f.ref;if("ref"in y){var H={};for(var J in y)J!=="ref"&&(H[J]=y[J])}else H=y;return Du(f),y=Mb(l,f,p,H,N,S),J=Db(),l!==null&&!Fn?(Fb(l,f,S),pl(l,f,S)):(er&&J&&mb(f),f.flags|=1,Ai(l,f,y,S),f.child)}function iR(l,f,p,y,S){if(l===null){var N=p.type;return typeof N=="function"&&!db(N)&&N.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=N,aR(l,f,N,y,S)):(l=Mg(p.type,null,y,f,f.mode,S),l.ref=f.ref,l.return=f,f.child=l)}if(N=l.child,!ow(l,S)){var H=N.memoizedProps;if(p=p.compare,p=p!==null?p:l0,p(H,y)&&l.ref===f.ref)return pl(l,f,S)}return f.flags|=1,l=ll(N,y),l.ref=f.ref,l.return=f,f.child=l}function aR(l,f,p,y,S){if(l!==null){var N=l.memoizedProps;if(l0(N,y)&&l.ref===f.ref)if(Fn=!1,f.pendingProps=y=N,ow(l,S))(l.flags&131072)!==0&&(Fn=!0);else return f.lanes=l.lanes,pl(l,f,S)}return ew(l,f,p,y,S)}function sR(l,f,p,y){var S=y.children,N=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((f.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,l!==null){for(y=f.child=l.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~N}else y=0,f.child=null;return oR(l,f,N,p,y)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&jg(f,N!==null?N.cachePool:null),N!==null?cP(f,N):kb(),uP(f);else return y=f.lanes=536870912,oR(l,f,N!==null?N.baseLanes|p:p,p,y)}else N!==null?(jg(f,N.cachePool),cP(f,N),mc(),f.memoizedState=null):(l!==null&&jg(f,null),kb(),mc());return Ai(l,f,S,p),f.child}function E0(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function oR(l,f,p,y,S){var N=Tb();return N=N===null?null:{parent:Mn._currentValue,pool:N},f.memoizedState={baseLanes:p,cachePool:N},l!==null&&jg(f,null),kb(),uP(f),l!==null&&cd(l,f,y,!0),f.childLanes=S,null}function ev(l,f){return f=rv({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function lR(l,f,p){return Uu(f,l.child,null,p),l=ev(f,f.pendingProps),l.flags|=2,Xa(f),f.memoizedState=null,l}function UW(l,f,p){var y=f.pendingProps,S=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(er){if(y.mode==="hidden")return l=ev(f,y),f.lanes=536870912,E0(null,l);if(Rb(f),(l=Kr)?(l=_O(l,_s),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:oc!==null?{id:Io,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},p=Gk(l),p.return=f,f.child=p,Ei=f,Kr=null)):l=null,l===null)throw cc(f);return f.lanes=536870912,null}return ev(f,y)}var N=l.memoizedState;if(N!==null){var H=N.dehydrated;if(Rb(f),S)if(f.flags&256)f.flags&=-257,f=lR(l,f,p);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(n(558));else if(Fn||cd(l,f,p,!1),S=(p&l.childLanes)!==0,Fn||S){if(y=Ur,y!==null&&(H=Fi(y,p),H!==0&&H!==N.retryLane))throw N.retryLane=H,Pu(l,H),Na(y,l,H),Qb;fv(),f=lR(l,f,p)}else l=N.treeContext,Kr=ws(H.nextSibling),Ei=f,er=!0,lc=null,_s=!1,l!==null&&Wk(f,l),f=ev(f,y),f.flags|=4096;return f}return l=ll(l.child,{mode:y.mode,children:y.children}),l.ref=f.ref,f.child=l,l.return=f,l}function tv(l,f){var p=f.ref;if(p===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(f.flags|=4194816)}}function ew(l,f,p,y,S){return Du(f),p=Mb(l,f,p,y,void 0,S),y=Db(),l!==null&&!Fn?(Fb(l,f,S),pl(l,f,S)):(er&&y&&mb(f),f.flags|=1,Ai(l,f,p,S),f.child)}function cR(l,f,p,y,S,N){return Du(f),f.updateQueue=null,p=dP(f,y,p,S),fP(l),y=Db(),l!==null&&!Fn?(Fb(l,f,N),pl(l,f,N)):(er&&y&&mb(f),f.flags|=1,Ai(l,f,p,N),f.child)}function uR(l,f,p,y,S){if(Du(f),f.stateNode===null){var N=ad,H=p.contextType;typeof H=="object"&&H!==null&&(N=Ti(H)),N=new p(y,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Xb,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=y,N.state=f.memoizedState,N.refs={},Sb(f),H=p.contextType,N.context=typeof H=="object"&&H!==null?Ti(H):ad,N.state=f.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(Jb(f,p,H,y),N.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(H=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),H!==N.state&&Xb.enqueueReplaceState(N,N.state,null),y0(f,y,N,S),v0(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),y=!0}else if(l===null){N=f.stateNode;var J=f.memoizedProps,he=Vu(p,J);N.props=he;var Ce=N.context,De=p.contextType;H=ad,typeof De=="object"&&De!==null&&(H=Ti(De));var Ve=p.getDerivedStateFromProps;De=typeof Ve=="function"||typeof N.getSnapshotBeforeUpdate=="function",J=f.pendingProps!==J,De||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(J||Ce!==H)&&JP(f,N,y,H),fc=!1;var Ie=f.memoizedState;N.state=Ie,y0(f,y,N,S),v0(),Ce=f.memoizedState,J||Ie!==Ce||fc?(typeof Ve=="function"&&(Jb(f,p,Ve,y),Ce=f.memoizedState),(he=fc||YP(f,p,he,y,Ie,Ce,H))?(De||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=y,f.memoizedState=Ce),N.props=y,N.state=Ce,N.context=H,y=he):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),y=!1)}else{N=f.stateNode,Cb(l,f),H=f.memoizedProps,De=Vu(p,H),N.props=De,Ve=f.pendingProps,Ie=N.context,Ce=p.contextType,he=ad,typeof Ce=="object"&&Ce!==null&&(he=Ti(Ce)),J=p.getDerivedStateFromProps,(Ce=typeof J=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(H!==Ve||Ie!==he)&&JP(f,N,y,he),fc=!1,Ie=f.memoizedState,N.state=Ie,y0(f,y,N,S),v0();var Re=f.memoizedState;H!==Ve||Ie!==Re||fc||l!==null&&l.dependencies!==null&&Fg(l.dependencies)?(typeof J=="function"&&(Jb(f,p,J,y),Re=f.memoizedState),(De=fc||YP(f,p,De,y,Ie,Re,he)||l!==null&&l.dependencies!==null&&Fg(l.dependencies))?(Ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,Re,he),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,Re,he)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||H===l.memoizedProps&&Ie===l.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&Ie===l.memoizedState||(f.flags|=1024),f.memoizedProps=y,f.memoizedState=Re),N.props=y,N.state=Re,N.context=he,y=De):(typeof N.componentDidUpdate!="function"||H===l.memoizedProps&&Ie===l.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&Ie===l.memoizedState||(f.flags|=1024),y=!1)}return N=y,tv(l,f),y=(f.flags&128)!==0,N||y?(N=f.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,l!==null&&y?(f.child=Uu(f,l.child,null,S),f.child=Uu(f,null,p,S)):Ai(l,f,p,S),f.memoizedState=N.state,l=f.child):l=pl(l,f,S),l}function fR(l,f,p,y){return Ou(),f.flags|=256,Ai(l,f,p,y),f.child}var tw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rw(l){return{baseLanes:l,cachePool:eP()}}function nw(l,f,p){return l=l!==null?l.childLanes&~p:0,f&&(l|=Qa),l}function dR(l,f,p){var y=f.pendingProps,S=!1,N=(f.flags&128)!==0,H;if((H=N)||(H=l!==null&&l.memoizedState===null?!1:(An.current&2)!==0),H&&(S=!0,f.flags&=-129),H=(f.flags&32)!==0,f.flags&=-33,l===null){if(er){if(S?pc(f):mc(),(l=Kr)?(l=_O(l,_s),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:oc!==null?{id:Io,overflow:ko}:null,retryLane:536870912,hydrationErrors:null},p=Gk(l),p.return=f,f.child=p,Ei=f,Kr=null)):l=null,l===null)throw cc(f);return Uw(l)?f.lanes=32:f.lanes=536870912,null}var J=y.children;return y=y.fallback,S?(mc(),S=f.mode,J=rv({mode:"hidden",children:J},S),y=Ru(y,S,p,null),J.return=f,y.return=f,J.sibling=y,f.child=J,y=f.child,y.memoizedState=rw(p),y.childLanes=nw(l,H,p),f.memoizedState=tw,E0(null,y)):(pc(f),iw(f,J))}var he=l.memoizedState;if(he!==null&&(J=he.dehydrated,J!==null)){if(N)f.flags&256?(pc(f),f.flags&=-257,f=aw(l,f,p)):f.memoizedState!==null?(mc(),f.child=l.child,f.flags|=128,f=null):(mc(),J=y.fallback,S=f.mode,y=rv({mode:"visible",children:y.children},S),J=Ru(J,S,p,null),J.flags|=2,y.return=f,J.return=f,y.sibling=J,f.child=y,Uu(f,l.child,null,p),y=f.child,y.memoizedState=rw(p),y.childLanes=nw(l,H,p),f.memoizedState=tw,f=E0(null,y));else if(pc(f),Uw(J)){if(H=J.nextSibling&&J.nextSibling.dataset,H)var Ce=H.dgst;H=Ce,y=Error(n(419)),y.stack="",y.digest=H,f0({value:y,source:null,stack:null}),f=aw(l,f,p)}else if(Fn||cd(l,f,p,!1),H=(p&l.childLanes)!==0,Fn||H){if(H=Ur,H!==null&&(y=Fi(H,p),y!==0&&y!==he.retryLane))throw he.retryLane=y,Pu(l,y),Na(H,l,y),Qb;jw(J)||fv(),f=aw(l,f,p)}else jw(J)?(f.flags|=192,f.child=l.child,f=null):(l=he.treeContext,Kr=ws(J.nextSibling),Ei=f,er=!0,lc=null,_s=!1,l!==null&&Wk(f,l),f=iw(f,y.children),f.flags|=4096);return f}return S?(mc(),J=y.fallback,S=f.mode,he=l.child,Ce=he.sibling,y=ll(he,{mode:"hidden",children:y.children}),y.subtreeFlags=he.subtreeFlags&65011712,Ce!==null?J=ll(Ce,J):(J=Ru(J,S,p,null),J.flags|=2),J.return=f,y.return=f,y.sibling=J,f.child=y,E0(null,y),y=f.child,J=l.child.memoizedState,J===null?J=rw(p):(S=J.cachePool,S!==null?(he=Mn._currentValue,S=S.parent!==he?{parent:he,pool:he}:S):S=eP(),J={baseLanes:J.baseLanes|p,cachePool:S}),y.memoizedState=J,y.childLanes=nw(l,H,p),f.memoizedState=tw,E0(l.child,y)):(pc(f),p=l.child,l=p.sibling,p=ll(p,{mode:"visible",children:y.children}),p.return=f,p.sibling=null,l!==null&&(H=f.deletions,H===null?(f.deletions=[l],f.flags|=16):H.push(l)),f.child=p,f.memoizedState=null,p)}function iw(l,f){return f=rv({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function rv(l,f){return l=Ya(22,l,null,f),l.lanes=0,l}function aw(l,f,p){return Uu(f,l.child,null,p),l=iw(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function hR(l,f,p){l.lanes|=f;var y=l.alternate;y!==null&&(y.lanes|=f),_b(l.return,f,p)}function sw(l,f,p,y,S,N){var H=l.memoizedState;H===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:S,treeForkCount:N}:(H.isBackwards=f,H.rendering=null,H.renderingStartTime=0,H.last=y,H.tail=p,H.tailMode=S,H.treeForkCount=N)}function pR(l,f,p){var y=f.pendingProps,S=y.revealOrder,N=y.tail;y=y.children;var H=An.current,J=(H&2)!==0;if(J?(H=H&1|2,f.flags|=128):H&=1,te(An,H),Ai(l,f,y,p),y=er?u0:0,!J&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&hR(l,p,f);else if(l.tag===19)hR(l,p,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(p=f.child,S=null;p!==null;)l=p.alternate,l!==null&&Hg(l)===null&&(S=p),p=p.sibling;p=S,p===null?(S=f.child,f.child=null):(S=p.sibling,p.sibling=null),sw(f,!1,S,p,N,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=f.child,f.child=null;S!==null;){if(l=S.alternate,l!==null&&Hg(l)===null){f.child=S;break}l=S.sibling,S.sibling=p,p=S,S=l}sw(f,!0,p,null,N,y);break;case"together":sw(f,!1,null,null,void 0,y);break;default:f.memoizedState=null}return f.child}function pl(l,f,p){if(l!==null&&(f.dependencies=l.dependencies),yc|=f.lanes,(p&f.childLanes)===0)if(l!==null){if(cd(l,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(n(153));if(f.child!==null){for(l=f.child,p=ll(l,l.pendingProps),f.child=p,p.return=f;l.sibling!==null;)l=l.sibling,p=p.sibling=ll(l,l.pendingProps),p.return=f;p.sibling=null}return f.child}function ow(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Fg(l)))}function BW(l,f,p){switch(f.tag){case 3:ke(f,f.stateNode.containerInfo),uc(f,Mn,l.memoizedState.cache),Ou();break;case 27:case 5:ve(f);break;case 4:ke(f,f.stateNode.containerInfo);break;case 10:uc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Rb(f),null;break;case 13:var y=f.memoizedState;if(y!==null)return y.dehydrated!==null?(pc(f),f.flags|=128,null):(p&f.child.childLanes)!==0?dR(l,f,p):(pc(f),l=pl(l,f,p),l!==null?l.sibling:null);pc(f);break;case 19:var S=(l.flags&128)!==0;if(y=(p&f.childLanes)!==0,y||(cd(l,f,p,!1),y=(p&f.childLanes)!==0),S){if(y)return pR(l,f,p);f.flags|=128}if(S=f.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),te(An,An.current),y)break;return null;case 22:return f.lanes=0,sR(l,f,p,f.pendingProps);case 24:uc(f,Mn,l.memoizedState.cache)}return pl(l,f,p)}function mR(l,f,p){if(l!==null)if(l.memoizedProps!==f.pendingProps)Fn=!0;else{if(!ow(l,p)&&(f.flags&128)===0)return Fn=!1,BW(l,f,p);Fn=(l.flags&131072)!==0}else Fn=!1,er&&(f.flags&1048576)!==0&&Kk(f,u0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var y=f.pendingProps;if(l=Lu(f.elementType),f.type=l,typeof l=="function")db(l)?(y=Vu(l,y),f.tag=1,f=uR(null,f,l,y,p)):(f.tag=0,f=ew(null,f,l,y,p));else{if(l!=null){var S=l.$$typeof;if(S===D){f.tag=11,f=nR(null,f,l,y,p);break e}else if(S===I){f.tag=14,f=iR(null,f,l,y,p);break e}}throw f=de(l)||l,Error(n(306,f,""))}}return f;case 0:return ew(l,f,f.type,f.pendingProps,p);case 1:return y=f.type,S=Vu(y,f.pendingProps),uR(l,f,y,S,p);case 3:e:{if(ke(f,f.stateNode.containerInfo),l===null)throw Error(n(387));y=f.pendingProps;var N=f.memoizedState;S=N.element,Cb(l,f),y0(f,y,null,p);var H=f.memoizedState;if(y=H.cache,uc(f,Mn,y),y!==N.cache&&bb(f,[Mn],p,!0),v0(),y=H.element,N.isDehydrated)if(N={element:y,isDehydrated:!1,cache:H.cache},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){f=fR(l,f,y,p);break e}else if(y!==S){S=vs(Error(n(424)),f),f0(S),f=fR(l,f,y,p);break e}else for(l=f.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,Kr=ws(l.firstChild),Ei=f,er=!0,lc=null,_s=!0,p=sP(f,null,y,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ou(),y===S){f=pl(l,f,p);break e}Ai(l,f,y,p)}f=f.child}return f;case 26:return tv(l,f),l===null?(p=SO(f.type,null,f.pendingProps,null))?f.memoizedState=p:er||(p=f.type,l=f.pendingProps,y=yv(pe.current).createElement(p),y[re]=f,y[ne]=l,Si(y,p,l),lt(y),f.stateNode=y):f.memoizedState=SO(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return ve(f),l===null&&er&&(y=f.stateNode=EO(f.type,f.pendingProps,pe.current),Ei=f,_s=!0,S=Kr,Ec(f.type)?(Bw=S,Kr=ws(y.firstChild)):Kr=S),Ai(l,f,f.pendingProps.children,p),tv(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&er&&((S=y=Kr)&&(y=gY(y,f.type,f.pendingProps,_s),y!==null?(f.stateNode=y,Ei=f,Kr=ws(y.firstChild),_s=!1,S=!0):S=!1),S||cc(f)),ve(f),S=f.type,N=f.pendingProps,H=l!==null?l.memoizedProps:null,y=N.children,Dw(S,N)?y=null:H!==null&&Dw(S,H)&&(f.flags|=32),f.memoizedState!==null&&(S=Mb(l,f,PW,null,null,p),j0._currentValue=S),tv(l,f),Ai(l,f,y,p),f.child;case 6:return l===null&&er&&((l=p=Kr)&&(p=vY(p,f.pendingProps,_s),p!==null?(f.stateNode=p,Ei=f,Kr=null,l=!0):l=!1),l||cc(f)),null;case 13:return dR(l,f,p);case 4:return ke(f,f.stateNode.containerInfo),y=f.pendingProps,l===null?f.child=Uu(f,null,y,p):Ai(l,f,y,p),f.child;case 11:return nR(l,f,f.type,f.pendingProps,p);case 7:return Ai(l,f,f.pendingProps,p),f.child;case 8:return Ai(l,f,f.pendingProps.children,p),f.child;case 12:return Ai(l,f,f.pendingProps.children,p),f.child;case 10:return y=f.pendingProps,uc(f,f.type,y.value),Ai(l,f,y.children,p),f.child;case 9:return S=f.type._context,y=f.pendingProps.children,Du(f),S=Ti(S),y=y(S),f.flags|=1,Ai(l,f,y,p),f.child;case 14:return iR(l,f,f.type,f.pendingProps,p);case 15:return aR(l,f,f.type,f.pendingProps,p);case 19:return pR(l,f,p);case 31:return UW(l,f,p);case 22:return sR(l,f,p,f.pendingProps);case 24:return Du(f),y=Ti(Mn),l===null?(S=Tb(),S===null&&(S=Ur,N=wb(),S.pooledCache=N,N.refCount++,N!==null&&(S.pooledCacheLanes|=p),S=N),f.memoizedState={parent:y,cache:S},Sb(f),uc(f,Mn,S)):((l.lanes&p)!==0&&(Cb(l,f),y0(f,null,null,p),v0()),S=l.memoizedState,N=f.memoizedState,S.parent!==y?(S={parent:y,cache:y},f.memoizedState=S,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=S),uc(f,Mn,y)):(y=N.cache,uc(f,Mn,y),y!==S.cache&&bb(f,[Mn],p,!0))),Ai(l,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function ml(l){l.flags|=4}function lw(l,f,p,y,S){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(zR())l.flags|=8192;else throw ju=Bg,Ab}else l.flags&=-16777217}function gR(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!PO(f))if(zR())l.flags|=8192;else throw ju=Bg,Ab}function nv(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?bo():536870912,l.lanes|=f,bd|=f)}function T0(l,f){if(!er)switch(l.tailMode){case"hidden":f=l.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Wr(l){var f=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(f)for(var S=l.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)p|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=y,l.childLanes=p,f}function VW(l,f,p){var y=f.pendingProps;switch(gb(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(f),null;case 1:return Wr(f),null;case 3:return p=f.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),fl(Mn),le(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(ld(f)?ml(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,yb())),Wr(f),null;case 26:var S=f.type,N=f.memoizedState;return l===null?(ml(f),N!==null?(Wr(f),gR(f,N)):(Wr(f),lw(f,S,null,y,p))):N?N!==l.memoizedState?(ml(f),Wr(f),gR(f,N)):(Wr(f),f.flags&=-16777217):(l=l.memoizedProps,l!==y&&ml(f),Wr(f),lw(f,S,l,y,p)),null;case 27:if(Fe(f),p=pe.current,S=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==y&&ml(f);else{if(!y){if(f.stateNode===null)throw Error(n(166));return Wr(f),null}l=Z.current,ld(f)?Yk(f):(l=EO(S,y,p),f.stateNode=l,ml(f))}return Wr(f),null;case 5:if(Fe(f),S=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==y&&ml(f);else{if(!y){if(f.stateNode===null)throw Error(n(166));return Wr(f),null}if(N=Z.current,ld(f))Yk(f);else{var H=yv(pe.current);switch(N){case 1:N=H.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:N=H.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":N=H.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":N=H.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":N=H.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof y.is=="string"?H.createElement("select",{is:y.is}):H.createElement("select"),y.multiple?N.multiple=!0:y.size&&(N.size=y.size);break;default:N=typeof y.is=="string"?H.createElement(S,{is:y.is}):H.createElement(S)}}N[re]=f,N[ne]=y;e:for(H=f.child;H!==null;){if(H.tag===5||H.tag===6)N.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===f)break e;for(;H.sibling===null;){if(H.return===null||H.return===f)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}f.stateNode=N;e:switch(Si(N,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&ml(f)}}return Wr(f),lw(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,p),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==y&&ml(f);else{if(typeof y!="string"&&f.stateNode===null)throw Error(n(166));if(l=pe.current,ld(f)){if(l=f.stateNode,p=f.memoizedProps,y=null,S=Ei,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}l[re]=f,l=!!(l.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||dO(l.nodeValue,p)),l||cc(f,!0)}else l=yv(l).createTextNode(y),l[re]=f,f.stateNode=l}return Wr(f),null;case 31:if(p=f.memoizedState,l===null||l.memoizedState!==null){if(y=ld(f),p!==null){if(l===null){if(!y)throw Error(n(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[re]=f}else Ou(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Wr(f),l=!1}else p=yb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return f.flags&256?(Xa(f),f):(Xa(f),null);if((f.flags&128)!==0)throw Error(n(558))}return Wr(f),null;case 13:if(y=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=ld(f),y!==null&&y.dehydrated!==null){if(l===null){if(!S)throw Error(n(318));if(S=f.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[re]=f}else Ou(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Wr(f),S=!1}else S=yb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return f.flags&256?(Xa(f),f):(Xa(f),null)}return Xa(f),(f.flags&128)!==0?(f.lanes=p,f):(p=y!==null,l=l!==null&&l.memoizedState!==null,p&&(y=f.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),N=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(N=y.memoizedState.cachePool.pool),N!==S&&(y.flags|=2048)),p!==l&&p&&(f.child.flags|=8192),nv(f,f.updateQueue),Wr(f),null);case 4:return le(),l===null&&kw(f.stateNode.containerInfo),Wr(f),null;case 10:return fl(f.type),Wr(f),null;case 19:if(z(An),y=f.memoizedState,y===null)return Wr(f),null;if(S=(f.flags&128)!==0,N=y.rendering,N===null)if(S)T0(y,!1);else{if(hn!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(N=Hg(l),N!==null){for(f.flags|=128,T0(y,!1),l=N.updateQueue,f.updateQueue=l,nv(f,l),f.subtreeFlags=0,l=p,p=f.child;p!==null;)Hk(p,l),p=p.sibling;return te(An,An.current&1|2),er&&cl(f,y.treeForkCount),f.child}l=l.sibling}y.tail!==null&&bt()>lv&&(f.flags|=128,S=!0,T0(y,!1),f.lanes=4194304)}else{if(!S)if(l=Hg(N),l!==null){if(f.flags|=128,S=!0,l=l.updateQueue,f.updateQueue=l,nv(f,l),T0(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!er)return Wr(f),null}else 2*bt()-y.renderingStartTime>lv&&p!==536870912&&(f.flags|=128,S=!0,T0(y,!1),f.lanes=4194304);y.isBackwards?(N.sibling=f.child,f.child=N):(l=y.last,l!==null?l.sibling=N:f.child=N,y.last=N)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=bt(),l.sibling=null,p=An.current,te(An,S?p&1|2:p&1),er&&cl(f,y.treeForkCount),l):(Wr(f),null);case 22:case 23:return Xa(f),Pb(),y=f.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(f.flags|=8192):y&&(f.flags|=8192),y?(p&536870912)!==0&&(f.flags&128)===0&&(Wr(f),f.subtreeFlags&6&&(f.flags|=8192)):Wr(f),p=f.updateQueue,p!==null&&nv(f,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),y=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048),l!==null&&z(Fu),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),fl(Mn),Wr(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function zW(l,f){switch(gb(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return fl(Mn),le(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return Fe(f),null;case 31:if(f.memoizedState!==null){if(Xa(f),f.alternate===null)throw Error(n(340));Ou()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(Xa(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Ou()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return z(An),null;case 4:return le(),null;case 10:return fl(f.type),null;case 22:case 23:return Xa(f),Pb(),l!==null&&z(Fu),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return fl(Mn),null;case 25:return null;default:return null}}function vR(l,f){switch(gb(f),f.tag){case 3:fl(Mn),le();break;case 26:case 27:case 5:Fe(f);break;case 4:le();break;case 31:f.memoizedState!==null&&Xa(f);break;case 13:Xa(f);break;case 19:z(An);break;case 10:fl(f.type);break;case 22:case 23:Xa(f),Pb(),l!==null&&z(Fu);break;case 24:fl(Mn)}}function A0(l,f){try{var p=f.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var S=y.next;p=S;do{if((p.tag&l)===l){y=void 0;var N=p.create,H=p.inst;y=N(),H.destroy=y}p=p.next}while(p!==S)}}catch(J){Nr(f,f.return,J)}}function gc(l,f,p){try{var y=f.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var N=S.next;y=N;do{if((y.tag&l)===l){var H=y.inst,J=H.destroy;if(J!==void 0){H.destroy=void 0,S=f;var he=p,Ce=J;try{Ce()}catch(De){Nr(S,he,De)}}}y=y.next}while(y!==N)}}catch(De){Nr(f,f.return,De)}}function yR(l){var f=l.updateQueue;if(f!==null){var p=l.stateNode;try{lP(f,p)}catch(y){Nr(l,l.return,y)}}}function xR(l,f,p){p.props=Vu(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(y){Nr(l,f,y)}}function S0(l,f){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof p=="function"?l.refCleanup=p(y):p.current=y}}catch(S){Nr(l,f,S)}}function Po(l,f){var p=l.ref,y=l.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(S){Nr(l,f,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){Nr(l,f,S)}else p.current=null}function _R(l){var f=l.type,p=l.memoizedProps,y=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(S){Nr(l,l.return,S)}}function cw(l,f,p){try{var y=l.stateNode;uY(y,l.type,p,f),y[ne]=f}catch(S){Nr(l,l.return,S)}}function bR(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Ec(l.type)||l.tag===4}function uw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||bR(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Ec(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function fw(l,f,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(l),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=Ea));else if(y!==4&&(y===27&&Ec(l.type)&&(p=l.stateNode,f=null),l=l.child,l!==null))for(fw(l,f,p),l=l.sibling;l!==null;)fw(l,f,p),l=l.sibling}function iv(l,f,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,f?p.insertBefore(l,f):p.appendChild(l);else if(y!==4&&(y===27&&Ec(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(iv(l,f,p),l=l.sibling;l!==null;)iv(l,f,p),l=l.sibling}function wR(l){var f=l.stateNode,p=l.memoizedProps;try{for(var y=l.type,S=f.attributes;S.length;)f.removeAttributeNode(S[0]);Si(f,y,p),f[re]=l,f[ne]=p}catch(N){Nr(l,l.return,N)}}var gl=!1,Ln=!1,dw=!1,ER=typeof WeakSet=="function"?WeakSet:Set,li=null;function $W(l,f){if(l=l.containerInfo,Ow=Av,l=Dk(l),ab(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var S=y.anchorOffset,N=y.focusNode;y=y.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var H=0,J=-1,he=-1,Ce=0,De=0,Ve=l,Ie=null;t:for(;;){for(var Re;Ve!==p||S!==0&&Ve.nodeType!==3||(J=H+S),Ve!==N||y!==0&&Ve.nodeType!==3||(he=H+y),Ve.nodeType===3&&(H+=Ve.nodeValue.length),(Re=Ve.firstChild)!==null;)Ie=Ve,Ve=Re;for(;;){if(Ve===l)break t;if(Ie===p&&++Ce===S&&(J=H),Ie===N&&++De===y&&(he=H),(Re=Ve.nextSibling)!==null)break;Ve=Ie,Ie=Ve.parentNode}Ve=Re}p=J===-1||he===-1?null:{start:J,end:he}}else p=null}p=p||{start:0,end:0}}else p=null;for(Mw={focusedElem:l,selectionRange:p},Av=!1,li=f;li!==null;)if(f=li,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,li=l;else for(;li!==null;){switch(f=li,N=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)S=l[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,p=f,S=N.memoizedProps,N=N.memoizedState,y=p.stateNode;try{var ut=Vu(p.type,S);l=y.getSnapshotBeforeUpdate(ut,N),y.__reactInternalSnapshotBeforeUpdate=l}catch(wt){Nr(p,p.return,wt)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,p=l.nodeType,p===9)Lw(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Lw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=f.sibling,l!==null){l.return=f.return,li=l;break}li=f.return}}function TR(l,f,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:yl(l,p),y&4&&A0(5,p);break;case 1:if(yl(l,p),y&4)if(l=p.stateNode,f===null)try{l.componentDidMount()}catch(H){Nr(p,p.return,H)}else{var S=Vu(p.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(S,f,l.__reactInternalSnapshotBeforeUpdate)}catch(H){Nr(p,p.return,H)}}y&64&&yR(p),y&512&&S0(p,p.return);break;case 3:if(yl(l,p),y&64&&(l=p.updateQueue,l!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{lP(l,f)}catch(H){Nr(p,p.return,H)}}break;case 27:f===null&&y&4&&wR(p);case 26:case 5:yl(l,p),f===null&&y&4&&_R(p),y&512&&S0(p,p.return);break;case 12:yl(l,p);break;case 31:yl(l,p),y&4&&CR(l,p);break;case 13:yl(l,p),y&4&&NR(l,p),y&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=ZW.bind(null,p),yY(l,p))));break;case 22:if(y=p.memoizedState!==null||gl,!y){f=f!==null&&f.memoizedState!==null||Ln,S=gl;var N=Ln;gl=y,(Ln=f)&&!N?xl(l,p,(p.subtreeFlags&8772)!==0):yl(l,p),gl=S,Ln=N}break;case 30:break;default:yl(l,p)}}function AR(l){var f=l.alternate;f!==null&&(l.alternate=null,AR(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&qe(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var en=null,Ta=!1;function vl(l,f,p){for(p=p.child;p!==null;)SR(l,f,p),p=p.sibling}function SR(l,f,p){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Vt,p)}catch{}switch(p.tag){case 26:Ln||Po(p,f),vl(l,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ln||Po(p,f);var y=en,S=Ta;Ec(p.type)&&(en=p.stateNode,Ta=!1),vl(l,f,p),D0(p.stateNode),en=y,Ta=S;break;case 5:Ln||Po(p,f);case 6:if(y=en,S=Ta,en=null,vl(l,f,p),en=y,Ta=S,en!==null)if(Ta)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(p.stateNode)}catch(N){Nr(p,f,N)}else try{en.removeChild(p.stateNode)}catch(N){Nr(p,f,N)}break;case 18:en!==null&&(Ta?(l=en,yO(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Id(l)):yO(en,p.stateNode));break;case 4:y=en,S=Ta,en=p.stateNode.containerInfo,Ta=!0,vl(l,f,p),en=y,Ta=S;break;case 0:case 11:case 14:case 15:gc(2,p,f),Ln||gc(4,p,f),vl(l,f,p);break;case 1:Ln||(Po(p,f),y=p.stateNode,typeof y.componentWillUnmount=="function"&&xR(p,f,y)),vl(l,f,p);break;case 21:vl(l,f,p);break;case 22:Ln=(y=Ln)||p.memoizedState!==null,vl(l,f,p),Ln=y;break;default:vl(l,f,p)}}function CR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Id(l)}catch(p){Nr(f,f.return,p)}}}function NR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Id(l)}catch(p){Nr(f,f.return,p)}}function HW(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new ER),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new ER),f;default:throw Error(n(435,l.tag))}}function av(l,f){var p=HW(l);f.forEach(function(y){if(!p.has(y)){p.add(y);var S=QW.bind(null,l,y);y.then(S,S)}})}function Aa(l,f){var p=f.deletions;if(p!==null)for(var y=0;y<p.length;y++){var S=p[y],N=l,H=f,J=H;e:for(;J!==null;){switch(J.tag){case 27:if(Ec(J.type)){en=J.stateNode,Ta=!1;break e}break;case 5:en=J.stateNode,Ta=!1;break e;case 3:case 4:en=J.stateNode.containerInfo,Ta=!0;break e}J=J.return}if(en===null)throw Error(n(160));SR(N,H,S),en=null,Ta=!1,N=S.alternate,N!==null&&(N.return=null),S.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)IR(f,l),f=f.sibling}var Ws=null;function IR(l,f){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Aa(f,l),Sa(l),y&4&&(gc(3,l,l.return),A0(3,l),gc(5,l,l.return));break;case 1:Aa(f,l),Sa(l),y&512&&(Ln||p===null||Po(p,p.return)),y&64&&gl&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var S=Ws;if(Aa(f,l),Sa(l),y&512&&(Ln||p===null||Po(p,p.return)),y&4){var N=p!==null?p.memoizedState:null;if(y=l.memoizedState,p===null)if(y===null)if(l.stateNode===null){e:{y=l.type,p=l.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":N=S.getElementsByTagName("title")[0],(!N||N[Se]||N[re]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=S.createElement(y),S.head.insertBefore(N,S.querySelector("head > title"))),Si(N,y,p),N[re]=l,lt(N),y=N;break e;case"link":var H=IO("link","href",S).get(y+(p.href||""));if(H){for(var J=0;J<H.length;J++)if(N=H[J],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){H.splice(J,1);break t}}N=S.createElement(y),Si(N,y,p),S.head.appendChild(N);break;case"meta":if(H=IO("meta","content",S).get(y+(p.content||""))){for(J=0;J<H.length;J++)if(N=H[J],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){H.splice(J,1);break t}}N=S.createElement(y),Si(N,y,p),S.head.appendChild(N);break;default:throw Error(n(468,y))}N[re]=l,lt(N),y=N}l.stateNode=y}else kO(S,l.type,l.stateNode);else l.stateNode=NO(S,y,l.memoizedProps);else N!==y?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,y===null?kO(S,l.type,l.stateNode):NO(S,y,l.memoizedProps)):y===null&&l.stateNode!==null&&cw(l,l.memoizedProps,p.memoizedProps)}break;case 27:Aa(f,l),Sa(l),y&512&&(Ln||p===null||Po(p,p.return)),p!==null&&y&4&&cw(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Aa(f,l),Sa(l),y&512&&(Ln||p===null||Po(p,p.return)),l.flags&32){S=l.stateNode;try{Ct(S,"")}catch(ut){Nr(l,l.return,ut)}}y&4&&l.stateNode!=null&&(S=l.memoizedProps,cw(l,S,p!==null?p.memoizedProps:S)),y&1024&&(dw=!0);break;case 6:if(Aa(f,l),Sa(l),y&4){if(l.stateNode===null)throw Error(n(162));y=l.memoizedProps,p=l.stateNode;try{p.nodeValue=y}catch(ut){Nr(l,l.return,ut)}}break;case 3:if(bv=null,S=Ws,Ws=xv(f.containerInfo),Aa(f,l),Ws=S,Sa(l),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Id(f.containerInfo)}catch(ut){Nr(l,l.return,ut)}dw&&(dw=!1,kR(l));break;case 4:y=Ws,Ws=xv(l.stateNode.containerInfo),Aa(f,l),Sa(l),Ws=y;break;case 12:Aa(f,l),Sa(l);break;case 31:Aa(f,l),Sa(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,av(l,y)));break;case 13:Aa(f,l),Sa(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(ov=bt()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,av(l,y)));break;case 22:S=l.memoizedState!==null;var he=p!==null&&p.memoizedState!==null,Ce=gl,De=Ln;if(gl=Ce||S,Ln=De||he,Aa(f,l),Ln=De,gl=Ce,Sa(l),y&8192)e:for(f=l.stateNode,f._visibility=S?f._visibility&-2:f._visibility|1,S&&(p===null||he||gl||Ln||zu(l)),p=null,f=l;;){if(f.tag===5||f.tag===26){if(p===null){he=p=f;try{if(N=he.stateNode,S)H=N.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{J=he.stateNode;var Ve=he.memoizedProps.style,Ie=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;J.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(ut){Nr(he,he.return,ut)}}}else if(f.tag===6){if(p===null){he=f;try{he.stateNode.nodeValue=S?"":he.memoizedProps}catch(ut){Nr(he,he.return,ut)}}}else if(f.tag===18){if(p===null){he=f;try{var Re=he.stateNode;S?xO(Re,!0):xO(he.stateNode,!1)}catch(ut){Nr(he,he.return,ut)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}y&4&&(y=l.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,av(l,p))));break;case 19:Aa(f,l),Sa(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,av(l,y)));break;case 30:break;case 21:break;default:Aa(f,l),Sa(l)}}function Sa(l){var f=l.flags;if(f&2){try{for(var p,y=l.return;y!==null;){if(bR(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var S=p.stateNode,N=uw(l);iv(l,N,S);break;case 5:var H=p.stateNode;p.flags&32&&(Ct(H,""),p.flags&=-33);var J=uw(l);iv(l,J,H);break;case 3:case 4:var he=p.stateNode.containerInfo,Ce=uw(l);fw(l,Ce,he);break;default:throw Error(n(161))}}catch(De){Nr(l,l.return,De)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function kR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;kR(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function yl(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)TR(l,f.alternate,f),f=f.sibling}function zu(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:gc(4,f,f.return),zu(f);break;case 1:Po(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&xR(f,f.return,p),zu(f);break;case 27:D0(f.stateNode);case 26:case 5:Po(f,f.return),zu(f);break;case 22:f.memoizedState===null&&zu(f);break;case 30:zu(f);break;default:zu(f)}l=l.sibling}}function xl(l,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var y=f.alternate,S=l,N=f,H=N.flags;switch(N.tag){case 0:case 11:case 15:xl(S,N,p),A0(4,N);break;case 1:if(xl(S,N,p),y=N,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ce){Nr(y,y.return,Ce)}if(y=N,S=y.updateQueue,S!==null){var J=y.stateNode;try{var he=S.shared.hiddenCallbacks;if(he!==null)for(S.shared.hiddenCallbacks=null,S=0;S<he.length;S++)oP(he[S],J)}catch(Ce){Nr(y,y.return,Ce)}}p&&H&64&&yR(N),S0(N,N.return);break;case 27:wR(N);case 26:case 5:xl(S,N,p),p&&y===null&&H&4&&_R(N),S0(N,N.return);break;case 12:xl(S,N,p);break;case 31:xl(S,N,p),p&&H&4&&CR(S,N);break;case 13:xl(S,N,p),p&&H&4&&NR(S,N);break;case 22:N.memoizedState===null&&xl(S,N,p),S0(N,N.return);break;case 30:break;default:xl(S,N,p)}f=f.sibling}}function hw(l,f){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&d0(p))}function pw(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&d0(l))}function Ys(l,f,p,y){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)PR(l,f,p,y),f=f.sibling}function PR(l,f,p,y){var S=f.flags;switch(f.tag){case 0:case 11:case 15:Ys(l,f,p,y),S&2048&&A0(9,f);break;case 1:Ys(l,f,p,y);break;case 3:Ys(l,f,p,y),S&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&d0(l)));break;case 12:if(S&2048){Ys(l,f,p,y),l=f.stateNode;try{var N=f.memoizedProps,H=N.id,J=N.onPostCommit;typeof J=="function"&&J(H,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(he){Nr(f,f.return,he)}}else Ys(l,f,p,y);break;case 31:Ys(l,f,p,y);break;case 13:Ys(l,f,p,y);break;case 23:break;case 22:N=f.stateNode,H=f.alternate,f.memoizedState!==null?N._visibility&2?Ys(l,f,p,y):C0(l,f):N._visibility&2?Ys(l,f,p,y):(N._visibility|=2,yd(l,f,p,y,(f.subtreeFlags&10256)!==0||!1)),S&2048&&hw(H,f);break;case 24:Ys(l,f,p,y),S&2048&&pw(f.alternate,f);break;default:Ys(l,f,p,y)}}function yd(l,f,p,y,S){for(S=S&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var N=l,H=f,J=p,he=y,Ce=H.flags;switch(H.tag){case 0:case 11:case 15:yd(N,H,J,he,S),A0(8,H);break;case 23:break;case 22:var De=H.stateNode;H.memoizedState!==null?De._visibility&2?yd(N,H,J,he,S):C0(N,H):(De._visibility|=2,yd(N,H,J,he,S)),S&&Ce&2048&&hw(H.alternate,H);break;case 24:yd(N,H,J,he,S),S&&Ce&2048&&pw(H.alternate,H);break;default:yd(N,H,J,he,S)}f=f.sibling}}function C0(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=l,y=f,S=y.flags;switch(y.tag){case 22:C0(p,y),S&2048&&hw(y.alternate,y);break;case 24:C0(p,y),S&2048&&pw(y.alternate,y);break;default:C0(p,y)}f=f.sibling}}var N0=8192;function xd(l,f,p){if(l.subtreeFlags&N0)for(l=l.child;l!==null;)RR(l,f,p),l=l.sibling}function RR(l,f,p){switch(l.tag){case 26:xd(l,f,p),l.flags&N0&&l.memoizedState!==null&&kY(p,Ws,l.memoizedState,l.memoizedProps);break;case 5:xd(l,f,p);break;case 3:case 4:var y=Ws;Ws=xv(l.stateNode.containerInfo),xd(l,f,p),Ws=y;break;case 22:l.memoizedState===null&&(y=l.alternate,y!==null&&y.memoizedState!==null?(y=N0,N0=16777216,xd(l,f,p),N0=y):xd(l,f,p));break;default:xd(l,f,p)}}function OR(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function I0(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];li=y,DR(y,l)}OR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)MR(l),l=l.sibling}function MR(l){switch(l.tag){case 0:case 11:case 15:I0(l),l.flags&2048&&gc(9,l,l.return);break;case 3:I0(l);break;case 12:I0(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,sv(l)):I0(l);break;default:I0(l)}}function sv(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var y=f[p];li=y,DR(y,l)}OR(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:gc(8,f,f.return),sv(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,sv(f));break;default:sv(f)}l=l.sibling}}function DR(l,f){for(;li!==null;){var p=li;switch(p.tag){case 0:case 11:case 15:gc(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:d0(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,li=y;else e:for(p=l;li!==null;){y=li;var S=y.sibling,N=y.return;if(AR(y),y===p){li=null;break e}if(S!==null){S.return=N,li=S;break e}li=N}}}var GW={getCacheForType:function(l){var f=Ti(Mn),p=f.data.get(l);return p===void 0&&(p=l(),f.data.set(l,p)),p},cacheSignal:function(){return Ti(Mn).controller.signal}},qW=typeof WeakMap=="function"?WeakMap:Map,xr=0,Ur=null,Gt=null,Wt=0,Cr=0,Za=null,vc=!1,_d=!1,mw=!1,_l=0,hn=0,yc=0,$u=0,gw=0,Qa=0,bd=0,k0=null,Ca=null,vw=!1,ov=0,FR=0,lv=1/0,cv=null,xc=null,Wn=0,_c=null,wd=null,bl=0,yw=0,xw=null,LR=null,P0=0,_w=null;function es(){return(xr&2)!==0&&Wt!==0?Wt&-Wt:ie.T!==null?Sw():Y()}function jR(){if(Qa===0)if((Wt&536870912)===0||er){var l=_o;_o<<=1,(_o&3932160)===0&&(_o=262144),Qa=l}else Qa=536870912;return l=Ja.current,l!==null&&(l.flags|=32),Qa}function Na(l,f,p){(l===Ur&&(Cr===2||Cr===9)||l.cancelPendingCommit!==null)&&(Ed(l,0),bc(l,Wt,Qa,!1)),wa(l,p),((xr&2)===0||l!==Ur)&&(l===Ur&&((xr&2)===0&&($u|=p),hn===4&&bc(l,Wt,Qa,!1)),Ro(l))}function UR(l,f,p){if((xr&6)!==0)throw Error(n(327));var y=!p&&(f&127)===0&&(f&l.expiredLanes)===0||_a(l,f),S=y?YW(l,f):ww(l,f,!0),N=y;do{if(S===0){_d&&!y&&bc(l,f,0,!1);break}else{if(p=l.current.alternate,N&&!KW(p)){S=ww(l,f,!1),N=!1;continue}if(S===2){if(N=f,l.errorRecoveryDisabledLanes&N)var H=0;else H=l.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){f=H;e:{var J=l;S=k0;var he=J.current.memoizedState.isDehydrated;if(he&&(Ed(J,H).flags|=256),H=ww(J,H,!1),H!==2){if(mw&&!he){J.errorRecoveryDisabledLanes|=N,$u|=N,S=4;break e}N=Ca,Ca=S,N!==null&&(Ca===null?Ca=N:Ca.push.apply(Ca,N))}S=H}if(N=!1,S!==2)continue}}if(S===1){Ed(l,0),bc(l,f,0,!0);break}e:{switch(y=l,N=S,N){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:bc(y,f,Qa,!vc);break e;case 2:Ca=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(S=ov+300-bt(),10<S)){if(bc(y,f,Qa,!vc),$a(y,0,!0)!==0)break e;bl=f,y.timeoutHandle=gO(BR.bind(null,y,p,Ca,cv,vw,f,Qa,$u,bd,vc,N,"Throttled",-0,0),S);break e}BR(y,p,Ca,cv,vw,f,Qa,$u,bd,vc,N,null,-0,0)}}break}while(!0);Ro(l)}function BR(l,f,p,y,S,N,H,J,he,Ce,De,Ve,Ie,Re){if(l.timeoutHandle=-1,Ve=f.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},RR(f,N,Ve);var ut=(N&62914560)===N?ov-bt():(N&4194048)===N?FR-bt():0;if(ut=PY(Ve,ut),ut!==null){bl=N,l.cancelPendingCommit=ut(WR.bind(null,l,f,N,p,y,S,H,J,he,De,Ve,null,Ie,Re)),bc(l,N,H,!Ce);return}}WR(l,f,N,p,y,S,H,J,he)}function KW(l){for(var f=l;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var S=p[y],N=S.getSnapshot;S=S.value;try{if(!Wa(N(),S))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function bc(l,f,p,y){f&=~gw,f&=~$u,l.suspendedLanes|=f,l.pingedLanes&=~f,y&&(l.warmLanes|=f),y=l.expirationTimes;for(var S=f;0<S;){var N=31-gt(S),H=1<<N;y[N]=-1,S&=~H}p!==0&&bi(l,p,f)}function uv(){return(xr&6)===0?(R0(0),!1):!0}function bw(){if(Gt!==null){if(Cr===0)var l=Gt.return;else l=Gt,ul=Mu=null,Lb(l),hd=null,p0=0,l=Gt;for(;l!==null;)vR(l.alternate,l),l=l.return;Gt=null}}function Ed(l,f){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,hY(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),bl=0,bw(),Ur=l,Gt=p=ll(l.current,null),Wt=f,Cr=0,Za=null,vc=!1,_d=_a(l,f),mw=!1,bd=Qa=gw=$u=yc=hn=0,Ca=k0=null,vw=!1,(f&8)!==0&&(f|=f&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=f;0<y;){var S=31-gt(y),N=1<<S;f|=l[S],y&=~N}return _l=f,Pg(),p}function VR(l,f){jt=null,ie.H=w0,f===dd||f===Ug?(f=nP(),Cr=3):f===Ab?(f=nP(),Cr=4):Cr=f===Qb?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Za=f,Gt===null&&(hn=1,Qg(l,vs(f,l.current)))}function zR(){var l=Ja.current;return l===null?!0:(Wt&4194048)===Wt?bs===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?l===bs:!1}function $R(){var l=ie.H;return ie.H=w0,l===null?w0:l}function HR(){var l=ie.A;return ie.A=GW,l}function fv(){hn=4,vc||(Wt&4194048)!==Wt&&Ja.current!==null||(_d=!0),(yc&134217727)===0&&($u&134217727)===0||Ur===null||bc(Ur,Wt,Qa,!1)}function ww(l,f,p){var y=xr;xr|=2;var S=$R(),N=HR();(Ur!==l||Wt!==f)&&(cv=null,Ed(l,f)),f=!1;var H=hn;e:do try{if(Cr!==0&&Gt!==null){var J=Gt,he=Za;switch(Cr){case 8:bw(),H=6;break e;case 3:case 2:case 9:case 6:Ja.current===null&&(f=!0);var Ce=Cr;if(Cr=0,Za=null,Td(l,J,he,Ce),p&&_d){H=0;break e}break;default:Ce=Cr,Cr=0,Za=null,Td(l,J,he,Ce)}}WW(),H=hn;break}catch(De){VR(l,De)}while(!0);return f&&l.shellSuspendCounter++,ul=Mu=null,xr=y,ie.H=S,ie.A=N,Gt===null&&(Ur=null,Wt=0,Pg()),H}function WW(){for(;Gt!==null;)GR(Gt)}function YW(l,f){var p=xr;xr|=2;var y=$R(),S=HR();Ur!==l||Wt!==f?(cv=null,lv=bt()+500,Ed(l,f)):_d=_a(l,f);e:do try{if(Cr!==0&&Gt!==null){f=Gt;var N=Za;t:switch(Cr){case 1:Cr=0,Za=null,Td(l,f,N,1);break;case 2:case 9:if(tP(N)){Cr=0,Za=null,qR(f);break}f=function(){Cr!==2&&Cr!==9||Ur!==l||(Cr=7),Ro(l)},N.then(f,f);break e;case 3:Cr=7;break e;case 4:Cr=5;break e;case 7:tP(N)?(Cr=0,Za=null,qR(f)):(Cr=0,Za=null,Td(l,f,N,7));break;case 5:var H=null;switch(Gt.tag){case 26:H=Gt.memoizedState;case 5:case 27:var J=Gt;if(H?PO(H):J.stateNode.complete){Cr=0,Za=null;var he=J.sibling;if(he!==null)Gt=he;else{var Ce=J.return;Ce!==null?(Gt=Ce,dv(Ce)):Gt=null}break t}}Cr=0,Za=null,Td(l,f,N,5);break;case 6:Cr=0,Za=null,Td(l,f,N,6);break;case 8:bw(),hn=6;break e;default:throw Error(n(462))}}JW();break}catch(De){VR(l,De)}while(!0);return ul=Mu=null,ie.H=y,ie.A=S,xr=p,Gt!==null?0:(Ur=null,Wt=0,Pg(),hn)}function JW(){for(;Gt!==null&&!qr();)GR(Gt)}function GR(l){var f=mR(l.alternate,l,_l);l.memoizedProps=l.pendingProps,f===null?dv(l):Gt=f}function qR(l){var f=l,p=f.alternate;switch(f.tag){case 15:case 0:f=cR(p,f,f.pendingProps,f.type,void 0,Wt);break;case 11:f=cR(p,f,f.pendingProps,f.type.render,f.ref,Wt);break;case 5:Lb(f);default:vR(p,f),f=Gt=Hk(f,_l),f=mR(p,f,_l)}l.memoizedProps=l.pendingProps,f===null?dv(l):Gt=f}function Td(l,f,p,y){ul=Mu=null,Lb(f),hd=null,p0=0;var S=f.return;try{if(jW(l,S,f,p,Wt)){hn=1,Qg(l,vs(p,l.current)),Gt=null;return}}catch(N){if(S!==null)throw Gt=S,N;hn=1,Qg(l,vs(p,l.current)),Gt=null;return}f.flags&32768?(er||y===1?l=!0:_d||(Wt&536870912)!==0?l=!1:(vc=l=!0,(y===2||y===9||y===3||y===6)&&(y=Ja.current,y!==null&&y.tag===13&&(y.flags|=16384))),KR(f,l)):dv(f)}function dv(l){var f=l;do{if((f.flags&32768)!==0){KR(f,vc);return}l=f.return;var p=VW(f.alternate,f,_l);if(p!==null){Gt=p;return}if(f=f.sibling,f!==null){Gt=f;return}Gt=f=l}while(f!==null);hn===0&&(hn=5)}function KR(l,f){do{var p=zW(l.alternate,l);if(p!==null){p.flags&=32767,Gt=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(l=l.sibling,l!==null)){Gt=l;return}Gt=l=p}while(l!==null);hn=6,Gt=null}function WR(l,f,p,y,S,N,H,J,he){l.cancelPendingCommit=null;do hv();while(Wn!==0);if((xr&6)!==0)throw Error(n(327));if(f!==null){if(f===l.current)throw Error(n(177));if(N=f.lanes|f.childLanes,N|=ub,bu(l,p,N,H,J,he),l===Ur&&(Gt=Ur=null,Wt=0),wd=f,_c=l,bl=p,yw=N,xw=S,LR=y,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,eY(dt,function(){return QR(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||y){y=ie.T,ie.T=null,S=fe.p,fe.p=2,H=xr,xr|=4;try{$W(l,f,p)}finally{xr=H,fe.p=S,ie.T=y}}Wn=1,YR(),JR(),XR()}}function YR(){if(Wn===1){Wn=0;var l=_c,f=wd,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=ie.T,ie.T=null;var y=fe.p;fe.p=2;var S=xr;xr|=4;try{IR(f,l);var N=Mw,H=Dk(l.containerInfo),J=N.focusedElem,he=N.selectionRange;if(H!==J&&J&&J.ownerDocument&&Mk(J.ownerDocument.documentElement,J)){if(he!==null&&ab(J)){var Ce=he.start,De=he.end;if(De===void 0&&(De=Ce),"selectionStart"in J)J.selectionStart=Ce,J.selectionEnd=Math.min(De,J.value.length);else{var Ve=J.ownerDocument||document,Ie=Ve&&Ve.defaultView||window;if(Ie.getSelection){var Re=Ie.getSelection(),ut=J.textContent.length,wt=Math.min(he.start,ut),Fr=he.end===void 0?wt:Math.min(he.end,ut);!Re.extend&&wt>Fr&&(H=Fr,Fr=wt,wt=H);var ye=Ok(J,wt),me=Ok(J,Fr);if(ye&&me&&(Re.rangeCount!==1||Re.anchorNode!==ye.node||Re.anchorOffset!==ye.offset||Re.focusNode!==me.node||Re.focusOffset!==me.offset)){var Ae=Ve.createRange();Ae.setStart(ye.node,ye.offset),Re.removeAllRanges(),wt>Fr?(Re.addRange(Ae),Re.extend(me.node,me.offset)):(Ae.setEnd(me.node,me.offset),Re.addRange(Ae))}}}}for(Ve=[],Re=J;Re=Re.parentNode;)Re.nodeType===1&&Ve.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ve.length;J++){var je=Ve[J];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}Av=!!Ow,Mw=Ow=null}finally{xr=S,fe.p=y,ie.T=p}}l.current=f,Wn=2}}function JR(){if(Wn===2){Wn=0;var l=_c,f=wd,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=ie.T,ie.T=null;var y=fe.p;fe.p=2;var S=xr;xr|=4;try{TR(l,f.alternate,f)}finally{xr=S,fe.p=y,ie.T=p}}Wn=3}}function XR(){if(Wn===4||Wn===3){Wn=0,Vr();var l=_c,f=wd,p=bl,y=LR;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Wn=5:(Wn=0,wd=_c=null,ZR(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(xc=null),Rn(p),f=f.stateNode,br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Vt,f,void 0,(f.current.flags&128)===128)}catch{}if(y!==null){f=ie.T,S=fe.p,fe.p=2,ie.T=null;try{for(var N=l.onRecoverableError,H=0;H<y.length;H++){var J=y[H];N(J.value,{componentStack:J.stack})}}finally{ie.T=f,fe.p=S}}(bl&3)!==0&&hv(),Ro(l),S=l.pendingLanes,(p&261930)!==0&&(S&42)!==0?l===_w?P0++:(P0=0,_w=l):P0=0,R0(0)}}function ZR(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,d0(f)))}function hv(){return YR(),JR(),XR(),QR()}function QR(){if(Wn!==5)return!1;var l=_c,f=yw;yw=0;var p=Rn(bl),y=ie.T,S=fe.p;try{fe.p=32>p?32:p,ie.T=null,p=xw,xw=null;var N=_c,H=bl;if(Wn=0,wd=_c=null,bl=0,(xr&6)!==0)throw Error(n(331));var J=xr;if(xr|=4,MR(N.current),PR(N,N.current,H,p),xr=J,R0(0,!1),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Vt,N)}catch{}return!0}finally{fe.p=S,ie.T=y,ZR(l,f)}}function eO(l,f,p){f=vs(p,f),f=Zb(l.stateNode,f,2),l=hc(l,f,2),l!==null&&(wa(l,2),Ro(l))}function Nr(l,f,p){if(l.tag===3)eO(l,l,p);else for(;f!==null;){if(f.tag===3){eO(f,l,p);break}else if(f.tag===1){var y=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(xc===null||!xc.has(y))){l=vs(p,l),p=tR(2),y=hc(f,p,2),y!==null&&(rR(p,y,f,l),wa(y,2),Ro(y));break}}f=f.return}}function Ew(l,f,p){var y=l.pingCache;if(y===null){y=l.pingCache=new qW;var S=new Set;y.set(f,S)}else S=y.get(f),S===void 0&&(S=new Set,y.set(f,S));S.has(p)||(mw=!0,S.add(p),l=XW.bind(null,l,f,p),f.then(l,l))}function XW(l,f,p){var y=l.pingCache;y!==null&&y.delete(f),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Ur===l&&(Wt&p)===p&&(hn===4||hn===3&&(Wt&62914560)===Wt&&300>bt()-ov?(xr&2)===0&&Ed(l,0):gw|=p,bd===Wt&&(bd=0)),Ro(l)}function tO(l,f){f===0&&(f=bo()),l=Pu(l,f),l!==null&&(wa(l,f),Ro(l))}function ZW(l){var f=l.memoizedState,p=0;f!==null&&(p=f.retryLane),tO(l,p)}function QW(l,f){var p=0;switch(l.tag){case 31:case 13:var y=l.stateNode,S=l.memoizedState;S!==null&&(p=S.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(f),tO(l,p)}function eY(l,f){return pt(l,f)}var pv=null,Ad=null,Tw=!1,mv=!1,Aw=!1,wc=0;function Ro(l){l!==Ad&&l.next===null&&(Ad===null?pv=Ad=l:Ad=Ad.next=l),mv=!0,Tw||(Tw=!0,rY())}function R0(l,f){if(!Aw&&mv){Aw=!0;do for(var p=!1,y=pv;y!==null;){if(l!==0){var S=y.pendingLanes;if(S===0)var N=0;else{var H=y.suspendedLanes,J=y.pingedLanes;N=(1<<31-gt(42|l)+1)-1,N&=S&~(H&~J),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,aO(y,N))}else N=Wt,N=$a(y,y===Ur?N:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(N&3)===0||_a(y,N)||(p=!0,aO(y,N));y=y.next}while(p);Aw=!1}}function tY(){rO()}function rO(){mv=Tw=!1;var l=0;wc!==0&&dY()&&(l=wc);for(var f=bt(),p=null,y=pv;y!==null;){var S=y.next,N=nO(y,f);N===0?(y.next=null,p===null?pv=S:p.next=S,S===null&&(Ad=p)):(p=y,(l!==0||(N&3)!==0)&&(mv=!0)),y=S}Wn!==0&&Wn!==5||R0(l),wc!==0&&(wc=0)}function nO(l,f){for(var p=l.suspendedLanes,y=l.pingedLanes,S=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var H=31-gt(N),J=1<<H,he=S[H];he===-1?((J&p)===0||(J&y)!==0)&&(S[H]=_u(J,f)):he<=f&&(l.expiredLanes|=J),N&=~J}if(f=Ur,p=Wt,p=$a(l,l===f?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,p===0||l===f&&(Cr===2||Cr===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&kt(y),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||_a(l,p)){if(f=p&-p,f===l.callbackPriority)return f;switch(y!==null&&kt(y),Rn(p)){case 2:case 8:p=Tr;break;case 32:p=dt;break;case 268435456:p=Et;break;default:p=dt}return y=iO.bind(null,l),p=pt(p,y),l.callbackPriority=f,l.callbackNode=p,f}return y!==null&&y!==null&&kt(y),l.callbackPriority=2,l.callbackNode=null,2}function iO(l,f){if(Wn!==0&&Wn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(hv()&&l.callbackNode!==p)return null;var y=Wt;return y=$a(l,l===Ur?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(UR(l,y,f),nO(l,bt()),l.callbackNode!=null&&l.callbackNode===p?iO.bind(null,l):null)}function aO(l,f){if(hv())return null;UR(l,f,!0)}function rY(){pY(function(){(xr&6)!==0?pt(Kt,tY):rO()})}function Sw(){if(wc===0){var l=ud;l===0&&(l=xa,xa<<=1,(xa&261888)===0&&(xa=256)),wc=l}return wc}function sO(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Ka(""+l)}function oO(l,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,l.id&&p.setAttribute("form",l.id),f.parentNode.insertBefore(p,f),l=new FormData(l),p.parentNode.removeChild(p),l}function nY(l,f,p,y,S){if(f==="submit"&&p&&p.stateNode===S){var N=sO((S[ne]||null).action),H=y.submitter;H&&(f=(f=H[ne]||null)?sO(f.formAction):H.getAttribute("formAction"),f!==null&&(N=f,H=null));var J=new Ao("action","action",null,y,S);l.push({event:J,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(wc!==0){var he=H?oO(S,H):new FormData(S);qb(p,{pending:!0,data:he,method:S.method,action:N},null,he)}}else typeof N=="function"&&(J.preventDefault(),he=H?oO(S,H):new FormData(S),qb(p,{pending:!0,data:he,method:S.method,action:N},N,he))},currentTarget:S}]})}}for(var Cw=0;Cw<cb.length;Cw++){var Nw=cb[Cw],iY=Nw.toLowerCase(),aY=Nw[0].toUpperCase()+Nw.slice(1);Ks(iY,"on"+aY)}Ks(jk,"onAnimationEnd"),Ks(Uk,"onAnimationIteration"),Ks(Bk,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(bW,"onTransitionRun"),Ks(wW,"onTransitionStart"),Ks(EW,"onTransitionCancel"),Ks(Vk,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var O0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(O0));function lO(l,f){f=(f&4)!==0;for(var p=0;p<l.length;p++){var y=l[p],S=y.event;y=y.listeners;e:{var N=void 0;if(f)for(var H=y.length-1;0<=H;H--){var J=y[H],he=J.instance,Ce=J.currentTarget;if(J=J.listener,he!==N&&S.isPropagationStopped())break e;N=J,S.currentTarget=Ce;try{N(S)}catch(De){kg(De)}S.currentTarget=null,N=he}else for(H=0;H<y.length;H++){if(J=y[H],he=J.instance,Ce=J.currentTarget,J=J.listener,he!==N&&S.isPropagationStopped())break e;N=J,S.currentTarget=Ce;try{N(S)}catch(De){kg(De)}S.currentTarget=null,N=he}}}}function qt(l,f){var p=f[Ee];p===void 0&&(p=f[Ee]=new Set);var y=l+"__bubble";p.has(y)||(cO(f,l,2,!1),p.add(y))}function Iw(l,f,p){var y=0;f&&(y|=4),cO(p,l,y,f)}var gv="_reactListening"+Math.random().toString(36).slice(2);function kw(l){if(!l[gv]){l[gv]=!0,gr.forEach(function(p){p!=="selectionchange"&&(sY.has(p)||Iw(p,!1,l),Iw(p,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[gv]||(f[gv]=!0,Iw("selectionchange",!1,f))}}function cO(l,f,p,y){switch(jO(f)){case 2:var S=MY;break;case 8:S=DY;break;default:S=Gw}p=S.bind(null,f,p,l),S=void 0,!Eu||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(S=!0),y?S!==void 0?l.addEventListener(f,p,{capture:!0,passive:S}):l.addEventListener(f,p,!0):S!==void 0?l.addEventListener(f,p,{passive:S}):l.addEventListener(f,p,!1)}function Pw(l,f,p,y,S){var N=y;if((f&1)===0&&(f&2)===0&&y!==null)e:for(;;){if(y===null)return;var H=y.tag;if(H===3||H===4){var J=y.stateNode.containerInfo;if(J===S)break;if(H===4)for(H=y.return;H!==null;){var he=H.tag;if((he===3||he===4)&&H.stateNode.containerInfo===S)return;H=H.return}for(;J!==null;){if(H=Ye(J),H===null)return;if(he=H.tag,he===5||he===6||he===26||he===27){y=N=H;continue e}J=J.parentNode}}y=y.return}nc(function(){var Ce=N,De=oi(p),Ve=[];e:{var Ie=zk.get(l);if(Ie!==void 0){var Re=Ao,ut=l;switch(l){case"keypress":if(Au(p)===0)break e;case"keydown":case"keyup":Re=Cg;break;case"focusin":ut="focus",Re=Cu;break;case"focusout":ut="blur",Re=Cu;break;case"beforeblur":case"afterblur":Re=Cu;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=i0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=U;break;case jk:case Uk:case Bk:Re=_g;break;case Vk:Re=ee;break;case"scroll":case"scrollend":Re=n0;break;case"wheel":Re=Pe;break;case"copy":case"cut":case"paste":Re=bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=ol;break;case"toggle":case"beforetoggle":Re=Lt}var wt=(f&4)!==0,Fr=!wt&&(l==="scroll"||l==="scrollend"),ye=wt?Ie!==null?Ie+"Capture":null:Ie;wt=[];for(var me=Ce,Ae;me!==null;){var je=me;if(Ae=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||Ae===null||ye===null||(je=$s(me,ye),je!=null&&wt.push(M0(me,je,Ae))),Fr)break;me=me.return}0<wt.length&&(Ie=new Re(Ie,ut,null,p,De),Ve.push({event:Ie,listeners:wt}))}}if((f&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",Re=l==="mouseout"||l==="pointerout",Ie&&p!==fn&&(ut=p.relatedTarget||p.fromElement)&&(Ye(ut)||ut[oe]))break e;if((Re||Ie)&&(Ie=De.window===De?De:(Ie=De.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Re?(ut=p.relatedTarget||p.toElement,Re=Ce,ut=ut?Ye(ut):null,ut!==null&&(Fr=a(ut),wt=ut.tag,ut!==Fr||wt!==5&&wt!==27&&wt!==6)&&(ut=null)):(Re=null,ut=Ce),Re!==ut)){if(wt=i0,je="onMouseLeave",ye="onMouseEnter",me="mouse",(l==="pointerout"||l==="pointerover")&&(wt=ol,je="onPointerLeave",ye="onPointerEnter",me="pointer"),Fr=Re==null?Ie:Ge(Re),Ae=ut==null?Ie:Ge(ut),Ie=new wt(je,me+"leave",Re,p,De),Ie.target=Fr,Ie.relatedTarget=Ae,je=null,Ye(De)===Ce&&(wt=new wt(ye,me+"enter",ut,p,De),wt.target=Ae,wt.relatedTarget=Fr,je=wt),Fr=je,Re&&ut)t:{for(wt=oY,ye=Re,me=ut,Ae=0,je=ye;je;je=wt(je))Ae++;je=0;for(var yt=me;yt;yt=wt(yt))je++;for(;0<Ae-je;)ye=wt(ye),Ae--;for(;0<je-Ae;)me=wt(me),je--;for(;Ae--;){if(ye===me||me!==null&&ye===me.alternate){wt=ye;break t}ye=wt(ye),me=wt(me)}wt=null}else wt=null;Re!==null&&uO(Ve,Ie,Re,wt,!1),ut!==null&&Fr!==null&&uO(Ve,Fr,ut,wt,!0)}}e:{if(Ie=Ce?Ge(Ce):window,Re=Ie.nodeName&&Ie.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Ie.type==="file")var fr=Ck;else if(Ak(Ie))if(Nk)fr=yW;else{fr=gW;var ht=mW}else Re=Ie.nodeName,!Re||Re.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Ce&&si(Ce.elementType)&&(fr=Ck):fr=vW;if(fr&&(fr=fr(l,Ce))){Sk(Ve,fr,p,De);break e}ht&&ht(l,Ie,Ce),l==="focusout"&&Ce&&Ie.type==="number"&&Ce.memoizedProps.value!=null&&Tt(Ie,"number",Ie.value)}switch(ht=Ce?Ge(Ce):window,l){case"focusin":(Ak(ht)||ht.contentEditable==="true")&&(rd=ht,sb=Ce,c0=null);break;case"focusout":c0=sb=rd=null;break;case"mousedown":ob=!0;break;case"contextmenu":case"mouseup":case"dragend":ob=!1,Fk(Ve,p,De);break;case"selectionchange":if(_W)break;case"keydown":case"keyup":Fk(Ve,p,De)}var Bt;if(yr)e:{switch(l){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else td?Nu(l,p)&&(Yt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Yt="onCompositionStart");Yt&&(No&&p.locale!=="ko"&&(td||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&td&&(Bt=r0()):(To=De,t0="value"in To?To.value:To.textContent,td=!0)),ht=vv(Ce,Yt),0<ht.length&&(Yt=new Co(Yt,l,null,p,De),Ve.push({event:Yt,listeners:ht}),Bt?Yt.data=Bt:(Bt=ed(p),Bt!==null&&(Yt.data=Bt)))),(Bt=ms?fW(l,p):dW(l,p))&&(Yt=vv(Ce,"onBeforeInput"),0<Yt.length&&(ht=new Co("onBeforeInput","beforeinput",null,p,De),Ve.push({event:ht,listeners:Yt}),ht.data=Bt)),nY(Ve,l,Ce,p,De)}lO(Ve,f)})}function M0(l,f,p){return{instance:l,listener:f,currentTarget:p}}function vv(l,f){for(var p=f+"Capture",y=[];l!==null;){var S=l,N=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||N===null||(S=$s(l,p),S!=null&&y.unshift(M0(l,S,N)),S=$s(l,f),S!=null&&y.push(M0(l,S,N))),l.tag===3)return y;l=l.return}return[]}function oY(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function uO(l,f,p,y,S){for(var N=f._reactName,H=[];p!==null&&p!==y;){var J=p,he=J.alternate,Ce=J.stateNode;if(J=J.tag,he!==null&&he===y)break;J!==5&&J!==26&&J!==27||Ce===null||(he=Ce,S?(Ce=$s(p,N),Ce!=null&&H.unshift(M0(p,Ce,he))):S||(Ce=$s(p,N),Ce!=null&&H.push(M0(p,Ce,he)))),p=p.return}H.length!==0&&l.push({event:f,listeners:H})}var lY=/\r\n?/g,cY=/\u0000|\uFFFD/g;function fO(l){return(typeof l=="string"?l:""+l).replace(lY,`
`).replace(cY,"")}function dO(l,f){return f=fO(f),fO(l)===f}function Dr(l,f,p,y,S,N){switch(p){case"children":typeof y=="string"?f==="body"||f==="textarea"&&y===""||Ct(l,y):(typeof y=="number"||typeof y=="bigint")&&f!=="body"&&Ct(l,""+y);break;case"className":ta(l,"class",y);break;case"tabIndex":ta(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ta(l,p,y);break;case"style":Qt(l,y,N);break;case"data":if(f!=="object"){ta(l,"data",y);break}case"src":case"href":if(y===""&&(f!=="a"||p!=="href")){l.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=Ka(""+y),l.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(f!=="input"&&Dr(l,f,"name",S.name,S,null),Dr(l,f,"formEncType",S.formEncType,S,null),Dr(l,f,"formMethod",S.formMethod,S,null),Dr(l,f,"formTarget",S.formTarget,S,null)):(Dr(l,f,"encType",S.encType,S,null),Dr(l,f,"method",S.method,S,null),Dr(l,f,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=Ka(""+y),l.setAttribute(p,y);break;case"onClick":y!=null&&(l.onclick=Ea);break;case"onScroll":y!=null&&qt("scroll",l);break;case"onScrollEnd":y!=null&&qt("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}p=Ka(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""+y):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":y===!0?l.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,y):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(p,y):l.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(p):l.setAttribute(p,y);break;case"popover":qt("beforetoggle",l),qt("toggle",l),ai(l,"popover",y);break;case"xlinkActuate":cn(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":cn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":cn(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":cn(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":cn(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":cn(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":cn(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":cn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":cn(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":ai(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ra.get(p)||p,ai(l,p,y))}}function Rw(l,f,p,y,S,N){switch(p){case"style":Qt(l,y,N);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof y=="string"?Ct(l,y):(typeof y=="number"||typeof y=="bigint")&&Ct(l,""+y);break;case"onScroll":y!=null&&qt("scroll",l);break;case"onScrollEnd":y!=null&&qt("scrollend",l);break;case"onClick":y!=null&&(l.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),f=p.slice(2,S?p.length-7:void 0),N=l[ne]||null,N=N!=null?N[p]:null,typeof N=="function"&&l.removeEventListener(f,N,S),typeof y=="function")){typeof N!="function"&&N!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(f,y,S);break e}p in l?l[p]=y:y===!0?l.setAttribute(p,""):ai(l,p,y)}}}function Si(l,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",l),qt("load",l);var y=!1,S=!1,N;for(N in p)if(p.hasOwnProperty(N)){var H=p[N];if(H!=null)switch(N){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Dr(l,f,N,H,p,null)}}S&&Dr(l,f,"srcSet",p.srcSet,p,null),y&&Dr(l,f,"src",p.src,p,null);return;case"input":qt("invalid",l);var J=N=H=S=null,he=null,Ce=null;for(y in p)if(p.hasOwnProperty(y)){var De=p[y];if(De!=null)switch(y){case"name":S=De;break;case"type":H=De;break;case"checked":he=De;break;case"defaultChecked":Ce=De;break;case"value":N=De;break;case"defaultValue":J=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,f));break;default:Dr(l,f,y,De,p,null)}}Ft(l,N,J,he,Ce,H,S,!1);return;case"select":qt("invalid",l),y=H=N=null;for(S in p)if(p.hasOwnProperty(S)&&(J=p[S],J!=null))switch(S){case"value":N=J;break;case"defaultValue":H=J;break;case"multiple":y=J;default:Dr(l,f,S,J,p,null)}f=N,p=H,l.multiple=!!y,f!=null?mt(l,!!y,f,!1):p!=null&&mt(l,!!y,p,!0);return;case"textarea":qt("invalid",l),N=S=y=null;for(H in p)if(p.hasOwnProperty(H)&&(J=p[H],J!=null))switch(H){case"value":y=J;break;case"defaultValue":S=J;break;case"children":N=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:Dr(l,f,H,J,p,null)}zt(l,y,S,N);return;case"option":for(he in p)p.hasOwnProperty(he)&&(y=p[he],y!=null)&&(he==="selected"?l.selected=y&&typeof y!="function"&&typeof y!="symbol":Dr(l,f,he,y,p,null));return;case"dialog":qt("beforetoggle",l),qt("toggle",l),qt("cancel",l),qt("close",l);break;case"iframe":case"object":qt("load",l);break;case"video":case"audio":for(y=0;y<O0.length;y++)qt(O0[y],l);break;case"image":qt("error",l),qt("load",l);break;case"details":qt("toggle",l);break;case"embed":case"source":case"link":qt("error",l),qt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in p)if(p.hasOwnProperty(Ce)&&(y=p[Ce],y!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Dr(l,f,Ce,y,p,null)}return;default:if(si(f)){for(De in p)p.hasOwnProperty(De)&&(y=p[De],y!==void 0&&Rw(l,f,De,y,p,void 0));return}}for(J in p)p.hasOwnProperty(J)&&(y=p[J],y!=null&&Dr(l,f,J,y,p,null))}function uY(l,f,p,y){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,N=null,H=null,J=null,he=null,Ce=null,De=null;for(Re in p){var Ve=p[Re];if(p.hasOwnProperty(Re)&&Ve!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":he=Ve;default:y.hasOwnProperty(Re)||Dr(l,f,Re,null,y,Ve)}}for(var Ie in y){var Re=y[Ie];if(Ve=p[Ie],y.hasOwnProperty(Ie)&&(Re!=null||Ve!=null))switch(Ie){case"type":N=Re;break;case"name":S=Re;break;case"checked":Ce=Re;break;case"defaultChecked":De=Re;break;case"value":H=Re;break;case"defaultValue":J=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,f));break;default:Re!==Ve&&Dr(l,f,Ie,Re,y,Ve)}}vt(l,H,J,he,Ce,De,N,S);return;case"select":Re=H=J=Ie=null;for(N in p)if(he=p[N],p.hasOwnProperty(N)&&he!=null)switch(N){case"value":break;case"multiple":Re=he;default:y.hasOwnProperty(N)||Dr(l,f,N,null,y,he)}for(S in y)if(N=y[S],he=p[S],y.hasOwnProperty(S)&&(N!=null||he!=null))switch(S){case"value":Ie=N;break;case"defaultValue":J=N;break;case"multiple":H=N;default:N!==he&&Dr(l,f,S,N,y,he)}f=J,p=H,y=Re,Ie!=null?mt(l,!!p,Ie,!1):!!y!=!!p&&(f!=null?mt(l,!!p,f,!0):mt(l,!!p,p?[]:"",!1));return;case"textarea":Re=Ie=null;for(J in p)if(S=p[J],p.hasOwnProperty(J)&&S!=null&&!y.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Dr(l,f,J,null,y,S)}for(H in y)if(S=y[H],N=p[H],y.hasOwnProperty(H)&&(S!=null||N!=null))switch(H){case"value":Ie=S;break;case"defaultValue":Re=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==N&&Dr(l,f,H,S,y,N)}Dt(l,Ie,Re);return;case"option":for(var ut in p)Ie=p[ut],p.hasOwnProperty(ut)&&Ie!=null&&!y.hasOwnProperty(ut)&&(ut==="selected"?l.selected=!1:Dr(l,f,ut,null,y,Ie));for(he in y)Ie=y[he],Re=p[he],y.hasOwnProperty(he)&&Ie!==Re&&(Ie!=null||Re!=null)&&(he==="selected"?l.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol":Dr(l,f,he,Ie,y,Re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in p)Ie=p[wt],p.hasOwnProperty(wt)&&Ie!=null&&!y.hasOwnProperty(wt)&&Dr(l,f,wt,null,y,Ie);for(Ce in y)if(Ie=y[Ce],Re=p[Ce],y.hasOwnProperty(Ce)&&Ie!==Re&&(Ie!=null||Re!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,f));break;default:Dr(l,f,Ce,Ie,y,Re)}return;default:if(si(f)){for(var Fr in p)Ie=p[Fr],p.hasOwnProperty(Fr)&&Ie!==void 0&&!y.hasOwnProperty(Fr)&&Rw(l,f,Fr,void 0,y,Ie);for(De in y)Ie=y[De],Re=p[De],!y.hasOwnProperty(De)||Ie===Re||Ie===void 0&&Re===void 0||Rw(l,f,De,Ie,y,Re);return}}for(var ye in p)Ie=p[ye],p.hasOwnProperty(ye)&&Ie!=null&&!y.hasOwnProperty(ye)&&Dr(l,f,ye,null,y,Ie);for(Ve in y)Ie=y[Ve],Re=p[Ve],!y.hasOwnProperty(Ve)||Ie===Re||Ie==null&&Re==null||Dr(l,f,Ve,Ie,y,Re)}function hO(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fY(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var S=p[y],N=S.transferSize,H=S.initiatorType,J=S.duration;if(N&&J&&hO(H)){for(H=0,J=S.responseEnd,y+=1;y<p.length;y++){var he=p[y],Ce=he.startTime;if(Ce>J)break;var De=he.transferSize,Ve=he.initiatorType;De&&hO(Ve)&&(he=he.responseEnd,H+=De*(he<J?1:(J-Ce)/(he-Ce)))}if(--y,f+=8*(N+H)/(S.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Ow=null,Mw=null;function yv(l){return l.nodeType===9?l:l.ownerDocument}function pO(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mO(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function Dw(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Fw=null;function dY(){var l=window.event;return l&&l.type==="popstate"?l===Fw?!1:(Fw=l,!0):(Fw=null,!1)}var gO=typeof setTimeout=="function"?setTimeout:void 0,hY=typeof clearTimeout=="function"?clearTimeout:void 0,vO=typeof Promise=="function"?Promise:void 0,pY=typeof queueMicrotask=="function"?queueMicrotask:typeof vO<"u"?function(l){return vO.resolve(null).then(l).catch(mY)}:gO;function mY(l){setTimeout(function(){throw l})}function Ec(l){return l==="head"}function yO(l,f){var p=f,y=0;do{var S=p.nextSibling;if(l.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(y===0){l.removeChild(S),Id(f);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")D0(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,D0(p);for(var N=p.firstChild;N;){var H=N.nextSibling,J=N.nodeName;N[Se]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=H}}else p==="body"&&D0(l.ownerDocument.body);p=S}while(p);Id(f)}function xO(l,f){var p=l;l=0;do{var y=p.nextSibling;if(p.nodeType===1?f?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(f?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=y}while(p)}function Lw(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Lw(p),qe(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function gY(l,f,p,y){for(;l.nodeType===1;){var S=p;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[Se])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var N=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=ws(l.nextSibling),l===null)break}return null}function vY(l,f,p){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=ws(l.nextSibling),l===null))return null;return l}function _O(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=ws(l.nextSibling),l===null))return null;return l}function jw(l){return l.data==="$?"||l.data==="$~"}function Uw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function yY(l,f){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||p.readyState!=="loading")f();else{var y=function(){f(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function ws(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var Bw=null;function bO(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(f===0)return ws(l.nextSibling);f--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||f++}l=l.nextSibling}return null}function wO(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(f===0)return l;f--}else p!=="/$"&&p!=="/&"||f++}l=l.previousSibling}return null}function EO(l,f,p){switch(f=yv(p),l){case"html":if(l=f.documentElement,!l)throw Error(n(452));return l;case"head":if(l=f.head,!l)throw Error(n(453));return l;case"body":if(l=f.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function D0(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);qe(l)}var Es=new Map,TO=new Set;function xv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var wl=fe.d;fe.d={f:xY,r:_Y,D:bY,C:wY,L:EY,m:TY,X:SY,S:AY,M:CY};function xY(){var l=wl.f(),f=uv();return l||f}function _Y(l){var f=Qe(l);f!==null&&f.tag===5&&f.type==="form"?VP(f):wl.r(l)}var Sd=typeof document>"u"?null:document;function AO(l,f,p){var y=Sd;if(y&&typeof f=="string"&&f){var S=rt(f);S='link[rel="'+l+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),TO.has(S)||(TO.add(S),l={rel:l,crossOrigin:p,href:f},y.querySelector(S)===null&&(f=y.createElement("link"),Si(f,"link",l),lt(f),y.head.appendChild(f)))}}function bY(l){wl.D(l),AO("dns-prefetch",l,null)}function wY(l,f){wl.C(l,f),AO("preconnect",l,f)}function EY(l,f,p){wl.L(l,f,p);var y=Sd;if(y&&l&&f){var S='link[rel="preload"][as="'+rt(f)+'"]';f==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+rt(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+rt(p.imageSizes)+'"]')):S+='[href="'+rt(l)+'"]';var N=S;switch(f){case"style":N=Cd(l);break;case"script":N=Nd(l)}Es.has(N)||(l=h({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:l,as:f},p),Es.set(N,l),y.querySelector(S)!==null||f==="style"&&y.querySelector(F0(N))||f==="script"&&y.querySelector(L0(N))||(f=y.createElement("link"),Si(f,"link",l),lt(f),y.head.appendChild(f)))}}function TY(l,f){wl.m(l,f);var p=Sd;if(p&&l){var y=f&&typeof f.as=="string"?f.as:"script",S='link[rel="modulepreload"][as="'+rt(y)+'"][href="'+rt(l)+'"]',N=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Nd(l)}if(!Es.has(N)&&(l=h({rel:"modulepreload",href:l},f),Es.set(N,l),p.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(L0(N)))return}y=p.createElement("link"),Si(y,"link",l),lt(y),p.head.appendChild(y)}}}function AY(l,f,p){wl.S(l,f,p);var y=Sd;if(y&&l){var S=Ze(y).hoistableStyles,N=Cd(l);f=f||"default";var H=S.get(N);if(!H){var J={loading:0,preload:null};if(H=y.querySelector(F0(N)))J.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":f},p),(p=Es.get(N))&&Vw(l,p);var he=H=y.createElement("link");lt(he),Si(he,"link",l),he._p=new Promise(function(Ce,De){he.onload=Ce,he.onerror=De}),he.addEventListener("load",function(){J.loading|=1}),he.addEventListener("error",function(){J.loading|=2}),J.loading|=4,_v(H,f,y)}H={type:"stylesheet",instance:H,count:1,state:J},S.set(N,H)}}}function SY(l,f){wl.X(l,f);var p=Sd;if(p&&l){var y=Ze(p).hoistableScripts,S=Nd(l),N=y.get(S);N||(N=p.querySelector(L0(S)),N||(l=h({src:l,async:!0},f),(f=Es.get(S))&&zw(l,f),N=p.createElement("script"),lt(N),Si(N,"link",l),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(S,N))}}function CY(l,f){wl.M(l,f);var p=Sd;if(p&&l){var y=Ze(p).hoistableScripts,S=Nd(l),N=y.get(S);N||(N=p.querySelector(L0(S)),N||(l=h({src:l,async:!0,type:"module"},f),(f=Es.get(S))&&zw(l,f),N=p.createElement("script"),lt(N),Si(N,"link",l),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(S,N))}}function SO(l,f,p,y){var S=(S=pe.current)?xv(S):null;if(!S)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=Cd(p.href),p=Ze(S).hoistableStyles,y=p.get(f),y||(y={type:"style",instance:null,count:0,state:null},p.set(f,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Cd(p.href);var N=Ze(S).hoistableStyles,H=N.get(l);if(H||(S=S.ownerDocument||S,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,H),(N=S.querySelector(F0(l)))&&!N._p&&(H.instance=N,H.state.loading=5),Es.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Es.set(l,p),N||NY(S,l,p,H.state))),f&&y===null)throw Error(n(528,""));return H}if(f&&y!==null)throw Error(n(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Nd(p),p=Ze(S).hoistableScripts,y=p.get(f),y||(y={type:"script",instance:null,count:0,state:null},p.set(f,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Cd(l){return'href="'+rt(l)+'"'}function F0(l){return'link[rel="stylesheet"]['+l+"]"}function CO(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function NY(l,f,p,y){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?y.loading=1:(f=l.createElement("link"),y.preload=f,f.addEventListener("load",function(){return y.loading|=1}),f.addEventListener("error",function(){return y.loading|=2}),Si(f,"link",p),lt(f),l.head.appendChild(f))}function Nd(l){return'[src="'+rt(l)+'"]'}function L0(l){return"script[async]"+l}function NO(l,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var y=l.querySelector('style[data-href~="'+rt(p.href)+'"]');if(y)return f.instance=y,lt(y),y;var S=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),lt(y),Si(y,"style",S),_v(y,p.precedence,l),f.instance=y;case"stylesheet":S=Cd(p.href);var N=l.querySelector(F0(S));if(N)return f.state.loading|=4,f.instance=N,lt(N),N;y=CO(p),(S=Es.get(S))&&Vw(y,S),N=(l.ownerDocument||l).createElement("link"),lt(N);var H=N;return H._p=new Promise(function(J,he){H.onload=J,H.onerror=he}),Si(N,"link",y),f.state.loading|=4,_v(N,p.precedence,l),f.instance=N;case"script":return N=Nd(p.src),(S=l.querySelector(L0(N)))?(f.instance=S,lt(S),S):(y=p,(S=Es.get(N))&&(y=h({},p),zw(y,S)),l=l.ownerDocument||l,S=l.createElement("script"),lt(S),Si(S,"link",y),l.head.appendChild(S),f.instance=S);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(y=f.instance,f.state.loading|=4,_v(y,p.precedence,l));return f.instance}function _v(l,f,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,N=S,H=0;H<y.length;H++){var J=y[H];if(J.dataset.precedence===f)N=J;else if(N!==S)break}N?N.parentNode.insertBefore(l,N.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(l,f.firstChild))}function Vw(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function zw(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var bv=null;function IO(l,f,p){if(bv===null){var y=new Map,S=bv=new Map;S.set(p,y)}else S=bv,y=S.get(p),y||(y=new Map,S.set(p,y));if(y.has(l))return y;for(y.set(l,null),p=p.getElementsByTagName(l),S=0;S<p.length;S++){var N=p[S];if(!(N[Se]||N[re]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var H=N.getAttribute(f)||"";H=l+H;var J=y.get(H);J?J.push(N):y.set(H,[N])}}return y}function kO(l,f,p){l=l.ownerDocument||l,l.head.insertBefore(p,f==="title"?l.querySelector("head > title"):null)}function IY(l,f,p){if(p===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(l=f.disabled,typeof f.precedence=="string"&&l==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function PO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function kY(l,f,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=Cd(y.href),N=f.querySelector(F0(S));if(N){f=N._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=wv.bind(l),f.then(l,l)),p.state.loading|=4,p.instance=N,lt(N);return}N=f.ownerDocument||f,y=CO(y),(S=Es.get(S))&&Vw(y,S),N=N.createElement("link"),lt(N);var H=N;H._p=new Promise(function(J,he){H.onload=J,H.onerror=he}),Si(N,"link",y),p.instance=N}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=wv.bind(l),f.addEventListener("load",p),f.addEventListener("error",p))}}var $w=0;function PY(l,f){return l.stylesheets&&l.count===0&&Tv(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var y=setTimeout(function(){if(l.stylesheets&&Tv(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4+f);0<l.imgBytes&&$w===0&&($w=62500*fY());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Tv(l,l.stylesheets),l.unsuspend)){var N=l.unsuspend;l.unsuspend=null,N()}},(l.imgBytes>$w?50:800)+f);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function wv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tv(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Ev=null;function Tv(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Ev=new Map,f.forEach(RY,l),Ev=null,wv.call(l))}function RY(l,f){if(!(f.state.loading&4)){var p=Ev.get(l);if(p)var y=p.get(null);else{p=new Map,Ev.set(l,p);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<S.length;N++){var H=S[N];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(p.set(H.dataset.precedence,H),y=H)}y&&p.set(null,y)}S=f.instance,H=S.getAttribute("data-precedence"),N=p.get(H)||y,N===y&&p.set(null,S),p.set(H,S),this.count++,y=wv.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),N?N.parentNode.insertBefore(S,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),f.state.loading|=4}}var j0={$$typeof:P,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function OY(l,f,p,y,S,N,H,J,he){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=N,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function RO(l,f,p,y,S,N,H,J,he,Ce,De,Ve){return l=new OY(l,f,p,H,he,Ce,De,Ve,J),f=1,N===!0&&(f|=24),N=Ya(3,null,null,f),l.current=N,N.stateNode=l,f=wb(),f.refCount++,l.pooledCache=f,f.refCount++,N.memoizedState={element:y,isDehydrated:p,cache:f},Sb(N),l}function OO(l){return l?(l=ad,l):ad}function MO(l,f,p,y,S,N){S=OO(S),y.context===null?y.context=S:y.pendingContext=S,y=dc(f),y.payload={element:p},N=N===void 0?null:N,N!==null&&(y.callback=N),p=hc(l,y,f),p!==null&&(Na(p,l,f),g0(p,l,f))}function DO(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<f?p:f}}function Hw(l,f){DO(l,f),(l=l.alternate)&&DO(l,f)}function FO(l){if(l.tag===13||l.tag===31){var f=Pu(l,67108864);f!==null&&Na(f,l,67108864),Hw(l,67108864)}}function LO(l){if(l.tag===13||l.tag===31){var f=es();f=Qi(f);var p=Pu(l,f);p!==null&&Na(p,l,f),Hw(l,f)}}var Av=!0;function MY(l,f,p,y){var S=ie.T;ie.T=null;var N=fe.p;try{fe.p=2,Gw(l,f,p,y)}finally{fe.p=N,ie.T=S}}function DY(l,f,p,y){var S=ie.T;ie.T=null;var N=fe.p;try{fe.p=8,Gw(l,f,p,y)}finally{fe.p=N,ie.T=S}}function Gw(l,f,p,y){if(Av){var S=qw(y);if(S===null)Pw(l,f,y,Sv,p),UO(l,y);else if(LY(S,l,f,p,y))y.stopPropagation();else if(UO(l,y),f&4&&-1<FY.indexOf(l)){for(;S!==null;){var N=Qe(S);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var H=ni(N.pendingLanes);if(H!==0){var J=N;for(J.pendingLanes|=2,J.entangledLanes|=2;H;){var he=1<<31-gt(H);J.entanglements[1]|=he,H&=~he}Ro(N),(xr&6)===0&&(lv=bt()+500,R0(0))}}break;case 31:case 13:J=Pu(N,2),J!==null&&Na(J,N,2),uv(),Hw(N,2)}if(N=qw(y),N===null&&Pw(l,f,y,Sv,p),N===S)break;S=N}S!==null&&y.stopPropagation()}else Pw(l,f,y,null,p)}}function qw(l){return l=oi(l),Kw(l)}var Sv=null;function Kw(l){if(Sv=null,l=Ye(l),l!==null){var f=a(l);if(f===null)l=null;else{var p=f.tag;if(p===13){if(l=s(f),l!==null)return l;l=null}else if(p===31){if(l=o(f),l!==null)return l;l=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return Sv=l,null}function jO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Kt:return 2;case Tr:return 8;case dt:case Mt:return 32;case Et:return 268435456;default:return 32}default:return 32}}var Ww=!1,Tc=null,Ac=null,Sc=null,U0=new Map,B0=new Map,Cc=[],FY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UO(l,f){switch(l){case"focusin":case"focusout":Tc=null;break;case"dragenter":case"dragleave":Ac=null;break;case"mouseover":case"mouseout":Sc=null;break;case"pointerover":case"pointerout":U0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":B0.delete(f.pointerId)}}function V0(l,f,p,y,S,N){return l===null||l.nativeEvent!==N?(l={blockedOn:f,domEventName:p,eventSystemFlags:y,nativeEvent:N,targetContainers:[S]},f!==null&&(f=Qe(f),f!==null&&FO(f)),l):(l.eventSystemFlags|=y,f=l.targetContainers,S!==null&&f.indexOf(S)===-1&&f.push(S),l)}function LY(l,f,p,y,S){switch(f){case"focusin":return Tc=V0(Tc,l,f,p,y,S),!0;case"dragenter":return Ac=V0(Ac,l,f,p,y,S),!0;case"mouseover":return Sc=V0(Sc,l,f,p,y,S),!0;case"pointerover":var N=S.pointerId;return U0.set(N,V0(U0.get(N)||null,l,f,p,y,S)),!0;case"gotpointercapture":return N=S.pointerId,B0.set(N,V0(B0.get(N)||null,l,f,p,y,S)),!0}return!1}function BO(l){var f=Ye(l.target);if(f!==null){var p=a(f);if(p!==null){if(f=p.tag,f===13){if(f=s(p),f!==null){l.blockedOn=f,se(l.priority,function(){LO(p)});return}}else if(f===31){if(f=o(p),f!==null){l.blockedOn=f,se(l.priority,function(){LO(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Cv(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var p=qw(l.nativeEvent);if(p===null){p=l.nativeEvent;var y=new p.constructor(p.type,p);fn=y,p.target.dispatchEvent(y),fn=null}else return f=Qe(p),f!==null&&FO(f),l.blockedOn=p,!1;f.shift()}return!0}function VO(l,f,p){Cv(l)&&p.delete(f)}function jY(){Ww=!1,Tc!==null&&Cv(Tc)&&(Tc=null),Ac!==null&&Cv(Ac)&&(Ac=null),Sc!==null&&Cv(Sc)&&(Sc=null),U0.forEach(VO),B0.forEach(VO)}function Nv(l,f){l.blockedOn===f&&(l.blockedOn=null,Ww||(Ww=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jY)))}var Iv=null;function zO(l){Iv!==l&&(Iv=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Iv===l&&(Iv=null);for(var f=0;f<l.length;f+=3){var p=l[f],y=l[f+1],S=l[f+2];if(typeof y!="function"){if(Kw(y||p)===null)continue;break}var N=Qe(p);N!==null&&(l.splice(f,3),f-=3,qb(N,{pending:!0,data:S,method:p.method,action:y},y,S))}}))}function Id(l){function f(he){return Nv(he,l)}Tc!==null&&Nv(Tc,l),Ac!==null&&Nv(Ac,l),Sc!==null&&Nv(Sc,l),U0.forEach(f),B0.forEach(f);for(var p=0;p<Cc.length;p++){var y=Cc[p];y.blockedOn===l&&(y.blockedOn=null)}for(;0<Cc.length&&(p=Cc[0],p.blockedOn===null);)BO(p),p.blockedOn===null&&Cc.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var S=p[y],N=p[y+1],H=S[ne]||null;if(typeof N=="function")H||zO(p);else if(H){var J=null;if(N&&N.hasAttribute("formAction")){if(S=N,H=N[ne]||null)J=H.formAction;else if(Kw(S)!==null)continue}else J=H.action;typeof J=="function"?p[y+1]=J:(p.splice(y,3),y-=3),zO(p)}}}function $O(){function l(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(H){return S=H})},focusReset:"manual",scroll:"manual"})}function f(){S!==null&&(S(),S=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),S!==null&&(S(),S=null)}}}function Yw(l){this._internalRoot=l}kv.prototype.render=Yw.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(n(409));var p=f.current,y=es();MO(p,y,l,f,null,null)},kv.prototype.unmount=Yw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;MO(l.current,2,null,l,null,null),uv(),f[oe]=null}};function kv(l){this._internalRoot=l}kv.prototype.unstable_scheduleHydration=function(l){if(l){var f=Y();l={blockedOn:null,target:l,priority:f};for(var p=0;p<Cc.length&&f!==0&&f<Cc[p].priority;p++);Cc.splice(p,0,l),p===0&&BO(l)}};var HO=t.version;if(HO!=="19.2.4")throw Error(n(527,HO,"19.2.4"));fe.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=u(f),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var UY={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pv.isDisabled&&Pv.supportsFiber)try{Vt=Pv.inject(UY),br=Pv}catch{}}return $0.createRoot=function(l,f){if(!i(l))throw Error(n(299));var p=!1,y="",S=XP,N=ZP,H=QP;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(y=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(H=f.onRecoverableError)),f=RO(l,1,!1,null,null,p,y,null,S,N,H,$O),l[oe]=f.current,kw(l),new Yw(f)},$0.hydrateRoot=function(l,f,p){if(!i(l))throw Error(n(299));var y=!1,S="",N=XP,H=ZP,J=QP,he=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(H=p.onCaughtError),p.onRecoverableError!==void 0&&(J=p.onRecoverableError),p.formState!==void 0&&(he=p.formState)),f=RO(l,1,!0,f,p??null,y,S,he,N,H,J,$O),f.context=OO(null),p=f.current,y=es(),y=Qi(y),S=dc(y),S.callback=null,hc(p,S,y),p=y,f.current.lanes=p,wa(f,p),Ro(f),l[oe]=f.current,kw(l),new kv(f)},$0.version="19.2.4",$0}var e4;function JY(){if(e4)return Zw.exports;e4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zw.exports=YY(),Zw.exports}var XY=JY();const ZY=Us(XY);const Q8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const QY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const eJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const t4=e=>{const t=eJ(e);return t.charAt(0).toUpperCase()+t.slice(1)};var tJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const nJ=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>M.createElement("svg",{ref:c,...tJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Q8("lucide",i),...!a&&!rJ(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>M.createElement(u,d)),...Array.isArray(a)?a:[a]]));const st=(e,t)=>{const r=M.forwardRef(({className:n,...i},a)=>M.createElement(nJ,{ref:a,iconNode:t,className:Q8(`lucide-${QY(t4(e))}`,`lucide-${e}`,n),...i}));return r.displayName=t4(e),r};const iJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],r4=st("activity",iJ);const aJ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],sJ=st("arrow-down-right",aJ);const oJ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],lJ=st("arrow-down",oJ);const cJ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yA=st("arrow-left",cJ);const uJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fJ=st("arrow-right",uJ);const dJ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],hJ=st("arrow-up-right",dJ);const pJ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],mJ=st("arrow-up",pJ);const gJ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ss=st("briefcase",gJ);const vJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hp=st("calendar",vJ);const yJ=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xJ=st("camera",yJ);const _J=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],bJ=st("check-check",_J);const wJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uh=st("check",wJ);const EJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],TJ=st("chevron-left",EJ);const AJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eU=st("chevron-right",AJ);const SJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ki=st("circle-alert",SJ);const CJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],af=st("circle-check-big",CJ);const NJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tU=st("circle-check",NJ);const IJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kJ=st("circle-question-mark",IJ);const PJ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RJ=st("clock",PJ);const OJ=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],xA=st("cloud",OJ);const MJ=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],DJ=st("cookie",MJ);const FJ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LJ=st("copy",FJ);const jJ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_A=st("database",jJ);const UJ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rU=st("dollar-sign",UJ);const BJ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],VJ=st("download",BJ);const zJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],bA=st("external-link",zJ);const $J=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nU=st("eye-off",$J);const HJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iU=st("eye",HJ);const GJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ey=st("file-spreadsheet",GJ);const qJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ty=st("file-text",qJ);const KJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Sp=st("file-up",KJ);const WJ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],U2=st("funnel",WJ);const YJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Gp=st("globe",YJ);const JJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aU=st("info",JJ);const XJ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xd=st("key",XJ);const ZJ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],sU=st("layers",ZJ);const QJ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rE=st("layout-dashboard",QJ);const eX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$c=st("loader-circle",eX);const tX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wA=st("lock",tX);const rX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nX=st("log-out",rX);const iX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sl=st("map-pin",iX);const aX=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],sX=st("map",aX);const oX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],lX=st("maximize-2",oX);const cX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uX=st("menu",cX);const fX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],EA=st("message-square",fX);const dX=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],n4=st("minimize-2",dX);const hX=[["path",{d:"M5 12h14",key:"1ays0h"}]],pX=st("minus",hX);const mX=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ao=st("package",mX);const gX=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vX=st("pen-line",gX);const yX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xX=st("pen",yX);const _X=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],nE=st("pencil",_X);const bX=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],oU=st("phone",bX);const wX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],B2=st("plus",wX);const EX=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],TX=st("refresh-ccw",EX);const AX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mm=st("save",AX);const SX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zo=st("search",SX);const CX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],NX=st("send",CX);const IX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TA=st("shield-check",IX);const kX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],AA=st("shield",kX);const PX=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ro=st("shopping-bag",PX);const RX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],i4=st("sparkles",RX);const OX=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],qp=st("store",OX);const MX=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],DX=st("table",MX);const FX=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],V2=st("tag",FX);const LX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pf=st("trash-2",LX);const jX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lU=st("trending-up",jX);const UX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],BX=st("upload",UX);const VX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],a4=st("user-plus",VX);const zX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ma=st("user",zX);const $X=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Kp=st("users",$X);const HX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],La=st("x",HX),cU={admin_dev:" Admin DEV",admin_general:" Admin Geral",general_manager:" Gerente Geral",sales_manager:" Gerente de Vendas",sales_supervisor:" Supervisor de Vendas",sales_internal:" Vendedor Interno",sales_external:" Vendedor Externo",admin:" Admin (Legado)",salesperson:" Vendedor (Legado)"},Ra={admin_dev:1,admin:1,admin_general:2,general_manager:3,sales_manager:4,sales_supervisor:5,sales_internal:6,sales_external:7,salesperson:7},s4=e=>cU[e]||e,GX=e=>e==="admin"?"admin_dev":e==="salesperson"?"sales_external":e,qX=e=>{const t=Ra[e],r=["admin_dev","admin_general","general_manager","sales_manager","sales_supervisor","sales_internal","sales_external"];return t===1?r:r.filter(n=>Ra[n]>t)},iE=(e,t)=>{const r=Ra[e],n=Ra[t];return n===1?r===1:r<n},SA=e=>Ra[e]<=2,zd=e=>Ra[e]>=3,CA=e=>Ra[e]<=5,cp=e=>e.map(t=>t.id==="admin"||t.username==="admin"?{...t,role:"admin_dev",name:"Admin DEV",salesCategory:"N/A"}:t.role==="admin"?{...t,role:"admin_dev"}:t.role==="salesperson"?{...t,role:"sales_external"}:t),fh=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],Wp=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],KX={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},Yp=e=>{const t=e.toUpperCase().trim();return KX[t]||"Indefinido"};var Ay={exports:{}};var WX=Ay.exports,o4;function YX(){return o4||(o4=1,(function(e,t){((r,n)=>{e.exports=n()})(WX,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},c=0,u={};function d(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(O){var B=F(O);B.chunkSize=parseInt(B.chunkSize),O.step||O.chunk||(B.chunkSize=null),this._handle=new w(B),(this._handle.streamer=this)._config=B}).call(this,k),this.parseChunk=function(O,B){var V=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<V){let G=this._config.newline;G||(j=this._config.quoteChar||'"',G=this._handle.guessLineEndings(O,j)),O=[...O.split(G).slice(V)].join(G)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(O))!==void 0&&(O=j),this.isFirstChunk=!1,this._halted=!1;var V=this._partialLine+O,j=(this._partialLine="",this._handle.parse(V,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(O=j.meta.cursor,V=(this._finished||(this._partialLine=V.substring(O-this._baseIndex),this._baseIndex=O),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:j,workerId:u.WORKER_ID,finished:V});else if(I(this._config.chunk)&&!B){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!V||!I(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),V||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(O){I(this._config.error)?this._config.error(O):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:O,finished:!1})}}function h(k){var O;(k=k||{}).chunkSize||(k.chunkSize=u.RemoteChunkSize),d.call(this,k),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),a||(O.onload=R(this._chunkLoaded,this),O.onerror=R(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var B,V=this._config.downloadRequestHeaders;for(B in V)O.setRequestHeader(B,V[B])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,O.setRequestHeader("Range","bytes="+this._start+"-"+j));try{O.send(this._config.downloadRequestBody)}catch(G){this._chunkError(G.message)}a&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize||O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(B=>(B=B.getResponseHeader("Content-Range"))!==null?parseInt(B.substring(B.lastIndexOf("/")+1)):-1)(O),this.parseChunk(O.responseText)))},this._chunkError=function(B){B=O.statusText||B,this._sendError(new Error(B))}}function g(k){(k=k||{}).chunkSize||(k.chunkSize=u.LocalChunkSize),d.call(this,k);var O,B,V=typeof FileReader<"u";this.stream=function(j){this._input=j,B=j.slice||j.webkitSlice||j.mozSlice,V?((O=new FileReader).onload=R(this._chunkLoaded,this),O.onerror=R(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,G=(this._config.chunkSize&&(G=Math.min(this._start+this._config.chunkSize,this._input.size),j=B.call(j,this._start,G)),O.readAsText(j,this._config.encoding));V||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(O.error)}}function x(k){var O;d.call(this,k=k||{}),this.stream=function(B){return O=B,this._nextChunk()},this._nextChunk=function(){var B,V;if(!this._finished)return B=this._config.chunkSize,O=B?(V=O.substring(0,B),O.substring(B)):(V=O,""),this._finished=!O,this.parseChunk(V)}}function _(k){d.call(this,k=k||{});var O=[],B=!0,V=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){V&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):B=!0},this._streamData=R(function(j){try{O.push(typeof j=="string"?j:j.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(G){this._streamError(G)}},this),this._streamError=R(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=R(function(){this._streamCleanUp(),V=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(k){var O,B,V,j,G=Math.pow(2,53),de=-G,ge=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,fe=this,ue=0,ae=0,_e=!1,X=!1,z=[],te={data:[],errors:[],meta:{}};function Z(ke){return k.skipEmptyLines==="greedy"?ke.join("").trim()==="":ke.length===1&&ke[0].length===0}function K(){if(te&&V&&(xe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),V=!1),k.skipEmptyLines&&(te.data=te.data.filter(function(W){return!Z(W)})),pe()){let W=function(Je,Be){I(k.transformHeader)&&(Je=k.transformHeader(Je,Be)),z.push(Je)};var Fe=W;if(te)if(Array.isArray(te.data[0])){for(var ke=0;pe()&&ke<te.data.length;ke++)te.data[ke].forEach(W);te.data.splice(0,1)}else te.data.forEach(W)}function le(W,Je){for(var Be=k.header?{}:[],We=0;We<W.length;We++){var $e=We,Le=W[We],Le=((Xe,tt)=>(pt=>(k.dynamicTypingFunction&&k.dynamicTyping[pt]===void 0&&(k.dynamicTyping[pt]=k.dynamicTypingFunction(pt)),(k.dynamicTyping[pt]||k.dynamicTyping)===!0))(Xe)?tt==="true"||tt==="TRUE"||tt!=="false"&&tt!=="FALSE"&&((pt=>{if(ge.test(pt)&&(pt=parseFloat(pt),de<pt&&pt<G))return 1})(tt)?parseFloat(tt):ie.test(tt)?new Date(tt):tt===""?null:tt):tt)($e=k.header?We>=z.length?"__parsed_extra":z[We]:$e,Le=k.transform?k.transform(Le,$e):Le);$e==="__parsed_extra"?(Be[$e]=Be[$e]||[],Be[$e].push(Le)):Be[$e]=Le}return k.header&&(We>z.length?xe("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+We,ae+Je):We<z.length&&xe("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+We,ae+Je)),Be}var ve;te&&(k.header||k.dynamicTyping||k.transform)&&(ve=1,!te.data.length||Array.isArray(te.data[0])?(te.data=te.data.map(le),ve=te.data.length):te.data=le(te.data,0),k.header&&te.meta&&(te.meta.fields=z),ae+=ve)}function pe(){return k.header&&z.length===0}function xe(ke,le,ve,Fe){ke={type:ke,code:le,message:ve},Fe!==void 0&&(ke.row=Fe),te.errors.push(ke)}I(k.step)&&(j=k.step,k.step=function(ke){te=ke,pe()?K():(K(),te.data.length!==0&&(ue+=ke.data.length,k.preview&&ue>k.preview?B.abort():(te.data=te.data[0],j(te,fe))))}),this.parse=function(ke,le,ve){var Fe=k.quoteChar||'"',Fe=(k.newline||(k.newline=this.guessLineEndings(ke,Fe)),V=!1,k.delimiter?I(k.delimiter)&&(k.delimiter=k.delimiter(ke),te.meta.delimiter=k.delimiter):((Fe=((W,Je,Be,We,$e)=>{var Le,Xe,tt,pt;$e=$e||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var kt=0;kt<$e.length;kt++){for(var qr,Vr=$e[kt],bt=0,_r=0,Kt=0,Tr=(tt=void 0,new C({comments:We,delimiter:Vr,newline:Je,preview:10}).parse(W)),dt=0;dt<Tr.data.length;dt++)Be&&Z(Tr.data[dt])?Kt++:(qr=Tr.data[dt].length,_r+=qr,tt===void 0?tt=qr:0<qr&&(bt+=Math.abs(qr-tt),tt=qr));0<Tr.data.length&&(_r/=Tr.data.length-Kt),(Xe===void 0||bt<=Xe)&&(pt===void 0||pt<_r)&&1.99<_r&&(Xe=bt,Le=Vr,pt=_r)}return{successful:!!(k.delimiter=Le),bestDelimiter:Le}})(ke,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=Fe.bestDelimiter:(V=!0,k.delimiter=u.DefaultDelimiter),te.meta.delimiter=k.delimiter),F(k));return k.preview&&k.header&&Fe.preview++,O=ke,B=new C(Fe),te=B.parse(O,le,ve),K(),_e?{meta:{paused:!0}}:te||{meta:{paused:!1}}},this.paused=function(){return _e},this.pause=function(){_e=!0,B.abort(),O=I(k.chunk)?"":O.substring(B.getCharIndex())},this.resume=function(){fe.streamer._halted?(_e=!1,fe.streamer.parseChunk(O,!0)):setTimeout(fe.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,B.abort(),te.meta.aborted=!0,I(k.complete)&&k.complete(te),O=""},this.guessLineEndings=function(W,Fe){W=W.substring(0,1048576);var Fe=new RegExp(T(Fe)+"([^]*?)"+T(Fe),"gm"),ve=(W=W.replace(Fe,"")).split("\r"),Fe=W.split(`
`),W=1<Fe.length&&Fe[0].length<ve[0].length;if(ve.length===1||W)return`
`;for(var Je=0,Be=0;Be<ve.length;Be++)ve[Be][0]===`
`&&Je++;return Je>=ve.length/2?`\r
`:"\r"}}function T(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C(k){var O=(k=k||{}).delimiter,B=k.newline,V=k.comments,j=k.step,G=k.preview,de=k.fastMode,ge=null,ie=!1,fe=k.quoteChar==null?'"':k.quoteChar,ue=fe;if(k.escapeChar!==void 0&&(ue=k.escapeChar),(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=","),V===O)throw new Error("Comment character same as delimiter");V===!0?V="#":(typeof V!="string"||-1<u.BAD_DELIMITERS.indexOf(V))&&(V=!1),B!==`
`&&B!=="\r"&&B!==`\r
`&&(B=`
`);var ae=0,_e=!1;this.parse=function(X,z,te){if(typeof X!="string")throw new Error("Input must be a string");var Z=X.length,K=O.length,pe=B.length,xe=V.length,ke=I(j),le=[],ve=[],Fe=[],W=ae=0;if(!X)return bt();if(de||de!==!1&&X.indexOf(fe)===-1){for(var Je=X.split(B),Be=0;Be<Je.length;Be++){if(Fe=Je[Be],ae+=Fe.length,Be!==Je.length-1)ae+=B.length;else if(te)return bt();if(!V||Fe.substring(0,xe)!==V){if(ke){if(le=[],pt(Fe.split(O)),_r(),_e)return bt()}else pt(Fe.split(O));if(G&&G<=Be)return le=le.slice(0,G),bt(!0)}}return bt()}for(var We=X.indexOf(O,ae),$e=X.indexOf(B,ae),Le=new RegExp(T(ue)+T(fe),"g"),Xe=X.indexOf(fe,ae);;)if(X[ae]===fe)for(Xe=ae,ae++;;){if((Xe=X.indexOf(fe,Xe+1))===-1)return te||ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:le.length,index:ae}),qr();if(Xe===Z-1)return qr(X.substring(ae,Xe).replace(Le,fe));if(fe===ue&&X[Xe+1]===ue)Xe++;else if(fe===ue||Xe===0||X[Xe-1]!==ue){We!==-1&&We<Xe+1&&(We=X.indexOf(O,Xe+1));var tt=kt(($e=$e!==-1&&$e<Xe+1?X.indexOf(B,Xe+1):$e)===-1?We:Math.min(We,$e));if(X.substr(Xe+1+tt,K)===O){Fe.push(X.substring(ae,Xe).replace(Le,fe)),X[ae=Xe+1+tt+K]!==fe&&(Xe=X.indexOf(fe,ae)),We=X.indexOf(O,ae),$e=X.indexOf(B,ae);break}if(tt=kt($e),X.substring(Xe+1+tt,Xe+1+tt+pe)===B){if(Fe.push(X.substring(ae,Xe).replace(Le,fe)),Vr(Xe+1+tt+pe),We=X.indexOf(O,ae),Xe=X.indexOf(fe,ae),ke&&(_r(),_e))return bt();if(G&&le.length>=G)return bt(!0);break}ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:le.length,index:ae}),Xe++}}else if(V&&Fe.length===0&&X.substring(ae,ae+xe)===V){if($e===-1)return bt();ae=$e+pe,$e=X.indexOf(B,ae),We=X.indexOf(O,ae)}else if(We!==-1&&(We<$e||$e===-1))Fe.push(X.substring(ae,We)),ae=We+K,We=X.indexOf(O,ae);else{if($e===-1)break;if(Fe.push(X.substring(ae,$e)),Vr($e+pe),ke&&(_r(),_e))return bt();if(G&&le.length>=G)return bt(!0)}return qr();function pt(Kt){le.push(Kt),W=ae}function kt(Kt){var Tr=0;return Tr=Kt!==-1&&(Kt=X.substring(Xe+1,Kt))&&Kt.trim()===""?Kt.length:Tr}function qr(Kt){return te||(Kt===void 0&&(Kt=X.substring(ae)),Fe.push(Kt),ae=Z,pt(Fe),ke&&_r()),bt()}function Vr(Kt){ae=Kt,pt(Fe),Fe=[],$e=X.indexOf(B,ae)}function bt(Kt){if(k.header&&!z&&le.length&&!ie){var Tr=le[0],dt=Object.create(null),Mt=new Set(Tr);let Et=!1;for(let rr=0;rr<Tr.length;rr++){let Ht=Tr[rr];if(dt[Ht=I(k.transformHeader)?k.transformHeader(Ht,rr):Ht]){let Vt,br=dt[Ht];for(;Vt=Ht+"_"+br,br++,Mt.has(Vt););Mt.add(Vt),Tr[rr]=Vt,dt[Ht]++,Et=!0,(ge=ge===null?{}:ge)[Vt]=Ht}else dt[Ht]=1,Tr[rr]=Ht;Mt.add(Ht)}Et&&console.warn("Duplicate headers found and renamed."),ie=!0}return{data:le,errors:ve,meta:{delimiter:O,linebreak:B,aborted:_e,truncated:!!Kt,cursor:W+(z||0),renamedHeaders:ge}}}function _r(){j(bt()),le=[],ve=[]}},this.abort=function(){_e=!0},this.getCharIndex=function(){return ae}}function L(k){var O=k.data,B=o[O.workerId],V=!1;if(O.error)B.userError(O.error,O.file);else if(O.results&&O.results.data){var j={abort:function(){V=!0,P(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(I(B.userStep)){for(var G=0;G<O.results.data.length&&(B.userStep({data:O.results.data[G],errors:O.results.errors,meta:O.results.meta},j),!V);G++);delete O.results}else I(B.userChunk)&&(B.userChunk(O.results,j,O.file),delete O.results)}O.finished&&!V&&P(O.workerId,O.results)}function P(k,O){var B=o[k];I(B.userComplete)&&B.userComplete(O),B.terminate(),delete o[k]}function D(){throw new Error("Not implemented.")}function F(k){if(typeof k!="object"||k===null)return k;var O,B=Array.isArray(k)?[]:{};for(O in k)B[O]=F(k[O]);return B}function R(k,O){return function(){k.apply(O,arguments)}}function I(k){return typeof k=="function"}return u.parse=function(k,O){var B=(O=O||{}).dynamicTyping||!1;if(I(B)&&(O.dynamicTypingFunction=B,B={}),O.dynamicTyping=B,O.transform=!!I(O.transform)&&O.transform,!O.worker||!u.WORKERS_SUPPORTED)return B=null,u.NODE_STREAM_INPUT,typeof k=="string"?(k=(V=>V.charCodeAt(0)!==65279?V:V.slice(1))(k),B=new(O.download?h:x)(O)):k.readable===!0&&I(k.read)&&I(k.on)?B=new _(O):(n.File&&k instanceof File||k instanceof Object)&&(B=new g(O)),B.stream(k);(B=(()=>{var V;return!!u.WORKERS_SUPPORTED&&(V=(()=>{var j=n.URL||n.webkitURL||null,G=r.toString();return u.BLOB_URL||(u.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",G,")();"],{type:"text/javascript"})))})(),(V=new n.Worker(V)).onmessage=L,V.id=c++,o[V.id]=V)})()).userStep=O.step,B.userChunk=O.chunk,B.userComplete=O.complete,B.userError=O.error,O.step=I(O.step),O.chunk=I(O.chunk),O.complete=I(O.complete),O.error=I(O.error),delete O.worker,B.postMessage({input:k,config:O,workerId:B.id})},u.unparse=function(k,O){var B=!1,V=!0,j=",",G=`\r
`,de='"',ge=de+de,ie=!1,fe=null,ue=!1,ae=((()=>{if(typeof O=="object"){if(typeof O.delimiter!="string"||u.BAD_DELIMITERS.filter(function(z){return O.delimiter.indexOf(z)!==-1}).length||(j=O.delimiter),typeof O.quotes!="boolean"&&typeof O.quotes!="function"&&!Array.isArray(O.quotes)||(B=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||(ie=O.skipEmptyLines),typeof O.newline=="string"&&(G=O.newline),typeof O.quoteChar=="string"&&(de=O.quoteChar),typeof O.header=="boolean"&&(V=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");fe=O.columns}O.escapeChar!==void 0&&(ge=O.escapeChar+de),O.escapeFormulae instanceof RegExp?ue=O.escapeFormulae:typeof O.escapeFormulae=="boolean"&&O.escapeFormulae&&(ue=/^[=+\-@\t\r].*$/)}})(),new RegExp(T(de),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return _e(null,k,ie);if(typeof k[0]=="object")return _e(fe||Object.keys(k[0]),k,ie)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||fe),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),_e(k.fields||[],k.data||[],ie);throw new Error("Unable to serialize unrecognized input");function _e(z,te,Z){var K="",pe=(typeof z=="string"&&(z=JSON.parse(z)),typeof te=="string"&&(te=JSON.parse(te)),Array.isArray(z)&&0<z.length),xe=!Array.isArray(te[0]);if(pe&&V){for(var ke=0;ke<z.length;ke++)0<ke&&(K+=j),K+=X(z[ke],ke);0<te.length&&(K+=G)}for(var le=0;le<te.length;le++){var ve=(pe?z:te[le]).length,Fe=!1,W=pe?Object.keys(te[le]).length===0:te[le].length===0;if(Z&&!pe&&(Fe=Z==="greedy"?te[le].join("").trim()==="":te[le].length===1&&te[le][0].length===0),Z==="greedy"&&pe){for(var Je=[],Be=0;Be<ve;Be++){var We=xe?z[Be]:Be;Je.push(te[le][We])}Fe=Je.join("").trim()===""}if(!Fe){for(var $e=0;$e<ve;$e++){0<$e&&!W&&(K+=j);var Le=pe&&xe?z[$e]:$e;K+=X(te[le][Le],$e)}le<te.length-1&&(!Z||0<ve&&!W)&&(K+=G)}}return K}function X(z,te){var Z,K;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(K=!1,ue&&typeof z=="string"&&ue.test(z)&&(z="'"+z,K=!0),Z=z.toString().replace(ae,ge),(K=K||B===!0||typeof B=="function"&&B(z,te)||Array.isArray(B)&&B[te]||((pe,xe)=>{for(var ke=0;ke<xe.length;ke++)if(-1<pe.indexOf(xe[ke]))return!0;return!1})(Z,u.BAD_DELIMITERS)||-1<Z.indexOf(j)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?de+Z+de:Z)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=C,u.ParserHandle=w,u.NetworkStreamer=h,u.FileStreamer=g,u.StringStreamer=x,u.ReadableStreamStreamer=_,n.jQuery&&((i=n.jQuery).fn.parse=function(k){var O=k.config||{},B=[];return this.each(function(G){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var de=0;de<this.files.length;de++)B.push({file:this.files[de],inputElem:this,instanceConfig:i.extend({},O)})}),V(),this;function V(){if(B.length===0)I(k.complete)&&k.complete();else{var G,de,ge,ie,fe=B[0];if(I(k.before)){var ue=k.before(fe.file,fe.inputElem);if(typeof ue=="object"){if(ue.action==="abort")return G="AbortError",de=fe.file,ge=fe.inputElem,ie=ue.reason,void(I(k.error)&&k.error({name:G},de,ge,ie));if(ue.action==="skip")return void j();typeof ue.config=="object"&&(fe.instanceConfig=i.extend(fe.instanceConfig,ue.config))}else if(ue==="skip")return void j()}var ae=fe.instanceConfig.complete;fe.instanceConfig.complete=function(_e){I(ae)&&ae(_e,fe.file,fe.inputElem),j()},u.parse(fe.file,fe.instanceConfig)}}function j(){B.splice(0,1),V()}}),s&&(n.onmessage=function(k){k=k.data,u.WORKER_ID===void 0&&k&&(u.WORKER_ID=k.workerId),typeof k.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(k.input,k.config),finished:!0}):(n.File&&k.input instanceof File||k.input instanceof Object)&&(k=u.parse(k.input,k.config))&&n.postMessage({workerId:u.WORKER_ID,results:k,finished:!0})}),(h.prototype=Object.create(d.prototype)).constructor=h,(g.prototype=Object.create(d.prototype)).constructor=g,(x.prototype=Object.create(x.prototype)).constructor=x,(_.prototype=Object.create(d.prototype)).constructor=_,u})})(Ay)),Ay.exports}var JX=YX();const z2=Us(JX);function ze(e,t,r){function n(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,c);const u=s.prototype,d=Object.keys(u);for(let h=0;h<d.length;h++){const g=d[h];g in o||(o[g]=u[g].bind(o))}}const i=r?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function s(o){var c;const u=r?.Parent?new a:this;n(u,o),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class Zd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class uU extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const fU={};function mf(e){return fU}function dU(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,i])=>t.indexOf(+n)===-1).map(([n,i])=>i)}function NA(e,t){return typeof t=="bigint"?t.toString():t}function $2(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function H2(e){return e==null}function G2(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function XX(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){const c=n.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}const a=r>i?r:i,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}const l4=Symbol("evaluating");function Pr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==l4)return n===void 0&&(n=l4,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Mf(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function fu(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function c4(e){return JSON.stringify(e)}function ZX(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const hU="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Qy(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const QX=$2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Jp(e){if(Qy(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Qy(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function pU(e){return Jp(e)?{...e}:Array.isArray(e)?[...e]:e}const eZ=new Set(["string","number","symbol"]);function dh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function du(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function _t(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function tZ(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const rZ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function nZ(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=fu(e._zod.def,{get shape(){const s={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=r.shape[o])}return Mf(this,"shape",s),s},checks:[]});return du(e,a)}function iZ(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=fu(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete s[o]}return Mf(this,"shape",s),s},checks:[]});return du(e,a)}function aZ(e,t){if(!Jp(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const a=e._zod.def.shape;for(const s in t)if(Object.getOwnPropertyDescriptor(a,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=fu(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Mf(this,"shape",a),a}});return du(e,i)}function sZ(e,t){if(!Jp(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=fu(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Mf(this,"shape",n),n}});return du(e,r)}function oZ(e,t){const r=fu(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Mf(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return du(e,r)}function lZ(e,t,r){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=fu(t._zod.def,{get shape(){const o=t._zod.def.shape,c={...o};if(r)for(const u in r){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(const u in o)c[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return Mf(this,"shape",c),c},checks:[]});return du(t,s)}function cZ(e,t,r){const n=fu(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(r)for(const s in r){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(a[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)a[s]=new e({type:"nonoptional",innerType:i[s]});return Mf(this,"shape",a),a}});return du(t,n)}function $d(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function mU(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Rv(e){return typeof e=="string"?e:e?.message}function gf(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const i=Rv(e.inst?._zod.def?.error?.(e))??Rv(t?.error?.(e))??Rv(r.customError?.(e))??Rv(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function q2(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Xp(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const gU=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,NA,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},vU=ze("$ZodError",gU),yU=ze("$ZodError",gU,{Parent:Error});function uZ(e,t=r=>r.message){const r={},n=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function fZ(e,t=r=>r.message){const r={_errors:[]},n=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(s=>n({issues:s}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let s=r,o=0;for(;o<a.path.length;){const c=a.path[o];o===a.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(t(a))):s[c]=s[c]||{_errors:[]},s=s[c],o++}}};return n(e),r}const K2=e=>(t,r,n,i)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new Zd;if(s.issues.length){const o=new(i?.Err??e)(s.issues.map(c=>gf(c,a,mf())));throw hU(o,i?.callee),o}return s.value},W2=e=>async(t,r,n,i)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new(i?.Err??e)(s.issues.map(c=>gf(c,a,mf())));throw hU(o,i?.callee),o}return s.value},D1=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new Zd;return a.issues.length?{success:!1,error:new(e??vU)(a.issues.map(s=>gf(s,i,mf())))}:{success:!0,data:a.value}},dZ=D1(yU),F1=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(s=>gf(s,i,mf())))}:{success:!0,data:a.value}},hZ=F1(yU),pZ=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return K2(e)(t,r,i)},mZ=e=>(t,r,n)=>K2(e)(t,r,n),gZ=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return W2(e)(t,r,i)},vZ=e=>async(t,r,n)=>W2(e)(t,r,n),yZ=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return D1(e)(t,r,i)},xZ=e=>(t,r,n)=>D1(e)(t,r,n),_Z=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return F1(e)(t,r,i)},bZ=e=>async(t,r,n)=>F1(e)(t,r,n),wZ=/^[cC][^\s-]{8,}$/,EZ=/^[0-9a-z]+$/,TZ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,AZ=/^[0-9a-vA-V]{20}$/,SZ=/^[A-Za-z0-9]{27}$/,CZ=/^[a-zA-Z0-9_-]{21}$/,NZ=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,IZ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,u4=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,kZ=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,PZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function RZ(){return new RegExp(PZ,"u")}const OZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,DZ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,FZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LZ=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,xU=/^[A-Za-z0-9_-]*$/,jZ=/^\+[1-9]\d{6,14}$/,_U="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",UZ=new RegExp(`^${_U}$`);function bU(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function BZ(e){return new RegExp(`^${bU(e)}$`)}function VZ(e){const t=bU({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${_U}T(?:${n})$`)}const zZ=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},$Z=/^-?\d+$/,HZ=/^-?\d+(?:\.\d+)?$/,GZ=/^[^A-Z]*$/,qZ=/^[^a-z]*$/,Ba=ze("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),wU={number:"number",bigint:"bigint",object:"date"},EU=ze("$ZodCheckLessThan",(e,t)=>{Ba.init(e,t);const r=wU[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),TU=ze("$ZodCheckGreaterThan",(e,t)=>{Ba.init(e,t);const r=wU[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),KZ=ze("$ZodCheckMultipleOf",(e,t)=>{Ba.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):XX(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),WZ=ze("$ZodCheckNumberFormat",(e,t)=>{Ba.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[i,a]=rZ[t.format];e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,o.minimum=i,o.maximum=a,r&&(o.pattern=$Z)}),e._zod.check=s=>{const o=s.value;if(r){if(!Number.isInteger(o)){s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),YZ=ze("$ZodCheckMaxLength",(e,t)=>{var r;Ba.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!H2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const i=n.value;if(i.length<=t.maximum)return;const s=q2(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),JZ=ze("$ZodCheckMinLength",(e,t)=>{var r;Ba.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!H2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const i=n.value;if(i.length>=t.minimum)return;const s=q2(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),XZ=ze("$ZodCheckLengthEquals",(e,t)=>{var r;Ba.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!H2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{const i=n.value,a=i.length;if(a===t.length)return;const s=q2(i),o=a>t.length;n.issues.push({origin:s,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),L1=ze("$ZodCheckStringFormat",(e,t)=>{var r,n;Ba.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),ZZ=ze("$ZodCheckRegex",(e,t)=>{L1.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),QZ=ze("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=GZ),L1.init(e,t)}),eQ=ze("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=qZ),L1.init(e,t)}),tQ=ze("$ZodCheckIncludes",(e,t)=>{Ba.init(e,t);const r=dh(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),rQ=ze("$ZodCheckStartsWith",(e,t)=>{Ba.init(e,t);const r=new RegExp(`^${dh(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),nQ=ze("$ZodCheckEndsWith",(e,t)=>{Ba.init(e,t);const r=new RegExp(`.*${dh(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),iQ=ze("$ZodCheckOverwrite",(e,t)=>{Ba.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class aQ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),a=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const t=Function,r=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,i.join(`
`))}}const sQ={major:4,minor:3,patch:6},kn=ze("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=sQ;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const a of i._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(s,o,c)=>{let u=$d(s),d;for(const h of o){if(h._zod.def.when){if(!h._zod.def.when(s))continue}else if(u)continue;const g=s.issues.length,x=h._zod.check(s);if(x instanceof Promise&&c?.async===!1)throw new Zd;if(d||x instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await x,s.issues.length!==g&&(u||(u=$d(s,g)))});else{if(s.issues.length===g)continue;u||(u=$d(s,g))}}return d?d.then(()=>s):s},a=(s,o,c)=>{if($d(s))return s.aborted=!0,s;const u=i(o,n,c);if(u instanceof Promise){if(c.async===!1)throw new Zd;return u.then(d=>e._zod.parse(d,c))}return e._zod.parse(u,c)};e._zod.run=(s,o)=>{if(o.skipChecks)return e._zod.parse(s,o);if(o.direction==="backward"){const u=e._zod.parse({value:s.value,issues:[]},{...o,skipChecks:!0});return u instanceof Promise?u.then(d=>a(d,s,o)):a(u,s,o)}const c=e._zod.parse(s,o);if(c instanceof Promise){if(o.async===!1)throw new Zd;return c.then(u=>i(u,n,o))}return i(c,n,o)}}Pr(e,"~standard",()=>({validate:i=>{try{const a=dZ(e,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return hZ(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),Y2=ze("$ZodString",(e,t)=>{kn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??zZ(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),an=ze("$ZodStringFormat",(e,t)=>{L1.init(e,t),Y2.init(e,t)}),oQ=ze("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=IZ),an.init(e,t)}),lQ=ze("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=u4(n))}else t.pattern??(t.pattern=u4());an.init(e,t)}),cQ=ze("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=kZ),an.init(e,t)}),uQ=ze("$ZodURL",(e,t)=>{an.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),fQ=ze("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=RZ()),an.init(e,t)}),dQ=ze("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=CZ),an.init(e,t)}),hQ=ze("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=wZ),an.init(e,t)}),pQ=ze("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=EZ),an.init(e,t)}),mQ=ze("$ZodULID",(e,t)=>{t.pattern??(t.pattern=TZ),an.init(e,t)}),gQ=ze("$ZodXID",(e,t)=>{t.pattern??(t.pattern=AZ),an.init(e,t)}),vQ=ze("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=SZ),an.init(e,t)}),yQ=ze("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=VZ(t)),an.init(e,t)}),xQ=ze("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=UZ),an.init(e,t)}),_Q=ze("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=BZ(t)),an.init(e,t)}),bQ=ze("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=NZ),an.init(e,t)}),wQ=ze("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=OZ),an.init(e,t),e._zod.bag.format="ipv4"}),EQ=ze("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=MZ),an.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),TQ=ze("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=DZ),an.init(e,t)}),AQ=ze("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=FZ),an.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[i,a]=n;if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function AU(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const SQ=ze("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=LZ),an.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{AU(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function CQ(e){if(!xU.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return AU(r)}const NQ=ze("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=xU),an.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{CQ(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),IQ=ze("$ZodE164",(e,t)=>{t.pattern??(t.pattern=jZ),an.init(e,t)});function kQ(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const PQ=ze("$ZodJWT",(e,t)=>{an.init(e,t),e._zod.check=r=>{kQ(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),SU=ze("$ZodNumber",(e,t)=>{kn.init(e,t),e._zod.pattern=e._zod.bag.pattern??HZ,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),RQ=ze("$ZodNumberFormat",(e,t)=>{WZ.init(e,t),SU.init(e,t)}),OQ=ze("$ZodUnknown",(e,t)=>{kn.init(e,t),e._zod.parse=r=>r}),MQ=ze("$ZodNever",(e,t)=>{kn.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function f4(e,t,r){e.issues.length&&t.issues.push(...mU(r,e.issues)),t.value[r]=e.value}const DQ=ze("$ZodArray",(e,t)=>{kn.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const a=[];for(let s=0;s<i.length;s++){const o=i[s],c=t.element._zod.run({value:o,issues:[]},n);c instanceof Promise?a.push(c.then(u=>f4(u,r,s))):f4(c,r,s)}return a.length?Promise.all(a).then(()=>r):r}});function ex(e,t,r,n,i){if(e.issues.length){if(i&&!(r in n))return;t.issues.push(...mU(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function CU(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=tZ(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function NU(e,t,r,n,i,a){const s=[],o=i.keySet,c=i.catchall._zod,u=c.def.type,d=c.optout==="optional";for(const h in t){if(o.has(h))continue;if(u==="never"){s.push(h);continue}const g=c.run({value:t[h],issues:[]},n);g instanceof Promise?e.push(g.then(x=>ex(x,r,h,t,d))):ex(g,r,h,t,d)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}const FQ=ze("$ZodObject",(e,t)=>{if(kn.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...o};return Object.defineProperty(t,"shape",{value:c}),c}})}const n=$2(()=>CU(t));Pr(e._zod,"propValues",()=>{const o=t.shape,c={};for(const u in o){const d=o[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const h of d.values)c[u].add(h)}}return c});const i=Qy,a=t.catchall;let s;e._zod.parse=(o,c)=>{s??(s=n.value);const u=o.value;if(!i(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const d=[],h=s.shape;for(const g of s.keys){const x=h[g],_=x._zod.optout==="optional",w=x._zod.run({value:u[g],issues:[]},c);w instanceof Promise?d.push(w.then(T=>ex(T,o,g,u,_))):ex(w,o,g,u,_)}return a?NU(d,u,o,c,n.value,e):d.length?Promise.all(d).then(()=>o):o}}),LQ=ze("$ZodObjectJIT",(e,t)=>{FQ.init(e,t);const r=e._zod.parse,n=$2(()=>CU(t)),i=g=>{const x=new aQ(["shape","payload","ctx"]),_=n.value,w=P=>{const D=c4(P);return`shape[${D}]._zod.run({ value: input[${D}], issues: [] }, ctx)`};x.write("const input = payload.value;");const T=Object.create(null);let C=0;for(const P of _.keys)T[P]=`key_${C++}`;x.write("const newResult = {};");for(const P of _.keys){const D=T[P],F=c4(P),I=g[P]?._zod?.optout==="optional";x.write(`const ${D} = ${w(P)};`),I?x.write(`
        if (${D}.issues.length) {
          if (${F} in input) {
            payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${F}, ...iss.path] : [${F}]
            })));
          }
        }
        
        if (${D}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${D}.value;
        }
        
      `):x.write(`
        if (${D}.issues.length) {
          payload.issues = payload.issues.concat(${D}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F}, ...iss.path] : [${F}]
          })));
        }
        
        if (${D}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${D}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const L=x.compile();return(P,D)=>L(g,P,D)};let a;const s=Qy,o=!fU.jitless,u=o&&QX.value,d=t.catchall;let h;e._zod.parse=(g,x)=>{h??(h=n.value);const _=g.value;return s(_)?o&&u&&x?.async===!1&&x.jitless!==!0?(a||(a=i(t.shape)),g=a(g,x),d?NU([],_,g,x,h,e):g):r(g,x):(g.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),g)}});function d4(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const i=e.filter(a=>!$d(a));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(s=>gf(s,n,mf())))}),t)}const jQ=ze("$ZodUnion",(e,t)=>{kn.init(e,t),Pr(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),Pr(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),Pr(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),Pr(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>G2(a.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(r)return n(i,a);let s=!1;const o=[];for(const c of t.options){const u=c._zod.run({value:i.value,issues:[]},a);if(u instanceof Promise)o.push(u),s=!0;else{if(u.issues.length===0)return u;o.push(u)}}return s?Promise.all(o).then(c=>d4(c,i,e,a)):d4(o,i,e,a)}}),UQ=ze("$ZodIntersection",(e,t)=>{kn.init(e,t),e._zod.parse=(r,n)=>{const i=r.value,a=t.left._zod.run({value:i,issues:[]},n),s=t.right._zod.run({value:i,issues:[]},n);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([c,u])=>h4(r,c,u)):h4(r,a,s)}});function IA(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Jp(e)&&Jp(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),i={...e,...t};for(const a of n){const s=IA(e[a],t[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};i[a]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const i=e[n],a=t[n],s=IA(i,a);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function h4(e,t,r){const n=new Map;let i;for(const o of t.issues)if(o.code==="unrecognized_keys"){i??(i=o);for(const c of o.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else e.issues.push(o);for(const o of r.issues)if(o.code==="unrecognized_keys")for(const c of o.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else e.issues.push(o);const a=[...n].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(a.length&&i&&e.issues.push({...i,keys:a}),$d(e))return e;const s=IA(t.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const BQ=ze("$ZodEnum",(e,t)=>{kn.init(e,t);const r=dU(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>eZ.has(typeof i)).map(i=>typeof i=="string"?dh(i):i.toString()).join("|")})$`),e._zod.parse=(i,a)=>{const s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:e}),i}}),VQ=ze("$ZodLiteral",(e,t)=>{if(kn.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?dh(n):n?dh(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,i)=>{const a=n.value;return r.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}}),zQ=ze("$ZodTransform",(e,t)=>{kn.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new uU(e.constructor.name);const i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new Zd;return r.value=i,r}});function p4(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const IU=ze("$ZodOptional",(e,t)=>{kn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Pr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Pr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${G2(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>p4(a,r.value)):p4(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),$Q=ze("$ZodExactOptional",(e,t)=>{IU.init(e,t),Pr(e._zod,"values",()=>t.innerType._zod.values),Pr(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),HQ=ze("$ZodNullable",(e,t)=>{kn.init(e,t),Pr(e._zod,"optin",()=>t.innerType._zod.optin),Pr(e._zod,"optout",()=>t.innerType._zod.optout),Pr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${G2(r.source)}|null)$`):void 0}),Pr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),GQ=ze("$ZodDefault",(e,t)=>{kn.init(e,t),e._zod.optin="optional",Pr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>m4(a,t)):m4(i,t)}});function m4(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const qQ=ze("$ZodPrefault",(e,t)=>{kn.init(e,t),e._zod.optin="optional",Pr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),KQ=ze("$ZodNonOptional",(e,t)=>{kn.init(e,t),Pr(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>g4(a,e)):g4(i,e)}});function g4(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const WQ=ze("$ZodCatch",(e,t)=>{kn.init(e,t),Pr(e._zod,"optin",()=>t.innerType._zod.optin),Pr(e._zod,"optout",()=>t.innerType._zod.optout),Pr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>gf(s,n,mf()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(a=>gf(a,n,mf()))},input:r.value}),r.issues=[]),r)}}),YQ=ze("$ZodPipe",(e,t)=>{kn.init(e,t),Pr(e._zod,"values",()=>t.in._zod.values),Pr(e._zod,"optin",()=>t.in._zod.optin),Pr(e._zod,"optout",()=>t.out._zod.optout),Pr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const a=t.out._zod.run(r,n);return a instanceof Promise?a.then(s=>Ov(s,t.in,n)):Ov(a,t.in,n)}const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(a=>Ov(a,t.out,n)):Ov(i,t.out,n)}});function Ov(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const JQ=ze("$ZodReadonly",(e,t)=>{kn.init(e,t),Pr(e._zod,"propValues",()=>t.innerType._zod.propValues),Pr(e._zod,"values",()=>t.innerType._zod.values),Pr(e._zod,"optin",()=>t.innerType?._zod?.optin),Pr(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(v4):v4(i)}});function v4(e){return e.value=Object.freeze(e.value),e}const XQ=ze("$ZodCustom",(e,t)=>{Ba.init(e,t),kn.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(a=>y4(a,r,n,e));y4(i,r,n,e)}});function y4(e,t,r,n){if(!e){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(Xp(i))}}var x4;class ZQ{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function QQ(){return new ZQ}(x4=globalThis).__zod_globalRegistry??(x4.__zod_globalRegistry=QQ());const up=globalThis.__zod_globalRegistry;function eee(e,t){return new e({type:"string",..._t(t)})}function tee(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,..._t(t)})}function _4(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,..._t(t)})}function ree(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,..._t(t)})}function nee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",..._t(t)})}function iee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",..._t(t)})}function aee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",..._t(t)})}function see(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,..._t(t)})}function oee(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,..._t(t)})}function lee(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,..._t(t)})}function cee(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,..._t(t)})}function uee(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,..._t(t)})}function fee(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,..._t(t)})}function dee(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,..._t(t)})}function hee(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,..._t(t)})}function pee(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,..._t(t)})}function mee(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,..._t(t)})}function gee(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,..._t(t)})}function vee(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,..._t(t)})}function yee(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,..._t(t)})}function xee(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,..._t(t)})}function _ee(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,..._t(t)})}function bee(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,..._t(t)})}function wee(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,..._t(t)})}function Eee(e,t){return new e({type:"string",format:"date",check:"string_format",..._t(t)})}function Tee(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,..._t(t)})}function Aee(e,t){return new e({type:"string",format:"duration",check:"string_format",..._t(t)})}function See(e,t){return new e({type:"number",checks:[],..._t(t)})}function Cee(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",..._t(t)})}function Nee(e){return new e({type:"unknown"})}function Iee(e,t){return new e({type:"never",..._t(t)})}function b4(e,t){return new EU({check:"less_than",..._t(t),value:e,inclusive:!1})}function aE(e,t){return new EU({check:"less_than",..._t(t),value:e,inclusive:!0})}function w4(e,t){return new TU({check:"greater_than",..._t(t),value:e,inclusive:!1})}function sE(e,t){return new TU({check:"greater_than",..._t(t),value:e,inclusive:!0})}function E4(e,t){return new KZ({check:"multiple_of",..._t(t),value:e})}function kU(e,t){return new YZ({check:"max_length",..._t(t),maximum:e})}function tx(e,t){return new JZ({check:"min_length",..._t(t),minimum:e})}function PU(e,t){return new XZ({check:"length_equals",..._t(t),length:e})}function kee(e,t){return new ZZ({check:"string_format",format:"regex",..._t(t),pattern:e})}function Pee(e){return new QZ({check:"string_format",format:"lowercase",..._t(e)})}function Ree(e){return new eQ({check:"string_format",format:"uppercase",..._t(e)})}function Oee(e,t){return new tQ({check:"string_format",format:"includes",..._t(t),includes:e})}function Mee(e,t){return new rQ({check:"string_format",format:"starts_with",..._t(t),prefix:e})}function Dee(e,t){return new nQ({check:"string_format",format:"ends_with",..._t(t),suffix:e})}function Rh(e){return new iQ({check:"overwrite",tx:e})}function Fee(e){return Rh(t=>t.normalize(e))}function Lee(){return Rh(e=>e.trim())}function jee(){return Rh(e=>e.toLowerCase())}function Uee(){return Rh(e=>e.toUpperCase())}function Bee(){return Rh(e=>ZX(e))}function Vee(e,t,r){return new e({type:"array",element:t,..._t(r)})}function zee(e,t,r){return new e({type:"custom",check:"custom",fn:t,..._t(r)})}function $ee(e){const t=Hee(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Xp(n,r.value,t._zod.def));else{const i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(Xp(i))}},e(r.value,r)));return t}function Hee(e,t){const r=new Ba({check:"custom",..._t(t)});return r._zod.check=e,r}function RU(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??up,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Mi(e,t,r={path:[],schemaPath:[]}){var n;const i=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;const s={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,s);const o=e._zod.toJSONSchema?.();if(o)s.schema=o;else{const d={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,d);else{const g=s.schema,x=t.processors[i.type];if(!x)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);x(e,t,g,d)}const h=e._zod.parent;h&&(s.ref||(s.ref=h),Mi(h,t,d),t.seen.get(h).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),t.io==="input"&&sa(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function OU(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const s of e.seen.entries()){const o=e.metadataRegistry.get(s[0])?.id;if(o){const c=n.get(o);if(c&&c!==s[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(o,s[0])}}const i=s=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(s[0])?.id,g=e.external.uri??(_=>_);if(h)return{ref:g(h)};const x=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=x,{defId:x,ref:`${g("__shared")}#/${o}/${x}`}}if(s[1]===r)return{ref:"#"};const u=`#/${o}/`,d=s[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:u+d}},a=s=>{if(s[1].schema.$ref)return;const o=s[1],{ref:c,defId:u}=i(s);o.def={...o.schema},u&&(o.defId=u);const d=o.schema;for(const h in d)delete d[h];d.$ref=c};if(e.cycles==="throw")for(const s of e.seen.entries()){const o=s[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const o=s[1];if(t===s[0]){a(s);continue}if(e.external){const u=e.external.registry.get(s[0])?.id;if(t!==s[0]&&u){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(o.cycle){a(s);continue}if(o.count>1&&e.reused==="ref"){a(s);continue}}}function MU(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const o=e.seen.get(s);if(o.ref===null)return;const c=o.def??o.schema,u={...c},d=o.ref;if(o.ref=null,d){n(d);const g=e.seen.get(d),x=g.schema;if(x.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(x)):Object.assign(c,x),Object.assign(c,u),s._zod.parent===d)for(const w in c)w==="$ref"||w==="allOf"||w in u||delete c[w];if(x.$ref&&g.def)for(const w in c)w==="$ref"||w==="allOf"||w in g.def&&JSON.stringify(c[w])===JSON.stringify(g.def[w])&&delete c[w]}const h=s._zod.parent;if(h&&h!==d){n(h);const g=e.seen.get(h);if(g?.schema.$ref&&(c.$ref=g.schema.$ref,g.def))for(const x in c)x==="$ref"||x==="allOf"||x in g.def&&JSON.stringify(c[x])===JSON.stringify(g.def[x])&&delete c[x]}e.override({zodSchema:s,jsonSchema:c,path:o.path??[]})};for(const s of[...e.seen.entries()].reverse())n(s[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const s=e.external.registry.get(t)?.id;if(!s)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(s)}Object.assign(i,r.def??r.schema);const a=e.external?.defs??{};for(const s of e.seen.entries()){const o=s[1];o.def&&o.defId&&(a[o.defId]=o.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?i.$defs=a:i.definitions=a);try{const s=JSON.parse(JSON.stringify(i));return Object.defineProperty(s,"~standard",{value:{...t["~standard"],jsonSchema:{input:rx(t,"input",e.processors),output:rx(t,"output",e.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function sa(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return sa(n.element,r);if(n.type==="set")return sa(n.valueType,r);if(n.type==="lazy")return sa(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return sa(n.innerType,r);if(n.type==="intersection")return sa(n.left,r)||sa(n.right,r);if(n.type==="record"||n.type==="map")return sa(n.keyType,r)||sa(n.valueType,r);if(n.type==="pipe")return sa(n.in,r)||sa(n.out,r);if(n.type==="object"){for(const i in n.shape)if(sa(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(const i of n.options)if(sa(i,r))return!0;return!1}if(n.type==="tuple"){for(const i of n.items)if(sa(i,r))return!0;return!!(n.rest&&sa(n.rest,r))}return!1}const Gee=(e,t={})=>r=>{const n=RU({...r,processors:t});return Mi(e,n),OU(n,e),MU(n,e)},rx=(e,t,r={})=>n=>{const{libraryOptions:i,target:a}=n??{},s=RU({...i??{},target:a,io:t,processors:r});return Mi(e,s),OU(s,e),MU(s,e)},qee={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Kee=(e,t,r,n)=>{const i=r;i.type="string";const{minimum:a,maximum:s,format:o,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof a=="number"&&(i.minLength=a),typeof s=="number"&&(i.maxLength=s),o&&(i.format=qee[o]??o,i.format===""&&delete i.format,o==="time"&&delete i.format),u&&(i.contentEncoding=u),c&&c.size>0){const d=[...c];d.length===1?i.pattern=d[0].source:d.length>1&&(i.allOf=[...d.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},Wee=(e,t,r,n)=>{const i=r,{minimum:a,maximum:s,format:o,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:d}=e._zod.bag;typeof o=="string"&&o.includes("int")?i.type="integer":i.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=d,i.exclusiveMinimum=!0):i.exclusiveMinimum=d),typeof a=="number"&&(i.minimum=a,typeof d=="number"&&t.target!=="draft-04"&&(d>=a?delete i.minimum:delete i.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=u,i.exclusiveMaximum=!0):i.exclusiveMaximum=u),typeof s=="number"&&(i.maximum=s,typeof u=="number"&&t.target!=="draft-04"&&(u<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof c=="number"&&(i.multipleOf=c)},Yee=(e,t,r,n)=>{r.not={}},Jee=(e,t,r,n)=>{},Xee=(e,t,r,n)=>{const i=e._zod.def,a=dU(i.entries);a.every(s=>typeof s=="number")&&(r.type="number"),a.every(s=>typeof s=="string")&&(r.type="string"),r.enum=a},Zee=(e,t,r,n)=>{const i=e._zod.def,a=[];for(const s of i.values)if(s===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(s))}else a.push(s);if(a.length!==0)if(a.length===1){const s=a[0];r.type=s===null?"null":typeof s,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[s]:r.const=s}else a.every(s=>typeof s=="number")&&(r.type="number"),a.every(s=>typeof s=="string")&&(r.type="string"),a.every(s=>typeof s=="boolean")&&(r.type="boolean"),a.every(s=>s===null)&&(r.type="null"),r.enum=a},Qee=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},ete=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},tte=(e,t,r,n)=>{const i=r,a=e._zod.def,{minimum:s,maximum:o}=e._zod.bag;typeof s=="number"&&(i.minItems=s),typeof o=="number"&&(i.maxItems=o),i.type="array",i.items=Mi(a.element,t,{...n,path:[...n.path,"items"]})},rte=(e,t,r,n)=>{const i=r,a=e._zod.def;i.type="object",i.properties={};const s=a.shape;for(const u in s)i.properties[u]=Mi(s[u],t,{...n,path:[...n.path,"properties",u]});const o=new Set(Object.keys(s)),c=new Set([...o].filter(u=>{const d=a.shape[u]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));c.size>0&&(i.required=Array.from(c)),a.catchall?._zod.def.type==="never"?i.additionalProperties=!1:a.catchall?a.catchall&&(i.additionalProperties=Mi(a.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},nte=(e,t,r,n)=>{const i=e._zod.def,a=i.inclusive===!1,s=i.options.map((o,c)=>Mi(o,t,{...n,path:[...n.path,a?"oneOf":"anyOf",c]}));a?r.oneOf=s:r.anyOf=s},ite=(e,t,r,n)=>{const i=e._zod.def,a=Mi(i.left,t,{...n,path:[...n.path,"allOf",0]}),s=Mi(i.right,t,{...n,path:[...n.path,"allOf",1]}),o=u=>"allOf"in u&&Object.keys(u).length===1,c=[...o(a)?a.allOf:[a],...o(s)?s.allOf:[s]];r.allOf=c},ate=(e,t,r,n)=>{const i=e._zod.def,a=Mi(i.innerType,t,n),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=i.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},ste=(e,t,r,n)=>{const i=e._zod.def;Mi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType},ote=(e,t,r,n)=>{const i=e._zod.def;Mi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},lte=(e,t,r,n)=>{const i=e._zod.def;Mi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},cte=(e,t,r,n)=>{const i=e._zod.def;Mi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=s},ute=(e,t,r,n)=>{const i=e._zod.def,a=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Mi(a,t,n);const s=t.seen.get(e);s.ref=a},fte=(e,t,r,n)=>{const i=e._zod.def;Mi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,r.readOnly=!0},DU=(e,t,r,n)=>{const i=e._zod.def;Mi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType},dte=ze("ZodISODateTime",(e,t)=>{yQ.init(e,t),on.init(e,t)});function hte(e){return wee(dte,e)}const pte=ze("ZodISODate",(e,t)=>{xQ.init(e,t),on.init(e,t)});function mte(e){return Eee(pte,e)}const gte=ze("ZodISOTime",(e,t)=>{_Q.init(e,t),on.init(e,t)});function vte(e){return Tee(gte,e)}const yte=ze("ZodISODuration",(e,t)=>{bQ.init(e,t),on.init(e,t)});function xte(e){return Aee(yte,e)}const _te=(e,t)=>{vU.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>fZ(e,r)},flatten:{value:r=>uZ(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,NA,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,NA,2)}},isEmpty:{get(){return e.issues.length===0}}})},Bs=ze("ZodError",_te,{Parent:Error}),bte=K2(Bs),wte=W2(Bs),Ete=D1(Bs),Tte=F1(Bs),Ate=pZ(Bs),Ste=mZ(Bs),Cte=gZ(Bs),Nte=vZ(Bs),Ite=yZ(Bs),kte=xZ(Bs),Pte=_Z(Bs),Rte=bZ(Bs),Pn=ze("ZodType",(e,t)=>(kn.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:rx(e,"input"),output:rx(e,"output")}}),e.toJSONSchema=Gee(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(fu(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>du(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>bte(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Ete(e,r,n),e.parseAsync=async(r,n)=>wte(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Tte(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Ate(e,r,n),e.decode=(r,n)=>Ste(e,r,n),e.encodeAsync=async(r,n)=>Cte(e,r,n),e.decodeAsync=async(r,n)=>Nte(e,r,n),e.safeEncode=(r,n)=>Ite(e,r,n),e.safeDecode=(r,n)=>kte(e,r,n),e.safeEncodeAsync=async(r,n)=>Pte(e,r,n),e.safeDecodeAsync=async(r,n)=>Rte(e,r,n),e.refine=(r,n)=>e.check(Are(r,n)),e.superRefine=r=>e.check(Sre(r)),e.overwrite=r=>e.check(Rh(r)),e.optional=()=>C4(e),e.exactOptional=()=>dre(e),e.nullable=()=>N4(e),e.nullish=()=>C4(N4(e)),e.nonoptional=r=>yre(e,r),e.array=()=>jU(e),e.or=r=>ire([e,r]),e.and=r=>sre(e,r),e.transform=r=>I4(e,ure(r)),e.default=r=>mre(e,r),e.prefault=r=>vre(e,r),e.catch=r=>_re(e,r),e.pipe=r=>I4(e,r),e.readonly=()=>Ere(e),e.describe=r=>{const n=e.clone();return up.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return up.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return up.get(e);const n=e.clone();return up.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),FU=ze("_ZodString",(e,t)=>{Y2.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>Kee(e,n,i);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(kee(...n)),e.includes=(...n)=>e.check(Oee(...n)),e.startsWith=(...n)=>e.check(Mee(...n)),e.endsWith=(...n)=>e.check(Dee(...n)),e.min=(...n)=>e.check(tx(...n)),e.max=(...n)=>e.check(kU(...n)),e.length=(...n)=>e.check(PU(...n)),e.nonempty=(...n)=>e.check(tx(1,...n)),e.lowercase=n=>e.check(Pee(n)),e.uppercase=n=>e.check(Ree(n)),e.trim=()=>e.check(Lee()),e.normalize=(...n)=>e.check(Fee(...n)),e.toLowerCase=()=>e.check(jee()),e.toUpperCase=()=>e.check(Uee()),e.slugify=()=>e.check(Bee())}),Ote=ze("ZodString",(e,t)=>{Y2.init(e,t),FU.init(e,t),e.email=r=>e.check(tee(Mte,r)),e.url=r=>e.check(see(Dte,r)),e.jwt=r=>e.check(bee(Jte,r)),e.emoji=r=>e.check(oee(Fte,r)),e.guid=r=>e.check(_4(T4,r)),e.uuid=r=>e.check(ree(Mv,r)),e.uuidv4=r=>e.check(nee(Mv,r)),e.uuidv6=r=>e.check(iee(Mv,r)),e.uuidv7=r=>e.check(aee(Mv,r)),e.nanoid=r=>e.check(lee(Lte,r)),e.guid=r=>e.check(_4(T4,r)),e.cuid=r=>e.check(cee(jte,r)),e.cuid2=r=>e.check(uee(Ute,r)),e.ulid=r=>e.check(fee(Bte,r)),e.base64=r=>e.check(yee(Kte,r)),e.base64url=r=>e.check(xee(Wte,r)),e.xid=r=>e.check(dee(Vte,r)),e.ksuid=r=>e.check(hee(zte,r)),e.ipv4=r=>e.check(pee($te,r)),e.ipv6=r=>e.check(mee(Hte,r)),e.cidrv4=r=>e.check(gee(Gte,r)),e.cidrv6=r=>e.check(vee(qte,r)),e.e164=r=>e.check(_ee(Yte,r)),e.datetime=r=>e.check(hte(r)),e.date=r=>e.check(mte(r)),e.time=r=>e.check(vte(r)),e.duration=r=>e.check(xte(r))});function Ps(e){return eee(Ote,e)}const on=ze("ZodStringFormat",(e,t)=>{an.init(e,t),FU.init(e,t)}),Mte=ze("ZodEmail",(e,t)=>{cQ.init(e,t),on.init(e,t)}),T4=ze("ZodGUID",(e,t)=>{oQ.init(e,t),on.init(e,t)}),Mv=ze("ZodUUID",(e,t)=>{lQ.init(e,t),on.init(e,t)}),Dte=ze("ZodURL",(e,t)=>{uQ.init(e,t),on.init(e,t)}),Fte=ze("ZodEmoji",(e,t)=>{fQ.init(e,t),on.init(e,t)}),Lte=ze("ZodNanoID",(e,t)=>{dQ.init(e,t),on.init(e,t)}),jte=ze("ZodCUID",(e,t)=>{hQ.init(e,t),on.init(e,t)}),Ute=ze("ZodCUID2",(e,t)=>{pQ.init(e,t),on.init(e,t)}),Bte=ze("ZodULID",(e,t)=>{mQ.init(e,t),on.init(e,t)}),Vte=ze("ZodXID",(e,t)=>{gQ.init(e,t),on.init(e,t)}),zte=ze("ZodKSUID",(e,t)=>{vQ.init(e,t),on.init(e,t)}),$te=ze("ZodIPv4",(e,t)=>{wQ.init(e,t),on.init(e,t)}),Hte=ze("ZodIPv6",(e,t)=>{EQ.init(e,t),on.init(e,t)}),Gte=ze("ZodCIDRv4",(e,t)=>{TQ.init(e,t),on.init(e,t)}),qte=ze("ZodCIDRv6",(e,t)=>{AQ.init(e,t),on.init(e,t)}),Kte=ze("ZodBase64",(e,t)=>{SQ.init(e,t),on.init(e,t)}),Wte=ze("ZodBase64URL",(e,t)=>{NQ.init(e,t),on.init(e,t)}),Yte=ze("ZodE164",(e,t)=>{IQ.init(e,t),on.init(e,t)}),Jte=ze("ZodJWT",(e,t)=>{PQ.init(e,t),on.init(e,t)}),LU=ze("ZodNumber",(e,t)=>{SU.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>Wee(e,n,i),e.gt=(n,i)=>e.check(w4(n,i)),e.gte=(n,i)=>e.check(sE(n,i)),e.min=(n,i)=>e.check(sE(n,i)),e.lt=(n,i)=>e.check(b4(n,i)),e.lte=(n,i)=>e.check(aE(n,i)),e.max=(n,i)=>e.check(aE(n,i)),e.int=n=>e.check(A4(n)),e.safe=n=>e.check(A4(n)),e.positive=n=>e.check(w4(0,n)),e.nonnegative=n=>e.check(sE(0,n)),e.negative=n=>e.check(b4(0,n)),e.nonpositive=n=>e.check(aE(0,n)),e.multipleOf=(n,i)=>e.check(E4(n,i)),e.step=(n,i)=>e.check(E4(n,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function kA(e){return See(LU,e)}const Xte=ze("ZodNumberFormat",(e,t)=>{RQ.init(e,t),LU.init(e,t)});function A4(e){return Cee(Xte,e)}const Zte=ze("ZodUnknown",(e,t)=>{OQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Jee()});function S4(){return Nee(Zte)}const Qte=ze("ZodNever",(e,t)=>{MQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Yee(e,r,n)});function ere(e){return Iee(Qte,e)}const tre=ze("ZodArray",(e,t)=>{DQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>tte(e,r,n,i),e.element=t.element,e.min=(r,n)=>e.check(tx(r,n)),e.nonempty=r=>e.check(tx(1,r)),e.max=(r,n)=>e.check(kU(r,n)),e.length=(r,n)=>e.check(PU(r,n)),e.unwrap=()=>e.element});function jU(e,t){return Vee(tre,e,t)}const rre=ze("ZodObject",(e,t)=>{LQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>rte(e,r,n,i),Pr(e,"shape",()=>t.shape),e.keyof=()=>BU(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:S4()}),e.loose=()=>e.clone({...e._zod.def,catchall:S4()}),e.strict=()=>e.clone({...e._zod.def,catchall:ere()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>aZ(e,r),e.safeExtend=r=>sZ(e,r),e.merge=r=>oZ(e,r),e.pick=r=>nZ(e,r),e.omit=r=>iZ(e,r),e.partial=(...r)=>lZ(VU,e,r[0]),e.required=(...r)=>cZ(zU,e,r[0])});function UU(e,t){const r={type:"object",shape:e??{},..._t(t)};return new rre(r)}const nre=ze("ZodUnion",(e,t)=>{jQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>nte(e,r,n,i),e.options=t.options});function ire(e,t){return new nre({type:"union",options:e,..._t(t)})}const are=ze("ZodIntersection",(e,t)=>{UQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ite(e,r,n,i)});function sre(e,t){return new are({type:"intersection",left:e,right:t})}const PA=ze("ZodEnum",(e,t)=>{BQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>Xee(e,n,i),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{const a={};for(const s of n)if(r.has(s))a[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new PA({...t,checks:[],..._t(i),entries:a})},e.exclude=(n,i)=>{const a={...t.entries};for(const s of n)if(r.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new PA({...t,checks:[],..._t(i),entries:a})}});function BU(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new PA({type:"enum",entries:r,..._t(t)})}const ore=ze("ZodLiteral",(e,t)=>{VQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Zee(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function lre(e,t){return new ore({type:"literal",values:Array.isArray(e)?e:[e],..._t(t)})}const cre=ze("ZodTransform",(e,t)=>{zQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ete(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new uU(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(Xp(a,r.value,t));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(Xp(s))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(a=>(r.value=a,r)):(r.value=i,r)}});function ure(e){return new cre({type:"transform",transform:e})}const VU=ze("ZodOptional",(e,t)=>{IU.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>DU(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function C4(e){return new VU({type:"optional",innerType:e})}const fre=ze("ZodExactOptional",(e,t)=>{$Q.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>DU(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function dre(e){return new fre({type:"optional",innerType:e})}const hre=ze("ZodNullable",(e,t)=>{HQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ate(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function N4(e){return new hre({type:"nullable",innerType:e})}const pre=ze("ZodDefault",(e,t)=>{GQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ote(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function mre(e,t){return new pre({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():pU(t)}})}const gre=ze("ZodPrefault",(e,t)=>{qQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>lte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function vre(e,t){return new gre({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():pU(t)}})}const zU=ze("ZodNonOptional",(e,t)=>{KQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ste(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function yre(e,t){return new zU({type:"nonoptional",innerType:e,..._t(t)})}const xre=ze("ZodCatch",(e,t)=>{WQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>cte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function _re(e,t){return new xre({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const bre=ze("ZodPipe",(e,t)=>{YQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ute(e,r,n,i),e.in=t.in,e.out=t.out});function I4(e,t){return new bre({type:"pipe",in:e,out:t})}const wre=ze("ZodReadonly",(e,t)=>{JQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>fte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function Ere(e){return new wre({type:"readonly",innerType:e})}const Tre=ze("ZodCustom",(e,t)=>{XQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Qee(e,r)});function Are(e,t={}){return zee(Tre,e,t)}function Sre(e){return $ee(e)}UU({companyName:Ps().min(1,"Nome da empresa  obrigatrio"),cnpj:Ps().optional(),address:Ps().min(5,"Endereo invlido"),contactName:Ps().optional(),phone:Ps().optional(),email:Ps().email("Email invlido").optional().or(lre("")),category:Ps().or(jU(Ps())).optional(),status:BU(["Ativo","Inativo","Prospeccao"]).optional().default("Ativo"),lat:kA().optional(),lng:kA().optional()});const Cre=UU({name:Ps().min(1),price:kA().positive(),category:Ps().min(1),sku:Ps().optional(),brand:Ps().min(1)}),k4=e=>{if(!e)return null;const t=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(t)return{lat:parseFloat(t[1]),lng:parseFloat(t[2])};const r=e.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return r?{lat:parseFloat(r[1]),lng:parseFloat(r[2])}:null},Nre=e=>{if(!e)return null;try{const t=new URL(e),r=t.searchParams.get("query")||t.searchParams.get("q");if(r&&!r.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return r}catch{const r=e.match(/[?&]query=([^&]+)/)||e.match(/[?&]q=([^&]+)/);if(r)return decodeURIComponent(r[1].replace(/\+/g," "))}return null},nx=e=>{if(e==null)return{address:""};const t=String(e).trim(),r=t.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(r){const i=r[1].replace(/""/g,'"').trim(),a=r[2].replace(/""/g,'"').trim(),s=k4(i);return{link:i,address:a,...s}}const n=$U(t);if(n.includes("google.com/maps")||n.includes("maps.app.goo.gl")){const i=Nre(n),a=k4(n);return{link:n,address:i||n,...a}}return{address:n}},$U=e=>{if(e==null)return"";const t=String(e),r=t.match(/"([^"]+)"\)$/);return r&&r[1]?r[1].trim():t.startsWith("=")?t.replace(/[="()]/g,"").trim():t.trim()},RA=e=>{if(e==null)return 0;const t=String(e).trim();if(!t)return 0;const r=t.replace(/[R$\s.]/g,"").replace(",","."),n=parseFloat(r);return isNaN(n)?0:n},P4=e=>{if(!e)return 0;const t=String(e).replace(/[%]/g,"").replace(",",".");return parseFloat(t)||0},J2=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),HU=e=>new Promise((t,r)=>{z2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:n=>{const i=n.data,a=[];i.forEach((s,o)=>{const c={};Object.keys(s).forEach(P=>{c[J2(P)]=s[P]});const u=c.departamento||c.categoria||"Geral",d=c["cod.prod / sku"]||c["cod.prod"]||c.sku||c["numero do sku"]||"",h=c["nome do produto"]||c.descricao||c.nome||c.produto||"",g=c.marca||c.fabricante||"Genrico",x=RA(c["preco de venda"]||c.preco||"0"),_=c["cod.fabrica"]||c["cod fabrica"]||c["codigo fabrica"]||"",w=P4(c.margem||"0"),T=P4(c.desconto||c.discount||"0"),C={category:u,sku:d,brand:g,factoryCode:_,name:h,price:x,margin:w,discount:T},L=Cre.safeParse(C);L.success?a.push(L.data):console.warn(`Row ${o+1} invalid:`,L.error.issues)}),t(a)},error:n=>r(n)})}),Ire=e=>new Promise((t,r)=>{z2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:n=>n.trim().replace(/^\ufeff/,""),complete:n=>{const i=n.data,a=[];if(i.forEach(s=>{const o={};Object.keys(s).forEach(T=>{o[J2(T)]=s[T]});const c=o.endereco||o["endereco comercial"]||o.logradouro||o.localizacao||o["endereco cobranca"]||o["link google maps"]||"";let{address:u,link:d,lat:h,lng:g}=nx(c);const x=o.cep||o.zip||o["codigo postal"]||"";x&&u&&!u.toLowerCase().includes(x.toLowerCase())&&(u=`${u}, ${x}`);const _=o.link||o.mapa||o["google maps"]||o.url||o.maps||o.coordenadas||o.geolocalizacao;if(_){const T=nx(_);T.link&&(d=T.link),T.lat&&(h=T.lat),T.lng&&(g=T.lng)}const w={companyName:o["razao social"]||o.cliente||o["nome fantasia"]||o.fantasia||o.empresa||o["nome comercial"]||"",cnpj:o.cnpj||o.taxid||o.inscricao||"",ownerName:o["nome do proprietario"]||o.proprietario||o.dono||o["contato principal"]||"",phone:o["telefone comercial"]||o.contato||o.telefone||o.celular||"",whatsapp:o.whatsapp||o.whats||o.celular||"",address:o["endereco comercial"]||o["logradouro comercial"]||u||"",street:o.rua||o.logradouro||"",number:o.numero||o.num||"",district:o.bairro||o.distrito||"",city:o["nome da cidade"]||o.cidade||o.municipio||"",state:o.estado||o.uf||"",zip:o.cep||o["codigo postal"]||x||"",country:o.pais||"",googleMapsLink:d,latitude:h,longitude:g};(w.companyName||w.address)&&a.push(w)}),a.length>0){const s=a[0];!s.companyName&&!s.address&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}t(a)},error:n=>{r(n)}})}),kre=e=>new Promise((t,r)=>{z2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:n=>{const i=n.data,a=[];i.forEach(s=>{const o={};Object.keys(s).forEach(C=>{o[J2(C)]=s[C]});const c=o["razao social"]||o.cliente||o.empresa||"",u=o.cnpj||o["cpf/cnpj"]||o.cpf||"",d=o["cod.prod / sku"]||o["cod.prod"]||o.sku||"",h=o["nome do produto"]||o.produto||o.descricao||"",g=o["data da compra"]||o.data||o.emissao||"",x=parseFloat(o["quantidade de skus / produtos comprados"]||o.quantidade||o.qtd||"1"),_=isNaN(x)?1:x,w=RA(o["valor unitario"]||o.preco||"0"),T=RA(o["valor total"]||o.total||(_*w).toString());c&&(d||h)&&a.push({companyName:String(c).trim(),cnpj:String(u).trim().replace(/[.\-\/]/g,""),sku:String(d).trim(),name:String(h).trim(),brand:o.marca||"N/A",category:o.categoria||o.departamento||"Venda",price:w,purchaseDate:String(g).trim(),quantity:x,totalValue:T,factoryCode:o["cod.fabrica"]||""})}),t(a)},error:n=>r(n)})});var GU=1252,Pre=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],X2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Z2=function(e){Pre.indexOf(e)!=-1&&(GU=X2[0]=e)};function Rre(){Z2(1252)}var no=function(e){Z2(e)};function qU(){no(1200),Rre()}function R4(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Ore(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function KU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var fp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Ore(e.slice(2)):t==254&&r==255?KU(e.slice(2)):t==65279?e.slice(1):e},Dv=function(t){return String.fromCharCode(t)},O4=function(t){return String.fromCharCode(t)},Zp,jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function M4(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,i=e.charCodeAt(u++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),t+=jc.charAt(a)+jc.charAt(s)+jc.charAt(o)+jc.charAt(c);return t}function fs(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=jc.indexOf(e.charAt(u++)),s=jc.indexOf(e.charAt(u++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=jc.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=jc.indexOf(e.charAt(u++)),i=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var tr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Df=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Qc(e){return tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function D4(e){return tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Zs=function(t){return tr?Df(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Ff(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Q2(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Q2(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Mc=tr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Df(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Mre(e){for(var t=[],r=0,n=e.length+250,i=Qc(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Qc(65535),n=65530)}return t.push(i.slice(0,r)),Mc(t)}var ha=/\u0000/g,dp=/[\u0001-\u0006]/g;function Qd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function io(e,t){var r=""+e;return r.length>=t?r:gn("0",t-r.length)+r}function eC(e,t){var r=""+e;return r.length>=t?r:gn(" ",t-r.length)+r}function ix(e,t){var r=""+e;return r.length>=t?r:r+gn(" ",t-r.length)}function Dre(e,t){var r=""+Math.round(e);return r.length>=t?r:gn("0",t-r.length)+r}function Fre(e,t){var r=""+e;return r.length>=t?r:gn("0",t-r.length)+r}var F4=Math.pow(2,32);function kd(e,t){if(e>F4||e<-F4)return Dre(e,t);var r=Math.round(e);return Fre(r,t)}function ax(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var L4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],oE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Lre(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ut={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},j4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jre={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function sx(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,c=1,u=0,d=0,h=Math.floor(i);u<t&&(h=Math.floor(i),o=h*s+a,d=h*u+c,!(i-h<5e-8));)i=1/(i-h),a=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=a):(d=u,o=s)),!r)return[0,n*o,d];var g=Math.floor(n*o/d);return[g,n*o-g*d,d]}function Zu(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=Hre(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var WU=new Date(1899,11,31,0,0,0),Ure=WU.getTime(),Bre=new Date(1900,2,1,0,0,0);function YU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Bre&&(r+=1440*60*1e3),(r-(Ure+(e.getTimezoneOffset()-WU.getTimezoneOffset())*6e4))/(1440*60*1e3)}function tC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Vre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function zre(e){var t=e<0?12:11,r=tC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function $re(e){var t=tC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Qp(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=zre(e):t===10?r=e.toFixed(10).substr(0,12):r=$re(e),tC(Vre(r.toUpperCase()))}function vf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Qp(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ds(14,YU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Hre(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Gre(e,t,r,n){var i="",a=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return oE[r.m-1][1];case 5:return oE[r.m-1][0];default:return oE[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return L4[r.q][0];default:return L4[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?io(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=io(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?io(c,u):"";return d}function Uc(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var JU=/%/g;function qre(e,t,r){var n=t.replace(JU,""),i=t.length-n.length;return kl(e,n,r*Math.pow(10,2*i))+gn("%",i)}function Kre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return kl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function XU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+XU(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var ZU=/# (\?+)( ?)\/( ?)(\d+)/;function Wre(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?gn(" ",e[1].length+1+e[4].length):eC(s,e[1].length)+e[2]+"/"+e[3]+io(o,e[4].length))}function Yre(e,t,r){return r+(t===0?"":""+t)+gn(" ",e[1].length+2+e[4].length)}var QU=/^#*0*\.([0#]+)/,e9=/\).*[0#]/,t9=/\(###\) ###\\?-####/;function la(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function U4(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function B4(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Jre(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Xre(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Cs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(e9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Cs("n",n,r):"("+Cs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Kre(e,t,r);if(t.indexOf("%")!==-1)return qre(e,t,r);if(t.indexOf("E")!==-1)return XU(t,r);if(t.charCodeAt(0)===36)return"$"+Cs(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+kd(c,t.length);if(t.match(/^[#?]+$/))return i=kd(r,0),i==="0"&&(i=""),i.length>t.length?i:la(t.substr(0,t.length-i.length))+i;if(a=t.match(ZU))return Wre(a,c,u);if(t.match(/^#+0+$/))return u+kd(c,t.length-t.indexOf("0"));if(a=t.match(QU))return i=U4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+la(a[1])).replace(/\.$/,"."+la(a[1])).replace(/\.(\d*)$/,function(_,w){return"."+w+gn("0",la(a[1]).length-w.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+U4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Uc(kd(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Cs(e,t,-r):Uc(""+(Math.floor(r)+Jre(r,a[1].length)))+"."+io(B4(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Cs(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Qd(Cs(e,t.replace(/[\\-]/g,""),r)),s=0,Qd(Qd(t.replace(/\\/g,"")).replace(/[0#]/g,function(_){return s<i.length?i.charAt(s++):_==="0"?"0":""}));if(t.match(t9))return i=Cs(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=sx(c,Math.pow(10,s)-1,!1),i=""+u,d=kl("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=ix(o[2],s),d.length<a[4].length&&(d=la(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=sx(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?eC(o[1],s)+a[2]+"/"+a[3]+ix(o[2],s):gn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=kd(r,0),t.length<=i.length?i:la(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,g=t.length-i.length-h;return la(t.substr(0,h)+i+t.substr(t.length-g))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=B4(r,a[1].length),r<0?"-"+Cs(e,t,-r):Uc(Xre(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?io(0,3-_.length):"")+_})+"."+io(s,a[1].length);switch(t){case"###,##0.00":return Cs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=Uc(kd(c,0));return x!=="0"?u+x:"";case"###,###.00":return Cs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Cs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Zre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return kl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Qre(e,t,r){var n=t.replace(JU,""),i=t.length-n.length;return kl(e,n,r*Math.pow(10,2*i))+gn("%",i)}function r9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+r9(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Lo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(e9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Lo("n",n,r):"("+Lo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Zre(e,t,r);if(t.indexOf("%")!==-1)return Qre(e,t,r);if(t.indexOf("E")!==-1)return r9(t,r);if(t.charCodeAt(0)===36)return"$"+Lo(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+io(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:la(t.substr(0,t.length-i.length))+i;if(a=t.match(ZU))return Yre(a,c,u);if(t.match(/^#+0+$/))return u+io(c,t.length-t.indexOf("0"));if(a=t.match(QU))return i=(""+r).replace(/^([^\.]+)$/,"$1."+la(a[1])).replace(/\.$/,"."+la(a[1])),i=i.replace(/\.(\d*)$/,function(_,w){return"."+w+gn("0",la(a[1]).length-w.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Uc(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Lo(e,t,-r):Uc(""+r)+"."+gn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Lo(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Qd(Lo(e,t.replace(/[\\-]/g,""),r)),s=0,Qd(Qd(t.replace(/\\/g,"")).replace(/[0#]/g,function(_){return s<i.length?i.charAt(s++):_==="0"?"0":""}));if(t.match(t9))return i=Lo(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=sx(c,Math.pow(10,s)-1,!1),i=""+u,d=kl("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=ix(o[2],s),d.length<a[4].length&&(d=la(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=sx(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?eC(o[1],s)+a[2]+"/"+a[3]+ix(o[2],s):gn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:la(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,g=t.length-i.length-h;return la(t.substr(0,h)+i+t.substr(t.length-g))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Lo(e,t,-r):Uc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?io(0,3-_.length):"")+_})+"."+io(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=Uc(""+c);return x!=="0"?u+x:"";default:if(t.match(/\.[0#?]*$/))return Lo(e,t.slice(0,t.lastIndexOf(".")),r)+la(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function kl(e,t,r){return(r|0)===r?Lo(e,t,r):Cs(e,t,r)}function ene(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var n9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Oh(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ax(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(n9))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function tne(e,t,r,n){for(var i=[],a="",s=0,o="",c="t",u,d,h,g="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!ax(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(h=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(h);i[i.length]={t:"t",v:a},++s;break;case"\\":var x=e.charAt(++s),_=x==="("||x===")"?x:"t";i[i.length]={t:_,v:x},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=Zu(t,r,e.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Zu(t,r),u==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var w={t:o,v:o};if(u==null&&(u=Zu(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(w.v=u.H>=12?"P":"A"),w.t="T",g="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(w.v=u.H>=12?"PM":"AM"),w.t="T",s+=5,g="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(w.v=u.H>=12?"":""),w.t="T",s+=5,g="h"):(w.t="t",++s),u==null&&w.t==="T")return"";i[i.length]=w,c=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(n9)){if(u==null&&(u=Zu(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Oh(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var T=0,C=0,L;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=g,c="h",T<1&&(T=1);break;case"s":(L=i[s].v.match(/\.0+$/))&&(C=Math.max(C,L[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&i[s].v.match(/[Hh]/)&&(T=1),T<2&&i[s].v.match(/[Mm]/)&&(T=2),T<3&&i[s].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var P="",D;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Gre(i[s].t.charCodeAt(0),i[s].v,u,C),i[s].t="t";break;case"n":case"?":for(D=s+1;i[D]!=null&&((o=i[D].t)==="?"||o==="D"||(o===" "||o==="t")&&i[D+1]!=null&&(i[D+1].t==="?"||i[D+1].t==="t"&&i[D+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[D].v==="/"||i[D].v===" "&&i[D+1]!=null&&i[D+1].t=="?"));)i[s].v+=i[D].v,i[D]={v:"",t:";"},++D;P+=i[s].v,s=D-1;break;case"G":i[s].t="t",i[s].v=vf(t,r);break}var F="",R,I;if(P.length>0){P.charCodeAt(0)==40?(R=t<0&&P.charCodeAt(0)===45?-t:t,I=kl("n",P,R)):(R=t<0&&n>1?-t:t,I=kl("n",P,R),R<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),D=I.length-1;var k=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){k=s;break}var O=i.length;if(k===i.length&&I.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(D>=i[s].v.length-1?(D-=i[s].v.length,i[s].v=I.substr(D+1,i[s].v.length)):D<0?i[s].v="":(i[s].v=I.substr(0,D+1),D=-1),i[s].t="t",O=s);D>=0&&O<i.length&&(i[O].v=I.substr(0,D+1)+i[O].v)}else if(k!==i.length&&I.indexOf("E")===-1){for(D=I.indexOf(".")-1,s=k;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(d=i[s].v.indexOf(".")>-1&&s===k?i[s].v.indexOf(".")-1:i[s].v.length-1,F=i[s].v.substr(d+1);d>=0;--d)D>=0&&(i[s].v.charAt(d)==="0"||i[s].v.charAt(d)==="#")&&(F=I.charAt(D--)+F);i[s].v=F,i[s].t="t",O=s}for(D>=0&&O<i.length&&(i[O].v=I.substr(0,D+1)+i[O].v),D=I.indexOf(".")+1,s=k;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==k)){for(d=i[s].v.indexOf(".")>-1&&s===k?i[s].v.indexOf(".")+1:0,F=i[s].v.substr(0,d);d<i[s].v.length;++d)D<I.length&&(F+=I.charAt(D++));i[s].v=F,i[s].t="t",O=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(R=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=kl(i[s].t,i[s].v,R),i[s].t="t");var B="";for(s=0;s!==i.length;++s)i[s]!=null&&(B+=i[s].v);return B}var V4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function z4(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function rne(e,t){var r=ene(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(V4),o=r[1].match(V4);return z4(t,s)?[n,r[0]]:z4(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Ds(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ut)[e],n==null&&(n=r.table&&r.table[j4[e]]||Ut[j4[e]]),n==null&&(n=jre[e]||"General");break}if(ax(n,0))return vf(t,r);t instanceof Date&&(t=YU(t,r.date1904));var i=rne(n,t);if(ax(i[1]))return vf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return tne(i[1],t,r,i[0])}function sf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ut[r]==null){t<0&&(t=r);continue}if(Ut[r]==e){t=r;break}}t<0&&(t=391)}return Ut[t]=e,t}function i9(){Ut=Lre()}var nne={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},a9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ine(e){var t=typeof e=="number"?Ut[e]:e;return t=t.replace(a9,"(\\d+)"),new RegExp("^"+t+"$")}function ane(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(t.match(a9)||[]).forEach(function(h,g){var x=parseInt(r[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=x;break;case"d":a=x;break;case"h":s=x;break;case"s":c=x;break;case"m":s>=0?o=x:i=x;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&i==-1&&a==-1?d:u+"T"+d}var sne=(function(){var e={};e.version="1.2.0";function t(){for(var I=0,k=new Array(256),O=0;O!=256;++O)I=O,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,k[O]=I;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(I){var k=0,O=0,B=0,V=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)V[B]=I[B];for(B=0;B!=256;++B)for(O=I[B],k=256+B;k<4096;k+=256)O=V[k]=O>>>8^I[O&255];var j=[];for(B=1;B!=16;++B)j[B-1]=typeof Int32Array<"u"?V.subarray(B*256,B*256+256):V.slice(B*256,B*256+256);return j}var i=n(r),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],d=i[5],h=i[6],g=i[7],x=i[8],_=i[9],w=i[10],T=i[11],C=i[12],L=i[13],P=i[14];function D(I,k){for(var O=k^-1,B=0,V=I.length;B<V;)O=O>>>8^r[(O^I.charCodeAt(B++))&255];return~O}function F(I,k){for(var O=k^-1,B=I.length-15,V=0;V<B;)O=P[I[V++]^O&255]^L[I[V++]^O>>8&255]^C[I[V++]^O>>16&255]^T[I[V++]^O>>>24]^w[I[V++]]^_[I[V++]]^x[I[V++]]^g[I[V++]]^h[I[V++]]^d[I[V++]]^u[I[V++]]^c[I[V++]]^o[I[V++]]^s[I[V++]]^a[I[V++]]^r[I[V++]];for(B+=15;V<B;)O=O>>>8^r[(O^I[V++])&255];return~O}function R(I,k){for(var O=k^-1,B=0,V=I.length,j=0,G=0;B<V;)j=I.charCodeAt(B++),j<128?O=O>>>8^r[(O^j)&255]:j<2048?(O=O>>>8^r[(O^(192|j>>6&31))&255],O=O>>>8^r[(O^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,G=I.charCodeAt(B++)&1023,O=O>>>8^r[(O^(240|j>>8&7))&255],O=O>>>8^r[(O^(128|j>>2&63))&255],O=O>>>8^r[(O^(128|G>>6&15|(j&3)<<4))&255],O=O>>>8^r[(O^(128|G&63))&255]):(O=O>>>8^r[(O^(224|j>>12&15))&255],O=O>>>8^r[(O^(128|j>>6&63))&255],O=O>>>8^r[(O^(128|j&63))&255]);return~O}return e.table=r,e.bstr=D,e.buf=F,e.str=R,e})(),or=(function(){var t={};t.version="1.2.1";function r(Y,se){for(var Q=Y.split("/"),re=se.split("/"),ne=0,oe=0,Ee=Math.min(Q.length,re.length);ne<Ee;++ne){if(oe=Q[ne].length-re[ne].length)return oe;if(Q[ne]!=re[ne])return Q[ne]<re[ne]?-1:1}return Q.length-re.length}function n(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:n(Y.slice(0,-1));var se=Y.lastIndexOf("/");return se===-1?Y:Y.slice(0,se+1)}function i(Y){if(Y.charAt(Y.length-1)=="/")return i(Y.slice(0,-1));var se=Y.lastIndexOf("/");return se===-1?Y:Y.slice(se+1)}function a(Y,se){typeof se=="string"&&(se=new Date(se));var Q=se.getHours();Q=Q<<6|se.getMinutes(),Q=Q<<5|se.getSeconds()>>>1,Y.write_shift(2,Q);var re=se.getFullYear()-1980;re=re<<4|se.getMonth()+1,re=re<<5|se.getDate(),Y.write_shift(2,re)}function s(Y){var se=Y.read_shift(2)&65535,Q=Y.read_shift(2)&65535,re=new Date,ne=Q&31;Q>>>=5;var oe=Q&15;Q>>>=4,re.setMilliseconds(0),re.setFullYear(Q+1980),re.setMonth(oe-1),re.setDate(ne);var Ee=se&31;se>>>=5;var Oe=se&63;return se>>>=6,re.setHours(se),re.setMinutes(Oe),re.setSeconds(Ee<<1),re}function o(Y){ki(Y,0);for(var se={},Q=0;Y.l<=Y.length-4;){var re=Y.read_shift(2),ne=Y.read_shift(2),oe=Y.l+ne,Ee={};re===21589&&(Q=Y.read_shift(1),Q&1&&(Ee.mtime=Y.read_shift(4)),ne>5&&(Q&2&&(Ee.atime=Y.read_shift(4)),Q&4&&(Ee.ctime=Y.read_shift(4))),Ee.mtime&&(Ee.mt=new Date(Ee.mtime*1e3))),Y.l=oe,se[re]=Ee}return se}var c;function u(){return c||(c={})}function d(Y,se){if(Y[0]==80&&Y[1]==75)return xa(Y,se);if((Y[0]|32)==109&&(Y[1]|32)==105)return wa(Y,se);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var Q=3,re=512,ne=0,oe=0,Ee=0,Oe=0,Te=0,Ne=[],Se=Y.slice(0,512);ki(Se,0);var qe=h(Se);switch(Q=qe[0],Q){case 3:re=512;break;case 4:re=4096;break;case 0:if(qe[1]==0)return xa(Y,se);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}re!==512&&(Se=Y.slice(0,re),ki(Se,28));var Ye=Y.slice(0,re);g(Se,Q);var Qe=Se.read_shift(4,"i");if(Q===3&&Qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qe);Se.l+=4,Ee=Se.read_shift(4,"i"),Se.l+=4,Se.chk("00100000","Mini Stream Cutoff Size: "),Oe=Se.read_shift(4,"i"),ne=Se.read_shift(4,"i"),Te=Se.read_shift(4,"i"),oe=Se.read_shift(4,"i");for(var Ge=-1,Ze=0;Ze<109&&(Ge=Se.read_shift(4,"i"),!(Ge<0));++Ze)Ne[Ze]=Ge;var lt=x(Y,re);T(Te,oe,lt,re,Ne);var gr=L(lt,Ee,Ne,re);gr[Ee].name="!Directory",ne>0&&Oe!==G&&(gr[Oe].name="!MiniFAT"),gr[Ne[0]].name="!FAT",gr.fat_addrs=Ne,gr.ssz=re;var vr={},Ar=[],ii=[],Ga=[];P(Ee,gr,lt,Ar,ne,vr,ii,Oe),_(ii,Ga,Ar),Ar.shift();var qa={FileIndex:ii,FullPaths:Ga};return se&&se.raw&&(qa.raw={header:Ye,sectors:lt}),qa}function h(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(de,"Header Signature: "),Y.l+=16;var se=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),se]}function g(Y,se){var Q=9;switch(Y.l+=2,Q=Y.read_shift(2)){case 9:if(se!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(se!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function x(Y,se){for(var Q=Math.ceil(Y.length/se)-1,re=[],ne=1;ne<Q;++ne)re[ne-1]=Y.slice(ne*se,(ne+1)*se);return re[Q-1]=Y.slice(Q*se),re}function _(Y,se,Q){for(var re=0,ne=0,oe=0,Ee=0,Oe=0,Te=Q.length,Ne=[],Se=[];re<Te;++re)Ne[re]=Se[re]=re,se[re]=Q[re];for(;Oe<Se.length;++Oe)re=Se[Oe],ne=Y[re].L,oe=Y[re].R,Ee=Y[re].C,Ne[re]===re&&(ne!==-1&&Ne[ne]!==ne&&(Ne[re]=Ne[ne]),oe!==-1&&Ne[oe]!==oe&&(Ne[re]=Ne[oe])),Ee!==-1&&(Ne[Ee]=re),ne!==-1&&re!=Ne[re]&&(Ne[ne]=Ne[re],Se.lastIndexOf(ne)<Oe&&Se.push(ne)),oe!==-1&&re!=Ne[re]&&(Ne[oe]=Ne[re],Se.lastIndexOf(oe)<Oe&&Se.push(oe));for(re=1;re<Te;++re)Ne[re]===re&&(oe!==-1&&Ne[oe]!==oe?Ne[re]=Ne[oe]:ne!==-1&&Ne[ne]!==ne&&(Ne[re]=Ne[ne]));for(re=1;re<Te;++re)if(Y[re].type!==0){if(Oe=re,Oe!=Ne[Oe])do Oe=Ne[Oe],se[re]=se[Oe]+"/"+se[re];while(Oe!==0&&Ne[Oe]!==-1&&Oe!=Ne[Oe]);Ne[re]=-1}for(se[0]+="/",re=1;re<Te;++re)Y[re].type!==2&&(se[re]+="/")}function w(Y,se,Q){for(var re=Y.start,ne=Y.size,oe=[],Ee=re;Q&&ne>0&&Ee>=0;)oe.push(se.slice(Ee*j,Ee*j+j)),ne-=j,Ee=Xu(Q,Ee*4);return oe.length===0?Yn(0):Mc(oe).slice(0,Y.size)}function T(Y,se,Q,re,ne){var oe=G;if(Y===G){if(se!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var Ee=Q[Y],Oe=(re>>>2)-1;if(!Ee)return;for(var Te=0;Te<Oe&&(oe=Xu(Ee,Te*4))!==G;++Te)ne.push(oe);T(Xu(Ee,re-4),se-1,Q,re,ne)}}function C(Y,se,Q,re,ne){var oe=[],Ee=[];ne||(ne=[]);var Oe=re-1,Te=0,Ne=0;for(Te=se;Te>=0;){ne[Te]=!0,oe[oe.length]=Te,Ee.push(Y[Te]);var Se=Q[Math.floor(Te*4/re)];if(Ne=Te*4&Oe,re<4+Ne)throw new Error("FAT boundary crossed: "+Te+" 4 "+re);if(!Y[Se])break;Te=Xu(Y[Se],Ne)}return{nodes:oe,data:Z4([Ee])}}function L(Y,se,Q,re){var ne=Y.length,oe=[],Ee=[],Oe=[],Te=[],Ne=re-1,Se=0,qe=0,Ye=0,Qe=0;for(Se=0;Se<ne;++Se)if(Oe=[],Ye=Se+se,Ye>=ne&&(Ye-=ne),!Ee[Ye]){Te=[];var Ge=[];for(qe=Ye;qe>=0;){Ge[qe]=!0,Ee[qe]=!0,Oe[Oe.length]=qe,Te.push(Y[qe]);var Ze=Q[Math.floor(qe*4/re)];if(Qe=qe*4&Ne,re<4+Qe)throw new Error("FAT boundary crossed: "+qe+" 4 "+re);if(!Y[Ze]||(qe=Xu(Y[Ze],Qe),Ge[qe]))break}oe[Ye]={nodes:Oe,data:Z4([Te])}}return oe}function P(Y,se,Q,re,ne,oe,Ee,Oe){for(var Te=0,Ne=re.length?2:0,Se=se[Y].data,qe=0,Ye=0,Qe;qe<Se.length;qe+=128){var Ge=Se.slice(qe,qe+128);ki(Ge,64),Ye=Ge.read_shift(2),Qe=sC(Ge,0,Ye-Ne),re.push(Qe);var Ze={name:Qe,type:Ge.read_shift(1),color:Ge.read_shift(1),L:Ge.read_shift(4,"i"),R:Ge.read_shift(4,"i"),C:Ge.read_shift(4,"i"),clsid:Ge.read_shift(16),state:Ge.read_shift(4,"i"),start:0,size:0},lt=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);lt!==0&&(Ze.ct=D(Ge,Ge.l-8));var gr=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);gr!==0&&(Ze.mt=D(Ge,Ge.l-8)),Ze.start=Ge.read_shift(4,"i"),Ze.size=Ge.read_shift(4,"i"),Ze.size<0&&Ze.start<0&&(Ze.size=Ze.type=0,Ze.start=G,Ze.name=""),Ze.type===5?(Te=Ze.start,ne>0&&Te!==G&&(se[Te].name="!StreamData")):Ze.size>=4096?(Ze.storage="fat",se[Ze.start]===void 0&&(se[Ze.start]=C(Q,Ze.start,se.fat_addrs,se.ssz)),se[Ze.start].name=Ze.name,Ze.content=se[Ze.start].data.slice(0,Ze.size)):(Ze.storage="minifat",Ze.size<0?Ze.size=0:Te!==G&&Ze.start!==G&&se[Te]&&(Ze.content=w(Ze,se[Te].data,(se[Oe]||{}).data))),Ze.content&&ki(Ze.content,0),oe[Qe]=Ze,Ee.push(Ze)}}function D(Y,se){return new Date((rs(Y,se+4)/1e7*Math.pow(2,32)+rs(Y,se)/1e7-11644473600)*1e3)}function F(Y,se){return u(),d(c.readFileSync(Y),se)}function R(Y,se){var Q=se&&se.type;switch(Q||tr&&Buffer.isBuffer(Y)&&(Q="buffer"),Q||"base64"){case"file":return F(Y,se);case"base64":return d(Zs(fs(Y)),se);case"binary":return d(Zs(Y),se)}return d(Y,se)}function I(Y,se){var Q=se||{},re=Q.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=re+"/",Y.FileIndex[0]={name:re,type:5}),Q.CLSID&&(Y.FileIndex[0].clsid=Q.CLSID),k(Y)}function k(Y){var se="Sh33tJ5";if(!or.find(Y,"/"+se)){var Q=Yn(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,Y.FileIndex.push({name:se,type:2,content:Q,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+se),O(Y)}}function O(Y,se){I(Y);for(var Q=!1,re=!1,ne=Y.FullPaths.length-1;ne>=0;--ne){var oe=Y.FileIndex[ne];switch(oe.type){case 0:re?Q=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(oe.R*oe.L*oe.C)&&(Q=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!se)){var Ee=new Date(1987,1,19),Oe=0,Te=Object.create?Object.create(null):{},Ne=[];for(ne=0;ne<Y.FullPaths.length;++ne)Te[Y.FullPaths[ne]]=!0,Y.FileIndex[ne].type!==0&&Ne.push([Y.FullPaths[ne],Y.FileIndex[ne]]);for(ne=0;ne<Ne.length;++ne){var Se=n(Ne[ne][0]);re=Te[Se],re||(Ne.push([Se,{name:i(Se).replace("/",""),type:1,clsid:ie,ct:Ee,mt:Ee,content:null}]),Te[Se]=!0)}for(Ne.sort(function(Qe,Ge){return r(Qe[0],Ge[0])}),Y.FullPaths=[],Y.FileIndex=[],ne=0;ne<Ne.length;++ne)Y.FullPaths[ne]=Ne[ne][0],Y.FileIndex[ne]=Ne[ne][1];for(ne=0;ne<Ne.length;++ne){var qe=Y.FileIndex[ne],Ye=Y.FullPaths[ne];if(qe.name=i(Ye).replace("/",""),qe.L=qe.R=qe.C=-(qe.color=1),qe.size=qe.content?qe.content.length:0,qe.start=0,qe.clsid=qe.clsid||ie,ne===0)qe.C=Ne.length>1?1:-1,qe.size=0,qe.type=5;else if(Ye.slice(-1)=="/"){for(Oe=ne+1;Oe<Ne.length&&n(Y.FullPaths[Oe])!=Ye;++Oe);for(qe.C=Oe>=Ne.length?-1:Oe,Oe=ne+1;Oe<Ne.length&&n(Y.FullPaths[Oe])!=n(Ye);++Oe);qe.R=Oe>=Ne.length?-1:Oe,qe.type=1}else n(Y.FullPaths[ne+1]||"")==n(Ye)&&(qe.R=ne+1),qe.type=2}}}function B(Y,se){var Q=se||{};if(Q.fileType=="mad")return bu(Y,Q);if(O(Y),Q.fileType==="zip")return Zr(Y,Q);var re=(function(Qe){for(var Ge=0,Ze=0,lt=0;lt<Qe.FileIndex.length;++lt){var gr=Qe.FileIndex[lt];if(gr.content){var vr=gr.content.length;vr>0&&(vr<4096?Ge+=vr+63>>6:Ze+=vr+511>>9)}}for(var Ar=Qe.FullPaths.length+3>>2,ii=Ge+7>>3,Ga=Ge+127>>7,qa=ii+Ze+Ar+Ga,ea=qa+127>>7,wo=ea<=109?0:Math.ceil((ea-109)/127);qa+ea+wo+127>>7>ea;)wo=++ea<=109?0:Math.ceil((ea-109)/127);var ai=[1,wo,ea,Ga,Ar,Ze,Ge,0];return Qe.FileIndex[0].size=Ge<<6,ai[7]=(Qe.FileIndex[0].start=ai[0]+ai[1]+ai[2]+ai[3]+ai[4]+ai[5])+(ai[6]+7>>3),ai})(Y),ne=Yn(re[7]<<9),oe=0,Ee=0;{for(oe=0;oe<8;++oe)ne.write_shift(1,ge[oe]);for(oe=0;oe<8;++oe)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),oe=0;oe<3;++oe)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,re[2]),ne.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:G),ne.write_shift(4,re[3]),ne.write_shift(-4,re[1]?re[0]-1:G),ne.write_shift(4,re[1]),oe=0;oe<109;++oe)ne.write_shift(-4,oe<re[2]?re[1]+oe:-1)}if(re[1])for(Ee=0;Ee<re[1];++Ee){for(;oe<236+Ee*127;++oe)ne.write_shift(-4,oe<re[2]?re[1]+oe:-1);ne.write_shift(-4,Ee===re[1]-1?G:Ee+1)}var Oe=function(Qe){for(Ee+=Qe;oe<Ee-1;++oe)ne.write_shift(-4,oe+1);Qe&&(++oe,ne.write_shift(-4,G))};for(Ee=oe=0,Ee+=re[1];oe<Ee;++oe)ne.write_shift(-4,fe.DIFSECT);for(Ee+=re[2];oe<Ee;++oe)ne.write_shift(-4,fe.FATSECT);Oe(re[3]),Oe(re[4]);for(var Te=0,Ne=0,Se=Y.FileIndex[0];Te<Y.FileIndex.length;++Te)Se=Y.FileIndex[Te],Se.content&&(Ne=Se.content.length,!(Ne<4096)&&(Se.start=Ee,Oe(Ne+511>>9)));for(Oe(re[6]+7>>3);ne.l&511;)ne.write_shift(-4,fe.ENDOFCHAIN);for(Ee=oe=0,Te=0;Te<Y.FileIndex.length;++Te)Se=Y.FileIndex[Te],Se.content&&(Ne=Se.content.length,!(!Ne||Ne>=4096)&&(Se.start=Ee,Oe(Ne+63>>6)));for(;ne.l&511;)ne.write_shift(-4,fe.ENDOFCHAIN);for(oe=0;oe<re[4]<<2;++oe){var qe=Y.FullPaths[oe];if(!qe||qe.length===0){for(Te=0;Te<17;++Te)ne.write_shift(4,0);for(Te=0;Te<3;++Te)ne.write_shift(4,-1);for(Te=0;Te<12;++Te)ne.write_shift(4,0);continue}Se=Y.FileIndex[oe],oe===0&&(Se.start=Se.size?Se.start-1:G);var Ye=oe===0&&Q.root||Se.name;if(Ne=2*(Ye.length+1),ne.write_shift(64,Ye,"utf16le"),ne.write_shift(2,Ne),ne.write_shift(1,Se.type),ne.write_shift(1,Se.color),ne.write_shift(-4,Se.L),ne.write_shift(-4,Se.R),ne.write_shift(-4,Se.C),Se.clsid)ne.write_shift(16,Se.clsid,"hex");else for(Te=0;Te<4;++Te)ne.write_shift(4,0);ne.write_shift(4,Se.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Se.start),ne.write_shift(4,Se.size),ne.write_shift(4,0)}for(oe=1;oe<Y.FileIndex.length;++oe)if(Se=Y.FileIndex[oe],Se.size>=4096)if(ne.l=Se.start+1<<9,tr&&Buffer.isBuffer(Se.content))Se.content.copy(ne,ne.l,0,Se.size),ne.l+=Se.size+511&-512;else{for(Te=0;Te<Se.size;++Te)ne.write_shift(1,Se.content[Te]);for(;Te&511;++Te)ne.write_shift(1,0)}for(oe=1;oe<Y.FileIndex.length;++oe)if(Se=Y.FileIndex[oe],Se.size>0&&Se.size<4096)if(tr&&Buffer.isBuffer(Se.content))Se.content.copy(ne,ne.l,0,Se.size),ne.l+=Se.size+63&-64;else{for(Te=0;Te<Se.size;++Te)ne.write_shift(1,Se.content[Te]);for(;Te&63;++Te)ne.write_shift(1,0)}if(tr)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function V(Y,se){var Q=Y.FullPaths.map(function(Te){return Te.toUpperCase()}),re=Q.map(function(Te){var Ne=Te.split("/");return Ne[Ne.length-(Te.slice(-1)=="/"?2:1)]}),ne=!1;se.charCodeAt(0)===47?(ne=!0,se=Q[0].slice(0,-1)+se):ne=se.indexOf("/")!==-1;var oe=se.toUpperCase(),Ee=ne===!0?Q.indexOf(oe):re.indexOf(oe);if(Ee!==-1)return Y.FileIndex[Ee];var Oe=!oe.match(dp);for(oe=oe.replace(ha,""),Oe&&(oe=oe.replace(dp,"!")),Ee=0;Ee<Q.length;++Ee)if((Oe?Q[Ee].replace(dp,"!"):Q[Ee]).replace(ha,"")==oe||(Oe?re[Ee].replace(dp,"!"):re[Ee]).replace(ha,"")==oe)return Y.FileIndex[Ee];return null}var j=64,G=-2,de="d0cf11e0a1b11ae1",ge=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",fe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:G,FREESECT:-1,HEADER_SIGNATURE:de,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ue(Y,se,Q){u();var re=B(Y,Q);c.writeFileSync(se,re)}function ae(Y){for(var se=new Array(Y.length),Q=0;Q<Y.length;++Q)se[Q]=String.fromCharCode(Y[Q]);return se.join("")}function _e(Y,se){var Q=B(Y,se);switch(se&&se.type||"buffer"){case"file":return u(),c.writeFileSync(se.filename,Q),Q;case"binary":return typeof Q=="string"?Q:ae(Q);case"base64":return M4(typeof Q=="string"?Q:ae(Q));case"buffer":if(tr)return Buffer.isBuffer(Q)?Q:Df(Q);case"array":return typeof Q=="string"?Zs(Q):Q}return Q}var X;function z(Y){try{var se=Y.InflateRaw,Q=new se;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)X=Y;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function te(Y,se){if(!X)return xo(Y,se);var Q=X.InflateRaw,re=new Q,ne=re._processChunk(Y.slice(Y.l),re._finishFlushFlag);return Y.l+=re.bytesRead,ne}function Z(Y){return X?X.deflateRawSync(Y):Et(Y)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(Y){var se=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(se>>16|se>>8|se)&255}for(var le=typeof Uint8Array<"u",ve=le?new Uint8Array(256):[],Fe=0;Fe<256;++Fe)ve[Fe]=ke(Fe);function W(Y,se){var Q=ve[Y&255];return se<=8?Q>>>8-se:(Q=Q<<8|ve[Y>>8&255],se<=16?Q>>>16-se:(Q=Q<<8|ve[Y>>16&255],Q>>>24-se))}function Je(Y,se){var Q=se&7,re=se>>>3;return(Y[re]|(Q<=6?0:Y[re+1]<<8))>>>Q&3}function Be(Y,se){var Q=se&7,re=se>>>3;return(Y[re]|(Q<=5?0:Y[re+1]<<8))>>>Q&7}function We(Y,se){var Q=se&7,re=se>>>3;return(Y[re]|(Q<=4?0:Y[re+1]<<8))>>>Q&15}function $e(Y,se){var Q=se&7,re=se>>>3;return(Y[re]|(Q<=3?0:Y[re+1]<<8))>>>Q&31}function Le(Y,se){var Q=se&7,re=se>>>3;return(Y[re]|(Q<=1?0:Y[re+1]<<8))>>>Q&127}function Xe(Y,se,Q){var re=se&7,ne=se>>>3,oe=(1<<Q)-1,Ee=Y[ne]>>>re;return Q<8-re||(Ee|=Y[ne+1]<<8-re,Q<16-re)||(Ee|=Y[ne+2]<<16-re,Q<24-re)||(Ee|=Y[ne+3]<<24-re),Ee&oe}function tt(Y,se,Q){var re=se&7,ne=se>>>3;return re<=5?Y[ne]|=(Q&7)<<re:(Y[ne]|=Q<<re&255,Y[ne+1]=(Q&7)>>8-re),se+3}function pt(Y,se,Q){var re=se&7,ne=se>>>3;return Q=(Q&1)<<re,Y[ne]|=Q,se+1}function kt(Y,se,Q){var re=se&7,ne=se>>>3;return Q<<=re,Y[ne]|=Q&255,Q>>>=8,Y[ne+1]=Q,se+8}function qr(Y,se,Q){var re=se&7,ne=se>>>3;return Q<<=re,Y[ne]|=Q&255,Q>>>=8,Y[ne+1]=Q&255,Y[ne+2]=Q>>>8,se+16}function Vr(Y,se){var Q=Y.length,re=2*Q>se?2*Q:se+5,ne=0;if(Q>=se)return Y;if(tr){var oe=D4(re);if(Y.copy)Y.copy(oe);else for(;ne<Y.length;++ne)oe[ne]=Y[ne];return oe}else if(le){var Ee=new Uint8Array(re);if(Ee.set)Ee.set(Y);else for(;ne<Q;++ne)Ee[ne]=Y[ne];return Ee}return Y.length=re,Y}function bt(Y){for(var se=new Array(Y),Q=0;Q<Y;++Q)se[Q]=0;return se}function _r(Y,se,Q){var re=1,ne=0,oe=0,Ee=0,Oe=0,Te=Y.length,Ne=le?new Uint16Array(32):bt(32);for(oe=0;oe<32;++oe)Ne[oe]=0;for(oe=Te;oe<Q;++oe)Y[oe]=0;Te=Y.length;var Se=le?new Uint16Array(Te):bt(Te);for(oe=0;oe<Te;++oe)Ne[ne=Y[oe]]++,re<ne&&(re=ne),Se[oe]=0;for(Ne[0]=0,oe=1;oe<=re;++oe)Ne[oe+16]=Oe=Oe+Ne[oe-1]<<1;for(oe=0;oe<Te;++oe)Oe=Y[oe],Oe!=0&&(Se[oe]=Ne[Oe+16]++);var qe=0;for(oe=0;oe<Te;++oe)if(qe=Y[oe],qe!=0)for(Oe=W(Se[oe],re)>>re-qe,Ee=(1<<re+4-qe)-1;Ee>=0;--Ee)se[Oe|Ee<<qe]=qe&15|oe<<4;return re}var Kt=le?new Uint16Array(512):bt(512),Tr=le?new Uint16Array(32):bt(32);if(!le){for(var dt=0;dt<512;++dt)Kt[dt]=0;for(dt=0;dt<32;++dt)Tr[dt]=0}(function(){for(var Y=[],se=0;se<32;se++)Y.push(5);_r(Y,Tr,32);var Q=[];for(se=0;se<=143;se++)Q.push(8);for(;se<=255;se++)Q.push(9);for(;se<=279;se++)Q.push(7);for(;se<=287;se++)Q.push(8);_r(Q,Kt,288)})();var Mt=(function(){for(var se=le?new Uint8Array(32768):[],Q=0,re=0;Q<xe.length-1;++Q)for(;re<xe[Q+1];++re)se[re]=Q;for(;re<32768;++re)se[re]=29;var ne=le?new Uint8Array(259):[];for(Q=0,re=0;Q<pe.length-1;++Q)for(;re<pe[Q+1];++re)ne[re]=Q;function oe(Oe,Te){for(var Ne=0;Ne<Oe.length;){var Se=Math.min(65535,Oe.length-Ne),qe=Ne+Se==Oe.length;for(Te.write_shift(1,+qe),Te.write_shift(2,Se),Te.write_shift(2,~Se&65535);Se-- >0;)Te[Te.l++]=Oe[Ne++]}return Te.l}function Ee(Oe,Te){for(var Ne=0,Se=0,qe=le?new Uint16Array(32768):[];Se<Oe.length;){var Ye=Math.min(65535,Oe.length-Se);if(Ye<10){for(Ne=tt(Te,Ne,+(Se+Ye==Oe.length)),Ne&7&&(Ne+=8-(Ne&7)),Te.l=Ne/8|0,Te.write_shift(2,Ye),Te.write_shift(2,~Ye&65535);Ye-- >0;)Te[Te.l++]=Oe[Se++];Ne=Te.l*8;continue}Ne=tt(Te,Ne,+(Se+Ye==Oe.length)+2);for(var Qe=0;Ye-- >0;){var Ge=Oe[Se];Qe=(Qe<<5^Ge)&32767;var Ze=-1,lt=0;if((Ze=qe[Qe])&&(Ze|=Se&-32768,Ze>Se&&(Ze-=32768),Ze<Se))for(;Oe[Ze+lt]==Oe[Se+lt]&&lt<250;)++lt;if(lt>2){Ge=ne[lt],Ge<=22?Ne=kt(Te,Ne,ve[Ge+1]>>1)-1:(kt(Te,Ne,3),Ne+=5,kt(Te,Ne,ve[Ge-23]>>5),Ne+=3);var gr=Ge<8?0:Ge-4>>2;gr>0&&(qr(Te,Ne,lt-pe[Ge]),Ne+=gr),Ge=se[Se-Ze],Ne=kt(Te,Ne,ve[Ge]>>3),Ne-=3;var vr=Ge<4?0:Ge-2>>1;vr>0&&(qr(Te,Ne,Se-Ze-xe[Ge]),Ne+=vr);for(var Ar=0;Ar<lt;++Ar)qe[Qe]=Se&32767,Qe=(Qe<<5^Oe[Se])&32767,++Se;Ye-=lt-1}else Ge<=143?Ge=Ge+48:Ne=pt(Te,Ne,1),Ne=kt(Te,Ne,ve[Ge]),qe[Qe]=Se&32767,++Se}Ne=kt(Te,Ne,0)-1}return Te.l=(Ne+7)/8|0,Te.l}return function(Te,Ne){return Te.length<8?oe(Te,Ne):Ee(Te,Ne)}})();function Et(Y){var se=Yn(50+Math.floor(Y.length*1.1)),Q=Mt(Y,se);return se.slice(0,Q)}var rr=le?new Uint16Array(32768):bt(32768),Ht=le?new Uint16Array(32768):bt(32768),Vt=le?new Uint16Array(128):bt(128),br=1,_i=1;function gt(Y,se){var Q=$e(Y,se)+257;se+=5;var re=$e(Y,se)+1;se+=5;var ne=We(Y,se)+4;se+=4;for(var oe=0,Ee=le?new Uint8Array(19):bt(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,Ne=le?new Uint8Array(8):bt(8),Se=le?new Uint8Array(8):bt(8),qe=Ee.length,Ye=0;Ye<ne;++Ye)Ee[K[Ye]]=oe=Be(Y,se),Te<oe&&(Te=oe),Ne[oe]++,se+=3;var Qe=0;for(Ne[0]=0,Ye=1;Ye<=Te;++Ye)Se[Ye]=Qe=Qe+Ne[Ye-1]<<1;for(Ye=0;Ye<qe;++Ye)(Qe=Ee[Ye])!=0&&(Oe[Ye]=Se[Qe]++);var Ge=0;for(Ye=0;Ye<qe;++Ye)if(Ge=Ee[Ye],Ge!=0){Qe=ve[Oe[Ye]]>>8-Ge;for(var Ze=(1<<7-Ge)-1;Ze>=0;--Ze)Vt[Qe|Ze<<Ge]=Ge&7|Ye<<3}var lt=[];for(Te=1;lt.length<Q+re;)switch(Qe=Vt[Le(Y,se)],se+=Qe&7,Qe>>>=3){case 16:for(oe=3+Je(Y,se),se+=2,Qe=lt[lt.length-1];oe-- >0;)lt.push(Qe);break;case 17:for(oe=3+Be(Y,se),se+=3;oe-- >0;)lt.push(0);break;case 18:for(oe=11+Le(Y,se),se+=7;oe-- >0;)lt.push(0);break;default:lt.push(Qe),Te<Qe&&(Te=Qe);break}var gr=lt.slice(0,Q),vr=lt.slice(Q);for(Ye=Q;Ye<286;++Ye)gr[Ye]=0;for(Ye=re;Ye<30;++Ye)vr[Ye]=0;return br=_r(gr,rr,286),_i=_r(vr,Ht,30),se}function ya(Y,se){if(Y[0]==3&&!(Y[1]&3))return[Qc(se),2];for(var Q=0,re=0,ne=D4(se||1<<18),oe=0,Ee=ne.length>>>0,Oe=0,Te=0;(re&1)==0;){if(re=Be(Y,Q),Q+=3,re>>>1)re>>1==1?(Oe=9,Te=5):(Q=gt(Y,Q),Oe=br,Te=_i);else{Q&7&&(Q+=8-(Q&7));var Ne=Y[Q>>>3]|Y[(Q>>>3)+1]<<8;if(Q+=32,Ne>0)for(!se&&Ee<oe+Ne&&(ne=Vr(ne,oe+Ne),Ee=ne.length);Ne-- >0;)ne[oe++]=Y[Q>>>3],Q+=8;continue}for(;;){!se&&Ee<oe+32767&&(ne=Vr(ne,oe+32767),Ee=ne.length);var Se=Xe(Y,Q,Oe),qe=re>>>1==1?Kt[Se]:rr[Se];if(Q+=qe&15,qe>>>=4,(qe>>>8&255)===0)ne[oe++]=qe;else{if(qe==256)break;qe-=257;var Ye=qe<8?0:qe-4>>2;Ye>5&&(Ye=0);var Qe=oe+pe[qe];Ye>0&&(Qe+=Xe(Y,Q,Ye),Q+=Ye),Se=Xe(Y,Q,Te),qe=re>>>1==1?Tr[Se]:Ht[Se],Q+=qe&15,qe>>>=4;var Ge=qe<4?0:qe-2>>1,Ze=xe[qe];for(Ge>0&&(Ze+=Xe(Y,Q,Ge),Q+=Ge),!se&&Ee<Qe&&(ne=Vr(ne,Qe+100),Ee=ne.length);oe<Qe;)ne[oe]=ne[oe-Ze],++oe}}}return se?[ne,Q+7>>>3]:[ne.slice(0,oe),Q+7>>>3]}function xo(Y,se){var Q=Y.slice(Y.l||0),re=ya(Q,se);return Y.l+=re[1],re[0]}function il(Y,se){if(Y)typeof console<"u"&&console.error(se);else throw new Error(se)}function xa(Y,se){var Q=Y;ki(Q,0);var re=[],ne=[],oe={FileIndex:re,FullPaths:ne};I(oe,{root:se.root});for(var Ee=Q.length-4;(Q[Ee]!=80||Q[Ee+1]!=75||Q[Ee+2]!=5||Q[Ee+3]!=6)&&Ee>=0;)--Ee;Q.l=Ee+4,Q.l+=4;var Oe=Q.read_shift(2);Q.l+=6;var Te=Q.read_shift(4);for(Q.l=Te,Ee=0;Ee<Oe;++Ee){Q.l+=20;var Ne=Q.read_shift(4),Se=Q.read_shift(4),qe=Q.read_shift(2),Ye=Q.read_shift(2),Qe=Q.read_shift(2);Q.l+=8;var Ge=Q.read_shift(4),Ze=o(Q.slice(Q.l+qe,Q.l+qe+Ye));Q.l+=qe+Ye+Qe;var lt=Q.l;Q.l=Ge+4,_o(Q,Ne,Se,oe,Ze),Q.l=lt}return oe}function _o(Y,se,Q,re,ne){Y.l+=2;var oe=Y.read_shift(2),Ee=Y.read_shift(2),Oe=s(Y);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var Te=Y.read_shift(4),Ne=Y.read_shift(4),Se=Y.read_shift(4),qe=Y.read_shift(2),Ye=Y.read_shift(2),Qe="",Ge=0;Ge<qe;++Ge)Qe+=String.fromCharCode(Y[Y.l++]);if(Ye){var Ze=o(Y.slice(Y.l,Y.l+Ye));(Ze[21589]||{}).mt&&(Oe=Ze[21589].mt),((ne||{})[21589]||{}).mt&&(Oe=ne[21589].mt)}Y.l+=Ye;var lt=Y.slice(Y.l,Y.l+Ne);switch(Ee){case 8:lt=te(Y,Se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ee)}var gr=!1;oe&8&&(Te=Y.read_shift(4),Te==134695760&&(Te=Y.read_shift(4),gr=!0),Ne=Y.read_shift(4),Se=Y.read_shift(4)),Ne!=se&&il(gr,"Bad compressed size: "+se+" != "+Ne),Se!=Q&&il(gr,"Bad uncompressed size: "+Q+" != "+Se),Ha(re,Qe,lt,{unsafe:!0,mt:Oe})}function Zr(Y,se){var Q=se||{},re=[],ne=[],oe=Yn(1),Ee=Q.compression?8:0,Oe=0,Te=0,Ne=0,Se=0,qe=0,Ye=Y.FullPaths[0],Qe=Ye,Ge=Y.FileIndex[0],Ze=[],lt=0;for(Te=1;Te<Y.FullPaths.length;++Te)if(Qe=Y.FullPaths[Te].slice(Ye.length),Ge=Y.FileIndex[Te],!(!Ge.size||!Ge.content||Qe=="Sh33tJ5")){var gr=Se,vr=Yn(Qe.length);for(Ne=0;Ne<Qe.length;++Ne)vr.write_shift(1,Qe.charCodeAt(Ne)&127);vr=vr.slice(0,vr.l),Ze[qe]=sne.buf(Ge.content,0);var Ar=Ge.content;Ee==8&&(Ar=Z(Ar)),oe=Yn(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Oe),oe.write_shift(2,Ee),Ge.mt?a(oe,Ge.mt):oe.write_shift(4,0),oe.write_shift(-4,Ze[qe]),oe.write_shift(4,Ar.length),oe.write_shift(4,Ge.content.length),oe.write_shift(2,vr.length),oe.write_shift(2,0),Se+=oe.length,re.push(oe),Se+=vr.length,re.push(vr),Se+=Ar.length,re.push(Ar),oe=Yn(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Oe),oe.write_shift(2,Ee),oe.write_shift(4,0),oe.write_shift(-4,Ze[qe]),oe.write_shift(4,Ar.length),oe.write_shift(4,Ge.content.length),oe.write_shift(2,vr.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,gr),lt+=oe.l,ne.push(oe),lt+=vr.length,ne.push(vr),++qe}return oe=Yn(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,qe),oe.write_shift(2,qe),oe.write_shift(4,lt),oe.write_shift(4,Se),oe.write_shift(2,0),Mc([Mc(re),Mc(ne),oe])}var ni={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $a(Y,se){if(Y.ctype)return Y.ctype;var Q=Y.name||"",re=Q.match(/\.([^\.]+)$/);return re&&ni[re[1]]||se&&(re=(Q=se).match(/[\.\\]([^\.\\])+$/),re&&ni[re[1]])?ni[re[1]]:"application/octet-stream"}function _a(Y){for(var se=M4(Y),Q=[],re=0;re<se.length;re+=76)Q.push(se.slice(re,re+76));return Q.join(`\r
`)+`\r
`}function _u(Y){var se=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ne){var Se=Ne.charCodeAt(0).toString(16).toUpperCase();return"="+(Se.length==1?"0"+Se:Se)});se=se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),se.charAt(0)==`
`&&(se="=0D"+se.slice(1)),se=se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],re=se.split(`\r
`),ne=0;ne<re.length;++ne){var oe=re[ne];if(oe.length==0){Q.push("");continue}for(var Ee=0;Ee<oe.length;){var Oe=76,Te=oe.slice(Ee,Ee+Oe);Te.charAt(Oe-1)=="="?Oe--:Te.charAt(Oe-2)=="="?Oe-=2:Te.charAt(Oe-3)=="="&&(Oe-=3),Te=oe.slice(Ee,Ee+Oe),Ee+=Oe,Ee<oe.length&&(Te+="="),Q.push(Te)}}return Q.join(`\r
`)}function bo(Y){for(var se=[],Q=0;Q<Y.length;++Q){for(var re=Y[Q];Q<=Y.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+Y[++Q];se.push(re)}for(var ne=0;ne<se.length;++ne)se[ne]=se[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Zs(se.join(`\r
`))}function ba(Y,se,Q){for(var re="",ne="",oe="",Ee,Oe=0;Oe<10;++Oe){var Te=se[Oe];if(!Te||Te.match(/^\s*$/))break;var Ne=Te.match(/^(.*?):\s*([^\s].*)$/);if(Ne)switch(Ne[1].toLowerCase()){case"content-location":re=Ne[2].trim();break;case"content-type":oe=Ne[2].trim();break;case"content-transfer-encoding":ne=Ne[2].trim();break}}switch(++Oe,ne.toLowerCase()){case"base64":Ee=Zs(fs(se.slice(Oe).join("")));break;case"quoted-printable":Ee=bo(se.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Se=Ha(Y,re.slice(Q.length),Ee,{unsafe:!0});oe&&(Se.ctype=oe)}function wa(Y,se){if(ae(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=se&&se.root||"",re=(tr&&Buffer.isBuffer(Y)?Y.toString("binary"):ae(Y)).split(`\r
`),ne=0,oe="";for(ne=0;ne<re.length;++ne)if(oe=re[ne],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Q||(Q=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),oe.slice(0,Q.length)!=Q););var Ee=(re[1]||"").match(/boundary="(.*?)"/);if(!Ee)throw new Error("MAD cannot find boundary");var Oe="--"+(Ee[1]||""),Te=[],Ne=[],Se={FileIndex:Te,FullPaths:Ne};I(Se);var qe,Ye=0;for(ne=0;ne<re.length;++ne){var Qe=re[ne];Qe!==Oe&&Qe!==Oe+"--"||(Ye++&&ba(Se,re.slice(qe,ne),Q),qe=ne)}return Se}function bu(Y,se){var Q=se||{},re=Q.boundary||"SheetJS";re="------="+re;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],oe=Y.FullPaths[0],Ee=oe,Oe=Y.FileIndex[0],Te=1;Te<Y.FullPaths.length;++Te)if(Ee=Y.FullPaths[Te].slice(oe.length),Oe=Y.FileIndex[Te],!(!Oe.size||!Oe.content||Ee=="Sh33tJ5")){Ee=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(lt){return"_x"+lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(lt){return"_u"+lt.charCodeAt(0).toString(16)+"_"});for(var Ne=Oe.content,Se=tr&&Buffer.isBuffer(Ne)?Ne.toString("binary"):ae(Ne),qe=0,Ye=Math.min(1024,Se.length),Qe=0,Ge=0;Ge<=Ye;++Ge)(Qe=Se.charCodeAt(Ge))>=32&&Qe<128&&++qe;var Ze=qe>=Ye*4/5;ne.push(re),ne.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Ee),ne.push("Content-Transfer-Encoding: "+(Ze?"quoted-printable":"base64")),ne.push("Content-Type: "+$a(Oe,Ee)),ne.push(""),ne.push(Ze?_u(Se):_a(Se))}return ne.push(re+`--\r
`),ne.join(`\r
`)}function bi(Y){var se={};return I(se,Y),se}function Ha(Y,se,Q,re){var ne=re&&re.unsafe;ne||I(Y);var oe=!ne&&or.find(Y,se);if(!oe){var Ee=Y.FullPaths[0];se.slice(0,Ee.length)==Ee?Ee=se:(Ee.slice(-1)!="/"&&(Ee+="/"),Ee=(Ee+se).replace("//","/")),oe={name:i(se),type:2},Y.FileIndex.push(oe),Y.FullPaths.push(Ee),ne||or.utils.cfb_gc(Y)}return oe.content=Q,oe.size=Q?Q.length:0,re&&(re.CLSID&&(oe.clsid=re.CLSID),re.mt&&(oe.mt=re.mt),re.ct&&(oe.ct=re.ct)),oe}function Fi(Y,se){I(Y);var Q=or.find(Y,se);if(Q){for(var re=0;re<Y.FileIndex.length;++re)if(Y.FileIndex[re]==Q)return Y.FileIndex.splice(re,1),Y.FullPaths.splice(re,1),!0}return!1}function Qi(Y,se,Q){I(Y);var re=or.find(Y,se);if(re){for(var ne=0;ne<Y.FileIndex.length;++ne)if(Y.FileIndex[ne]==re)return Y.FileIndex[ne].name=i(Q),Y.FullPaths[ne]=Q,!0}return!1}function Rn(Y){O(Y,!0)}return t.find=V,t.read=R,t.parse=d,t.write=_e,t.writeFile=ue,t.utils={cfb_new:bi,cfb_add:Ha,cfb_del:Fi,cfb_mov:Qi,cfb_gc:Rn,ReadShift:Cp,CheckField:C9,prep_blob:ki,bconcat:Mc,use_zlib:z,_deflateRaw:Et,_inflateRaw:xo,consts:fe},t})();function one(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Wo(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function rC(e){for(var t=[],r=Wo(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var ox=new Date(1899,11,30,0,0,0);function pa(e,t){var r=e.getTime(),n=ox.getTime()+(e.getTimezoneOffset()-ox.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var s9=new Date,lne=ox.getTime()+(s9.getTimezoneOffset()-ox.getTimezoneOffset())*6e4,$4=s9.getTimezoneOffset();function j1(e){var t=new Date;return t.setTime(e*24*60*60*1e3+lne),t.getTimezoneOffset()!==$4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-$4)*6e4),t}function cne(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var H4=new Date("2017-02-19T19:06:09.000Z"),o9=isNaN(H4.getFullYear())?new Date("2/19/17"):H4,une=o9.getFullYear()==2017;function mi(e,t){var r=new Date(e);if(une)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(o9.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function yf(e,t){if(tr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return pp(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return pp(KU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return pp(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return pp(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function Ri(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ri(e[r]));return t}function gn(e,t){for(var r="";r.length<t;)r+=e;return r}function so(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var fne=["january","february","march","april","may","june","july","august","september","october","november","december"];function hh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&fne.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var dne=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function l9(e){return e?e.content&&e.type?yf(e.content,!0):e.data?fp(e.data):e.asNodeBuffer&&tr?fp(e.asNodeBuffer().toString("binary")):e.asBinary?fp(e.asBinary()):e._data&&e._data.getContent?fp(yf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function c9(e){if(!e)return null;if(e.data)return R4(e.data);if(e.asNodeBuffer&&tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?R4(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function hne(e){return e&&e.name.slice(-4)===".bin"?c9(e):l9(e)}function ks(e,t){for(var r=e.FullPaths||Wo(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function nC(e,t){var r=ks(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Bn(e,t,r){if(!r)return hne(nC(e,t));if(!t)return null;try{return Bn(e,t)}catch{return null}}function is(e,t,r){if(!r)return l9(nC(e,t));if(!t)return null;try{return is(e,t)}catch{return null}}function pne(e,t,r){return c9(nC(e,t))}function G4(e){for(var t=e.FullPaths||Wo(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function mne(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return tr?n=Df(r):n=Mre(r),or.utils.cfb_add(e,t,n)}or.utils.cfb_add(e,t,r)}else e.file(t,r)}function u9(e,t){switch(t.type){case"base64":return or.read(e,{type:"base64"});case"binary":return or.read(e,{type:"binary"});case"buffer":case"array":return or.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function hp(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var f9=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,gne=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,q4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,vne=/<[^>]*>/g,Xi=f9.match(q4)?q4:vne,yne=/<\w*:/,xne=/<(\/?)\w+:/;function St(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var s=e.match(gne),o=0,c="",u=0,d="",h="",g=1;if(s)for(u=0;u!=s.length;++u){for(h=s[u],a=0;a!=h.length&&h.charCodeAt(a)!==61;++a);for(d=h.slice(0,a).trim();h.charCodeAt(a+1)==32;)++a;for(g=(i=h.charCodeAt(a+1))==34||i==39?1:0,c=h.slice(a+1+g,h.length-g),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var x=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[x]&&d.slice(o-3,o)=="ext")continue;n[x]=c,n[x.toLowerCase()]=c}}return n}function Qo(e){return e.replace(xne,"<$1")}var d9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},_ne=rC(d9),cr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(o,c){return d9[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}})(),bne=/[&<>'"]/g,wne=/[\u0000-\u001f]/g;function iC(e){var t=e+"";return t.replace(bne,function(r){return _ne[r]}).replace(/\n/g,"<br/>").replace(wne,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var K4=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function rn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function lE(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function W4(e){var t=Qc(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function Y4(e){return Df(e,"binary").toString("utf8")}var Fv="foo bar baz",Hr=tr&&(Y4(Fv)==lE(Fv)&&Y4||W4(Fv)==lE(Fv)&&W4)||lE,pp=tr?function(e){return Df(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},em=(function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),h9=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}})(),Ene=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Tne=/<\/?(?:vt:)?variant>/g,Ane=/<(?:vt:)([^>]*)>([\s\S]*)</;function J4(e,t){var r=St(e),n=e.match(Ene(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(Tne,"").match(Ane);s&&i.push({v:Hr(s[2]),t:s[1]})}),i}var Sne=/(^\s|\s$|\n)/;function Cne(e){return Wo(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Nne(e,t,r){return"<"+e+(r!=null?Cne(r):"")+(t!=null?(t.match(Sne)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function aC(e){if(tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Hr(Ff(Q2(e)));throw new Error("Bad input format: expected Buffer or string")}var tm=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ine={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},kne=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Pne(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function Rne(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var X4=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},Z4=tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Df(t)})):X4(e)}:X4,Q4=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Cl(e,i)));return n.join("").replace(ha,"")},sC=tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ha,""):Q4(e,t,r)}:Q4,eM=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},p9=tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):eM(e,t,r)}:eM,tM=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Dd(e,i)));return n.join("")},Dm=tr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):tM(t,r,n)}:tM,m9=function(e,t){var r=rs(e,t);return r>0?Dm(e,t+4,t+4+r-1):""},g9=m9,v9=function(e,t){var r=rs(e,t);return r>0?Dm(e,t+4,t+4+r-1):""},y9=v9,x9=function(e,t){var r=2*rs(e,t);return r>0?Dm(e,t+4,t+4+r-1):""},_9=x9,b9=function(t,r){var n=rs(t,r);return n>0?sC(t,r+4,r+4+n):""},w9=b9,E9=function(e,t){var r=rs(e,t);return r>0?Dm(e,t+4,t+4+r):""},T9=E9,A9=function(e,t){return Pne(e,t)},lx=A9,S9=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};tr&&(g9=function(t,r){if(!Buffer.isBuffer(t))return m9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},y9=function(t,r){if(!Buffer.isBuffer(t))return v9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},_9=function(t,r){if(!Buffer.isBuffer(t))return x9(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},w9=function(t,r){if(!Buffer.isBuffer(t))return b9(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},T9=function(t,r){if(!Buffer.isBuffer(t))return E9(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},lx=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):A9(t,r)},S9=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Dd=function(e,t){return e[t]},Cl=function(e,t){return e[t+1]*256+e[t]},One=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},rs=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Xu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Mne=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Cp(e,t){var r="",n,i,a=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,tr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Cl(this,u)),u+=2;e*=2;break;case"utf8":r=Dm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=sC(this,this.l,this.l+e);break;case"wstr":return Cp.call(this,e,"dbcs");case"lpstr-ansi":r=g9(this,this.l),e=4+rs(this,this.l);break;case"lpstr-cp":r=y9(this,this.l),e=4+rs(this,this.l);break;case"lpwstr":r=_9(this,this.l),e=4+2*rs(this,this.l);break;case"lpp4":e=4+rs(this,this.l),r=w9(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+rs(this,this.l),r=T9(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Dd(this,this.l+e++))!==0;)a.push(Dv(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=Cl(this,this.l+e))!==0;)a.push(Dv(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Dd(this,u),this.l=u+1,o=Cp.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Dv(Cl(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Dd(this,u),this.l=u+1,o=Cp.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Dv(Dd(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Dd(this,this.l),this.l++,n;case 2:return n=(t==="i"?One:Cl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Xu:Mne)(this,this.l),this.l+=4,n):(i=rs(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=lx(this,this.l):i=lx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=p9(this,this.l,e);break}}return this.l+=e,r}var Dne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Fne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Lne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function jne(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)Lne(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Dne(this,t,this.l);break;case 8:if(n=8,r==="f"){Rne(this,t,this.l);break}case 16:break;case-4:n=4,Fne(this,t,this.l);break}return this.l+=n,this}function C9(e,t){var r=p9(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ki(e,t){e.l=t,e.read_shift=Cp,e.chk=C9,e.write_shift=jne}function Ji(e,t){e.l+=t}function Yn(e){var t=Qc(e);return ki(t,0),t}function Kl(e,t,r){if(e){var n,i,a;ki(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=px[o]||px[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;c=e.l+a;var d=u.f&&u.f(e,a,r);if(e.l=c,t(d,u,o))return}}}function OA(){var e=[],t=tr?256:2048,r=function(u){var d=Yn(u);return ki(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},s=function(){return i(),Mc(e)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function Np(e,t,r){var n=Ri(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function rM(e,t,r){var n=Ri(e);return n.s=Np(n.s,t.s,r),n.e=Np(n.e,t.s,r),n}function Ip(e,t){if(e.cRel&&e.c<0)for(e=Ri(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ri(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Rt(e);return!e.cRel&&e.cRel!=null&&(r=Vne(r)),!e.rRel&&e.rRel!=null&&(r=Une(r)),r}function cE(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Xn(e.s.c)+":"+(e.e.cRel?"":"$")+Xn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Oi(e.s.r)+":"+(e.e.rRel?"":"$")+Oi(e.e.r):Ip(e.s,t.biff)+":"+Ip(e.e,t.biff)}function oC(e){return parseInt(Bne(e),10)-1}function Oi(e){return""+(e+1)}function Une(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Bne(e){return e.replace(/\$(\d+)$/,"$1")}function lC(e){for(var t=zne(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Xn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Vne(e){return e.replace(/^([A-Z])/,"$$$1")}function zne(e){return e.replace(/^\$([A-Z])/,"$1")}function $ne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fa(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Rt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Mh(e){var t=e.indexOf(":");return t==-1?{s:fa(e),e:fa(e)}:{s:fa(e.slice(0,t)),e:fa(e.slice(t+1))}}function lr(e,t){return typeof t>"u"||typeof t=="number"?lr(e.s,e.e):(typeof e!="string"&&(e=Rt(e)),typeof t!="string"&&(t=Rt(t)),e==t?e:e+":"+t)}function xn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function nM(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ds(e.z,r?pa(t):t)}catch{}try{return e.w=Ds((e.XF||{}).numFmtId||(r?14:0),r?pa(t):t)}catch{return""+t}}function Dl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Uf[e.v]||e.v:t==null?nM(e,e.v):nM(e,t))}function hu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function N9(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?fa(n.origin):n.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=xn(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[h].length;++g)if(!(typeof t[h][g]>"u")){var x={v:t[h][g]},_=s+h,w=o+g;if(u.s.r>_&&(u.s.r=_),u.s.c>w&&(u.s.c=w),u.e.r<_&&(u.e.r=_),u.e.c<w&&(u.e.c=w),t[h][g]&&typeof t[h][g]=="object"&&!Array.isArray(t[h][g])&&!(t[h][g]instanceof Date))x=t[h][g];else if(Array.isArray(x.v)&&(x.f=t[h][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||Ut[14],n.cellDates?(x.t="d",x.w=Ds(x.z,pa(x.v))):(x.t="n",x.v=pa(x.v),x.w=Ds(x.z,x.v))):x.t="s";if(i)a[_]||(a[_]=[]),a[_][w]&&a[_][w].z&&(x.z=a[_][w].z),a[_][w]=x;else{var T=Rt({c:w,r:_});a[T]&&a[T].z&&(x.z=a[T].z),a[T]=x}}}return u.s.c<1e7&&(a["!ref"]=lr(u)),a}function Dh(e,t){return N9(null,e,t)}function Hne(e){return e.read_shift(4,"i")}function Wi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Gne(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function cC(e,t){var r=e.l,n=e.read_shift(1),i=Wi(e),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(Gne(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var qne=cC;function Vs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Lf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Kne=Wi;function uC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Wne=Wi,MA=uC;function fC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?lx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Xu(t,0)>>2;return r?i/100:i}function I9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var jf=I9;function Hi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Yne(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=of[i];u&&(t.rgb=nm(u));break;case 2:t.rgb=nm([s,o,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function Jne(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function k9(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Xne(e){return k9(e,1)}function Zne(e){return k9(e,2)}var dC=2,Ia=3,Lv=11,iM=12,cx=19,jv=64,Qne=65,eie=71,tie=4108,rie=4126,fi=80,P9=81,nie=[fi,P9],iie={1:{n:"CodePage",t:dC},2:{n:"Category",t:fi},3:{n:"PresentationFormat",t:fi},4:{n:"ByteCount",t:Ia},5:{n:"LineCount",t:Ia},6:{n:"ParagraphCount",t:Ia},7:{n:"SlideCount",t:Ia},8:{n:"NoteCount",t:Ia},9:{n:"HiddenCount",t:Ia},10:{n:"MultimediaClipCount",t:Ia},11:{n:"ScaleCrop",t:Lv},12:{n:"HeadingPairs",t:tie},13:{n:"TitlesOfParts",t:rie},14:{n:"Manager",t:fi},15:{n:"Company",t:fi},16:{n:"LinksUpToDate",t:Lv},17:{n:"CharacterCount",t:Ia},19:{n:"SharedDoc",t:Lv},22:{n:"HyperlinksChanged",t:Lv},23:{n:"AppVersion",t:Ia,p:"version"},24:{n:"DigSig",t:Qne},26:{n:"ContentType",t:fi},27:{n:"ContentStatus",t:fi},28:{n:"Language",t:fi},29:{n:"Version",t:fi},255:{},2147483648:{n:"Locale",t:cx},2147483651:{n:"Behavior",t:cx},1919054434:{}},aie={1:{n:"CodePage",t:dC},2:{n:"Title",t:fi},3:{n:"Subject",t:fi},4:{n:"Author",t:fi},5:{n:"Keywords",t:fi},6:{n:"Comments",t:fi},7:{n:"Template",t:fi},8:{n:"LastAuthor",t:fi},9:{n:"RevNumber",t:fi},10:{n:"EditTime",t:jv},11:{n:"LastPrinted",t:jv},12:{n:"CreatedDate",t:jv},13:{n:"ModifiedDate",t:jv},14:{n:"PageCount",t:Ia},15:{n:"WordCount",t:Ia},16:{n:"CharCount",t:Ia},17:{n:"Thumbnail",t:eie},18:{n:"Application",t:fi},19:{n:"DocSecurity",t:Ia},255:{},2147483648:{n:"Locale",t:cx},2147483651:{n:"Behavior",t:cx},1919054434:{}},aM={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},sie=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function oie(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var lie=oie([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),of=Ri(lie),Uf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},R9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},sM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function cie(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function uie(e){var t=cie();if(!e||!e.match)return t;var r={};if((e.match(Xi)||[]).forEach(function(n){var i=St(n);switch(i[0].replace(yne,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[sM[i.ContentType]]!==void 0&&t[sM[i.ContentType]].push(i.PartName);break}}),t.xmlns!==Ine.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Hd={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function DA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function kp(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Xi)||[]).forEach(function(i){var a=St(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:hp(a.Target,t);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}var fie="application/vnd.oasis.opendocument.spreadsheet";function die(e,t){for(var r=aC(e),n,i;n=tm.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=St(n[0],!1),i.path=="/"&&i.type!==fie)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Pp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],hie=(function(){for(var e=new Array(Pp.length),t=0;t<Pp.length;++t){var r=Pp[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function O9(e){var t={};e=Hr(e);for(var r=0;r<Pp.length;++r){var n=Pp[r],i=e.match(hie[r]);i!=null&&i.length>0&&(t[n[1]]=cr(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=mi(t[n[1]]))}return t}var pie=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function M9(e,t,r,n){var i=[];if(typeof e=="string")i=J4(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(d){return{v:d}}));var s=typeof t=="string"?J4(t,n).map(function(d){return d.v}):t,o=0,c=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function mie(e,t,r){var n={};return t||(t={}),e=Hr(e),pie.forEach(function(i){var a=(e.match(em(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=cr(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var s=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&M9(n.HeadingPairs,n.TitlesOfParts,t,r),t}var gie=/<[^>]+>[^<]*/g;function vie(e,t){var r={},n="",i=e.match(gie);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=St(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=cr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=cr(d);break;case"bool":r[n]=rn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=mi(d);break;case"cy":case"error":r[n]=cr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var yie={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},uE;function xie(e,t,r){uE||(uE=rC(yie)),t=uE[t]||t,e[t]=r}function hC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function D9(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function F9(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function L9(e,t,r){return t===31?F9(e):D9(e,t,r)}function FA(e,t,r){return L9(e,t,r===!1?0:4)}function _ie(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return L9(e,t,0)}function bie(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ha,""),e.l-i&2&&(e.l+=2)}return r}function wie(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ha,"");return r}function Eie(e){var t=e.l,r=ux(e,P9);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ux(e,Ia);return[r,n]}function Tie(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Eie(e));return r}function oM(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),s=e.read_shift(4);n[a]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(ha,"").replace(dp,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function j9(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Aie(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ux(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==iM&&n!==t&&nie.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===iM?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return D9(e,n,4).replace(ha,"");case 31:return F9(e);case 64:return hC(e);case 65:return j9(e);case 71:return Aie(e);case 80:return FA(e,n,!a.raw).replace(ha,"");case 81:return _ie(e,n).replace(ha,"");case 4108:return Tie(e);case 4126:case 4127:return n==4127?bie(e):wie(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function lM(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0,o=0,c=-1,u={};for(s=0;s!=i;++s){var d=e.read_shift(4),h=e.read_shift(4);a[s]=[d,h+r]}a.sort(function(L,P){return L[1]-P[1]});var g={};for(s=0;s!=i;++s){if(e.l!==a[s][1]){var x=!0;if(s>0&&t)switch(t[a[s-1][0]].t){case 2:e.l+2===a[s][1]&&(e.l+=2,x=!1);break;case 80:e.l<=a[s][1]&&(e.l=a[s][1],x=!1);break;case 4108:e.l<=a[s][1]&&(e.l=a[s][1],x=!1);break}if((!t||s==0)&&e.l<=a[s][1]&&(x=!1,e.l=a[s][1]),x)throw new Error("Read Error: Expected address "+a[s][1]+" at "+e.l+" :"+s)}if(t){var _=t[a[s][0]];if(g[_.n]=ux(e,_.t,{raw:!0}),_.p==="version"&&(g[_.n]=String(g[_.n]>>16)+"."+("0000"+String(g[_.n]&65535)).slice(-4)),_.n=="CodePage")switch(g[_.n]){case 0:g[_.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:no(o=g[_.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[_.n])}}else if(a[s][0]===1){if(o=g.CodePage=ux(e,dC),no(o),c!==-1){var w=e.l;e.l=a[c][1],u=oM(e,o),e.l=w}}else if(a[s][0]===0){if(o===0){c=s,e.l=a[s+1][1];continue}u=oM(e,o)}else{var T=u[a[s][0]],C;switch(e[e.l]){case 65:e.l+=4,C=j9(e);break;case 30:e.l+=4,C=FA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,C=FA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,C=e.read_shift(4,"i");break;case 19:e.l+=4,C=e.read_shift(4);break;case 5:e.l+=4,C=e.read_shift(8,"f");break;case 11:e.l+=4,C=Cn(e,4);break;case 64:e.l+=4,C=mi(hC(e));break;default:throw new Error("unparsed value: "+e[e.l])}g[T]=C}}return e.l=r+n,g}function cM(e,t,r){var n=e.content;if(!n)return{};ki(n,0);var i,a,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==or.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),c=n.read_shift(4));var h=lM(n,t),g={SystemIdentifier:u};for(var x in h)g[x]=h[x];if(g.FMTID=a,i===1)return g;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var _;try{_=lM(n,null)}catch{}for(x in _)g[x]=_[x];return g.FMTID=[a,s],g}function Ic(e,t){return e.read_shift(t),null}function Sie(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Cn(e,t){return e.read_shift(t)===1}function Vn(e){return e.read_shift(2,"u")}function U9(e,t){return Sie(e,t,Vn)}function Cie(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Fm(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function Nie(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,c={};i&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*s),n&&(e.l+=o),c.t=d,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function xf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Lm(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):xf(e,n,r)}function Bf(e,t,r){if(r.biff>5)return Lm(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Iie(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function kie(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ha,"");return n&&(e.l+=24),i}function Pie(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(a>>1,"utf16le").replace(ha,"");return r+s}function Rie(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return kie(e);case"0303000000000000c000000000000046":return Pie(e);default:throw new Error("Unsupported Moniker "+r)}}function Uv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ha,""):"";return r}function Oie(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,s,o,c,u="",d,h;i&16&&(a=Uv(e,r-e.l)),i&128&&(s=Uv(e,r-e.l)),(i&257)===257&&(o=Uv(e,r-e.l)),(i&257)===1&&(c=Rie(e,r-e.l)),i&8&&(u=Uv(e,r-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(h=hC(e)),e.l=r;var g=s||o||c||"";g&&u&&(g+="#"+u),g||(g="#"+u),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var x={Target:g};return d&&(x.guid=d),h&&(x.time=h),a&&(x.Tooltip=a),x}function B9(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function V9(e,t){var r=B9(e);return r[3]=0,r}function el(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Mie(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Die(e,t,r){return t===0?"":Bf(e,t,r)}function Fie(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function z9(e){var t=e.read_shift(2),r=fC(e);return[t,r]}function Lie(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=Fm(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function U1(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function $9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var jie=$9;function H9(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Uie(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Bie(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ji(e){e.l+=2,e.l+=e.read_shift(2)}var Vie={0:ji,4:ji,5:ji,6:ji,7:Bie,8:ji,9:ji,10:ji,11:ji,12:ji,13:Uie,14:ji,15:ji,16:ji,17:ji,18:ji,19:ji,20:ji,21:H9};function zie(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(Vie[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Bv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function $ie(e,t){return t===0||e.read_shift(2),1200}function Hie(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=Bf(e,0,r);return e.read_shift(t+n-e.l),i}function Gie(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function qie(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Fm(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function Kie(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0;s!=i&&e.l<r;++s)a.push(Nie(e));return a.Count=n,a.Unique=i,a}function Wie(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Yie(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Jie(e){var t=Mie(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Xie(e){return e.read_shift(2),e.read_shift(4)}function uM(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function Zie(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function Qie(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function eae(){}function tae(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Fm(e,0,r),n}function rae(e){var t=el(e);return t.isst=e.read_shift(4),t}function nae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=el(e);r.biff==2&&e.l++;var a=Lm(e,n-e.l,r);return i.val=a,i}function iae(e,t,r){var n=e.read_shift(2),i=Bf(e,0,r);return[n,i]}var aae=Bf;function fM(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:s,c}}}function sae(e){var t=e.read_shift(2),r=e.read_shift(2),n=z9(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function oae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(z9(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function lae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function cae(e,t,r,n){var i={},a=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return i.patternType=sie[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function uae(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=cae(e,t,n.fStyle,r),n}function fae(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function dM(e,t,r){var n=el(e);(r.biff==2||t==9)&&++e.l;var i=Cie(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function dae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=el(e),i=Hi(e);return n.val=i,n}var hM=Die;function hae(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=xf(e,a),o=[];n>e.l;)o.push(Lm(e));return[a,i,s,o]}function pM(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=Lie(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var pae=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function mM(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=xf(e,s,r);i&32&&(u=pae[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var h=n==e.l||o===0||!(d>0)?[]:Yle(e,d,r,o);return{chKey:a,Name:u,itab:c,rgce:h}}function G9(e,t,r){if(r.biff<8)return mae(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(Fie(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function mae(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Fm(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function gae(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=xf(e,n,r),s=xf(e,i,r);return[a,s]}function vae(e,t,r){var n=$9(e);e.l++;var i=e.read_shift(1);return t-=8,[Jle(e,t,r),i,n]}function gM(e,t,r){var n=jie(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Kle(e,t,r)]}function yae(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function xae(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=Bf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},o,s,a]}}function _ae(e,t,r){return xae(e,t,r)}function bae(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(U1(e));return r}function wae(e,t,r){if(r&&r.biff<8)return Tae(e,t,r);var n=H9(e),i=zie(e,t-22,n[1]);return{cmo:n,ft:i}}var Eae={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function Tae(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Eae[n]||Ji)(e,t,r)),{cmo:[i,n,a],ft:s}}function Aae(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:s=Iie(e,6,r);var o=e.read_shift(2);e.read_shift(2),Vn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],h=xf(e,e.lens[u+1]-e.lens[u]-1);if(i+=h,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function Sae(e,t){var r=U1(e);e.l+=16;var n=Oie(e,t-24);return[r,n]}function Cae(e,t){e.read_shift(2);var r=U1(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ha,""),[r,n]}function Nae(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=aM[r]||r,r=e.read_shift(2),t[1]=aM[r]||r,t}function Iae(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(V9(e));return r}function kae(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(V9(e));return r}function Pae(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function q9(e,t,r){if(!r.cellStyles)return Ji(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Rae(e,t){var r={};return t<32||(e.l+=16,r.header=Hi(e),r.footer=Hi(e),e.l+=2),r}function Oae(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var Mae=el,Dae=U9,Fae=Lm;function Lae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function jae(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=el(e);++e.l;var i=Bf(e,t-7,r);return n.t="str",n.val=i,n}function Uae(e){var t=el(e);++e.l;var r=Hi(e);return t.t="n",t.val=r,t}function Bae(e){var t=el(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Vae(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function zae(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function $ae(e,t,r){var n=e.l+t,i=el(e),a=e.read_shift(2),s=xf(e,a,r);return e.l=n,i.t="str",i.val=s,i}var Hae=[2,3,48,49,131,139,140,245],vM=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=rC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Qc(1);switch(c.type){case"base64":d=Zs(fs(o));break;case"binary":d=Zs(o);break;case"buffer":case"array":d=o;break}ki(d,0);var h=d.read_shift(1),g=!!(h&136),x=!1,_=!1;switch(h){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var w=0,T=521;h==2&&(w=d.read_shift(2)),d.l+=3,h!=2&&(w=d.read_shift(4)),w>1048576&&(w=1e6),h!=2&&(T=d.read_shift(2));var C=d.read_shift(2),L=c.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(L=e[d[d.l]]),d.l+=1,d.l+=2),_&&(d.l+=36);for(var P=[],D={},F=Math.min(d.length,h==2?521:T-10-(x?264:0)),R=_?32:11;d.l<F&&d[d.l]!=13;)switch(D={},D.name=Zp.utils.decode(L,d.slice(d.l,d.l+R)).replace(/[\u0000\r\n].*$/g,""),d.l+=R,D.type=String.fromCharCode(d.read_shift(1)),h!=2&&!_&&(D.offset=d.read_shift(4)),D.len=d.read_shift(1),h==2&&(D.offset=d.read_shift(2)),D.dec=d.read_shift(1),D.name.length&&P.push(D),h!=2&&(d.l+=_?13:14),D.type){case"B":(!x||D.len!=8)&&c.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+D.name+":"+D.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+D.type)}if(d[d.l]!==13&&(d.l=T-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=T;var I=0,k=0;for(u[0]=[],k=0;k!=P.length;++k)u[0][k]=P[k].name;for(;w-- >0;){if(d[d.l]===42){d.l+=C;continue}for(++d.l,u[++I]=[],k=0,k=0;k!=P.length;++k){var O=d.slice(d.l,d.l+P[k].len);d.l+=P[k].len,ki(O,0);var B=Zp.utils.decode(L,O);switch(P[k].type){case"C":B.trim().length&&(u[I][k]=B.replace(/\s+$/,""));break;case"D":B.length===8?u[I][k]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):u[I][k]=B;break;case"F":u[I][k]=parseFloat(B.trim());break;case"+":case"I":u[I][k]=_?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":u[I][k]=!0;break;case"N":case"F":u[I][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[I][k]="##MEMO##"+(_?parseInt(B.trim(),10):O.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(u[I][k]=+B||0);break;case"@":u[I][k]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[I][k]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[I][k]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[I][k]=-O.read_shift(-8,"f");break;case"B":if(x&&P[k].len==8){u[I][k]=O.read_shift(8,"f");break}case"G":case"P":O.l+=P[k].len;break;case"0":if(P[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+P[k].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=P,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Dh(r(o,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function i(o,c){try{return hu(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&no(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=OA(),h=zA(o,{header:1,raw:!0,cellDates:!0}),g=h[0],x=h.slice(1),_=o["!cols"]||[],w=0,T=0,C=0,L=1;for(w=0;w<g.length;++w){if(((_[w]||{}).DBF||{}).name){g[w]=_[w].DBF.name,++C;continue}if(g[w]!=null){if(++C,typeof g[w]=="number"&&(g[w]=g[w].toString(10)),typeof g[w]!="string")throw new Error("DBF Invalid column name "+g[w]+" |"+typeof g[w]+"|");if(g.indexOf(g[w])!==w){for(T=0;T<1024;++T)if(g.indexOf(g[w]+"_"+T)==-1){g[w]+="_"+T;break}}}}var P=xn(o["!ref"]),D=[],F=[],R=[];for(w=0;w<=P.e.c-P.s.c;++w){var I="",k="",O=0,B=[];for(T=0;T<x.length;++T)x[T][w]!=null&&B.push(x[T][w]);if(B.length==0||g[w]==null){D[w]="?";continue}for(T=0;T<B.length;++T){switch(typeof B[T]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=B[T]instanceof Date?"D":"C";break;default:k="C"}O=Math.max(O,String(B[T]).length),I=I&&I!=k?"C":k}O>250&&(O=250),k=((_[w]||{}).DBF||{}).type,k=="C"&&_[w].DBF.len>O&&(O=_[w].DBF.len),I=="B"&&k=="N"&&(I="N",R[w]=_[w].DBF.dec,O=_[w].DBF.len),F[w]=I=="C"||k=="N"?O:a[I]||0,L+=F[w],D[w]=I}var V=d.next(32);for(V.write_shift(4,318902576),V.write_shift(4,x.length),V.write_shift(2,296+32*C),V.write_shift(2,L),w=0;w<4;++w)V.write_shift(4,0);for(V.write_shift(4,0|(+t[GU]||3)<<8),w=0,T=0;w<g.length;++w)if(g[w]!=null){var j=d.next(32),G=(g[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,G,"sbcs"),j.write_shift(1,D[w]=="?"?"C":D[w],"sbcs"),j.write_shift(4,T),j.write_shift(1,F[w]||a[D[w]]||0),j.write_shift(1,R[w]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),T+=F[w]||a[D[w]]||0}var de=d.next(264);for(de.write_shift(4,13),w=0;w<65;++w)de.write_shift(4,0);for(w=0;w<x.length;++w){var ge=d.next(L);for(ge.write_shift(1,0),T=0;T<g.length;++T)if(g[T]!=null)switch(D[T]){case"L":ge.write_shift(1,x[w][T]==null?63:x[w][T]?84:70);break;case"B":ge.write_shift(8,x[w][T]||0,"f");break;case"N":var ie="0";for(typeof x[w][T]=="number"&&(ie=x[w][T].toFixed(R[T]||0)),C=0;C<F[T]-ie.length;++C)ge.write_shift(1,32);ge.write_shift(1,ie,"sbcs");break;case"D":x[w][T]?(ge.write_shift(4,("0000"+x[w][T].getFullYear()).slice(-4),"sbcs"),ge.write_shift(2,("00"+(x[w][T].getMonth()+1)).slice(-2),"sbcs"),ge.write_shift(2,("00"+x[w][T].getDate()).slice(-2),"sbcs")):ge.write_shift(8,"00000000","sbcs");break;case"C":var fe=String(x[w][T]!=null?x[w][T]:"").slice(0,F[T]);for(ge.write_shift(1,fe,"sbcs"),C=0;C<F[T]-fe.length;++C)ge.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),Gae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Wo(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var _=e[x];return typeof _=="number"?O4(_):_},n=function(g,x,_){var w=x.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return w==59?g:O4(w)};e["|"]=254;function i(g,x){switch(x.type){case"base64":return a(fs(g),x);case"binary":return a(g,x);case"buffer":return a(tr&&Buffer.isBuffer(g)?g.toString("binary"):Ff(g),x);case"array":return a(yf(g),x)}throw new Error("Unrecognized type "+x.type)}function a(g,x){var _=g.split(/[\n\r]+/),w=-1,T=-1,C=0,L=0,P=[],D=[],F=null,R={},I=[],k=[],O=[],B=0,V;for(+x.codepage>=0&&no(+x.codepage);C!==_.length;++C){B=0;var j=_[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),G=j.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),de=G[0],ge;if(j.length>0)switch(de){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":G[1].charAt(0)=="P"&&D.push(j.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,fe=!1,ue=!1,ae=!1,_e=-1,X=-1;for(L=1;L<G.length;++L)switch(G[L].charAt(0)){case"A":break;case"X":T=parseInt(G[L].slice(1))-1,fe=!0;break;case"Y":for(w=parseInt(G[L].slice(1))-1,fe||(T=0),V=P.length;V<=w;++V)P[V]=[];break;case"K":ge=G[L].slice(1),ge.charAt(0)==='"'?ge=ge.slice(1,ge.length-1):ge==="TRUE"?ge=!0:ge==="FALSE"?ge=!1:isNaN(so(ge))?isNaN(hh(ge).getDate())||(ge=mi(ge)):(ge=so(ge),F!==null&&Oh(F)&&(ge=j1(ge))),ie=!0;break;case"E":ae=!0;var z=eh(G[L].slice(1),{r:w,c:T});P[w][T]=[P[w][T],z];break;case"S":ue=!0,P[w][T]=[P[w][T],"S5S"];break;case"G":break;case"R":_e=parseInt(G[L].slice(1))-1;break;case"C":X=parseInt(G[L].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+j)}if(ie&&(P[w][T]&&P[w][T].length==2?P[w][T][0]=ge:P[w][T]=ge,F=null),ue){if(ae)throw new Error("SYLK shared formula cannot have own formula");var te=_e>-1&&P[_e][X];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");P[w][T][1]=rB(te[1],{r:w-_e,c:T-X})}break;case"F":var Z=0;for(L=1;L<G.length;++L)switch(G[L].charAt(0)){case"X":T=parseInt(G[L].slice(1))-1,++Z;break;case"Y":for(w=parseInt(G[L].slice(1))-1,V=P.length;V<=w;++V)P[V]=[];break;case"M":B=parseInt(G[L].slice(1))/20;break;case"F":break;case"G":break;case"P":F=D[parseInt(G[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=G[L].slice(1).split(" "),V=parseInt(O[0],10);V<=parseInt(O[1],10);++V)B=parseInt(O[2],10),k[V-1]=B===0?{hidden:!0}:{wch:B},ph(k[V-1]);break;case"C":T=parseInt(G[L].slice(1))-1,k[T]||(k[T]={});break;case"R":w=parseInt(G[L].slice(1))-1,I[w]||(I[w]={}),B>0?(I[w].hpt=B,I[w].hpx=im(B)):B===0&&(I[w].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+j)}Z<1&&(F=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+j)}}return I.length>0&&(R["!rows"]=I),k.length>0&&(R["!cols"]=k),x&&x.sheetRows&&(P=P.slice(0,x.sheetRows)),[P,R]}function s(g,x){var _=i(g,x),w=_[0],T=_[1],C=Dh(w,x);return Wo(T).forEach(function(L){C[L]=T[L]}),C}function o(g,x){return hu(s(g,x),x)}function c(g,x,_,w){var T="C;Y"+(_+1)+";X"+(w+1)+";K";switch(g.t){case"n":T+=g.v||0,g.f&&!g.F&&(T+=";E"+Poe(g.f,{r:_,c:w}));break;case"b":T+=g.v?"TRUE":"FALSE";break;case"e":T+=g.w||g.v;break;case"d":T+='"'+(g.w||g.v)+'"';break;case"s":T+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function u(g,x){x.forEach(function(_,w){var T="F;W"+(w+1)+" "+(w+1)+" ";_.hidden?T+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=dx(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=hx(_.wpx)),typeof _.wch=="number"&&(T+=Math.round(_.wch))),T.charAt(T.length-1)!=" "&&g.push(T)})}function d(g,x){x.forEach(function(_,w){var T="F;";_.hidden?T+="M0;":_.hpt?T+="M"+20*_.hpt+";":_.hpx&&(T+="M"+20*Q9(_.hpx)+";"),T.length>2&&g.push(T+"R"+(w+1))})}function h(g,x){var _=["ID;PWXL;N;E"],w=[],T=xn(g["!ref"]),C,L=Array.isArray(g),P=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),g["!cols"]&&u(_,g["!cols"]),g["!rows"]&&d(_,g["!rows"]),_.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var D=T.s.r;D<=T.e.r;++D)for(var F=T.s.c;F<=T.e.c;++F){var R=Rt({r:D,c:F});C=L?(g[D]||[])[F]:g[R],!(!C||C.v==null&&(!C.f||C.F))&&w.push(c(C,g,D,F))}return _.join(P)+P+w.join(P)+P+"E"+P}return{to_workbook:o,to_sheet:s,from_sheet:h}})(),qae=(function(){function e(a,s){switch(s.type){case"base64":return t(fs(a),s);case"binary":return t(a,s);case"buffer":return t(tr&&Buffer.isBuffer(a)?a.toString("binary"):Ff(a),s);case"array":return t(yf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),c=-1,u=-1,d=0,h=[];d!==o.length;++d){if(o[d].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var g=o[d].trim().split(","),x=g[0],_=g[1];++d;for(var w=o[d]||"";(w.match(/["]/g)||[]).length&1&&d<o.length-1;)w+=`
`+o[++d];switch(w=w.trim(),+x){case-1:if(w==="BOT"){h[++c]=[],u=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?h[c][u]=!0:w==="FALSE"?h[c][u]=!1:isNaN(so(_))?isNaN(hh(_).getDate())?h[c][u]=_:h[c][u]=mi(_):h[c][u]=so(_),++u;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),h[c][u++]=w!==""?w:null;break}if(w==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function r(a,s){return Dh(e(a,s),s)}function n(a,s){return hu(r(a,s),s)}var i=(function(){var a=function(c,u,d,h,g){c.push(u),c.push(d+","+h),c.push('"'+g.replace(/"/g,'""')+'"')},s=function(c,u,d,h){c.push(u+","+d),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],d=xn(c["!ref"]),h,g=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){s(u,-1,0,"BOT");for(var _=d.s.c;_<=d.e.c;++_){var w=Rt({r:x,c:_});if(h=g?(c[x]||[])[_]:c[w],!h){s(u,1,0,"");continue}switch(h.t){case"n":var T=h.w;!T&&h.v!=null&&(T=h.v),T==null?h.f&&!h.F?s(u,1,0,"="+h.f):s(u,1,0,""):s(u,0,T,"V");break;case"b":s(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Ds(h.z||Ut[14],pa(mi(h.v)))),s(u,0,h.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var C=`\r
`,L=u.join(C);return L}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),Kae=(function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,g){for(var x=h.split(`
`),_=-1,w=-1,T=0,C=[];T!==x.length;++T){var L=x[T].trim().split(":");if(L[0]==="cell"){var P=fa(L[1]);if(C.length<=P.r)for(_=C.length;_<=P.r;++_)C[_]||(C[_]=[]);switch(_=P.r,w=P.c,L[2]){case"t":C[_][w]=e(L[3]);break;case"v":C[_][w]=+L[3];break;case"vtf":var D=L[L.length-1];case"vtc":L[3]==="nl"?C[_][w]=!!+L[4]:C[_][w]=+L[4],L[2]=="vtf"&&(C[_][w]=[C[_][w],D])}}}return g&&g.sheetRows&&(C=C.slice(0,g.sheetRows)),C}function n(h,g){return Dh(r(h,g),g)}function i(h,g){return hu(n(h,g),g)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var g=[],x=[],_,w="",T=Mh(h["!ref"]),C=Array.isArray(h),L=T.s.r;L<=T.e.r;++L)for(var P=T.s.c;P<=T.e.c;++P)if(w=Rt({r:L,c:P}),_=C?(h[L]||[])[P]:h[w],!(!_||_.v==null||_.t==="z")){switch(x=["cell",w,"t"],_.t){case"s":case"str":x.push(t(_.v));break;case"n":_.f?(x[2]="vtf",x[3]="n",x[4]=_.v,x[5]=t(_.f)):(x[2]="v",x[3]=_.v);break;case"b":x[2]="vt"+(_.f?"f":"c"),x[3]="nl",x[4]=_.v?"1":"0",x[5]=t(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var D=pa(mi(_.v));x[2]="vtc",x[3]="nd",x[4]=""+D,x[5]=_.w||Ds(_.z||Ut[14],D);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(h){return[a,s,o,s,u(h),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),rm=(function(){function e(d,h,g,x,_){_.raw?h[g][x]=d:d===""||(d==="TRUE"?h[g][x]=!0:d==="FALSE"?h[g][x]=!1:isNaN(so(d))?isNaN(hh(d).getDate())?h[g][x]=d:h[g][x]=mi(d):h[g][x]=so(d))}function t(d,h){var g=h||{},x=[];if(!d||d.length===0)return x;for(var _=d.split(/[\r\n]/),w=_.length-1;w>=0&&_[w].length===0;)--w;for(var T=10,C=0,L=0;L<=w;++L)C=_[L].indexOf(" "),C==-1?C=_[L].length:C++,T=Math.max(T,C);for(L=0;L<=w;++L){x[L]=[];var P=0;for(e(_[L].slice(0,T).trim(),x,L,P,g),P=1;P<=(_[L].length-T)/10+1;++P)e(_[L].slice(T+(P-1)*10,T+P*10).trim(),x,L,P,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var h={},g=!1,x=0,_=0;x<d.length;++x)(_=d.charCodeAt(x))==34?g=!g:!g&&_ in r&&(h[_]=(h[_]||0)+1);_=[];for(x in h)Object.prototype.hasOwnProperty.call(h,x)&&_.push([h[x],x]);if(!_.length){h=n;for(x in h)Object.prototype.hasOwnProperty.call(h,x)&&_.push([h[x],x])}return _.sort(function(w,T){return w[0]-T[0]||n[w[1]]-n[T[1]]}),r[_.pop()[1]]||44}function a(d,h){var g=h||{},x="",_=g.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=i(d.slice(0,1024)):g&&g.FS?x=g.FS:x=i(d.slice(0,1024));var T=0,C=0,L=0,P=0,D=0,F=x.charCodeAt(0),R=!1,I=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?ine(g.dateNF):null;function B(){var V=d.slice(P,D),j={};if(V.charAt(0)=='"'&&V.charAt(V.length-1)=='"'&&(V=V.slice(1,-1).replace(/""/g,'"')),V.length===0)j.t="z";else if(g.raw)j.t="s",j.v=V;else if(V.trim().length===0)j.t="s",j.v=V;else if(V.charCodeAt(0)==61)V.charCodeAt(1)==34&&V.charCodeAt(V.length-1)==34?(j.t="s",j.v=V.slice(2,-1).replace(/""/g,'"')):Ooe(V)?(j.t="n",j.f=V.slice(1)):(j.t="s",j.v=V);else if(V=="TRUE")j.t="b",j.v=!0;else if(V=="FALSE")j.t="b",j.v=!1;else if(!isNaN(L=so(V)))j.t="n",g.cellText!==!1&&(j.w=V),j.v=L;else if(!isNaN(hh(V).getDate())||O&&V.match(O)){j.z=g.dateNF||Ut[14];var G=0;O&&V.match(O)&&(V=ane(V,g.dateNF,V.match(O)||[]),G=1),g.cellDates?(j.t="d",j.v=mi(V,G)):(j.t="n",j.v=pa(mi(V,G))),g.cellText!==!1&&(j.w=Ds(j.z,j.v instanceof Date?pa(j.v):j.v)),g.cellNF||delete j.z}else j.t="s",j.v=V;if(j.t=="z"||(g.dense?(_[T]||(_[T]=[]),_[T][C]=j):_[Rt({c:C,r:T})]=j),P=D+1,k=d.charCodeAt(P),w.e.c<C&&(w.e.c=C),w.e.r<T&&(w.e.r=T),I==F)++C;else if(C=0,++T,g.sheetRows&&g.sheetRows<=T)return!0}e:for(;D<d.length;++D)switch(I=d.charCodeAt(D)){case 34:k===34&&(R=!R);break;case F:case 10:case 13:if(!R&&B())break e;break}return D-P>0&&B(),_["!ref"]=lr(w),_}function s(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,h):Dh(t(d,h),h)}function o(d,h){var g="",x=h.type=="string"?[0,0,0,0]:bC(d,h);switch(h.type){case"base64":g=fs(d);break;case"binary":g=d;break;case"buffer":h.codepage==65001?g=d.toString("utf8"):h.codepage&&typeof Zp<"u"||(g=tr&&Buffer.isBuffer(d)?d.toString("binary"):Ff(d));break;case"array":g=yf(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+h.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Hr(g.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?g=Hr(g):h.type=="binary"&&typeof Zp<"u",g.slice(0,19)=="socialcalc:version:"?Kae.to_sheet(h.type=="string"?g:Hr(g),h):s(g,h)}function c(d,h){return hu(o(d,h),h)}function u(d){for(var h=[],g=xn(d["!ref"]),x,_=Array.isArray(d),w=g.s.r;w<=g.e.r;++w){for(var T=[],C=g.s.c;C<=g.e.c;++C){var L=Rt({r:w,c:C});if(x=_?(d[w]||[])[C]:d[L],!x||x.v==null){T.push("          ");continue}for(var P=(x.w||(Dl(x),x.w)||"").slice(0,10);P.length<10;)P+=" ";T.push(P+(C===0?" ":""))}h.push(T.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})();function Wae(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=Gae.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return rm.to_workbook(e,t)}}var Rp=(function(){function e(z,te,Z){if(z){ki(z,z.l||0);for(var K=Z.Enum||_e;z.l<z.length;){var pe=z.read_shift(2),xe=K[pe]||K[65535],ke=z.read_shift(2),le=z.l+ke,ve=xe.f&&xe.f(z,ke,Z);if(z.l=le,te(ve,xe,pe))return}}}function t(z,te){switch(te.type){case"base64":return r(Zs(fs(z)),te);case"binary":return r(Zs(z),te);case"buffer":case"array":return r(z,te)}throw"Unsupported type "+te.type}function r(z,te){if(!z)return z;var Z=te||{},K=Z.dense?[]:{},pe="Sheet1",xe="",ke=0,le={},ve=[],Fe=[],W={s:{r:0,c:0},e:{r:0,c:0}},Je=Z.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)Z.Enum=_e,e(z,function(Le,Xe,tt){switch(tt){case 0:Z.vers=Le,Le>=4096&&(Z.qpro=!0);break;case 6:W=Le;break;case 204:Le&&(xe=Le);break;case 222:xe=Le;break;case 15:case 51:Z.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:tt==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=Z.dateNF||Ut[14],Z.cellDates&&(Le[1].t="d",Le[1].v=j1(Le[1].v))),Z.qpro&&Le[3]>ke&&(K["!ref"]=lr(W),le[pe]=K,ve.push(pe),K=Z.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ke=Le[3],pe=xe||"Sheet"+(ke+1),xe="");var pt=Z.dense?(K[Le[0].r]||[])[Le[0].c]:K[Rt(Le[0])];if(pt){pt.t=Le[1].t,pt.v=Le[1].v,Le[1].z!=null&&(pt.z=Le[1].z),Le[1].f!=null&&(pt.f=Le[1].f);break}Z.dense?(K[Le[0].r]||(K[Le[0].r]=[]),K[Le[0].r][Le[0].c]=Le[1]):K[Rt(Le[0])]=Le[1];break}},Z);else if(z[2]==26||z[2]==14)Z.Enum=X,z[2]==14&&(Z.qpro=!0,z.l=0),e(z,function(Le,Xe,tt){switch(tt){case 204:pe=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>ke&&(K["!ref"]=lr(W),le[pe]=K,ve.push(pe),K=Z.dense?[]:{},W={s:{r:0,c:0},e:{r:0,c:0}},ke=Le[3],pe="Sheet"+(ke+1)),Je>0&&Le[0].r>=Je)break;Z.dense?(K[Le[0].r]||(K[Le[0].r]=[]),K[Le[0].r][Le[0].c]=Le[1]):K[Rt(Le[0])]=Le[1],W.e.c<Le[0].c&&(W.e.c=Le[0].c),W.e.r<Le[0].r&&(W.e.r=Le[0].r);break;case 27:Le[14e3]&&(Fe[Le[14e3][0]]=Le[14e3][1]);break;case 1537:Fe[Le[0]]=Le[1],Le[0]==ke&&(pe=Le[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(K["!ref"]=lr(W),le[xe||pe]=K,ve.push(xe||pe),!Fe.length)return{SheetNames:ve,Sheets:le};for(var Be={},We=[],$e=0;$e<Fe.length;++$e)le[ve[$e]]?(We.push(Fe[$e]||ve[$e]),Be[Fe[$e]]=le[Fe[$e]]||le[ve[$e]]):(We.push(Fe[$e]),Be[Fe[$e]]={"!ref":"A1"});return{SheetNames:We,Sheets:Be}}function n(z,te){var Z=te||{};if(+Z.codepage>=0&&no(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var K=OA(),pe=xn(z["!ref"]),xe=Array.isArray(z),ke=[];Xs(K,0,a(1030)),Xs(K,6,c(pe));for(var le=Math.min(pe.e.r,8191),ve=pe.s.r;ve<=le;++ve)for(var Fe=Oi(ve),W=pe.s.c;W<=pe.e.c;++W){ve===pe.s.r&&(ke[W]=Xn(W));var Je=ke[W]+Fe,Be=xe?(z[ve]||[])[W]:z[Je];if(!(!Be||Be.t=="z"))if(Be.t=="n")(Be.v|0)==Be.v&&Be.v>=-32768&&Be.v<=32767?Xs(K,13,x(ve,W,Be.v)):Xs(K,14,w(ve,W,Be.v));else{var We=Dl(Be);Xs(K,15,h(ve,W,We.slice(0,239)))}}return Xs(K,1),K.end()}function i(z,te){var Z=te||{};if(+Z.codepage>=0&&no(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var K=OA();Xs(K,0,s(z));for(var pe=0,xe=0;pe<z.SheetNames.length;++pe)(z.Sheets[z.SheetNames[pe]]||{})["!ref"]&&Xs(K,27,ae(z.SheetNames[pe],xe++));var ke=0;for(pe=0;pe<z.SheetNames.length;++pe){var le=z.Sheets[z.SheetNames[pe]];if(!(!le||!le["!ref"])){for(var ve=xn(le["!ref"]),Fe=Array.isArray(le),W=[],Je=Math.min(ve.e.r,8191),Be=ve.s.r;Be<=Je;++Be)for(var We=Oi(Be),$e=ve.s.c;$e<=ve.e.c;++$e){Be===ve.s.r&&(W[$e]=Xn($e));var Le=W[$e]+We,Xe=Fe?(le[Be]||[])[$e]:le[Le];if(!(!Xe||Xe.t=="z"))if(Xe.t=="n")Xs(K,23,B(Be,$e,ke,Xe.v));else{var tt=Dl(Xe);Xs(K,22,I(Be,$e,ke,tt.slice(0,239)))}}++ke}}return Xs(K,1),K.end()}function a(z){var te=Yn(2);return te.write_shift(2,z),te}function s(z){var te=Yn(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var Z=0,K=0,pe=0,xe=0;xe<z.SheetNames.length;++xe){var ke=z.SheetNames[xe],le=z.Sheets[ke];if(!(!le||!le["!ref"])){++pe;var ve=Mh(le["!ref"]);Z<ve.e.r&&(Z=ve.e.r),K<ve.e.c&&(K=ve.e.c)}}return Z>8191&&(Z=8191),te.write_shift(2,Z),te.write_shift(1,pe),te.write_shift(1,K),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function o(z,te,Z){var K={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&Z.qpro?(K.s.c=z.read_shift(1),z.l++,K.s.r=z.read_shift(2),K.e.c=z.read_shift(1),z.l++,K.e.r=z.read_shift(2),K):(K.s.c=z.read_shift(2),K.s.r=z.read_shift(2),te==12&&Z.qpro&&(z.l+=2),K.e.c=z.read_shift(2),K.e.r=z.read_shift(2),te==12&&Z.qpro&&(z.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(z){var te=Yn(8);return te.write_shift(2,z.s.c),te.write_shift(2,z.s.r),te.write_shift(2,z.e.c),te.write_shift(2,z.e.r),te}function u(z,te,Z){var K=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(K[0].c=z.read_shift(1),K[3]=z.read_shift(1),K[0].r=z.read_shift(2),z.l+=2):(K[2]=z.read_shift(1),K[0].c=z.read_shift(2),K[0].r=z.read_shift(2)),K}function d(z,te,Z){var K=z.l+te,pe=u(z,te,Z);if(pe[1].t="s",Z.vers==20768){z.l++;var xe=z.read_shift(1);return pe[1].v=z.read_shift(xe,"utf8"),pe}return Z.qpro&&z.l++,pe[1].v=z.read_shift(K-z.l,"cstr"),pe}function h(z,te,Z){var K=Yn(7+Z.length);K.write_shift(1,255),K.write_shift(2,te),K.write_shift(2,z),K.write_shift(1,39);for(var pe=0;pe<K.length;++pe){var xe=Z.charCodeAt(pe);K.write_shift(1,xe>=128?95:xe)}return K.write_shift(1,0),K}function g(z,te,Z){var K=u(z,te,Z);return K[1].v=z.read_shift(2,"i"),K}function x(z,te,Z){var K=Yn(7);return K.write_shift(1,255),K.write_shift(2,te),K.write_shift(2,z),K.write_shift(2,Z,"i"),K}function _(z,te,Z){var K=u(z,te,Z);return K[1].v=z.read_shift(8,"f"),K}function w(z,te,Z){var K=Yn(13);return K.write_shift(1,255),K.write_shift(2,te),K.write_shift(2,z),K.write_shift(8,Z,"f"),K}function T(z,te,Z){var K=z.l+te,pe=u(z,te,Z);if(pe[1].v=z.read_shift(8,"f"),Z.qpro)z.l=K;else{var xe=z.read_shift(2);D(z.slice(z.l,z.l+xe),pe),z.l+=xe}return pe}function C(z,te,Z){var K=te&32768;return te&=-32769,te=(K?z:0)+(te>=8192?te-16384:te),(K?"":"$")+(Z?Xn(te):Oi(te))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},P=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function D(z,te){ki(z,0);for(var Z=[],K=0,pe="",xe="",ke="",le="";z.l<z.length;){var ve=z[z.l++];switch(ve){case 0:Z.push(z.read_shift(8,"f"));break;case 1:xe=C(te[0].c,z.read_shift(2),!0),pe=C(te[0].r,z.read_shift(2),!1),Z.push(xe+pe);break;case 2:{var Fe=C(te[0].c,z.read_shift(2),!0),W=C(te[0].r,z.read_shift(2),!1);xe=C(te[0].c,z.read_shift(2),!0),pe=C(te[0].r,z.read_shift(2),!1),Z.push(Fe+W+":"+xe+pe)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(z.read_shift(2));break;case 6:{for(var Je="";ve=z[z.l++];)Je+=String.fromCharCode(ve);Z.push('"'+Je.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:le=Z.pop(),ke=Z.pop(),Z.push(["AND","OR"][ve-20]+"("+ke+","+le+")");break;default:if(ve<32&&P[ve])le=Z.pop(),ke=Z.pop(),Z.push(ke+P[ve]+le);else if(L[ve]){if(K=L[ve][1],K==69&&(K=z[z.l++]),K>Z.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+Z.join("|")+"|");return}var Be=Z.slice(-K);Z.length-=K,Z.push(L[ve][0]+"("+Be.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}Z.length==1?te[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function F(z){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=z.read_shift(2),te[3]=z[z.l++],te[0].c=z[z.l++],te}function R(z,te){var Z=F(z);return Z[1].t="s",Z[1].v=z.read_shift(te-4,"cstr"),Z}function I(z,te,Z,K){var pe=Yn(6+K.length);pe.write_shift(2,z),pe.write_shift(1,Z),pe.write_shift(1,te),pe.write_shift(1,39);for(var xe=0;xe<K.length;++xe){var ke=K.charCodeAt(xe);pe.write_shift(1,ke>=128?95:ke)}return pe.write_shift(1,0),pe}function k(z,te){var Z=F(z);Z[1].v=z.read_shift(2);var K=Z[1].v>>1;if(Z[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return Z[1].v=K,Z}function O(z,te){var Z=F(z),K=z.read_shift(4),pe=z.read_shift(4),xe=z.read_shift(2);if(xe==65535)return K===0&&pe===3221225472?(Z[1].t="e",Z[1].v=15):K===0&&pe===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var ke=xe&32768;return xe=(xe&32767)-16446,Z[1].v=(1-ke*2)*(pe*Math.pow(2,xe+32)+K*Math.pow(2,xe)),Z}function B(z,te,Z,K){var pe=Yn(14);if(pe.write_shift(2,z),pe.write_shift(1,Z),pe.write_shift(1,te),K==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var xe=0,ke=0,le=0,ve=0;return K<0&&(xe=1,K=-K),ke=Math.log2(K)|0,K/=Math.pow(2,ke-31),ve=K>>>0,(ve&2147483648)==0&&(K/=2,++ke,ve=K>>>0),K-=ve,ve|=2147483648,ve>>>=0,K*=Math.pow(2,32),le=K>>>0,pe.write_shift(4,le),pe.write_shift(4,ve),ke+=16383+(xe?32768:0),pe.write_shift(2,ke),pe}function V(z,te){var Z=O(z);return z.l+=te-14,Z}function j(z,te){var Z=F(z),K=z.read_shift(4);return Z[1].v=K>>6,Z}function G(z,te){var Z=F(z),K=z.read_shift(8,"f");return Z[1].v=K,Z}function de(z,te){var Z=G(z);return z.l+=te-10,Z}function ge(z,te){return z[z.l+te-1]==0?z.read_shift(te,"cstr"):""}function ie(z,te){var Z=z[z.l++];Z>te-1&&(Z=te-1);for(var K="";K.length<Z;)K+=String.fromCharCode(z[z.l++]);return K}function fe(z,te,Z){if(!(!Z.qpro||te<21)){var K=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var pe=z.read_shift(te-21,"cstr");return[K,pe]}}function ue(z,te){for(var Z={},K=z.l+te;z.l<K;){var pe=z.read_shift(2);if(pe==14e3){for(Z[pe]=[0,""],Z[pe][0]=z.read_shift(2);z[z.l];)Z[pe][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return Z}function ae(z,te){var Z=Yn(5+z.length);Z.write_shift(2,14e3),Z.write_shift(2,te);for(var K=0;K<z.length;++K){var pe=z.charCodeAt(K);Z[Z.l++]=pe>127?95:pe}return Z[Z.l++]=0,Z}var _e={0:{n:"BOF",f:Vn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ge},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:R},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:V},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ue},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:G},40:{n:"FORMULA28",f:de},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ge},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:fe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}})();function Yae(e){var t={},r=e.match(Xi),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=St(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=X2[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var Jae=(function(){var e=em("t"),t=em("rPr");function r(a){var s=a.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:cr(s[1])},c=a.match(t);return c&&(o.s=Yae(c[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),Xae=(function(){var t=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),Zae=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Qae=/<(?:\w+:)?r>/,ese=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function pC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=cr(Hr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Hr(e),r&&(n.h=iC(n.t))):e.match(Qae)&&(n.r=Hr(e),n.t=cr(Hr((e.replace(ese,"").match(Zae)||[]).join("").replace(Xi,""))),r&&(n.h=Xae(Jae(n.r)))),n):{t:""}}var tse=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,rse=/<(?:\w+:)?(?:si|sstItem)>/g,nse=/<\/(?:\w+:)?(?:si|sstItem)>/;function ise(e,t){var r=[],n="";if(!e)return r;var i=e.match(tse);if(i){n=i[2].replace(rse,"").split(nse);for(var a=0;a!=n.length;++a){var s=pC(n[a].trim(),t);s!=null&&(r[r.length]=s)}i=St(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function ase(e){return[e.read_shift(4),e.read_shift(4)]}function sse(e,t){var r=[],n=!1;return Kl(e,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function K9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Pl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function ose(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Pl(e,4),t.U=Pl(e,4),t.W=Pl(e,4),t}function lse(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function cse(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(lse(e));return t}function use(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function fse(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Pl(e,4),t.U=Pl(e,4),t.W=Pl(e,4),t}function dse(e){var t=fse(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function W9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Y9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function hse(e){var t=Pl(e);switch(t.Minor){case 2:return[t.Minor,pse(e)];case 3:return[t.Minor,mse()];case 4:return[t.Minor,gse(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function pse(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=W9(e,r),i=Y9(e,e.length-e.l);return{t:"Std",h:n,v:i}}function mse(){throw new Error("File is password-protected: ECMA-376 Extensible")}function gse(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Xi,function(a){var s=St(a);switch(Qo(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function vse(e,t){var r={},n=r.EncryptionVersionInfo=Pl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=W9(e,i),t-=i,r.EncryptionVerifier=Y9(e,t),r}function yse(e){var t={},r=t.EncryptionVersionInfo=Pl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function xse(e){var t=0,r,n=K9(e),i=n.length+1,a,s,o,c,u;for(r=Qc(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=(t&16384)===0?0:1,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var J9=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],h=0;h!=7;++h)d&64&&(o^=r[c]),d*=2,--c;return o};return function(s){for(var o=K9(s),c=a(o),u=o.length,d=Qc(16),h=0;h!=16;++h)d[h]=0;var g,x,_;for((u&1)===1&&(g=c>>8,d[u]=i(e[0],g),--u,g=c&255,x=o[o.length-1],d[u]=i(x,g));u>0;)--u,g=c>>8,d[u]=i(o[u],g),--u,g=c&255,d[u]=i(o[u],g);for(u=15,_=15-o.length;_>0;)g=c>>8,d[u]=i(e[_],g),--u,--_,g=c&255,d[u]=i(o[u],g),--u,--_;return d}})(),_se=function(e,t,r,n,i){i||(i=t),n||(n=J9(e));var a,s;for(a=0;a!=t.length;++a)s=t[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},bse=function(e){var t=0,r=J9(e);return function(n){var i=_se("",n,t,r);return t=i[1],i[0]}};function wse(e,t,r,n){var i={key:Vn(e),verificationBytes:Vn(e)};return r.password&&(i.verifier=xse(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=bse(r.password)),i}function Ese(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=yse(e):n.Data=vse(e,t),n}function Tse(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Ese(e,t-2,n):wse(e,r.biff>=8?t:t-2,r,n),n}var Ase=(function(){function e(i,a){switch(a.type){case"base64":return t(fs(i),a);case"binary":return t(i,a);case"buffer":return t(tr&&Buffer.isBuffer(i)?i.toString("binary"):Ff(i),a);case"array":return t(yf(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,h){Array.isArray(o)&&(o[h]=[]);for(var g=/\\\w+\b/g,x=0,_,w=-1;_=g.exec(d);){switch(_[0]){case"\\cell":var T=d.slice(x,g.lastIndex-_[0].length);if(T[0]==" "&&(T=T.slice(1)),++w,T.length){var C={v:T,t:"s"};Array.isArray(o)?o[h][w]=C:o[Rt({r:h,c:w})]=C}break}x=g.lastIndex}w>u.e.c&&(u.e.c=w)}),o["!ref"]=lr(u),o}function r(i,a){return hu(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=xn(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var h=Rt({r:u,c:d});o=c?(i[u]||[])[d]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Dl(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function Sse(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function nm(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Cse(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),s=i-a;if(s===0)return[0,0,t];var o=0,c=0,u=i+a;switch(c=s/(u>1?2-u:u),i){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,u/2]}function Nse(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=i*o,s[0]+=i,s[1]+=c;break;case 1:c=i*(2-o),s[0]+=c,s[1]+=i;break;case 2:c=i*(o-2),s[1]+=i,s[2]+=c;break;case 3:c=i*(4-o),s[1]+=c,s[2]+=i;break;case 4:c=i*(o-4),s[2]+=i,s[0]+=c;break;case 5:c=i*(6-o),s[2]+=c,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function fx(e,t){if(t===0)return e;var r=Cse(Sse(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),nm(Nse(r))}var X9=6,Ise=15,kse=1,ca=X9;function dx(e){return Math.floor((e+Math.round(128/ca)/256)*ca)}function hx(e){return Math.floor((e-5)/ca*100+.5)/100}function LA(e){return Math.round((e*ca+5)/ca*256)/256}function fE(e){return LA(hx(dx(e)))}function mC(e){var t=Math.abs(e-fE(e)),r=ca;if(t>.005)for(ca=kse;ca<Ise;++ca)Math.abs(e-fE(e))<=t&&(t=Math.abs(e-fE(e)),r=ca);ca=r}function ph(e){e.width?(e.wpx=dx(e.width),e.wch=hx(e.wpx),e.MDW=ca):e.wpx?(e.wch=hx(e.wpx),e.width=LA(e.wch),e.MDW=ca):typeof e.wch=="number"&&(e.width=LA(e.wch),e.wpx=dx(e.width),e.MDW=ca),e.customWidth&&delete e.customWidth}var Pse=96,Z9=Pse;function Q9(e){return e*96/Z9}function im(e){return e*Z9/96}var Rse={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Ose(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Xi)||[]).forEach(function(s){var o=St(s);switch(Qo(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=rn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=rn(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function Mse(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Xi)||[]).forEach(function(s){var o=St(s);switch(Qo(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function Dse(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Xi)||[]).forEach(function(s){var o=St(s);switch(Qo(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Hr(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?rn(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?rn(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?rn(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?rn(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?rn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?rn(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?rn(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=X2[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=rn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=of[i.color.index];i.color.index==81&&(c=of[1]),c||(c=of[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=fx(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Fse(e,t,r){t.NumberFmt=[];for(var n=Wo(Ut),i=0;i<n.length;++i)t.NumberFmt[n[i]]=Ut[n[i]];var a=e[0].match(Xi);if(a)for(i=0;i<a.length;++i){var s=St(a[i]);switch(Qo(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=cr(Hr(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}sf(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Vv=["numFmtId","fillId","fontId","borderId","xfId"],zv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Lse(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Xi)||[]).forEach(function(a){var s=St(a),o=0;switch(Qo(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Vv.length;++o)n[Vv[o]]&&(n[Vv[o]]=parseInt(n[Vv[o]],10));for(o=0;o<zv.length;++o)n[zv[o]]&&(n[zv[o]]=rn(n[zv[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=rn(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var jse=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(t))&&Fse(h,d,u),(h=o.match(i))&&Dse(h,d,c,u),(h=o.match(n))&&Mse(h,d,c,u),(h=o.match(a))&&Ose(h,d,c,u),(h=o.match(r))&&Lse(h,d,u),d}})();function Use(e,t){var r=e.read_shift(2),n=Wi(e);return[r,n]}function Bse(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=Jne(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Yne(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Wi(e),n}var Vse=Ji;function zse(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var $se=Ji;function Hse(e,t,r){var n={};n.NumberFmt=[];for(var i in Ut)n.NumberFmt[i]=Ut[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return Kl(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],sf(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=fx(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(d),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(d);else if(u.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Gse=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function qse(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Xi)||[]).forEach(function(i){var a=St(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[Gse.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function Kse(){}function Wse(){}var Yse=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Jse=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Xse=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Zse(e,t,r){t.themeElements={};var n;[["clrScheme",Yse,qse],["fontScheme",Jse,Kse],["fmtScheme",Xse,Wse]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var Qse=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function eB(e,t){(!e||e.length===0)&&(e=eoe());var r,n={};if(!(r=e.match(Qse)))throw new Error("themeElements not found in theme");return Zse(r[0],n,t),n.raw=e,n}function eoe(e,t){var r=[f9];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function toe(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var s;try{s=u9(a,{type:"array"})}catch{return}var o=is(s,"theme/theme/theme1.xml",!0);if(o)return eB(o,r)}}function roe(e){return e.read_shift(4)}function noe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=ioe(e,4);break;case 2:t.xclrValue=B9(e);break;case 3:t.xclrValue=roe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function ioe(e,t){return Ji(e,t)}function aoe(e,t){return Ji(e,t)}function soe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=noe(e);break;case 6:n[1]=aoe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function ooe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(soe(e,r-e.l));return{ixfe:n,ext:a}}function loe(e,t){t.forEach(function(r){r[0]})}function coe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Wi(e)}}function uoe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function foe(e){return e.l+=4,e.read_shift(4)!=0}function doe(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return Kl(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:a.push(d),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function hoe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,s;return e.replace(Xi,function(o){var c=St(o);switch(Qo(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):a==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function poe(e){var t=[];if(!e)return t;var r=1;return(e.match(Xi)||[]).forEach(function(n){var i=St(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function moe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Rt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function goe(e,t,r){var n=[];return Kl(e,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function voe(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Kl(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function yoe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function yM(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(s){var o=fa(s.ref);if(i?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[s.ref],!a){a={t:"z"},i?e[o.r][o.c]=a:e[s.ref]=a;var c=xn(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=lr(c);u!==e["!ref"]&&(e["!ref"]=u)}a.c||(a.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var h=a.c.length-1;h>=0;--h){if(!r&&a.c[h].T)return;r&&!a.c[h].T&&a.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(d.a==n[h].id){d.a=n[h].name||d.a;break}}a.c.push(d)})}function xoe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=St(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=fa(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var h=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!h&&!!h[1]&&pC(h[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=g.h),n.push(u)}}}}),n}function _oe(e,t){var r=[],n=!1,i={},a=0;return e.replace(Xi,function(o,c){var u=St(o);switch(Qo(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=c+o.length;break;case"</text>":i.t=e.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function boe(e,t){var r=[],n=!1;return e.replace(Xi,function(a){var s=St(a);switch(Qo(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function woe(e){var t={};t.iauthor=e.read_shift(4);var r=jf(e);return t.rfx=r.s,t.ref=Rt(r.s),e.l+=16,t}var Eoe=Wi;function Toe(e,t){var r=[],n=[],i={},a=!1;return Kl(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var Aoe="application/vnd.ms-office.vbaProject";function Soe(e){var t=or.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");or.utils.cfb_add(t,i,e.FileIndex[n].content)}}),or.write(t)}function Coe(){return{"!type":"dialog"}}function Noe(){return{"!type":"dialog"}}function Ioe(){return{"!type":"macro"}}function koe(){return{"!type":"macro"}}var eh=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,i+(o?"":"$")+Xn(d)+(c?"":"$")+Oi(u)}return function(i,a){return t=a,i.replace(e,r)}})(),tB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Poe=(function(){return function(t,r){return t.replace(tB,function(n,i,a,s,o,c){var u=lC(s)-(a?0:r.c),d=oC(c)-(o?0:r.r),h=d==0?"":o?d+1:"["+d+"]",g=u==0?"":a?u+1:"["+u+"]";return i+"R"+h+"C"+g})}})();function rB(e,t){return e.replace(tB,function(r,n,i,a,s,o){return n+(i=="$"?i+a:Xn(lC(a)+t.c))+(s=="$"?s+o:Oi(oC(o)+t.r))})}function Roe(e,t,r){var n=Mh(t),i=n.s,a=fa(r),s={r:a.r-i.r,c:a.c-i.c};return rB(e,s)}function Ooe(e){return e.length!=1}function xM(e){return e.replace(/_xlfn\./g,"")}function jn(e){e.l+=1}function eu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function nB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return iB(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=eu(e),o=eu(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function iB(e){var t=eu(e),r=eu(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Moe(e,t,r){if(r.biff<8)return iB(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=eu(e),s=eu(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function aB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Doe(e);var n=e.read_shift(r&&r.biff==12?4:2),i=eu(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Doe(e){var t=eu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Foe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Loe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return joe(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function joe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function Uoe(e,t,r){var n=(e[e.l++]&96)>>5,i=nB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function Boe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=nB(e,a,r);return[n,i,s]}function Voe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function zoe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function $oe(e,t,r){var n=(e[e.l++]&96)>>5,i=Moe(e,t-1,r);return[n,i]}function Hoe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function _M(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Goe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function qoe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Koe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Woe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Yoe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function sB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Joe(e){return e.read_shift(2),sB(e)}function Xoe(e){return e.read_shift(2),sB(e)}function Zoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=aB(e,0,r);return[n,i]}function Qoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=Loe(e,0,r);return[n,i]}function ele(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=aB(e,0,r);return[n,i,a]}function tle(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[rce[i],cB[i],n]}function rle(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:nle(e);return[i,(a[0]===0?cB:tce)[a[1]]]}function nle(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ile(e,t,r){e.l+=r&&r.biff==2?3:4}function ale(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function sle(e){return e.l++,Uf[e.read_shift(1)]}function ole(e){return e.l++,e.read_shift(2)}function lle(e){return e.l++,e.read_shift(1)!==0}function cle(e){return e.l++,Hi(e)}function ule(e,t,r){return e.l++,Fm(e,t-1,r)}function fle(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Cn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Uf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Hi(e);break;case 2:r[1]=Bf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function dle(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?jf:U1)(e));return i}function hle(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=fle(e,r.biff);return s}function ple(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function mle(e,t,r){if(r.biff==5)return gle(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function gle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function vle(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function yle(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function xle(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function _le(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var ble=Ji,wle=Ji,Ele=Ji;function jm(e,t,r){return e.l+=2,[Foe(e)]}function gC(e){return e.l+=6,[]}var Tle=jm,Ale=gC,Sle=gC,Cle=jm;function oB(e){return e.l+=2,[Vn(e),e.read_shift(2)&1]}var Nle=jm,Ile=oB,kle=gC,Ple=jm,Rle=jm,Ole=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Mle(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=Ole[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function Dle(e){return e.l+=2,[e.read_shift(4)]}function Fle(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Lle(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ule(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ble(e){return e.l+=4,[0,0]}var bM={1:{n:"PtgExp",f:ale},2:{n:"PtgTbl",f:Ele},3:{n:"PtgAdd",f:jn},4:{n:"PtgSub",f:jn},5:{n:"PtgMul",f:jn},6:{n:"PtgDiv",f:jn},7:{n:"PtgPower",f:jn},8:{n:"PtgConcat",f:jn},9:{n:"PtgLt",f:jn},10:{n:"PtgLe",f:jn},11:{n:"PtgEq",f:jn},12:{n:"PtgGe",f:jn},13:{n:"PtgGt",f:jn},14:{n:"PtgNe",f:jn},15:{n:"PtgIsect",f:jn},16:{n:"PtgUnion",f:jn},17:{n:"PtgRange",f:jn},18:{n:"PtgUplus",f:jn},19:{n:"PtgUminus",f:jn},20:{n:"PtgPercent",f:jn},21:{n:"PtgParen",f:jn},22:{n:"PtgMissArg",f:jn},23:{n:"PtgStr",f:ule},26:{n:"PtgSheet",f:Fle},27:{n:"PtgEndSheet",f:Lle},28:{n:"PtgErr",f:sle},29:{n:"PtgBool",f:lle},30:{n:"PtgInt",f:ole},31:{n:"PtgNum",f:cle},32:{n:"PtgArray",f:Hoe},33:{n:"PtgFunc",f:tle},34:{n:"PtgFuncVar",f:rle},35:{n:"PtgName",f:ple},36:{n:"PtgRef",f:Zoe},37:{n:"PtgArea",f:Uoe},38:{n:"PtgMemArea",f:vle},39:{n:"PtgMemErr",f:ble},40:{n:"PtgMemNoMem",f:wle},41:{n:"PtgMemFunc",f:yle},42:{n:"PtgRefErr",f:xle},43:{n:"PtgAreaErr",f:Voe},44:{n:"PtgRefN",f:Qoe},45:{n:"PtgAreaN",f:$oe},46:{n:"PtgMemAreaN",f:jle},47:{n:"PtgMemNoMemN",f:Ule},57:{n:"PtgNameX",f:mle},58:{n:"PtgRef3d",f:ele},59:{n:"PtgArea3d",f:Boe},60:{n:"PtgRefErr3d",f:_le},61:{n:"PtgAreaErr3d",f:zoe},255:{}},Vle={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zle={1:{n:"PtgElfLel",f:oB},2:{n:"PtgElfRw",f:Ple},3:{n:"PtgElfCol",f:Tle},6:{n:"PtgElfRwV",f:Rle},7:{n:"PtgElfColV",f:Cle},10:{n:"PtgElfRadical",f:Nle},11:{n:"PtgElfRadicalS",f:kle},13:{n:"PtgElfColS",f:Ale},15:{n:"PtgElfColSV",f:Sle},16:{n:"PtgElfRadicalLel",f:Ile},25:{n:"PtgList",f:Mle},29:{n:"PtgSxName",f:Dle},255:{}},$le={0:{n:"PtgAttrNoop",f:Ble},1:{n:"PtgAttrSemi",f:Yoe},2:{n:"PtgAttrIf",f:Koe},4:{n:"PtgAttrChoose",f:Goe},8:{n:"PtgAttrGoto",f:qoe},16:{n:"PtgAttrSum",f:ile},32:{n:"PtgAttrBaxcel",f:_M},33:{n:"PtgAttrBaxcel",f:_M},64:{n:"PtgAttrSpace",f:Joe},65:{n:"PtgAttrSpaceSemi",f:Xoe},128:{n:"PtgAttrIfError",f:Woe},255:{}};function Um(e,t,r,n){if(n.biff<8)return Ji(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=hle(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=dle(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(Ji(e,t)),a}function Bm(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=bM[a]||bM[Vle[a]],(a===24||a===25)&&(i=(a===24?zle:$le)[e[e.l+1]]),!i||!i.f?Ji(e,t):s.push([i.n,i.f(e,t,r)]);return s}function Hle(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}t.push(i.join(","))}return t.join(";")}var Gle={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function qle(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function lB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function wM(e,t,r){var n=lB(e,t,r);return n=="#REF"?n:qle(n,r)}function Vi(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,h=0,g=0,x,_="";if(!e[0]||!e[0][0])return"";for(var w=-1,T="",C=0,L=e[0].length;C<L;++C){var P=e[0][C];switch(P[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),w>=0){switch(e[0][w][1][0]){case 0:T=gn(" ",e[0][w][1][1]);break;case 1:T=gn("\r",e[0][w][1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}u=u+T,w=-1}o.push(u+Gle[P[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Np(P[1][1],s,i),o.push(Ip(d,a));break;case"PtgRefN":d=r?Np(P[1][1],r,i):P[1][1],o.push(Ip(d,a));break;case"PtgRef3d":h=P[1][1],d=Np(P[1][2],s,i),_=wM(n,h,i),o.push(_+"!"+Ip(d,a));break;case"PtgFunc":case"PtgFuncVar":var D=P[1][0],F=P[1][1];D||(D=0),D&=127;var R=D==0?[]:o.slice(-D);o.length-=D,F==="User"&&(F=R.shift()),o.push(F+"("+R.join(",")+")");break;case"PtgBool":o.push(P[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(P[1]);break;case"PtgNum":o.push(String(P[1]));break;case"PtgStr":o.push('"'+P[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(P[1]);break;case"PtgAreaN":x=rM(P[1][1],r?{s:r}:s,i),o.push(cE(x,i));break;case"PtgArea":x=rM(P[1][1],s,i),o.push(cE(x,i));break;case"PtgArea3d":h=P[1][1],x=P[1][2],_=wM(n,h,i),o.push(_+"!"+cE(x,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=P[1][2];var I=(n.names||[])[g-1]||(n[0]||[])[g],k=I?I.Name:"SH33TJSNAME"+String(g);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var O=P[1][1];g=P[1][2];var B;if(i.biff<=5)O<0&&(O=-O),n[O]&&(B=n[O][g]);else{var V="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][g]&&n[O][g].itab>0&&(V=n.SheetNames[n[O][g].itab-1]+"!"):V=n.SheetNames[g-1]+"!"),n[O]&&n[O][g])V+=n[O][g].Name;else if(n[0]&&n[0][g])V+=n[0][g].Name;else{var j=(lB(n,O,i)||"").split(";;");j[g-1]?V=j[g-1]:V+="SH33TJSERRX"}o.push(V);break}B||(B={Name:"SH33TJSERRY"}),o.push(B.Name);break;case"PtgParen":var G="(",de=")";if(w>=0){switch(T="",e[0][w][1][0]){case 2:G=gn(" ",e[0][w][1][1])+G;break;case 3:G=gn("\r",e[0][w][1][1])+G;break;case 4:de=gn(" ",e[0][w][1][1])+de;break;case 5:de=gn("\r",e[0][w][1][1])+de;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}o.push(G+o.pop()+de);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:P[1][1],r:P[1][0]};var ge={c:r.c,r:r.r};if(n.sharedf[Rt(d)]){var ie=n.sharedf[Rt(d)];o.push(Vi(ie,s,ge,n,i))}else{var fe=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Vi(u[1],s,ge,n,i)),fe=!0;break}fe||o.push(P[1])}break;case"PtgArray":o.push("{"+Hle(P[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+P[1].idx+"[#"+P[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(P));default:throw new Error("Unrecognized Formula Token: "+String(P))}var ue=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&ue.indexOf(e[0][C][0])==-1){P=e[0][w];var ae=!0;switch(P[1][0]){case 4:ae=!1;case 0:T=gn(" ",P[1][1]);break;case 5:ae=!1;case 1:T=gn("\r",P[1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+P[1][0])}o.push((ae?T:"")+o.pop()+(ae?"":T)),w=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Kle(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],Ji(e,t-2)];var o=Bm(e,s,r);return t!==s+i&&(a=Um(e,t-s-i,o,r)),e.l=n,[o,a]}function Wle(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],Ji(e,t-2)];var o=Bm(e,s,r);return t!==s+i&&(a=Um(e,t-s-i,o,r)),e.l=n,[o,a]}function Yle(e,t,r,n){var i=e.l+t,a=Bm(e,n,r),s;return i!==e.l&&(s=Um(e,i-e.l,a,r)),[a,s]}function Jle(e,t,r){var n=e.l+t,i,a=e.read_shift(2),s=Bm(e,a,r);return a==65535?[[],Ji(e,t-2)]:(t!==a+2&&(i=Um(e,n-a-2,s,r)),[s,i])}function Xle(e){var t;if(Cl(e,e.l+6)!==65535)return[Hi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function dE(e,t,r){var n=e.l+t,i=el(e);r.biff==2&&++e.l;var a=Xle(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Wle(e,n-e.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function B1(e,t,r){var n=e.read_shift(4),i=Bm(e,n,r),a=e.read_shift(4),s=a>0?Um(e,a,i,r):null;return[i,s]}var Zle=B1,V1=B1,Qle=B1,ece=B1,tce={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},cB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},rce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function EM(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function hE(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Op={},th={};function Mp(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function uB(e,t,r,n,i,a){try{n.cellNF&&(e.z=Ut[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=mi(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ut[t]==null&&sf(nne[t]||"General",t),e.t==="e")e.w=e.w||Uf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qp(e.v);else if(e.t==="d"){var s=pa(e.v);(s|0)===s?e.w=s.toString(10):e.w=Qp(s)}else{if(e.v===void 0)return"";e.w=vf(e.v,th)}else e.t==="d"?e.w=Ds(t,pa(e.v),th):e.w=Ds(t,e.v,th)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=fx(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=fx(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function nce(e,t){var r=xn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=lr(r))}var ice=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ace=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,sce=/<(?:\w:)?hyperlink [^>]*>/mg,oce=/"(\w*:\w*)"/,lce=/<(?:\w:)?col\b[^>]*[\/]?>/g,cce=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,uce=/<(?:\w:)?pageMargins[^>]*\/>/g,fB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,fce=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,dce=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function hce(e,t,r,n,i,a,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",h=e.match(ace);h?(u=e.slice(0,h.index),d=e.slice(h.index+h[0].length)):u=d=e;var g=u.match(fB);g?vC(g[0],o,i,r):(g=u.match(fce))&&pce(g[0],g[1]||"",o,i,r);var x=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var _=u.slice(x,x+50).match(oce);_&&nce(o,_[1])}var w=u.match(dce);w&&w[1]&&_ce(w[1],i);var T=[];if(t.cellStyles){var C=u.match(lce);C&&vce(T,C)}h&&bce(h[1],o,t,c,a,s);var L=d.match(cce);L&&(o["!autofilter"]=yce(L[0]));var P=[],D=d.match(ice);if(D)for(x=0;x!=D.length;++x)P[x]=xn(D[x].slice(D[x].indexOf('"')+1));var F=d.match(sce);F&&mce(o,F,n);var R=d.match(uce);if(R&&(o["!margins"]=gce(St(R[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=lr(c)),t.sheetRows>0&&o["!ref"]){var I=xn(o["!ref"]);t.sheetRows<=+I.e.r&&(I.e.r=t.sheetRows-1,I.e.r>c.e.r&&(I.e.r=c.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>c.e.c&&(I.e.c=c.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),o["!fullref"]=o["!ref"],o["!ref"]=lr(I))}return T.length>0&&(o["!cols"]=T),P.length>0&&(o["!merges"]=P),o}function vC(e,t,r,n){var i=St(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=cr(Hr(i.codeName)))}function pce(e,t,r,n,i){vC(e.slice(0,e.indexOf(">")),r,n,i)}function mce(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=St(Hr(t[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+cr(a.location))):(a.Target="#"+cr(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=xn(a.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Rt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=a):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=a)}}}function gce(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function vce(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=St(t[n],!0);i.hidden&&(i.hidden=rn(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,mC(i.width)),ph(i);a<=s;)e[a++]=Ri(i)}}function yce(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var xce=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function _ce(e,t){t.Views||(t.Views=[{}]),(e.match(xce)||[]).forEach(function(r,n){var i=St(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),rn(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var bce=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=em("v"),s=em("f");return function(c,u,d,h,g,x){for(var _=0,w="",T=[],C=[],L=0,P=0,D=0,F="",R,I,k=0,O=0,B,V,j=0,G=0,de=Array.isArray(x.CellXf),ge,ie=[],fe=[],ue=Array.isArray(u),ae=[],_e={},X=!1,z=!!d.sheetStubs,te=c.split(t),Z=0,K=te.length;Z!=K;++Z){w=te[Z].trim();var pe=w.length;if(pe!==0){var xe=0;e:for(_=0;_<pe;++_)switch(w[_]){case">":if(w[_-1]!="/"){++_;break e}if(d&&d.cellStyles){if(I=St(w.slice(xe,_),!0),k=I.r!=null?parseInt(I.r,10):k+1,O=-1,d.sheetRows&&d.sheetRows<k)continue;_e={},X=!1,I.ht&&(X=!0,_e.hpt=parseFloat(I.ht),_e.hpx=im(_e.hpt)),I.hidden=="1"&&(X=!0,_e.hidden=!0),I.outlineLevel!=null&&(X=!0,_e.level=+I.outlineLevel),X&&(ae[k-1]=_e)}break;case"<":xe=_;break}if(xe>=_)break;if(I=St(w.slice(xe,_),!0),k=I.r!=null?parseInt(I.r,10):k+1,O=-1,!(d.sheetRows&&d.sheetRows<k)){h.s.r>k-1&&(h.s.r=k-1),h.e.r<k-1&&(h.e.r=k-1),d&&d.cellStyles&&(_e={},X=!1,I.ht&&(X=!0,_e.hpt=parseFloat(I.ht),_e.hpx=im(_e.hpt)),I.hidden=="1"&&(X=!0,_e.hidden=!0),I.outlineLevel!=null&&(X=!0,_e.level=+I.outlineLevel),X&&(ae[k-1]=_e)),T=w.slice(_).split(e);for(var ke=0;ke!=T.length&&T[ke].trim().charAt(0)=="<";++ke);for(T=T.slice(ke),_=0;_!=T.length;++_)if(w=T[_].trim(),w.length!==0){if(C=w.match(r),L=_,P=0,D=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,C!=null&&C.length===2){for(L=0,F=C[1],P=0;P!=F.length&&!((D=F.charCodeAt(P)-64)<1||D>26);++P)L=26*L+D;--L,O=L}else++O;for(P=0;P!=w.length&&w.charCodeAt(P)!==62;++P);if(++P,I=St(w.slice(0,P),!0),I.r||(I.r=Rt({r:k-1,c:O})),F=w.slice(P),R={t:""},(C=F.match(a))!=null&&C[1]!==""&&(R.v=cr(C[1])),d.cellFormula){if((C=F.match(s))!=null&&C[1]!==""){if(R.f=cr(Hr(C[1])).replace(/\r\n/g,`
`),d.xlfn||(R.f=xM(R.f)),C[0].indexOf('t="array"')>-1)R.F=(F.match(i)||[])[1],R.F.indexOf(":")>-1&&ie.push([xn(R.F),R.F]);else if(C[0].indexOf('t="shared"')>-1){V=St(C[0]);var le=cr(Hr(C[1]));d.xlfn||(le=xM(le)),fe[parseInt(V.si,10)]=[V,le,I.r]}}else(C=F.match(/<f[^>]*\/>/))&&(V=St(C[0]),fe[V.si]&&(R.f=Roe(fe[V.si][1],fe[V.si][2],I.r)));var ve=fa(I.r);for(P=0;P<ie.length;++P)ve.r>=ie[P][0].s.r&&ve.r<=ie[P][0].e.r&&ve.c>=ie[P][0].s.c&&ve.c<=ie[P][0].e.c&&(R.F=ie[P][1])}if(I.t==null&&R.v===void 0)if(R.f||R.F)R.v=0,R.t="n";else if(z)R.t="z";else continue;else R.t=I.t||"n";switch(h.s.c>O&&(h.s.c=O),h.e.c<O&&(h.e.c=O),R.t){case"n":if(R.v==""||R.v==null){if(!z)continue;R.t="z"}else R.v=parseFloat(R.v);break;case"s":if(typeof R.v>"u"){if(!z)continue;R.t="z"}else B=Op[parseInt(R.v,10)],R.v=B.t,R.r=B.r,d.cellHTML&&(R.h=B.h);break;case"str":R.t="s",R.v=R.v!=null?Hr(R.v):"",d.cellHTML&&(R.h=iC(R.v));break;case"inlineStr":C=F.match(n),R.t="s",C!=null&&(B=pC(C[1]))?(R.v=B.t,d.cellHTML&&(R.h=B.h)):R.v="";break;case"b":R.v=rn(R.v);break;case"d":d.cellDates?R.v=mi(R.v,1):(R.v=pa(mi(R.v,1)),R.t="n");break;case"e":(!d||d.cellText!==!1)&&(R.w=R.v),R.v=R9[R.v];break}if(j=G=0,ge=null,de&&I.s!==void 0&&(ge=x.CellXf[I.s],ge!=null&&(ge.numFmtId!=null&&(j=ge.numFmtId),d.cellStyles&&ge.fillId!=null&&(G=ge.fillId))),uB(R,j,G,d,g,x),d.cellDates&&de&&R.t=="n"&&Oh(Ut[j])&&(R.t="d",R.v=j1(R.v)),I.cm&&d.xlmeta){var Fe=(d.xlmeta.Cell||[])[+I.cm-1];Fe&&Fe.type=="XLDAPR"&&(R.D=!0)}if(ue){var W=fa(I.r);u[W.r]||(u[W.r]=[]),u[W.r][W.c]=R}else u[I.r]=R}}}}ae.length>0&&(u["!rows"]=ae)}})();function wce(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var Ece=jf;function Tce(){}function Ace(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Kne(e),r}function Sce(e){var t=Vs(e);return[t]}function Cce(e){var t=Lf(e);return[t]}function Nce(e){var t=Vs(e),r=e.read_shift(1);return[t,r,"b"]}function Ice(e){var t=Lf(e),r=e.read_shift(1);return[t,r,"b"]}function kce(e){var t=Vs(e),r=e.read_shift(1);return[t,r,"e"]}function Pce(e){var t=Lf(e),r=e.read_shift(1);return[t,r,"e"]}function Rce(e){var t=Vs(e),r=e.read_shift(4);return[t,r,"s"]}function Oce(e){var t=Lf(e),r=e.read_shift(4);return[t,r,"s"]}function Mce(e){var t=Vs(e),r=Hi(e);return[t,r,"n"]}function dB(e){var t=Lf(e),r=Hi(e);return[t,r,"n"]}function Dce(e){var t=Vs(e),r=fC(e);return[t,r,"n"]}function Fce(e){var t=Lf(e),r=fC(e);return[t,r,"n"]}function Lce(e){var t=Vs(e),r=cC(e);return[t,r,"is"]}function jce(e){var t=Vs(e),r=Wi(e);return[t,r,"str"]}function Uce(e){var t=Lf(e),r=Wi(e);return[t,r,"str"]}function Bce(e,t,r){var n=e.l+t,i=Vs(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=V1(e,n-e.l,r);s[3]=Vi(o,null,i,r.supbooks,r)}else e.l=n;return s}function Vce(e,t,r){var n=e.l+t,i=Vs(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=V1(e,n-e.l,r);s[3]=Vi(o,null,i,r.supbooks,r)}else e.l=n;return s}function zce(e,t,r){var n=e.l+t,i=Vs(e);i.r=r["!row"];var a=Hi(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=V1(e,n-e.l,r);s[3]=Vi(o,null,i,r.supbooks,r)}else e.l=n;return s}function $ce(e,t,r){var n=e.l+t,i=Vs(e);i.r=r["!row"];var a=Wi(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=V1(e,n-e.l,r);s[3]=Vi(o,null,i,r.supbooks,r)}else e.l=n;return s}var Hce=jf;function Gce(e,t){var r=e.l+t,n=jf(e),i=uC(e),a=Wi(e),s=Wi(e),o=Wi(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function qce(){}function Kce(e,t,r){var n=e.l+t,i=I9(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=Zle(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Wce(e,t,r){var n=e.l+t,i=jf(e),a=[i];if(r.cellFormula){var s=ece(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}var Yce=["left","right","top","bottom","header","footer"];function Jce(e){var t={};return Yce.forEach(function(r){t[r]=Hi(e)}),t}function Xce(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Zce(){}function Qce(){}function eue(e,t,r,n,i,a,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,g=!1,x,_,w,T,C,L,P,D,F,R=[];o.biff=12,o["!row"]=0;var I=0,k=!1,O=[],B={},V=o.supbooks||i.supbooks||[[]];if(V.sharedf=B,V.arrayf=O,V.SheetNames=i.SheetNames||i.Sheets.map(function(ue){return ue.name}),!o.supbooks&&(o.supbooks=V,i.Names))for(var j=0;j<i.Names.length;++j)V[0][j+1]=i.Names[j];var G=[],de=[],ge=!1;px[16]={n:"BrtShortReal",f:dB};var ie;if(Kl(e,function(ae,_e,X){if(!g)switch(X){case 148:u=ae;break;case 0:x=ae,o.sheetRows&&o.sheetRows<=x.r&&(g=!0),D=Oi(T=x.r),o["!row"]=x.r,(ae.hidden||ae.hpt||ae.level!=null)&&(ae.hpt&&(ae.hpx=im(ae.hpt)),de[ae.r]=ae);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:ae[2]},ae[2]){case"n":_.v=ae[1];break;case"s":P=Op[ae[1]],_.v=P.t,_.r=P.r;break;case"b":_.v=!!ae[1];break;case"e":_.v=ae[1],o.cellText!==!1&&(_.w=Uf[_.v]);break;case"str":_.t="s",_.v=ae[1];break;case"is":_.t="s",_.v=ae[1].t;break}if((w=s.CellXf[ae[0].iStyleRef])&&uB(_,w.numFmtId,null,o,a,s),C=ae[0].c==-1?C+1:ae[0].c,o.dense?(c[T]||(c[T]=[]),c[T][C]=_):c[Xn(C)+D]=_,o.cellFormula){for(k=!1,I=0;I<O.length;++I){var z=O[I];x.r>=z[0].s.r&&x.r<=z[0].e.r&&C>=z[0].s.c&&C<=z[0].e.c&&(_.F=lr(z[0]),k=!0)}!k&&ae.length>3&&(_.f=ae[3])}if(d.s.r>x.r&&(d.s.r=x.r),d.s.c>C&&(d.s.c=C),d.e.r<x.r&&(d.e.r=x.r),d.e.c<C&&(d.e.c=C),o.cellDates&&w&&_.t=="n"&&Oh(Ut[w.numFmtId])){var te=Zu(_.v);te&&(_.t="d",_.v=new Date(te.y,te.m-1,te.d,te.H,te.M,te.S,te.u))}ie&&(ie.type=="XLDAPR"&&(_.D=!0),ie=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;_={t:"z",v:void 0},C=ae[0].c==-1?C+1:ae[0].c,o.dense?(c[T]||(c[T]=[]),c[T][C]=_):c[Xn(C)+D]=_,d.s.r>x.r&&(d.s.r=x.r),d.s.c>C&&(d.s.c=C),d.e.r<x.r&&(d.e.r=x.r),d.e.c<C&&(d.e.c=C),ie&&(ie.type=="XLDAPR"&&(_.D=!0),ie=void 0);break;case 176:R.push(ae);break;case 49:ie=((o.xlmeta||{}).Cell||[])[ae-1];break;case 494:var Z=n["!id"][ae.relId];for(Z?(ae.Target=Z.Target,ae.loc&&(ae.Target+="#"+ae.loc),ae.Rel=Z):ae.relId==""&&(ae.Target="#"+ae.loc),T=ae.rfx.s.r;T<=ae.rfx.e.r;++T)for(C=ae.rfx.s.c;C<=ae.rfx.e.c;++C)o.dense?(c[T]||(c[T]=[]),c[T][C]||(c[T][C]={t:"z",v:void 0}),c[T][C].l=ae):(L=Rt({c:C,r:T}),c[L]||(c[L]={t:"z",v:void 0}),c[L].l=ae);break;case 426:if(!o.cellFormula)break;O.push(ae),F=o.dense?c[T][C]:c[Xn(C)+D],F.f=Vi(ae[1],d,{r:x.r,c:C},V,o),F.F=lr(ae[0]);break;case 427:if(!o.cellFormula)break;B[Rt(ae[0].s)]=ae[1],F=o.dense?c[T][C]:c[Xn(C)+D],F.f=Vi(ae[1],d,{r:x.r,c:C},V,o);break;case 60:if(!o.cellStyles)break;for(;ae.e>=ae.s;)G[ae.e--]={width:ae.w/256,hidden:!!(ae.flags&1),level:ae.level},ge||(ge=!0,mC(ae.w/256)),ph(G[ae.e+1]);break;case 161:c["!autofilter"]={ref:lr(ae)};break;case 476:c["!margins"]=ae;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ae.name&&(i.Sheets[r].CodeName=ae.name),(ae.above||ae.left)&&(c["!outline"]={above:ae.above,left:ae.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ae.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!_e.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=lr(u||d)),o.sheetRows&&c["!ref"]){var fe=xn(c["!ref"]);o.sheetRows<=+fe.e.r&&(fe.e.r=o.sheetRows-1,fe.e.r>d.e.r&&(fe.e.r=d.e.r),fe.e.r<fe.s.r&&(fe.s.r=fe.e.r),fe.e.c>d.e.c&&(fe.e.c=d.e.c),fe.e.c<fe.s.c&&(fe.s.c=fe.e.c),c["!fullref"]=c["!ref"],c["!ref"]=lr(fe))}return R.length>0&&(c["!merges"]=R),G.length>0&&(c["!cols"]=G),de.length>0&&(c["!rows"]=de),c}function tue(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var i=cr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function rue(e,t,r,n,i,a){var s=a||{"!type":"chart"};if(!e)return a;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var g=tue(h);d.s.r=d.s.c=0,d.e.c=o,u=Xn(o),g[0].forEach(function(x,_){s[u+Oi(_)]={t:"n",v:x,z:g[1]},c=_}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(s["!ref"]=lr(d)),s}function nue(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(fB);return o&&vC(o[0],a,i,r),(s=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function iue(e,t){e.l+=10;var r=Wi(e);return{name:r}}function aue(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Kl(e,function(c,u,d){switch(d){case 550:a["!rel"]=c;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),c.name&&(i.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var hB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sue=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],oue=[],lue=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function TM(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=rn(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function AM(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=rn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function pB(e){AM(e.WBProps,hB),AM(e.CalcPr,lue),TM(e.WBView,sue),TM(e.Sheets,oue),th.date1904=rn(e.WBProps.date1904)}var cue="][*?/\\".split("");function uue(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return cue.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var fue=/<\w+:workbook/;function due(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(e.replace(Xi,function(c,u){var d=St(c);switch(Qo(d[0])){case"<?xml":break;case"<workbook":c.match(fue)&&(i="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":hB.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=rn(d[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:r.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(r.WBProps.CodeName=Hr(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=cr(Hr(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=Hr(d.name),d.comment&&(a.Comment=d.comment),d.localSheetId&&(a.Sheet=+d.localSheetId),rn(d.hidden||"0")&&(a.Hidden=!0),s=u+c.length;break;case"</definedName>":a.Ref=cr(Hr(e.slice(s,u))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),kne.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return pB(r),r}function hue(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=MA(e),r.name=Wi(e),r}function pue(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Wi(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function mue(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function gue(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=Wne(e),s=Qle(e,0,r),o=uC(e);e.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function vue(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],px[16]={n:"BrtFRTArchID$",f:mue},Kl(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Vi(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(d),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),pB(r),r.Names=a,r.supbooks=s,r}function yue(e,t,r){return t.slice(-4)===".bin"?vue(e,r):due(e,r)}function xue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?eue(e,n,r,i,a,s,o):hce(e,n,r,i,a,s,o)}function _ue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?aue(e,n,r,i,a):nue(e,n,r,i,a)}function bue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Ioe():koe()}function wue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Coe():Noe()}function Eue(e,t,r,n){return t.slice(-4)===".bin"?Hse(e,r,n):jse(e,r,n)}function Tue(e,t,r){return eB(e,r)}function Aue(e,t,r){return t.slice(-4)===".bin"?sse(e,r):ise(e,r)}function Sue(e,t,r){return t.slice(-4)===".bin"?Toe(e,r):xoe(e,r)}function Cue(e,t,r){return t.slice(-4)===".bin"?goe(e):poe(e)}function Nue(e,t,r,n){return r.slice(-4)===".bin"?voe(e,t,r,n):void 0}function Iue(e,t,r){return t.slice(-4)===".bin"?doe(e,t,r):hoe(e,t,r)}var mB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,gB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Js(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(mB),a,s,o,c;if(i)for(c=0;c!=i.length;++c)a=i[c].match(gB),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function kue(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(mB),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(gB),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var Dp;function Pue(e,t){var r=Dp[e]||cr(e);return r==="General"?vf(t):Ds(r,t)}function Rue(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=rn(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=mi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[cr(t)]=i}function Oue(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Uf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qp(e.v):e.w=vf(e.v):e.w=Pue(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=Dp[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Oh(n)){var i=Zu(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function Mue(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Rse[n.Pattern]||n.Pattern)}e[t.ID]=t}function Due(e,t,r,n,i,a,s,o,c,u){var d="General",h=n.StyleID,g={};u=u||{};var x=[],_=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&s&&(h=s.StyleID);a[h]!==void 0&&(a[h].nf&&(d=a[h].nf),a[h].Interior&&x.push(a[h].Interior),!!a[h].Parent);)h=a[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=rn(e);break;case"String":n.t="s",n.r=K4(cr(e)),n.v=e.indexOf("<")>-1?cr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(mi(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=cr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=R9[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=K4(t||e));break}if(Oue(n,d,u),u.cellFormula!==!1)if(n.Formula){var w=cr(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=eh(w,i),delete n.Formula,n.ArrayRange=="RC"?n.F=eh("RC:RC",i):n.ArrayRange&&(n.F=eh(n.ArrayRange,i),c.push([xn(n.F),n.F]))}else for(_=0;_<c.length;++_)i.r>=c[_][0].s.r&&i.r<=c[_][0].e.r&&i.c>=c[_][0].s.c&&i.c<=c[_][0].e.c&&(n.F=c[_][1]);u.cellStyles&&(x.forEach(function(T){!g.patternType&&T.patternType&&(g.patternType=T.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Fue(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function pE(e,t){var r=t||{};i9();var n=fp(aC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Hr(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Ri(r);return s.type="string",rm.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Xe){i.indexOf("<"+Xe)>=0&&(a=!0)}),a)return Gue(n,r);Dp={"General Number":"General","General Date":Ut[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ut[15],"Short Date":Ut[14],"Long Time":Ut[19],"Medium Time":Ut[18],"Short Time":Ut[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ut[2],Standard:Ut[4],Percent:Ut[10],Scientific:Ut[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},h=[],g=r.dense?[]:{},x="",_={},w={},T=Js('<Data ss:Type="String">'),C=0,L=0,P=0,D={s:{r:2e6,c:2e6},e:{r:0,c:0}},F={},R={},I="",k=0,O=[],B={},V={},j=0,G=[],de=[],ge={},ie=[],fe,ue=!1,ae=[],_e=[],X={},z=0,te=0,Z={Sheets:[],WBProps:{date1904:!1}},K={};tm.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var pe="";o=tm.exec(n);)switch(o[3]=(pe=o[3]).toLowerCase()){case"data":if(pe=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Due(n.slice(C,o.index),I,T,c[c.length-1][0]=="comment"?ge:_,{c:L,r:P},F,ie[L],w,ae,r):(I="",T=Js(o[0]),C=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(de.length>0&&(_.c=de),(!r.sheetRows||r.sheetRows>P)&&_.v!==void 0&&(r.dense?(g[P]||(g[P]=[]),g[P][L]=_):g[Xn(L)+Oi(P)]=_),_.HRef&&(_.l={Target:cr(_.HRef)},_.HRefScreenTip&&(_.l.Tooltip=_.HRefScreenTip),delete _.HRef,delete _.HRefScreenTip),(_.MergeAcross||_.MergeDown)&&(z=L+(parseInt(_.MergeAcross,10)|0),te=P+(parseInt(_.MergeDown,10)|0),O.push({s:{c:L,r:P},e:{c:z,r:te}})),!r.sheetStubs)_.MergeAcross?L=z+1:++L;else if(_.MergeAcross||_.MergeDown){for(var xe=L;xe<=z;++xe)for(var ke=P;ke<=te;++ke)(xe>L||ke>P)&&(r.dense?(g[ke]||(g[ke]=[]),g[ke][xe]={t:"z"}):g[Xn(xe)+Oi(ke)]={t:"z"});L=z+1}else++L;else _=kue(o[0]),_.Index&&(L=+_.Index-1),L<D.s.c&&(D.s.c=L),L>D.e.c&&(D.e.c=L),o[0].slice(-2)==="/>"&&++L,de=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(P<D.s.r&&(D.s.r=P),P>D.e.r&&(D.e.r=P),o[0].slice(-2)==="/>"&&(w=Js(o[0]),w.Index&&(P=+w.Index-1)),L=0,++P):(w=Js(o[0]),w.Index&&(P=+w.Index-1),X={},(w.AutoFitHeight=="0"||w.Height)&&(X.hpx=parseInt(w.Height,10),X.hpt=Q9(X.hpx),_e[P]=X),w.Hidden=="1"&&(X.hidden=!0,_e[P]=X));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));h.push(x),D.s.r<=D.e.r&&D.s.c<=D.e.c&&(g["!ref"]=lr(D),r.sheetRows&&r.sheetRows<=D.e.r&&(g["!fullref"]=g["!ref"],D.e.r=r.sheetRows-1,g["!ref"]=lr(D))),O.length&&(g["!merges"]=O),ie.length>0&&(g["!cols"]=ie),_e.length>0&&(g["!rows"]=_e),d[x]=g}else D={s:{r:2e6,c:2e6},e:{r:0,c:0}},P=L=0,c.push([o[3],!1]),u=Js(o[0]),x=cr(u.Name),g=r.dense?[]:{},O=[],ae=[],_e=[],K={name:x,Hidden:0},Z.Sheets.push(K);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),ie=[],ue=!1}break;case"style":o[1]==="/"?Mue(F,R,r):R=Js(o[0]);break;case"numberformat":R.nf=cr(Js(o[0]).Format||"General"),Dp[R.nf]&&(R.nf=Dp[R.nf]);for(var le=0;le!=392&&Ut[le]!=R.nf;++le);if(le==392){for(le=57;le!=392;++le)if(Ut[le]==null){sf(R.nf,le);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(fe=Js(o[0]),fe.Hidden&&(fe.hidden=!0,delete fe.Hidden),fe.Width&&(fe.wpx=parseInt(fe.Width,10)),!ue&&fe.wpx>10){ue=!0,ca=X9;for(var ve=0;ve<ie.length;++ve)ie[ve]&&ph(ie[ve])}ue&&ph(fe),ie[fe.Index-1||ie.length]=fe;for(var Fe=0;Fe<+fe.Span;++Fe)ie[ie.length]=Ri(fe);break;case"namedrange":if(o[1]==="/")break;Z.Names||(Z.Names=[]);var W=St(o[0]),Je={Name:W.Name,Ref:eh(W.RefersTo.slice(1),{r:0,c:0})};Z.Sheets.length>0&&(Je.Sheet=Z.Sheets.length-1),Z.Names.push(Je);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?I+=n.slice(k,o.index):k=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;R.Interior=Js(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?xie(B,pe,n.slice(j,o.index)):j=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Fue(ge),de.push(ge)}else c.push([o[3],!1]),u=Js(o[0]),ge={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Be=Js(o[0]);g["!autofilter"]={ref:eh(Be.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return PM(n,r);var We=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:We=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:We=!1}break;case"excelworkbook":switch(o[3]){case"date1904":Z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:We=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:We=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(j,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else j=o.index+o[0].length;break;case"header":g["!margins"]||Mp(g["!margins"]={},"xlml"),isNaN(+St(o[0]).Margin)||(g["!margins"].header=+St(o[0]).Margin);break;case"footer":g["!margins"]||Mp(g["!margins"]={},"xlml"),isNaN(+St(o[0]).Margin)||(g["!margins"].footer=+St(o[0]).Margin);break;case"pagemargins":var $e=St(o[0]);g["!margins"]||Mp(g["!margins"]={},"xlml"),isNaN(+$e.Top)||(g["!margins"].top=+$e.Top),isNaN(+$e.Left)||(g["!margins"].left=+$e.Left),isNaN(+$e.Right)||(g["!margins"].right=+$e.Right),isNaN(+$e.Bottom)||(g["!margins"].bottom=+$e.Bottom);break;case"displayrighttoleft":Z.Views||(Z.Views=[]),Z.Views[0]||(Z.Views[0]={}),Z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:We=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:We=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:We=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:We=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:We=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:We=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:We=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:We=!1}break;case"smarttags":break;default:We=!1;break}if(We||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Rue(V,pe,G,n.slice(j,o.index)):(G=o,j=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Le={};return!r.bookSheets&&!r.bookProps&&(Le.Sheets=d),Le.SheetNames=h,Le.Workbook=Z,Le.SSF=Ri(Ut),Le.Props=B,Le.Custprops=V,Le}function jA(e,t){switch(_C(t=t||{}),t.type||"base64"){case"base64":return pE(fs(e),t);case"binary":case"buffer":case"file":return pE(e,t);case"array":return pE(Ff(e),t)}}function Lue(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Xne(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Zne(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var jue=[60,1084,2066,2165,2175];function Uue(e,t,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var c=Cl(r,r.l),u=UA[c],d=0;u!=null&&jue.indexOf(c)>-1;)a=Cl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+a),s.push(o),r.l+=4+a,u=UA[c=Cl(r,r.l)];var h=Mc(s);ki(h,0);var g=0;h.lens=[];for(var x=0;x<s.length;++x)h.lens.push(g),g+=s[x].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,i)}function Oo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ut[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Uf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Qp(e.v):e.w=vf(e.v):e.w=Ds(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&Oh(Ut[n]||String(n))){var i=Zu(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function $v(e,t,r){return{v:e,ixfe:t,t:r}}function Bue(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},s={},o=null,c=[],u="",d={},h,g="",x,_,w,T,C={},L=[],P,D,F=[],R=[],I={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},O=function(Et){return Et<8?of[Et]:Et<64&&R[Et-8]||of[Et]},B=function(Et,rr,Ht){var Vt=rr.XF.data;if(!(!Vt||!Vt.patternType||!Ht||!Ht.cellStyles)){rr.s={},rr.s.patternType=Vt.patternType;var br;(br=nm(O(Vt.icvFore)))&&(rr.s.fgColor={rgb:br}),(br=nm(O(Vt.icvBack)))&&(rr.s.bgColor={rgb:br})}},V=function(Et,rr,Ht){if(!(X>1)&&!(Ht.sheetRows&&Et.r>=Ht.sheetRows)){if(Ht.cellStyles&&rr.XF&&rr.XF.data&&B(Et,rr,Ht),delete rr.ixfe,delete rr.XF,h=Et,g=Rt(Et),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Et.r<s.s.r&&(s.s.r=Et.r),Et.c<s.s.c&&(s.s.c=Et.c),Et.r+1>s.e.r&&(s.e.r=Et.r+1),Et.c+1>s.e.c&&(s.e.c=Et.c+1),Ht.cellFormula&&rr.f){for(var Vt=0;Vt<L.length;++Vt)if(!(L[Vt][0].s.c>Et.c||L[Vt][0].s.r>Et.r)&&!(L[Vt][0].e.c<Et.c||L[Vt][0].e.r<Et.r)){rr.F=lr(L[Vt][0]),(L[Vt][0].s.c!=Et.c||L[Vt][0].s.r!=Et.r)&&delete rr.f,rr.f&&(rr.f=""+Vi(L[Vt][1],s,Et,ae,j));break}}Ht.dense?(i[Et.r]||(i[Et.r]=[]),i[Et.r][Et.c]=rr):i[g]=rr}},j={enc:!1,sbcch:0,snames:[],sharedf:C,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(j.password=t.password);var G,de=[],ge=[],ie=[],fe=[],ue=!1,ae=[];ae.SheetNames=j.snames,ae.sharedf=j.sharedf,ae.arrayf=j.arrayf,ae.names=[],ae.XTI=[];var _e=0,X=0,z=0,te=[],Z=[],K;j.codepage=1200,no(1200);for(var pe=!1;e.l<e.length-1;){var xe=e.l,ke=e.read_shift(2);if(ke===0&&_e===10)break;var le=e.l===e.length?0:e.read_shift(2),ve=UA[ke];if(ve&&ve.f){if(t.bookSheets&&_e===133&&ke!==133)break;if(_e=ke,ve.r===2||ve.r==12){var Fe=e.read_shift(2);if(le-=2,!j.enc&&Fe!==ke&&((Fe&255)<<8|Fe>>8)!==ke)throw new Error("rt mismatch: "+Fe+"!="+ke);ve.r==12&&(e.l+=10,le-=10)}var W={};if(ke===10?W=ve.f(e,le,j):W=Uue(ke,ve,e,le,j),X==0&&[9,521,1033,2057].indexOf(_e)===-1)continue;switch(ke){case 34:r.opts.Date1904=I.WBProps.date1904=W;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(j.enc||(e.l=0),j.enc=W,!t.password)throw new Error("File is password-protected");if(W.valid==null)throw new Error("Encryption scheme unsupported");if(!W.valid)throw new Error("Password is incorrect");break;case 92:j.lastuser=W;break;case 66:var Je=Number(W);switch(Je){case 21010:Je=1200;break;case 32768:Je=1e4;break;case 32769:Je=1252;break}no(j.codepage=Je),pe=!0;break;case 317:j.rrtabid=W;break;case 25:j.winlocked=W;break;case 439:r.opts.RefreshAll=W;break;case 12:r.opts.CalcCount=W;break;case 16:r.opts.CalcDelta=W;break;case 17:r.opts.CalcIter=W;break;case 13:r.opts.CalcMode=W;break;case 14:r.opts.CalcPrecision=W;break;case 95:r.opts.CalcSaveRecalc=W;break;case 15:j.CalcRefMode=W;break;case 2211:r.opts.FullCalc=W;break;case 129:W.fDialog&&(i["!type"]="dialog"),W.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),W.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:F.push(W);break;case 430:ae.push([W]),ae[ae.length-1].XTI=[];break;case 35:case 547:ae[ae.length-1].push(W);break;case 24:case 536:K={Name:W.Name,Ref:Vi(W.rgce,s,null,ae,j)},W.itab>0&&(K.Sheet=W.itab-1),ae.names.push(K),ae[0]||(ae[0]=[],ae[0].XTI=[]),ae[ae.length-1].push(W),W.Name=="_xlnm._FilterDatabase"&&W.itab>0&&W.rgce&&W.rgce[0]&&W.rgce[0][0]&&W.rgce[0][0][0]=="PtgArea3d"&&(Z[W.itab-1]={ref:lr(W.rgce[0][0][1][2])});break;case 22:j.ExternCount=W;break;case 23:ae.length==0&&(ae[0]=[],ae[0].XTI=[]),ae[ae.length-1].XTI=ae[ae.length-1].XTI.concat(W),ae.XTI=ae.XTI.concat(W);break;case 2196:if(j.biff<8)break;K!=null&&(K.Comment=W[1]);break;case 18:i["!protect"]=W;break;case 19:W!==0&&j.WTF&&console.error("Password verifier: "+W);break;case 133:a[W.pos]=W,j.snames.push(W.name);break;case 10:{if(--X)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=lr(s),t.sheetRows&&t.sheetRows<=s.e.r){var Be=s.e.r;s.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=lr(s),s.e.r=Be}s.e.r++,s.e.c++}de.length>0&&(i["!merges"]=de),ge.length>0&&(i["!objects"]=ge),ie.length>0&&(i["!cols"]=ie),fe.length>0&&(i["!rows"]=fe),I.Sheets.push(k)}u===""?d=i:n[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(j.biff===8&&(j.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[W.BIFFVer]||8),j.biffguess=W.BIFFVer==0,W.BIFFVer==0&&W.dt==4096&&(j.biff=5,pe=!0,no(j.codepage=28591)),j.biff==8&&W.BIFFVer==0&&W.dt==16&&(j.biff=2),X++)break;if(i=t.dense?[]:{},j.biff<8&&!pe&&(pe=!0,no(j.codepage=t.codepage||1252)),j.biff<5||W.BIFFVer==0&&W.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var We={pos:e.l-le,name:u};a[We.pos]=We,j.snames.push(u)}else u=(a[xe]||{name:""}).name;W.dt==32&&(i["!type"]="chart"),W.dt==64&&(i["!type"]="macro"),de=[],ge=[],j.arrayf=L=[],ie=[],fe=[],ue=!1,k={Hidden:(a[xe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[W.r]||[])[W.c]:i[Rt({c:W.c,r:W.r})])&&++W.c,P={ixfe:W.ixfe,XF:F[W.ixfe]||{},v:W.val,t:"n"},z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V({c:W.c,r:W.r},P,t);break;case 5:case 517:P={ixfe:W.ixfe,XF:F[W.ixfe],v:W.val,t:W.t},z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V({c:W.c,r:W.r},P,t);break;case 638:P={ixfe:W.ixfe,XF:F[W.ixfe],v:W.rknum,t:"n"},z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V({c:W.c,r:W.r},P,t);break;case 189:for(var $e=W.c;$e<=W.C;++$e){var Le=W.rkrec[$e-W.c][0];P={ixfe:Le,XF:F[Le],v:W.rkrec[$e-W.c][1],t:"n"},z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V({c:$e,r:W.r},P,t)}break;case 6:case 518:case 1030:{if(W.val=="String"){o=W;break}if(P=$v(W.val,W.cell.ixfe,W.tt),P.XF=F[P.ixfe],t.cellFormula){var Xe=W.formula;if(Xe&&Xe[0]&&Xe[0][0]&&Xe[0][0][0]=="PtgExp"){var tt=Xe[0][0][1][0],pt=Xe[0][0][1][1],kt=Rt({r:tt,c:pt});C[kt]?P.f=""+Vi(W.formula,s,W.cell,ae,j):P.F=((t.dense?(i[tt]||[])[pt]:i[kt])||{}).F}else P.f=""+Vi(W.formula,s,W.cell,ae,j)}z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V(W.cell,P,t),o=W}break;case 7:case 519:if(o)o.val=W,P=$v(W,o.cell.ixfe,"s"),P.XF=F[P.ixfe],t.cellFormula&&(P.f=""+Vi(o.formula,s,o.cell,ae,j)),z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V(o.cell,P,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(W);var qr=Rt(W[0].s);if(x=t.dense?(i[W[0].s.r]||[])[W[0].s.c]:i[qr],t.cellFormula&&x){if(!o||!qr||!x)break;x.f=""+Vi(W[1],s,W[0],ae,j),x.F=lr(W[0])}}break;case 1212:{if(!t.cellFormula)break;if(g){if(!o)break;C[Rt(o.cell)]=W[0],x=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[Rt(o.cell)],(x||{}).f=""+Vi(W[0],s,h,ae,j)}}break;case 253:P=$v(c[W.isst].t,W.ixfe,"s"),c[W.isst].h&&(P.h=c[W.isst].h),P.XF=F[P.ixfe],z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V({c:W.c,r:W.r},P,t);break;case 513:t.sheetStubs&&(P={ixfe:W.ixfe,XF:F[W.ixfe],t:"z"},z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V({c:W.c,r:W.r},P,t));break;case 190:if(t.sheetStubs)for(var Vr=W.c;Vr<=W.C;++Vr){var bt=W.ixfe[Vr-W.c];P={ixfe:bt,XF:F[bt],t:"z"},z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V({c:Vr,r:W.r},P,t)}break;case 214:case 516:case 4:P=$v(W.val,W.ixfe,"s"),P.XF=F[P.ixfe],z>0&&(P.z=te[P.ixfe>>8&63]),Oo(P,t,r.opts.Date1904),V({c:W.c,r:W.r},P,t);break;case 0:case 512:X===1&&(s=W);break;case 252:c=W;break;case 1054:if(j.biff==4){te[z++]=W[1];for(var _r=0;_r<z+163&&Ut[_r]!=W[1];++_r);_r>=163&&sf(W[1],z+163)}else sf(W[1],W[0]);break;case 30:{te[z++]=W;for(var Kt=0;Kt<z+163&&Ut[Kt]!=W;++Kt);Kt>=163&&sf(W,z+163)}break;case 229:de=de.concat(W);break;case 93:ge[W.cmo[0]]=j.lastobj=W;break;case 438:j.lastobj.TxO=W;break;case 127:j.lastobj.ImData=W;break;case 440:for(T=W[0].s.r;T<=W[0].e.r;++T)for(w=W[0].s.c;w<=W[0].e.c;++w)x=t.dense?(i[T]||[])[w]:i[Rt({c:w,r:T})],x&&(x.l=W[1]);break;case 2048:for(T=W[0].s.r;T<=W[0].e.r;++T)for(w=W[0].s.c;w<=W[0].e.c;++w)x=t.dense?(i[T]||[])[w]:i[Rt({c:w,r:T})],x&&x.l&&(x.l.Tooltip=W[1]);break;case 28:{if(j.biff<=5&&j.biff>=2)break;x=t.dense?(i[W[0].r]||[])[W[0].c]:i[Rt(W[0])];var Tr=ge[W[2]];x||(t.dense?(i[W[0].r]||(i[W[0].r]=[]),x=i[W[0].r][W[0].c]={t:"z"}):x=i[Rt(W[0])]={t:"z"},s.e.r=Math.max(s.e.r,W[0].r),s.s.r=Math.min(s.s.r,W[0].r),s.e.c=Math.max(s.e.c,W[0].c),s.s.c=Math.min(s.s.c,W[0].c)),x.c||(x.c=[]),_={a:W[1],t:Tr.TxO.t},x.c.push(_)}break;case 2173:loe(F[W.ixfe],W.ext);break;case 125:{if(!j.cellStyles)break;for(;W.e>=W.s;)ie[W.e--]={width:W.w/256,level:W.level||0,hidden:!!(W.flags&1)},ue||(ue=!0,mC(W.w/256)),ph(ie[W.e+1])}break;case 520:{var dt={};W.level!=null&&(fe[W.r]=dt,dt.level=W.level),W.hidden&&(fe[W.r]=dt,dt.hidden=!0),W.hpt&&(fe[W.r]=dt,dt.hpt=W.hpt,dt.hpx=im(W.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Mp(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=W;break;case 161:i["!margins"]||Mp(i["!margins"]={}),i["!margins"].header=W.header,i["!margins"].footer=W.footer;break;case 574:W.RTL&&(I.Views[0].RTL=!0);break;case 146:R=W;break;case 2198:G=W;break;case 140:D=W;break;case 442:u?k.CodeName=W||k.name:I.WBProps.CodeName=W||"ThisWorkbook";break}}else ve||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),e.l+=le}return r.SheetNames=Wo(a).sort(function(Mt,Et){return Number(Mt)-Number(Et)}).map(function(Mt){return a[Mt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&Z.forEach(function(Mt,Et){r.Sheets[r.SheetNames[Et]]["!autofilter"]=Mt}),r.Strings=c,r.SSF=Ri(Ut),j.enc&&(r.Encryption=j.enc),G&&(r.Themes=G),r.Metadata={},D!==void 0&&(r.Metadata.Country=D),ae.names.length>0&&(I.Names=ae.names),r.Workbook=I,r}var SM={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Vue(e,t,r){var n=or.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=cM(n,iie,SM.DSI);for(var a in i)t[a]=i[a]}catch(u){if(r.WTF)throw u}var s=or.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=cM(s,aie,SM.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(M9(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function vB(e,t){t||(t={}),_C(t),qU(),t.codepage&&Z2(t.codepage);var r,n;if(e.FullPaths){if(or.find(e,"/encryption"))throw new Error("File is password-protected");r=or.find(e,"!CompObj"),n=or.find(e,"/Workbook")||or.find(e,"/Book")}else{switch(t.type){case"base64":e=Zs(fs(e));break;case"binary":e=Zs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ki(e,0),n={content:e}}var i,a;if(r&&Lue(r),t.bookProps&&!t.bookSheets)i={};else{var s=tr?"buffer":"array";if(n&&n.content)i=Bue(n.content,t);else if((a=or.find(e,"PerfectOffice_MAIN"))&&a.content)i=Rp.to_workbook(a.content,(t.type=s,t));else if((a=or.find(e,"NativeContent_MAIN"))&&a.content)i=Rp.to_workbook(a.content,(t.type=s,t));else throw(a=or.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&or.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Soe(e))}var o={};return e.FullPaths&&Vue(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}var px={0:{f:wce},1:{f:Sce},2:{f:Dce},3:{f:kce},4:{f:Nce},5:{f:Mce},6:{f:jce},7:{f:Rce},8:{f:$ce},9:{f:zce},10:{f:Bce},11:{f:Vce},12:{f:Cce},13:{f:Fce},14:{f:Pce},15:{f:Ice},16:{f:dB},17:{f:Uce},18:{f:Oce},19:{f:cC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:gue},40:{},42:{},43:{f:Bse},44:{f:Use},45:{f:Vse},46:{f:$se},47:{f:zse},48:{},49:{f:Hne},50:{},51:{f:uoe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:q9},62:{f:Lce},63:{f:moe},64:{f:Zce},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ji,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Xce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ace},148:{f:Ece,p:16},151:{f:qce},152:{},153:{f:pue},154:{},155:{},156:{f:hue},157:{},158:{},159:{T:1,f:ase},160:{T:-1},161:{T:1,f:jf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Hce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:coe},336:{T:-1},337:{f:foe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:MA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:G9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Kce},427:{f:Wce},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Jce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Tce},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:MA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Eoe},633:{T:1},634:{T:-1},635:{T:1,f:woe},636:{T:-1},637:{f:qne},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:iue},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Qce},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},UA={6:{f:dE},10:{f:Ic},12:{f:Vn},13:{f:Vn},14:{f:Cn},15:{f:Cn},16:{f:Hi},17:{f:Cn},18:{f:Cn},19:{f:Vn},20:{f:hM},21:{f:hM},23:{f:G9},24:{f:mM},25:{f:Cn},26:{},27:{},28:{f:_ae},29:{},34:{f:Cn},35:{f:pM},38:{f:Hi},39:{f:Hi},40:{f:Hi},41:{f:Hi},42:{f:Cn},43:{f:Cn},47:{f:Tse},49:{f:tae},51:{f:Vn},60:{},61:{f:Zie},64:{f:Cn},65:{f:eae},66:{f:Vn},77:{},80:{},81:{},82:{},85:{f:Vn},89:{},90:{},91:{},92:{f:Hie},93:{f:wae},94:{},95:{f:Cn},96:{},97:{},99:{f:Cn},125:{f:q9},128:{f:fae},129:{f:Gie},130:{f:Vn},131:{f:Cn},132:{f:Cn},133:{f:qie},134:{},140:{f:Nae},141:{f:Vn},144:{},146:{f:kae},151:{},152:{},153:{},154:{},155:{},156:{f:Vn},157:{},158:{},160:{f:Dae},161:{f:Rae},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:oae},190:{f:lae},193:{f:Ic},197:{},198:{},199:{},200:{},201:{},202:{f:Cn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Vn},220:{},221:{f:Cn},222:{},224:{f:uae},225:{f:$ie},226:{f:Ic},227:{},229:{f:bae},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Kie},253:{f:rae},255:{f:Wie},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:U9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Cn},353:{f:Ic},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:hae},431:{f:Cn},432:{},433:{},434:{},437:{},438:{f:Aae},439:{f:Cn},440:{f:Sae},441:{},442:{f:Lm},443:{},444:{f:Vn},445:{},446:{},448:{f:Ic},449:{f:Xie,r:2},450:{f:Ic},512:{f:fM},513:{f:Mae},515:{f:dae},516:{f:nae},517:{f:dM},519:{f:Fae},520:{f:Yie},523:{},545:{f:gM},549:{f:uM},566:{},574:{f:Qie},638:{f:sae},659:{},1048:{},1054:{f:iae},1084:{},1212:{f:vae},2048:{f:Cae},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Bv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ic},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Pae,r:12},2173:{f:ooe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Cn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:gae,r:12},2197:{},2198:{f:toe,r:12},2199:{},2200:{},2201:{},2202:{f:yae,r:12},2203:{f:Ic},2204:{},2205:{},2206:{},2207:{},2211:{f:Jie},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Vn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Oae},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Iae},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:fM},1:{},2:{f:Bae},3:{f:Uae},4:{f:jae},5:{f:dM},7:{f:Vae},8:{},9:{f:Bv},11:{},22:{f:Vn},30:{f:aae},31:{},32:{},33:{f:gM},36:{},37:{f:uM},50:{f:zae},62:{},52:{},67:{},68:{f:Vn},69:{},86:{},126:{},127:{f:Lae},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:$ae},223:{},234:{},354:{},421:{},518:{f:dE},521:{f:Bv},536:{f:mM},547:{f:pM},561:{},579:{},1030:{f:dE},1033:{f:Bv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xs(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&S9(r)&&e.push(r)}}function CM(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),s=i.index,o=a&&a.index||e.length,c=dne(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,h=0,g=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(s=0;s<c.length;++s){var w=c[s].trim(),T=w.slice(0,3).toLowerCase();if(T=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(T!="<td"&&T!="<th")){var C=w.split(/<\/t[dh]>/i);for(o=0;o<C.length;++o){var L=C[o].trim();if(L.match(/<t[dh]/i)){for(var P=L,D=0;P.charAt(0)=="<"&&(D=P.indexOf(">"))>-1;)P=P.slice(D+1);for(var F=0;F<_.length;++F){var R=_[F];R.s.c==d&&R.s.r<u&&u<=R.e.r&&(d=R.e.c+1,F=-1)}var I=St(L.slice(0,L.indexOf(">")));g=I.colspan?+I.colspan:1,((h=+I.rowspan)>1||g>1)&&_.push({s:{r:u,c:d},e:{r:u+(h||1)-1,c:d+g-1}});var k=I.t||I["data-t"]||"";if(!P.length){d+=g;continue}if(P=h9(P),x.s.r>u&&(x.s.r=u),x.e.r<u&&(x.e.r=u),x.s.c>d&&(x.s.c=d),x.e.c<d&&(x.e.c=d),!P.length){d+=g;continue}var O={t:"s",v:P};r.raw||!P.trim().length||k=="s"||(P==="TRUE"?O={t:"b",v:!0}:P==="FALSE"?O={t:"b",v:!1}:isNaN(so(P))?isNaN(hh(P).getDate())||(O={t:"d",v:mi(P)},r.cellDates||(O={t:"n",v:pa(O.v)}),O.z=r.dateNF||Ut[14]):O={t:"n",v:so(P)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=O):n[Rt({r:u,c:d})]=O,d+=g}}}}return n["!ref"]=lr(x),_.length&&(n["!merges"]=_),n}function zue(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=Rt({r,c:s}),h=n.dense?(e[r]||[])[s]:e[d],g=h&&h.v!=null&&(h.h||iC(h.w||(Dl(h),h.w)||""))||"",x={};o>1&&(x.rowspan=o),c>1&&(x.colspan=c),n.editable?g='<span contenteditable="true">'+g+"</span>":h&&(x["data-t"]=h&&h.t||"z",h.v!=null&&(x["data-v"]=h.v),h.z!=null&&(x["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+d,a.push(Nne("td",g,x))}}var _="<tr>";return _+a.join("")+"</tr>"}var $ue='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Hue="</body></html>";function Gue(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return hu(CM(r[0],t),t);var n=wC();return r.forEach(function(i,a){EC(n,CM(i,t),"Sheet"+(a+1))}),n}function que(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Kue(e,t){var r=t||{},n=r.header!=null?r.header:$ue,i=r.footer!=null?r.footer:Hue,a=[n],s=Mh(e["!ref"]);r.dense=Array.isArray(e),a.push(que(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(zue(e,s,o,r));return a.push("</table>"+i),a.join("")}function yB(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?fa(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var d=Mh(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var h=[],g=0,x=e["!rows"]||(e["!rows"]=[]),_=0,w=0,T=0,C=0,L=0,P=0;for(e["!cols"]||(e["!cols"]=[]);_<o.length&&w<c;++_){var D=o[_];if(NM(D)){if(n.display)continue;x[w]={hidden:!0}}var F=D.children;for(T=C=0;T<F.length;++T){var R=F[T];if(!(n.display&&NM(R))){var I=R.hasAttribute("data-v")?R.getAttribute("data-v"):R.hasAttribute("v")?R.getAttribute("v"):h9(R.innerHTML),k=R.getAttribute("data-z")||R.getAttribute("z");for(g=0;g<h.length;++g){var O=h[g];O.s.c==C+a&&O.s.r<w+i&&w+i<=O.e.r&&(C=O.e.c+1-a,g=-1)}P=+R.getAttribute("colspan")||1,((L=+R.getAttribute("rowspan")||1)>1||P>1)&&h.push({s:{r:w+i,c:C+a},e:{r:w+i+(L||1)-1,c:C+a+(P||1)-1}});var B={t:"s",v:I},V=R.getAttribute("data-t")||R.getAttribute("t")||"";I!=null&&(I.length==0?B.t=V||"z":n.raw||I.trim().length==0||V=="s"||(I==="TRUE"?B={t:"b",v:!0}:I==="FALSE"?B={t:"b",v:!1}:isNaN(so(I))?isNaN(hh(I).getDate())||(B={t:"d",v:mi(I)},n.cellDates||(B={t:"n",v:pa(B.v)}),B.z=n.dateNF||Ut[14]):B={t:"n",v:so(I)})),B.z===void 0&&k!=null&&(B.z=k);var j="",G=R.getElementsByTagName("A");if(G&&G.length)for(var de=0;de<G.length&&!(G[de].hasAttribute("href")&&(j=G[de].getAttribute("href"),j.charAt(0)!="#"));++de);j&&j.charAt(0)!="#"&&(B.l={Target:j}),n.dense?(e[w+i]||(e[w+i]=[]),e[w+i][C+a]=B):e[Rt({c:C+a,r:w+i})]=B,u.e.c<C+a&&(u.e.c=C+a),C+=P}}++w}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,w-1+i),e["!ref"]=lr(u),w>=c&&(e["!fullref"]=lr((u.e.r=o.length-_+w-1+i,u))),e}function xB(e,t){var r=t||{},n=r.dense?[]:{};return yB(n,e,t)}function Wue(e,t){return hu(xB(e,t),t)}function NM(e){var t="",r=Yue(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Yue(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Jue(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=cr(t.replace(/<[^>]*>/g,""));return[r]}var IM={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function _B(e,t){var r=t||{},n=aC(e),i=[],a,s,o={name:""},c="",u=0,d,h,g={},x=[],_=r.dense?[]:{},w,T,C={value:""},L="",P=0,D=[],F=-1,R=-1,I={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,O={},B=[],V={},j=0,G=0,de=[],ge=1,ie=1,fe=[],ue={Names:[]},ae={},_e=["",""],X=[],z={},te="",Z=0,K=!1,pe=!1,xe=0;for(tm.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=tm.exec(n);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"":w[1]==="/"?(I.e.c>=I.s.c&&I.e.r>=I.s.r?_["!ref"]=lr(I):_["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=I.e.r&&(_["!fullref"]=_["!ref"],I.e.r=r.sheetRows-1,_["!ref"]=lr(I)),B.length&&(_["!merges"]=B),de.length&&(_["!rows"]=de),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),x.push(d.name),g[d.name]=_,pe=!1):w[0].charAt(w[0].length-2)!=="/"&&(d=St(w[0],!1),F=R=-1,I.s.r=I.s.c=1e7,I.e.r=I.e.c=0,_=r.dense?[]:{},B=[],de=[],pe=!0);break;case"table-row-group":w[1]==="/"?--k:++k;break;case"table-row":case"":if(w[1]==="/"){F+=ge,ge=1;break}if(h=St(w[0],!1),h.?F=h.-1:F==-1&&(F=0),ge=+h["number-rows-repeated"]||1,ge<10)for(xe=0;xe<ge;++xe)k>0&&(de[F+xe]={level:k});R=-1;break;case"covered-table-cell":w[1]!=="/"&&++R,r.sheetStubs&&(r.dense?(_[F]||(_[F]=[]),_[F][R]={t:"z"}):_[Rt({r:F,c:R})]={t:"z"}),L="",D=[];break;case"table-cell":case"":if(w[0].charAt(w[0].length-2)==="/")++R,C=St(w[0],!1),ie=parseInt(C["number-columns-repeated"]||"1",10),T={t:"z",v:null},C.formula&&r.cellFormula!=!1&&(T.f=EM(cr(C.formula))),(C.||C["value-type"])=="string"&&(T.t="s",T.v=cr(C["string-value"]||""),r.dense?(_[F]||(_[F]=[]),_[F][R]=T):_[Rt({r:F,c:R})]=T),R+=ie-1;else if(w[1]!=="/"){++R,L="",P=0,D=[],ie=1;var ke=ge?F+ge-1:F;if(R>I.e.c&&(I.e.c=R),R<I.s.c&&(I.s.c=R),F<I.s.r&&(I.s.r=F),ke>I.e.r&&(I.e.r=ke),C=St(w[0],!1),X=[],z={},T={t:C.||C["value-type"],v:null},r.cellFormula)if(C.formula&&(C.formula=cr(C.formula)),C["number-matrix-columns-spanned"]&&C["number-matrix-rows-spanned"]&&(j=parseInt(C["number-matrix-rows-spanned"],10)||0,G=parseInt(C["number-matrix-columns-spanned"],10)||0,V={s:{r:F,c:R},e:{r:F+j-1,c:R+G-1}},T.F=lr(V),fe.push([V,T.F])),C.formula)T.f=EM(C.formula);else for(xe=0;xe<fe.length;++xe)F>=fe[xe][0].s.r&&F<=fe[xe][0].e.r&&R>=fe[xe][0].s.c&&R<=fe[xe][0].e.c&&(T.F=fe[xe][1]);switch((C["number-columns-spanned"]||C["number-rows-spanned"])&&(j=parseInt(C["number-rows-spanned"],10)||0,G=parseInt(C["number-columns-spanned"],10)||0,V={s:{r:F,c:R},e:{r:F+j-1,c:R+G-1}},B.push(V)),C["number-columns-repeated"]&&(ie=parseInt(C["number-columns-repeated"],10)),T.t){case"boolean":T.t="b",T.v=rn(C["boolean-value"]);break;case"float":T.t="n",T.v=parseFloat(C.value);break;case"percentage":T.t="n",T.v=parseFloat(C.value);break;case"currency":T.t="n",T.v=parseFloat(C.value);break;case"date":T.t="d",T.v=mi(C["date-value"]),r.cellDates||(T.t="n",T.v=pa(T.v)),T.z="m/d/yy";break;case"time":T.t="n",T.v=cne(C["time-value"])/86400,r.cellDates&&(T.t="d",T.v=j1(T.v)),T.z="HH:MM:SS";break;case"number":T.t="n",T.v=parseFloat(C.);break;default:if(T.t==="string"||T.t==="text"||!T.t)T.t="s",C["string-value"]!=null&&(L=cr(C["string-value"]),D=[]);else throw new Error("Unsupported value type "+T.t)}}else{if(K=!1,T.t==="s"&&(T.v=L||"",D.length&&(T.R=D),K=P==0),ae.Target&&(T.l=ae),X.length>0&&(T.c=X,X=[]),L&&r.cellText!==!1&&(T.w=L),K&&(T.t="z",delete T.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=F))for(var le=0;le<ge;++le){if(ie=parseInt(C["number-columns-repeated"]||"1",10),r.dense)for(_[F+le]||(_[F+le]=[]),_[F+le][R]=le==0?T:Ri(T);--ie>0;)_[F+le][R+ie]=Ri(T);else for(_[Rt({r:F+le,c:R})]=T;--ie>0;)_[Rt({r:F+le,c:R+ie})]=Ri(T);I.e.c<=R&&(I.e.c=R)}ie=parseInt(C["number-columns-repeated"]||"1",10),R+=ie-1,ie=0,T={},L="",D=[]}ae={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((a=i.pop())[0]!==w[3])throw"Bad state: "+a}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((a=i.pop())[0]!==w[3])throw"Bad state: "+a;z.t=L,D.length&&(z.R=D),z.a=te,X.push(z)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);te="",Z=0,L="",P=0,D=[];break;case"creator":w[1]==="/"?te=n.slice(Z,w.index):Z=w.index+w[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((a=i.pop())[0]!==w[3])throw"Bad state: "+a}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);L="",P=0,D=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(O[o.name]=c,(a=i.pop())[0]!==w[3])throw"Bad state: "+a}else w[0].charAt(w[0].length-2)!=="/"&&(c="",o=St(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=St(w[0],!1),c+=IM[w[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=St(w[0],!1),c+=IM[w[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,w.index);break}else u=w.index+w[0].length;break;case"named-range":s=St(w[0],!1),_e=hE(s["cell-range-address"]);var ve={Name:s.name,Ref:_e[0]+"!"+_e[1]};pe&&(ve.Sheet=x.length),ue.Names.push(ve);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!C||!C["string-value"])){var Fe=Jue(n.slice(P,w.index));L=(L.length>0?L+`
`:"")+Fe[0]}else St(w[0],!1),P=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{_e=hE(St(w[0])["target-range-address"]),g[_e[0]]["!autofilter"]={ref:_e[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(ae=St(w[0],!1),!ae.href)break;ae.Target=cr(ae.href),delete ae.href,ae.Target.charAt(0)=="#"&&ae.Target.indexOf(".")>-1?(_e=hE(ae.Target.slice(1)),ae.Target="#"+_e[0]+"!"+_e[1]):ae.Target.match(/^\.\.[\\\/]/)&&(ae.Target=ae.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(w)}}var W={Sheets:g,SheetNames:x,Workbook:ue};return r.bookSheets&&delete W.Sheets,W}function kM(e,t){t=t||{},ks(e,"META-INF/manifest.xml")&&die(Bn(e,"META-INF/manifest.xml"),t);var r=is(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=_B(Hr(r),t);return ks(e,"meta.xml")&&(n.Props=O9(Bn(e,"meta.xml"))),n}function PM(e,t){return _B(e,t)}function yC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function BA(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Hr(Ff(e))}function VA(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function RM(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Xue(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function am(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Zn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Gi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=am(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=am(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function xC(e,t){return e?.map(function(r){return t(r.data)})||[]}function Zue(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=am(e,n),a=Gi(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:Zn(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=Gi(o.data),u=Zn(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=Zn(a[3][0].data)>>>0>0),r.push(s)}return r}function Que(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=am(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[VA(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=VA(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function efe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Que(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return VA(t)}function tfe(e,t,r,n){var i=yC(e),a=i.getUint32(4,!0),s=(n>1?12:8)+RM(a&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=RM(a&(n>1?12288:4096))*4,a&16&&(c=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(d.setTime(d.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(u))h={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function rfe(e,t,r){var n=yC(e),i=n.getUint32(8,!0),a=12,s=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(c=Xue(e,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(d.setTime(d.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[o]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(s>-1)h={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return h}function nfe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return tfe(e,t,r,e[0]);case 5:return rfe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Hc(e){var t=Gi(e);return am(t[1][0].data)}function OM(e,t){var r=Gi(t.data),n=Zn(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=Gi(s.data),c=Zn(o[1][0].data)>>>0;switch(n){case 1:a[c]=BA(o[3][0].data);break;case 8:{var u=e[Hc(o[9][0].data)][0],d=Gi(u.data),h=e[Hc(d[1][0].data)][0],g=Zn(h.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var x=Gi(h.data);a[c]=x[3].map(function(_){return BA(_.data)}).join("")}break}}),a}function ife(e,t){var r,n,i,a,s,o,c,u,d,h,g,x,_,w,T=Gi(e),C=Zn(T[1][0].data)>>>0,L=Zn(T[2][0].data)>>>0,P=((n=(r=T[8])==null?void 0:r[0])==null?void 0:n.data)&&Zn(T[8][0].data)>0||!1,D,F;if((a=(i=T[7])==null?void 0:i[0])!=null&&a.data&&t!=0)D=(o=(s=T[7])==null?void 0:s[0])==null?void 0:o.data,F=(u=(c=T[6])==null?void 0:c[0])==null?void 0:u.data;else if((h=(d=T[4])==null?void 0:d[0])!=null&&h.data&&t!=1)D=(x=(g=T[4])==null?void 0:g[0])==null?void 0:x.data,F=(w=(_=T[3])==null?void 0:_[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var R=P?4:1,I=yC(D),k=[],O=0;O<D.length/2;++O){var B=I.getUint16(O*2,!0);B<65535&&k.push([O,B])}if(k.length!=L)throw"Expected ".concat(L," cells, found ").concat(k.length);var V=[];for(O=0;O<k.length-1;++O)V[k[O][0]]=F.subarray(k[O][1]*R,k[O+1][1]*R);return k.length>=1&&(V[k[k.length-1][0]]=F.subarray(k[k.length-1][1]*R)),{R:C,cells:V}}function afe(e,t){var r,n=Gi(t.data),i=(r=n?.[7])!=null&&r[0]?Zn(n[7][0].data)>>>0>0?1:0:-1,a=xC(n[5],function(s){return ife(s,i)});return{nrows:Zn(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function sfe(e,t,r){var n,i=Gi(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Zn(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Zn(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=lr(a);var s=Gi(i[4][0].data),o=OM(e,e[Hc(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?OM(e,e[Hc(s[17][0].data)][0]):[],u=Gi(s[3][0].data),d=0;u[1].forEach(function(h){var g=Gi(h.data),x=e[Hc(g[2][0].data)][0],_=Zn(x.meta[1][0].data);if(_!=6002)throw new Error("6001 unexpected reference to ".concat(_));var w=afe(e,x);w.data.forEach(function(T,C){T.forEach(function(L,P){var D=Rt({r:d+C,c:P}),F=nfe(L,o,c);F&&(r[D]=F)})}),d+=w.nrows})}function ofe(e,t){var r=Gi(t.data),n={"!ref":"A1"},i=e[Hc(r[2][0].data)],a=Zn(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return sfe(e,i[0],n),n}function lfe(e,t){var r,n=Gi(t.data),i={name:(r=n[1])!=null&&r[0]?BA(n[1][0].data):"",sheets:[]},a=xC(n[2],Hc);return a.forEach(function(s){e[s].forEach(function(o){var c=Zn(o.meta[1][0].data);c==6e3&&i.sheets.push(ofe(e,o))})}),i}function cfe(e,t){var r=wC(),n=Gi(t.data),i=xC(n[1],Hc);if(i.forEach(function(a){e[a].forEach(function(s){var o=Zn(s.meta[1][0].data);if(o==2){var c=lfe(e,s);c.sheets.forEach(function(u,d){EC(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function mE(e){var t,r,n,i,a={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=efe(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var d;try{d=Zue(u)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){a[h.id]=h.messages,s.push(h.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(t=a?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Zn(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(c){a[c].forEach(function(u){var d=Zn(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return cfe(a,o)}function ufe(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function _C(e){ufe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function ffe(e){return Hd.WS.indexOf(e)>-1?"sheet":e==Hd.CS?"chart":e==Hd.DS?"dialog":e==Hd.MS?"macro":e&&e.length?e:"sheet"}function dfe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,ffe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function hfe(e,t,r,n,i,a,s,o,c,u,d,h){try{a[n]=kp(is(e,r,!0),t);var g=Bn(e,t),x;switch(o){case"sheet":x=xue(g,t,i,c,a[n],u,d,h);break;case"chart":if(x=_ue(g,t,i,c,a[n],u,d,h),!x||!x["!drawel"])break;var _=hp(x["!drawel"].Target,t),w=DA(_),T=yoe(is(e,_,!0),kp(is(e,w,!0),_)),C=hp(T,_),L=DA(C);x=rue(is(e,C,!0),C,c,kp(is(e,L,!0),C),u,x);break;case"macro":x=bue(g,t,i,c,a[n],u,d,h);break;case"dialog":x=wue(g,t,i,c,a[n],u,d,h);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=x;var P=[];a&&a[n]&&Wo(a[n]).forEach(function(D){var F="";if(a[n][D].Type==Hd.CMNT){F=hp(a[n][D].Target,t);var R=Sue(Bn(e,F,!0),F,c);if(!R||!R.length)return;yM(x,R,!1)}a[n][D].Type==Hd.TCMNT&&(F=hp(a[n][D].Target,t),P=P.concat(_oe(Bn(e,F,!0),c)))}),P&&P.length&&yM(x,P,!0,c.people||[])}catch(D){if(c.WTF)throw D}}function Ts(e){return e.charAt(0)=="/"?e.slice(1):e}function pfe(e,t){if(i9(),t=t||{},_C(t),ks(e,"META-INF/manifest.xml")||ks(e,"objectdata.xml"))return kM(e,t);if(ks(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof mE<"u"){if(e.FileIndex)return mE(e);var r=or.utils.cfb_new();return G4(e).forEach(function(de){mne(r,de,pne(e,de))}),mE(r)}throw new Error("Unsupported NUMBERS file")}if(!ks(e,"[Content_Types].xml"))throw ks(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ks(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=G4(e),i=uie(is(e,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Bn(e,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Bn(e,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Op=[],i.sst)try{Op=Aue(Bn(e,Ts(i.sst)),i.sst,t)}catch(de){if(t.WTF)throw de}t.cellStyles&&i.themes.length&&(c=Tue(is(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=Eue(Bn(e,Ts(i.style)),i.style,c,t))}i.links.map(function(de){try{var ge=kp(is(e,DA(Ts(de))),de);return Nue(Bn(e,Ts(de)),ge,de,t)}catch{}});var d=yue(Bn(e,Ts(i.workbooks[0])),i.workbooks[0],t),h={},g="";i.coreprops.length&&(g=Bn(e,Ts(i.coreprops[0]),!0),g&&(h=O9(g)),i.extprops.length!==0&&(g=Bn(e,Ts(i.extprops[0]),!0),g&&mie(g,h,t)));var x={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(g=is(e,Ts(i.custprops[0]),!0),g&&(x=vie(g,t)));var _={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(ge){return ge.name}):h.Worksheets&&h.SheetNames.length>0&&(s=h.SheetNames),t.bookProps&&(_.Props=h,_.Custprops=x),t.bookSheets&&typeof s<"u"&&(_.SheetNames=s),t.bookSheets?_.SheetNames:t.bookProps))return _;s={};var w={};t.bookDeps&&i.calcchain&&(w=Cue(Bn(e,Ts(i.calcchain)),i.calcchain));var T=0,C={},L,P;{var D=d.Sheets;h.Worksheets=D.length,h.SheetNames=[];for(var F=0;F!=D.length;++F)h.SheetNames[F]=D[F].name}var R=a?"bin":"xml",I=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,I+1)+"_rels/"+i.workbooks[0].slice(I+1)+".rels").replace(/^\//,"");ks(e,k)||(k="xl/_rels/workbook."+R+".rels");var O=kp(is(e,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=Iue(Bn(e,Ts(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=boe(Bn(e,Ts(i.people[0])),t)),O&&(O=dfe(O,d.Sheets));var B=Bn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(T=0;T!=h.Worksheets;++T){var V="sheet";if(O&&O[T]?(L="xl/"+O[T][1].replace(/[\/]?xl\//,""),ks(e,L)||(L=O[T][1]),ks(e,L)||(L=k.replace(/_rels\/.*$/,"")+O[T][1]),V=O[T][2]):(L="xl/worksheets/sheet"+(T+1-B)+"."+R,L=L.replace(/sheet0\./,"sheet.")),P=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(T!=t.sheets)continue e;break;case"string":if(h.SheetNames[T].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var j=!1,G=0;G!=t.sheets.length;++G)typeof t.sheets[G]=="number"&&t.sheets[G]==T&&(j=1),typeof t.sheets[G]=="string"&&t.sheets[G].toLowerCase()==h.SheetNames[T].toLowerCase()&&(j=1);if(!j)continue e}}hfe(e,L,P,h.SheetNames[T],T,C,s,V,t,d,c,u)}return _={Directory:i,Workbook:d,Props:h,Custprops:x,Deps:w,Sheets:s,SheetNames:h.SheetNames,Strings:Op,Styles:u,Themes:c,SSF:Ri(Ut)},t&&t.bookFiles&&(e.files?(_.keys=n,_.files=e.files):(_.keys=[],_.files={},e.FullPaths.forEach(function(de,ge){de=de.replace(/^Root Entry[\/]/,""),_.keys.push(de),_.files[de]=e.FileIndex[ge]}))),t&&t.bookVBA&&(i.vba.length>0?_.vbaraw=Bn(e,Ts(i.vba[0]),!0):i.defaults&&i.defaults.bin===Aoe&&(_.vbaraw=Bn(e,"xl/vbaProject.bin",!0))),_}function mfe(e,t){var r=t||{},n="Workbook",i=or.find(e,n);try{if(n="/!DataSpaces/Version",i=or.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(ose(i.content),n="/!DataSpaces/DataSpaceMap",i=or.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=cse(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=or.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=use(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=or.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);dse(i.content)}catch{}if(n="/EncryptionInfo",i=or.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=hse(i.content);if(n="/EncryptedPackage",i=or.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function bC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=fs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function gfe(e,t){return or.find(e,"EncryptedPackage")?mfe(e,t):vB(e,t)}function vfe(e,t){var r,n=e,i=t||{};return i.type||(i.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),r=u9(n,i),pfe(r,i)}function bB(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return jA(e.slice(r),t);default:break e}return rm.to_workbook(e,t)}function yfe(e,t){var r="",n=bC(e,t);switch(t.type){case"base64":r=fs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=yf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Hr(r)),t.type="binary",bB(r,t)}function xfe(e,t){var r=e;return t.type=="base64"&&(r=fs(r)),r=Zp.utils.decode(1200,r.slice(2),"str"),t.type="binary",bB(r,t)}function _fe(e){return e.match(/[^\x00-\x7F]/)?pp(e):e}function gE(e,t,r,n){return n?(r.type="string",rm.to_workbook(e,r)):rm.to_workbook(t,r)}function mx(e,t){qU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return mx(new Uint8Array(e),(r=Ri(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),th={},r.dateNF&&(th.dateNF=r.dateNF),r.type||(r.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=tr?"buffer":"binary",n=one(e),typeof Uint8Array<"u"&&!tr&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=_fe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Ri(r),r.type="array",mx(Q2(n),r)}switch((i=bC(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return gfe(or.read(n,r),r);break;case 9:if(i[1]<=8)return vB(n,r);break;case 60:return jA(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Wae(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return qae.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?vfe(n,r):gE(e,n,r,a);case 239:return i[3]===60?jA(n,r):gE(e,n,r,a);case 255:if(i[1]===254)return xfe(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Rp.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Rp.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return vM.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Ase.to_workbook(n,r);break;case 10:case 13:case 32:return yfe(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Hae.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?vM.to_workbook(n,r):gE(e,n,r,a)}function bfe(e,t,r,n,i,a,s,o){var c=Oi(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!s||e[r])for(var x=t.s.c;x<=t.e.c;++x){var _=s?e[r][x]:e[n[x]+c];if(_===void 0||_.t===void 0){if(u===void 0)continue;a[x]!=null&&(g[a[x]]=u);continue}var w=_.v;switch(_.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(a[x]!=null){if(w==null)if(_.t=="e"&&w===null)g[a[x]]=null;else if(u!==void 0)g[a[x]]=u;else if(d&&w===null)g[a[x]]=null;else continue;else g[a[x]]=d&&(_.t!=="n"||_.t==="n"&&o.rawNumbers!==!1)?w:Dl(_,w,o);w!=null&&(h=!1)}}return{row:g,isempty:h}}function zA(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=xn(d);break;case"number":c=xn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(i=0);var h=Oi(c.s.r),g=[],x=[],_=0,w=0,T=Array.isArray(e),C=c.s.r,L=0,P={};T&&!e[C]&&(e[C]=[]);var D=u.skipHidden&&e["!cols"]||[],F=u.skipHidden&&e["!rows"]||[];for(L=c.s.c;L<=c.e.c;++L)if(!(D[L]||{}).hidden)switch(g[L]=Xn(L),r=T?e[C][L]:e[g[L]+h],n){case 1:a[L]=L-c.s.c;break;case 2:a[L]=g[L];break;case 3:a[L]=u.header[L-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Dl(r,null,u),w=P[s]||0,!w)P[s]=1;else{do o=s+"_"+w++;while(P[o]);P[s]=w,P[o]=1}a[L]=o}for(C=c.s.r+i;C<=c.e.r;++C)if(!(F[C]||{}).hidden){var R=bfe(e,c,C,g,n,a,T,u);(R.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(x[_++]=R.row)}return x.length=_,x}var MM=/"/g;function wfe(e,t,r,n,i,a,s,o){for(var c=!0,u=[],d="",h=Oi(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=o.dense?(e[r]||[])[g]:e[n[g]+h];if(x==null)d="";else if(x.v!=null){c=!1,d=""+(o.rawNumbers&&x.t=="n"?x.v:Dl(x,null,o));for(var _=0,w=0;_!==d.length;++_)if((w=d.charCodeAt(_))===i||w===a||w===34||o.forceQuotes){d='"'+d.replace(MM,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(c=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(MM,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function wB(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=xn(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",h=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(g[_]||{}).hidden||(h[_]=Xn(_));for(var w=0,T=i.s.r;T<=i.e.r;++T)(x[T]||{}).hidden||(d=wfe(e,i,T,h,s,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((w++?o:"")+d)));return delete n.dense,r.join("")}function Efe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=wB(e,t);return r}function Tfe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=xn(e["!ref"]),a="",s=[],o,c=[],u=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=Xn(o);for(var d=i.s.r;d<=i.e.r;++d)for(a=Oi(d),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function EB(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?fa(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var h=xn(a["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),s==-1&&(s=h.e.r+1,d.e.r=s+t.length-1+i)}else s==-1&&(s=0,d.e.r=t.length-1+i);var g=n.header||[],x=0;t.forEach(function(w,T){Wo(w).forEach(function(C){(x=g.indexOf(C))==-1&&(g[x=g.length]=C);var L=w[C],P="z",D="",F=Rt({c:o+x,r:s+T+i});u=sm(a,F),L&&typeof L=="object"&&!(L instanceof Date)?a[F]=L:(typeof L=="number"?P="n":typeof L=="boolean"?P="b":typeof L=="string"?P="s":L instanceof Date?(P="d",n.cellDates||(P="n",L=pa(L)),D=n.dateNF||Ut[14]):L===null&&n.nullError&&(P="e",L=0),u?(u.t=P,u.v=L,delete u.w,delete u.R,D&&(u.z=D)):a[F]=u={t:P,v:L},D&&(u.z=D))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var _=Oi(s);if(i)for(x=0;x<g.length;++x)a[Xn(x+o)+_]={t:"s",v:g[x]};return a["!ref"]=lr(d),a}function Afe(e,t){return EB(null,e,t)}function sm(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=fa(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?sm(e,Rt(t)):sm(e,Rt({r:t,c:r||0}))}function Sfe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function wC(){return{SheetNames:[],Sheets:{}}}function EC(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(uue(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Cfe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Sfe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Nfe(e,t){return e.z=t,e}function TB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Ife(e,t,r){return TB(e,"#"+t,r)}function kfe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Pfe(e,t,r,n){for(var i=typeof t!="string"?t:xn(t),a=typeof t=="string"?t:lr(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=sm(e,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var mp={encode_col:Xn,encode_row:Oi,encode_cell:Rt,encode_range:lr,decode_col:lC,decode_row:oC,split_cell:$ne,decode_cell:fa,decode_range:Mh,format_cell:Dl,sheet_add_aoa:N9,sheet_add_json:EB,sheet_add_dom:yB,aoa_to_sheet:Dh,json_to_sheet:Afe,table_to_sheet:xB,table_to_book:Wue,sheet_to_csv:wB,sheet_to_txt:Efe,sheet_to_json:zA,sheet_to_html:Kue,sheet_to_formulae:Tfe,sheet_to_row_object_array:zA,sheet_get_cell:sm,book_new:wC,book_append_sheet:EC,book_set_sheet_visibility:Cfe,cell_set_number_format:Nfe,cell_set_hyperlink:TB,cell_set_internal_link:Ife,cell_add_comment:kfe,sheet_set_array_formula:Pfe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const AB=e=>String(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Rfe=e=>{if(e==null)return 0;if(typeof e=="number")return e;const t=String(e).trim();if(!t)return 0;const r=t.replace(/[R$\s.]/g,"").replace(",","."),n=parseFloat(r);return isNaN(n)?0:n},DM=e=>{if(!e)return 0;if(typeof e=="number")return e;const t=String(e).replace(/[%]/g,"").replace(",",".");return parseFloat(t)||0},Ofe=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result,s=mx(a,{type:"binary"}),o=s.SheetNames[0],c=s.Sheets[o];if(!c["!ref"]){t([]);return}const u=mp.decode_range(c["!ref"]),d=[],h=[],g=u.s.r;for(let x=u.s.c;x<=u.e.c;++x){const _=mp.encode_cell({c:x,r:g}),w=c[_];if(w&&w.v){const T=String(w.v);h.push({index:x,name:T,normalized:AB(T)})}}for(let x=g+1;x<=u.e.r;++x){const _={};let w;if(h.forEach(j=>{const G=mp.encode_cell({c:j.index,r:x}),de=c[G];de&&(_[j.normalized]=de.v,!w&&(j.normalized.includes("endereco")||j.normalized.includes("logradouro")||j.normalized.includes("localizacao")||j.normalized.includes("comercial")||j.normalized==="rua"||j.normalized==="mapa"||j.normalized==="link")&&de.l&&de.l.Target&&(w=de.l.Target))}),Object.keys(_).length===0)continue;const T=_.endereco||_["endereco comercial"]||_.logradouro||_.localizacao||_["endereco completo"]||_.rua||_.end||"";let{address:C,link:L,lat:P,lng:D}=nx(T),F=w||L;const R=_.link||_.mapa||_["google maps"]||_.url||_.maps||_.coordenadas||_.geolocalizacao;let I;h.forEach(j=>{if(["link","mapa","google maps","url","maps","coordenadas","geolocalizacao"].includes(j.normalized)){const G=mp.encode_cell({c:j.index,r:x}),de=c[G];de&&de.l&&de.l.Target&&(I=de.l.Target)}});const k=I||R;if(k){const j=nx(k);j.link&&(F=j.link),j.lat&&(P=j.lat),j.lng&&(D=j.lng)}const O=_["razao social"]||_.cliente||_["nome fantasia"]||_.empresa||_.nome||_["nome cliente"]||_.parceiro||_.loja||"",B=_["nome do proprietario"]||_.proprietario||_.dono||_["contato principal"]||_.responsavel||_.socio||"",V=String(_.contato||_.telefone||_.celular||_.whatsapp||_.tel||_.fone||"");(O||C||T)&&d.push({companyName:O,ownerName:B,phone:V,address:C,googleMapsLink:F,latitude:P,longitude:D})}t(d)}catch(a){console.error("Excel Parsing Error:",a),r(a)}},n.onerror=i=>r(i),n.readAsBinaryString(e)}),SB=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result,s=mx(a,{type:"binary"}),o=s.SheetNames[0],c=s.Sheets[o],u=[];mp.sheet_to_json(c,{defval:""}).forEach(h=>{const g={};Object.keys(h).forEach(F=>{g[AB(F)]=h[F]});const x=g.departamento||g.categoria||"Geral",_=String(g["cod.prod / sku"]||g["cod.prod"]||g.sku||g["numero do sku"]||""),w=g["nome do produto"]||g.descricao||g.nome||g.produto||"",T=g.marca||g.fabricante||"Genrico",C=Rfe(g["preco de venda"]||g.preco||0),L=String(g["cod.fabrica"]||g["cod fabrica"]||g["codigo fabrica"]||""),P=DM(g.margem||0),D=DM(g.desconto||g.discount||0);(_||w)&&u.push({category:x,sku:_,brand:T,factoryCode:L,name:w,price:C,margin:P,discount:D})}),t(u)}catch(a){console.error("Product Excel Parsing Error:",a),r(a)}},n.onerror=i=>r(i),n.readAsBinaryString(e)});var Mfe={};let Dfe,Ffe;function Lfe(){return{geminiUrl:Dfe,vertexUrl:Ffe}}function jfe(e,t,r,n){var i,a;if(!e?.baseUrl){const s=Lfe();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:r:(a=s.geminiUrl)!==null&&a!==void 0?a:n}return e.baseUrl}class Wl{}function nt(e,t){const r=/\{([^}]+)\}/g;return e.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(e,t,r){for(let a=0;a<t.length-1;a++){const s=t[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in e))if(Array.isArray(r))e[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[o])){const c=e[o];if(Array.isArray(r))for(let u=0;u<c.length;u++){const d=c[u];E(d,t.slice(a+1),r[u])}else for(const u of c)E(u,t.slice(a+1),r)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in e||(e[o]=[{}]);const c=e[o];E(c[0],t.slice(a+1),r);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const n=t[t.length-1],i=e[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(e,r):e[n]=r}function b(e,t,r=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return r;const i=t[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const s=e[a];return Array.isArray(s)?s.map(o=>b(o,t.slice(n+1),r)):r}else return r}else e=e[i]}return e}catch(n){if(n instanceof TypeError)return r;throw n}}function Ufe(e,t){for(const[r,n]of Object.entries(t)){const i=r.split("."),a=n.split("."),s=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&a.length>o)for(let c=o;c<a.length;c++){const u=a[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}$A(e,i,a,0,s)}}function $A(e,t,r,n,i){if(n>=t.length||typeof e!="object"||e===null)return;const a=t[n];if(a.endsWith("[]")){const s=a.slice(0,-2),o=e;if(s in o&&Array.isArray(o[s]))for(const c of o[s])$A(c,t,r,n+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,o=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of o)c[u]=s[u];for(const[u,d]of Object.entries(c)){const h=[];for(const g of r.slice(n))g==="*"?h.push(u):h.push(g);E(s,h,d)}for(const u of o)delete s[u]}}else{const s=e;a in s&&$A(s[a],t,r,n+1,i)}}function TC(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Bfe(e){const t={},r=b(e,["operationName"]);r!=null&&E(t,["operationName"],r);const n=b(e,["resourceName"]);return n!=null&&E(t,["_url","resourceName"],n),t}function Vfe(e){const t={},r=b(e,["name"]);r!=null&&E(t,["name"],r);const n=b(e,["metadata"]);n!=null&&E(t,["metadata"],n);const i=b(e,["done"]);i!=null&&E(t,["done"],i);const a=b(e,["error"]);a!=null&&E(t,["error"],a);const s=b(e,["response","generateVideoResponse"]);return s!=null&&E(t,["response"],$fe(s)),t}function zfe(e){const t={},r=b(e,["name"]);r!=null&&E(t,["name"],r);const n=b(e,["metadata"]);n!=null&&E(t,["metadata"],n);const i=b(e,["done"]);i!=null&&E(t,["done"],i);const a=b(e,["error"]);a!=null&&E(t,["error"],a);const s=b(e,["response"]);return s!=null&&E(t,["response"],Hfe(s)),t}function $fe(e){const t={},r=b(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Gfe(s))),E(t,["generatedVideos"],a)}const n=b(e,["raiMediaFilteredCount"]);n!=null&&E(t,["raiMediaFilteredCount"],n);const i=b(e,["raiMediaFilteredReasons"]);return i!=null&&E(t,["raiMediaFilteredReasons"],i),t}function Hfe(e){const t={},r=b(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>qfe(s))),E(t,["generatedVideos"],a)}const n=b(e,["raiMediaFilteredCount"]);n!=null&&E(t,["raiMediaFilteredCount"],n);const i=b(e,["raiMediaFilteredReasons"]);return i!=null&&E(t,["raiMediaFilteredReasons"],i),t}function Gfe(e){const t={},r=b(e,["video"]);return r!=null&&E(t,["video"],Zfe(r)),t}function qfe(e){const t={},r=b(e,["_self"]);return r!=null&&E(t,["video"],Qfe(r)),t}function Kfe(e){const t={},r=b(e,["operationName"]);return r!=null&&E(t,["_url","operationName"],r),t}function Wfe(e){const t={},r=b(e,["operationName"]);return r!=null&&E(t,["_url","operationName"],r),t}function Yfe(e){const t={},r=b(e,["name"]);r!=null&&E(t,["name"],r);const n=b(e,["metadata"]);n!=null&&E(t,["metadata"],n);const i=b(e,["done"]);i!=null&&E(t,["done"],i);const a=b(e,["error"]);a!=null&&E(t,["error"],a);const s=b(e,["response"]);return s!=null&&E(t,["response"],Jfe(s)),t}function Jfe(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["parent"]);n!=null&&E(t,["parent"],n);const i=b(e,["documentName"]);return i!=null&&E(t,["documentName"],i),t}function CB(e){const t={},r=b(e,["name"]);r!=null&&E(t,["name"],r);const n=b(e,["metadata"]);n!=null&&E(t,["metadata"],n);const i=b(e,["done"]);i!=null&&E(t,["done"],i);const a=b(e,["error"]);a!=null&&E(t,["error"],a);const s=b(e,["response"]);return s!=null&&E(t,["response"],Xfe(s)),t}function Xfe(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["parent"]);n!=null&&E(t,["parent"],n);const i=b(e,["documentName"]);return i!=null&&E(t,["documentName"],i),t}function Zfe(e){const t={},r=b(e,["uri"]);r!=null&&E(t,["uri"],r);const n=b(e,["encodedVideo"]);n!=null&&E(t,["videoBytes"],TC(n));const i=b(e,["encoding"]);return i!=null&&E(t,["mimeType"],i),t}function Qfe(e){const t={},r=b(e,["gcsUri"]);r!=null&&E(t,["uri"],r);const n=b(e,["bytesBase64Encoded"]);n!=null&&E(t,["videoBytes"],TC(n));const i=b(e,["mimeType"]);return i!=null&&E(t,["mimeType"],i),t}var FM;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(FM||(FM={}));var LM;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(LM||(LM={}));var jM;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(jM||(jM={}));var Bc;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Bc||(Bc={}));var UM;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(UM||(UM={}));var BM;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(BM||(BM={}));var VM;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(VM||(VM={}));var zM;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zM||(zM={}));var $M;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})($M||($M={}));var HM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(HM||(HM={}));var GM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(GM||(GM={}));var qM;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(qM||(qM={}));var KM;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(KM||(KM={}));var WM;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(WM||(WM={}));var YM;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(YM||(YM={}));var JM;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(JM||(JM={}));var XM;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(XM||(XM={}));var ZM;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ZM||(ZM={}));var QM;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(QM||(QM={}));var eD;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(eD||(eD={}));var tD;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tD||(tD={}));var gx;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(gx||(gx={}));var rD;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(rD||(rD={}));var nD;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nD||(nD={}));var iD;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(iD||(iD={}));var HA;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(HA||(HA={}));var aD;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(aD||(aD={}));var sD;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(sD||(sD={}));var GA;(function(e){e.COLLECTION="COLLECTION"})(GA||(GA={}));var oD;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(oD||(oD={}));var lD;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lD||(lD={}));var cD;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(cD||(cD={}));var uD;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(uD||(uD={}));var fD;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(fD||(fD={}));var dD;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dD||(dD={}));var hD;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hD||(hD={}));var pD;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pD||(pD={}));var mD;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mD||(mD={}));var gD;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(gD||(gD={}));var vD;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(vD||(vD={}));var yD;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(yD||(yD={}));var xD;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(xD||(xD={}));var _D;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(_D||(_D={}));var bD;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(bD||(bD={}));var wD;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(wD||(wD={}));var ED;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(ED||(ED={}));var TD;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(TD||(TD={}));var AD;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(AD||(AD={}));var SD;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(SD||(SD={}));var CD;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(CD||(CD={}));var ND;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ND||(ND={}));var ID;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ID||(ID={}));var kD;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(kD||(kD={}));var PD;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(PD||(PD={}));var RD;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(RD||(RD={}));var OD;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(OD||(OD={}));var Gd;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Gd||(Gd={}));class qA{constructor(t){const r={};for(const n of t.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=t}json(){return this.responseInternal.json()}}class H0{get text(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const g of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[x,_]of Object.entries(g))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(_!==null||_!==void 0)&&h.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,u+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[g,x]of Object.entries(h))g!=="inlineData"&&(x!==null||x!==void 0)&&d.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(u?.length!==0)return u}get executableCode(){var t,r,n,i,a,s,o,c,u;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,r,n,i,a,s,o,c,u;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.output}}class MD{}class DD{}class ede{}class tde{}class rde{}class nde{}class FD{}class LD{}class jD{}class ide{}class vx{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new vx;let i;const a=t;return r?i=zfe(a):i=Vfe(a),Object.assign(n,i),n}}class UD{}class BD{}class VD{}class zD{}class ade{}class sde{}class ode{}class AC{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new AC,a=Yfe(t);return Object.assign(n,a),n}}class lde{}class cde{}class ude{}class fde{}class $D{}class dde{get text(){var t,r,n;let i="",a=!1;const s=[];for(const o of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,u]of Object.entries(o))c!=="text"&&c!=="thought"&&u!==null&&s.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,r,n;let i="";const a=[];for(const s of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,c]of Object.entries(s))o!=="inlineData"&&c!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class hde{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class SC{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new SC,a=CB(t);return Object.assign(n,a),n}}function hr(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const r=t.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function NB(e,t){const r=hr(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function IB(e){return Array.isArray(e)?e.map(t=>yx(t)):[yx(e)]}function yx(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function kB(e){const t=yx(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function PB(e){const t=yx(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function HD(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function RB(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>HD(t)):[HD(e)]}function KA(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function GD(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function qD(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function qi(e){if(e==null)throw new Error("ContentUnion is required");return KA(e)?e:{role:"user",parts:RB(e)}}function CC(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(r=>{const n=qi(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(e.isVertexAI()){const r=qi(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(t)?t.map(r=>qi(r)):[qi(t)]}function Ms(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(GD(e)||qD(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qi(e)]}const t=[],r=[],n=KA(e[0]);for(const i of e){const a=KA(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(GD(i)||qD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||t.push({role:"user",parts:RB(r)}),t}function pde(e,t){e.includes("null")&&(t.nullable=!0);const r=e.filter(n=>n!=="null");if(r.length===1)t.type=Object.values(Bc).includes(r[0].toUpperCase())?r[0].toUpperCase():Bc.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const n of r)t.anyOf.push({type:Object.values(Bc).includes(n.toUpperCase())?n.toUpperCase():Bc.TYPE_UNSPECIFIED})}}function rh(e){const t={},r=["items"],n=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&pde(e.type,t);for(const[s,o]of Object.entries(e))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(Bc).includes(o.toUpperCase())?o.toUpperCase():Bc.TYPE_UNSPECIFIED}else if(r.includes(s))t[s]=rh(o);else if(n.includes(s)){const c=[];for(const u of o){if(u.type=="null"){t.nullable=!0;continue}c.push(rh(u))}t[s]=c}else if(i.includes(s)){const c={};for(const[u,d]of Object.entries(o))c[u]=rh(d);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=o}return t}function NC(e){return rh(e)}function IC(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function kC(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Fh(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=rh(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=rh(t.response));return e}function Lh(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of e)t.push(r);return t}function mde(e,t,r,n=1){const i=!t.startsWith(`${r}/`)&&t.split("/").length===n;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${r}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`:t:i?`${r}/${t}`:t}function Yl(e,t){if(typeof t!="string")throw new Error("name must be a string");return mde(e,t,"cachedContents")}function OB(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function pu(e){return TC(e)}function gde(e){return e!=null&&typeof e=="object"&&"name"in e}function vde(e){return e!=null&&typeof e=="object"&&"video"in e}function yde(e){return e!=null&&typeof e=="object"&&"uri"in e}function MB(e){var t;let r;if(gde(e)&&(r=e.name),!(yde(e)&&(r=e.uri,r===void 0))&&!(vde(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function DB(e,t){let r;return e.isVertexAI()?r=t?"publishers/google/models":"models":r=t?"models":"tunedModels",r}function FB(e){for(const t of["models","tunedModels","publisherModels"])if(xde(e,t))return e[t];return[]}function xde(e,t){return e!==null&&typeof e=="object"&&t in e}function _de(e,t={}){const r=e,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),t.behavior&&(n.behavior=t.behavior),{functionDeclarations:[n]}}function bde(e,t={}){const r=[],n=new Set;for(const i of e){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const s=_de(i,t);s.functionDeclarations&&r.push(...s.functionDeclarations)}return{functionDeclarations:r}}function LB(e,t){let r;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function wde(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function jB(e){if(typeof e!="object"||e===null)return{};const t=e,r=t.inlinedResponses;if(typeof r!="object"||r===null)return e;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function jh(e,t){const r=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function UB(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function Ede(e){const t={},r=b(e,["responsesFile"]);r!=null&&E(t,["fileName"],r);const n=b(e,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>nhe(s))),E(t,["inlinedResponses"],a)}const i=b(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(t,["inlinedEmbedContentResponses"],a)}return t}function Tde(e){const t={},r=b(e,["predictionsFormat"]);r!=null&&E(t,["format"],r);const n=b(e,["gcsDestination","outputUriPrefix"]);n!=null&&E(t,["gcsUri"],n);const i=b(e,["bigqueryDestination","outputUri"]);return i!=null&&E(t,["bigqueryUri"],i),t}function Ade(e){const t={},r=b(e,["format"]);r!=null&&E(t,["predictionsFormat"],r);const n=b(e,["gcsUri"]);n!=null&&E(t,["gcsDestination","outputUriPrefix"],n);const i=b(e,["bigqueryUri"]);if(i!=null&&E(t,["bigqueryDestination","outputUri"],i),b(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(b(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Sy(e){const t={},r=b(e,["name"]);r!=null&&E(t,["name"],r);const n=b(e,["metadata","displayName"]);n!=null&&E(t,["displayName"],n);const i=b(e,["metadata","state"]);i!=null&&E(t,["state"],UB(i));const a=b(e,["metadata","createTime"]);a!=null&&E(t,["createTime"],a);const s=b(e,["metadata","endTime"]);s!=null&&E(t,["endTime"],s);const o=b(e,["metadata","updateTime"]);o!=null&&E(t,["updateTime"],o);const c=b(e,["metadata","model"]);c!=null&&E(t,["model"],c);const u=b(e,["metadata","output"]);return u!=null&&E(t,["dest"],Ede(jB(u))),t}function WA(e){const t={},r=b(e,["name"]);r!=null&&E(t,["name"],r);const n=b(e,["displayName"]);n!=null&&E(t,["displayName"],n);const i=b(e,["state"]);i!=null&&E(t,["state"],UB(i));const a=b(e,["error"]);a!=null&&E(t,["error"],a);const s=b(e,["createTime"]);s!=null&&E(t,["createTime"],s);const o=b(e,["startTime"]);o!=null&&E(t,["startTime"],o);const c=b(e,["endTime"]);c!=null&&E(t,["endTime"],c);const u=b(e,["updateTime"]);u!=null&&E(t,["updateTime"],u);const d=b(e,["model"]);d!=null&&E(t,["model"],d);const h=b(e,["inputConfig"]);h!=null&&E(t,["src"],Sde(h));const g=b(e,["outputConfig"]);g!=null&&E(t,["dest"],Tde(jB(g)));const x=b(e,["completionStats"]);return x!=null&&E(t,["completionStats"],x),t}function Sde(e){const t={},r=b(e,["instancesFormat"]);r!=null&&E(t,["format"],r);const n=b(e,["gcsSource","uris"]);n!=null&&E(t,["gcsUri"],n);const i=b(e,["bigquerySource","inputUri"]);return i!=null&&E(t,["bigqueryUri"],i),t}function Cde(e,t){const r={};if(b(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=b(t,["fileName"]);n!=null&&E(r,["fileName"],n);const i=b(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>rhe(e,s))),E(r,["requests","requests"],a)}return r}function Nde(e){const t={},r=b(e,["format"]);r!=null&&E(t,["instancesFormat"],r);const n=b(e,["gcsUri"]);n!=null&&E(t,["gcsSource","uris"],n);const i=b(e,["bigqueryUri"]);if(i!=null&&E(t,["bigquerySource","inputUri"],i),b(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Ide(e){const t={},r=b(e,["data"]);if(r!=null&&E(t,["data"],r),b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function kde(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],jh(e,n)),r}function Pde(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],jh(e,n)),r}function Rde(e){const t={},r=b(e,["content"]);r!=null&&E(t,["content"],r);const n=b(e,["citationMetadata"]);n!=null&&E(t,["citationMetadata"],Ode(n));const i=b(e,["tokenCount"]);i!=null&&E(t,["tokenCount"],i);const a=b(e,["finishReason"]);a!=null&&E(t,["finishReason"],a);const s=b(e,["avgLogprobs"]);s!=null&&E(t,["avgLogprobs"],s);const o=b(e,["groundingMetadata"]);o!=null&&E(t,["groundingMetadata"],o);const c=b(e,["index"]);c!=null&&E(t,["index"],c);const u=b(e,["logprobsResult"]);u!=null&&E(t,["logprobsResult"],u);const d=b(e,["safetyRatings"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(x=>x)),E(t,["safetyRatings"],g)}const h=b(e,["urlContextMetadata"]);return h!=null&&E(t,["urlContextMetadata"],h),t}function Ode(e){const t={},r=b(e,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),E(t,["citations"],n)}return t}function BB(e){const t={},r=b(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>uhe(a))),E(t,["parts"],i)}const n=b(e,["role"]);return n!=null&&E(t,["role"],n),t}function Mde(e,t){const r={},n=b(e,["displayName"]);if(t!==void 0&&n!=null&&E(t,["batch","displayName"],n),b(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Dde(e,t){const r={},n=b(e,["displayName"]);t!==void 0&&n!=null&&E(t,["displayName"],n);const i=b(e,["dest"]);return t!==void 0&&i!=null&&E(t,["outputConfig"],Ade(wde(i))),r}function KD(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["_url","model"],hr(e,n));const i=b(t,["src"]);i!=null&&E(r,["batch","inputConfig"],Cde(e,LB(e,i)));const a=b(t,["config"]);return a!=null&&Mde(a,r),r}function Fde(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["model"],hr(e,n));const i=b(t,["src"]);i!=null&&E(r,["inputConfig"],Nde(LB(e,i)));const a=b(t,["config"]);return a!=null&&Dde(a,r),r}function Lde(e,t){const r={},n=b(e,["displayName"]);return t!==void 0&&n!=null&&E(t,["batch","displayName"],n),r}function jde(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["_url","model"],hr(e,n));const i=b(t,["src"]);i!=null&&E(r,["batch","inputConfig"],Gde(e,i));const a=b(t,["config"]);return a!=null&&Lde(a,r),r}function Ude(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],jh(e,n)),r}function Bde(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],jh(e,n)),r}function Vde(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["name"]);n!=null&&E(t,["name"],n);const i=b(e,["done"]);i!=null&&E(t,["done"],i);const a=b(e,["error"]);return a!=null&&E(t,["error"],a),t}function zde(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["name"]);n!=null&&E(t,["name"],n);const i=b(e,["done"]);i!=null&&E(t,["done"],i);const a=b(e,["error"]);return a!=null&&E(t,["error"],a),t}function $de(e,t){const r={},n=b(t,["contents"]);if(n!=null){let a=CC(e,n);Array.isArray(a)&&(a=a.map(s=>s)),E(r,["requests[]","request","content"],a)}const i=b(t,["config"]);return i!=null&&(E(r,["_self"],Hde(i,r)),Ufe(r,{"requests[].*":"requests[].request.*"})),r}function Hde(e,t){const r={},n=b(e,["taskType"]);t!==void 0&&n!=null&&E(t,["requests[]","taskType"],n);const i=b(e,["title"]);t!==void 0&&i!=null&&E(t,["requests[]","title"],i);const a=b(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&E(t,["requests[]","outputDimensionality"],a),b(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Gde(e,t){const r={},n=b(t,["fileName"]);n!=null&&E(r,["file_name"],n);const i=b(t,["inlinedRequests"]);return i!=null&&E(r,["requests"],$de(e,i)),r}function qde(e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=b(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function Kde(e){const t={},r=b(e,["id"]);r!=null&&E(t,["id"],r);const n=b(e,["args"]);n!=null&&E(t,["args"],n);const i=b(e,["name"]);if(i!=null&&E(t,["name"],i),b(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Wde(e){const t={},r=b(e,["allowedFunctionNames"]);r!=null&&E(t,["allowedFunctionNames"],r);const n=b(e,["mode"]);if(n!=null&&E(t,["mode"],n),b(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Yde(e,t,r){const n={},i=b(t,["systemInstruction"]);r!==void 0&&i!=null&&E(r,["systemInstruction"],BB(qi(i)));const a=b(t,["temperature"]);a!=null&&E(n,["temperature"],a);const s=b(t,["topP"]);s!=null&&E(n,["topP"],s);const o=b(t,["topK"]);o!=null&&E(n,["topK"],o);const c=b(t,["candidateCount"]);c!=null&&E(n,["candidateCount"],c);const u=b(t,["maxOutputTokens"]);u!=null&&E(n,["maxOutputTokens"],u);const d=b(t,["stopSequences"]);d!=null&&E(n,["stopSequences"],d);const h=b(t,["responseLogprobs"]);h!=null&&E(n,["responseLogprobs"],h);const g=b(t,["logprobs"]);g!=null&&E(n,["logprobs"],g);const x=b(t,["presencePenalty"]);x!=null&&E(n,["presencePenalty"],x);const _=b(t,["frequencyPenalty"]);_!=null&&E(n,["frequencyPenalty"],_);const w=b(t,["seed"]);w!=null&&E(n,["seed"],w);const T=b(t,["responseMimeType"]);T!=null&&E(n,["responseMimeType"],T);const C=b(t,["responseSchema"]);C!=null&&E(n,["responseSchema"],NC(C));const L=b(t,["responseJsonSchema"]);if(L!=null&&E(n,["responseJsonSchema"],L),b(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=b(t,["safetySettings"]);if(r!==void 0&&P!=null){let G=P;Array.isArray(G)&&(G=G.map(de=>fhe(de))),E(r,["safetySettings"],G)}const D=b(t,["tools"]);if(r!==void 0&&D!=null){let G=Lh(D);Array.isArray(G)&&(G=G.map(de=>hhe(Fh(de)))),E(r,["tools"],G)}const F=b(t,["toolConfig"]);if(r!==void 0&&F!=null&&E(r,["toolConfig"],dhe(F)),b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=b(t,["cachedContent"]);r!==void 0&&R!=null&&E(r,["cachedContent"],Yl(e,R));const I=b(t,["responseModalities"]);I!=null&&E(n,["responseModalities"],I);const k=b(t,["mediaResolution"]);k!=null&&E(n,["mediaResolution"],k);const O=b(t,["speechConfig"]);if(O!=null&&E(n,["speechConfig"],IC(O)),b(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=b(t,["thinkingConfig"]);B!=null&&E(n,["thinkingConfig"],B);const V=b(t,["imageConfig"]);V!=null&&E(n,["imageConfig"],the(V));const j=b(t,["enableEnhancedCivicAnswers"]);if(j!=null&&E(n,["enableEnhancedCivicAnswers"],j),b(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function Jde(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>Rde(u))),E(t,["candidates"],c)}const i=b(e,["modelVersion"]);i!=null&&E(t,["modelVersion"],i);const a=b(e,["promptFeedback"]);a!=null&&E(t,["promptFeedback"],a);const s=b(e,["responseId"]);s!=null&&E(t,["responseId"],s);const o=b(e,["usageMetadata"]);return o!=null&&E(t,["usageMetadata"],o),t}function Xde(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],jh(e,n)),r}function Zde(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],jh(e,n)),r}function Qde(e){const t={};if(b(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function ehe(e){const t={};if(b(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function the(e){const t={},r=b(e,["aspectRatio"]);r!=null&&E(t,["aspectRatio"],r);const n=b(e,["imageSize"]);if(n!=null&&E(t,["imageSize"],n),b(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(b(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function rhe(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["request","model"],hr(e,n));const i=b(t,["contents"]);if(i!=null){let o=Ms(i);Array.isArray(o)&&(o=o.map(c=>BB(c))),E(r,["request","contents"],o)}const a=b(t,["metadata"]);a!=null&&E(r,["metadata"],a);const s=b(t,["config"]);return s!=null&&E(r,["request","generationConfig"],Yde(e,s,b(r,["request"],{}))),r}function nhe(e){const t={},r=b(e,["response"]);r!=null&&E(t,["response"],Jde(r));const n=b(e,["metadata"]);n!=null&&E(t,["metadata"],n);const i=b(e,["error"]);return i!=null&&E(t,["error"],i),t}function ihe(e,t){const r={},n=b(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const i=b(e,["pageToken"]);if(t!==void 0&&i!=null&&E(t,["_query","pageToken"],i),b(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function ahe(e,t){const r={},n=b(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const i=b(e,["pageToken"]);t!==void 0&&i!=null&&E(t,["_query","pageToken"],i);const a=b(e,["filter"]);return t!==void 0&&a!=null&&E(t,["_query","filter"],a),r}function she(e){const t={},r=b(e,["config"]);return r!=null&&ihe(r,t),t}function ohe(e){const t={},r=b(e,["config"]);return r!=null&&ahe(r,t),t}function lhe(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const i=b(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Sy(s))),E(t,["batchJobs"],a)}return t}function che(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const i=b(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>WA(s))),E(t,["batchJobs"],a)}return t}function uhe(e){const t={},r=b(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=b(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const i=b(e,["executableCode"]);i!=null&&E(t,["executableCode"],i);const a=b(e,["fileData"]);a!=null&&E(t,["fileData"],qde(a));const s=b(e,["functionCall"]);s!=null&&E(t,["functionCall"],Kde(s));const o=b(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const c=b(e,["inlineData"]);c!=null&&E(t,["inlineData"],Ide(c));const u=b(e,["text"]);u!=null&&E(t,["text"],u);const d=b(e,["thought"]);d!=null&&E(t,["thought"],d);const h=b(e,["thoughtSignature"]);h!=null&&E(t,["thoughtSignature"],h);const g=b(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function fhe(e){const t={},r=b(e,["category"]);if(r!=null&&E(t,["category"],r),b(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=b(e,["threshold"]);return n!=null&&E(t,["threshold"],n),t}function dhe(e){const t={},r=b(e,["retrievalConfig"]);r!=null&&E(t,["retrievalConfig"],r);const n=b(e,["functionCallingConfig"]);return n!=null&&E(t,["functionCallingConfig"],Wde(n)),t}function hhe(e){const t={};if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=b(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const i=b(e,["codeExecution"]);if(i!=null&&E(t,["codeExecution"],i),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),E(t,["functionDeclarations"],d)}const s=b(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],Qde(s));const o=b(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],ehe(o));const c=b(e,["googleSearchRetrieval"]);c!=null&&E(t,["googleSearchRetrieval"],c);const u=b(e,["urlContext"]);return u!=null&&E(t,["urlContext"],u),t}var Fl;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Fl||(Fl={}));class Vf{constructor(t,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(t,n,i)}init(t,r,n){var i,a;this.nameInternal=t,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!n||Object.keys(n).length===0?s={config:{}}:typeof n=="object"?s=Object.assign({},n):s=n,s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class phe extends Wl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Vf(Fl.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(t){const r=KD(this.apiClient,t),n=r._url,i=nt("{model}:batchGenerateContent",n),o=r.batch.inputConfig.requests,c=o.requests,u=[];for(const d of c){const h=Object.assign({},d);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const x=h.request;x.systemInstruction=g,h.request=x}u.push(h)}return o.requests=u,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(t),s=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(s)n.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Fde(this.apiClient,t);return o=nt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>WA(d))}else{const u=KD(this.apiClient,t);return o=nt("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>Sy(d))}}async createEmbeddingsInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jde(this.apiClient,t);return a=nt("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Sy(c))}}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Zde(this.apiClient,t);return o=nt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>WA(d))}else{const u=Xde(this.apiClient,t);return o=nt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>Sy(d))}}async cancel(t){var r,n,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const c=Pde(this.apiClient,t);s=nt("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}else{const c=kde(this.apiClient,t);s=nt("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=ohe(t);return o=nt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=che(d),g=new $D;return Object.assign(g,h),g})}else{const u=she(t);return o=nt("batches",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=lhe(d),g=new $D;return Object.assign(g,h),g})}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Bde(this.apiClient,t);return o=nt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>zde(d))}else{const u=Ude(this.apiClient,t);return o=nt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>Vde(d))}}}function mhe(e){const t={},r=b(e,["data"]);if(r!=null&&E(t,["data"],r),b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function WD(e){const t={},r=b(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>jhe(a))),E(t,["parts"],i)}const n=b(e,["role"]);return n!=null&&E(t,["role"],n),t}function ghe(e,t){const r={},n=b(e,["ttl"]);t!==void 0&&n!=null&&E(t,["ttl"],n);const i=b(e,["expireTime"]);t!==void 0&&i!=null&&E(t,["expireTime"],i);const a=b(e,["displayName"]);t!==void 0&&a!=null&&E(t,["displayName"],a);const s=b(e,["contents"]);if(t!==void 0&&s!=null){let d=Ms(s);Array.isArray(d)&&(d=d.map(h=>WD(h))),E(t,["contents"],d)}const o=b(e,["systemInstruction"]);t!==void 0&&o!=null&&E(t,["systemInstruction"],WD(qi(o)));const c=b(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Bhe(h))),E(t,["tools"],d)}const u=b(e,["toolConfig"]);if(t!==void 0&&u!=null&&E(t,["toolConfig"],Uhe(u)),b(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function vhe(e,t){const r={},n=b(e,["ttl"]);t!==void 0&&n!=null&&E(t,["ttl"],n);const i=b(e,["expireTime"]);t!==void 0&&i!=null&&E(t,["expireTime"],i);const a=b(e,["displayName"]);t!==void 0&&a!=null&&E(t,["displayName"],a);const s=b(e,["contents"]);if(t!==void 0&&s!=null){let h=Ms(s);Array.isArray(h)&&(h=h.map(g=>g)),E(t,["contents"],h)}const o=b(e,["systemInstruction"]);t!==void 0&&o!=null&&E(t,["systemInstruction"],qi(o));const c=b(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Vhe(g))),E(t,["tools"],h)}const u=b(e,["toolConfig"]);t!==void 0&&u!=null&&E(t,["toolConfig"],u);const d=b(e,["kmsKeyName"]);return t!==void 0&&d!=null&&E(t,["encryption_spec","kmsKeyName"],d),r}function yhe(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["model"],NB(e,n));const i=b(t,["config"]);return i!=null&&ghe(i,r),r}function xhe(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["model"],NB(e,n));const i=b(t,["config"]);return i!=null&&vhe(i,r),r}function _he(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],Yl(e,n)),r}function bhe(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],Yl(e,n)),r}function whe(e){const t={},r=b(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function Ehe(e){const t={},r=b(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function The(e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=b(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function Ahe(e){const t={},r=b(e,["id"]);r!=null&&E(t,["id"],r);const n=b(e,["args"]);n!=null&&E(t,["args"],n);const i=b(e,["name"]);if(i!=null&&E(t,["name"],i),b(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function She(e){const t={},r=b(e,["allowedFunctionNames"]);r!=null&&E(t,["allowedFunctionNames"],r);const n=b(e,["mode"]);if(n!=null&&E(t,["mode"],n),b(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Che(e){const t={},r=b(e,["description"]);r!=null&&E(t,["description"],r);const n=b(e,["name"]);n!=null&&E(t,["name"],n);const i=b(e,["parameters"]);i!=null&&E(t,["parameters"],i);const a=b(e,["parametersJsonSchema"]);a!=null&&E(t,["parametersJsonSchema"],a);const s=b(e,["response"]);s!=null&&E(t,["response"],s);const o=b(e,["responseJsonSchema"]);if(o!=null&&E(t,["responseJsonSchema"],o),b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Nhe(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],Yl(e,n)),r}function Ihe(e,t){const r={},n=b(t,["name"]);return n!=null&&E(r,["_url","name"],Yl(e,n)),r}function khe(e){const t={};if(b(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function Phe(e){const t={};if(b(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function Rhe(e,t){const r={},n=b(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const i=b(e,["pageToken"]);return t!==void 0&&i!=null&&E(t,["_query","pageToken"],i),r}function Ohe(e,t){const r={},n=b(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const i=b(e,["pageToken"]);return t!==void 0&&i!=null&&E(t,["_query","pageToken"],i),r}function Mhe(e){const t={},r=b(e,["config"]);return r!=null&&Rhe(r,t),t}function Dhe(e){const t={},r=b(e,["config"]);return r!=null&&Ohe(r,t),t}function Fhe(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const i=b(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(t,["cachedContents"],a)}return t}function Lhe(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const i=b(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(t,["cachedContents"],a)}return t}function jhe(e){const t={},r=b(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=b(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const i=b(e,["executableCode"]);i!=null&&E(t,["executableCode"],i);const a=b(e,["fileData"]);a!=null&&E(t,["fileData"],The(a));const s=b(e,["functionCall"]);s!=null&&E(t,["functionCall"],Ahe(s));const o=b(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const c=b(e,["inlineData"]);c!=null&&E(t,["inlineData"],mhe(c));const u=b(e,["text"]);u!=null&&E(t,["text"],u);const d=b(e,["thought"]);d!=null&&E(t,["thought"],d);const h=b(e,["thoughtSignature"]);h!=null&&E(t,["thoughtSignature"],h);const g=b(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function Uhe(e){const t={},r=b(e,["retrievalConfig"]);r!=null&&E(t,["retrievalConfig"],r);const n=b(e,["functionCallingConfig"]);return n!=null&&E(t,["functionCallingConfig"],She(n)),t}function Bhe(e){const t={};if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=b(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const i=b(e,["codeExecution"]);if(i!=null&&E(t,["codeExecution"],i),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),E(t,["functionDeclarations"],d)}const s=b(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],khe(s));const o=b(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],Phe(o));const c=b(e,["googleSearchRetrieval"]);c!=null&&E(t,["googleSearchRetrieval"],c);const u=b(e,["urlContext"]);return u!=null&&E(t,["urlContext"],u),t}function Vhe(e){const t={},r=b(e,["retrieval"]);r!=null&&E(t,["retrieval"],r);const n=b(e,["computerUse"]);if(n!=null&&E(t,["computerUse"],n),b(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=b(e,["codeExecution"]);i!=null&&E(t,["codeExecution"],i);const a=b(e,["enterpriseWebSearch"]);a!=null&&E(t,["enterpriseWebSearch"],a);const s=b(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>Che(g))),E(t,["functionDeclarations"],h)}const o=b(e,["googleMaps"]);o!=null&&E(t,["googleMaps"],o);const c=b(e,["googleSearch"]);c!=null&&E(t,["googleSearch"],c);const u=b(e,["googleSearchRetrieval"]);u!=null&&E(t,["googleSearchRetrieval"],u);const d=b(e,["urlContext"]);return d!=null&&E(t,["urlContext"],d),t}function zhe(e,t){const r={},n=b(e,["ttl"]);t!==void 0&&n!=null&&E(t,["ttl"],n);const i=b(e,["expireTime"]);return t!==void 0&&i!=null&&E(t,["expireTime"],i),r}function $he(e,t){const r={},n=b(e,["ttl"]);t!==void 0&&n!=null&&E(t,["ttl"],n);const i=b(e,["expireTime"]);return t!==void 0&&i!=null&&E(t,["expireTime"],i),r}function Hhe(e,t){const r={},n=b(t,["name"]);n!=null&&E(r,["_url","name"],Yl(e,n));const i=b(t,["config"]);return i!=null&&zhe(i,r),r}function Ghe(e,t){const r={},n=b(t,["name"]);n!=null&&E(r,["_url","name"],Yl(e,n));const i=b(t,["config"]);return i!=null&&$he(i,r),r}class qhe extends Wl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Vf(Fl.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=xhe(this.apiClient,t);return o=nt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=yhe(this.apiClient,t);return o=nt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ihe(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=Nhe(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=bhe(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=Ehe(d),g=new VD;return Object.assign(g,h),g})}else{const u=_he(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=whe(d),g=new VD;return Object.assign(g,h),g})}}async update(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ghe(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=Hhe(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Dhe(t);return o=nt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=Lhe(d),g=new zD;return Object.assign(g,h),g})}else{const u=Mhe(t);return o=nt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=Fhe(d),g=new zD;return Object.assign(g,h),g})}}}function xx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function YD(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(e){return this instanceof Nt?(this.v=e,this):new Nt(e)}function oo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(x){return function(_){return Promise.resolve(_).then(x,h)}}function o(x,_){n[x]&&(i[x]=function(w){return new Promise(function(T,C){a.push([x,w,T,C])>1||c(x,w)})},_&&(i[x]=_(i[x])))}function c(x,_){try{u(n[x](_))}catch(w){g(a[0][3],w)}}function u(x){x.value instanceof Nt?Promise.resolve(x.value.v).then(d,h):g(a[0][2],x)}function d(x){c("next",x)}function h(x){c("throw",x)}function g(x,_){x(_),a.shift(),a.length&&c(a[0][0],a[0][1])}}function lo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof YD=="function"?YD(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,c){s=e[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},s)}}function Khe(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return r===void 0?!1:VB(r)}function VB(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Whe(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function JD(e){if(e===void 0||e.length===0)return[];const t=[],r=e.length;let n=0;for(;n<r;)if(e[n].role==="user")t.push(e[n]),n++;else{const i=[];let a=!0;for(;n<r&&e[n].role==="model";)i.push(e[n]),a&&!VB(e[n])&&(a=!1),n++;a?t.push(...i):t.pop()}return t}class Yhe{constructor(t,r){this.modelsModule=t,this.apiClient=r}create(t){return new Jhe(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Jhe{constructor(t,r,n,i={},a=[]){this.apiClient=t,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Whe(a)}async sendMessage(t){var r;await this.sendPromise;const n=qi(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,s,o;const c=await i,u=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];d!=null&&(g=(o=d.slice(h))!==null&&o!==void 0?o:[]);const x=u?[u]:[];this.recordHistory(n,x,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var r;await this.sendPromise;const n=qi(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(t=!1){const r=t?JD(this.history):this.history;return structuredClone(r)}processStreamResponse(t,r){return oo(this,arguments,function*(){var i,a,s,o,c,u;const d=[];try{for(var h=!0,g=lo(t),x;x=yield Nt(g.next()),i=x.done,!i;h=!0){o=x.value,h=!1;const _=o;if(Khe(_)){const w=(u=(c=_.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;w!==void 0&&d.push(w)}yield yield Nt(_)}}catch(_){a={error:_}}finally{try{!h&&!i&&(s=g.return)&&(yield Nt(s.call(g)))}finally{if(a)throw a.error}}this.recordHistory(r,d)})}recordHistory(t,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...JD(n)):this.history.push(t),this.history.push(...i)}}class om extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,om.prototype)}}function Xhe(e){const t={},r=b(e,["file"]);return r!=null&&E(t,["file"],r),t}function Zhe(e){const t={},r=b(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function Qhe(e){const t={},r=b(e,["name"]);return r!=null&&E(t,["_url","file"],MB(r)),t}function e0e(e){const t={},r=b(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}function t0e(e){const t={},r=b(e,["name"]);return r!=null&&E(t,["_url","file"],MB(r)),t}function r0e(e){const t={},r=b(e,["uris"]);return r!=null&&E(t,["uris"],r),t}function n0e(e,t){const r={},n=b(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const i=b(e,["pageToken"]);return t!==void 0&&i!=null&&E(t,["_query","pageToken"],i),r}function i0e(e){const t={},r=b(e,["config"]);return r!=null&&n0e(r,t),t}function a0e(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const i=b(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(t,["files"],a)}return t}function s0e(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["files"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),E(t,["files"],i)}return t}class o0e extends Wl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Vf(Fl.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(r=>r)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=i0e(t);return a=nt("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=a0e(c),d=new lde;return Object.assign(d,u),d})}}async createInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xhe(t);return a=nt("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Zhe(c),d=new cde;return Object.assign(d,u),d})}}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=t0e(t);return a=nt("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Qhe(t);return a=nt("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=e0e(c),d=new ude;return Object.assign(d,u),d})}}async registerFilesInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=r0e(t);return a=nt("files:register",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=s0e(c),d=new fde;return Object.assign(d,u),d})}}}function Cy(e){const t={},r=b(e,["data"]);if(r!=null&&E(t,["data"],r),b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function l0e(e){const t={},r=b(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>T0e(a))),E(t,["parts"],i)}const n=b(e,["role"]);return n!=null&&E(t,["role"],n),t}function c0e(e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=b(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function u0e(e){const t={},r=b(e,["id"]);r!=null&&E(t,["id"],r);const n=b(e,["args"]);n!=null&&E(t,["args"],n);const i=b(e,["name"]);if(i!=null&&E(t,["name"],i),b(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function f0e(e){const t={},r=b(e,["description"]);r!=null&&E(t,["description"],r);const n=b(e,["name"]);n!=null&&E(t,["name"],n);const i=b(e,["parameters"]);i!=null&&E(t,["parameters"],i);const a=b(e,["parametersJsonSchema"]);a!=null&&E(t,["parametersJsonSchema"],a);const s=b(e,["response"]);s!=null&&E(t,["response"],s);const o=b(e,["responseJsonSchema"]);if(o!=null&&E(t,["responseJsonSchema"],o),b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function d0e(e){const t={},r=b(e,["modelSelectionConfig"]);r!=null&&E(t,["modelConfig"],r);const n=b(e,["responseJsonSchema"]);n!=null&&E(t,["responseJsonSchema"],n);const i=b(e,["audioTimestamp"]);i!=null&&E(t,["audioTimestamp"],i);const a=b(e,["candidateCount"]);a!=null&&E(t,["candidateCount"],a);const s=b(e,["enableAffectiveDialog"]);s!=null&&E(t,["enableAffectiveDialog"],s);const o=b(e,["frequencyPenalty"]);o!=null&&E(t,["frequencyPenalty"],o);const c=b(e,["logprobs"]);c!=null&&E(t,["logprobs"],c);const u=b(e,["maxOutputTokens"]);u!=null&&E(t,["maxOutputTokens"],u);const d=b(e,["mediaResolution"]);d!=null&&E(t,["mediaResolution"],d);const h=b(e,["presencePenalty"]);h!=null&&E(t,["presencePenalty"],h);const g=b(e,["responseLogprobs"]);g!=null&&E(t,["responseLogprobs"],g);const x=b(e,["responseMimeType"]);x!=null&&E(t,["responseMimeType"],x);const _=b(e,["responseModalities"]);_!=null&&E(t,["responseModalities"],_);const w=b(e,["responseSchema"]);w!=null&&E(t,["responseSchema"],w);const T=b(e,["routingConfig"]);T!=null&&E(t,["routingConfig"],T);const C=b(e,["seed"]);C!=null&&E(t,["seed"],C);const L=b(e,["speechConfig"]);L!=null&&E(t,["speechConfig"],L);const P=b(e,["stopSequences"]);P!=null&&E(t,["stopSequences"],P);const D=b(e,["temperature"]);D!=null&&E(t,["temperature"],D);const F=b(e,["thinkingConfig"]);F!=null&&E(t,["thinkingConfig"],F);const R=b(e,["topK"]);R!=null&&E(t,["topK"],R);const I=b(e,["topP"]);if(I!=null&&E(t,["topP"],I),b(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function h0e(e){const t={};if(b(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function p0e(e){const t={};if(b(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function m0e(e,t){const r={},n=b(e,["generationConfig"]);t!==void 0&&n!=null&&E(t,["setup","generationConfig"],n);const i=b(e,["responseModalities"]);t!==void 0&&i!=null&&E(t,["setup","generationConfig","responseModalities"],i);const a=b(e,["temperature"]);t!==void 0&&a!=null&&E(t,["setup","generationConfig","temperature"],a);const s=b(e,["topP"]);t!==void 0&&s!=null&&E(t,["setup","generationConfig","topP"],s);const o=b(e,["topK"]);t!==void 0&&o!=null&&E(t,["setup","generationConfig","topK"],o);const c=b(e,["maxOutputTokens"]);t!==void 0&&c!=null&&E(t,["setup","generationConfig","maxOutputTokens"],c);const u=b(e,["mediaResolution"]);t!==void 0&&u!=null&&E(t,["setup","generationConfig","mediaResolution"],u);const d=b(e,["seed"]);t!==void 0&&d!=null&&E(t,["setup","generationConfig","seed"],d);const h=b(e,["speechConfig"]);t!==void 0&&h!=null&&E(t,["setup","generationConfig","speechConfig"],kC(h));const g=b(e,["thinkingConfig"]);t!==void 0&&g!=null&&E(t,["setup","generationConfig","thinkingConfig"],g);const x=b(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&E(t,["setup","generationConfig","enableAffectiveDialog"],x);const _=b(e,["systemInstruction"]);t!==void 0&&_!=null&&E(t,["setup","systemInstruction"],l0e(qi(_)));const w=b(e,["tools"]);if(t!==void 0&&w!=null){let R=Lh(w);Array.isArray(R)&&(R=R.map(I=>S0e(Fh(I)))),E(t,["setup","tools"],R)}const T=b(e,["sessionResumption"]);t!==void 0&&T!=null&&E(t,["setup","sessionResumption"],A0e(T));const C=b(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&E(t,["setup","inputAudioTranscription"],C);const L=b(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&E(t,["setup","outputAudioTranscription"],L);const P=b(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&E(t,["setup","realtimeInputConfig"],P);const D=b(e,["contextWindowCompression"]);t!==void 0&&D!=null&&E(t,["setup","contextWindowCompression"],D);const F=b(e,["proactivity"]);if(t!==void 0&&F!=null&&E(t,["setup","proactivity"],F),b(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function g0e(e,t){const r={},n=b(e,["generationConfig"]);t!==void 0&&n!=null&&E(t,["setup","generationConfig"],d0e(n));const i=b(e,["responseModalities"]);t!==void 0&&i!=null&&E(t,["setup","generationConfig","responseModalities"],i);const a=b(e,["temperature"]);t!==void 0&&a!=null&&E(t,["setup","generationConfig","temperature"],a);const s=b(e,["topP"]);t!==void 0&&s!=null&&E(t,["setup","generationConfig","topP"],s);const o=b(e,["topK"]);t!==void 0&&o!=null&&E(t,["setup","generationConfig","topK"],o);const c=b(e,["maxOutputTokens"]);t!==void 0&&c!=null&&E(t,["setup","generationConfig","maxOutputTokens"],c);const u=b(e,["mediaResolution"]);t!==void 0&&u!=null&&E(t,["setup","generationConfig","mediaResolution"],u);const d=b(e,["seed"]);t!==void 0&&d!=null&&E(t,["setup","generationConfig","seed"],d);const h=b(e,["speechConfig"]);t!==void 0&&h!=null&&E(t,["setup","generationConfig","speechConfig"],kC(h));const g=b(e,["thinkingConfig"]);t!==void 0&&g!=null&&E(t,["setup","generationConfig","thinkingConfig"],g);const x=b(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&E(t,["setup","generationConfig","enableAffectiveDialog"],x);const _=b(e,["systemInstruction"]);t!==void 0&&_!=null&&E(t,["setup","systemInstruction"],qi(_));const w=b(e,["tools"]);if(t!==void 0&&w!=null){let I=Lh(w);Array.isArray(I)&&(I=I.map(k=>C0e(Fh(k)))),E(t,["setup","tools"],I)}const T=b(e,["sessionResumption"]);t!==void 0&&T!=null&&E(t,["setup","sessionResumption"],T);const C=b(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&E(t,["setup","inputAudioTranscription"],C);const L=b(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&E(t,["setup","outputAudioTranscription"],L);const P=b(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&E(t,["setup","realtimeInputConfig"],P);const D=b(e,["contextWindowCompression"]);t!==void 0&&D!=null&&E(t,["setup","contextWindowCompression"],D);const F=b(e,["proactivity"]);t!==void 0&&F!=null&&E(t,["setup","proactivity"],F);const R=b(e,["explicitVadSignal"]);return t!==void 0&&R!=null&&E(t,["setup","explicitVadSignal"],R),r}function v0e(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["setup","model"],hr(e,n));const i=b(t,["config"]);return i!=null&&E(r,["config"],m0e(i,r)),r}function y0e(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["setup","model"],hr(e,n));const i=b(t,["config"]);return i!=null&&E(r,["config"],g0e(i,r)),r}function x0e(e){const t={},r=b(e,["musicGenerationConfig"]);return r!=null&&E(t,["musicGenerationConfig"],r),t}function _0e(e){const t={},r=b(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),E(t,["weightedPrompts"],n)}return t}function b0e(e){const t={},r=b(e,["media"]);if(r!=null){let u=IB(r);Array.isArray(u)&&(u=u.map(d=>Cy(d))),E(t,["mediaChunks"],u)}const n=b(e,["audio"]);n!=null&&E(t,["audio"],Cy(PB(n)));const i=b(e,["audioStreamEnd"]);i!=null&&E(t,["audioStreamEnd"],i);const a=b(e,["video"]);a!=null&&E(t,["video"],Cy(kB(a)));const s=b(e,["text"]);s!=null&&E(t,["text"],s);const o=b(e,["activityStart"]);o!=null&&E(t,["activityStart"],o);const c=b(e,["activityEnd"]);return c!=null&&E(t,["activityEnd"],c),t}function w0e(e){const t={},r=b(e,["media"]);if(r!=null){let u=IB(r);Array.isArray(u)&&(u=u.map(d=>d)),E(t,["mediaChunks"],u)}const n=b(e,["audio"]);n!=null&&E(t,["audio"],PB(n));const i=b(e,["audioStreamEnd"]);i!=null&&E(t,["audioStreamEnd"],i);const a=b(e,["video"]);a!=null&&E(t,["video"],kB(a));const s=b(e,["text"]);s!=null&&E(t,["text"],s);const o=b(e,["activityStart"]);o!=null&&E(t,["activityStart"],o);const c=b(e,["activityEnd"]);return c!=null&&E(t,["activityEnd"],c),t}function E0e(e){const t={},r=b(e,["setupComplete"]);r!=null&&E(t,["setupComplete"],r);const n=b(e,["serverContent"]);n!=null&&E(t,["serverContent"],n);const i=b(e,["toolCall"]);i!=null&&E(t,["toolCall"],i);const a=b(e,["toolCallCancellation"]);a!=null&&E(t,["toolCallCancellation"],a);const s=b(e,["usageMetadata"]);s!=null&&E(t,["usageMetadata"],N0e(s));const o=b(e,["goAway"]);o!=null&&E(t,["goAway"],o);const c=b(e,["sessionResumptionUpdate"]);c!=null&&E(t,["sessionResumptionUpdate"],c);const u=b(e,["voiceActivityDetectionSignal"]);u!=null&&E(t,["voiceActivityDetectionSignal"],u);const d=b(e,["voiceActivity"]);return d!=null&&E(t,["voiceActivity"],I0e(d)),t}function T0e(e){const t={},r=b(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=b(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const i=b(e,["executableCode"]);i!=null&&E(t,["executableCode"],i);const a=b(e,["fileData"]);a!=null&&E(t,["fileData"],c0e(a));const s=b(e,["functionCall"]);s!=null&&E(t,["functionCall"],u0e(s));const o=b(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const c=b(e,["inlineData"]);c!=null&&E(t,["inlineData"],Cy(c));const u=b(e,["text"]);u!=null&&E(t,["text"],u);const d=b(e,["thought"]);d!=null&&E(t,["thought"],d);const h=b(e,["thoughtSignature"]);h!=null&&E(t,["thoughtSignature"],h);const g=b(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function A0e(e){const t={},r=b(e,["handle"]);if(r!=null&&E(t,["handle"],r),b(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function S0e(e){const t={};if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=b(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const i=b(e,["codeExecution"]);if(i!=null&&E(t,["codeExecution"],i),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),E(t,["functionDeclarations"],d)}const s=b(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],h0e(s));const o=b(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],p0e(o));const c=b(e,["googleSearchRetrieval"]);c!=null&&E(t,["googleSearchRetrieval"],c);const u=b(e,["urlContext"]);return u!=null&&E(t,["urlContext"],u),t}function C0e(e){const t={},r=b(e,["retrieval"]);r!=null&&E(t,["retrieval"],r);const n=b(e,["computerUse"]);if(n!=null&&E(t,["computerUse"],n),b(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=b(e,["codeExecution"]);i!=null&&E(t,["codeExecution"],i);const a=b(e,["enterpriseWebSearch"]);a!=null&&E(t,["enterpriseWebSearch"],a);const s=b(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>f0e(g))),E(t,["functionDeclarations"],h)}const o=b(e,["googleMaps"]);o!=null&&E(t,["googleMaps"],o);const c=b(e,["googleSearch"]);c!=null&&E(t,["googleSearch"],c);const u=b(e,["googleSearchRetrieval"]);u!=null&&E(t,["googleSearchRetrieval"],u);const d=b(e,["urlContext"]);return d!=null&&E(t,["urlContext"],d),t}function N0e(e){const t={},r=b(e,["promptTokenCount"]);r!=null&&E(t,["promptTokenCount"],r);const n=b(e,["cachedContentTokenCount"]);n!=null&&E(t,["cachedContentTokenCount"],n);const i=b(e,["candidatesTokenCount"]);i!=null&&E(t,["responseTokenCount"],i);const a=b(e,["toolUsePromptTokenCount"]);a!=null&&E(t,["toolUsePromptTokenCount"],a);const s=b(e,["thoughtsTokenCount"]);s!=null&&E(t,["thoughtsTokenCount"],s);const o=b(e,["totalTokenCount"]);o!=null&&E(t,["totalTokenCount"],o);const c=b(e,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(_=>_)),E(t,["promptTokensDetails"],x)}const u=b(e,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(_=>_)),E(t,["cacheTokensDetails"],x)}const d=b(e,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(_=>_)),E(t,["responseTokensDetails"],x)}const h=b(e,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(_=>_)),E(t,["toolUsePromptTokensDetails"],x)}const g=b(e,["trafficType"]);return g!=null&&E(t,["trafficType"],g),t}function I0e(e){const t={},r=b(e,["type"]);return r!=null&&E(t,["voiceActivityType"],r),t}function k0e(e,t){const r={},n=b(e,["data"]);if(n!=null&&E(r,["data"],n),b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=b(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function P0e(e,t){const r={},n=b(e,["content"]);n!=null&&E(r,["content"],n);const i=b(e,["citationMetadata"]);i!=null&&E(r,["citationMetadata"],R0e(i));const a=b(e,["tokenCount"]);a!=null&&E(r,["tokenCount"],a);const s=b(e,["finishReason"]);s!=null&&E(r,["finishReason"],s);const o=b(e,["avgLogprobs"]);o!=null&&E(r,["avgLogprobs"],o);const c=b(e,["groundingMetadata"]);c!=null&&E(r,["groundingMetadata"],c);const u=b(e,["index"]);u!=null&&E(r,["index"],u);const d=b(e,["logprobsResult"]);d!=null&&E(r,["logprobsResult"],d);const h=b(e,["safetyRatings"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(_=>_)),E(r,["safetyRatings"],x)}const g=b(e,["urlContextMetadata"]);return g!=null&&E(r,["urlContextMetadata"],g),r}function R0e(e,t){const r={},n=b(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),E(r,["citations"],i)}return r}function O0e(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["contents"]);if(a!=null){let s=Ms(a);Array.isArray(s)&&(s=s.map(o=>o)),E(n,["contents"],s)}return n}function M0e(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(r,["tokensInfo"],a)}return r}function D0e(e,t){const r={},n=b(e,["values"]);n!=null&&E(r,["values"],n);const i=b(e,["statistics"]);return i!=null&&E(r,["statistics"],F0e(i)),r}function F0e(e,t){const r={},n=b(e,["truncated"]);n!=null&&E(r,["truncated"],n);const i=b(e,["token_count"]);return i!=null&&E(r,["tokenCount"],i),r}function z1(e,t){const r={},n=b(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Gpe(s))),E(r,["parts"],a)}const i=b(e,["role"]);return i!=null&&E(r,["role"],i),r}function L0e(e,t){const r={},n=b(e,["controlType"]);n!=null&&E(r,["controlType"],n);const i=b(e,["enableControlImageComputation"]);return i!=null&&E(r,["computeControl"],i),r}function j0e(e,t){const r={};if(b(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function U0e(e,t,r){const n={},i=b(e,["systemInstruction"]);t!==void 0&&i!=null&&E(t,["systemInstruction"],qi(i));const a=b(e,["tools"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>GB(c))),E(t,["tools"],o)}const s=b(e,["generationConfig"]);return t!==void 0&&s!=null&&E(t,["generationConfig"],kpe(s)),n}function B0e(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["contents"]);if(a!=null){let o=Ms(a);Array.isArray(o)&&(o=o.map(c=>z1(c))),E(n,["contents"],o)}const s=b(t,["config"]);return s!=null&&j0e(s),n}function V0e(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["contents"]);if(a!=null){let o=Ms(a);Array.isArray(o)&&(o=o.map(c=>c)),E(n,["contents"],o)}const s=b(t,["config"]);return s!=null&&U0e(s,n),n}function z0e(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["totalTokens"]);i!=null&&E(r,["totalTokens"],i);const a=b(e,["cachedContentTokenCount"]);return a!=null&&E(r,["cachedContentTokenCount"],a),r}function $0e(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["totalTokens"]);return i!=null&&E(r,["totalTokens"],i),r}function H0e(e,t,r){const n={},i=b(t,["model"]);return i!=null&&E(n,["_url","name"],hr(e,i)),n}function G0e(e,t,r){const n={},i=b(t,["model"]);return i!=null&&E(n,["_url","name"],hr(e,i)),n}function q0e(e,t){const r={},n=b(e,["sdkHttpResponse"]);return n!=null&&E(r,["sdkHttpResponse"],n),r}function K0e(e,t){const r={},n=b(e,["sdkHttpResponse"]);return n!=null&&E(r,["sdkHttpResponse"],n),r}function W0e(e,t,r){const n={},i=b(e,["outputGcsUri"]);t!==void 0&&i!=null&&E(t,["parameters","storageUri"],i);const a=b(e,["negativePrompt"]);t!==void 0&&a!=null&&E(t,["parameters","negativePrompt"],a);const s=b(e,["numberOfImages"]);t!==void 0&&s!=null&&E(t,["parameters","sampleCount"],s);const o=b(e,["aspectRatio"]);t!==void 0&&o!=null&&E(t,["parameters","aspectRatio"],o);const c=b(e,["guidanceScale"]);t!==void 0&&c!=null&&E(t,["parameters","guidanceScale"],c);const u=b(e,["seed"]);t!==void 0&&u!=null&&E(t,["parameters","seed"],u);const d=b(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&E(t,["parameters","safetySetting"],d);const h=b(e,["personGeneration"]);t!==void 0&&h!=null&&E(t,["parameters","personGeneration"],h);const g=b(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&E(t,["parameters","includeSafetyAttributes"],g);const x=b(e,["includeRaiReason"]);t!==void 0&&x!=null&&E(t,["parameters","includeRaiReason"],x);const _=b(e,["language"]);t!==void 0&&_!=null&&E(t,["parameters","language"],_);const w=b(e,["outputMimeType"]);t!==void 0&&w!=null&&E(t,["parameters","outputOptions","mimeType"],w);const T=b(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&E(t,["parameters","outputOptions","compressionQuality"],T);const C=b(e,["addWatermark"]);t!==void 0&&C!=null&&E(t,["parameters","addWatermark"],C);const L=b(e,["labels"]);t!==void 0&&L!=null&&E(t,["labels"],L);const P=b(e,["editMode"]);t!==void 0&&P!=null&&E(t,["parameters","editMode"],P);const D=b(e,["baseSteps"]);return t!==void 0&&D!=null&&E(t,["parameters","editConfig","baseSteps"],D),n}function Y0e(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["prompt"]);a!=null&&E(n,["instances[0]","prompt"],a);const s=b(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(u=>Xpe(u))),E(n,["instances[0]","referenceImages"],c)}const o=b(t,["config"]);return o!=null&&W0e(o,n),n}function J0e(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>$1(s))),E(r,["generatedImages"],a)}return r}function X0e(e,t,r){const n={},i=b(e,["taskType"]);t!==void 0&&i!=null&&E(t,["requests[]","taskType"],i);const a=b(e,["title"]);t!==void 0&&a!=null&&E(t,["requests[]","title"],a);const s=b(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&E(t,["requests[]","outputDimensionality"],s),b(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Z0e(e,t,r){const n={},i=b(e,["taskType"]);t!==void 0&&i!=null&&E(t,["instances[]","task_type"],i);const a=b(e,["title"]);t!==void 0&&a!=null&&E(t,["instances[]","title"],a);const s=b(e,["outputDimensionality"]);t!==void 0&&s!=null&&E(t,["parameters","outputDimensionality"],s);const o=b(e,["mimeType"]);t!==void 0&&o!=null&&E(t,["instances[]","mimeType"],o);const c=b(e,["autoTruncate"]);return t!==void 0&&c!=null&&E(t,["parameters","autoTruncate"],c),n}function Q0e(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["contents"]);if(a!=null){let c=CC(e,a);Array.isArray(c)&&(c=c.map(u=>u)),E(n,["requests[]","content"],c)}const s=b(t,["config"]);s!=null&&X0e(s,n);const o=b(t,["model"]);return o!==void 0&&E(n,["requests[]","model"],hr(e,o)),n}function epe(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["contents"]);if(a!=null){let o=CC(e,a);Array.isArray(o)&&(o=o.map(c=>c)),E(n,["instances[]","content"],o)}const s=b(t,["config"]);return s!=null&&Z0e(s,n),n}function tpe(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(r,["embeddings"],s)}const a=b(e,["metadata"]);return a!=null&&E(r,["metadata"],a),r}function rpe(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>D0e(o))),E(r,["embeddings"],s)}const a=b(e,["metadata"]);return a!=null&&E(r,["metadata"],a),r}function npe(e,t){const r={},n=b(e,["endpoint"]);n!=null&&E(r,["name"],n);const i=b(e,["deployedModelId"]);return i!=null&&E(r,["deployedModelId"],i),r}function ipe(e,t){const r={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["fileUri"]);n!=null&&E(r,["fileUri"],n);const i=b(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function ape(e,t){const r={},n=b(e,["id"]);n!=null&&E(r,["id"],n);const i=b(e,["args"]);i!=null&&E(r,["args"],i);const a=b(e,["name"]);if(a!=null&&E(r,["name"],a),b(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function spe(e,t){const r={},n=b(e,["allowedFunctionNames"]);n!=null&&E(r,["allowedFunctionNames"],n);const i=b(e,["mode"]);if(i!=null&&E(r,["mode"],i),b(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function ope(e,t){const r={},n=b(e,["description"]);n!=null&&E(r,["description"],n);const i=b(e,["name"]);i!=null&&E(r,["name"],i);const a=b(e,["parameters"]);a!=null&&E(r,["parameters"],a);const s=b(e,["parametersJsonSchema"]);s!=null&&E(r,["parametersJsonSchema"],s);const o=b(e,["response"]);o!=null&&E(r,["response"],o);const c=b(e,["responseJsonSchema"]);if(c!=null&&E(r,["responseJsonSchema"],c),b(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return r}function lpe(e,t,r,n){const i={},a=b(t,["systemInstruction"]);r!==void 0&&a!=null&&E(r,["systemInstruction"],z1(qi(a)));const s=b(t,["temperature"]);s!=null&&E(i,["temperature"],s);const o=b(t,["topP"]);o!=null&&E(i,["topP"],o);const c=b(t,["topK"]);c!=null&&E(i,["topK"],c);const u=b(t,["candidateCount"]);u!=null&&E(i,["candidateCount"],u);const d=b(t,["maxOutputTokens"]);d!=null&&E(i,["maxOutputTokens"],d);const h=b(t,["stopSequences"]);h!=null&&E(i,["stopSequences"],h);const g=b(t,["responseLogprobs"]);g!=null&&E(i,["responseLogprobs"],g);const x=b(t,["logprobs"]);x!=null&&E(i,["logprobs"],x);const _=b(t,["presencePenalty"]);_!=null&&E(i,["presencePenalty"],_);const w=b(t,["frequencyPenalty"]);w!=null&&E(i,["frequencyPenalty"],w);const T=b(t,["seed"]);T!=null&&E(i,["seed"],T);const C=b(t,["responseMimeType"]);C!=null&&E(i,["responseMimeType"],C);const L=b(t,["responseSchema"]);L!=null&&E(i,["responseSchema"],NC(L));const P=b(t,["responseJsonSchema"]);if(P!=null&&E(i,["responseJsonSchema"],P),b(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=b(t,["safetySettings"]);if(r!==void 0&&D!=null){let de=D;Array.isArray(de)&&(de=de.map(ge=>Zpe(ge))),E(r,["safetySettings"],de)}const F=b(t,["tools"]);if(r!==void 0&&F!=null){let de=Lh(F);Array.isArray(de)&&(de=de.map(ge=>ame(Fh(ge)))),E(r,["tools"],de)}const R=b(t,["toolConfig"]);if(r!==void 0&&R!=null&&E(r,["toolConfig"],ime(R)),b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=b(t,["cachedContent"]);r!==void 0&&I!=null&&E(r,["cachedContent"],Yl(e,I));const k=b(t,["responseModalities"]);k!=null&&E(i,["responseModalities"],k);const O=b(t,["mediaResolution"]);O!=null&&E(i,["mediaResolution"],O);const B=b(t,["speechConfig"]);if(B!=null&&E(i,["speechConfig"],IC(B)),b(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=b(t,["thinkingConfig"]);V!=null&&E(i,["thinkingConfig"],V);const j=b(t,["imageConfig"]);j!=null&&E(i,["imageConfig"],Dpe(j));const G=b(t,["enableEnhancedCivicAnswers"]);if(G!=null&&E(i,["enableEnhancedCivicAnswers"],G),b(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function cpe(e,t,r,n){const i={},a=b(t,["systemInstruction"]);r!==void 0&&a!=null&&E(r,["systemInstruction"],qi(a));const s=b(t,["temperature"]);s!=null&&E(i,["temperature"],s);const o=b(t,["topP"]);o!=null&&E(i,["topP"],o);const c=b(t,["topK"]);c!=null&&E(i,["topK"],c);const u=b(t,["candidateCount"]);u!=null&&E(i,["candidateCount"],u);const d=b(t,["maxOutputTokens"]);d!=null&&E(i,["maxOutputTokens"],d);const h=b(t,["stopSequences"]);h!=null&&E(i,["stopSequences"],h);const g=b(t,["responseLogprobs"]);g!=null&&E(i,["responseLogprobs"],g);const x=b(t,["logprobs"]);x!=null&&E(i,["logprobs"],x);const _=b(t,["presencePenalty"]);_!=null&&E(i,["presencePenalty"],_);const w=b(t,["frequencyPenalty"]);w!=null&&E(i,["frequencyPenalty"],w);const T=b(t,["seed"]);T!=null&&E(i,["seed"],T);const C=b(t,["responseMimeType"]);C!=null&&E(i,["responseMimeType"],C);const L=b(t,["responseSchema"]);L!=null&&E(i,["responseSchema"],NC(L));const P=b(t,["responseJsonSchema"]);P!=null&&E(i,["responseJsonSchema"],P);const D=b(t,["routingConfig"]);D!=null&&E(i,["routingConfig"],D);const F=b(t,["modelSelectionConfig"]);F!=null&&E(i,["modelConfig"],F);const R=b(t,["safetySettings"]);if(r!==void 0&&R!=null){let ue=R;Array.isArray(ue)&&(ue=ue.map(ae=>ae)),E(r,["safetySettings"],ue)}const I=b(t,["tools"]);if(r!==void 0&&I!=null){let ue=Lh(I);Array.isArray(ue)&&(ue=ue.map(ae=>GB(Fh(ae)))),E(r,["tools"],ue)}const k=b(t,["toolConfig"]);r!==void 0&&k!=null&&E(r,["toolConfig"],k);const O=b(t,["labels"]);r!==void 0&&O!=null&&E(r,["labels"],O);const B=b(t,["cachedContent"]);r!==void 0&&B!=null&&E(r,["cachedContent"],Yl(e,B));const V=b(t,["responseModalities"]);V!=null&&E(i,["responseModalities"],V);const j=b(t,["mediaResolution"]);j!=null&&E(i,["mediaResolution"],j);const G=b(t,["speechConfig"]);G!=null&&E(i,["speechConfig"],IC(G));const de=b(t,["audioTimestamp"]);de!=null&&E(i,["audioTimestamp"],de);const ge=b(t,["thinkingConfig"]);ge!=null&&E(i,["thinkingConfig"],ge);const ie=b(t,["imageConfig"]);if(ie!=null&&E(i,["imageConfig"],Fpe(ie)),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const fe=b(t,["modelArmorConfig"]);return r!==void 0&&fe!=null&&E(r,["modelArmorConfig"],fe),i}function XD(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["contents"]);if(a!=null){let o=Ms(a);Array.isArray(o)&&(o=o.map(c=>z1(c))),E(n,["contents"],o)}const s=b(t,["config"]);return s!=null&&E(n,["generationConfig"],lpe(e,s,n)),n}function ZD(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["contents"]);if(a!=null){let o=Ms(a);Array.isArray(o)&&(o=o.map(c=>c)),E(n,["contents"],o)}const s=b(t,["config"]);return s!=null&&E(n,["generationConfig"],cpe(e,s,n)),n}function QD(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>P0e(d))),E(r,["candidates"],u)}const a=b(e,["modelVersion"]);a!=null&&E(r,["modelVersion"],a);const s=b(e,["promptFeedback"]);s!=null&&E(r,["promptFeedback"],s);const o=b(e,["responseId"]);o!=null&&E(r,["responseId"],o);const c=b(e,["usageMetadata"]);return c!=null&&E(r,["usageMetadata"],c),r}function e3(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(h=>h)),E(r,["candidates"],d)}const a=b(e,["createTime"]);a!=null&&E(r,["createTime"],a);const s=b(e,["modelVersion"]);s!=null&&E(r,["modelVersion"],s);const o=b(e,["promptFeedback"]);o!=null&&E(r,["promptFeedback"],o);const c=b(e,["responseId"]);c!=null&&E(r,["responseId"],c);const u=b(e,["usageMetadata"]);return u!=null&&E(r,["usageMetadata"],u),r}function upe(e,t,r){const n={};if(b(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=b(e,["numberOfImages"]);t!==void 0&&i!=null&&E(t,["parameters","sampleCount"],i);const a=b(e,["aspectRatio"]);t!==void 0&&a!=null&&E(t,["parameters","aspectRatio"],a);const s=b(e,["guidanceScale"]);if(t!==void 0&&s!=null&&E(t,["parameters","guidanceScale"],s),b(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=b(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&E(t,["parameters","safetySetting"],o);const c=b(e,["personGeneration"]);t!==void 0&&c!=null&&E(t,["parameters","personGeneration"],c);const u=b(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&E(t,["parameters","includeSafetyAttributes"],u);const d=b(e,["includeRaiReason"]);t!==void 0&&d!=null&&E(t,["parameters","includeRaiReason"],d);const h=b(e,["language"]);t!==void 0&&h!=null&&E(t,["parameters","language"],h);const g=b(e,["outputMimeType"]);t!==void 0&&g!=null&&E(t,["parameters","outputOptions","mimeType"],g);const x=b(e,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&E(t,["parameters","outputOptions","compressionQuality"],x),b(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=b(e,["imageSize"]);if(t!==void 0&&_!=null&&E(t,["parameters","sampleImageSize"],_),b(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function fpe(e,t,r){const n={},i=b(e,["outputGcsUri"]);t!==void 0&&i!=null&&E(t,["parameters","storageUri"],i);const a=b(e,["negativePrompt"]);t!==void 0&&a!=null&&E(t,["parameters","negativePrompt"],a);const s=b(e,["numberOfImages"]);t!==void 0&&s!=null&&E(t,["parameters","sampleCount"],s);const o=b(e,["aspectRatio"]);t!==void 0&&o!=null&&E(t,["parameters","aspectRatio"],o);const c=b(e,["guidanceScale"]);t!==void 0&&c!=null&&E(t,["parameters","guidanceScale"],c);const u=b(e,["seed"]);t!==void 0&&u!=null&&E(t,["parameters","seed"],u);const d=b(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&E(t,["parameters","safetySetting"],d);const h=b(e,["personGeneration"]);t!==void 0&&h!=null&&E(t,["parameters","personGeneration"],h);const g=b(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&E(t,["parameters","includeSafetyAttributes"],g);const x=b(e,["includeRaiReason"]);t!==void 0&&x!=null&&E(t,["parameters","includeRaiReason"],x);const _=b(e,["language"]);t!==void 0&&_!=null&&E(t,["parameters","language"],_);const w=b(e,["outputMimeType"]);t!==void 0&&w!=null&&E(t,["parameters","outputOptions","mimeType"],w);const T=b(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&E(t,["parameters","outputOptions","compressionQuality"],T);const C=b(e,["addWatermark"]);t!==void 0&&C!=null&&E(t,["parameters","addWatermark"],C);const L=b(e,["labels"]);t!==void 0&&L!=null&&E(t,["labels"],L);const P=b(e,["imageSize"]);t!==void 0&&P!=null&&E(t,["parameters","sampleImageSize"],P);const D=b(e,["enhancePrompt"]);return t!==void 0&&D!=null&&E(t,["parameters","enhancePrompt"],D),n}function dpe(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["prompt"]);a!=null&&E(n,["instances[0]","prompt"],a);const s=b(t,["config"]);return s!=null&&upe(s,n),n}function hpe(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["prompt"]);a!=null&&E(n,["instances[0]","prompt"],a);const s=b(t,["config"]);return s!=null&&fpe(s,n),n}function ppe(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Spe(o))),E(r,["generatedImages"],s)}const a=b(e,["positivePromptSafetyAttributes"]);return a!=null&&E(r,["positivePromptSafetyAttributes"],$B(a)),r}function mpe(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>$1(o))),E(r,["generatedImages"],s)}const a=b(e,["positivePromptSafetyAttributes"]);return a!=null&&E(r,["positivePromptSafetyAttributes"],HB(a)),r}function gpe(e,t,r){const n={},i=b(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&E(t,["parameters","sampleCount"],i),b(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=b(e,["durationSeconds"]);if(t!==void 0&&a!=null&&E(t,["parameters","durationSeconds"],a),b(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=b(e,["aspectRatio"]);t!==void 0&&s!=null&&E(t,["parameters","aspectRatio"],s);const o=b(e,["resolution"]);t!==void 0&&o!=null&&E(t,["parameters","resolution"],o);const c=b(e,["personGeneration"]);if(t!==void 0&&c!=null&&E(t,["parameters","personGeneration"],c),b(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=b(e,["negativePrompt"]);t!==void 0&&u!=null&&E(t,["parameters","negativePrompt"],u);const d=b(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&E(t,["parameters","enhancePrompt"],d),b(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=b(e,["lastFrame"]);t!==void 0&&h!=null&&E(t,["instances[0]","lastFrame"],H1(h));const g=b(e,["referenceImages"]);if(t!==void 0&&g!=null){let x=g;Array.isArray(x)&&(x=x.map(_=>yme(_))),E(t,["instances[0]","referenceImages"],x)}if(b(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(b(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function vpe(e,t,r){const n={},i=b(e,["numberOfVideos"]);t!==void 0&&i!=null&&E(t,["parameters","sampleCount"],i);const a=b(e,["outputGcsUri"]);t!==void 0&&a!=null&&E(t,["parameters","storageUri"],a);const s=b(e,["fps"]);t!==void 0&&s!=null&&E(t,["parameters","fps"],s);const o=b(e,["durationSeconds"]);t!==void 0&&o!=null&&E(t,["parameters","durationSeconds"],o);const c=b(e,["seed"]);t!==void 0&&c!=null&&E(t,["parameters","seed"],c);const u=b(e,["aspectRatio"]);t!==void 0&&u!=null&&E(t,["parameters","aspectRatio"],u);const d=b(e,["resolution"]);t!==void 0&&d!=null&&E(t,["parameters","resolution"],d);const h=b(e,["personGeneration"]);t!==void 0&&h!=null&&E(t,["parameters","personGeneration"],h);const g=b(e,["pubsubTopic"]);t!==void 0&&g!=null&&E(t,["parameters","pubsubTopic"],g);const x=b(e,["negativePrompt"]);t!==void 0&&x!=null&&E(t,["parameters","negativePrompt"],x);const _=b(e,["enhancePrompt"]);t!==void 0&&_!=null&&E(t,["parameters","enhancePrompt"],_);const w=b(e,["generateAudio"]);t!==void 0&&w!=null&&E(t,["parameters","generateAudio"],w);const T=b(e,["lastFrame"]);t!==void 0&&T!=null&&E(t,["instances[0]","lastFrame"],vo(T));const C=b(e,["referenceImages"]);if(t!==void 0&&C!=null){let D=C;Array.isArray(D)&&(D=D.map(F=>xme(F))),E(t,["instances[0]","referenceImages"],D)}const L=b(e,["mask"]);t!==void 0&&L!=null&&E(t,["instances[0]","mask"],vme(L));const P=b(e,["compressionQuality"]);return t!==void 0&&P!=null&&E(t,["parameters","compressionQuality"],P),n}function ype(e,t){const r={},n=b(e,["name"]);n!=null&&E(r,["name"],n);const i=b(e,["metadata"]);i!=null&&E(r,["metadata"],i);const a=b(e,["done"]);a!=null&&E(r,["done"],a);const s=b(e,["error"]);s!=null&&E(r,["error"],s);const o=b(e,["response","generateVideoResponse"]);return o!=null&&E(r,["response"],wpe(o)),r}function xpe(e,t){const r={},n=b(e,["name"]);n!=null&&E(r,["name"],n);const i=b(e,["metadata"]);i!=null&&E(r,["metadata"],i);const a=b(e,["done"]);a!=null&&E(r,["done"],a);const s=b(e,["error"]);s!=null&&E(r,["error"],s);const o=b(e,["response"]);return o!=null&&E(r,["response"],Epe(o)),r}function _pe(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["prompt"]);a!=null&&E(n,["instances[0]","prompt"],a);const s=b(t,["image"]);s!=null&&E(n,["instances[0]","image"],H1(s));const o=b(t,["video"]);o!=null&&E(n,["instances[0]","video"],qB(o));const c=b(t,["source"]);c!=null&&Tpe(c,n);const u=b(t,["config"]);return u!=null&&gpe(u,n),n}function bpe(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["prompt"]);a!=null&&E(n,["instances[0]","prompt"],a);const s=b(t,["image"]);s!=null&&E(n,["instances[0]","image"],vo(s));const o=b(t,["video"]);o!=null&&E(n,["instances[0]","video"],KB(o));const c=b(t,["source"]);c!=null&&Ape(c,n);const u=b(t,["config"]);return u!=null&&vpe(u,n),n}function wpe(e,t){const r={},n=b(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Npe(o))),E(r,["generatedVideos"],s)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&E(r,["raiMediaFilteredCount"],i);const a=b(e,["raiMediaFilteredReasons"]);return a!=null&&E(r,["raiMediaFilteredReasons"],a),r}function Epe(e,t){const r={},n=b(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Ipe(o))),E(r,["generatedVideos"],s)}const i=b(e,["raiMediaFilteredCount"]);i!=null&&E(r,["raiMediaFilteredCount"],i);const a=b(e,["raiMediaFilteredReasons"]);return a!=null&&E(r,["raiMediaFilteredReasons"],a),r}function Tpe(e,t,r){const n={},i=b(e,["prompt"]);t!==void 0&&i!=null&&E(t,["instances[0]","prompt"],i);const a=b(e,["image"]);t!==void 0&&a!=null&&E(t,["instances[0]","image"],H1(a));const s=b(e,["video"]);return t!==void 0&&s!=null&&E(t,["instances[0]","video"],qB(s)),n}function Ape(e,t,r){const n={},i=b(e,["prompt"]);t!==void 0&&i!=null&&E(t,["instances[0]","prompt"],i);const a=b(e,["image"]);t!==void 0&&a!=null&&E(t,["instances[0]","image"],vo(a));const s=b(e,["video"]);return t!==void 0&&s!=null&&E(t,["instances[0]","video"],KB(s)),n}function Spe(e,t){const r={},n=b(e,["_self"]);n!=null&&E(r,["image"],Lpe(n));const i=b(e,["raiFilteredReason"]);i!=null&&E(r,["raiFilteredReason"],i);const a=b(e,["_self"]);return a!=null&&E(r,["safetyAttributes"],$B(a)),r}function $1(e,t){const r={},n=b(e,["_self"]);n!=null&&E(r,["image"],zB(n));const i=b(e,["raiFilteredReason"]);i!=null&&E(r,["raiFilteredReason"],i);const a=b(e,["_self"]);a!=null&&E(r,["safetyAttributes"],HB(a));const s=b(e,["prompt"]);return s!=null&&E(r,["enhancedPrompt"],s),r}function Cpe(e,t){const r={},n=b(e,["_self"]);n!=null&&E(r,["mask"],zB(n));const i=b(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(r,["labels"],a)}return r}function Npe(e,t){const r={},n=b(e,["video"]);return n!=null&&E(r,["video"],mme(n)),r}function Ipe(e,t){const r={},n=b(e,["_self"]);return n!=null&&E(r,["video"],gme(n)),r}function kpe(e,t){const r={},n=b(e,["modelSelectionConfig"]);n!=null&&E(r,["modelConfig"],n);const i=b(e,["responseJsonSchema"]);i!=null&&E(r,["responseJsonSchema"],i);const a=b(e,["audioTimestamp"]);a!=null&&E(r,["audioTimestamp"],a);const s=b(e,["candidateCount"]);s!=null&&E(r,["candidateCount"],s);const o=b(e,["enableAffectiveDialog"]);o!=null&&E(r,["enableAffectiveDialog"],o);const c=b(e,["frequencyPenalty"]);c!=null&&E(r,["frequencyPenalty"],c);const u=b(e,["logprobs"]);u!=null&&E(r,["logprobs"],u);const d=b(e,["maxOutputTokens"]);d!=null&&E(r,["maxOutputTokens"],d);const h=b(e,["mediaResolution"]);h!=null&&E(r,["mediaResolution"],h);const g=b(e,["presencePenalty"]);g!=null&&E(r,["presencePenalty"],g);const x=b(e,["responseLogprobs"]);x!=null&&E(r,["responseLogprobs"],x);const _=b(e,["responseMimeType"]);_!=null&&E(r,["responseMimeType"],_);const w=b(e,["responseModalities"]);w!=null&&E(r,["responseModalities"],w);const T=b(e,["responseSchema"]);T!=null&&E(r,["responseSchema"],T);const C=b(e,["routingConfig"]);C!=null&&E(r,["routingConfig"],C);const L=b(e,["seed"]);L!=null&&E(r,["seed"],L);const P=b(e,["speechConfig"]);P!=null&&E(r,["speechConfig"],P);const D=b(e,["stopSequences"]);D!=null&&E(r,["stopSequences"],D);const F=b(e,["temperature"]);F!=null&&E(r,["temperature"],F);const R=b(e,["thinkingConfig"]);R!=null&&E(r,["thinkingConfig"],R);const I=b(e,["topK"]);I!=null&&E(r,["topK"],I);const k=b(e,["topP"]);if(k!=null&&E(r,["topP"],k),b(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Ppe(e,t,r){const n={},i=b(t,["model"]);return i!=null&&E(n,["_url","name"],hr(e,i)),n}function Rpe(e,t,r){const n={},i=b(t,["model"]);return i!=null&&E(n,["_url","name"],hr(e,i)),n}function Ope(e,t){const r={};if(b(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(e,["enableWidget"]);return n!=null&&E(r,["enableWidget"],n),r}function Mpe(e,t){const r={};if(b(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(e,["timeRangeFilter"]);return n!=null&&E(r,["timeRangeFilter"],n),r}function Dpe(e,t){const r={},n=b(e,["aspectRatio"]);n!=null&&E(r,["aspectRatio"],n);const i=b(e,["imageSize"]);if(i!=null&&E(r,["imageSize"],i),b(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(b(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(b(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function Fpe(e,t){const r={},n=b(e,["aspectRatio"]);n!=null&&E(r,["aspectRatio"],n);const i=b(e,["imageSize"]);i!=null&&E(r,["imageSize"],i);const a=b(e,["personGeneration"]);a!=null&&E(r,["personGeneration"],a);const s=b(e,["outputMimeType"]);s!=null&&E(r,["imageOutputOptions","mimeType"],s);const o=b(e,["outputCompressionQuality"]);return o!=null&&E(r,["imageOutputOptions","compressionQuality"],o),r}function Lpe(e,t){const r={},n=b(e,["bytesBase64Encoded"]);n!=null&&E(r,["imageBytes"],pu(n));const i=b(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function zB(e,t){const r={},n=b(e,["gcsUri"]);n!=null&&E(r,["gcsUri"],n);const i=b(e,["bytesBase64Encoded"]);i!=null&&E(r,["imageBytes"],pu(i));const a=b(e,["mimeType"]);return a!=null&&E(r,["mimeType"],a),r}function H1(e,t){const r={};if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=b(e,["imageBytes"]);n!=null&&E(r,["bytesBase64Encoded"],pu(n));const i=b(e,["mimeType"]);return i!=null&&E(r,["mimeType"],i),r}function vo(e,t){const r={},n=b(e,["gcsUri"]);n!=null&&E(r,["gcsUri"],n);const i=b(e,["imageBytes"]);i!=null&&E(r,["bytesBase64Encoded"],pu(i));const a=b(e,["mimeType"]);return a!=null&&E(r,["mimeType"],a),r}function jpe(e,t,r,n){const i={},a=b(t,["pageSize"]);r!==void 0&&a!=null&&E(r,["_query","pageSize"],a);const s=b(t,["pageToken"]);r!==void 0&&s!=null&&E(r,["_query","pageToken"],s);const o=b(t,["filter"]);r!==void 0&&o!=null&&E(r,["_query","filter"],o);const c=b(t,["queryBase"]);return r!==void 0&&c!=null&&E(r,["_url","models_url"],DB(e,c)),i}function Upe(e,t,r,n){const i={},a=b(t,["pageSize"]);r!==void 0&&a!=null&&E(r,["_query","pageSize"],a);const s=b(t,["pageToken"]);r!==void 0&&s!=null&&E(r,["_query","pageToken"],s);const o=b(t,["filter"]);r!==void 0&&o!=null&&E(r,["_query","filter"],o);const c=b(t,["queryBase"]);return r!==void 0&&c!=null&&E(r,["_url","models_url"],DB(e,c)),i}function Bpe(e,t,r){const n={},i=b(t,["config"]);return i!=null&&jpe(e,i,n),n}function Vpe(e,t,r){const n={},i=b(t,["config"]);return i!=null&&Upe(e,i,n),n}function zpe(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["nextPageToken"]);i!=null&&E(r,["nextPageToken"],i);const a=b(e,["_self"]);if(a!=null){let s=FB(a);Array.isArray(s)&&(s=s.map(o=>YA(o))),E(r,["models"],s)}return r}function $pe(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["nextPageToken"]);i!=null&&E(r,["nextPageToken"],i);const a=b(e,["_self"]);if(a!=null){let s=FB(a);Array.isArray(s)&&(s=s.map(o=>JA(o))),E(r,["models"],s)}return r}function Hpe(e,t){const r={},n=b(e,["maskMode"]);n!=null&&E(r,["maskMode"],n);const i=b(e,["segmentationClasses"]);i!=null&&E(r,["maskClasses"],i);const a=b(e,["maskDilation"]);return a!=null&&E(r,["dilation"],a),r}function YA(e,t){const r={},n=b(e,["name"]);n!=null&&E(r,["name"],n);const i=b(e,["displayName"]);i!=null&&E(r,["displayName"],i);const a=b(e,["description"]);a!=null&&E(r,["description"],a);const s=b(e,["version"]);s!=null&&E(r,["version"],s);const o=b(e,["_self"]);o!=null&&E(r,["tunedModelInfo"],sme(o));const c=b(e,["inputTokenLimit"]);c!=null&&E(r,["inputTokenLimit"],c);const u=b(e,["outputTokenLimit"]);u!=null&&E(r,["outputTokenLimit"],u);const d=b(e,["supportedGenerationMethods"]);d!=null&&E(r,["supportedActions"],d);const h=b(e,["temperature"]);h!=null&&E(r,["temperature"],h);const g=b(e,["maxTemperature"]);g!=null&&E(r,["maxTemperature"],g);const x=b(e,["topP"]);x!=null&&E(r,["topP"],x);const _=b(e,["topK"]);_!=null&&E(r,["topK"],_);const w=b(e,["thinking"]);return w!=null&&E(r,["thinking"],w),r}function JA(e,t){const r={},n=b(e,["name"]);n!=null&&E(r,["name"],n);const i=b(e,["displayName"]);i!=null&&E(r,["displayName"],i);const a=b(e,["description"]);a!=null&&E(r,["description"],a);const s=b(e,["versionId"]);s!=null&&E(r,["version"],s);const o=b(e,["deployedModels"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>npe(x))),E(r,["endpoints"],g)}const c=b(e,["labels"]);c!=null&&E(r,["labels"],c);const u=b(e,["_self"]);u!=null&&E(r,["tunedModelInfo"],ome(u));const d=b(e,["defaultCheckpointId"]);d!=null&&E(r,["defaultCheckpointId"],d);const h=b(e,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(x=>x)),E(r,["checkpoints"],g)}return r}function Gpe(e,t){const r={},n=b(e,["mediaResolution"]);n!=null&&E(r,["mediaResolution"],n);const i=b(e,["codeExecutionResult"]);i!=null&&E(r,["codeExecutionResult"],i);const a=b(e,["executableCode"]);a!=null&&E(r,["executableCode"],a);const s=b(e,["fileData"]);s!=null&&E(r,["fileData"],ipe(s));const o=b(e,["functionCall"]);o!=null&&E(r,["functionCall"],ape(o));const c=b(e,["functionResponse"]);c!=null&&E(r,["functionResponse"],c);const u=b(e,["inlineData"]);u!=null&&E(r,["inlineData"],k0e(u));const d=b(e,["text"]);d!=null&&E(r,["text"],d);const h=b(e,["thought"]);h!=null&&E(r,["thought"],h);const g=b(e,["thoughtSignature"]);g!=null&&E(r,["thoughtSignature"],g);const x=b(e,["videoMetadata"]);return x!=null&&E(r,["videoMetadata"],x),r}function qpe(e,t){const r={},n=b(e,["productImage"]);return n!=null&&E(r,["image"],vo(n)),r}function Kpe(e,t,r){const n={},i=b(e,["numberOfImages"]);t!==void 0&&i!=null&&E(t,["parameters","sampleCount"],i);const a=b(e,["baseSteps"]);t!==void 0&&a!=null&&E(t,["parameters","baseSteps"],a);const s=b(e,["outputGcsUri"]);t!==void 0&&s!=null&&E(t,["parameters","storageUri"],s);const o=b(e,["seed"]);t!==void 0&&o!=null&&E(t,["parameters","seed"],o);const c=b(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&E(t,["parameters","safetySetting"],c);const u=b(e,["personGeneration"]);t!==void 0&&u!=null&&E(t,["parameters","personGeneration"],u);const d=b(e,["addWatermark"]);t!==void 0&&d!=null&&E(t,["parameters","addWatermark"],d);const h=b(e,["outputMimeType"]);t!==void 0&&h!=null&&E(t,["parameters","outputOptions","mimeType"],h);const g=b(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&E(t,["parameters","outputOptions","compressionQuality"],g);const x=b(e,["enhancePrompt"]);t!==void 0&&x!=null&&E(t,["parameters","enhancePrompt"],x);const _=b(e,["labels"]);return t!==void 0&&_!=null&&E(t,["labels"],_),n}function Wpe(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["source"]);a!=null&&Jpe(a,n);const s=b(t,["config"]);return s!=null&&Kpe(s,n),n}function Ype(e,t){const r={},n=b(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>$1(a))),E(r,["generatedImages"],i)}return r}function Jpe(e,t,r){const n={},i=b(e,["prompt"]);t!==void 0&&i!=null&&E(t,["instances[0]","prompt"],i);const a=b(e,["personImage"]);t!==void 0&&a!=null&&E(t,["instances[0]","personImage","image"],vo(a));const s=b(e,["productImages"]);if(t!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>qpe(c))),E(t,["instances[0]","productImages"],o)}return n}function Xpe(e,t){const r={},n=b(e,["referenceImage"]);n!=null&&E(r,["referenceImage"],vo(n));const i=b(e,["referenceId"]);i!=null&&E(r,["referenceId"],i);const a=b(e,["referenceType"]);a!=null&&E(r,["referenceType"],a);const s=b(e,["maskImageConfig"]);s!=null&&E(r,["maskImageConfig"],Hpe(s));const o=b(e,["controlImageConfig"]);o!=null&&E(r,["controlImageConfig"],L0e(o));const c=b(e,["styleImageConfig"]);c!=null&&E(r,["styleImageConfig"],c);const u=b(e,["subjectImageConfig"]);return u!=null&&E(r,["subjectImageConfig"],u),r}function $B(e,t){const r={},n=b(e,["safetyAttributes","categories"]);n!=null&&E(r,["categories"],n);const i=b(e,["safetyAttributes","scores"]);i!=null&&E(r,["scores"],i);const a=b(e,["contentType"]);return a!=null&&E(r,["contentType"],a),r}function HB(e,t){const r={},n=b(e,["safetyAttributes","categories"]);n!=null&&E(r,["categories"],n);const i=b(e,["safetyAttributes","scores"]);i!=null&&E(r,["scores"],i);const a=b(e,["contentType"]);return a!=null&&E(r,["contentType"],a),r}function Zpe(e,t){const r={},n=b(e,["category"]);if(n!=null&&E(r,["category"],n),b(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=b(e,["threshold"]);return i!=null&&E(r,["threshold"],i),r}function Qpe(e,t){const r={},n=b(e,["image"]);return n!=null&&E(r,["image"],vo(n)),r}function eme(e,t,r){const n={},i=b(e,["mode"]);t!==void 0&&i!=null&&E(t,["parameters","mode"],i);const a=b(e,["maxPredictions"]);t!==void 0&&a!=null&&E(t,["parameters","maxPredictions"],a);const s=b(e,["confidenceThreshold"]);t!==void 0&&s!=null&&E(t,["parameters","confidenceThreshold"],s);const o=b(e,["maskDilation"]);t!==void 0&&o!=null&&E(t,["parameters","maskDilation"],o);const c=b(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&E(t,["parameters","binaryColorThreshold"],c);const u=b(e,["labels"]);return t!==void 0&&u!=null&&E(t,["labels"],u),n}function tme(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["source"]);a!=null&&nme(a,n);const s=b(t,["config"]);return s!=null&&eme(s,n),n}function rme(e,t){const r={},n=b(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Cpe(a))),E(r,["generatedMasks"],i)}return r}function nme(e,t,r){const n={},i=b(e,["prompt"]);t!==void 0&&i!=null&&E(t,["instances[0]","prompt"],i);const a=b(e,["image"]);t!==void 0&&a!=null&&E(t,["instances[0]","image"],vo(a));const s=b(e,["scribbleImage"]);return t!==void 0&&s!=null&&E(t,["instances[0]","scribble"],Qpe(s)),n}function ime(e,t){const r={},n=b(e,["retrievalConfig"]);n!=null&&E(r,["retrievalConfig"],n);const i=b(e,["functionCallingConfig"]);return i!=null&&E(r,["functionCallingConfig"],spe(i)),r}function ame(e,t){const r={};if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=b(e,["computerUse"]);n!=null&&E(r,["computerUse"],n);const i=b(e,["fileSearch"]);i!=null&&E(r,["fileSearch"],i);const a=b(e,["codeExecution"]);if(a!=null&&E(r,["codeExecution"],a),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=b(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),E(r,["functionDeclarations"],h)}const o=b(e,["googleMaps"]);o!=null&&E(r,["googleMaps"],Ope(o));const c=b(e,["googleSearch"]);c!=null&&E(r,["googleSearch"],Mpe(c));const u=b(e,["googleSearchRetrieval"]);u!=null&&E(r,["googleSearchRetrieval"],u);const d=b(e,["urlContext"]);return d!=null&&E(r,["urlContext"],d),r}function GB(e,t){const r={},n=b(e,["retrieval"]);n!=null&&E(r,["retrieval"],n);const i=b(e,["computerUse"]);if(i!=null&&E(r,["computerUse"],i),b(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=b(e,["codeExecution"]);a!=null&&E(r,["codeExecution"],a);const s=b(e,["enterpriseWebSearch"]);s!=null&&E(r,["enterpriseWebSearch"],s);const o=b(e,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>ope(x))),E(r,["functionDeclarations"],g)}const c=b(e,["googleMaps"]);c!=null&&E(r,["googleMaps"],c);const u=b(e,["googleSearch"]);u!=null&&E(r,["googleSearch"],u);const d=b(e,["googleSearchRetrieval"]);d!=null&&E(r,["googleSearchRetrieval"],d);const h=b(e,["urlContext"]);return h!=null&&E(r,["urlContext"],h),r}function sme(e,t){const r={},n=b(e,["baseModel"]);n!=null&&E(r,["baseModel"],n);const i=b(e,["createTime"]);i!=null&&E(r,["createTime"],i);const a=b(e,["updateTime"]);return a!=null&&E(r,["updateTime"],a),r}function ome(e,t){const r={},n=b(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(r,["baseModel"],n);const i=b(e,["createTime"]);i!=null&&E(r,["createTime"],i);const a=b(e,["updateTime"]);return a!=null&&E(r,["updateTime"],a),r}function lme(e,t,r){const n={},i=b(e,["displayName"]);t!==void 0&&i!=null&&E(t,["displayName"],i);const a=b(e,["description"]);t!==void 0&&a!=null&&E(t,["description"],a);const s=b(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&E(t,["defaultCheckpointId"],s),n}function cme(e,t,r){const n={},i=b(e,["displayName"]);t!==void 0&&i!=null&&E(t,["displayName"],i);const a=b(e,["description"]);t!==void 0&&a!=null&&E(t,["description"],a);const s=b(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&E(t,["defaultCheckpointId"],s),n}function ume(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","name"],hr(e,i));const a=b(t,["config"]);return a!=null&&lme(a,n),n}function fme(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["config"]);return a!=null&&cme(a,n),n}function dme(e,t,r){const n={},i=b(e,["outputGcsUri"]);t!==void 0&&i!=null&&E(t,["parameters","storageUri"],i);const a=b(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&E(t,["parameters","safetySetting"],a);const s=b(e,["personGeneration"]);t!==void 0&&s!=null&&E(t,["parameters","personGeneration"],s);const o=b(e,["includeRaiReason"]);t!==void 0&&o!=null&&E(t,["parameters","includeRaiReason"],o);const c=b(e,["outputMimeType"]);t!==void 0&&c!=null&&E(t,["parameters","outputOptions","mimeType"],c);const u=b(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&E(t,["parameters","outputOptions","compressionQuality"],u);const d=b(e,["enhanceInputImage"]);t!==void 0&&d!=null&&E(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=b(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&E(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const g=b(e,["labels"]);t!==void 0&&g!=null&&E(t,["labels"],g);const x=b(e,["numberOfImages"]);t!==void 0&&x!=null&&E(t,["parameters","sampleCount"],x);const _=b(e,["mode"]);return t!==void 0&&_!=null&&E(t,["parameters","mode"],_),n}function hme(e,t,r){const n={},i=b(t,["model"]);i!=null&&E(n,["_url","model"],hr(e,i));const a=b(t,["image"]);a!=null&&E(n,["instances[0]","image"],vo(a));const s=b(t,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=b(t,["config"]);return o!=null&&dme(o,n),n}function pme(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>$1(s))),E(r,["generatedImages"],a)}return r}function mme(e,t){const r={},n=b(e,["uri"]);n!=null&&E(r,["uri"],n);const i=b(e,["encodedVideo"]);i!=null&&E(r,["videoBytes"],pu(i));const a=b(e,["encoding"]);return a!=null&&E(r,["mimeType"],a),r}function gme(e,t){const r={},n=b(e,["gcsUri"]);n!=null&&E(r,["uri"],n);const i=b(e,["bytesBase64Encoded"]);i!=null&&E(r,["videoBytes"],pu(i));const a=b(e,["mimeType"]);return a!=null&&E(r,["mimeType"],a),r}function vme(e,t){const r={},n=b(e,["image"]);n!=null&&E(r,["_self"],vo(n));const i=b(e,["maskMode"]);return i!=null&&E(r,["maskMode"],i),r}function yme(e,t){const r={},n=b(e,["image"]);n!=null&&E(r,["image"],H1(n));const i=b(e,["referenceType"]);return i!=null&&E(r,["referenceType"],i),r}function xme(e,t){const r={},n=b(e,["image"]);n!=null&&E(r,["image"],vo(n));const i=b(e,["referenceType"]);return i!=null&&E(r,["referenceType"],i),r}function qB(e,t){const r={},n=b(e,["uri"]);n!=null&&E(r,["uri"],n);const i=b(e,["videoBytes"]);i!=null&&E(r,["encodedVideo"],pu(i));const a=b(e,["mimeType"]);return a!=null&&E(r,["encoding"],a),r}function KB(e,t){const r={},n=b(e,["uri"]);n!=null&&E(r,["gcsUri"],n);const i=b(e,["videoBytes"]);i!=null&&E(r,["bytesBase64Encoded"],pu(i));const a=b(e,["mimeType"]);return a!=null&&E(r,["mimeType"],a),r}function _me(e,t){const r={},n=b(e,["displayName"]);return t!==void 0&&n!=null&&E(t,["displayName"],n),r}function bme(e){const t={},r=b(e,["config"]);return r!=null&&_me(r,t),t}function wme(e,t){const r={},n=b(e,["force"]);return t!==void 0&&n!=null&&E(t,["_query","force"],n),r}function Eme(e){const t={},r=b(e,["name"]);r!=null&&E(t,["_url","name"],r);const n=b(e,["config"]);return n!=null&&wme(n,t),t}function Tme(e){const t={},r=b(e,["name"]);return r!=null&&E(t,["_url","name"],r),t}function Ame(e,t){const r={},n=b(e,["customMetadata"]);if(t!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),E(t,["customMetadata"],a)}const i=b(e,["chunkingConfig"]);return t!==void 0&&i!=null&&E(t,["chunkingConfig"],i),r}function Sme(e){const t={},r=b(e,["name"]);r!=null&&E(t,["name"],r);const n=b(e,["metadata"]);n!=null&&E(t,["metadata"],n);const i=b(e,["done"]);i!=null&&E(t,["done"],i);const a=b(e,["error"]);a!=null&&E(t,["error"],a);const s=b(e,["response"]);return s!=null&&E(t,["response"],Nme(s)),t}function Cme(e){const t={},r=b(e,["fileSearchStoreName"]);r!=null&&E(t,["_url","file_search_store_name"],r);const n=b(e,["fileName"]);n!=null&&E(t,["fileName"],n);const i=b(e,["config"]);return i!=null&&Ame(i,t),t}function Nme(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["parent"]);n!=null&&E(t,["parent"],n);const i=b(e,["documentName"]);return i!=null&&E(t,["documentName"],i),t}function Ime(e,t){const r={},n=b(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const i=b(e,["pageToken"]);return t!==void 0&&i!=null&&E(t,["_query","pageToken"],i),r}function kme(e){const t={},r=b(e,["config"]);return r!=null&&Ime(r,t),t}function Pme(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const i=b(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(t,["fileSearchStores"],a)}return t}function WB(e,t){const r={},n=b(e,["mimeType"]);t!==void 0&&n!=null&&E(t,["mimeType"],n);const i=b(e,["displayName"]);t!==void 0&&i!=null&&E(t,["displayName"],i);const a=b(e,["customMetadata"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),E(t,["customMetadata"],o)}const s=b(e,["chunkingConfig"]);return t!==void 0&&s!=null&&E(t,["chunkingConfig"],s),r}function Rme(e){const t={},r=b(e,["fileSearchStoreName"]);r!=null&&E(t,["_url","file_search_store_name"],r);const n=b(e,["config"]);return n!=null&&WB(n,t),t}function Ome(e){const t={},r=b(e,["sdkHttpResponse"]);return r!=null&&E(t,["sdkHttpResponse"],r),t}const Mme="Content-Type",Dme="X-Server-Timeout",Fme="User-Agent",XA="x-goog-api-client",Lme="1.40.0",jme=`google-genai-sdk/${Lme}`,Ume="v1beta1",Bme="v1beta";class Vme{constructor(t){var r,n,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(r=t.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!o?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Ume}else{if(!this.clientOptions.apiKey)throw new om({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Bme,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&n.push(t.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),r=new URL(t);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,r){return!(r.baseUrl&&r.baseUrlResourceScope===GA.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),i=this.constructUrl(t.path,r,n);if(t.queryParams)for(const[s,o]of Object.entries(t.queryParams))i.searchParams.append(s,String(o));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,r){const n=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),i=this.constructUrl(t.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,r,n,i){if(r&&r.timeout||i){const a=new AbortController,s=a.signal;if(r.timeout&&r?.timeout>0){const o=setTimeout(()=>a.abort(),r.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=s}return r&&r.extraBody!==null&&zme(t,r.extraBody),t.headers=await this.getHeadersInternal(r,n),t}async unaryApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await t3(i),new qA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await t3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return oo(this,arguments,function*(){var n;const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const o="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Nt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=a.decode(d,{stream:!0});try{const _=JSON.parse(h);if("error"in _){const w=JSON.parse(JSON.stringify(_.error)),T=w.status,C=w.code,L=`got status: ${T}. ${JSON.stringify(_)}`;if(C>=400&&C<600)throw new om({message:L,status:C})}}catch(_){if(_.name==="ApiError")throw _}s+=h;let g=-1,x=0;for(;;){g=-1,x=0;for(const T of c){const C=s.indexOf(T);C!==-1&&(g===-1||C<g)&&(g=C,x=T.length)}if(g===-1)break;const _=s.substring(0,g);s=s.substring(g+x);const w=_.trim();if(w.startsWith(o)){const T=w.substring(o.length).trim();try{const C=new Response(T,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield Nt(new qA(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,r){return fetch(t,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const t={},r=jme+" "+this.clientOptions.userAgentExtra;return t[Fme]=r,t[XA]=r,t[Mme]="application/json",t}async getHeadersInternal(t,r){const n=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))n.append(i,a);t.timeout&&t.timeout>0&&n.append(Dme,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(t){var r;let n="";return typeof t=="string"&&(n=t.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(t,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(t);i.sizeBytes=String(s.size);const o=(n=r?.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},u=this.getFileName(t),d=nt("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,r?.httpOptions);return a.upload(t,h,this)}async uploadFileToFileSearchStore(t,r,n){var i;const a=this.clientOptions.uploader,s=await a.stat(r),o=String(s.size),c=(i=n?.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(r),h={};n!=null&&WB(n,h);const g=await this.fetchUploadUrl(u,o,c,d,h,n?.httpOptions);return a.uploadToFileSearchStore(r,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,r,n,i,a,s){var o;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function t3(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const r=e.status;let n;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?n=await e.json():n={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new om({message:i,status:r}):new Error(i)}}function zme(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,s){const o=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=s[c],d=o[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[c]=n(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[c]=u)}return o}const i=n(r,t);e.body=JSON.stringify(i)}const $me="mcp_used/unknown";let Hme=!1;function YB(e){for(const t of e)if(Gme(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Hme}function JB(e){var t;const r=(t=e[XA])!==null&&t!==void 0?t:"";e[XA]=(r+` ${$me}`).trimStart()}function Gme(e){return e!==null&&typeof e=="object"&&e instanceof PC}function qme(e){return oo(this,arguments,function*(r,n=100){let i,a=0;for(;a<n;){const s=yield Nt(r.listTools({cursor:i}));for(const o of s.tools)yield yield Nt(o),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class PC{constructor(t=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=r}static create(t,r){return new PC(t,r)}async initialize(){var t,r,n,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const d of this.mcpClients)try{for(var o=!0,c=(r=void 0,lo(qme(d))),u;u=await c.next(),t=u.done,!t;o=!0){i=u.value,o=!1;const h=i;s.push(h);const g=h.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=d}}catch(h){r={error:h}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),bde(this.mcpTools,this.config)}async callTool(t){await this.initialize();const r=[];for(const n of t)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return r}}async function Kme(e,t,r){const n=new hde;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),t(n)}class Wme{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n}async connect(t){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Xme(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(P=>{u=P}),h=t.callbacks,g=function(){u({})},x=this.apiClient,_={onopen:g,onmessage:P=>{Kme(x,h.onmessage,P)},onerror:(r=h?.onerror)!==null&&r!==void 0?r:function(P){},onclose:(n=h?.onclose)!==null&&n!==void 0?n:function(P){}},w=this.webSocketFactory.create(c,Jme(s),_);w.connect(),await d;const L={setup:{model:hr(this.apiClient,t.model)}};return w.send(JSON.stringify(L)),new Yme(w,this.apiClient)}}class Yme{constructor(t,r){this.conn=t,this.apiClient=r}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=_0e(t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const r=x0e(t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(t){const r={playbackControl:t};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Gd.PLAY)}pause(){this.sendPlaybackControl(Gd.PAUSE)}stop(){this.sendPlaybackControl(Gd.STOP)}resetContext(){this.sendPlaybackControl(Gd.RESET_CONTEXT)}close(){this.conn.close()}}function Jme(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function Xme(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}const Zme="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Qme(e,t,r){const n=new dde;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const a=JSON.parse(i);if(e.isVertexAI()){const s=E0e(a);Object.assign(n,s)}else Object.assign(n,a);t(n)}class ege{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n,this.music=new Wme(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var r,n,i,a,s,o;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&YB(t.config.tools)&&JB(h);const g=ige(h);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),B=this.apiClient.getLocation(),V=this.apiClient.getApiKey(),j=!!O&&!!B||!!V;this.apiClient.getCustomBaseUrl()&&!j?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,d))}else{const O=this.apiClient.getApiKey();let B="BidiGenerateContent",V="key";O?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),B="BidiGenerateContentConstrained",V="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${B}?${V}=${O}`}let x=()=>{};const _=new Promise(O=>{x=O}),w=t.callbacks,T=function(){var O;(O=w?.onopen)===null||O===void 0||O.call(w),x({})},C=this.apiClient,L={onopen:T,onmessage:O=>{Qme(C,w.onmessage,O)},onerror:(r=w?.onerror)!==null&&r!==void 0?r:function(O){},onclose:(n=w?.onclose)!==null&&n!==void 0?n:function(O){}},P=this.webSocketFactory.create(d,nge(g),L);P.connect(),await _;let D=hr(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const O=this.apiClient.getProject(),B=this.apiClient.getLocation();O&&B&&(D=`projects/${O}/locations/${B}/`+D)}let F={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[gx.AUDIO]}:t.config.responseModalities=[gx.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],I=[];for(const O of R)if(this.isCallableTool(O)){const B=O;I.push(await B.tool())}else I.push(O);I.length>0&&(t.config.tools=I);const k={model:D,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?F=y0e(this.apiClient,k):F=v0e(this.apiClient,k),delete F.config,P.send(JSON.stringify(F)),new rge(P,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const tge={turnComplete:!0};class rge{constructor(t,r){this.conn=t,this.apiClient=r}tLiveClientContent(t,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Ms(r.turns),t.isVertexAI()||(n=n.map(i=>z1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(t,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(Zme)}return{toolResponse:{functionResponses:n}}}sendClientContent(t){t=Object.assign(Object.assign({},tge),t);const r=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendRealtimeInput(t){let r={};this.apiClient.isVertexAI()?r={realtimeInput:w0e(t)}:r={realtimeInput:b0e(t)},this.conn.send(JSON.stringify(r))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function nge(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function ige(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}const r3=10;function n3(e){var t,r,n;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(r=e?.tools)!==null&&r!==void 0?r:[])if(nh(s)){i=!0;break}if(!i)return!0;const a=(n=e?.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function nh(e){return"callTool"in e&&typeof e.callTool=="function"}function age(e){var t,r,n;return(n=(r=(t=e.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(i=>nh(i)))!==null&&n!==void 0?n:!1}function i3(e){var t;const r=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((n,i)=>{if(nh(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(i)}),r}function a3(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class sge extends Wl{constructor(t){super(),this.apiClient=t,this.generateContent=async r=>{var n,i,a,s,o;const c=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!age(r)||n3(r.config))return await this.generateContentInternal(c);const u=i3(r);if(u.length>0){const w=u.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let d,h;const g=Ms(c.contents),x=(a=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:r3;let _=0;for(;_<x&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const w=d.candidates[0].content,T=[];for(const C of(o=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(nh(C)){const P=await C.callTool(d.functionCalls);T.push(...P)}_++,h={role:"user",parts:T},c.contents=Ms(c.contents),c.contents.push(w),c.contents.push(h),a3(c.config)&&(g.push(w),g.push(h))}return a3(c.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async r=>{var n,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(r),n3(r.config)){const h=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(h)}const c=i3(r);if(c.length>0){const h=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(n=r?.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,d=(o=(s=r?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const s=[];if(n?.generatedImages)for(const c of n.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:s.push(c);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Vf(Fl.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,a,s,o,c;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((s=(a=r.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(o=r.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var r,n,i;const a=(r=t.config)===null||r===void 0?void 0:r.tools;if(!a)return t;const s=await Promise.all(a.map(async c=>nh(c)?await c.tool():c)),o={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(o.config.tools=s,t.config&&t.config.tools&&YB(t.config.tools)){const c=(i=(n=t.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),JB(u),o.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(t){var r,n,i;const a=new Map;for(const s of(n=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(nh(s)){const o=s,c=await o.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,o)}}return a}async processAfcStream(t){var r,n,i;const a=(i=(n=(r=t.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:r3;let s=!1,o=0;const c=await this.initAfcToolsMap(t);return(function(u,d,h){return oo(this,arguments,function*(){for(var g,x,_,w,T,C;o<a;){s&&(o++,s=!1);const F=yield Nt(u.processParamsMaybeAddMcpUsage(h)),R=yield Nt(u.generateContentStreamInternal(F)),I=[],k=[];try{for(var L=!0,P=(x=void 0,lo(R)),D;D=yield Nt(P.next()),g=D.done,!g;L=!0){w=D.value,L=!1;const O=w;if(yield yield Nt(O),O.candidates&&(!((T=O.candidates[0])===null||T===void 0)&&T.content)){k.push(O.candidates[0].content);for(const B of(C=O.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(o<a&&B.functionCall){if(!B.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(B.functionCall.name)){const V=yield Nt(d.get(B.functionCall.name).callTool([B.functionCall]));I.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${B.functionCall.name}`)}}}}catch(O){x={error:O}}finally{try{!L&&!g&&(_=P.return)&&(yield Nt(_.call(P)))}finally{if(x)throw x.error}}if(I.length>0){s=!0;const O=new H0;O.candidates=[{content:{role:"user",parts:I}}],yield yield Nt(O);const B=[];B.push(...k),B.push({role:"user",parts:I});const V=Ms(h.contents).concat(B);h.contents=V}else break}})})(this,c,t)}async generateContentInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=ZD(this.apiClient,t);return o=nt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=e3(d),g=new H0;return Object.assign(g,h),g})}else{const u=XD(this.apiClient,t);return o=nt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=QD(d),g=new H0;return Object.assign(g,h),g})}}async generateContentStreamInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=ZD(this.apiClient,t);return o=nt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(h){return oo(this,arguments,function*(){var g,x,_,w;try{for(var T=!0,C=lo(h),L;L=yield Nt(C.next()),g=L.done,!g;T=!0){w=L.value,T=!1;const P=w,D=e3(yield Nt(P.json()),t);D.sdkHttpResponse={headers:P.headers};const F=new H0;Object.assign(F,D),yield yield Nt(F)}}catch(P){x={error:P}}finally{try{!T&&!g&&(_=C.return)&&(yield Nt(_.call(C)))}finally{if(x)throw x.error}}})})}else{const u=XD(this.apiClient,t);return o=nt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(h){return oo(this,arguments,function*(){var g,x,_,w;try{for(var T=!0,C=lo(h),L;L=yield Nt(C.next()),g=L.done,!g;T=!0){w=L.value,T=!1;const P=w,D=QD(yield Nt(P.json()),t);D.sdkHttpResponse={headers:P.headers};const F=new H0;Object.assign(F,D),yield yield Nt(F)}}catch(P){x={error:P}}finally{try{!T&&!g&&(_=C.return)&&(yield Nt(_.call(C)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=epe(this.apiClient,t);return o=nt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=rpe(d),g=new MD;return Object.assign(g,h),g})}else{const u=Q0e(this.apiClient,t);return o=nt("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=tpe(d),g=new MD;return Object.assign(g,h),g})}}async generateImagesInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=hpe(this.apiClient,t);return o=nt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=mpe(d),g=new DD;return Object.assign(g,h),g})}else{const u=dpe(this.apiClient,t);return o=nt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=ppe(d),g=new DD;return Object.assign(g,h),g})}}async editImageInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Y0e(this.apiClient,t);return a=nt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=J0e(c),d=new ede;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=hme(this.apiClient,t);return a=nt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=pme(c),d=new tde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Wpe(this.apiClient,t);return a=nt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Ype(c),d=new rde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=tme(this.apiClient,t);return a=nt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=rme(c),d=new nde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Rpe(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>JA(d))}else{const u=Ppe(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>YA(d))}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Vpe(this.apiClient,t);return o=nt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=$pe(d),g=new FD;return Object.assign(g,h),g})}else{const u=Bpe(this.apiClient,t);return o=nt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=zpe(d),g=new FD;return Object.assign(g,h),g})}}async update(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=fme(this.apiClient,t);return o=nt("{model}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>JA(d))}else{const u=ume(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>YA(d))}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=G0e(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=K0e(d),g=new LD;return Object.assign(g,h),g})}else{const u=H0e(this.apiClient,t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=q0e(d),g=new LD;return Object.assign(g,h),g})}}async countTokens(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=V0e(this.apiClient,t);return o=nt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=$0e(d),g=new jD;return Object.assign(g,h),g})}else{const u=B0e(this.apiClient,t);return o=nt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=z0e(d),g=new jD;return Object.assign(g,h),g})}}async computeTokens(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=O0e(this.apiClient,t);return a=nt("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=M0e(c),d=new ide;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=bpe(this.apiClient,t);return o=nt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>{const h=xpe(d),g=new vx;return Object.assign(g,h),g})}else{const u=_pe(this.apiClient,t);return o=nt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>{const h=ype(d),g=new vx;return Object.assign(g,h),g})}}}class oge extends Wl{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Wfe(t);return o=nt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s}else{const u=Kfe(t);return o=nt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Bfe(t);return a=nt("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function lge(e){const t={},r=b(e,["data"]);if(r!=null&&E(t,["data"],r),b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function cge(e){const t={},r=b(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>yge(a))),E(t,["parts"],i)}const n=b(e,["role"]);return n!=null&&E(t,["role"],n),t}function uge(e,t,r){const n={},i=b(t,["expireTime"]);r!==void 0&&i!=null&&E(r,["expireTime"],i);const a=b(t,["newSessionExpireTime"]);r!==void 0&&a!=null&&E(r,["newSessionExpireTime"],a);const s=b(t,["uses"]);r!==void 0&&s!=null&&E(r,["uses"],s);const o=b(t,["liveConnectConstraints"]);r!==void 0&&o!=null&&E(r,["bidiGenerateContentSetup"],vge(e,o));const c=b(t,["lockAdditionalFields"]);return r!==void 0&&c!=null&&E(r,["fieldMask"],c),n}function fge(e,t){const r={},n=b(t,["config"]);return n!=null&&E(r,["config"],uge(e,n,r)),r}function dge(e){const t={};if(b(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=b(e,["fileUri"]);r!=null&&E(t,["fileUri"],r);const n=b(e,["mimeType"]);return n!=null&&E(t,["mimeType"],n),t}function hge(e){const t={},r=b(e,["id"]);r!=null&&E(t,["id"],r);const n=b(e,["args"]);n!=null&&E(t,["args"],n);const i=b(e,["name"]);if(i!=null&&E(t,["name"],i),b(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(b(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pge(e){const t={};if(b(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=b(e,["enableWidget"]);return r!=null&&E(t,["enableWidget"],r),t}function mge(e){const t={};if(b(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=b(e,["timeRangeFilter"]);return r!=null&&E(t,["timeRangeFilter"],r),t}function gge(e,t){const r={},n=b(e,["generationConfig"]);t!==void 0&&n!=null&&E(t,["setup","generationConfig"],n);const i=b(e,["responseModalities"]);t!==void 0&&i!=null&&E(t,["setup","generationConfig","responseModalities"],i);const a=b(e,["temperature"]);t!==void 0&&a!=null&&E(t,["setup","generationConfig","temperature"],a);const s=b(e,["topP"]);t!==void 0&&s!=null&&E(t,["setup","generationConfig","topP"],s);const o=b(e,["topK"]);t!==void 0&&o!=null&&E(t,["setup","generationConfig","topK"],o);const c=b(e,["maxOutputTokens"]);t!==void 0&&c!=null&&E(t,["setup","generationConfig","maxOutputTokens"],c);const u=b(e,["mediaResolution"]);t!==void 0&&u!=null&&E(t,["setup","generationConfig","mediaResolution"],u);const d=b(e,["seed"]);t!==void 0&&d!=null&&E(t,["setup","generationConfig","seed"],d);const h=b(e,["speechConfig"]);t!==void 0&&h!=null&&E(t,["setup","generationConfig","speechConfig"],kC(h));const g=b(e,["thinkingConfig"]);t!==void 0&&g!=null&&E(t,["setup","generationConfig","thinkingConfig"],g);const x=b(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&E(t,["setup","generationConfig","enableAffectiveDialog"],x);const _=b(e,["systemInstruction"]);t!==void 0&&_!=null&&E(t,["setup","systemInstruction"],cge(qi(_)));const w=b(e,["tools"]);if(t!==void 0&&w!=null){let R=Lh(w);Array.isArray(R)&&(R=R.map(I=>_ge(Fh(I)))),E(t,["setup","tools"],R)}const T=b(e,["sessionResumption"]);t!==void 0&&T!=null&&E(t,["setup","sessionResumption"],xge(T));const C=b(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&E(t,["setup","inputAudioTranscription"],C);const L=b(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&E(t,["setup","outputAudioTranscription"],L);const P=b(e,["realtimeInputConfig"]);t!==void 0&&P!=null&&E(t,["setup","realtimeInputConfig"],P);const D=b(e,["contextWindowCompression"]);t!==void 0&&D!=null&&E(t,["setup","contextWindowCompression"],D);const F=b(e,["proactivity"]);if(t!==void 0&&F!=null&&E(t,["setup","proactivity"],F),b(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function vge(e,t){const r={},n=b(t,["model"]);n!=null&&E(r,["setup","model"],hr(e,n));const i=b(t,["config"]);return i!=null&&E(r,["config"],gge(i,r)),r}function yge(e){const t={},r=b(e,["mediaResolution"]);r!=null&&E(t,["mediaResolution"],r);const n=b(e,["codeExecutionResult"]);n!=null&&E(t,["codeExecutionResult"],n);const i=b(e,["executableCode"]);i!=null&&E(t,["executableCode"],i);const a=b(e,["fileData"]);a!=null&&E(t,["fileData"],dge(a));const s=b(e,["functionCall"]);s!=null&&E(t,["functionCall"],hge(s));const o=b(e,["functionResponse"]);o!=null&&E(t,["functionResponse"],o);const c=b(e,["inlineData"]);c!=null&&E(t,["inlineData"],lge(c));const u=b(e,["text"]);u!=null&&E(t,["text"],u);const d=b(e,["thought"]);d!=null&&E(t,["thought"],d);const h=b(e,["thoughtSignature"]);h!=null&&E(t,["thoughtSignature"],h);const g=b(e,["videoMetadata"]);return g!=null&&E(t,["videoMetadata"],g),t}function xge(e){const t={},r=b(e,["handle"]);if(r!=null&&E(t,["handle"],r),b(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _ge(e){const t={};if(b(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=b(e,["computerUse"]);r!=null&&E(t,["computerUse"],r);const n=b(e,["fileSearch"]);n!=null&&E(t,["fileSearch"],n);const i=b(e,["codeExecution"]);if(i!=null&&E(t,["codeExecution"],i),b(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=b(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),E(t,["functionDeclarations"],d)}const s=b(e,["googleMaps"]);s!=null&&E(t,["googleMaps"],pge(s));const o=b(e,["googleSearch"]);o!=null&&E(t,["googleSearch"],mge(o));const c=b(e,["googleSearchRetrieval"]);c!=null&&E(t,["googleSearchRetrieval"],c);const u=b(e,["urlContext"]);return u!=null&&E(t,["urlContext"],u),t}function bge(e){const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${r}.${a}`);t.push(...i)}else t.push(r)}return t.join(",")}function wge(e,t){let r=null;const n=e.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,r=a):delete e.bidiGenerateContentSetup}else n!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(r){const a=bge(r);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const c=[];a&&c.push(a),o.length>0&&c.push(...o),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Ege extends Wl{constructor(t){super(),this.apiClient=t}async create(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=fge(this.apiClient,t);a=nt("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const c=wge(o,t.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}function Tge(e,t){const r={},n=b(e,["force"]);return t!==void 0&&n!=null&&E(t,["_query","force"],n),r}function Age(e){const t={},r=b(e,["name"]);r!=null&&E(t,["_url","name"],r);const n=b(e,["config"]);return n!=null&&Tge(n,t),t}function Sge(e){const t={},r=b(e,["name"]);return r!=null&&E(t,["_url","name"],r),t}function Cge(e,t){const r={},n=b(e,["pageSize"]);t!==void 0&&n!=null&&E(t,["_query","pageSize"],n);const i=b(e,["pageToken"]);return t!==void 0&&i!=null&&E(t,["_query","pageToken"],i),r}function Nge(e){const t={},r=b(e,["parent"]);r!=null&&E(t,["_url","parent"],r);const n=b(e,["config"]);return n!=null&&Cge(n,t),t}function Ige(e){const t={},r=b(e,["sdkHttpResponse"]);r!=null&&E(t,["sdkHttpResponse"],r);const n=b(e,["nextPageToken"]);n!=null&&E(t,["nextPageToken"],n);const i=b(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),E(t,["documents"],a)}return t}class kge extends Wl{constructor(t){super(),this.apiClient=t,this.list=async r=>new Vf(Fl.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Sge(t);return a=nt("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Age(t);i=nt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Nge(t);return a=nt("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Ige(c),d=new ade;return Object.assign(d,u),d})}}}class Pge extends Wl{constructor(t,r=new kge(t)){super(),this.apiClient=t,this.documents=r,this.list=async(n={})=>new Vf(Fl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=bme(t);return a=nt("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tme(t);return a=nt("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Eme(t);i=nt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kme(t);return a=nt("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Pme(c),d=new sde;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rme(t);return a=nt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Ome(c),d=new ode;return Object.assign(d,u),d})}}async importFile(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cme(t);return a=nt("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Sme(c),d=new AC;return Object.assign(d,u),d})}}}let XB=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return XB=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Rge=()=>XB();function ZA(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const QA=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Fs extends Error{}class ma extends Fs{constructor(t,r,n,i){super(`${ma.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.error=r}static makeMessage(t,r,n){const i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new G1({message:n,cause:QA(r)});const a=r;return t===400?new QB(t,a,n,i):t===401?new eV(t,a,n,i):t===403?new tV(t,a,n,i):t===404?new rV(t,a,n,i):t===409?new nV(t,a,n,i):t===422?new iV(t,a,n,i):t===429?new aV(t,a,n,i):t>=500?new sV(t,a,n,i):new ma(t,a,n,i)}}class eS extends ma{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class G1 extends ma{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class ZB extends G1{constructor({message:t}={}){super({message:t??"Request timed out."})}}class QB extends ma{}class eV extends ma{}class tV extends ma{}class rV extends ma{}class nV extends ma{}class iV extends ma{}class aV extends ma{}class sV extends ma{}const Oge=/^[a-z][a-z0-9+.-]*:/i,Mge=e=>Oge.test(e);let tS=e=>(tS=Array.isArray,tS(e));const Dge=tS;let Fge=Dge;const s3=Fge;function Lge(e){if(!e)return!0;for(const t in e)return!1;return!0}function jge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Uge=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Fs(`${e} must be an integer`);if(t<0)throw new Fs(`${e} must be a positive integer`);return t},Bge=e=>{try{return JSON.parse(e)}catch{return}};const Vge=e=>new Promise(t=>setTimeout(t,e));const Fd="0.0.1";function zge(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const $ge=()=>{var e,t,r,n,i;const a=zge();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fd,"X-Stainless-OS":l3(Deno.build.os),"X-Stainless-Arch":o3(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fd,"X-Stainless-OS":l3((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":o3((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=Hge();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Hge(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,s=n[3]||0;return{browser:t,version:`${i}.${a}.${s}`}}}return null}const o3=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",l3=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Hv;const Gge=()=>Hv??(Hv=$ge());function qge(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function oV(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Kge(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return oV({start(){},async pull(r){const{done:n,value:i}=await t.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}function lV(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Wge(e){var t,r;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((r=(t=e[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(t));return}const n=e.getReader(),i=n.cancel();n.releaseLock(),await i}const Yge=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const cV=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vE(e,t,r){return cV(),new File(e,t??"unknown_file",r)}function Jge(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Xge=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";const uV=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Zge=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&uV(e),Qge=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function eve(e,t,r){if(cV(),e=await e,Zge(e))return e instanceof File?e:vE([await e.arrayBuffer()],e.name);if(Qge(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),vE(await rS(i),t,r)}const n=await rS(e);if(t||(t=Jge(e)),!r?.type){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return vE(n,t,r)}async function rS(e){var t,r,n,i,a;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(uV(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(Xge(e))try{for(var o=!0,c=lo(e),u;u=await c.next(),t=u.done,!t;o=!0){i=u.value,o=!1;const d=i;s.push(...await rS(d))}}catch(d){r={error:d}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}else{const d=(a=e?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${tve(e)}`)}return s}function tve(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class fV{constructor(t){this._client=t}}fV._key=[];function dV(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const c3=Object.freeze(Object.create(null)),rve=(e=dV)=>(function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],s=r.reduce((d,h,g)=>{var x,_,w;/[?#]/.test(h)&&(i=!0);const T=n[g];let C=(i?encodeURIComponent:e)(""+T);return g!==n.length&&(T==null||typeof T=="object"&&T.toString===((w=Object.getPrototypeOf((_=Object.getPrototypeOf((x=T.hasOwnProperty)!==null&&x!==void 0?x:c3))!==null&&_!==void 0?_:c3))===null||w===void 0?void 0:w.toString))&&(C=T+"",a.push({start:d.length+h.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),d+h+(g===n.length?"":C)},""),o=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(o))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((d,h)=>d.start-h.start),a.length>0){let d=0;const h=a.reduce((g,x)=>{const _=" ".repeat(x.start-d),w="^".repeat(x.length);return d=x.start+x.length,g+_+w},"");throw new Fs(`Path parameters result in path with invalid segments:
${a.map(g=>g.error).join(`
`)}
${s}
${h}`)}return s}),Gv=rve(dV);class hV extends fV{create(t,r){var n;const{api_version:i=this._client.apiVersion}=t,a=xx(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Fs("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Fs("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Gv`/${i}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(Gv`/${i}/interactions/${t}`,n)}cancel(t,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(Gv`/${i}/interactions/${t}/cancel`,n)}get(t,r={},n){var i;const a=r??{},{api_version:s=this._client.apiVersion}=a,o=xx(a,["api_version"]);return this._client.get(Gv`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},n),{stream:(i=r?.stream)!==null&&i!==void 0?i:!1}))}}hV._key=Object.freeze(["interactions"]);class pV extends hV{}function nve(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}let qv;function RC(e){let t;return(qv??(t=new globalThis.TextEncoder,qv=t.encode.bind(t)))(e)}let Kv;function u3(e){let t;return(Kv??(t=new globalThis.TextDecoder,Kv=t.decode.bind(t)))(e)}class q1{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?RC(t):t;this.buffer=nve([this.buffer,r]);const n=[];let i;for(;(i=ive(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(u3(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=u3(this.buffer.subarray(0,a));n.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}q1.NEWLINE_CHARS=new Set([`
`,"\r"]);q1.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ive(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ave(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const _x={off:0,error:200,warn:300,info:400,debug:500},f3=(e,t,r)=>{if(e){if(jge(_x,e))return e;oa(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(_x))}`)}};function gp(){}function Wv(e,t,r){return!t||_x[e]>_x[r]?gp:t[e].bind(t)}const sve={error:gp,warn:gp,info:gp,debug:gp};let d3=new WeakMap;function oa(e){var t;const r=e.logger,n=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!r)return sve;const i=d3.get(r);if(i&&i[0]===n)return i[1];const a={error:Wv("error",r,n),warn:Wv("warn",r,n),info:Wv("info",r,n),debug:Wv("debug",r,n)};return d3.set(r,[n,a]),a}const qu=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class qd{constructor(t,r,n){this.iterator=t,this.controller=r,this.client=n}static fromSSEResponse(t,r,n){let i=!1;const a=n?oa(n):console;function s(){return oo(this,arguments,function*(){var c,u,d,h;if(i)throw new Fs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var x=!0,_=lo(ove(t,r)),w;w=yield Nt(_.next()),c=w.done,!c;x=!0){h=w.value,x=!1;const T=h;if(!g)if(T.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Nt(JSON.parse(T.data))}catch(C){throw a.error("Could not parse message into JSON:",T.data),a.error("From chunk:",T.raw),C}}}catch(T){u={error:T}}finally{try{!x&&!c&&(d=_.return)&&(yield Nt(d.call(_)))}finally{if(u)throw u.error}}g=!0}catch(T){if(ZA(T))return yield Nt(void 0);throw T}finally{g||r.abort()}})}return new qd(s,r,n)}static fromReadableStream(t,r,n){let i=!1;function a(){return oo(this,arguments,function*(){var c,u,d,h;const g=new q1,x=lV(t);try{for(var _=!0,w=lo(x),T;T=yield Nt(w.next()),c=T.done,!c;_=!0){h=T.value,_=!1;const C=h;for(const L of g.decode(C))yield yield Nt(L)}}catch(C){u={error:C}}finally{try{!_&&!c&&(d=w.return)&&(yield Nt(d.call(w)))}finally{if(u)throw u.error}}for(const C of g.flush())yield yield Nt(C)})}function s(){return oo(this,arguments,function*(){var c,u,d,h;if(i)throw new Fs("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var x=!0,_=lo(a()),w;w=yield Nt(_.next()),c=w.done,!c;x=!0){h=w.value,x=!1;const T=h;g||T&&(yield yield Nt(JSON.parse(T)))}}catch(T){u={error:T}}finally{try{!x&&!c&&(d=_.return)&&(yield Nt(d.call(_)))}finally{if(u)throw u.error}}g=!0}catch(T){if(ZA(T))return yield Nt(void 0);throw T}finally{g||r.abort()}})}return new qd(s,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=n.next();t.push(s),r.push(s)}return a.shift()}});return[new qd(()=>i(t),this.controller,this.client),new qd(()=>i(r),this.controller,this.client)]}toReadableStream(){const t=this;let r;return oV({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const s=RC(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function ove(e,t){return oo(this,arguments,function*(){var n,i,a,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Fs("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Fs("Attempted to iterate over a response with no body");const o=new cve,c=new q1,u=lV(e.body);try{for(var d=!0,h=lo(lve(u)),g;g=yield Nt(h.next()),n=g.done,!n;d=!0){s=g.value,d=!1;const x=s;for(const _ of c.decode(x)){const w=o.decode(_);w&&(yield yield Nt(w))}}}catch(x){i={error:x}}finally{try{!d&&!n&&(a=h.return)&&(yield Nt(a.call(h)))}finally{if(i)throw i.error}}for(const x of c.flush()){const _=o.decode(x);_&&(yield yield Nt(_))}})}function lve(e){return oo(this,arguments,function*(){var r,n,i,a;let s=new Uint8Array;try{for(var o=!0,c=lo(e),u;u=yield Nt(c.next()),r=u.done,!r;o=!0){a=u.value,o=!1;const d=a;if(d==null)continue;const h=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?RC(d):d;let g=new Uint8Array(s.length+h.length);g.set(s),g.set(h,s.length),s=g;let x;for(;(x=ave(s))!==-1;)yield yield Nt(s.slice(0,x)),s=s.slice(x)}}catch(d){n={error:d}}finally{try{!o&&!r&&(i=c.return)&&(yield Nt(i.call(c)))}finally{if(n)throw n.error}}s.length>0&&(yield yield Nt(s))})}class cve{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=uve(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function uve(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function fve(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=t,s=await(async()=>{var o;if(t.options.stream)return oa(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):qd.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const c=r.headers.get("content-type"),u=(o=c?.split(";")[0])===null||o===void 0?void 0:o.trim();return u?.includes("application/json")||u?.endsWith("+json")?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return oa(e).debug(`[${n}] response parsed`,qu({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-a})),s}class OC extends Promise{constructor(t,r,n=fve){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new OC(this.client,this.responsePromise,async(r,n)=>t(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const mV=Symbol("brand.privateNullableHeaders");function*dve(e){if(!e)return;if(mV in e){const{values:n,nulls:i}=e;yield*n.entries();for(const a of i)yield[a,null];return}let t=!1,r;e instanceof Headers?r=e.entries():s3(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=s3(n[1])?n[1]:[n[1]];let s=!1;for(const o of a)o!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,o])}}const G0=e=>{const t=new Headers,r=new Set;for(const n of e){const i=new Set;for(const[a,s]of dve(n)){const o=a.toLowerCase();i.has(o)||(t.delete(a),i.add(o)),s===null?(t.delete(a),r.add(o)):(t.append(a,s),r.delete(o))}}return{[mV]:!0,values:t,nulls:r}};const yE=e=>{var t,r,n,i,a,s;if(typeof globalThis.process<"u")return(n=(r=(t=Mfe)===null||t===void 0?void 0:t[e])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||s===void 0?void 0:s.trim()};var gV;class K1{constructor(t){var r,n,i,a,s,o,c,{baseURL:u=yE("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(r=yE("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:h="v1beta"}=t,g=xx(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:h},g),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(n=x.timeout)!==null&&n!==void 0?n:K1.DEFAULT_TIMEOUT,this.logger=(i=x.logger)!==null&&i!==void 0?i:console;const _="warn";this.logLevel=_,this.logLevel=(s=(a=f3(x.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:f3(yE("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:_,this.fetchOptions=x.fetchOptions,this.maxRetries=(o=x.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(c=x.fetch)!==null&&c!==void 0?c:qge(),this.encoder=Yge,this._options=x,this.apiKey=d,this.apiVersion=h,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const r=G0([t.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return G0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return G0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Fs(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Fd}`}defaultIdempotencyKey(){return`stainless-node-retry-${Rge()}`}makeStatusError(t,r,n,i){return ma.generate(t,r,n,i)}buildURL(t,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,a=Mge(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return Lge(s)||(r=Object.assign(Object.assign({},s),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const r=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:t,path:r},i)))}request(t,r=null){return new OC(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var i,a,s;const o=await t,c=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=c),await this.prepareOptions(o);const{req:u,url:d,timeout:h}=await this.buildRequest(o,{retryCount:c-r});await this.prepareRequest(u,{url:d,options:o});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=n===void 0?"":`, retryOf: ${n}`,_=Date.now();if(oa(this).debug(`[${g}] sending request`,qu({retryOfRequestLogID:n,method:o.method,url:d,options:o,headers:u.headers})),!((a=o.signal)===null||a===void 0)&&a.aborted)throw new eS;const w=new AbortController,T=await this.fetchWithTimeout(d,u,h,w).catch(QA),C=Date.now();if(T instanceof globalThis.Error){const P=`retrying, ${r} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new eS;const D=ZA(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(r)return oa(this).info(`[${g}] connection ${D?"timed out":"failed"} - ${P}`),oa(this).debug(`[${g}] connection ${D?"timed out":"failed"} (${P})`,qu({retryOfRequestLogID:n,url:d,durationMs:C-_,message:T.message})),this.retryRequest(o,r,n??g);throw oa(this).info(`[${g}] connection ${D?"timed out":"failed"} - error; no more retries left`),oa(this).debug(`[${g}] connection ${D?"timed out":"failed"} (error; no more retries left)`,qu({retryOfRequestLogID:n,url:d,durationMs:C-_,message:T.message})),D?new ZB:new G1({cause:T})}const L=`[${g}${x}] ${u.method} ${d} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-_}ms`;if(!T.ok){const P=await this.shouldRetry(T);if(r&&P){const O=`retrying, ${r} attempts remaining`;return await Wge(T.body),oa(this).info(`${L} - ${O}`),oa(this).debug(`[${g}] response error (${O})`,qu({retryOfRequestLogID:n,url:T.url,status:T.status,headers:T.headers,durationMs:C-_})),this.retryRequest(o,r,n??g,T.headers)}const D=P?"error; no more retries left":"error; not retryable";oa(this).info(`${L} - ${D}`);const F=await T.text().catch(O=>QA(O).message),R=Bge(F),I=R?void 0:F;throw oa(this).debug(`[${g}] response error (${D})`,qu({retryOfRequestLogID:n,url:T.url,status:T.status,headers:T.headers,message:I,durationMs:Date.now()-_})),this.makeStatusError(T.status,R,I,T.headers)}return oa(this).info(L),oa(this).debug(`[${g}] response start`,qu({retryOfRequestLogID:n,url:T.url,status:T.status,headers:T.headers,durationMs:C-_})),{response:T,options:o,controller:w,requestLogID:g,retryOfRequestLogID:n,startTime:_}}async fetchWithTimeout(t,r,n,i){const a=r||{},{signal:s,method:o}=a,c=xx(a,["signal","method"]),u=i.abort.bind(i);s&&s.addEventListener("abort",u,{once:!0});const d=setTimeout(u,n),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);o&&(g.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,g)}finally{clearTimeout(d)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,i){var a;let s;const o=i?.get("retry-after-ms");if(o){const u=parseFloat(o);Number.isNaN(u)||(s=u)}const c=i?.get("retry-after");if(c&&!s){const u=parseFloat(c);Number.isNaN(u)?s=Date.parse(c)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,u)}return await Vge(s),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const a=r-t,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:r=0}={}){var n,i,a;const s=Object.assign({},t),{method:o,path:c,query:u,defaultBaseURL:d}=s,h=this.buildURL(c,u,d);"timeout"in s&&Uge("timeout",s.timeout),s.timeout=(n=s.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:g,body:x}=this.buildBody({options:s}),_=await this.buildHeaders({options:t,method:o,bodyHeaders:g,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:_},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:h,timeout:s.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=G0([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Gge()),this._options.defaultHeaders,n,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=G0([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Kge(t)}:this.encoder({body:t,headers:n})}}K1.DEFAULT_TIMEOUT=6e4;class gi extends K1{constructor(){super(...arguments),this.interactions=new pV(this)}}gV=gi;gi.GeminiNextGenAPIClient=gV;gi.GeminiNextGenAPIClientError=Fs;gi.APIError=ma;gi.APIConnectionError=G1;gi.APIConnectionTimeoutError=ZB;gi.APIUserAbortError=eS;gi.NotFoundError=rV;gi.ConflictError=nV;gi.RateLimitError=aV;gi.BadRequestError=QB;gi.AuthenticationError=eV;gi.InternalServerError=sV;gi.PermissionDeniedError=tV;gi.UnprocessableEntityError=iV;gi.toFile=eve;gi.Interactions=pV;function hve(e,t){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],n),r}function pve(e,t){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],n),r}function mve(e,t){const r={},n=b(e,["sdkHttpResponse"]);return n!=null&&E(r,["sdkHttpResponse"],n),r}function gve(e,t){const r={},n=b(e,["sdkHttpResponse"]);return n!=null&&E(r,["sdkHttpResponse"],n),r}function vve(e,t,r){const n={};if(b(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=b(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&E(t,["displayName"],i),b(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=b(e,["epochCount"]);t!==void 0&&a!=null&&E(t,["tuningTask","hyperparameters","epochCount"],a);const s=b(e,["learningRateMultiplier"]);if(s!=null&&E(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),b(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(b(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(b(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(b(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const o=b(e,["batchSize"]);t!==void 0&&o!=null&&E(t,["tuningTask","hyperparameters","batchSize"],o);const c=b(e,["learningRate"]);if(t!==void 0&&c!=null&&E(t,["tuningTask","hyperparameters","learningRate"],c),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(b(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(b(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(b(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(b(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(b(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return n}function yve(e,t,r){const n={};let i=b(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const F=b(e,["validationDataset"]);t!==void 0&&F!=null&&E(t,["supervisedTuningSpec"],xE(F))}else if(i==="PREFERENCE_TUNING"){const F=b(e,["validationDataset"]);t!==void 0&&F!=null&&E(t,["preferenceOptimizationSpec"],xE(F))}else if(i==="DISTILLATION"){const F=b(e,["validationDataset"]);t!==void 0&&F!=null&&E(t,["distillationSpec"],xE(F))}const a=b(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&E(t,["tunedModelDisplayName"],a);const s=b(e,["description"]);t!==void 0&&s!=null&&E(t,["description"],s);let o=b(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const F=b(e,["epochCount"]);t!==void 0&&F!=null&&E(t,["supervisedTuningSpec","hyperParameters","epochCount"],F)}else if(o==="PREFERENCE_TUNING"){const F=b(e,["epochCount"]);t!==void 0&&F!=null&&E(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],F)}else if(o==="DISTILLATION"){const F=b(e,["epochCount"]);t!==void 0&&F!=null&&E(t,["distillationSpec","hyperParameters","epochCount"],F)}let c=b(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const F=b(e,["learningRateMultiplier"]);t!==void 0&&F!=null&&E(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],F)}else if(c==="PREFERENCE_TUNING"){const F=b(e,["learningRateMultiplier"]);t!==void 0&&F!=null&&E(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],F)}else if(c==="DISTILLATION"){const F=b(e,["learningRateMultiplier"]);t!==void 0&&F!=null&&E(t,["distillationSpec","hyperParameters","learningRateMultiplier"],F)}let u=b(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const F=b(e,["exportLastCheckpointOnly"]);t!==void 0&&F!=null&&E(t,["supervisedTuningSpec","exportLastCheckpointOnly"],F)}else if(u==="PREFERENCE_TUNING"){const F=b(e,["exportLastCheckpointOnly"]);t!==void 0&&F!=null&&E(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],F)}else if(u==="DISTILLATION"){const F=b(e,["exportLastCheckpointOnly"]);t!==void 0&&F!=null&&E(t,["distillationSpec","exportLastCheckpointOnly"],F)}let d=b(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const F=b(e,["adapterSize"]);t!==void 0&&F!=null&&E(t,["supervisedTuningSpec","hyperParameters","adapterSize"],F)}else if(d==="PREFERENCE_TUNING"){const F=b(e,["adapterSize"]);t!==void 0&&F!=null&&E(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],F)}else if(d==="DISTILLATION"){const F=b(e,["adapterSize"]);t!==void 0&&F!=null&&E(t,["distillationSpec","hyperParameters","adapterSize"],F)}let h=b(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const F=b(e,["tuningMode"]);t!==void 0&&F!=null&&E(t,["supervisedTuningSpec","tuningMode"],F)}const g=b(e,["customBaseModel"]);t!==void 0&&g!=null&&E(t,["customBaseModel"],g);let x=b(r,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const F=b(e,["batchSize"]);t!==void 0&&F!=null&&E(t,["supervisedTuningSpec","hyperParameters","batchSize"],F)}let _=b(r,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const F=b(e,["learningRate"]);t!==void 0&&F!=null&&E(t,["supervisedTuningSpec","hyperParameters","learningRate"],F)}const w=b(e,["labels"]);t!==void 0&&w!=null&&E(t,["labels"],w);const T=b(e,["beta"]);t!==void 0&&T!=null&&E(t,["preferenceOptimizationSpec","hyperParameters","beta"],T);const C=b(e,["baseTeacherModel"]);t!==void 0&&C!=null&&E(t,["distillationSpec","baseTeacherModel"],C);const L=b(e,["tunedTeacherModelSource"]);t!==void 0&&L!=null&&E(t,["distillationSpec","tunedTeacherModelSource"],L);const P=b(e,["sftLossWeightMultiplier"]);t!==void 0&&P!=null&&E(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],P);const D=b(e,["outputUri"]);return t!==void 0&&D!=null&&E(t,["outputUri"],D),n}function xve(e,t){const r={},n=b(e,["baseModel"]);n!=null&&E(r,["baseModel"],n);const i=b(e,["preTunedModel"]);i!=null&&E(r,["preTunedModel"],i);const a=b(e,["trainingDataset"]);a!=null&&kve(a);const s=b(e,["config"]);return s!=null&&vve(s,r),r}function _ve(e,t){const r={},n=b(e,["baseModel"]);n!=null&&E(r,["baseModel"],n);const i=b(e,["preTunedModel"]);i!=null&&E(r,["preTunedModel"],i);const a=b(e,["trainingDataset"]);a!=null&&Pve(a,r,t);const s=b(e,["config"]);return s!=null&&yve(s,r,t),r}function bve(e,t){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],n),r}function wve(e,t){const r={},n=b(e,["name"]);return n!=null&&E(r,["_url","name"],n),r}function Eve(e,t,r){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&E(t,["_query","pageSize"],i);const a=b(e,["pageToken"]);t!==void 0&&a!=null&&E(t,["_query","pageToken"],a);const s=b(e,["filter"]);return t!==void 0&&s!=null&&E(t,["_query","filter"],s),n}function Tve(e,t,r){const n={},i=b(e,["pageSize"]);t!==void 0&&i!=null&&E(t,["_query","pageSize"],i);const a=b(e,["pageToken"]);t!==void 0&&a!=null&&E(t,["_query","pageToken"],a);const s=b(e,["filter"]);return t!==void 0&&s!=null&&E(t,["_query","filter"],s),n}function Ave(e,t){const r={},n=b(e,["config"]);return n!=null&&Eve(n,r),r}function Sve(e,t){const r={},n=b(e,["config"]);return n!=null&&Tve(n,r),r}function Cve(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["nextPageToken"]);i!=null&&E(r,["nextPageToken"],i);const a=b(e,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>vV(o))),E(r,["tuningJobs"],s)}return r}function Nve(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["nextPageToken"]);i!=null&&E(r,["nextPageToken"],i);const a=b(e,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>nS(o))),E(r,["tuningJobs"],s)}return r}function Ive(e,t){const r={},n=b(e,["name"]);n!=null&&E(r,["model"],n);const i=b(e,["name"]);return i!=null&&E(r,["endpoint"],i),r}function kve(e,t){const r={};if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=b(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),E(r,["examples","examples"],i)}return r}function Pve(e,t,r){const n={};let i=b(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=b(e,["gcsUri"]);t!==void 0&&s!=null&&E(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=b(e,["gcsUri"]);t!==void 0&&s!=null&&E(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=b(e,["gcsUri"]);t!==void 0&&s!=null&&E(t,["distillationSpec","promptDatasetUri"],s)}let a=b(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=b(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&E(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=b(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&E(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(a==="DISTILLATION"){const s=b(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&E(t,["distillationSpec","promptDatasetUri"],s)}if(b(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function vV(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["name"]);i!=null&&E(r,["name"],i);const a=b(e,["state"]);a!=null&&E(r,["state"],OB(a));const s=b(e,["createTime"]);s!=null&&E(r,["createTime"],s);const o=b(e,["tuningTask","startTime"]);o!=null&&E(r,["startTime"],o);const c=b(e,["tuningTask","completeTime"]);c!=null&&E(r,["endTime"],c);const u=b(e,["updateTime"]);u!=null&&E(r,["updateTime"],u);const d=b(e,["description"]);d!=null&&E(r,["description"],d);const h=b(e,["baseModel"]);h!=null&&E(r,["baseModel"],h);const g=b(e,["_self"]);return g!=null&&E(r,["tunedModel"],Ive(g)),r}function nS(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["name"]);i!=null&&E(r,["name"],i);const a=b(e,["state"]);a!=null&&E(r,["state"],OB(a));const s=b(e,["createTime"]);s!=null&&E(r,["createTime"],s);const o=b(e,["startTime"]);o!=null&&E(r,["startTime"],o);const c=b(e,["endTime"]);c!=null&&E(r,["endTime"],c);const u=b(e,["updateTime"]);u!=null&&E(r,["updateTime"],u);const d=b(e,["error"]);d!=null&&E(r,["error"],d);const h=b(e,["description"]);h!=null&&E(r,["description"],h);const g=b(e,["baseModel"]);g!=null&&E(r,["baseModel"],g);const x=b(e,["tunedModel"]);x!=null&&E(r,["tunedModel"],x);const _=b(e,["preTunedModel"]);_!=null&&E(r,["preTunedModel"],_);const w=b(e,["supervisedTuningSpec"]);w!=null&&E(r,["supervisedTuningSpec"],w);const T=b(e,["preferenceOptimizationSpec"]);T!=null&&E(r,["preferenceOptimizationSpec"],T);const C=b(e,["distillationSpec"]);C!=null&&E(r,["distillationSpec"],C);const L=b(e,["tuningDataStats"]);L!=null&&E(r,["tuningDataStats"],L);const P=b(e,["encryptionSpec"]);P!=null&&E(r,["encryptionSpec"],P);const D=b(e,["partnerModelTuningSpec"]);D!=null&&E(r,["partnerModelTuningSpec"],D);const F=b(e,["customBaseModel"]);F!=null&&E(r,["customBaseModel"],F);const R=b(e,["experiment"]);R!=null&&E(r,["experiment"],R);const I=b(e,["labels"]);I!=null&&E(r,["labels"],I);const k=b(e,["outputUri"]);k!=null&&E(r,["outputUri"],k);const O=b(e,["pipelineJob"]);O!=null&&E(r,["pipelineJob"],O);const B=b(e,["serviceAccount"]);B!=null&&E(r,["serviceAccount"],B);const V=b(e,["tunedModelDisplayName"]);V!=null&&E(r,["tunedModelDisplayName"],V);const j=b(e,["veoTuningSpec"]);return j!=null&&E(r,["veoTuningSpec"],j),r}function Rve(e,t){const r={},n=b(e,["sdkHttpResponse"]);n!=null&&E(r,["sdkHttpResponse"],n);const i=b(e,["name"]);i!=null&&E(r,["name"],i);const a=b(e,["metadata"]);a!=null&&E(r,["metadata"],a);const s=b(e,["done"]);s!=null&&E(r,["done"],s);const o=b(e,["error"]);return o!=null&&E(r,["error"],o),r}function xE(e,t){const r={},n=b(e,["gcsUri"]);n!=null&&E(r,["validationDatasetUri"],n);const i=b(e,["vertexDatasetResource"]);return i!=null&&E(r,["validationDatasetUri"],i),r}class Ove extends Wl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Vf(Fl.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:HA.JOB_STATE_QUEUED}}}}async getInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=wve(t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>nS(d))}else{const u=bve(t);return o=nt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>vV(d))}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Sve(t);return o=nt("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=Nve(d),g=new UD;return Object.assign(g,h),g})}else{const u=Ave(t);return o=nt("tunedModels",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=Cve(d),g=new UD;return Object.assign(g,h),g})}}async cancel(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=pve(t);return o=nt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=gve(d),g=new BD;return Object.assign(g,h),g})}else{const u=hve(t);return o=nt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:d.headers},g})),s.then(d=>{const h=mve(d),g=new BD;return Object.assign(g,h),g})}}async tuneInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=_ve(t,t);return a=nt("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>nS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=xve(t);return a=nt("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>Rve(c))}}}class Mve{async download(t,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Dve=1024*1024*8,Fve=3,Lve=1e3,jve=2,bx="x-goog-upload-status";async function Uve(e,t,r){var n;const i=await yV(e,t,r),a=await i?.json();if(((n=i?.headers)===null||n===void 0?void 0:n[bx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Bve(e,t,r){var n;const i=await yV(e,t,r),a=await i?.json();if(((n=i?.headers)===null||n===void 0?void 0:n[bx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=CB(a),o=new SC;return Object.assign(o,s),o}async function yV(e,t,r){var n,i;let a=0,s=0,o=new qA(new Response),c="upload";for(a=e.size;s<a;){const u=Math.min(Dve,a-s),d=e.slice(s,s+u);s+u>=a&&(c+=", finalize");let h=0,g=Lve;for(;h<Fve&&(o=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((n=o?.headers)===null||n===void 0)&&n[bx]));)h++,await zve(g),g=g*jve;if(s+=u,((i=o?.headers)===null||i===void 0?void 0:i[bx])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Vve(e){return{size:e.size,type:e.type}}function zve(e){return new Promise(t=>setTimeout(t,e))}class $ve{async upload(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Uve(t,r,n)}async uploadToFileSearchStore(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Bve(t,r,n)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Vve(t)}}class Hve{create(t,r,n){return new Gve(t,r,n)}}class Gve{constructor(t,r,n){this.url=t,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const h3="x-goog-api-key";class qve{constructor(t){this.apiKey=t}async addAuthHeaders(t,r){if(t.get(h3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(h3,this.apiKey)}}}const Kve="gl-node/";class xV{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new gi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=r.interactions,this._interactions}constructor(t){var r;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=t.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=t.apiKey;const n=jfe(t.httpOptions,t.vertexai,void 0,void 0);n&&(t.httpOptions?t.httpOptions.baseUrl=n:t.httpOptions={baseUrl:n}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new qve(this.apiKey);this.apiClient=new Vme({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Kve+"web",uploader:new $ve,downloader:new Mve}),this.models=new sge(this.apiClient),this.live=new ege(this.apiClient,i,new Hve),this.batches=new phe(this.apiClient),this.chats=new Yhe(this.models,this.apiClient),this.caches=new qhe(this.apiClient),this.files=new o0e(this.apiClient),this.operations=new oge(this.apiClient),this.authTokens=new Ege(this.apiClient),this.tunings=new Ove(this.apiClient),this.fileSearchStores=new Pge(this.apiClient)}}const _V=async(e,t)=>{if(!e||!t)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=${t}`,a=await(await fetch(n)).json();if(a.status==="OK"&&a.results&&a.results.length>0){const s=a.results[0],o=s.geometry.location;return{lat:o.lat,lng:o.lng,formattedAddress:s.formatted_address,locationType:s.geometry.location_type,addressComponents:s.address_components}}else return console.warn(`Geocoding failed for address "${e}":`,a.status,a.error_message),null}catch(r){return console.error(`Geocoding fetch error for address "${e}":`,r),null}},q0=async(e,t,r)=>{if(!e||!t||!r)return null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&key=${r}`,a=await(await fetch(n)).json();return a.status==="OK"&&a.plus_code&&(a.plus_code.compound_code||a.plus_code.global_code)||null}catch(n){return console.error("Reverse geocoding error:",n),null}},iS=()=>localStorage.getItem("cnpja_api_key")||"b62178c8-c43b-4e46-a68f-5b1b054c11d6-30fbc130-a06a-4023-bac8-c6dbaefa8326",bV="https://api.cnpja.com",W1=async e=>{const t=e.replace(/[^\d]/g,"");if(t.length!==14)throw new Error("CNPJ deve ter 14 dgitos.");try{const r=await fetch(`${bV}/office/${t}?geocoding=true`,{headers:{Authorization:iS()}});if(!r.ok)throw r.status===404?new Error("CNPJ no encontrado."):r.status===401?new Error("Chave de API CNPJa invlida ou expirada."):new Error("Erro ao consultar CNPJa.");const n=await r.json(),i=n.address.street||"",a=n.address.number||"",s=n.address.district||"",o=n.address.city||"",c=n.address.state||"",u=n.address.type||"";return{cnpj:n.taxId,razao_social:n.company.name,nome_fantasia:n.alias||n.company.name,logradouro:u?`${u} ${i}`:i,numero:a,complemento:n.address.details,bairro:s,cep:n.address.zip,municipio:o,uf:c,ddd_telefone_1:n.phones?.[0]?`(${n.phones[0].area}) ${n.phones[0].number}`:void 0,cnae_fiscal:(n.mainActivity||n.main_activity)?.code?`${(n.mainActivity||n.main_activity).code} - ${(n.mainActivity||n.main_activity).text}`:(n.mainActivity||n.main_activity)?.text,cnae_descricao:(n.mainActivity||n.main_activity)?.text,cnaes_secundarios:(n.sideActivities||n.side_activities||n.secondary_activities)?.map(d=>({codigo:d.code,texto:d.text})),situacao_cadastral:n.registration?.status?.description||n.registration?.status,latitude:n.address.coordinates?.latitude||n.latitude,longitude:n.address.coordinates?.longitude||n.longitude}}catch(r){return console.error("Erro na consulta CNPJa Comercial:",r),Yve(t)}},Wve=async e=>{if(iS()==="SUA_CHAVE_AQUI")return console.warn("Chave de API CNPJa no configurada."),[];try{const r=new URLSearchParams({q:e.filtros,...e.uf&&{state:e.uf},limit:"10"}),n=await fetch(`${bV}/office?${r}`,{headers:{Authorization:iS()}});return n.ok?(await n.json()).items||[]:[]}catch(r){return console.error("Erro na pesquisa por endereo:",r),[]}},Yve=async e=>{try{const t=await fetch(`https://brasilapi.com.br/api/cnpj/v1/${e}`);if(!t.ok)return null;const r=await t.json();return{cnpj:r.cnpj,razao_social:r.razao_social,nome_fantasia:r.nome_fantasia,logradouro:r.logradouro,numero:r.numero,complemento:r.complemento,bairro:r.bairro,cep:r.cep,municipio:r.municipio,uf:r.uf,ddd_telefone_1:r.ddd_telefone_1,cnae_fiscal:r.cnae_fiscal?`${r.cnae_fiscal} - ${r.cnae_fiscal_descricao}`:r.cnae_fiscal_descricao,cnae_descricao:r.cnae_fiscal_descricao,cnaes_secundarios:r.cnaes_secundarios?.map(n=>({codigo:n.codigo,texto:n.descricao}))}}catch{return null}};class Jve{value;next;constructor(t){this.value=t}}class Xve{#e;#t;#r;constructor(){this.clear()}enqueue(t){const r=new Jve(t);this.#e?(this.#t.next=r,this.#t=r):(this.#e=r,this.#t=r),this.#r++}dequeue(){const t=this.#e;if(t)return this.#e=this.#e.next,this.#r--,this.#e||(this.#t=void 0),t.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#r=0}get size(){return this.#r}*[Symbol.iterator](){let t=this.#e;for(;t;)yield t.value,t=t.next}*drain(){for(;this.#e;)yield this.dequeue()}}function wV(e){let t=!1;if(typeof e=="object"&&({concurrency:e,rejectOnClear:t=!1}=e),p3(e),typeof t!="boolean")throw new TypeError("Expected `rejectOnClear` to be a boolean");const r=new Xve;let n=0;const i=()=>{n<e&&r.size>0&&(n++,r.dequeue().run())},a=()=>{n--,i()},s=async(u,d,h)=>{const g=(async()=>u(...h))();d(g);try{await g}catch{}a()},o=(u,d,h,g)=>{const x={reject:h};new Promise(_=>{x.run=_,r.enqueue(x)}).then(s.bind(void 0,u,d,g)),n<e&&i()},c=(u,...d)=>new Promise((h,g)=>{o(u,h,g,d)});return Object.defineProperties(c,{activeCount:{get:()=>n},pendingCount:{get:()=>r.size},clearQueue:{value(){if(!t){r.clear();return}const u=AbortSignal.abort().reason;for(;r.size>0;)r.dequeue().reject(u)}},concurrency:{get:()=>e,set(u){p3(u),e=u,queueMicrotask(()=>{for(;n<e&&r.size>0;)i()})}},map:{async value(u,d){const h=Array.from(u,(g,x)=>this(d,g,x));return Promise.all(h)}}}),c}function p3(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}var EV={};const aS=e=>new Promise(t=>setTimeout(t,e)),Zve=e=>{const t=e.replace(/\D/g,"");if(t.length<5)return"Indefinido";const r=parseInt(t.substring(0,1)),n=parseInt(t.substring(0,2));return r===0||r===1||r===2||r===3?"Sudeste":r===8||r===9?"Sul":r===4||r===5?"Nordeste":r===6?n>=60&&n<=65?"Nordeste":"Norte":r===7?n===77||n===76?"Norte":"Centro-Oeste":"Indefinido"},TV=e=>{const t=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],r=["AC","AP","AM","PA","RO","RR","TO"],n=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],a=["PR","SC","RS"],s=e.toUpperCase().trim();return t.includes(s)?"Nordeste":r.includes(s)?"Norte":n.includes(s)?"Centro-Oeste":i.includes(s)?"Sudeste":a.includes(s)?"Sul":"Indefinido"},Qve=e=>{let t="Desconhecido",r="BR",n="Indefinido";if(Array.isArray(e)){const i=e.find(s=>s.types.includes("administrative_area_level_1"));i&&(r=i.short_name);const a=e.find(s=>s.types.includes("administrative_area_level_2")||s.types.includes("locality"));a&&(t=a.long_name),n=TV(r)}return{city:t,state:r,region:n}},eye=async(e,t,r,n,i,a)=>{const s=new xV({apiKey:r||EV.API_KEY}),o=wV(3),c=e.length;let u=0;const d=i.map(_=>`"${_}"`).join(" | "),h=async(_,w)=>{if(!_)return u++,a&&a(u,c),null;const T=`${t}-${Date.now()}-${w}`;let C=null;if(_.cnpj&&_.cnpj.replace(/\D/g,"").length===14)try{C=await W1(_.cnpj)}catch(ie){console.warn(`CNPJ enrichment failed for ${_.cnpj}`,ie)}let L=_.address||"";!L&&(_.street||_.city)&&(L=[_.street,_.number,_.district,_.city,_.state,_.zip,_.country].filter(Boolean).join(", ")),C?.logradouro&&(L=`${C.logradouro}, ${C.numero}${C.complemento?` - ${C.complemento}`:""}, ${C.bairro}, ${C.municipio} - ${C.uf}`);const P=$U(L),D=C?.nome_fantasia||C?.razao_social||_.companyName||"Empresa Desconhecida",F=_.ownerName||"",R=C?.ddd_telefone_1||_.phone||"",I=P.match(/\d{5}[-]?\d{3}/),k=C?.cep||(I?I[0]:"");if(!P&&D==="Empresa Desconhecida")return u++,a&&a(u,c),null;const O=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${D}" localizada EXATAMENTE em "${P}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${d} | "Outros".

      IMPORTANTE: Use o endereo "${P}" como ncora principal para a busca.
      ${C?`DADO ADICIONAL: O CNPJ da empresa  ${C.cnpj}.`:""}
      ${_.city?`DADO LOCALIDADE: Cidade: ${_.city}${_.state?`, Estado: ${_.state}`:""}`:""}

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let B=0;const V=5;let j=null,G=!1,de={},ge="";for(;!G&&B<=V;)try{const ie=await s.models.generateContent({model:"gemini-2.0-flash",contents:O,config:{tools:[{googleMaps:{}}]}});let fe=ie.text||"{}";fe=fe.replace(/```json/g,"").replace(/```/g,"").trim();try{de=JSON.parse(fe)}catch{const _e=fe.match(/\{[\s\S]*\}/);if(_e)try{de=JSON.parse(_e[0])}catch{}}const ue=ie.candidates?.[0]?.groundingMetadata?.groundingChunks;if(ue&&Array.isArray(ue)){const ae=ue.find(_e=>_e.maps?.uri);ae&&(ge=ae.maps.uri)}G=!0}catch(ie){const fe=ie.status===429||ie.code===429||ie.message&&(ie.message.includes("quota")||ie.message.includes("429")),ue=ie.status===503||ie.code===503;if((fe||ue)&&B<V){B++;const ae=2e3*Math.pow(2,B);console.warn(`Retry ${B}/${V} for client ${w}`),await aS(ae)}else{console.error(`Failed to process client with AI ${w} (continuing to manual geocode)`,ie);break}}try{let ie=C?.latitude||_.latitude||(typeof de.lat=="number"?de.lat:0),fe=C?.longitude||_.longitude||(typeof de.lng=="number"?de.lng:0),ue=C?.logradouro?`${C.logradouro}, ${C.numero}, ${C.municipio} - ${C.uf}`:de.cleanAddress||P,ae=C?.municipio||de.city||"Desconhecido",_e=C?.uf||de.state||"BR",X=(C?.uf?TV(C.uf):null)||de.region||"Indefinido";const z=ie!==0&&fe!==0;if(!z||ae==="Desconhecido"||_e==="BR"){const pe=L||ue;if(pe&&pe.length>5&&n)try{const xe=await _V(pe,n);if(xe){if(z||(ie=xe.lat,fe=xe.lng),xe.addressComponents){const ke=Qve(xe.addressComponents);ae=ke.city,_e=ke.state,X=ke.region}(!X||X==="Indefinido")&&k&&(X=Zve(k)),xe.formattedAddress&&(ue=xe.formattedAddress)}}catch(xe){console.warn(`Geocoding failed for ${D}`,xe)}}const Z=pe=>Array.isArray(pe)?pe:typeof pe=="string"?[pe]:["Outros"];let K=R;de.phone&&(K=K?`${K} | Maps: ${de.phone}`:de.phone),de.website&&(K=K?`${K} | Site: ${de.website}`:`Site: ${de.website}`),j={id:T,salespersonId:t,companyName:D,ownerName:F,contact:K,originalAddress:L,cleanAddress:ue,cnpj:C?.cnpj||_.cnpj,mainCnae:C?.cnae_fiscal,secondaryCnaes:C?.cnaes_secundarios?.map(pe=>`${pe.codigo} - ${pe.texto}`),category:Z(de.category),region:X,state:_e,city:ae,lat:ie,lng:fe,whatsapp:_.whatsapp||de.phone||"",plusCode:de.plusCode||"",googleMapsUri:_.googleMapsLink||ge}}catch(ie){console.error("Critical error in client finalization",ie),j={id:T,salespersonId:t,companyName:D,ownerName:F,contact:R,originalAddress:L,cleanAddress:L,category:["Outros"],region:"Indefinido",state:"BR",city:"Erro Critico",lat:_.latitude||0,lng:_.longitude||0,whatsapp:_.whatsapp||"",googleMapsUri:_.googleMapsLink}}return u++,a&&a(u,c),await aS(500),j},g=e.map((_,w)=>o(()=>h(_,w)));return(await Promise.all(g)).filter(_=>_!==null)},tye=async(e,t,r)=>{const n=new xV({apiKey:t||EV.API_KEY}),i=10,a=e.length;let s=0;const o=[...e];for(let c=0;c<a;c+=i){const u=e.slice(c,c+i),h=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${u.map(g=>`- ID: ${g.sku} | Nome: ${g.name} | Marca: ${g.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let x=(await n.models.generateContent({model:"gemini-2.5-flash",contents:h})).text||"[]";x=x.replace(/```json/g,"").replace(/```/g,"").trim();let _=[];try{_=JSON.parse(x)}catch{console.error("Failed to parse AI response",x);const T=x.match(/\[.*\]/s);if(T)try{_=JSON.parse(T[0])}catch{}}Array.isArray(_)&&_.forEach(w=>{const T=o.findIndex(C=>String(C.sku)===String(w.sku));T!==-1&&(o[T]={...o[T],category:w.category})})}catch(g){console.error("Batch classification failed",g)}s+=u.length,r&&r(s,a),await aS(1e3)}return o},rye=()=>{};var m3={};const AV=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},nye=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},SV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let g=(o&15)<<2|u>>6,x=u&63;c||(x=64,s||(g=64)),n.push(r[d],r[h],r[g],r[x])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(AV(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nye(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const h=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new iye;const g=a<<2|o>>4;if(n.push(g),u!==64){const x=o<<4&240|u>>2;if(n.push(x),h!==64){const _=u<<6&192|h;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class iye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aye=function(e){const t=AV(e);return SV.encodeByteArray(t,!0)},wx=function(e){return aye(e).replace(/\./g,"")},sye=function(e){try{return SV.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lye=()=>oye().__FIREBASE_DEFAULTS__,cye=()=>{if(typeof process>"u"||typeof m3>"u")return;const e=m3.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},uye=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sye(e[1]);return t&&JSON.parse(t)},MC=()=>{try{return rye()||lye()||cye()||uye()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fye=e=>MC()?.emulatorHosts?.[e],dye=e=>{const t=fye(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},CV=()=>MC()?.config;class hye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function Vm(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NV(e){return(await fetch(e,{credentials:"include"})).ok}function pye(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[wx(JSON.stringify(r)),wx(JSON.stringify(s)),""].join(".")}const Fp={};function mye(){const e={prod:[],emulator:[]};for(const t of Object.keys(Fp))Fp[t]?e.emulator.push(t):e.prod.push(t);return e}function gye(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let g3=!1;function vye(e,t){if(typeof window>"u"||typeof document>"u"||!Vm(window.location.host)||Fp[e]===t||Fp[e]||g3)return;Fp[e]=t;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",a=mye().prod.length>0;function s(){const g=document.getElementById(n);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{g3=!0,s()},g}function d(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function h(){const g=gye(n),x=r("text"),_=document.getElementById(x)||document.createElement("span"),w=r("learnmore"),T=document.getElementById(w)||document.createElement("a"),C=r("preprendIcon"),L=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;o(P),d(T,w);const D=u();c(L,C),P.append(L,_,T,D),document.body.appendChild(P)}a?(_.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function yye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xye(){const e=MC()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _ye(){return!xye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bye(){try{return typeof indexedDB=="object"}catch{return!1}}function wye(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(r){t(r)}})}const Eye="FirebaseError";class zf extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Eye,Object.setPrototypeOf(this,zf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,IV.prototype.create)}}class IV{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?Tye(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new zf(i,o,n)}}function Tye(e,t){return e.replace(Aye,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const Aye=/\{\$([^}]+)}/g;function Ex(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(v3(a)&&v3(s)){if(!Ex(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function v3(e){return e!==null&&typeof e=="object"}function ja(e){return e&&e._delegate?e._delegate:e}class mh{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ku="[DEFAULT]";let Sye=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new hye;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Nye(t))try{this.getOrInitializeService({instanceIdentifier:Ku})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ku){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ku){return this.instances.has(t)}getOptions(t=Ku){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Cye(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ku){return this.component?this.component.multipleInstances?t:Ku:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Cye(e){return e===Ku?void 0:e}function Nye(e){return e.instantiationMode==="EAGER"}class Iye{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Sye(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var sr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(sr||(sr={}));const kye={debug:sr.DEBUG,verbose:sr.VERBOSE,info:sr.INFO,warn:sr.WARN,error:sr.ERROR,silent:sr.SILENT},Pye=sr.INFO,Rye={[sr.DEBUG]:"log",[sr.VERBOSE]:"log",[sr.INFO]:"info",[sr.WARN]:"warn",[sr.ERROR]:"error"},Oye=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=Rye[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kV{constructor(t){this.name=t,this._logLevel=Pye,this._logHandler=Oye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in sr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kye[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,sr.DEBUG,...t),this._logHandler(this,sr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,sr.VERBOSE,...t),this._logHandler(this,sr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,sr.INFO,...t),this._logHandler(this,sr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,sr.WARN,...t),this._logHandler(this,sr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,sr.ERROR,...t),this._logHandler(this,sr.ERROR,...t)}}const Mye=(e,t)=>t.some(r=>e instanceof r);let y3,x3;function Dye(){return y3||(y3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fye(){return x3||(x3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PV=new WeakMap,sS=new WeakMap,RV=new WeakMap,_E=new WeakMap,DC=new WeakMap;function Lye(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(Gc(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&PV.set(r,e)}).catch(()=>{}),DC.set(t,e),t}function jye(e){if(sS.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});sS.set(e,t)}let oS={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return sS.get(e);if(t==="objectStoreNames")return e.objectStoreNames||RV.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Gc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Uye(e){oS=e(oS)}function Bye(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(bE(this),t,...r);return RV.set(n,t.sort?t.sort():[t]),Gc(n)}:Fye().includes(e)?function(...t){return e.apply(bE(this),t),Gc(PV.get(this))}:function(...t){return Gc(e.apply(bE(this),t))}}function Vye(e){return typeof e=="function"?Bye(e):(e instanceof IDBTransaction&&jye(e),Mye(e,Dye())?new Proxy(e,oS):e)}function Gc(e){if(e instanceof IDBRequest)return Lye(e);if(_E.has(e))return _E.get(e);const t=Vye(e);return t!==e&&(_E.set(e,t),DC.set(t,e)),t}const bE=e=>DC.get(e);function zye(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Gc(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Gc(s.result),c.oldVersion,c.newVersion,Gc(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const $ye=["get","getKey","getAll","getAllKeys","count"],Hye=["put","add","delete","clear"],wE=new Map;function _3(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wE.get(t))return wE.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=Hye.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$ye.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return wE.set(t,a),a}Uye(e=>({...e,get:(t,r,n)=>_3(t,r)||e.get(t,r,n),has:(t,r)=>!!_3(t,r)||e.has(t,r)}));class Gye{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(qye(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function qye(e){return e.getComponent()?.type==="VERSION"}const lS="@firebase/app",b3="0.14.8";const Ll=new kV("@firebase/app"),Kye="@firebase/app-compat",Wye="@firebase/analytics-compat",Yye="@firebase/analytics",Jye="@firebase/app-check-compat",Xye="@firebase/app-check",Zye="@firebase/auth",Qye="@firebase/auth-compat",exe="@firebase/database",txe="@firebase/data-connect",rxe="@firebase/database-compat",nxe="@firebase/functions",ixe="@firebase/functions-compat",axe="@firebase/installations",sxe="@firebase/installations-compat",oxe="@firebase/messaging",lxe="@firebase/messaging-compat",cxe="@firebase/performance",uxe="@firebase/performance-compat",fxe="@firebase/remote-config",dxe="@firebase/remote-config-compat",hxe="@firebase/storage",pxe="@firebase/storage-compat",mxe="@firebase/firestore",gxe="@firebase/ai",vxe="@firebase/firestore-compat",yxe="firebase",xxe="12.9.0";const cS="[DEFAULT]",_xe={[lS]:"fire-core",[Kye]:"fire-core-compat",[Yye]:"fire-analytics",[Wye]:"fire-analytics-compat",[Xye]:"fire-app-check",[Jye]:"fire-app-check-compat",[Zye]:"fire-auth",[Qye]:"fire-auth-compat",[exe]:"fire-rtdb",[txe]:"fire-data-connect",[rxe]:"fire-rtdb-compat",[nxe]:"fire-fn",[ixe]:"fire-fn-compat",[axe]:"fire-iid",[sxe]:"fire-iid-compat",[oxe]:"fire-fcm",[lxe]:"fire-fcm-compat",[cxe]:"fire-perf",[uxe]:"fire-perf-compat",[fxe]:"fire-rc",[dxe]:"fire-rc-compat",[hxe]:"fire-gcs",[pxe]:"fire-gcs-compat",[mxe]:"fire-fst",[vxe]:"fire-fst-compat",[gxe]:"fire-vertex","fire-js":"fire-js",[yxe]:"fire-js-all"};const lm=new Map,bxe=new Map,uS=new Map;function w3(e,t){try{e.container.addComponent(t)}catch(r){Ll.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function cm(e){const t=e.name;if(uS.has(t))return Ll.debug(`There were multiple attempts to register component ${t}.`),!1;uS.set(t,e);for(const r of lm.values())w3(r,e);for(const r of bxe.values())w3(r,e);return!0}function OV(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function MV(e){return e==null?!1:e.settings!==void 0}const wxe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qc=new IV("app","Firebase",wxe);class Exe{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qc.create("app-deleted",{appName:this._name})}}const DV=xxe;function FV(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:cS,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw qc.create("bad-app-name",{appName:String(i)});if(r||(r=CV()),!r)throw qc.create("no-options");const a=lm.get(i);if(a){if(Ex(r,a.options)&&Ex(n,a.config))return a;throw qc.create("duplicate-app",{appName:i})}const s=new Iye(i);for(const c of uS.values())s.addComponent(c);const o=new Exe(r,n,s);return lm.set(i,o),o}function LV(e=cS){const t=lm.get(e);if(!t&&e===cS&&CV())return FV();if(!t)throw qc.create("no-app",{appName:e});return t}function Txe(){return Array.from(lm.values())}function Kc(e,t,r){let n=_xe[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ll.warn(s.join(" "));return}cm(new mh(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const Axe="firebase-heartbeat-database",Sxe=1,um="firebase-heartbeat-store";let EE=null;function jV(){return EE||(EE=zye(Axe,Sxe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(um)}catch(r){console.warn(r)}}}}).catch(e=>{throw qc.create("idb-open",{originalErrorMessage:e.message})})),EE}async function Cxe(e){try{const r=(await jV()).transaction(um),n=await r.objectStore(um).get(UV(e));return await r.done,n}catch(t){if(t instanceof zf)Ll.warn(t.message);else{const r=qc.create("idb-get",{originalErrorMessage:t?.message});Ll.warn(r.message)}}}async function E3(e,t){try{const n=(await jV()).transaction(um,"readwrite");await n.objectStore(um).put(t,UV(e)),await n.done}catch(r){if(r instanceof zf)Ll.warn(r.message);else{const n=qc.create("idb-set",{originalErrorMessage:r?.message});Ll.warn(n.message)}}}function UV(e){return`${e.name}!${e.options.appId}`}const Nxe=1024,Ixe=30;class kxe{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Rxe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=T3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>Ixe){const i=Oxe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ll.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=T3(),{heartbeatsToSend:r,unsentEntries:n}=Pxe(this._heartbeatsCache.heartbeats),i=wx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ll.warn(t),""}}}function T3(){return new Date().toISOString().substring(0,10)}function Pxe(e,t=Nxe){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),A3(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),A3(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Rxe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bye()?wye().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Cxe(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return E3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return E3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function A3(e){return wx(JSON.stringify({version:2,heartbeats:e})).length}function Oxe(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}function Mxe(e){cm(new mh("platform-logger",t=>new Gye(t),"PRIVATE")),cm(new mh("heartbeat",t=>new kxe(t),"PRIVATE")),Kc(lS,b3,e),Kc(lS,b3,"esm2020"),Kc("fire-js","")}Mxe("");var Dxe="firebase",Fxe="12.9.0";Kc(Dxe,Fxe,"app");var S3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wc,BV;(function(){var e;function t(I,k){function O(){}O.prototype=k.prototype,I.F=k.prototype,I.prototype=new O,I.prototype.constructor=I,I.D=function(B,V,j){for(var G=Array(arguments.length-2),de=2;de<arguments.length;de++)G[de-2]=arguments[de];return k.prototype[V].apply(B,G)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,k,O){O||(O=0);const B=Array(16);if(typeof k=="string")for(var V=0;V<16;++V)B[V]=k.charCodeAt(O++)|k.charCodeAt(O++)<<8|k.charCodeAt(O++)<<16|k.charCodeAt(O++)<<24;else for(V=0;V<16;++V)B[V]=k[O++]|k[O++]<<8|k[O++]<<16|k[O++]<<24;k=I.g[0],O=I.g[1],V=I.g[2];let j=I.g[3],G;G=k+(j^O&(V^j))+B[0]+3614090360&4294967295,k=O+(G<<7&4294967295|G>>>25),G=j+(V^k&(O^V))+B[1]+3905402710&4294967295,j=k+(G<<12&4294967295|G>>>20),G=V+(O^j&(k^O))+B[2]+606105819&4294967295,V=j+(G<<17&4294967295|G>>>15),G=O+(k^V&(j^k))+B[3]+3250441966&4294967295,O=V+(G<<22&4294967295|G>>>10),G=k+(j^O&(V^j))+B[4]+4118548399&4294967295,k=O+(G<<7&4294967295|G>>>25),G=j+(V^k&(O^V))+B[5]+1200080426&4294967295,j=k+(G<<12&4294967295|G>>>20),G=V+(O^j&(k^O))+B[6]+2821735955&4294967295,V=j+(G<<17&4294967295|G>>>15),G=O+(k^V&(j^k))+B[7]+4249261313&4294967295,O=V+(G<<22&4294967295|G>>>10),G=k+(j^O&(V^j))+B[8]+1770035416&4294967295,k=O+(G<<7&4294967295|G>>>25),G=j+(V^k&(O^V))+B[9]+2336552879&4294967295,j=k+(G<<12&4294967295|G>>>20),G=V+(O^j&(k^O))+B[10]+4294925233&4294967295,V=j+(G<<17&4294967295|G>>>15),G=O+(k^V&(j^k))+B[11]+2304563134&4294967295,O=V+(G<<22&4294967295|G>>>10),G=k+(j^O&(V^j))+B[12]+1804603682&4294967295,k=O+(G<<7&4294967295|G>>>25),G=j+(V^k&(O^V))+B[13]+4254626195&4294967295,j=k+(G<<12&4294967295|G>>>20),G=V+(O^j&(k^O))+B[14]+2792965006&4294967295,V=j+(G<<17&4294967295|G>>>15),G=O+(k^V&(j^k))+B[15]+1236535329&4294967295,O=V+(G<<22&4294967295|G>>>10),G=k+(V^j&(O^V))+B[1]+4129170786&4294967295,k=O+(G<<5&4294967295|G>>>27),G=j+(O^V&(k^O))+B[6]+3225465664&4294967295,j=k+(G<<9&4294967295|G>>>23),G=V+(k^O&(j^k))+B[11]+643717713&4294967295,V=j+(G<<14&4294967295|G>>>18),G=O+(j^k&(V^j))+B[0]+3921069994&4294967295,O=V+(G<<20&4294967295|G>>>12),G=k+(V^j&(O^V))+B[5]+3593408605&4294967295,k=O+(G<<5&4294967295|G>>>27),G=j+(O^V&(k^O))+B[10]+38016083&4294967295,j=k+(G<<9&4294967295|G>>>23),G=V+(k^O&(j^k))+B[15]+3634488961&4294967295,V=j+(G<<14&4294967295|G>>>18),G=O+(j^k&(V^j))+B[4]+3889429448&4294967295,O=V+(G<<20&4294967295|G>>>12),G=k+(V^j&(O^V))+B[9]+568446438&4294967295,k=O+(G<<5&4294967295|G>>>27),G=j+(O^V&(k^O))+B[14]+3275163606&4294967295,j=k+(G<<9&4294967295|G>>>23),G=V+(k^O&(j^k))+B[3]+4107603335&4294967295,V=j+(G<<14&4294967295|G>>>18),G=O+(j^k&(V^j))+B[8]+1163531501&4294967295,O=V+(G<<20&4294967295|G>>>12),G=k+(V^j&(O^V))+B[13]+2850285829&4294967295,k=O+(G<<5&4294967295|G>>>27),G=j+(O^V&(k^O))+B[2]+4243563512&4294967295,j=k+(G<<9&4294967295|G>>>23),G=V+(k^O&(j^k))+B[7]+1735328473&4294967295,V=j+(G<<14&4294967295|G>>>18),G=O+(j^k&(V^j))+B[12]+2368359562&4294967295,O=V+(G<<20&4294967295|G>>>12),G=k+(O^V^j)+B[5]+4294588738&4294967295,k=O+(G<<4&4294967295|G>>>28),G=j+(k^O^V)+B[8]+2272392833&4294967295,j=k+(G<<11&4294967295|G>>>21),G=V+(j^k^O)+B[11]+1839030562&4294967295,V=j+(G<<16&4294967295|G>>>16),G=O+(V^j^k)+B[14]+4259657740&4294967295,O=V+(G<<23&4294967295|G>>>9),G=k+(O^V^j)+B[1]+2763975236&4294967295,k=O+(G<<4&4294967295|G>>>28),G=j+(k^O^V)+B[4]+1272893353&4294967295,j=k+(G<<11&4294967295|G>>>21),G=V+(j^k^O)+B[7]+4139469664&4294967295,V=j+(G<<16&4294967295|G>>>16),G=O+(V^j^k)+B[10]+3200236656&4294967295,O=V+(G<<23&4294967295|G>>>9),G=k+(O^V^j)+B[13]+681279174&4294967295,k=O+(G<<4&4294967295|G>>>28),G=j+(k^O^V)+B[0]+3936430074&4294967295,j=k+(G<<11&4294967295|G>>>21),G=V+(j^k^O)+B[3]+3572445317&4294967295,V=j+(G<<16&4294967295|G>>>16),G=O+(V^j^k)+B[6]+76029189&4294967295,O=V+(G<<23&4294967295|G>>>9),G=k+(O^V^j)+B[9]+3654602809&4294967295,k=O+(G<<4&4294967295|G>>>28),G=j+(k^O^V)+B[12]+3873151461&4294967295,j=k+(G<<11&4294967295|G>>>21),G=V+(j^k^O)+B[15]+530742520&4294967295,V=j+(G<<16&4294967295|G>>>16),G=O+(V^j^k)+B[2]+3299628645&4294967295,O=V+(G<<23&4294967295|G>>>9),G=k+(V^(O|~j))+B[0]+4096336452&4294967295,k=O+(G<<6&4294967295|G>>>26),G=j+(O^(k|~V))+B[7]+1126891415&4294967295,j=k+(G<<10&4294967295|G>>>22),G=V+(k^(j|~O))+B[14]+2878612391&4294967295,V=j+(G<<15&4294967295|G>>>17),G=O+(j^(V|~k))+B[5]+4237533241&4294967295,O=V+(G<<21&4294967295|G>>>11),G=k+(V^(O|~j))+B[12]+1700485571&4294967295,k=O+(G<<6&4294967295|G>>>26),G=j+(O^(k|~V))+B[3]+2399980690&4294967295,j=k+(G<<10&4294967295|G>>>22),G=V+(k^(j|~O))+B[10]+4293915773&4294967295,V=j+(G<<15&4294967295|G>>>17),G=O+(j^(V|~k))+B[1]+2240044497&4294967295,O=V+(G<<21&4294967295|G>>>11),G=k+(V^(O|~j))+B[8]+1873313359&4294967295,k=O+(G<<6&4294967295|G>>>26),G=j+(O^(k|~V))+B[15]+4264355552&4294967295,j=k+(G<<10&4294967295|G>>>22),G=V+(k^(j|~O))+B[6]+2734768916&4294967295,V=j+(G<<15&4294967295|G>>>17),G=O+(j^(V|~k))+B[13]+1309151649&4294967295,O=V+(G<<21&4294967295|G>>>11),G=k+(V^(O|~j))+B[4]+4149444226&4294967295,k=O+(G<<6&4294967295|G>>>26),G=j+(O^(k|~V))+B[11]+3174756917&4294967295,j=k+(G<<10&4294967295|G>>>22),G=V+(k^(j|~O))+B[2]+718787259&4294967295,V=j+(G<<15&4294967295|G>>>17),G=O+(j^(V|~k))+B[9]+3951481745&4294967295,I.g[0]=I.g[0]+k&4294967295,I.g[1]=I.g[1]+(V+(G<<21&4294967295|G>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+j&4294967295}n.prototype.v=function(I,k){k===void 0&&(k=I.length);const O=k-this.blockSize,B=this.C;let V=this.h,j=0;for(;j<k;){if(V==0)for(;j<=O;)i(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<k;)if(B[V++]=I.charCodeAt(j++),V==this.blockSize){i(this,B),V=0;break}}else for(;j<k;)if(B[V++]=I[j++],V==this.blockSize){i(this,B),V=0;break}}this.h=V,this.o+=k},n.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var k=1;k<I.length-8;++k)I[k]=0;k=this.o*8;for(var O=I.length-8;O<I.length;++O)I[O]=k&255,k/=256;for(this.v(I),I=Array(16),k=0,O=0;O<4;++O)for(let B=0;B<32;B+=8)I[k++]=this.g[O]>>>B&255;return I};function a(I,k){var O=o;return Object.prototype.hasOwnProperty.call(O,I)?O[I]:O[I]=k(I)}function s(I,k){this.h=k;const O=[];let B=!0;for(let V=I.length-1;V>=0;V--){const j=I[V]|0;B&&j==k||(O[V]=j,B=!1)}this.g=O}var o={};function c(I){return-128<=I&&I<128?a(I,function(k){return new s([k|0],k<0?-1:0)}):new s([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return T(u(-I));const k=[];let O=1;for(let B=0;I>=O;B++)k[B]=I/O|0,O*=4294967296;return new s(k,0)}function d(I,k){if(I.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(I.charAt(0)=="-")return T(d(I.substring(1),k));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=u(Math.pow(k,8));let B=h;for(let j=0;j<I.length;j+=8){var V=Math.min(8,I.length-j);const G=parseInt(I.substring(j,j+V),k);V<8?(V=u(Math.pow(k,V)),B=B.j(V).add(u(G))):(B=B.j(O),B=B.add(u(G)))}return B}var h=c(0),g=c(1),x=c(16777216);e=s.prototype,e.m=function(){if(w(this))return-T(this).m();let I=0,k=1;for(let O=0;O<this.g.length;O++){const B=this.i(O);I+=(B>=0?B:4294967296+B)*k,k*=4294967296}return I},e.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(w(this))return"-"+T(this).toString(I);const k=u(Math.pow(I,6));var O=this;let B="";for(;;){const V=D(O,k).g;O=C(O,V.j(k));let j=((O.g.length>0?O.g[0]:O.h)>>>0).toString(I);if(O=V,_(O))return j+B;for(;j.length<6;)j="0"+j;B=j+B}},e.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(let k=0;k<I.g.length;k++)if(I.g[k]!=0)return!1;return!0}function w(I){return I.h==-1}e.l=function(I){return I=C(this,I),w(I)?-1:_(I)?0:1};function T(I){const k=I.g.length,O=[];for(let B=0;B<k;B++)O[B]=~I.g[B];return new s(O,~I.h).add(g)}e.abs=function(){return w(this)?T(this):this},e.add=function(I){const k=Math.max(this.g.length,I.g.length),O=[];let B=0;for(let V=0;V<=k;V++){let j=B+(this.i(V)&65535)+(I.i(V)&65535),G=(j>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);B=G>>>16,j&=65535,G&=65535,O[V]=G<<16|j}return new s(O,O[O.length-1]&-2147483648?-1:0)};function C(I,k){return I.add(T(k))}e.j=function(I){if(_(this)||_(I))return h;if(w(this))return w(I)?T(this).j(T(I)):T(T(this).j(I));if(w(I))return T(this.j(T(I)));if(this.l(x)<0&&I.l(x)<0)return u(this.m()*I.m());const k=this.g.length+I.g.length,O=[];for(var B=0;B<2*k;B++)O[B]=0;for(B=0;B<this.g.length;B++)for(let V=0;V<I.g.length;V++){const j=this.i(B)>>>16,G=this.i(B)&65535,de=I.i(V)>>>16,ge=I.i(V)&65535;O[2*B+2*V]+=G*ge,L(O,2*B+2*V),O[2*B+2*V+1]+=j*ge,L(O,2*B+2*V+1),O[2*B+2*V+1]+=G*de,L(O,2*B+2*V+1),O[2*B+2*V+2]+=j*de,L(O,2*B+2*V+2)}for(I=0;I<k;I++)O[I]=O[2*I+1]<<16|O[2*I];for(I=k;I<2*k;I++)O[I]=0;return new s(O,0)};function L(I,k){for(;(I[k]&65535)!=I[k];)I[k+1]+=I[k]>>>16,I[k]&=65535,k++}function P(I,k){this.g=I,this.h=k}function D(I,k){if(_(k))throw Error("division by zero");if(_(I))return new P(h,h);if(w(I))return k=D(T(I),k),new P(T(k.g),T(k.h));if(w(k))return k=D(I,T(k)),new P(T(k.g),k.h);if(I.g.length>30){if(w(I)||w(k))throw Error("slowDivide_ only works with positive integers.");for(var O=g,B=k;B.l(I)<=0;)O=F(O),B=F(B);var V=R(O,1),j=R(B,1);for(B=R(B,2),O=R(O,2);!_(B);){var G=j.add(B);G.l(I)<=0&&(V=V.add(O),j=G),B=R(B,1),O=R(O,1)}return k=C(I,V.j(k)),new P(V,k)}for(V=h;I.l(k)>=0;){for(O=Math.max(1,Math.floor(I.m()/k.m())),B=Math.ceil(Math.log(O)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),j=u(O),G=j.j(k);w(G)||G.l(I)>0;)O-=B,j=u(O),G=j.j(k);_(j)&&(j=g),V=V.add(j),I=C(I,G)}return new P(V,I)}e.B=function(I){return D(this,I).h},e.and=function(I){const k=Math.max(this.g.length,I.g.length),O=[];for(let B=0;B<k;B++)O[B]=this.i(B)&I.i(B);return new s(O,this.h&I.h)},e.or=function(I){const k=Math.max(this.g.length,I.g.length),O=[];for(let B=0;B<k;B++)O[B]=this.i(B)|I.i(B);return new s(O,this.h|I.h)},e.xor=function(I){const k=Math.max(this.g.length,I.g.length),O=[];for(let B=0;B<k;B++)O[B]=this.i(B)^I.i(B);return new s(O,this.h^I.h)};function F(I){const k=I.g.length+1,O=[];for(let B=0;B<k;B++)O[B]=I.i(B)<<1|I.i(B-1)>>>31;return new s(O,I.h)}function R(I,k){const O=k>>5;k%=32;const B=I.g.length-O,V=[];for(let j=0;j<B;j++)V[j]=k>0?I.i(j+O)>>>k|I.i(j+O+1)<<32-k:I.i(j+O);return new s(V,I.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,BV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Wc=s}).apply(typeof S3<"u"?S3:typeof self<"u"?self:typeof window<"u"?window:{});var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var VV,vp,zV,Ny,fS,$V,HV,GV;(function(){var e,t=Object.defineProperty;function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yv=="object"&&Yv];for(var U=0;U<A.length;++U){var q=A[U];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=r(this);function i(A,U){if(U)e:{var q=n;A=A.split(".");for(var ee=0;ee<A.length-1;ee++){var be=A[ee];if(!(be in q))break e;q=q[be]}A=A[A.length-1],ee=q[A],U=U(ee),U!=ee&&U!=null&&t(q,A,{configurable:!0,writable:!0,value:U})}}i("Symbol.dispose",function(A){return A||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(A){return A||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(A){return A||function(U){var q=[],ee;for(ee in U)Object.prototype.hasOwnProperty.call(U,ee)&&q.push([ee,U[ee]]);return q}});var a=a||{},s=this||self;function o(A){var U=typeof A;return U=="object"&&A!=null||U=="function"}function c(A,U,q){return A.call.apply(A.bind,arguments)}function u(A,U,q){return u=c,u.apply(null,arguments)}function d(A,U){var q=Array.prototype.slice.call(arguments,1);return function(){var ee=q.slice();return ee.push.apply(ee,arguments),A.apply(this,ee)}}function h(A,U){function q(){}q.prototype=U.prototype,A.Z=U.prototype,A.prototype=new q,A.prototype.constructor=A,A.Ob=function(ee,be,Pe){for(var et=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)et[Lt-2]=arguments[Lt];return U.prototype[be].apply(ee,et)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?A=>A&&AsyncContext.Snapshot.wrap(A):A=>A;function x(A){const U=A.length;if(U>0){const q=Array(U);for(let ee=0;ee<U;ee++)q[ee]=A[ee];return q}return[]}function _(A,U){for(let ee=1;ee<arguments.length;ee++){const be=arguments[ee];var q=typeof be;if(q=q!="object"?q:be?Array.isArray(be)?"array":q:"null",q=="array"||q=="object"&&typeof be.length=="number"){q=A.length||0;const Pe=be.length||0;A.length=q+Pe;for(let et=0;et<Pe;et++)A[q+et]=be[et]}else A.push(be)}}class w{constructor(U,q){this.i=U,this.j=q,this.h=0,this.g=null}get(){let U;return this.h>0?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function T(A){s.setTimeout(()=>{throw A},0)}function C(){var A=I;let U=null;return A.g&&(U=A.g,A.g=A.g.next,A.g||(A.h=null),U.next=null),U}class L{constructor(){this.h=this.g=null}add(U,q){const ee=P.get();ee.set(U,q),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var P=new w(()=>new D,A=>A.reset());class D{constructor(){this.next=this.g=this.h=null}set(U,q){this.h=U,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let F,R=!1,I=new L,k=()=>{const A=Promise.resolve(void 0);F=()=>{A.then(O)}};function O(){for(var A;A=C();){try{A.h.call(A.g)}catch(q){T(q)}var U=P;U.j(A),U.h<100&&(U.h++,A.next=U.g,U.g=A)}R=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(A,U){this.type=A,this.g=this.target=U,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var A=!1,U=Object.defineProperty({},"passive",{get:function(){A=!0}});try{const q=()=>{};s.addEventListener("test",q,U),s.removeEventListener("test",q,U)}catch{}return A})();function G(A){return/^[\s\xa0]*$/.test(A)}function de(A,U){V.call(this,A?A.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,A&&this.init(A,U)}h(de,V),de.prototype.init=function(A,U){const q=this.type=A.type,ee=A.changedTouches&&A.changedTouches.length?A.changedTouches[0]:null;this.target=A.target||A.srcElement,this.g=U,U=A.relatedTarget,U||(q=="mouseover"?U=A.fromElement:q=="mouseout"&&(U=A.toElement)),this.relatedTarget=U,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0),this.button=A.button,this.key=A.key||"",this.ctrlKey=A.ctrlKey,this.altKey=A.altKey,this.shiftKey=A.shiftKey,this.metaKey=A.metaKey,this.pointerId=A.pointerId||0,this.pointerType=A.pointerType,this.state=A.state,this.i=A,A.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const A=this.i;A.preventDefault?A.preventDefault():A.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),ie=0;function fe(A,U,q,ee,be){this.listener=A,this.proxy=null,this.src=U,this.type=q,this.capture=!!ee,this.ha=be,this.key=++ie,this.da=this.fa=!1}function ue(A){A.da=!0,A.listener=null,A.proxy=null,A.src=null,A.ha=null}function ae(A,U,q){for(const ee in A)U.call(q,A[ee],ee,A)}function _e(A,U){for(const q in A)U.call(void 0,A[q],q,A)}function X(A){const U={};for(const q in A)U[q]=A[q];return U}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function te(A,U){let q,ee;for(let be=1;be<arguments.length;be++){ee=arguments[be];for(q in ee)A[q]=ee[q];for(let Pe=0;Pe<z.length;Pe++)q=z[Pe],Object.prototype.hasOwnProperty.call(ee,q)&&(A[q]=ee[q])}}function Z(A){this.src=A,this.g={},this.h=0}Z.prototype.add=function(A,U,q,ee,be){const Pe=A.toString();A=this.g[Pe],A||(A=this.g[Pe]=[],this.h++);const et=pe(A,U,ee,be);return et>-1?(U=A[et],q||(U.fa=!1)):(U=new fe(U,this.src,Pe,!!ee,be),U.fa=q,A.push(U)),U};function K(A,U){const q=U.type;if(q in A.g){var ee=A.g[q],be=Array.prototype.indexOf.call(ee,U,void 0),Pe;(Pe=be>=0)&&Array.prototype.splice.call(ee,be,1),Pe&&(ue(U),A.g[q].length==0&&(delete A.g[q],A.h--))}}function pe(A,U,q,ee){for(let be=0;be<A.length;++be){const Pe=A[be];if(!Pe.da&&Pe.listener==U&&Pe.capture==!!q&&Pe.ha==ee)return be}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),ke={};function le(A,U,q,ee,be){if(Array.isArray(U)){for(let Pe=0;Pe<U.length;Pe++)le(A,U[Pe],q,ee,be);return null}return q=Xe(q),A&&A[ge]?A.J(U,q,o(ee)?!!ee.capture:!1,be):ve(A,U,q,!1,ee,be)}function ve(A,U,q,ee,be,Pe){if(!U)throw Error("Invalid event type");const et=o(be)?!!be.capture:!!be;let Lt=$e(A);if(Lt||(A[xe]=Lt=new Z(A)),q=Lt.add(U,q,ee,et,Pe),q.proxy)return q;if(ee=Fe(),q.proxy=ee,ee.src=A,ee.listener=q,A.addEventListener)j||(be=et),be===void 0&&(be=!1),A.addEventListener(U.toString(),ee,be);else if(A.attachEvent)A.attachEvent(Be(U.toString()),ee);else if(A.addListener&&A.removeListener)A.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return q}function Fe(){function A(q){return U.call(A.src,A.listener,q)}const U=We;return A}function W(A,U,q,ee,be){if(Array.isArray(U))for(var Pe=0;Pe<U.length;Pe++)W(A,U[Pe],q,ee,be);else ee=o(ee)?!!ee.capture:!!ee,q=Xe(q),A&&A[ge]?(A=A.i,Pe=String(U).toString(),Pe in A.g&&(U=A.g[Pe],q=pe(U,q,ee,be),q>-1&&(ue(U[q]),Array.prototype.splice.call(U,q,1),U.length==0&&(delete A.g[Pe],A.h--)))):A&&(A=$e(A))&&(U=A.g[U.toString()],A=-1,U&&(A=pe(U,q,ee,be)),(q=A>-1?U[A]:null)&&Je(q))}function Je(A){if(typeof A!="number"&&A&&!A.da){var U=A.src;if(U&&U[ge])K(U.i,A);else{var q=A.type,ee=A.proxy;U.removeEventListener?U.removeEventListener(q,ee,A.capture):U.detachEvent?U.detachEvent(Be(q),ee):U.addListener&&U.removeListener&&U.removeListener(ee),(q=$e(U))?(K(q,A),q.h==0&&(q.src=null,U[xe]=null)):ue(A)}}}function Be(A){return A in ke?ke[A]:ke[A]="on"+A}function We(A,U){if(A.da)A=!0;else{U=new de(U,this);const q=A.listener,ee=A.ha||A.src;A.fa&&Je(A),A=q.call(ee,U)}return A}function $e(A){return A=A[xe],A instanceof Z?A:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xe(A){return typeof A=="function"?A:(A[Le]||(A[Le]=function(U){return A.handleEvent(U)}),A[Le])}function tt(){B.call(this),this.i=new Z(this),this.M=this,this.G=null}h(tt,B),tt.prototype[ge]=!0,tt.prototype.removeEventListener=function(A,U,q,ee){W(this,A,U,q,ee)};function pt(A,U){var q,ee=A.G;if(ee)for(q=[];ee;ee=ee.G)q.push(ee);if(A=A.M,ee=U.type||U,typeof U=="string")U=new V(U,A);else if(U instanceof V)U.target=U.target||A;else{var be=U;U=new V(ee,A),te(U,be)}be=!0;let Pe,et;if(q)for(et=q.length-1;et>=0;et--)Pe=U.g=q[et],be=kt(Pe,ee,!0,U)&&be;if(Pe=U.g=A,be=kt(Pe,ee,!0,U)&&be,be=kt(Pe,ee,!1,U)&&be,q)for(et=0;et<q.length;et++)Pe=U.g=q[et],be=kt(Pe,ee,!1,U)&&be}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var A=this.i;for(const U in A.g){const q=A.g[U];for(let ee=0;ee<q.length;ee++)ue(q[ee]);delete A.g[U],A.h--}}this.G=null},tt.prototype.J=function(A,U,q,ee){return this.i.add(String(A),U,!1,q,ee)},tt.prototype.K=function(A,U,q,ee){return this.i.add(String(A),U,!0,q,ee)};function kt(A,U,q,ee){if(U=A.i.g[String(U)],!U)return!0;U=U.concat();let be=!0;for(let Pe=0;Pe<U.length;++Pe){const et=U[Pe];if(et&&!et.da&&et.capture==q){const Lt=et.listener,Tn=et.ha||et.src;et.fa&&K(A.i,et),be=Lt.call(Tn,ee)!==!1&&be}}return be&&!ee.defaultPrevented}function qr(A,U){if(typeof A!="function")if(A&&typeof A.handleEvent=="function")A=u(A.handleEvent,A);else throw Error("Invalid listener argument");return Number(U)>2147483647?-1:s.setTimeout(A,U||0)}function Vr(A){A.g=qr(()=>{A.g=null,A.i&&(A.i=!1,Vr(A))},A.l);const U=A.h;A.h=null,A.m.apply(null,U)}class bt extends B{constructor(U,q){super(),this.m=U,this.l=q,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:Vr(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(A){B.call(this),this.h=A,this.g={}}h(_r,B);var Kt=[];function Tr(A){ae(A.g,function(U,q){this.g.hasOwnProperty(q)&&Je(U)},A),A.g={}}_r.prototype.N=function(){_r.Z.N.call(this),Tr(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=s.JSON.stringify,Mt=s.JSON.parse,Et=class{stringify(A){return s.JSON.stringify(A,void 0)}parse(A){return s.JSON.parse(A,void 0)}};function rr(){}function Ht(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function br(){V.call(this,"d")}h(br,V);function _i(){V.call(this,"c")}h(_i,V);var gt={},ya=null;function xo(){return ya=ya||new tt}gt.Ia="serverreachability";function il(A){V.call(this,gt.Ia,A)}h(il,V);function xa(A){const U=xo();pt(U,new il(U))}gt.STAT_EVENT="statevent";function _o(A,U){V.call(this,gt.STAT_EVENT,A),this.stat=U}h(_o,V);function Zr(A){const U=xo();pt(U,new _o(U,A))}gt.Ja="timingevent";function ni(A,U){V.call(this,gt.Ja,A),this.size=U}h(ni,V);function $a(A,U){if(typeof A!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){A()},U)}function _a(){this.g=!0}_a.prototype.ua=function(){this.g=!1};function _u(A,U,q,ee,be,Pe){A.info(function(){if(A.g)if(Pe){var et="",Lt=Pe.split("&");for(let yr=0;yr<Lt.length;yr++){var Tn=Lt[yr].split("=");if(Tn.length>1){const Qr=Tn[0];Tn=Tn[1];const ms=Qr.split("_");et=ms.length>=2&&ms[1]=="type"?et+(Qr+"="+Tn+"&"):et+(Qr+"=redacted&")}}}else et=null;else et=Pe;return"XMLHTTP REQ ("+ee+") [attempt "+be+"]: "+U+`
`+q+`
`+et})}function bo(A,U,q,ee,be,Pe,et){A.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+be+"]: "+U+`
`+q+`
`+Pe+" "+et})}function ba(A,U,q,ee){A.info(function(){return"XMLHTTP TEXT ("+U+"): "+bu(A,q)+(ee?" "+ee:"")})}function wa(A,U){A.info(function(){return"TIMEOUT: "+U})}_a.prototype.info=function(){};function bu(A,U){if(!A.g)return U;if(!U)return null;try{const Pe=JSON.parse(U);if(Pe){for(A=0;A<Pe.length;A++)if(Array.isArray(Pe[A])){var q=Pe[A];if(!(q.length<2)){var ee=q[1];if(Array.isArray(ee)&&!(ee.length<1)){var be=ee[0];if(be!="noop"&&be!="stop"&&be!="close")for(let et=1;et<ee.length;et++)ee[et]=""}}}}return dt(Pe)}catch{return U}}var bi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ha={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fi;function Qi(){}h(Qi,rr),Qi.prototype.g=function(){return new XMLHttpRequest},Fi=new Qi;function Rn(A){return encodeURIComponent(String(A))}function Y(A){var U=1;A=A.split(":");const q=[];for(;U>0&&A.length;)q.push(A.shift()),U--;return A.length&&q.push(A.join(":")),q}function se(A,U,q,ee){this.j=A,this.i=U,this.l=q,this.S=ee||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Q}function Q(){this.i=null,this.g="",this.h=!1}var re={},ne={};function oe(A,U,q){A.M=1,A.A=ce(cn(U)),A.u=q,A.R=!0,Ee(A,null)}function Ee(A,U){A.F=Date.now(),Se(A),A.B=cn(A.A);var q=A.B,ee=A.S;Array.isArray(ee)||(ee=[String(ee)]),si(q.i,"t",ee),A.C=0,q=A.j.L,A.h=new Q,A.g=Ag(A.j,q?U:null,!A.u),A.P>0&&(A.O=new bt(u(A.Y,A,A.g),A.P)),U=A.V,q=A.g,ee=A.ba;var be="readystatechange";Array.isArray(be)||(be&&(Kt[0]=be.toString()),be=Kt);for(let Pe=0;Pe<be.length;Pe++){const et=le(q,be[Pe],ee||U.handleEvent,!1,U.h||U);if(!et)break;U.g[et.key]=et}U=A.J?X(A.J):{},A.u?(A.v||(A.v="POST"),U["Content-Type"]="application/x-www-form-urlencoded",A.g.ea(A.B,A.v,A.u,U)):(A.v="GET",A.g.ea(A.B,A.v,null,U)),xa(),_u(A.i,A.v,A.B,A.l,A.S,A.u)}se.prototype.ba=function(A){A=A.target;const U=this.O;U&&Hs(A)==3?U.j():this.Y(A)},se.prototype.Y=function(A){try{if(A==this.g)e:{const Lt=Hs(this.g),Tn=this.g.ya(),yr=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||wi(this.g)))){this.K||Lt!=4||Tn==7||(Tn==8||yr<=0?xa(3):xa(2)),Ye(this);var U=this.g.ca();this.X=U;var q=Oe(this);if(this.o=U==200,bo(this.i,this.v,this.B,this.l,this.S,Lt,U),this.o){if(this.U&&!this.L){t:{if(this.g){var ee,be=this.g;if((ee=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ee)){var Pe=ee;break t}}Pe=null}if(A=Pe)ba(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ze(this,A);else{this.o=!1,this.m=3,Zr(12),Ge(this),Qe(this);break e}}if(this.R){A=!0;let Qr;for(;!this.K&&this.C<q.length;)if(Qr=Ne(this,q),Qr==ne){Lt==4&&(this.m=4,Zr(14),A=!1),ba(this.i,this.l,null,"[Incomplete Response]");break}else if(Qr==re){this.m=4,Zr(15),ba(this.i,this.l,q,"[Invalid Chunk]"),A=!1;break}else ba(this.i,this.l,Qr,null),Ze(this,Qr);if(Te(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||q.length!=0||this.h.h||(this.m=1,Zr(16),A=!1),this.o=this.o&&A,!A)ba(this.i,this.l,q,"[Invalid Chunked Response]"),Ge(this),Qe(this);else if(q.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),a0(et),et.P=!0,Zr(11))}}else ba(this.i,this.l,q,null),Ze(this,q);Lt==4&&Ge(this),this.o&&!this.K&&(Lt==4?bg(this.j,this):(this.o=!1,Se(this)))}else sl(this.g),U==400&&q.indexOf("Unknown SID")>0?(this.m=3,Zr(12)):(this.m=0,Zr(13)),Ge(this),Qe(this)}}}catch{}};function Oe(A){if(!Te(A))return A.g.la();const U=wi(A.g);if(U==="")return"";let q="";const ee=U.length,be=Hs(A.g)==4;if(!A.h.i){if(typeof TextDecoder>"u")return Ge(A),Qe(A),"";A.h.i=new s.TextDecoder}for(let Pe=0;Pe<ee;Pe++)A.h.h=!0,q+=A.h.i.decode(U[Pe],{stream:!(be&&Pe==ee-1)});return U.length=0,A.h.g+=q,A.C=0,A.h.g}function Te(A){return A.g?A.v=="GET"&&A.M!=2&&A.j.Aa:!1}function Ne(A,U){var q=A.C,ee=U.indexOf(`
`,q);return ee==-1?ne:(q=Number(U.substring(q,ee)),isNaN(q)?re:(ee+=1,ee+q>U.length?ne:(U=U.slice(ee,ee+q),A.C=ee+q,U)))}se.prototype.cancel=function(){this.K=!0,Ge(this)};function Se(A){A.T=Date.now()+A.H,qe(A,A.H)}function qe(A,U){if(A.D!=null)throw Error("WatchDog timer not null");A.D=$a(u(A.aa,A),U)}function Ye(A){A.D&&(s.clearTimeout(A.D),A.D=null)}se.prototype.aa=function(){this.D=null;const A=Date.now();A-this.T>=0?(wa(this.i,this.B),this.M!=2&&(xa(),Zr(17)),Ge(this),this.m=2,Qe(this)):qe(this,this.T-A)};function Qe(A){A.j.I==0||A.K||bg(A.j,A)}function Ge(A){Ye(A);var U=A.O;U&&typeof U.dispose=="function"&&U.dispose(),A.O=null,Tr(A.V),A.g&&(U=A.g,A.g=null,U.abort(),U.dispose())}function Ze(A,U){try{var q=A.j;if(q.I!=0&&(q.g==A||ii(q.h,A))){if(!A.L&&ii(q.h,A)&&q.I==3){try{var ee=q.Ba.g.parse(U)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var be=ee;if(be[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<A.F)Qf(q),ac(q);else break e;Cu(q),Zr(18)}}else q.xa=be[1],0<q.xa-q.K&&be[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=$a(u(q.Va,q),6e3));Ar(q.h)<=1&&q.ta&&(q.ta=void 0)}else Co(q,11)}else if((A.L||q.g==A)&&Qf(q),!G(U))for(be=q.Ba.g.parse(U),U=0;U<be.length;U++){let yr=be[U];const Qr=yr[0];if(!(Qr<=q.K))if(q.K=Qr,yr=yr[1],q.I==2)if(yr[0]=="c"){q.M=yr[1],q.ba=yr[2];const ms=yr[3];ms!=null&&(q.ka=ms,q.j.info("VER="+q.ka));const No=yr[4];No!=null&&(q.za=No,q.j.info("SVER="+q.za));const Gs=yr[5];Gs!=null&&typeof Gs=="number"&&Gs>0&&(ee=1.5*Gs,q.O=ee,q.j.info("backChannelRequestTimeoutMs_="+ee)),ee=q;const qs=A.g;if(qs){const Nu=qs.g?qs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nu){var Pe=ee.h;Pe.g||Nu.indexOf("spdy")==-1&&Nu.indexOf("quic")==-1&&Nu.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(Ga(Pe,Pe.h),Pe.h=null))}if(ee.G){const ed=qs.g?qs.g.getResponseHeader("X-HTTP-Session-Id"):null;ed&&(ee.wa=ed,ir(ee.J,ee.G,ed))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-A.F,q.j.info("Handshake RTT: "+q.T+"ms")),ee=q;var et=A;if(ee.na=Tg(ee,ee.L?ee.ba:null,ee.W),et.L){qa(ee.h,et);var Lt=et,Tn=ee.O;Tn&&(Lt.H=Tn),Lt.D&&(Ye(Lt),Se(Lt)),ee.g=et}else xg(ee);q.i.length>0&&So(q)}else yr[0]!="stop"&&yr[0]!="close"||Co(q,7);else q.I==3&&(yr[0]=="stop"||yr[0]=="close"?yr[0]=="stop"?Co(q,7):n0(q):yr[0]!="noop"&&q.l&&q.l.qa(yr),q.A=0)}}xa(4)}catch{}}var lt=class{constructor(A,U){this.g=A,this.map=U}};function gr(A){this.l=A||10,s.PerformanceNavigationTiming?(A=s.performance.getEntriesByType("navigation"),A=A.length>0&&(A[0].nextHopProtocol=="hq"||A[0].nextHopProtocol=="h2")):A=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=A?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vr(A){return A.h?!0:A.g?A.g.size>=A.j:!1}function Ar(A){return A.h?1:A.g?A.g.size:0}function ii(A,U){return A.h?A.h==U:A.g?A.g.has(U):!1}function Ga(A,U){A.g?A.g.add(U):A.h=U}function qa(A,U){A.h&&A.h==U?A.h=null:A.g&&A.g.has(U)&&A.g.delete(U)}gr.prototype.cancel=function(){if(this.i=ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const A of this.g.values())A.cancel();this.g.clear()}};function ea(A){if(A.h!=null)return A.i.concat(A.h.G);if(A.g!=null&&A.g.size!==0){let U=A.i;for(const q of A.g.values())U=U.concat(q.G);return U}return x(A.i)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ai(A,U){if(A){A=A.split("&");for(let q=0;q<A.length;q++){const ee=A[q].indexOf("=");let be,Pe=null;ee>=0?(be=A[q].substring(0,ee),Pe=A[q].substring(ee+1)):be=A[q],U(be,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function ta(A){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let U;A instanceof ta?(this.l=A.l,un(this,A.j),this.o=A.o,this.g=A.g,Rr(this,A.u),this.h=A.h,nr(this,ra(A.i)),this.m=A.m):A&&(U=String(A).match(wo))?(this.l=!1,un(this,U[1]||"",!0),this.o=Me(U[2]||""),this.g=Me(U[3]||"",!0),Rr(this,U[4]),this.h=Me(U[5]||"",!0),nr(this,U[6]||"",!0),this.m=Me(U[7]||"")):(this.l=!1,this.i=new zt(null,this.l))}ta.prototype.toString=function(){const A=[];var U=this.j;U&&A.push(Ke(U,vt,!0),":");var q=this.g;return(q||U=="file")&&(A.push("//"),(U=this.o)&&A.push(Ke(U,vt,!0),"@"),A.push(Rn(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&A.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&A.push("/"),A.push(Ke(q,q.charAt(0)=="/"?Tt:Ft,!0))),(q=this.i.toString())&&A.push("?",q),(q=this.m)&&A.push("#",Ke(q,Dt)),A.join("")},ta.prototype.resolve=function(A){const U=cn(this);let q=!!A.j;q?un(U,A.j):q=!!A.o,q?U.o=A.o:q=!!A.g,q?U.g=A.g:q=A.u!=null;var ee=A.h;if(q)Rr(U,A.u);else if(q=!!A.h){if(ee.charAt(0)!="/")if(this.g&&!this.h)ee="/"+ee;else{var be=U.h.lastIndexOf("/");be!=-1&&(ee=U.h.slice(0,be+1)+ee)}if(be=ee,be==".."||be==".")ee="";else if(be.indexOf("./")!=-1||be.indexOf("/.")!=-1){ee=be.lastIndexOf("/",0)==0,be=be.split("/");const Pe=[];for(let et=0;et<be.length;){const Lt=be[et++];Lt=="."?ee&&et==be.length&&Pe.push(""):Lt==".."?((Pe.length>1||Pe.length==1&&Pe[0]!="")&&Pe.pop(),ee&&et==be.length&&Pe.push("")):(Pe.push(Lt),ee=!0)}ee=Pe.join("/")}else ee=be}return q?U.h=ee:q=A.i.toString()!=="",q?nr(U,ra(A.i)):q=!!A.m,q&&(U.m=A.m),U};function cn(A){return new ta(A)}function un(A,U,q){A.j=q?Me(U,!0):U,A.j&&(A.j=A.j.replace(/:$/,""))}function Rr(A,U){if(U){if(U=Number(U),isNaN(U)||U<0)throw Error("Bad port number "+U);A.u=U}else A.u=null}function nr(A,U,q){U instanceof zt?(A.i=U,Ka(A.i,A.l)):(q||(U=Ke(U,mt)),A.i=new zt(U,A.l))}function ir(A,U,q){A.i.set(U,q)}function ce(A){return ir(A,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),A}function Me(A,U){return A?U?decodeURI(A.replace(/%25/g,"%2525")):decodeURIComponent(A):""}function Ke(A,U,q){return typeof A=="string"?(A=encodeURI(A).replace(U,rt),q&&(A=A.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A):null}function rt(A){return A=A.charCodeAt(0),"%"+(A>>4&15).toString(16)+(A&15).toString(16)}var vt=/[#\/\?@]/g,Ft=/[#\?:]/g,Tt=/[#\?]/g,mt=/[#\?@]/g,Dt=/#/g;function zt(A,U){this.h=this.g=null,this.i=A||null,this.j=!!U}function Ct(A){A.g||(A.g=new Map,A.h=0,A.i&&ai(A.i,function(U,q){A.add(decodeURIComponent(U.replace(/\+/g," ")),q)}))}e=zt.prototype,e.add=function(A,U){Ct(this),this.i=null,A=Sr(this,A);let q=this.g.get(A);return q||this.g.set(A,q=[]),q.push(U),this.h+=1,this};function Zt(A,U){Ct(A),U=Sr(A,U),A.g.has(U)&&(A.i=null,A.h-=A.g.get(U).length,A.g.delete(U))}function On(A,U){return Ct(A),U=Sr(A,U),A.g.has(U)}e.forEach=function(A,U){Ct(this),this.g.forEach(function(q,ee){q.forEach(function(be){A.call(U,be,ee,this)},this)},this)};function Qt(A,U){Ct(A);let q=[];if(typeof U=="string")On(A,U)&&(q=q.concat(A.g.get(Sr(A,U))));else for(A=Array.from(A.g.values()),U=0;U<A.length;U++)q=q.concat(A[U]);return q}e.set=function(A,U){return Ct(this),this.i=null,A=Sr(this,A),On(this,A)&&(this.h-=this.g.get(A).length),this.g.set(A,[U]),this.h+=1,this},e.get=function(A,U){return A?(A=Qt(this,A),A.length>0?String(A[0]):U):U};function si(A,U,q){Zt(A,U),q.length>0&&(A.i=null,A.g.set(Sr(A,U),x(q)),A.h+=q.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const A=[],U=Array.from(this.g.keys());for(let ee=0;ee<U.length;ee++){var q=U[ee];const be=Rn(q);q=Qt(this,q);for(let Pe=0;Pe<q.length;Pe++){let et=be;q[Pe]!==""&&(et+="="+Rn(q[Pe])),A.push(et)}}return this.i=A.join("&")};function ra(A){const U=new zt;return U.i=A.i,A.g&&(U.g=new Map(A.g),U.h=A.h),U}function Sr(A,U){return U=String(U),A.j&&(U=U.toLowerCase()),U}function Ka(A,U){U&&!A.j&&(Ct(A),A.i=null,A.g.forEach(function(q,ee){const be=ee.toLowerCase();ee!=be&&(Zt(this,ee),si(this,be,q))},A)),A.j=U}function Ea(A,U){const q=new _a;if(s.Image){const ee=new Image;ee.onload=d(oi,q,"TestLoadImage: loaded",!0,U,ee),ee.onerror=d(oi,q,"TestLoadImage: error",!1,U,ee),ee.onabort=d(oi,q,"TestLoadImage: abort",!1,U,ee),ee.ontimeout=d(oi,q,"TestLoadImage: timeout",!1,U,ee),s.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=A}else U(!1)}function fn(A,U){const q=new _a,ee=new AbortController,be=setTimeout(()=>{ee.abort(),oi(q,"TestPingServer: timeout",!1,U)},1e4);fetch(A,{signal:ee.signal}).then(Pe=>{clearTimeout(be),Pe.ok?oi(q,"TestPingServer: ok",!0,U):oi(q,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(be),oi(q,"TestPingServer: error",!1,U)})}function oi(A,U,q,ee,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),ee(q)}catch{}}function hs(){this.g=new Et}function Eo(A){this.i=A.Sb||null,this.h=A.ab||!1}h(Eo,rr),Eo.prototype.g=function(){return new wu(this.i,this.h)};function wu(A,U){tt.call(this),this.H=A,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(wu,tt),e=wu.prototype,e.open=function(A,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=A,this.D=U,this.readyState=1,$s(this)},e.send=function(A){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const U={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};A&&(U.body=A),(this.H||s).fetch(new Request(this.D,U)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nc(this)),this.readyState=0},e.Pa=function(A){if(this.g&&(this.l=A,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=A.headers,this.readyState=2,$s(this)),this.g&&(this.readyState=3,$s(this),this.g)))if(this.responseType==="arraybuffer")A.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in A){if(this.j=A.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jf(this)}else A.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jf(A){A.j.read().then(A.Ma.bind(A)).catch(A.ga.bind(A))}e.Ma=function(A){if(this.g){if(this.o&&A.value)this.response.push(A.value);else if(!this.o){var U=A.value?A.value:new Uint8Array(0);(U=this.B.decode(U,{stream:!A.done}))&&(this.response=this.responseText+=U)}A.done?nc(this):$s(this),this.readyState==3&&Jf(this)}},e.Oa=function(A){this.g&&(this.response=this.responseText=A,nc(this))},e.Na=function(A){this.g&&(this.response=A,nc(this))},e.ga=function(){this.g&&nc(this)};function nc(A){A.readyState=4,A.l=null,A.j=null,A.B=null,$s(A)}e.setRequestHeader=function(A,U){this.A.append(A,U)},e.getResponseHeader=function(A){return this.h&&this.h.get(A.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const A=[],U=this.h.entries();for(var q=U.next();!q.done;)q=q.value,A.push(q[0]+": "+q[1]),q=U.next();return A.join(`\r
`)};function $s(A){A.onreadystatechange&&A.onreadystatechange.call(A)}Object.defineProperty(wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(A){this.m=A?"include":"same-origin"}});function ps(A){let U="";return ae(A,function(q,ee){U+=ee,U+=":",U+=q,U+=`\r
`}),U}function Eu(A,U,q){e:{for(ee in q){var ee=!1;break e}ee=!0}ee||(q=ps(q),typeof A=="string"?q!=null&&Rn(q):ir(A,U,q))}function Or(A){tt.call(this),this.headers=new Map,this.L=A||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Or,tt);var To=/^https?$/i,t0=["POST","PUT"];e=Or.prototype,e.Fa=function(A){this.H=A},e.ea=function(A,U,q,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+A);U=U?U.toUpperCase():"GET",this.D=A,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fi.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(U,String(A),!0),this.B=!1}catch(Pe){Tu(this,Pe);return}if(A=q||"",q=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var be in ee)q.set(be,ee[be]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Pe of ee.keys())q.set(Pe,ee.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(q.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),be=s.FormData&&A instanceof s.FormData,!(Array.prototype.indexOf.call(t0,U,void 0)>=0)||ee||be||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,et]of q)this.g.setRequestHeader(Pe,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(A),this.v=!1}catch(Pe){Tu(this,Pe)}};function Tu(A,U){A.h=!1,A.g&&(A.j=!0,A.g.abort(),A.j=!1),A.l=U,A.o=5,r0(A),al(A)}function r0(A){A.A||(A.A=!0,pt(A,"complete"),pt(A,"error"))}e.abort=function(A){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=A||7,pt(this,"complete"),pt(this,"abort"),al(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),al(this,!0)),Or.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Au(this):this.Xa())},e.Xa=function(){Au(this)};function Au(A){if(A.h&&typeof a<"u"){if(A.v&&Hs(A)==4)setTimeout(A.Ca.bind(A),0);else if(pt(A,"readystatechange"),Hs(A)==4){A.h=!1;try{const Pe=A.ca();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var q;if(!(q=U)){var ee;if(ee=Pe===0){let et=String(A.D).match(wo)[1]||null;!et&&s.self&&s.self.location&&(et=s.self.location.protocol.slice(0,-1)),ee=!To.test(et?et.toLowerCase():"")}q=ee}if(q)pt(A,"complete"),pt(A,"success");else{A.o=6;try{var be=Hs(A)>2?A.g.statusText:""}catch{be=""}A.l=be+" ["+A.ca()+"]",r0(A)}}finally{al(A)}}}}function al(A,U){if(A.g){A.m&&(clearTimeout(A.m),A.m=null);const q=A.g;A.g=null,U||pt(A,"ready");try{q.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Hs(A){return A.g?A.g.readyState:0}e.ca=function(){try{return Hs(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(A){if(this.g){var U=this.g.responseText;return A&&U.indexOf(A)==0&&(U=U.substring(A.length)),Mt(U)}};function wi(A){try{if(!A.g)return null;if("response"in A.g)return A.g.response;switch(A.F){case"":case"text":return A.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in A.g)return A.g.mozResponseArrayBuffer}return null}catch{return null}}function sl(A){const U={};A=(A.g&&Hs(A)>=2&&A.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<A.length;ee++){if(G(A[ee]))continue;var q=Y(A[ee]);const be=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Pe=U[be]||[];U[be]=Pe,Pe.push(q)}_e(U,function(ee){return ee.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(A,U,q){return q&&q.internalChannelParams&&q.internalChannelParams[A]||U}function ic(A){this.za=0,this.i=[],this.j=new _a,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ao("failFast",!1,A),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ao("baseRetryDelayMs",5e3,A),this.Za=Ao("retryDelaySeedMs",1e4,A),this.Ta=Ao("forwardChannelMaxRetries",2,A),this.va=Ao("forwardChannelRequestTimeoutMs",2e4,A),this.ma=A&&A.xmlHttpFactory||void 0,this.Ua=A&&A.Rb||void 0,this.Aa=A&&A.useFetchStreams||!1,this.O=void 0,this.L=A&&A.supportsCrossDomainXhr||!1,this.M="",this.h=new gr(A&&A.concurrentRequestLimit),this.Ba=new hs,this.S=A&&A.fastHandshake||!1,this.R=A&&A.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=A&&A.Pb||!1,A&&A.ua&&this.j.ua(),A&&A.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&A&&A.detectBufferingProxy||!1,this.ia=void 0,A&&A.longPollingTimeout&&A.longPollingTimeout>0&&(this.ia=A.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ic.prototype,e.ka=8,e.I=1,e.connect=function(A,U,q,ee){Zr(0),this.W=A,this.H=U||{},q&&ee!==void 0&&(this.H.OSID=q,this.H.OAID=ee),this.F=this.X,this.J=Tg(this,null,this.W),So(this)};function n0(A){if(Xf(A),A.I==3){var U=A.V++,q=cn(A.J);if(ir(q,"SID",A.M),ir(q,"RID",U),ir(q,"TYPE","terminate"),Su(A,q),U=new se(A,A.j,U),U.M=2,U.A=ce(cn(q)),q=!1,s.navigator&&s.navigator.sendBeacon)try{q=s.navigator.sendBeacon(U.A.toString(),"")}catch{}!q&&s.Image&&(new Image().src=U.A,q=!0),q||(U.g=Ag(U.j,null),U.g.ea(U.A)),U.F=Date.now(),Se(U)}Eg(A)}function ac(A){A.g&&(a0(A),A.g.cancel(),A.g=null)}function Xf(A){ac(A),A.v&&(s.clearTimeout(A.v),A.v=null),Qf(A),A.h.cancel(),A.m&&(typeof A.m=="number"&&s.clearTimeout(A.m),A.m=null)}function So(A){if(!vr(A.h)&&!A.m){A.m=!0;var U=A.Ea;F||k(),R||(F(),R=!0),I.add(U,A),A.D=0}}function Zf(A,U){return Ar(A.h)>=A.h.j-(A.m?1:0)?!1:A.m?(A.i=U.G.concat(A.i),!0):A.I==1||A.I==2||A.D>=(A.Sa?0:A.Ta)?!1:(A.m=$a(u(A.Ea,A,U),wg(A,A.D)),A.D++,!0)}e.Ea=function(A){if(this.m)if(this.m=null,this.I==1){if(!A){this.V=Math.floor(Math.random()*1e5),A=this.V++;const be=new se(this,this.j,A);let Pe=this.o;if(this.U&&(Pe?(Pe=X(Pe),te(Pe,this.U)):Pe=this.U),this.u!==null||this.R||(be.J=Pe,Pe=null),this.S)e:{for(var U=0,q=0;q<this.i.length;q++){t:{var ee=this.i[q];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(U+=ee,U>4096){U=q;break e}if(U===4096||q===this.i.length-1){U=q+1;break e}}U=1e3}else U=1e3;U=yg(this,be,U),q=cn(this.J),ir(q,"RID",A),ir(q,"CVER",22),this.G&&ir(q,"X-HTTP-Session-Id",this.G),Su(this,q),Pe&&(this.R?U="headers="+Rn(ps(Pe))+"&"+U:this.u&&Eu(q,this.u,Pe)),Ga(this.h,be),this.Ra&&ir(q,"TYPE","init"),this.S?(ir(q,"$req",U),ir(q,"SID","null"),be.U=!0,oe(be,q,null)):oe(be,q,U),this.I=2}}else this.I==3&&(A?i0(this,A):this.i.length==0||vr(this.h)||i0(this))};function i0(A,U){var q;U?q=U.l:q=A.V++;const ee=cn(A.J);ir(ee,"SID",A.M),ir(ee,"RID",q),ir(ee,"AID",A.K),Su(A,ee),A.u&&A.o&&Eu(ee,A.u,A.o),q=new se(A,A.j,q,A.D+1),A.u===null&&(q.J=A.o),U&&(A.i=U.G.concat(A.i)),U=yg(A,q,1e3),q.H=Math.round(A.va*.5)+Math.round(A.va*.5*Math.random()),Ga(A.h,q),oe(q,ee,U)}function Su(A,U){A.H&&ae(A.H,function(q,ee){ir(U,ee,q)}),A.l&&ae({},function(q,ee){ir(U,ee,q)})}function yg(A,U,q){q=Math.min(A.i.length,q);const ee=A.l?u(A.l.Ka,A.l,A):null;e:{var be=A.i;let Lt=-1;for(;;){const Tn=["count="+q];Lt==-1?q>0?(Lt=be[0].g,Tn.push("ofs="+Lt)):Lt=0:Tn.push("ofs="+Lt);let yr=!0;for(let Qr=0;Qr<q;Qr++){var Pe=be[Qr].g;const ms=be[Qr].map;if(Pe-=Lt,Pe<0)Lt=Math.max(0,be[Qr].g-100),yr=!1;else try{Pe="req"+Pe+"_"||"";try{var et=ms instanceof Map?ms:Object.entries(ms);for(const[No,Gs]of et){let qs=Gs;o(Gs)&&(qs=dt(Gs)),Tn.push(Pe+No+"="+encodeURIComponent(qs))}}catch(No){throw Tn.push(Pe+"type="+encodeURIComponent("_badmap")),No}}catch{ee&&ee(ms)}}if(yr){et=Tn.join("&");break e}}et=void 0}return A=A.i.splice(0,q),U.G=A,et}function xg(A){if(!A.g&&!A.v){A.Y=1;var U=A.Da;F||k(),R||(F(),R=!0),I.add(U,A),A.A=0}}function Cu(A){return A.g||A.v||A.A>=3?!1:(A.Y++,A.v=$a(u(A.Da,A),wg(A,A.A)),A.A++,!0)}e.Da=function(){if(this.v=null,_g(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var A=4*this.T;this.j.info("BP detection timer enabled: "+A),this.B=$a(u(this.Wa,this),A)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Zr(10),ac(this),_g(this))};function a0(A){A.B!=null&&(s.clearTimeout(A.B),A.B=null)}function _g(A){A.g=new se(A,A.j,"rpc",A.Y),A.u===null&&(A.g.J=A.o),A.g.P=0;var U=cn(A.na);ir(U,"RID","rpc"),ir(U,"SID",A.M),ir(U,"AID",A.K),ir(U,"CI",A.F?"0":"1"),!A.F&&A.ia&&ir(U,"TO",A.ia),ir(U,"TYPE","xmlhttp"),Su(A,U),A.u&&A.o&&Eu(U,A.u,A.o),A.O&&(A.g.H=A.O);var q=A.g;A=A.ba,q.M=1,q.A=ce(cn(U)),q.u=null,q.R=!0,Ee(q,A)}e.Va=function(){this.C!=null&&(this.C=null,ac(this),Cu(this),Zr(19))};function Qf(A){A.C!=null&&(s.clearTimeout(A.C),A.C=null)}function bg(A,U){var q=null;if(A.g==U){Qf(A),a0(A),A.g=null;var ee=2}else if(ii(A.h,U))q=U.G,qa(A.h,U),ee=1;else return;if(A.I!=0){if(U.o)if(ee==1){q=U.u?U.u.length:0,U=Date.now()-U.F;var be=A.D;ee=xo(),pt(ee,new ni(ee,q)),So(A)}else xg(A);else if(be=U.m,be==3||be==0&&U.X>0||!(ee==1&&Zf(A,U)||ee==2&&Cu(A)))switch(q&&q.length>0&&(U=A.h,U.i=U.i.concat(q)),be){case 1:Co(A,5);break;case 4:Co(A,10);break;case 3:Co(A,6);break;default:Co(A,2)}}}function wg(A,U){let q=A.Qa+Math.floor(Math.random()*A.Za);return A.isActive()||(q*=2),q*U}function Co(A,U){if(A.j.info("Error code "+U),U==2){var q=u(A.bb,A),ee=A.Ua;const be=!ee;ee=new ta(ee||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||un(ee,"https"),ce(ee),be?Ea(ee.toString(),q):fn(ee.toString(),q)}else Zr(2);A.I=0,A.l&&A.l.pa(U),Eg(A),Xf(A)}e.bb=function(A){A?(this.j.info("Successfully pinged google.com"),Zr(2)):(this.j.info("Failed to ping google.com"),Zr(1))};function Eg(A){if(A.I=0,A.ja=[],A.l){const U=ea(A.h);(U.length!=0||A.i.length!=0)&&(_(A.ja,U),_(A.ja,A.i),A.h.i.length=0,x(A.i),A.i.length=0),A.l.oa()}}function Tg(A,U,q){var ee=q instanceof ta?cn(q):new ta(q);if(ee.g!="")U&&(ee.g=U+"."+ee.g),Rr(ee,ee.u);else{var be=s.location;ee=be.protocol,U=U?U+"."+be.hostname:be.hostname,be=+be.port;const Pe=new ta(null);ee&&un(Pe,ee),U&&(Pe.g=U),be&&Rr(Pe,be),q&&(Pe.h=q),ee=Pe}return q=A.G,U=A.wa,q&&U&&ir(ee,q,U),ir(ee,"VER",A.ka),Su(A,ee),ee}function Ag(A,U,q){if(U&&!A.L)throw Error("Can't create secondary domain capable XhrIo object.");return U=A.Aa&&!A.ma?new Or(new Eo({ab:q})):new Or(A.ma),U.Fa(A.L),U}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sg(){}e=Sg.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function sc(){}sc.prototype.g=function(A,U){return new na(A,U)};function na(A,U){tt.call(this),this.g=new ic(U),this.l=A,this.h=U&&U.messageUrlParams||null,A=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(A?A["X-Client-Protocol"]="webchannel":A={"X-Client-Protocol":"webchannel"}),this.g.o=A,A=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(A?A["X-WebChannel-Content-Type"]=U.messageContentType:A={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.sa&&(A?A["X-WebChannel-Client-Profile"]=U.sa:A={"X-WebChannel-Client-Profile":U.sa}),this.g.U=A,(A=U&&U.Qb)&&!G(A)&&(this.g.u=A),this.A=U&&U.supportsCrossDomainXhr||!1,this.v=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!G(U)&&(this.g.G=U,A=this.h,A!==null&&U in A&&(A=this.h,U in A&&delete A[U])),this.j=new ol(this)}h(na,tt),na.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},na.prototype.close=function(){n0(this.g)},na.prototype.o=function(A){var U=this.g;if(typeof A=="string"){var q={};q.__data__=A,A=q}else this.v&&(q={},q.__data__=dt(A),A=q);U.i.push(new lt(U.Ya++,A)),U.I==3&&So(U)},na.prototype.N=function(){this.g.l=null,delete this.j,n0(this.g),delete this.g,na.Z.N.call(this)};function Cg(A){br.call(this),A.__headers__&&(this.headers=A.__headers__,this.statusCode=A.__status__,delete A.__headers__,delete A.__status__);var U=A.__sm__;if(U){e:{for(const q in U){A=q;break e}A=void 0}(this.i=A)&&(A=this.i,U=U!==null&&A in U?U[A]:void 0),this.data=U}else this.data=A}h(Cg,br);function Ng(){_i.call(this),this.status=1}h(Ng,_i);function ol(A){this.g=A}h(ol,Sg),ol.prototype.ra=function(){pt(this.g,"a")},ol.prototype.qa=function(A){pt(this.g,new Cg(A))},ol.prototype.pa=function(A){pt(this.g,new Ng)},ol.prototype.oa=function(){pt(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,na.prototype.send=na.prototype.o,na.prototype.open=na.prototype.m,na.prototype.close=na.prototype.close,GV=function(){return new sc},HV=function(){return xo()},$V=gt,fS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Ny=bi,Ha.COMPLETE="complete",zV=Ha,Ht.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",tt.prototype.listen=tt.prototype.J,vp=Ht,Or.prototype.listenOnce=Or.prototype.K,Or.prototype.getLastError=Or.prototype.Ha,Or.prototype.getLastErrorCode=Or.prototype.ya,Or.prototype.getStatus=Or.prototype.ca,Or.prototype.getResponseJson=Or.prototype.La,Or.prototype.getResponseText=Or.prototype.la,Or.prototype.send=Or.prototype.ea,Or.prototype.setWithCredentials=Or.prototype.Fa,VV=Or}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});class ka{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ka.UNAUTHENTICATED=new ka(null),ka.GOOGLE_CREDENTIALS=new ka("google-credentials-uid"),ka.FIRST_PARTY=new ka("first-party-uid"),ka.MOCK_USER=new ka("mock-user");let Uh="12.9.0";function Lxe(e){Uh=e}const _f=new kV("@firebase/firestore");function Ld(){return _f.logLevel}function ot(e,...t){if(_f.logLevel<=sr.DEBUG){const r=t.map(FC);_f.debug(`Firestore (${Uh}): ${e}`,...r)}}function jl(e,...t){if(_f.logLevel<=sr.ERROR){const r=t.map(FC);_f.error(`Firestore (${Uh}): ${e}`,...r)}}function gh(e,...t){if(_f.logLevel<=sr.WARN){const r=t.map(FC);_f.warn(`Firestore (${Uh}): ${e}`,...r)}}function FC(e){if(typeof e=="string")return e;try{return(function(r){return JSON.stringify(r)})(e)}catch{return e}}function At(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,qV(e,n,r)}function qV(e,t,r){let n=`FIRESTORE (${Uh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw jl(n),new Error(n)}function Er(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||qV(t,i,n)}function Ot(e,t){return e}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends zf{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yc{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class jxe{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Uxe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(ka.UNAUTHENTICATED)))}shutdown(){}}class Bxe{constructor(t){this.t=t,this.currentUser=ka.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Er(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Yc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yc,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;t.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yc)}}),0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Er(typeof n.accessToken=="string",31837,{l:n}),new jxe(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Er(t===null||typeof t=="string",2055,{h:t}),new ka(t)}}class Vxe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=ka.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zxe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Vxe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(ka.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class C3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $xe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,MV(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Er(this.o===void 0,3512);const n=a=>{a.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ot("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>n(a)))};const i=a=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new C3(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Er(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new C3(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Hxe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class LC{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Hxe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function Jt(e,t){return e<t?-1:e>t?1:0}function dS(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return TE(i)===TE(a)?Jt(i,a):TE(i)?1:-1}return Jt(e.length,t.length)}const Gxe=55296,qxe=57343;function TE(e){const t=e.charCodeAt(0);return t>=Gxe&&t<=qxe}function vh(e,t,r){return e.length===t.length&&e.every(((n,i)=>r(n,t[i])))}const N3="__name__";class jo{constructor(t,r,n){r===void 0?r=0:r>t.length&&At(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&At(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return jo.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof jo?t.forEach((n=>{r.push(n)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=jo.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return Jt(t.length,r.length)}static compareSegments(t,r){const n=jo.isNumericId(t),i=jo.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?jo.extractNumericId(t).compare(jo.extractNumericId(r)):dS(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wc.fromString(t.substring(4,t.length-2))}}class $r extends jo{construct(t,r,n){return new $r(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new it(Ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new $r(r)}static emptyPath(){return new $r([])}}const Kxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends jo{construct(t,r,n){return new Pi(t,r,n)}static isValidIdentifier(t){return Kxe.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N3}static keyField(){return new Pi([N3])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new it(Ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new it(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new it(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new it(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pi(r)}static emptyPath(){return new Pi([])}}class xt{constructor(t){this.path=t}static fromPath(t){return new xt($r.fromString(t))}static fromName(t){return new xt($r.fromString(t).popFirst(5))}static empty(){return new xt($r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$r.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return $r.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new $r(t.slice()))}}function KV(e,t,r){if(!r)throw new it(Ue.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Wxe(e,t,r,n){if(t===!0&&n===!0)throw new it(Ue.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function I3(e){if(!xt.isDocumentKey(e))throw new it(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function k3(e){if(xt.isDocumentKey(e))throw new it(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function WV(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Y1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":At(12329,{type:typeof e})}function $o(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new it(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Y1(e);throw new it(Ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function $n(e,t){const r={typeString:e};return t&&(r.value=t),r}function zm(e,t){if(!WV(e))throw new it(Ue.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new it(Ue.INVALID_ARGUMENT,r);return!0}const P3=-62135596800,R3=1e6;class Xr{static now(){return Xr.fromMillis(Date.now())}static fromDate(t){return Xr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*R3);return new Xr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new it(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new it(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<P3)throw new it(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R3}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zm(t,Xr._jsonSchema))return new Xr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-P3;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xr._jsonSchemaVersion="firestore/timestamp/1.0",Xr._jsonSchema={type:$n("string",Xr._jsonSchemaVersion),seconds:$n("number"),nanoseconds:$n("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new Xr(0,0))}static max(){return new It(new Xr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fm=-1;function Yxe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=It.fromTimestamp(n===1e9?new Xr(r+1,0):new Xr(r,n));return new tu(i,xt.empty(),t)}function Jxe(e){return new tu(e.readTime,e.key,fm)}class tu{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new tu(It.min(),xt.empty(),fm)}static max(){return new tu(It.max(),xt.empty(),fm)}}function Xxe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=xt.comparator(e.documentKey,t.documentKey),r!==0?r:Jt(e.largestBatchId,t.largestBatchId))}const Zxe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qxe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Bh(e){if(e.code!==Ue.FAILED_PRECONDITION||e.message!==Zxe)throw e;ot("LocalStore","Unexpectedly lost primary lease")}class He{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new He(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof He?r:He.resolve(r)}catch(r){return He.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):He.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):He.reject(r)}static resolve(t){return new He(((r,n)=>{r(t)}))}static reject(t){return new He(((r,n)=>{n(t)}))}static waitFor(t){return new He(((r,n)=>{let i=0,a=0,s=!1;t.forEach((o=>{++i,o.next((()=>{++a,s&&a===i&&r()}),(c=>n(c)))})),s=!0,a===i&&r()}))}static or(t){let r=He.resolve(!1);for(const n of t)r=r.next((i=>i?He.resolve(i):n()));return r}static forEach(t,r){const n=[];return t.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(t,r){return new He(((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(t[u]).next((d=>{s[u]=d,++o,o===a&&n(s)}),(d=>i(d)))}}))}static doWhile(t,r){return new He(((n,i)=>{const a=()=>{t()===!0?r().next((()=>{a()}),i):n()};a()}))}}function e1e(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Vh(e){return e.name==="IndexedDbTransactionError"}class J1{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}J1.ce=-1;const jC=-1;function X1(e){return e==null}function Tx(e){return e===0&&1/e==-1/0}function t1e(e){return typeof e=="number"&&Number.isInteger(e)&&!Tx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const YV="";function r1e(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=O3(t)),t=n1e(e.get(r),t);return O3(t)}function n1e(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case YV:r+="";break;default:r+=a}}return r}function O3(e){return e+YV+""}function M3(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function mu(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function JV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sn{constructor(t,r){this.comparator=t,this.root=r||Ii.EMPTY}insert(t,r){return new sn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(t){return new sn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,n)=>(t(r,n),!1)))}toString(){const t=[];return this.inorderTraversal(((r,n)=>(t.push(`${r}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jv(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jv(this.root,t,this.comparator,!0)}}class Jv{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ii{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ii.RED,this.left=i??Ii.EMPTY,this.right=a??Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ii(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ii.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1;Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ii(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(t){this.comparator=t,this.data=new sn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,n)=>(t(r),!1)))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new D3(this.data.getIterator())}getIteratorFrom(t){return new D3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((n=>{r=r.add(n)})),r}isEqual(t){if(!(t instanceof Qn)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Qn(this.comparator);return r.data=t,r}}class D3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class os{constructor(t){this.fields=t,t.sort(Pi.comparator)}static empty(){return new os([])}unionWith(t){let r=new Qn(Pi.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new os(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return vh(this.fields,t.fields,((r,n)=>r.isEqual(n)))}}class XV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Di{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new XV("Invalid base64 string: "+a):a}})(t);return new Di(r)}static fromUint8Array(t){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(t);return new Di(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const i1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ru(e){if(Er(!!e,39018),typeof e=="string"){let t=0;const r=i1e.exec(e);if(Er(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Nn(e.seconds),nanos:Nn(e.nanos)}}function Nn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function nu(e){return typeof e=="string"?Di.fromBase64String(e):Di.fromUint8Array(e)}const ZV="server_timestamp",QV="__type__",ez="__previous_value__",tz="__local_write_time__";function UC(e){return(e?.mapValue?.fields||{})[QV]?.stringValue===ZV}function Z1(e){const t=e.mapValue.fields[ez];return UC(t)?Z1(t):t}function dm(e){const t=ru(e.mapValue.fields[tz].timestampValue);return new Xr(t.seconds,t.nanos)}class a1e{constructor(t,r,n,i,a,s,o,c,u,d,h){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=h}}const Ax="(default)";class hm{constructor(t,r){this.projectId=t,this.database=r||Ax}static empty(){return new hm("","")}get isDefaultDatabase(){return this.database===Ax}isEqual(t){return t instanceof hm&&t.projectId===this.projectId&&t.database===this.database}}function s1e(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new it(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hm(e.options.projectId,t)}const rz="__type__",o1e="__max__",Xv={mapValue:{}},nz="__vector__",Sx="value";function iu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?UC(e)?4:c1e(e)?9007199254740991:l1e(e)?10:11:At(28295,{value:e})}function Yo(e,t){if(e===t)return!0;const r=iu(e);if(r!==iu(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dm(e).isEqual(dm(t));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ru(i.timestampValue),o=ru(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(i,a){return nu(i.bytesValue).isEqual(nu(a.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(i,a){return Nn(i.geoPointValue.latitude)===Nn(a.geoPointValue.latitude)&&Nn(i.geoPointValue.longitude)===Nn(a.geoPointValue.longitude)})(e,t);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Nn(i.integerValue)===Nn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Nn(i.doubleValue),o=Nn(a.doubleValue);return s===o?Tx(s)===Tx(o):isNaN(s)&&isNaN(o)}return!1})(e,t);case 9:return vh(e.arrayValue.values||[],t.arrayValue.values||[],Yo);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(M3(s)!==M3(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!Yo(s[c],o[c])))return!1;return!0})(e,t);default:return At(52216,{left:e})}}function pm(e,t){return(e.values||[]).find((r=>Yo(r,t)))!==void 0}function yh(e,t){if(e===t)return 0;const r=iu(e),n=iu(t);if(r!==n)return Jt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Jt(e.booleanValue,t.booleanValue);case 2:return(function(a,s){const o=Nn(a.integerValue||a.doubleValue),c=Nn(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(e,t);case 3:return F3(e.timestampValue,t.timestampValue);case 4:return F3(dm(e),dm(t));case 5:return dS(e.stringValue,t.stringValue);case 6:return(function(a,s){const o=nu(a),c=nu(s);return o.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Jt(o[u],c[u]);if(d!==0)return d}return Jt(o.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(a,s){const o=Jt(Nn(a.latitude),Nn(s.latitude));return o!==0?o:Jt(Nn(a.longitude),Nn(s.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return L3(e.arrayValue,t.arrayValue);case 10:return(function(a,s){const o=a.fields||{},c=s.fields||{},u=o[Sx]?.arrayValue,d=c[Sx]?.arrayValue,h=Jt(u?.values?.length||0,d?.values?.length||0);return h!==0?h:L3(u,d)})(e.mapValue,t.mapValue);case 11:return(function(a,s){if(a===Xv.mapValue&&s===Xv.mapValue)return 0;if(a===Xv.mapValue)return 1;if(s===Xv.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const g=dS(c[h],d[h]);if(g!==0)return g;const x=yh(o[c[h]],u[d[h]]);if(x!==0)return x}return Jt(c.length,d.length)})(e.mapValue,t.mapValue);default:throw At(23264,{he:r})}}function F3(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Jt(e,t);const r=ru(e),n=ru(t),i=Jt(r.seconds,n.seconds);return i!==0?i:Jt(r.nanos,n.nanos)}function L3(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=yh(r[i],n[i]);if(a)return a}return Jt(r.length,n.length)}function xh(e){return hS(e)}function hS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(r){const n=ru(r);return`time(${n.seconds},${n.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(r){return nu(r).toBase64()})(e.bytesValue):"referenceValue"in e?(function(r){return xt.fromName(r).toString()})(e.referenceValue):"geoPointValue"in e?(function(r){return`geo(${r.latitude},${r.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=hS(a);return n+"]"})(e.arrayValue):"mapValue"in e?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${hS(r.fields[s])}`;return i+"}"})(e.mapValue):At(61005,{value:e})}function Iy(e){switch(iu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Z1(e);return t?16+Iy(t):16;case 5:return 2*e.stringValue.length;case 6:return nu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Iy(a)),0)})(e.arrayValue);case 10:case 11:return(function(n){let i=0;return mu(n.fields,((a,s)=>{i+=a.length+Iy(s)})),i})(e.mapValue);default:throw At(13486,{value:e})}}function j3(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function pS(e){return!!e&&"integerValue"in e}function BC(e){return!!e&&"arrayValue"in e}function U3(e){return!!e&&"nullValue"in e}function B3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ky(e){return!!e&&"mapValue"in e}function l1e(e){return(e?.mapValue?.fields||{})[rz]?.stringValue===nz}function Lp(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return mu(e.mapValue.fields,((r,n)=>t.mapValue.fields[r]=Lp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Lp(e.arrayValue.values[r]);return t}return{...e}}function c1e(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===o1e}class Oa{constructor(t){this.value=t}static empty(){return new Oa({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!ky(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lp(r)}setAll(t){let r=Pi.emptyPath(),n={},i=[];t.forEach(((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Lp(s):i.push(o.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());ky(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Yo(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];ky(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){mu(r,((i,a)=>t[i]=a));for(const i of n)delete t[i]}clone(){return new Oa(Lp(this.value))}}function iz(e){const t=[];return mu(e.fields,((r,n)=>{const i=new Pi([r]);if(ky(n)){const a=iz(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)})),new os(t)}class zi{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new zi(t,0,It.min(),It.min(),It.min(),Oa.empty(),0)}static newFoundDocument(t,r,n,i){return new zi(t,1,r,It.min(),n,i,0)}static newNoDocument(t,r){return new zi(t,2,r,It.min(),It.min(),Oa.empty(),0)}static newUnknownDocument(t,r){return new zi(t,3,r,It.min(),It.min(),Oa.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Oa.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Oa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof zi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cx{constructor(t,r){this.position=t,this.inclusive=r}}function V3(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=xt.comparator(xt.fromName(s.referenceValue),r.key):n=yh(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function z3(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Yo(e.position[r],t.position[r]))return!1;return!0}class mm{constructor(t,r="asc"){this.field=t,this.dir=r}}function u1e(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class az{}class zn extends az{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new d1e(t,r,n):r==="array-contains"?new m1e(t,n):r==="in"?new g1e(t,n):r==="not-in"?new v1e(t,n):r==="array-contains-any"?new y1e(t,n):new zn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new h1e(t,n):new p1e(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(yh(r,this.value)):r!==null&&iu(this.value)===iu(r)&&this.matchesComparison(yh(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ho extends az{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new ho(t,r)}matches(t){return sz(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sz(e){return e.op==="and"}function oz(e){return f1e(e)&&sz(e)}function f1e(e){for(const t of e.filters)if(t instanceof ho)return!1;return!0}function mS(e){if(e instanceof zn)return e.field.canonicalString()+e.op.toString()+xh(e.value);if(oz(e))return e.filters.map((t=>mS(t))).join(",");{const t=e.filters.map((r=>mS(r))).join(",");return`${e.op}(${t})`}}function lz(e,t){return e instanceof zn?(function(n,i){return i instanceof zn&&n.op===i.op&&n.field.isEqual(i.field)&&Yo(n.value,i.value)})(e,t):e instanceof ho?(function(n,i){return i instanceof ho&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,o)=>a&&lz(s,i.filters[o])),!0):!1})(e,t):void At(19439)}function cz(e){return e instanceof zn?(function(r){return`${r.field.canonicalString()} ${r.op} ${xh(r.value)}`})(e):e instanceof ho?(function(r){return r.op.toString()+" {"+r.getFilters().map(cz).join(" ,")+"}"})(e):"Filter"}class d1e extends zn{constructor(t,r,n){super(t,r,n),this.key=xt.fromName(n.referenceValue)}matches(t){const r=xt.comparator(t.key,this.key);return this.matchesComparison(r)}}class h1e extends zn{constructor(t,r){super(t,"in",r),this.keys=uz("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class p1e extends zn{constructor(t,r){super(t,"not-in",r),this.keys=uz("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function uz(e,t){return(t.arrayValue?.values||[]).map((r=>xt.fromName(r.referenceValue)))}class m1e extends zn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return BC(r)&&pm(r.arrayValue,this.value)}}class g1e extends zn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&pm(this.value.arrayValue,r)}}class v1e extends zn{constructor(t,r){super(t,"not-in",r)}matches(t){if(pm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!pm(this.value.arrayValue,r)}}class y1e extends zn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!BC(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>pm(this.value.arrayValue,n)))}}class x1e{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function $3(e,t=null,r=[],n=[],i=null,a=null,s=null){return new x1e(e,t,r,n,i,a,s)}function VC(e){const t=Ot(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((n=>mS(n))).join(","),r+="|ob:",r+=t.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),X1(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((n=>xh(n))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((n=>xh(n))).join(",")),t.Te=r}return t.Te}function zC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!u1e(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!lz(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!z3(e.startAt,t.startAt)&&z3(e.endAt,t.endAt)}function gS(e){return xt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class zh{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _1e(e,t,r,n,i,a,s,o){return new zh(e,t,r,n,i,a,s,o)}function Q1(e){return new zh(e)}function H3(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function b1e(e){return xt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function fz(e){return e.collectionGroup!==null}function jp(e){const t=Ot(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Qn(Pi.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(t).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new mm(a,n))})),r.has(Pi.keyField().canonicalString())||t.Ie.push(new mm(Pi.keyField(),n))}return t.Ie}function Ho(e){const t=Ot(e);return t.Ee||(t.Ee=w1e(t,jp(e))),t.Ee}function w1e(e,t){if(e.limitType==="F")return $3(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new mm(i.field,a)}));const r=e.endAt?new Cx(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Cx(e.startAt.position,e.startAt.inclusive):null;return $3(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function vS(e,t){const r=e.filters.concat([t]);return new zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function E1e(e,t){const r=e.explicitOrderBy.concat([t]);return new zh(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function yS(e,t,r){return new zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function e_(e,t){return zC(Ho(e),Ho(t))&&e.limitType===t.limitType}function dz(e){return`${VC(Ho(e))}|lt:${e.limitType}`}function jd(e){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>cz(i))).join(", ")}]`),X1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>xh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>xh(i))).join(",")),`Target(${n})`})(Ho(e))}; limitType=${e.limitType})`}function t_(e,t){return t.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):xt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(e,t)&&(function(n,i){for(const a of jp(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(e,t)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(e,t)&&(function(n,i){return!(n.startAt&&!(function(s,o,c){const u=V3(s,o,c);return s.inclusive?u<=0:u<0})(n.startAt,jp(n),i)||n.endAt&&!(function(s,o,c){const u=V3(s,o,c);return s.inclusive?u>=0:u>0})(n.endAt,jp(n),i))})(e,t)}function T1e(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function hz(e){return(t,r)=>{let n=!1;for(const i of jp(e)){const a=A1e(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function A1e(e,t,r){const n=e.field.isKeyField()?xt.comparator(t.key,r.key):(function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?yh(c,u):At(42886)})(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return At(19790,{direction:e.dir})}}class $f{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){mu(this.inner,((r,n)=>{for(const[i,a]of n)t(i,a)}))}isEmpty(){return JV(this.inner)}size(){return this.innerSize}}const S1e=new sn(xt.comparator);function Ul(){return S1e}const pz=new sn(xt.comparator);function yp(...e){let t=pz;for(const r of e)t=t.insert(r.key,r);return t}function mz(e){let t=pz;return e.forEach(((r,n)=>t=t.insert(r,n.overlayedDocument))),t}function Qu(){return Up()}function gz(){return Up()}function Up(){return new $f((e=>e.toString()),((e,t)=>e.isEqual(t)))}const C1e=new sn(xt.comparator),N1e=new Qn(xt.comparator);function Xt(...e){let t=N1e;for(const r of e)t=t.add(r);return t}const I1e=new Qn(Jt);function k1e(){return I1e}function $C(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tx(t)?"-0":t}}function vz(e){return{integerValue:""+e}}function P1e(e,t){return t1e(t)?vz(t):$C(e,t)}class r_{constructor(){this._=void 0}}function R1e(e,t,r){return e instanceof Nx?(function(i,a){const s={fields:{[QV]:{stringValue:ZV},[tz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&UC(a)&&(a=Z1(a)),a&&(s.fields[ez]=a),{mapValue:s}})(r,t):e instanceof gm?xz(e,t):e instanceof vm?_z(e,t):(function(i,a){const s=yz(i,a),o=G3(s)+G3(i.Ae);return pS(s)&&pS(i.Ae)?vz(o):$C(i.serializer,o)})(e,t)}function O1e(e,t,r){return e instanceof gm?xz(e,t):e instanceof vm?_z(e,t):r}function yz(e,t){return e instanceof Ix?(function(n){return pS(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(t)?t:{integerValue:0}:null}class Nx extends r_{}class gm extends r_{constructor(t){super(),this.elements=t}}function xz(e,t){const r=bz(t);for(const n of e.elements)r.some((i=>Yo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class vm extends r_{constructor(t){super(),this.elements=t}}function _z(e,t){let r=bz(t);for(const n of e.elements)r=r.filter((i=>!Yo(i,n)));return{arrayValue:{values:r}}}class Ix extends r_{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function G3(e){return Nn(e.integerValue||e.doubleValue)}function bz(e){return BC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function M1e(e,t){return e.field.isEqual(t.field)&&(function(n,i){return n instanceof gm&&i instanceof gm||n instanceof vm&&i instanceof vm?vh(n.elements,i.elements,Yo):n instanceof Ix&&i instanceof Ix?Yo(n.Ae,i.Ae):n instanceof Nx&&i instanceof Nx})(e.transform,t.transform)}class D1e{constructor(t,r){this.version=t,this.transformResults=r}}class co{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new co}static exists(t){return new co(void 0,t)}static updateTime(t){return new co(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Py(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class n_{}function wz(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Tz(e.key,co.none()):new $m(e.key,e.data,co.none());{const r=e.data,n=Oa.empty();let i=new Qn(Pi.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new gu(e.key,n,new os(i.toArray()),co.none())}}function F1e(e,t,r){e instanceof $m?(function(i,a,s){const o=i.value.clone(),c=K3(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(e,t,r):e instanceof gu?(function(i,a,s){if(!Py(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=K3(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(Ez(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(e,t,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,r)}function Bp(e,t,r,n){return e instanceof $m?(function(a,s,o,c){if(!Py(a.precondition,s))return o;const u=a.value.clone(),d=W3(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(e,t,r,n):e instanceof gu?(function(a,s,o,c){if(!Py(a.precondition,s))return o;const u=W3(a.fieldTransforms,c,s),d=s.data;return d.setAll(Ez(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((h=>h.field)))})(e,t,r,n):(function(a,s,o){return Py(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o})(e,t,r)}function L1e(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=yz(n.transform,i||null);a!=null&&(r===null&&(r=Oa.empty()),r.set(n.field,a))}return r||null}function q3(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&vh(n,i,((a,s)=>M1e(a,s)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $m extends n_{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gu extends n_{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ez(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function K3(e,t,r){const n=new Map;Er(e.length===r.length,32656,{Ve:r.length,de:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,O1e(s,o,r[i]))}return n}function W3(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,R1e(a,s,t))}return n}class Tz extends n_{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j1e extends n_{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U1e{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&F1e(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Bp(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Bp(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=gz();return this.mutations.forEach((i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=wz(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(It.min())})),n}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Xt())}isEqual(t){return this.batchId===t.batchId&&vh(this.mutations,t.mutations,((r,n)=>q3(r,n)))&&vh(this.baseMutations,t.baseMutations,((r,n)=>q3(r,n)))}}class HC{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Er(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=(function(){return C1e})();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new HC(t,r,n,i)}}class B1e{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V1e{constructor(t,r){this.count=t,this.unchangedNames=r}}var Un,ar;function z1e(e){switch(e){case Ue.OK:return At(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return At(15467,{code:e})}}function Az(e){if(e===void 0)return jl("GRPC error has no .code"),Ue.UNKNOWN;switch(e){case Un.OK:return Ue.OK;case Un.CANCELLED:return Ue.CANCELLED;case Un.UNKNOWN:return Ue.UNKNOWN;case Un.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Un.INTERNAL:return Ue.INTERNAL;case Un.UNAVAILABLE:return Ue.UNAVAILABLE;case Un.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Un.NOT_FOUND:return Ue.NOT_FOUND;case Un.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Un.ABORTED:return Ue.ABORTED;case Un.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Un.DATA_LOSS:return Ue.DATA_LOSS;default:return At(39323,{code:e})}}(ar=Un||(Un={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";function $1e(){return new TextEncoder}const H1e=new Wc([4294967295,4294967295],0);function Y3(e){const t=$1e().encode(e),r=new BV;return r.update(t),new Uint8Array(r.digest())}function J3(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Wc([r,n],0),new Wc([i,a],0)]}class GC{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new xp(`Invalid padding: ${r}`);if(n<0)throw new xp(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new xp(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new xp(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Wc.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(Wc.fromNumber(n)));return i.compare(H1e)===1&&(i=new Wc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=Y3(t),[n,i]=J3(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new GC(a,i,r);return n.forEach((o=>s.insert(o))),s}insert(t){if(this.ge===0)return;const r=Y3(t),[n,i]=J3(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.be(s)}}be(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class xp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class i_{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Hm.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new i_(It.min(),i,new sn(Jt),Ul(),Xt())}}class Hm{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Hm(n,r,Xt(),Xt(),Xt())}}class Ry{constructor(t,r,n,i){this.Se=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Sz{constructor(t,r){this.targetId=t,this.Ce=r}}class Cz{constructor(t,r,n=Di.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class X3{constructor(){this.ve=0,this.Fe=Z3(),this.Me=Di.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Xt(),r=Xt(),n=Xt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:At(38017,{changeType:a})}})),new Hm(this.Me,this.xe,t,r,n)}Ke(){this.Oe=!1,this.Fe=Z3()}qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Er(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class G1e{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ul(),this.He=Zv(),this.Je=Zv(),this.Ze=new sn(Jt)}Xe(t){for(const r of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(t.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(gS(a))if(n===0){const s=new xt(a.path);this.et(r,s,zi.newNoDocument(s,It.min()))}else Er(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),c=o?this.ct(o,t,s):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=nu(n).toUint8Array()}catch(c){if(c instanceof XV)return gh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new GC(s,i,a)}catch(c){return gh(c instanceof xp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)})),i}Tt(t){const r=new Map;this.ze.forEach(((a,s)=>{const o=this.ot(s);if(o){if(a.current&&gS(o.target)){const c=new xt(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,zi.newNoDocument(c,t))}a.Be&&(r.set(s,a.ke()),a.Ke())}}));let n=Xt();this.Je.forEach(((a,s)=>{let o=!0;s.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(t)));const i=new i_(t,r,this.Ze,this.je,n);return this.je=Ul(),this.He=Zv(),this.Je=Zv(),this.Ze=new sn(Jt),i}Ye(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(t)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.qe(r,1):i.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(t)),this.Je=this.Je.insert(r,this.Rt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let r=this.ze.get(t);return r||(r=new X3,this.ze.set(t,r)),r}Rt(t){let r=this.Je.get(t);return r||(r=new Qn(Jt),this.Je=this.Je.insert(t,r)),r}It(t){let r=this.He.get(t);return r||(r=new Qn(Jt),this.He=this.He.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ot("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new X3),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Zv(){return new sn(xt.comparator)}function Z3(){return new sn(xt.comparator)}const q1e={asc:"ASCENDING",desc:"DESCENDING"},K1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W1e={and:"AND",or:"OR"};class Y1e{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function xS(e,t){return e.useProto3Json||X1(t)?t:{value:t}}function kx(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nz(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function J1e(e,t){return kx(e,t.toTimestamp())}function Go(e){return Er(!!e,49232),It.fromTimestamp((function(r){const n=ru(r);return new Xr(n.seconds,n.nanos)})(e))}function qC(e,t){return _S(e,t).canonicalString()}function _S(e,t){const r=(function(i){return new $r(["projects",i.projectId,"databases",i.database])})(e).child("documents");return t===void 0?r:r.child(t)}function Iz(e){const t=$r.fromString(e);return Er(Mz(t),10190,{key:t.toString()}),t}function bS(e,t){return qC(e.databaseId,t.path)}function AE(e,t){const r=Iz(t);if(r.get(1)!==e.databaseId.projectId)throw new it(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new it(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new xt(Pz(r))}function kz(e,t){return qC(e.databaseId,t)}function X1e(e){const t=Iz(e);return t.length===4?$r.emptyPath():Pz(t)}function wS(e){return new $r(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pz(e){return Er(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Q3(e,t,r){return{name:bS(e,t),fields:r.value.mapValue.fields}}function Z1e(e,t){let r;if("targetChange"in t){t.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:At(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=(function(u,d){return u.useProto3Json?(Er(d===void 0||typeof d=="string",58123),Di.fromBase64String(d||"")):(Er(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Di.fromUint8Array(d||new Uint8Array))})(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&(function(u){const d=u.code===void 0?Ue.UNKNOWN:Az(u.code);return new it(d,u.message||"")})(s);r=new Cz(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=AE(e,n.document.name),a=Go(n.document.updateTime),s=n.document.createTime?Go(n.document.createTime):It.min(),o=new Oa({mapValue:{fields:n.document.fields}}),c=zi.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Ry(u,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=AE(e,n.document),a=n.readTime?Go(n.readTime):It.min(),s=zi.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Ry([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=AE(e,n.document),a=n.removedTargetIds||[];r=new Ry([],a,i,null)}else{if(!("filter"in t))return At(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new V1e(i,a),o=n.targetId;r=new Sz(o,s)}}return r}function Q1e(e,t){let r;if(t instanceof $m)r={update:Q3(e,t.key,t.value)};else if(t instanceof Tz)r={delete:bS(e,t.key)};else if(t instanceof gu)r={update:Q3(e,t.key,t.data),updateMask:l_e(t.fieldMask)};else{if(!(t instanceof j1e))return At(16599,{dt:t.type});r={verify:bS(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((n=>(function(a,s){const o=s.transform;if(o instanceof Nx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ix)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw At(20930,{transform:s.transform})})(0,n)))),t.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:J1e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:At(27497)})(e,t.precondition)),r}function e_e(e,t){return e&&e.length>0?(Er(t!==void 0,14353),e.map((r=>(function(i,a){let s=i.updateTime?Go(i.updateTime):Go(a);return s.isEqual(It.min())&&(s=Go(a)),new D1e(s,i.transformResults||[])})(r,t)))):[]}function t_e(e,t){return{documents:[kz(e,t.path)]}}function r_e(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=kz(e,i);const a=(function(u){if(u.length!==0)return Oz(ho.create(u,"and"))})(t.filters);a&&(r.structuredQuery.where=a);const s=(function(u){if(u.length!==0)return u.map((d=>(function(g){return{field:Ud(g.field),direction:a_e(g.dir)}})(d)))})(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=xS(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{ft:r,parent:i}}function n_e(e){let t=X1e(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Er(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let a=[];r.where&&(a=(function(h){const g=Rz(h);return g instanceof ho&&oz(g)?g.getFilters():[g]})(r.where));let s=[];r.orderBy&&(s=(function(h){return h.map((g=>(function(_){return new mm(Bd(_.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(g)))})(r.orderBy));let o=null;r.limit&&(o=(function(h){let g;return g=typeof h=="object"?h.value:h,X1(g)?null:g})(r.limit));let c=null;r.startAt&&(c=(function(h){const g=!!h.before,x=h.values||[];return new Cx(x,g)})(r.startAt));let u=null;return r.endAt&&(u=(function(h){const g=!h.before,x=h.values||[];return new Cx(x,g)})(r.endAt)),_1e(t,i,s,a,o,"F",c,u)}function i_e(e,t){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:i})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Rz(e){return e.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Bd(r.unaryFilter.field);return zn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Bd(r.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bd(r.unaryFilter.field);return zn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bd(r.unaryFilter.field);return zn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(e):e.fieldFilter!==void 0?(function(r){return zn.create(Bd(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(r){return ho.create(r.compositeFilter.filters.map((n=>Rz(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(r.compositeFilter.op))})(e):At(30097,{filter:e})}function a_e(e){return q1e[e]}function s_e(e){return K1e[e]}function o_e(e){return W1e[e]}function Ud(e){return{fieldPath:e.canonicalString()}}function Bd(e){return Pi.fromServerFormat(e.fieldPath)}function Oz(e){return e instanceof zn?(function(r){if(r.op==="=="){if(B3(r.value))return{unaryFilter:{field:Ud(r.field),op:"IS_NAN"}};if(U3(r.value))return{unaryFilter:{field:Ud(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(B3(r.value))return{unaryFilter:{field:Ud(r.field),op:"IS_NOT_NAN"}};if(U3(r.value))return{unaryFilter:{field:Ud(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ud(r.field),op:s_e(r.op),value:r.value}}})(e):e instanceof ho?(function(r){const n=r.getFilters().map((i=>Oz(i)));return n.length===1?n[0]:{compositeFilter:{op:o_e(r.op),filters:n}}})(e):At(54877,{filter:e})}function l_e(e){const t=[];return e.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function Mz(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function Dz(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Vc{constructor(t,r,n,i,a=It.min(),s=It.min(),o=Di.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(t){return new Vc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class c_e{constructor(t){this.yt=t}}function u_e(e){const t=n_e({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?yS(t,t.limit,"L"):t}class f_e{constructor(){this.Sn=new d_e}addToCollectionParentIndex(t,r){return this.Sn.add(r),He.resolve()}getCollectionParents(t,r){return He.resolve(this.Sn.getEntries(r))}addFieldIndex(t,r){return He.resolve()}deleteFieldIndex(t,r){return He.resolve()}deleteAllFieldIndexes(t){return He.resolve()}createTargetIndexes(t,r){return He.resolve()}getDocumentsMatchingTarget(t,r){return He.resolve(null)}getIndexType(t,r){return He.resolve(0)}getFieldIndexes(t,r){return He.resolve([])}getNextCollectionGroupToUpdate(t){return He.resolve(null)}getMinOffset(t,r){return He.resolve(tu.min())}getMinOffsetFromCollectionGroup(t,r){return He.resolve(tu.min())}updateCollectionGroup(t,r,n){return He.resolve()}updateIndexEntries(t,r){return He.resolve()}}class d_e{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Qn($r.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Qn($r.comparator)).toArray()}}const e6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fz=41943040;class Pa{static withCacheSize(t){return new Pa(t,Pa.DEFAULT_COLLECTION_PERCENTILE,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}Pa.DEFAULT_COLLECTION_PERCENTILE=10,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pa.DEFAULT=new Pa(Fz,Pa.DEFAULT_COLLECTION_PERCENTILE,Pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pa.DISABLED=new Pa(-1,0,0);class _h{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new _h(0)}static ar(){return new _h(-1)}}const t6="LruGarbageCollector",Lz=1048576;function r6([e,t],[r,n]){const i=Jt(e,r);return i===0?Jt(t,n):i}class h_e{constructor(t){this.Pr=t,this.buffer=new Qn(r6),this.Tr=0}Ir(){return++this.Tr}Er(t){const r=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();r6(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class p_e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(t6,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Vh(r)?ot(t6,"Ignoring IndexedDB error during garbage collection: ",r):await Bh(r)}await this.Ar(3e5)}))}}class m_e{constructor(t,r){this.Vr=t,this.params=r}calculateTargetCount(t,r){return this.Vr.dr(t).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(t,r){if(r===0)return He.resolve(J1.ce);const n=new h_e(r);return this.Vr.forEachTarget(t,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.mr(t,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(t,r,n){return this.Vr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Vr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(e6)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e6):this.gr(t,r)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(t,i)))).next((h=>(n=h,o=Date.now(),this.removeTargets(t,n,r)))).next((h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((h=>(u=Date.now(),Ld()<=sr.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h}))))}}function g_e(e,t){return new m_e(e,t)}class v_e{constructor(){this.changes=new $f((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,zi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?He.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class y_e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class x_e{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,r)))).next((i=>(n!==null&&Bp(n.mutation,i,os.empty(),Xr.now()),i)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.getLocalViewOfDocuments(t,n,Xt()).next((()=>n))))}getLocalViewOfDocuments(t,r,n=Xt()){const i=Qu();return this.populateOverlays(t,i,r).next((()=>this.computeViews(t,r,i,n).next((a=>{let s=yp();return a.forEach(((o,c)=>{s=s.insert(o,c.overlayedDocument)})),s}))))}getOverlayedDocuments(t,r){const n=Qu();return this.populateOverlays(t,n,r).next((()=>this.computeViews(t,r,n,Xt())))}populateOverlays(t,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(t,i).next((a=>{a.forEach(((s,o)=>{r.set(s,o)}))}))}computeViews(t,r,n,i){let a=Ul();const s=Up(),o=(function(){return Up()})();return r.forEach(((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof gu)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Bp(d.mutation,u,d.mutation.getFieldMask(),Xr.now())):s.set(u.key,os.empty())})),this.recalculateAndSaveOverlays(t,a).next((c=>(c.forEach(((u,d)=>s.set(u,d))),r.forEach(((u,d)=>o.set(u,new y_e(d,s.get(u)??null)))),o)))}recalculateAndSaveOverlays(t,r){const n=Up();let i=new sn(((s,o)=>s-o)),a=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((s=>{for(const o of s)o.keys().forEach((c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||os.empty();d=o.applyToLocalView(u,d),n.set(c,d);const h=(i.get(o.batchId)||Xt()).add(c);i=i.insert(o.batchId,h)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,h=gz();d.forEach((g=>{if(!a.has(g)){const x=wz(r.get(g),n.get(g));x!==null&&h.set(g,x),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(t,u,h))}return He.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,r,n,i){return b1e(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):fz(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):He.resolve(Qu());let o=fm,c=a;return s.next((u=>He.forEach(u,((d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?He.resolve():this.remoteDocumentCache.getEntry(t,d).next((g=>{c=c.insert(d,g)}))))).next((()=>this.populateOverlays(t,u,a))).next((()=>this.computeViews(t,c,u,Xt()))).next((d=>({batchId:o,changes:mz(d)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new xt(r)).next((n=>{let i=yp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=yp();return this.indexManager.getCollectionParents(t,a).next((o=>He.forEach(o,(c=>{const u=(function(h,g){return new zh(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next((d=>{d.forEach(((h,g)=>{s=s.insert(h,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i)))).next((s=>{a.forEach(((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,zi.newInvalidDocument(d)))}));let o=yp();return s.forEach(((c,u)=>{const d=a.get(c);d!==void 0&&Bp(d.mutation,u,os.empty(),Xr.now()),t_(r,u)&&(o=o.insert(c,u))})),o}))}}class __e{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,r){return He.resolve(this.Nr.get(r))}saveBundleMetadata(t,r){return this.Nr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Go(i.createTime)}})(r)),He.resolve()}getNamedQuery(t,r){return He.resolve(this.Br.get(r))}saveNamedQuery(t,r){return this.Br.set(r.name,(function(i){return{name:i.name,query:u_e(i.bundledQuery),readTime:Go(i.readTime)}})(r)),He.resolve()}}class b_e{constructor(){this.overlays=new sn(xt.comparator),this.Lr=new Map}getOverlay(t,r){return He.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Qu();return He.forEach(r,(i=>this.getOverlay(t,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(t,r,n){return n.forEach(((i,a)=>{this.bt(t,r,a)})),He.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Lr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(n)),He.resolve()}getOverlaysForCollection(t,r,n){const i=Qu(),a=r.length+1,s=new xt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return He.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new sn(((u,d)=>u-d));const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Qu(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Qu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,d)=>o.set(u,d))),!(o.size()>=i)););return He.resolve(o)}bt(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new B1e(r,n));let a=this.Lr.get(r);a===void 0&&(a=Xt(),this.Lr.set(r,a)),this.Lr.set(r,a.add(n.key))}}class w_e{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(t){return He.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,He.resolve()}}class KC{constructor(){this.kr=new Qn(di.Kr),this.qr=new Qn(di.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,r){const n=new di(t,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(t,r){t.forEach((n=>this.addReference(n,r)))}removeReference(t,r){this.Wr(new di(t,r))}Qr(t,r){t.forEach((n=>this.removeReference(n,r)))}Gr(t){const r=new xt(new $r([])),n=new di(r,t),i=new di(r,t+1),a=[];return this.qr.forEachInRange([n,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const r=new xt(new $r([])),n=new di(r,t),i=new di(r,t+1);let a=Xt();return this.qr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(t){const r=new di(t,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class di{constructor(t,r){this.key=t,this.Hr=r}static Kr(t,r){return xt.comparator(t.key,r.key)||Jt(t.Hr,r.Hr)}static Ur(t,r){return Jt(t.Hr,r.Hr)||xt.comparator(t.key,r.key)}}class E_e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new Qn(di.Kr)}checkEmpty(t){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new U1e(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new di(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return He.resolve(s)}lookupMutationBatch(t,r){return He.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return He.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?jC:this.Yn-1)}getAllMutationBatches(t){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new di(r,0),i=new di(r,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([n,i],(s=>{const o=this.Zr(s.Hr);a.push(o)})),He.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Qn(Jt);return r.forEach((i=>{const a=new di(i,0),s=new di(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(o=>{n=n.add(o.Hr)}))})),He.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;xt.isDocumentKey(a)||(a=a.child(""));const s=new di(new xt(a),0);let o=new Qn(Jt);return this.Jr.forEachWhile((c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Hr)),!0)}),s),He.resolve(this.Yr(o))}Yr(t){const r=[];return t.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(t,r){Er(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return He.forEach(r.mutations,(i=>{const a=new di(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Jr=n}))}nr(t){}containsKey(t,r){const n=new di(r,0),i=this.Jr.firstAfterOrEqual(n);return He.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,He.resolve()}ei(t,r){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const r=this.Xr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class T_e{constructor(t){this.ti=t,this.docs=(function(){return new sn(xt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return He.resolve(n?n.document.mutableCopy():zi.newInvalidDocument(r))}getEntries(t,r){let n=Ul();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():zi.newInvalidDocument(i))})),He.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=Ul();const s=r.path,o=new xt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Xxe(Jxe(d),n)<=0||(i.has(d.key)||t_(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return He.resolve(a)}getAllFromCollectionGroup(t,r,n,i){At(9500)}ni(t,r){return He.forEach(this.docs,(n=>r(n)))}newChangeBuffer(t){return new A_e(this)}getSize(t){return He.resolve(this.size)}}class A_e extends v_e{constructor(t){super(),this.Mr=t}applyChanges(t){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(n)})),He.waitFor(r)}getFromCache(t,r){return this.Mr.getEntry(t,r)}getAllFromCache(t,r){return this.Mr.getEntries(t,r)}}class S_e{constructor(t){this.persistence=t,this.ri=new $f((r=>VC(r)),zC),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.ii=0,this.si=new KC,this.targetCount=0,this.oi=_h._r()}forEachTarget(t,r){return this.ri.forEach(((n,i)=>r(i))),He.resolve()}getLastRemoteSnapshotVersion(t){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return He.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),He.resolve()}lr(t){this.ri.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.oi=new _h(r),this.highestTargetId=r),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,r){return this.lr(r),this.targetCount+=1,He.resolve()}updateTargetData(t,r){return this.lr(r),He.resolve()}removeTargetData(t,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,He.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.ri.forEach(((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),He.waitFor(a).next((()=>i))}getTargetCount(t){return He.resolve(this.targetCount)}getTargetData(t,r){const n=this.ri.get(r)||null;return He.resolve(n)}addMatchingKeys(t,r,n){return this.si.$r(r,n),He.resolve()}removeMatchingKeys(t,r,n){this.si.Qr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(t,s))})),He.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.si.Gr(r),He.resolve()}getMatchingKeysForTargetId(t,r){const n=this.si.jr(r);return He.resolve(n)}containsKey(t,r){return He.resolve(this.si.containsKey(r))}}class jz{constructor(t,r){this._i={},this.overlays={},this.ai=new J1(0),this.ui=!1,this.ui=!0,this.ci=new w_e,this.referenceDelegate=t(this),this.li=new S_e(this),this.indexManager=new f_e,this.remoteDocumentCache=(function(i){return new T_e(i)})((n=>this.referenceDelegate.hi(n))),this.serializer=new c_e(r),this.Pi=new __e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new b_e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this._i[t.toKey()];return n||(n=new E_e(r,this.referenceDelegate),this._i[t.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,r,n){ot("MemoryPersistence","Starting transaction:",t);const i=new C_e(this.ai.next());return this.referenceDelegate.Ti(),n(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(t,r){return He.or(Object.values(this._i).map((n=>()=>n.containsKey(t,r))))}}class C_e extends Qxe{constructor(t){super(),this.currentSequenceNumber=t}}class WC{constructor(t){this.persistence=t,this.Ri=new KC,this.Ai=null}static Vi(t){return new WC(t)}get di(){if(this.Ai)return this.Ai;throw At(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),He.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),He.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),He.resolve()}removeTarget(t,r){this.Ri.Gr(r.targetId).forEach((i=>this.di.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>n.removeTargetData(t,r)))}Ti(){this.Ai=new Set}Ii(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.di,(n=>{const i=xt.fromPath(n);return this.mi(t,i).next((a=>{a||r.removeEntry(i,It.min())}))})).next((()=>(this.Ai=null,r.apply(t))))}updateLimboDocument(t,r){return this.mi(t,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(t){return 0}mi(t,r){return He.or([()=>He.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ei(t,r)])}}class Px{constructor(t,r){this.persistence=t,this.fi=new $f((n=>r1e(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=g_e(this,r)}static Vi(t,r){return new Px(t,r)}Ti(){}Ii(t){return He.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>r.next((i=>n+i))))}pr(t){let r=0;return this.mr(t,(n=>{r++})).next((()=>r))}mr(t,r){return He.forEach(this.fi,((n,i)=>this.wr(t,n,i).next((a=>a?He.resolve():r(i)))))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(t,(s=>this.wr(t,s,r).next((o=>{o||(n++,a.removeEntry(s,It.min()))})))).next((()=>a.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,r){return this.fi.set(r,t.currentSequenceNumber),He.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.fi.set(n,t.currentSequenceNumber),He.resolve()}removeReference(t,r,n){return this.fi.set(n,t.currentSequenceNumber),He.resolve()}updateLimboDocument(t,r){return this.fi.set(r,t.currentSequenceNumber),He.resolve()}hi(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Iy(t.data.value)),r}wr(t,r,n){return He.or([()=>this.persistence.Ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.fi.get(r);return He.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class YC{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Ts=n,this.Is=i}static Es(t,r){let n=Xt(),i=Xt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new YC(t,r.fromCache,n,i)}}class N_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class I_e{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _ye()?8:e1e(yye())>0?6:4})()}initialize(t,r){this.fs=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.gs(t,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(t,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new N_e;return this.ys(t,r,s).next((o=>{if(a.result=o,this.As)return this.ws(t,r,s,o.size)}))})).next((()=>a.result))}ws(t,r,n,i){return n.documentReadCount<this.Vs?(Ld()<=sr.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",jd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),He.resolve()):(Ld()<=sr.DEBUG&&ot("QueryEngine","Query:",jd(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(Ld()<=sr.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",jd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ho(r))):He.resolve())}gs(t,r){if(H3(r))return He.resolve(null);let n=Ho(r);return this.indexManager.getIndexType(t,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=yS(r,null,"F"),n=Ho(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next((a=>{const s=Xt(...a);return this.fs.getDocuments(t,s).next((o=>this.indexManager.getMinOffset(t,n).next((c=>{const u=this.bs(r,o);return this.Ss(r,u,s,c.readTime)?this.gs(t,yS(r,null,"F")):this.Ds(t,u,r,c)}))))})))))}ps(t,r,n,i){return H3(r)||i.isEqual(It.min())?He.resolve(null):this.fs.getDocuments(t,n).next((a=>{const s=this.bs(r,a);return this.Ss(r,s,n,i)?He.resolve(null):(Ld()<=sr.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jd(r)),this.Ds(t,s,r,Yxe(i,fm)).next((o=>o)))}))}bs(t,r){let n=new Qn(hz(t));return r.forEach(((i,a)=>{t_(t,a)&&(n=n.add(a))})),n}Ss(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(t,r,n){return Ld()<=sr.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",jd(r)),this.fs.getDocumentsMatchingQuery(t,r,tu.min(),n)}Ds(t,r,n,i){return this.fs.getDocumentsMatchingQuery(t,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const JC="LocalStore",k_e=3e8;class P_e{constructor(t,r,n,i){this.persistence=t,this.Cs=r,this.serializer=i,this.vs=new sn(Jt),this.Fs=new $f((a=>VC(a)),zC),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(n)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new x_e(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.vs)))}}function R_e(e,t,r,n){return new P_e(e,t,r,n)}async function Uz(e,t){const r=Ot(e);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Os(t),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],o=[];let c=Xt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next((u=>({Ns:u,removedBatchIds:s,addedBatchIds:o})))}))}))}function O_e(e,t){const r=Ot(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=t.batch.keys(),a=r.xs.newChangeBuffer({trackRemovals:!0});return(function(o,c,u,d){const h=u.batch,g=h.keys();let x=He.resolve();return g.forEach((_=>{x=x.next((()=>d.getEntry(c,_))).next((w=>{const T=u.docVersions.get(_);Er(T!==null,48541),w.version.compareTo(T)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))}))})),x.next((()=>o.mutationQueue.removeMutationBatch(c,h)))})(r,n,t,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let c=Xt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c})(t)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function Bz(e){const t=Ot(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.li.getLastRemoteSnapshotVersion(r)))}function M_e(e,t){const r=Ot(e),n=t.snapshotVersion;let i=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;const o=[];t.targetChanges.forEach(((d,h)=>{const g=i.get(h);if(!g)return;o.push(r.li.removeMatchingKeys(a,d.removedDocuments,h).next((()=>r.li.addMatchingKeys(a,d.addedDocuments,h))));let x=g.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(h)!==null?x=x.withResumeToken(Di.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,n)),i=i.insert(h,x),(function(w,T,C){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=k_e?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(g,x,d)&&o.push(r.li.updateTargetData(a,x))}));let c=Ul(),u=Xt();if(t.documentUpdates.forEach((d=>{t.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))})),o.push(D_e(a,s,t.documentUpdates).next((d=>{c=d.Bs,u=d.Ls}))),!n.isEqual(It.min())){const d=r.li.getLastRemoteSnapshotVersion(a).next((h=>r.li.setTargetsMetadata(a,a.currentSequenceNumber,n)));o.push(d)}return He.waitFor(o).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,u))).next((()=>c))})).then((a=>(r.vs=i,a)))}function D_e(e,t,r){let n=Xt(),i=Xt();return r.forEach((a=>n=n.add(a))),t.getEntries(e,n).next((a=>{let s=Ul();return r.forEach(((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(It.min())?(t.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),s=s.insert(o,c)):ot(JC,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function F_e(e,t){const r=Ot(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=jC),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function L_e(e,t){const r=Ot(e);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.li.getTargetData(n,t).next((a=>a?(i=a,He.resolve(i)):r.li.allocateTargetId(n).next((s=>(i=new Vc(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.vs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(t,n.targetId)),n}))}async function ES(e,t,r){const n=Ot(e),i=n.vs.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vh(s))throw s;ot(JC,`Failed to update sequence numbers for target ${t}: ${s}`)}n.vs=n.vs.remove(t),n.Fs.delete(i.target)}function n6(e,t,r){const n=Ot(e);let i=It.min(),a=Xt();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,u,d){const h=Ot(c),g=h.Fs.get(d);return g!==void 0?He.resolve(h.vs.get(g)):h.li.getTargetData(u,d)})(n,s,Ho(t)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,o.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(s,t,r?i:It.min(),r?a:Xt()))).next((o=>(j_e(n,T1e(t),o),{documents:o,ks:a})))))}function j_e(e,t,r){let n=e.Ms.get(t)||It.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),e.Ms.set(t,n)}class i6{constructor(){this.activeTargetIds=k1e()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class U_e{constructor(){this.vo=new i6,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,r,n){this.Fo[t]=r}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new i6,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class B_e{Mo(t){}shutdown(){}}const a6="ConnectivityMonitor";class s6{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(a6,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(a6,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qv=null;function TS(){return Qv===null?Qv=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qv++,"0x"+Qv.toString(16)}const SE="RestConnection",V_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class z_e{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+t.host,this.Uo=`projects/${n}/databases/${i}`,this.$o=this.databaseId.database===Ax?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(t,r,n,i,a){const s=TS(),o=this.Qo(t,r.toUriEncodedString());ot(SE,`Sending RPC '${t}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:u}=new URL(o),d=Vm(u);return this.zo(t,o,c,n,d).then((h=>(ot(SE,`Received RPC '${t}' ${s}: `,h),h)),(h=>{throw gh(SE,`RPC '${t}' ${s} failed with error: `,h,"url: ",o,"request:",n),h}))}jo(t,r,n,i,a,s){return this.Wo(t,r,n,i,a)}Go(t,r,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>t[a]=i)),n&&n.headers.forEach(((i,a)=>t[a]=i))}Qo(t,r){const n=V_e[t];let i=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class $_e{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ui="WebChannelConnection",K0=(e,t,r)=>{e.listen(t,(n=>{try{r(n)}catch(i){setTimeout((()=>{throw i}),0)}}))};class ih extends z_e{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ih.c_){const t=HV();K0(t,$V.STAT_EVENT,(r=>{r.stat===fS.PROXY?ot(Ui,"STAT_EVENT: detected buffering proxy"):r.stat===fS.NOPROXY&&ot(Ui,"STAT_EVENT: detected no buffering proxy")})),ih.c_=!0}}zo(t,r,n,i,a){const s=TS();return new Promise(((o,c)=>{const u=new VV;u.setWithCredentials(!0),u.listenOnce(zV.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Ny.NO_ERROR:const h=u.getResponseJson();ot(Ui,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ny.TIMEOUT:ot(Ui,`RPC '${t}' ${s} timed out`),c(new it(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case Ny.HTTP_ERROR:const g=u.getStatus();if(ot(Ui,`RPC '${t}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x?.error;if(_&&_.status&&_.message){const w=(function(C){const L=C.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(L)>=0?L:Ue.UNKNOWN})(_.status);c(new it(w,_.message))}else c(new it(Ue.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new it(Ue.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ot(Ui,`RPC '${t}' ${s} completed.`)}}));const d=JSON.stringify(i);ot(Ui,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)}))}T_(t,r,n){const i=TS(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const u=a.join("");ot(Ui,`Creating RPC '${t}' stream ${i}: ${u}`,o);const d=s.createWebChannel(u,o);this.I_(d);let h=!1,g=!1;const x=new $_e({Ho:_=>{g?ot(Ui,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(h||(ot(Ui,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),ot(Ui,`RPC '${t}' stream ${i} sending:`,_),d.send(_))},Jo:()=>d.close()});return K0(d,vp.EventType.OPEN,(()=>{g||(ot(Ui,`RPC '${t}' stream ${i} transport opened.`),x.i_())})),K0(d,vp.EventType.CLOSE,(()=>{g||(g=!0,ot(Ui,`RPC '${t}' stream ${i} transport closed`),x.o_(),this.E_(d))})),K0(d,vp.EventType.ERROR,(_=>{g||(g=!0,gh(Ui,`RPC '${t}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),x.o_(new it(Ue.UNAVAILABLE,"The operation could not be completed")))})),K0(d,vp.EventType.MESSAGE,(_=>{if(!g){const w=_.data[0];Er(!!w,16349);const T=w,C=T?.error||T[0]?.error;if(C){ot(Ui,`RPC '${t}' stream ${i} received error:`,C);const L=C.status;let P=(function(R){const I=Un[R];if(I!==void 0)return Az(I)})(L),D=C.message;L==="NOT_FOUND"&&D.includes("database")&&D.includes("does not exist")&&D.includes(this.databaseId.database)&&gh(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),P===void 0&&(P=Ue.INTERNAL,D="Unknown error status: "+L+" with message "+C.message),g=!0,x.o_(new it(P,D)),d.close()}else ot(Ui,`RPC '${t}' stream ${i} received:`,w),x.__(w)}})),ih.u_(),setTimeout((()=>{x.s_()}),0),x}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((r=>r===t))}Go(t,r,n){super.Go(t,r,n),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return GV()}}function H_e(e){return new ih(e)}function CE(){return typeof document<"u"?document:null}function a_(e){return new Y1e(e,!0)}ih.c_=!1;class Vz{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Ci=t,this.timerId=r,this.R_=n,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const o6="PersistentStream";class zz{constructor(t,r,n,i,a,s,o,c){this.Ci=t,this.b_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Vz(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Ue.RESOURCE_EXHAUSTED?(jl(r.toString()),jl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(r)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{t((()=>{const i=new it(Ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(t,r){const n=this.Q_(this.D_);this.stream=this.j_(t,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(o6,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return r=>{this.Ci.enqueueAndForget((()=>this.D_===t?r():(ot(o6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G_e extends zz{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=Z1e(this.serializer,t),n=(function(a){if(!("targetChange"in a))return It.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?Go(s.readTime):It.min()})(t);return this.listener.J_(r,n)}Z_(t){const r={};r.database=wS(this.serializer),r.addTarget=(function(a,s){let o;const c=s.target;if(o=gS(c)?{documents:t_e(a,c)}:{query:r_e(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Nz(a,s.resumeToken);const u=xS(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(It.min())>0){o.readTime=kx(a,s.snapshotVersion.toTimestamp());const u=xS(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,t);const n=i_e(this.serializer,t);n&&(r.labels=n),this.K_(r)}X_(t){const r={};r.database=wS(this.serializer),r.removeTarget=t,this.K_(r)}}class q_e extends zz{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}H_(t){return Er(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Er(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Er(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=e_e(t.writeResults,t.commitTime),n=Go(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=wS(this.serializer),this.K_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((n=>Q1e(this.serializer,n)))};this.K_(r)}}class K_e{}class W_e extends K_e{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new it(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(t,_S(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new it(Ue.UNKNOWN,a.toString())}))}jo(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.jo(t,_S(r,n),i,s,o,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Ue.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Y_e(e,t,r,n){return new W_e(e,t,r,n)}class J_e{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jl(r),this.aa=!1):ot("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const bf="RemoteStore";class X_e{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{n.enqueueAndForget((async()=>{Hf(this)&&(ot(bf,"Restarting streams for network reachability change."),await(async function(c){const u=Ot(c);u.Ea.add(4),await Gm(u),u.Va.set("Unknown"),u.Ea.delete(4),await s_(u)})(this))}))})),this.Va=new J_e(n,i)}}async function s_(e){if(Hf(e))for(const t of e.Ra)await t(!0)}async function Gm(e){for(const t of e.Ra)await t(!1)}function $z(e,t){const r=Ot(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),eN(r)?QC(r):$h(r).O_()&&ZC(r,t))}function XC(e,t){const r=Ot(e),n=$h(r);r.Ia.delete(t),n.O_()&&Hz(r,t),r.Ia.size===0&&(n.O_()?n.L_():Hf(r)&&r.Va.set("Unknown"))}function ZC(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}$h(e).Z_(t)}function Hz(e,t){e.da.$e(t),$h(e).X_(t)}function QC(e){e.da=new G1e({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),$h(e).start(),e.Va.ua()}function eN(e){return Hf(e)&&!$h(e).x_()&&e.Ia.size>0}function Hf(e){return Ot(e).Ea.size===0}function Gz(e){e.da=void 0}async function Z_e(e){e.Va.set("Online")}async function Q_e(e){e.Ia.forEach(((t,r)=>{ZC(e,t)}))}async function ebe(e,t){Gz(e),eN(e)?(e.Va.ha(t),QC(e)):e.Va.set("Unknown")}async function tbe(e,t,r){if(e.Va.set("Online"),t instanceof Cz&&t.state===2&&t.cause)try{await(async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))})(e,t)}catch(n){ot(bf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Rx(e,n)}else if(t instanceof Ry?e.da.Xe(t):t instanceof Sz?e.da.st(t):e.da.tt(t),!r.isEqual(It.min()))try{const n=await Bz(e.localStore);r.compareTo(n)>=0&&await(function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,s))}})),o.targetMismatches.forEach(((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Di.EMPTY_BYTE_STRING,d.snapshotVersion)),Hz(a,c);const h=new Vc(d.target,c,u,d.sequenceNumber);ZC(a,h)})),a.remoteSyncer.applyRemoteEvent(o)})(e,r)}catch(n){ot(bf,"Failed to raise snapshot:",n),await Rx(e,n)}}async function Rx(e,t,r){if(!Vh(t))throw t;e.Ea.add(1),await Gm(e),e.Va.set("Offline"),r||(r=()=>Bz(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ot(bf,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await s_(e)}))}function qz(e,t){return t().catch((r=>Rx(e,r,t)))}async function o_(e){const t=Ot(e),r=au(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jC;for(;rbe(t);)try{const i=await F_e(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,nbe(t,i)}catch(i){await Rx(t,i)}Kz(t)&&Wz(t)}function rbe(e){return Hf(e)&&e.Ta.length<10}function nbe(e,t){e.Ta.push(t);const r=au(e);r.O_()&&r.Y_&&r.ea(t.mutations)}function Kz(e){return Hf(e)&&!au(e).x_()&&e.Ta.length>0}function Wz(e){au(e).start()}async function ibe(e){au(e).ra()}async function abe(e){const t=au(e);for(const r of e.Ta)t.ea(r.mutations)}async function sbe(e,t,r){const n=e.Ta.shift(),i=HC.from(n,t,r);await qz(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await o_(e)}async function obe(e,t){t&&au(e).Y_&&await(async function(n,i){if((function(s){return z1e(s)&&s!==Ue.ABORTED})(i.code)){const a=n.Ta.shift();au(n).B_(),await qz(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await o_(n)}})(e,t),Kz(e)&&Wz(e)}async function l6(e,t){const r=Ot(e);r.asyncQueue.verifyOperationInProgress(),ot(bf,"RemoteStore received new credentials");const n=Hf(r);r.Ea.add(3),await Gm(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await s_(r)}async function lbe(e,t){const r=Ot(e);t?(r.Ea.delete(2),await s_(r)):t||(r.Ea.add(2),await Gm(r),r.Va.set("Unknown"))}function $h(e){return e.ma||(e.ma=(function(r,n,i){const a=Ot(r);return a.sa(),new G_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Zo:Z_e.bind(null,e),Yo:Q_e.bind(null,e),t_:ebe.bind(null,e),J_:tbe.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),eN(e)?QC(e):e.Va.set("Unknown")):(await e.ma.stop(),Gz(e))}))),e.ma}function au(e){return e.fa||(e.fa=(function(r,n,i){const a=Ot(r);return a.sa(),new q_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ibe.bind(null,e),t_:obe.bind(null,e),ta:abe.bind(null,e),na:sbe.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await o_(e)):(await e.fa.stop(),e.Ta.length>0&&(ot(bf,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class tN{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Yc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new tN(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rN(e,t){if(jl("AsyncQueue",`${t}: ${e}`),Vh(e))return new it(Ue.UNAVAILABLE,`${t}: ${e}`);throw e}class ah{static emptySet(t){return new ah(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||xt.comparator(r.key,n.key):(r,n)=>xt.comparator(r.key,n.key),this.keyedMap=yp(),this.sortedSet=new sn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,n)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ah)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new ah;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}class c6{constructor(){this.ga=new sn(xt.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):At(63341,{Vt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,n)=>{t.push(n)})),t}}class bh{constructor(t,r,n,i,a,s,o,c,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach((o=>{s.push({type:0,doc:o})})),new bh(t,r,ah.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&e_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}class cbe{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class ube{constructor(){this.queries=u6(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ot(r),a=i.queries;i.queries=u6(),a.forEach(((s,o)=>{for(const c of o.ba)c.onError(n)}))})(this,new it(Ue.ABORTED,"Firestore shutting down"))}}function u6(){return new $f((e=>dz(e)),e_)}async function Yz(e,t){const r=Ot(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.Sa()&&t.Da()&&(n=2):(a=new cbe,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=rN(s,`Initialization of query '${jd(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.ba.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&nN(r)}async function Jz(e,t){const r=Ot(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.ba.indexOf(t);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function fbe(e,t){const r=Ot(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(n=!0);s.wa=i}}n&&nN(r)}function dbe(e,t,r){const n=Ot(e),i=n.queries.get(t);if(i)for(const a of i.ba)a.onError(r);n.queries.delete(t)}function nN(e){e.Ca.forEach((t=>{t.next()}))}var AS,f6;(f6=AS||(AS={})).Ma="default",f6.Cache="cache";class Xz{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new bh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=bh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==AS.Cache}}class Zz{constructor(t){this.key=t}}class Qz{constructor(t){this.key=t}}class hbe{constructor(t,r){this.query=t,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xt(),this.mutatedKeys=Xt(),this.eu=hz(t),this.tu=new ah(this.eu)}get nu(){return this.Za}ru(t,r){const n=r?r.iu:new c6,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((d,h)=>{const g=i.get(d),x=t_(this.query,h)?h:null,_=!!g&&this.mutatedKeys.has(g.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let T=!1;g&&x?g.data.isEqual(x.data)?_!==w&&(n.track({type:3,doc:x}),T=!0):this.su(g,x)||(n.track({type:2,doc:x}),T=!0,(c&&this.eu(x,c)>0||u&&this.eu(x,u)<0)&&(o=!0)):!g&&x?(n.track({type:0,doc:x}),T=!0):g&&!x&&(n.track({type:1,doc:g}),T=!0,(c||u)&&(o=!0)),T&&(x?(s=s.add(x),a=w?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Ss:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort(((d,h)=>(function(x,_){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:T})}};return w(x)-w(_)})(d.type,h.type)||this.eu(d.doc,h.doc))),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Xa;return this.Xa=c,s.length!==0||u?{snapshot:new bh(this.query,t.tu,a,s,t.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c6,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Xt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return t.forEach((n=>{this.Ya.has(n)||r.push(new Qz(n))})),this.Ya.forEach((n=>{t.has(n)||r.push(new Zz(n))})),r}cu(t){this.Za=t.ks,this.Ya=Xt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return bh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const iN="SyncEngine";class pbe{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class mbe{constructor(t){this.key=t,this.hu=!1}}class gbe{constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new $f((o=>dz(o)),e_),this.Iu=new Map,this.Eu=new Set,this.Ru=new sn(xt.comparator),this.Au=new Map,this.Vu=new KC,this.du={},this.mu=new Map,this.fu=_h.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vbe(e,t,r=!0){const n=a7(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await e7(n,t,r,!0),i}async function ybe(e,t){const r=a7(e);await e7(r,t,!0,!1)}async function e7(e,t,r,n){const i=await L_e(e.localStore,Ho(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await xbe(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&$z(e.remoteStore,i),o}async function xbe(e,t,r,n,i){e.pu=(h,g,x)=>(async function(w,T,C,L){let P=T.view.ru(C);P.Ss&&(P=await n6(w.localStore,T.query,!1).then((({documents:I})=>T.view.ru(I,P))));const D=L&&L.targetChanges.get(T.targetId),F=L&&L.targetMismatches.get(T.targetId)!=null,R=T.view.applyChanges(P,w.isPrimaryClient,D,F);return h6(w,T.targetId,R.au),R.snapshot})(e,h,g,x);const a=await n6(e.localStore,t,!0),s=new hbe(t,a.ks),o=s.ru(a.documents),c=Hm.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,c);h6(e,r,u.au);const d=new pbe(t,r,s);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function _be(e,t,r){const n=Ot(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!e_(s,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ES(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&XC(n.remoteStore,i.targetId),SS(n,i.targetId)})).catch(Bh)):(SS(n,i.targetId),await ES(n.localStore,i.targetId,!0))}async function bbe(e,t){const r=Ot(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),XC(r.remoteStore,n.targetId))}async function wbe(e,t,r){const n=Ibe(e);try{const i=await(function(s,o){const c=Ot(s),u=Xr.now(),d=o.reduce(((x,_)=>x.add(_.key)),Xt());let h,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let _=Ul(),w=Xt();return c.xs.getEntries(x,d).next((T=>{_=T,_.forEach(((C,L)=>{L.isValidDocument()||(w=w.add(C))}))})).next((()=>c.localDocuments.getOverlayedDocuments(x,_))).next((T=>{h=T;const C=[];for(const L of o){const P=L1e(L,h.get(L.key).overlayedDocument);P!=null&&C.push(new gu(L.key,P,iz(P.value.mapValue),co.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,C,o)})).next((T=>{g=T;const C=T.applyToLocalDocumentSet(h,w);return c.documentOverlayCache.saveOverlays(x,T.batchId,C)}))})).then((()=>({batchId:g.batchId,changes:mz(h)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),(function(s,o,c){let u=s.du[s.currentUser.toKey()];u||(u=new sn(Jt)),u=u.insert(o,c),s.du[s.currentUser.toKey()]=u})(n,i.batchId,r),await qm(n,i.changes),await o_(n.remoteStore)}catch(i){const a=rN(i,"Failed to persist write");r.reject(a)}}async function t7(e,t){const r=Ot(e);try{const n=await M_e(r.localStore,t);t.targetChanges.forEach(((i,a)=>{const s=r.Au.get(a);s&&(Er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Er(s.hu,14607):i.removedDocuments.size>0&&(Er(s.hu,42227),s.hu=!1))})),await qm(r,n,t)}catch(n){await Bh(n)}}function d6(e,t,r){const n=Ot(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)})),(function(s,o){const c=Ot(s);c.onlineState=o;let u=!1;c.queries.forEach(((d,h)=>{for(const g of h.ba)g.va(o)&&(u=!0)})),u&&nN(c)})(n.eventManager,t),i.length&&n.Pu.J_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Ebe(e,t,r){const n=Ot(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new sn(xt.comparator);s=s.insert(a,zi.newNoDocument(a,It.min()));const o=Xt().add(a),c=new i_(It.min(),new Map,new sn(Jt),s,o);await t7(n,c),n.Ru=n.Ru.remove(a),n.Au.delete(t),aN(n)}else await ES(n.localStore,t,!1).then((()=>SS(n,t,r))).catch(Bh)}async function Tbe(e,t){const r=Ot(e),n=t.batch.batchId;try{const i=await O_e(r.localStore,t);n7(r,n,null),r7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await qm(r,i)}catch(i){await Bh(i)}}async function Abe(e,t,r){const n=Ot(e);try{const i=await(function(s,o){const c=Ot(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next((h=>(Er(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>c.localDocuments.getDocuments(u,d)))}))})(n.localStore,t);n7(n,t,r),r7(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await qm(n,i)}catch(i){await Bh(i)}}function r7(e,t){(e.mu.get(t)||[]).forEach((r=>{r.resolve()})),e.mu.delete(t)}function n7(e,t,r){const n=Ot(e);let i=n.du[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.du[n.currentUser.toKey()]=i}}function SS(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((n=>{e.Vu.containsKey(n)||i7(e,n)}))}function i7(e,t){e.Eu.delete(t.path.canonicalString());const r=e.Ru.get(t);r!==null&&(XC(e.remoteStore,r),e.Ru=e.Ru.remove(t),e.Au.delete(r),aN(e))}function h6(e,t,r){for(const n of r)n instanceof Zz?(e.Vu.addReference(n.key,t),Sbe(e,n)):n instanceof Qz?(ot(iN,"Document no longer in limbo: "+n.key),e.Vu.removeReference(n.key,t),e.Vu.containsKey(n.key)||i7(e,n.key)):At(19791,{wu:n})}function Sbe(e,t){const r=t.key,n=r.path.canonicalString();e.Ru.get(r)||e.Eu.has(n)||(ot(iN,"New document in limbo: "+r),e.Eu.add(n),aN(e))}function aN(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new xt($r.fromString(t)),n=e.fu.next();e.Au.set(n,new mbe(r)),e.Ru=e.Ru.insert(r,n),$z(e.remoteStore,new Vc(Ho(Q1(r.path)),n,"TargetPurposeLimboResolution",J1.ce))}}async function qm(e,t,r){const n=Ot(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((o,c)=>{s.push(n.pu(c,t,r).then((u=>{if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);const d=YC.Es(c.targetId,u);a.push(d)}})))})),await Promise.all(s),n.Pu.J_(i),await(async function(c,u){const d=Ot(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>He.forEach(u,(g=>He.forEach(g.Ts,(x=>d.persistence.referenceDelegate.addReference(h,g.targetId,x))).next((()=>He.forEach(g.Is,(x=>d.persistence.referenceDelegate.removeReference(h,g.targetId,x)))))))))}catch(h){if(!Vh(h))throw h;ot(JC,"Failed to update sequence numbers: "+h)}for(const h of u){const g=h.targetId;if(!h.fromCache){const x=d.vs.get(g),_=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(_);d.vs=d.vs.insert(g,w)}}})(n.localStore,a))}async function Cbe(e,t){const r=Ot(e);if(!r.currentUser.isEqual(t)){ot(iN,"User change. New user:",t.toKey());const n=await Uz(r.localStore,t);r.currentUser=t,(function(a,s){a.mu.forEach((o=>{o.forEach((c=>{c.reject(new it(Ue.CANCELLED,s))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await qm(r,n.Ns)}}function Nbe(e,t){const r=Ot(e),n=r.Au.get(t);if(n&&n.hu)return Xt().add(n.key);{let i=Xt();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function a7(e){const t=Ot(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=t7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nbe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ebe.bind(null,t),t.Pu.J_=fbe.bind(null,t.eventManager),t.Pu.yu=dbe.bind(null,t.eventManager),t}function Ibe(e){const t=Ot(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tbe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Abe.bind(null,t),t}class Ox{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=a_(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return R_e(this.persistence,new I_e,t.initialUser,this.serializer)}Cu(t){return new jz(WC.Vi,this.serializer)}Du(t){return new U_e}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ox.provider={build:()=>new Ox};class kbe extends Ox{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Er(this.persistence.referenceDelegate instanceof Px,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new p_e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Pa.withCacheSize(this.cacheSizeBytes):Pa.DEFAULT;return new jz((n=>Px.Vi(n,r)),this.serializer)}}class CS{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>d6(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cbe.bind(null,this.syncEngine),await lbe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ube})()}createDatastore(t){const r=a_(t.databaseInfo.databaseId),n=H_e(t.databaseInfo);return Y_e(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return(function(n,i,a,s,o){return new X_e(n,i,a,s,o)})(this.localStore,this.datastore,t.asyncQueue,(r=>d6(this.syncEngine,r,0)),(function(){return s6.v()?new s6:new B_e})())}createSyncEngine(t,r){return(function(i,a,s,o,c,u,d){const h=new gbe(i,a,s,o,c,u);return d&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Ot(r);ot(bf,"RemoteStore shutting down."),n.Ea.add(5),await Gm(n),n.Aa.shutdown(),n.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}CS.provider={build:()=>new CS};class s7{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):jl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const su="FirestoreClient";class Pbe{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=i,this.user=ka.UNAUTHENTICATED,this.clientId=LC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{ot(su,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(ot(su,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=rN(r,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function NE(e,t){e.asyncQueue.verifyOperationInProgress(),ot(su,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async i=>{n.isEqual(i)||(await Uz(t.localStore,i),n=i)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function p6(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Rbe(e);ot(su,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((n=>l6(t.remoteStore,n))),e.setAppCheckTokenChangeListener(((n,i)=>l6(t.remoteStore,i))),e._onlineComponents=t}async function Rbe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ot(su,"Using user provided OfflineComponentProvider");try{await NE(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(i){return i.name==="FirebaseError"?i.code===Ue.FAILED_PRECONDITION||i.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;gh("Error using user provided cache. Falling back to memory cache: "+r),await NE(e,new Ox)}}else ot(su,"Using default OfflineComponentProvider"),await NE(e,new kbe(void 0));return e._offlineComponents}async function o7(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ot(su,"Using user provided OnlineComponentProvider"),await p6(e,e._uninitializedComponentsProvider._online)):(ot(su,"Using default OnlineComponentProvider"),await p6(e,new CS))),e._onlineComponents}function Obe(e){return o7(e).then((t=>t.syncEngine))}async function NS(e){const t=await o7(e),r=t.eventManager;return r.onListen=vbe.bind(null,t.syncEngine),r.onUnlisten=_be.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=ybe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=bbe.bind(null,t.syncEngine),r}function Mbe(e,t,r,n){const i=new s7(n),a=new Xz(t,i,r);return e.asyncQueue.enqueueAndForget((async()=>Yz(await NS(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>Jz(await NS(e),a)))}}function Dbe(e,t,r={}){const n=new Yc;return e.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,c,u){const d=new s7({next:g=>{d.Nu(),s.enqueueAndForget((()=>Jz(a,h)));const x=g.docs.has(o);!x&&g.fromCache?u.reject(new it(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&c&&c.source==="server"?u.reject(new it(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new Xz(Q1(o.path),d,{includeMetadataChanges:!0,Ka:!0});return Yz(a,h)})(await NS(e),e.asyncQueue,t,r,n))),n.promise}function Fbe(e,t){const r=new Yc;return e.asyncQueue.enqueueAndForget((async()=>wbe(await Obe(e),t,r))),r.promise}function l7(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Lbe="ComponentProvider",m6=new Map;function jbe(e,t,r,n,i){return new a1e(e,t,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,l7(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,n)}const Ube="firestore.googleapis.com",g6=!0;class v6{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ube,this.ssl=g6}else this.host=t.host,this.ssl=t.ssl??g6;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Fz;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Lz)throw new it(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Wxe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l7(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sN{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v6({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v6(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Uxe;switch(n.type){case"firstParty":return new zxe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new it(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=m6.get(r);n&&(ot(Lbe,"Removing Datastore"),m6.delete(r),n.terminate())})(this),Promise.resolve()}}class Gf{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Gf(this.firestore,t,this._query)}}class yn{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(zm(r,yn._jsonSchema))return new yn(t,n||null,new xt($r.fromString(r.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:$n("string",yn._jsonSchemaVersion),referencePath:$n("string")};class Jc extends Gf{constructor(t,r,n){super(t,r,Q1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new xt(t))}withConverter(t){return new Jc(this.firestore,t,this._path)}}function c7(e,t,...r){if(e=ja(e),KV("collection","path",t),e instanceof sN){const n=$r.fromString(t,...r);return k3(n),new Jc(e,null,n)}{if(!(e instanceof yn||e instanceof Jc))throw new it(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($r.fromString(t,...r));return k3(n),new Jc(e.firestore,null,n)}}function l_(e,t,...r){if(e=ja(e),arguments.length===1&&(t=LC.newId()),KV("doc","path",t),e instanceof sN){const n=$r.fromString(t,...r);return I3(n),new yn(e,null,new xt(n))}{if(!(e instanceof yn||e instanceof Jc))throw new it(Ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child($r.fromString(t,...r));return I3(n),new yn(e.firestore,e instanceof Jc?e.converter:null,new xt(n))}}const y6="AsyncQueue";class x6{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Vz(this,"async_queue_retry"),this._c=()=>{const n=CE();n&&ot(y6,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=CE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=CE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Yc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Vh(t))throw t;ot(y6,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,jl("INTERNAL UNHANDLED ERROR: ",_6(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=tN.createAndSchedule(this,t,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&At(47125,{Pc:_6(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function _6(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class wf extends sN{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new x6,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new x6(t),this._firestoreClient=void 0,await t}}}function Bbe(e,t,r){r||(r=Ax);const n=OV(e,"firestore");if(n.isInitialized(r)){const i=n.getImmediate({identifier:r}),a=n.getOptions(r);if(Ex(a,t))return i;throw new it(Ue.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new it(Ue.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Lz)throw new it(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Vm(t.host)&&NV(t.host),n.initialize({options:t,instanceIdentifier:r})}function oN(e){if(e._terminated)throw new it(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Vbe(e),e._firestoreClient}function Vbe(e){const t=e._freezeSettings(),r=jbe(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Pbe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(e._componentsProvider))}class Rs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rs(Di.fromBase64String(t))}catch(r){throw new it(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Rs(Di.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Rs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zm(t,Rs._jsonSchema))return Rs.fromBase64String(t.bytes)}}Rs._jsonSchemaVersion="firestore/bytes/1.0",Rs._jsonSchema={type:$n("string",Rs._jsonSchemaVersion),bytes:$n("string")};class lN{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new it(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cN{constructor(t){this._methodName=t}}class qo{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new it(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new it(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qo._jsonSchemaVersion}}static fromJSON(t){if(zm(t,qo._jsonSchema))return new qo(t.latitude,t.longitude)}}qo._jsonSchemaVersion="firestore/geoPoint/1.0",qo._jsonSchema={type:$n("string",qo._jsonSchemaVersion),latitude:$n("number"),longitude:$n("number")};class uo{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:uo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zm(t,uo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new uo(t.vectorValues);throw new it(Ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uo._jsonSchemaVersion="firestore/vectorValue/1.0",uo._jsonSchema={type:$n("string",uo._jsonSchemaVersion),vectorValues:$n("object")};const zbe=/^__.*__$/;class $be{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new gu(t,this.data,this.fieldMask,r,this.fieldTransforms):new $m(t,this.data,r,this.fieldTransforms)}}class u7{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new gu(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function f7(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{dataSource:e})}}class uN{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new uN({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const r=this.path?.child(t),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(t),n}childContextForFieldPath(t){const r=this.path?.child(t),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Mx(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(f7(this.dataSource)&&zbe.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Hbe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||a_(t)}createContext(t,r,n,i=!1){return new uN({dataSource:t,methodName:r,targetDoc:n,path:Pi.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c_(e){const t=e._freezeSettings(),r=a_(e._databaseId);return new Hbe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function d7(e,t,r,n,i,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,r,i);fN("Data must be an object, but it was:",s,n);const o=h7(n,s);let c,u;if(a.merge)c=new os(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const g=wh(t,h,r);if(!s.contains(g))throw new it(Ue.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);g7(d,g)||d.push(g)}c=new os(d),u=s.fieldTransforms.filter((h=>c.covers(h.field)))}else c=null,u=s.fieldTransforms;return new $be(new Oa(o),c,u)}class u_ extends cN{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof u_}}function Gbe(e,t,r,n){const i=e.createContext(1,t,r);fN("Data must be an object, but it was:",i,n);const a=[],s=Oa.empty();mu(n,((c,u)=>{const d=m7(t,c,r);u=ja(u);const h=i.childContextForFieldPath(d);if(u instanceof u_)a.push(d);else{const g=Km(u,h);g!=null&&(a.push(d),s.set(d,g))}}));const o=new os(a);return new u7(s,o,i.fieldTransforms)}function qbe(e,t,r,n,i,a){const s=e.createContext(1,t,r),o=[wh(t,n,r)],c=[i];if(a.length%2!=0)throw new it(Ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)o.push(wh(t,a[g])),c.push(a[g+1]);const u=[],d=Oa.empty();for(let g=o.length-1;g>=0;--g)if(!g7(u,o[g])){const x=o[g];let _=c[g];_=ja(_);const w=s.childContextForFieldPath(x);if(_ instanceof u_)u.push(x);else{const T=Km(_,w);T!=null&&(u.push(x),d.set(x,T))}}const h=new os(u);return new u7(d,h,s.fieldTransforms)}function Kbe(e,t,r,n=!1){return Km(r,e.createContext(n?4:3,t))}function Km(e,t){if(p7(e=ja(e)))return fN("Unsupported field value:",t,e),h7(e,t);if(e instanceof cN)return(function(n,i){if(!f7(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const o of n){let c=Km(o,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(e,t)}return(function(n,i){if((n=ja(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return P1e(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Xr.fromDate(n);return{timestampValue:kx(i.serializer,a)}}if(n instanceof Xr){const a=new Xr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kx(i.serializer,a)}}if(n instanceof qo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rs)return{bytesValue:Nz(i.serializer,n._byteString)};if(n instanceof yn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof uo)return(function(s,o){const c=s instanceof uo?s.toArray():s;return{mapValue:{fields:{[rz]:{stringValue:nz},[Sx]:{arrayValue:{values:c.map((d=>{if(typeof d!="number")throw o.createError("VectorValues must only contain numeric values.");return $C(o.serializer,d)}))}}}}}})(n,i);if(Dz(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Y1(n)}`)})(e,t)}function h7(e,t){const r={};return JV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mu(e,((n,i)=>{const a=Km(i,t.childContextForField(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function p7(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xr||e instanceof qo||e instanceof Rs||e instanceof yn||e instanceof cN||e instanceof uo||Dz(e))}function fN(e,t,r){if(!p7(r)||!WV(r)){const n=Y1(r);throw n==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+n)}}function wh(e,t,r){if((t=ja(t))instanceof lN)return t._internalPath;if(typeof t=="string")return m7(e,t);throw Mx("Field path arguments must be of type string or ",e,!1,void 0,r)}const Wbe=new RegExp("[~\\*/\\[\\]]");function m7(e,t,r){if(t.search(Wbe)>=0)throw Mx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new lN(...t.split("."))._internalPath}catch{throw Mx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Mx(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new it(Ue.INVALID_ARGUMENT,o+e+c)}function g7(e,t){return e.some((r=>r.isEqual(t)))}class Ybe{convertValue(t,r="none"){switch(iu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(nu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return mu(t,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(t){const r=t.fields?.[Sx].arrayValue?.values?.map((n=>Nn(n.doubleValue)));return new uo(r)}convertGeoPoint(t){return new qo(Nn(t.latitude),Nn(t.longitude))}convertArray(t,r){return(t.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Z1(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(dm(t));default:return null}}convertTimestamp(t){const r=ru(t);return new Xr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=$r.fromString(t);Er(Mz(n),9688,{name:t});const i=new hm(n.get(1),n.get(3)),a=new xt(n.popFirst(5));return i.isEqual(r)||jl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}class v7 extends Ybe{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rs(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,r)}}const b6="@firebase/firestore",w6="4.11.0";function E6(e){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(e,["next","error","complete"])}class y7{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Jbe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const r=this._document.data.field(wh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Jbe extends y7{data(){return super.data()}}function Xbe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new it(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dN{}class x7 extends dN{}function Zbe(e,t,...r){let n=[];t instanceof dN&&n.push(t),n=n.concat(r),(function(a){const s=a.filter((c=>c instanceof pN)).length,o=a.filter((c=>c instanceof hN)).length;if(s>1||s>0&&o>0)throw new it(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)e=i._apply(e);return e}class hN extends x7{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new hN(t,r,n)}_apply(t){const r=this._parse(t);return _7(t._query,r),new Gf(t.firestore,t.converter,vS(t._query,r))}_parse(t){const r=c_(t.firestore);return(function(a,s,o,c,u,d,h){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new it(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){A6(h,d);const _=[];for(const w of h)_.push(T6(c,a,w));g={arrayValue:{values:_}}}else g=T6(c,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||A6(h,d),g=Kbe(o,s,h,d==="in"||d==="not-in");return zn.create(u,d,g)})(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}class pN extends dN{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new pN(t,r)}_parse(t){const r=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:ho.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:((function(i,a){let s=i;const o=a.getFlattenedFilters();for(const c of o)_7(s,c),s=vS(s,c)})(t._query,r),new Gf(t.firestore,t.converter,vS(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mN extends x7{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new mN(t,r)}_apply(t){const r=(function(i,a,s){if(i.startAt!==null)throw new it(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new it(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mm(a,s)})(t._query,this._field,this._direction);return new Gf(t.firestore,t.converter,E1e(t._query,r))}}function Qbe(e,t="asc"){const r=t,n=wh("orderBy",e);return mN._create(n,r)}function T6(e,t,r){if(typeof(r=ja(r))=="string"){if(r==="")throw new it(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fz(t)&&r.indexOf("/")!==-1)throw new it(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child($r.fromString(r));if(!xt.isDocumentKey(n))throw new it(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return j3(e,new xt(n))}if(r instanceof yn)return j3(e,r._key);throw new it(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y1(r)}.`)}function A6(e,t){if(!Array.isArray(e)||e.length===0)throw new it(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _7(e,t){const r=(function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null})(e.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(r!==null)throw r===t.op?new it(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function b7(e,t,r){let n;return n=e?e.toFirestore(t):t,n}class _p{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lf extends y7{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Oy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(wh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=lf._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}lf._jsonSchemaVersion="firestore/documentSnapshot/1.0",lf._jsonSchema={type:$n("string",lf._jsonSchemaVersion),bundleSource:$n("string","DocumentSnapshot"),bundleName:$n("string"),bundle:$n("string")};class Oy extends lf{data(t={}){return super.data(t)}}class sh{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new _p(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((n=>{t.call(r,new Oy(this._firestore,this._userDataWriter,n.key,n,new _p(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new it(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((o=>{const c=new Oy(i._firestore,i._userDataWriter,o.doc.key,o.doc,new _p(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>a||o.type!==3)).map((o=>{const c=new Oy(i._firestore,i._userDataWriter,o.doc.key,o.doc,new _p(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:ewe(o.type),doc:c,oldIndex:u,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=sh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=LC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ewe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:e})}}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:$n("string",sh._jsonSchemaVersion),bundleSource:$n("string","QuerySnapshot"),bundleName:$n("string"),bundle:$n("string")};function twe(e){e=$o(e,yn);const t=$o(e.firestore,wf),r=oN(t);return Dbe(r,e._key).then((n=>w7(t,e,n)))}function rwe(e,t,r){e=$o(e,yn);const n=$o(e.firestore,wf),i=b7(e.converter,t),a=c_(n);return gN(n,[d7(a,"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,co.none())])}function nwe(e,t,r,...n){e=$o(e,yn);const i=$o(e.firestore,wf),a=c_(i);let s;return s=typeof(t=ja(t))=="string"||t instanceof lN?qbe(a,"updateDoc",e._key,t,r,n):Gbe(a,"updateDoc",e._key,t),gN(i,[s.toMutation(e._key,co.exists(!0))])}function iwe(e,t){const r=$o(e.firestore,wf),n=l_(e),i=b7(e.converter,t),a=c_(e.firestore);return gN(r,[d7(a,"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,co.exists(!1))]).then((()=>n))}function awe(e,...t){e=ja(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||E6(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(E6(t[n])){const u=t[n];t[n]=u.next?.bind(u),t[n+1]=u.error?.bind(u),t[n+2]=u.complete?.bind(u)}let a,s,o;if(e instanceof yn)s=$o(e.firestore,wf),o=Q1(e._key.path),a={next:u=>{t[n]&&t[n](w7(s,e,u))},error:t[n+1],complete:t[n+2]};else{const u=$o(e,Gf);s=$o(u.firestore,wf),o=u._query;const d=new v7(s);a={next:h=>{t[n]&&t[n](new sh(s,d,u,h))},error:t[n+1],complete:t[n+2]},Xbe(e._query)}const c=oN(s);return Mbe(c,o,i,a)}function gN(e,t){const r=oN(e);return Fbe(r,t)}function w7(e,t,r){const n=r.docs.get(t._key),i=new v7(e);return new lf(e,i,t._key,n,new _p(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){Lxe(DV),cm(new mh("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new wf(new Bxe(n.getProvider("auth-internal")),new $xe(s,n.getProvider("app-check-internal")),s1e(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),Kc(b6,w6,t),Kc(b6,w6,"esm2020")})();const E7="firebasestorage.googleapis.com",T7="storageBucket",swe=120*1e3,owe=600*1e3;class wn extends zf{constructor(t,r,n=0){super(IE(t),`Firebase Storage: ${r} (${IE(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return IE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _n;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_n||(_n={}));function IE(e){return"storage/"+e}function vN(){const e="An unknown error occurred, please check the error payload for server response.";return new wn(_n.UNKNOWN,e)}function lwe(e){return new wn(_n.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function cwe(e){return new wn(_n.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uwe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wn(_n.UNAUTHENTICATED,e)}function fwe(){return new wn(_n.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dwe(e){return new wn(_n.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function hwe(){return new wn(_n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pwe(){return new wn(_n.CANCELED,"User canceled the upload/download.")}function mwe(e){return new wn(_n.INVALID_URL,"Invalid URL '"+e+"'.")}function gwe(e){return new wn(_n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function vwe(){return new wn(_n.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T7+"' property when initializing the app?")}function ywe(){return new wn(_n.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xwe(){return new wn(_n.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _we(e){return new wn(_n.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function IS(e){return new wn(_n.INVALID_ARGUMENT,e)}function A7(){return new wn(_n.APP_DELETED,"The Firebase app was deleted.")}function bwe(e){return new wn(_n.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vp(e,t){return new wn(_n.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function W0(e){throw new wn(_n.INTERNAL_ERROR,"Internal error: "+e)}class ls{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=ls.makeFromUrl(t,r)}catch{return new ls(t,"")}if(n.path==="")return n;throw gwe(t)}static makeFromUrl(t,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(D){D.path_=decodeURIComponent(D.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp(`^https?://${h}/${d}/b/${i}/o${g}`,"i"),_={bucket:1,path:3},w=r===E7?"(?:storage.googleapis.com|storage.cloud.google.com)":r,T="([^?#]*)",C=new RegExp(`^https?://${w}/${i}/${T}`,"i"),P=[{regex:o,indices:c,postModify:a},{regex:x,indices:_,postModify:u},{regex:C,indices:{bucket:1,path:2},postModify:u}];for(let D=0;D<P.length;D++){const F=P[D],R=F.regex.exec(t);if(R){const I=R[F.indices.bucket];let k=R[F.indices.path];k||(k=""),n=new ls(I,k),F.postModify(n);break}}if(n==null)throw mwe(t);return n}}class wwe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Ewe(e,t,r){let n=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...T){u||(u=!0,t.apply(null,T))}function h(T){i=setTimeout(()=>{i=null,e(x,c())},T)}function g(){a&&clearTimeout(a)}function x(T,...C){if(u){g();return}if(T){g(),d.call(null,T,...C);return}if(c()||s){g(),d.call(null,T,...C);return}n<64&&(n*=2);let P;o===1?(o=2,P=0):P=(n+Math.random())*1e3,h(P)}let _=!1;function w(T){_||(_=!0,g(),!u&&(i!==null?(T||(o=2),clearTimeout(i),h(0)):T||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,w(!0)},r),w}function Twe(e){e(!1)}function Awe(e){return e!==void 0}function Swe(e){return typeof e=="object"&&!Array.isArray(e)}function yN(e){return typeof e=="string"||e instanceof String}function S6(e){return xN()&&e instanceof Blob}function xN(){return typeof Blob<"u"}function C6(e,t,r,n){if(n<t)throw IS(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw IS(`Invalid value for '${e}'. Expected ${r} or less.`)}function _N(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function S7(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const i=t(n)+"="+t(e[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var cf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(cf||(cf={}));function Cwe(e,t){const r=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return r||i||a}class Nwe{constructor(t,r,n,i,a,s,o,c,u,d,h,g=!0,x=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=g,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,w)=>{this.resolve_=_,this.reject_=w,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new ey(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===cf.NO_ERROR,c=a.getStatus();if(!o||Cwe(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===cf.ABORT;n(!1,new ey(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new ey(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());Awe(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=vN();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?A7():pwe();s(c)}else{const c=hwe();s(c)}};this.canceled_?r(!1,new ey(!1,null,!0)):this.backoffId_=Ewe(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Twe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ey{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function Iwe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function kwe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Pwe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Rwe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Owe(e,t,r,n,i,a,s=!0,o=!1){const c=S7(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return Pwe(d,t),Iwe(d,r),kwe(d,a),Rwe(d,n),new Nwe(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}function Mwe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Dwe(...e){const t=Mwe();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(xN())return new Blob(e);throw new wn(_n.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Fwe(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}function Lwe(e){if(typeof atob>"u")throw _we("base-64");return atob(e)}const Uo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kE{constructor(t,r){this.data=t,this.contentType=r||null}}function jwe(e,t){switch(e){case Uo.RAW:return new kE(C7(t));case Uo.BASE64:case Uo.BASE64URL:return new kE(N7(e,t));case Uo.DATA_URL:return new kE(Bwe(t),Vwe(t))}throw vN()}function C7(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const a=n,s=e.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function Uwe(e){let t;try{t=decodeURIComponent(e)}catch{throw Vp(Uo.DATA_URL,"Malformed data URL.")}return C7(t)}function N7(e,t){switch(e){case Uo.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw Vp(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Uo.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw Vp(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Lwe(t)}catch(i){throw i.message.includes("polyfill")?i:Vp(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class I7{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Vp(Uo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=zwe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function Bwe(e){const t=new I7(e);return t.base64?N7(Uo.BASE64,t.rest):Uwe(t.rest)}function Vwe(e){return new I7(e).contentType}function zwe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Dc{constructor(t,r){let n=0,i="";S6(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,r){if(S6(this.data_)){const n=this.data_,i=Fwe(n,t,r);return i===null?null:new Dc(i)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Dc(n,!0)}}static getBlob(...t){if(xN()){const r=t.map(n=>n instanceof Dc?n.data_:n);return new Dc(Dwe.apply(null,r))}else{const r=t.map(s=>yN(s)?jwe(Uo.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Dc(i,!0)}}uploadData(){return this.data_}}function k7(e){let t;try{t=JSON.parse(e)}catch{return null}return Swe(t)?t:null}function $we(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Hwe(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function P7(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function Gwe(e,t){return t}class aa{constructor(t,r,n,i){this.server=t,this.local=r||t,this.writable=!!n,this.xform=i||Gwe}}let ty=null;function qwe(e){return!yN(e)||e.length<2?e:P7(e)}function R7(){if(ty)return ty;const e=[];e.push(new aa("bucket")),e.push(new aa("generation")),e.push(new aa("metageneration")),e.push(new aa("name","fullPath",!0));function t(a,s){return qwe(s)}const r=new aa("name");r.xform=t,e.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new aa("size");return i.xform=n,e.push(i),e.push(new aa("timeCreated")),e.push(new aa("updated")),e.push(new aa("md5Hash",null,!0)),e.push(new aa("cacheControl",null,!0)),e.push(new aa("contentDisposition",null,!0)),e.push(new aa("contentEncoding",null,!0)),e.push(new aa("contentLanguage",null,!0)),e.push(new aa("contentType",null,!0)),e.push(new aa("metadata","customMetadata",!0)),ty=e,ty}function Kwe(e,t){function r(){const n=e.bucket,i=e.fullPath,a=new ls(n,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:r})}function Wwe(e,t,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,t[s.server])}return Kwe(n,e),n}function O7(e,t,r){const n=k7(t);return n===null?null:Wwe(e,n,r)}function Ywe(e,t,r,n){const i=k7(t);if(i===null||!yN(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=e.bucket,h=e.fullPath,g="/b/"+s(d)+"/o/"+s(h),x=_N(g,r,n),_=S7({alt:"media",token:u});return x+_})[0]}function Jwe(e,t){const r={},n=t.length;for(let i=0;i<n;i++){const a=t[i];a.writable&&(r[a.server]=e[a.local])}return JSON.stringify(r)}class M7{constructor(t,r,n,i){this.url=t,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function D7(e){if(!e)throw vN()}function Xwe(e,t){function r(n,i){const a=O7(e,i,t);return D7(a!==null),a}return r}function Zwe(e,t){function r(n,i){const a=O7(e,i,t);return D7(a!==null),Ywe(a,i,e.host,e._protocol)}return r}function F7(e){function t(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=fwe():i=uwe():r.getStatus()===402?i=cwe(e.bucket):r.getStatus()===403?i=dwe(e.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return t}function Qwe(e){const t=F7(e);function r(n,i){let a=t(n,i);return n.getStatus()===404&&(a=lwe(e.path)),a.serverResponse=i.serverResponse,a}return r}function eEe(e,t,r){const n=t.fullServerUrl(),i=_N(n,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new M7(i,a,Zwe(e,r),s);return o.errorHandler=Qwe(t),o}function tEe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function rEe(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=tEe(null,t)),n}function nEe(e,t,r,n,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let P="";for(let D=0;D<2;D++)P=P+Math.random().toString().slice(2);return P}const c=o();s["Content-Type"]="multipart/related; boundary="+c;const u=rEe(t,n,i),d=Jwe(u,r),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+c+"--",x=Dc.getBlob(h,n,g);if(x===null)throw ywe();const _={name:u.fullPath},w=_N(a,e.host,e._protocol),T="POST",C=e.maxUploadRetryTime,L=new M7(w,T,Xwe(e,r),C);return L.urlParams=_,L.headers=s,L.body=x.uploadData(),L.errorHandler=F7(t),L}class iEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,i,a){if(this.sent_)throw W0("cannot .send() more than once");if(Vm(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw W0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw W0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw W0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw W0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class aEe extends iEe{initXhr(){this.xhr_.responseType="text"}}function L7(){return new aEe}class Ef{constructor(t,r){this._service=t,r instanceof ls?this._location=r:this._location=ls.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Ef(t,r)}get root(){const t=new ls(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P7(this._location.path)}get storage(){return this._service}get parent(){const t=$we(this._location.path);if(t===null)return null;const r=new ls(this._location.bucket,t);return new Ef(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw bwe(t)}}function sEe(e,t,r){e._throwIfRoot("uploadBytes");const n=nEe(e.storage,e._location,R7(),new Dc(t,!0),r);return e.storage.makeRequestWithTokens(n,L7).then(i=>({metadata:i,ref:e}))}function oEe(e){e._throwIfRoot("getDownloadURL");const t=eEe(e.storage,e._location,R7());return e.storage.makeRequestWithTokens(t,L7).then(r=>{if(r===null)throw xwe();return r})}function lEe(e,t){const r=Hwe(e._location.path,t),n=new ls(e._location.bucket,r);return new Ef(e.storage,n)}function cEe(e){return/^[A-Za-z]+:\/\//.test(e)}function uEe(e,t){return new Ef(e,t)}function j7(e,t){if(e instanceof bN){const r=e;if(r._bucket==null)throw vwe();const n=new Ef(r,r._bucket);return t!=null?j7(n,t):n}else return t!==void 0?lEe(e,t):e}function fEe(e,t){if(t&&cEe(t)){if(e instanceof bN)return uEe(e,t);throw IS("To use ref(service, url), the first argument must be a Storage instance.")}else return j7(e,t)}function N6(e,t){const r=t?.[T7];return r==null?null:ls.makeFromBucketSpec(r,e)}function dEe(e,t,r,n={}){e.host=`${t}:${r}`;const i=Vm(t);i&&(NV(`https://${e.host}/b`),vye("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(e._overrideAuthToken=typeof a=="string"?a:pye(a,e.app.options.projectId))}class bN{constructor(t,r,n,i,a,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=E7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=swe,this._maxUploadRetryTime=owe,this._requests=new Set,i!=null?this._bucket=ls.makeFromBucketSpec(i,this._host):this._bucket=N6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ls.makeFromBucketSpec(this._url,t):this._bucket=N6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){C6("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){C6("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(MV(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ef(this,t)}_makeRequest(t,r,n,i,a=!0){if(this._deleted)return new wwe(A7());{const s=Owe(t,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,i).getPromise()}}const I6="@firebase/storage",k6="0.14.0";const U7="storage";function hEe(e,t,r){return e=ja(e),sEe(e,t,r)}function pEe(e){return e=ja(e),oEe(e)}function mEe(e,t){return e=ja(e),fEe(e,t)}function gEe(e=LV(),t){e=ja(e);const n=OV(e,U7).getImmediate({identifier:t}),i=dye("storage");return i&&vEe(n,...i),n}function vEe(e,t,r,n={}){dEe(e,t,r,n)}function yEe(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new bN(r,n,i,t,DV)}function xEe(){cm(new mh(U7,yEe,"PUBLIC").setMultipleInstances(!0)),Kc(I6,k6,""),Kc(I6,k6,"esm2020")}xEe();const B7=()=>{const e=localStorage.getItem("firebase_config");if(e)return JSON.parse(e);const t={apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"};return console.log("[FIREBASE] Environment Config Check:"),console.log("- API Key:",t.apiKey?`FOUND (${t.apiKey.substring(0,5)}...)`:"MISSING "),console.log("- Project ID:",t.projectId?`FOUND (${t.projectId})`:"MISSING "),t},_Ee=e=>{localStorage.setItem("firebase_config",JSON.stringify(e))},bEe=()=>{localStorage.removeItem("firebase_config")};let ry,po,My;const wN=async e=>{try{const t=e||B7();return t?(Txe().length>0?ry=LV():ry=FV(t),po=Bbe(ry,{}),My=gEe(ry),!0):!1}catch(t){return console.error("Error initializing Firebase:",t),!1}},wEe=async e=>{if(!po){console.error(" Firebase not initialized. Cannot send message.");return}try{const t=c7(po,"chats");await iwe(t,Fc(e)),console.log(" Message sent to cloud")}catch(t){console.error("Error sending message:",t)}},EEe=e=>{if(!po)return()=>{};const t=c7(po,"chats"),r=Zbe(t,Qbe("timestamp","asc"));return awe(r,n=>{const i=[];n.forEach(a=>{i.push({id:a.id,...a.data()})}),e(i)})},TEe=async e=>{if(po)try{const t=l_(po,"chats",e);await nwe(t,{read:!0})}catch(t){console.error("Error marking message as read:",t)}},Fc=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(Fc);if(typeof e!="object")return e;const t={};for(const r in e){const n=e[r];n===void 0?t[r]=null:n!==null&&typeof n=="object"?t[r]=Fc(n):t[r]=n}return t},kS=async(e,t,r,n,i=[])=>{if(po)try{const a={clients:Fc(e),products:Fc(t),categories:Fc(r),users:Fc(n),uploadedFiles:Fc(i),lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await rwe(l_(po,"rota-vendas","master-data"),a),console.log(" Data saved to cloud successfully")}catch(a){throw console.error("Error saving to cloud:",a),a}},AEe=async()=>{if(!po)return null;try{const e=l_(po,"rota-vendas","master-data"),t=await twe(e);return t.exists()?t.data():null}catch(e){return console.error("Error loading from cloud:",e),null}},PE=async(e,t)=>{if(!My&&(!await wN()||!My))return null;try{const r=mEe(My,t),n=await hEe(r,e),i=await pEe(n.ref);return console.log(` File uploaded to ${t}:`,i),i}catch(r){return console.error("Error uploading file to storage:",r),null}};var Eh=Z8(),RE,P6;function SEe(){return P6||(P6=1,RE=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}),RE}var CEe=SEe();const PS=Us(CEe);function NEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function IEe(e){var t=NEe(e,"string");return typeof t=="symbol"?t:String(t)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(this,arguments)}function Tf(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const Tl={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},kEe="https://maps.googleapis.com/maps/api/js";class ym{static async load(t,r){var n;const i=t.libraries?t.libraries.split(","):[],a=this.serializeParams(t);this.listeners.push(r),(n=window.google)!=null&&(n=n.maps)!=null&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=Tl.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=a,this.initImportLibrary(t)),this.serializedApiParams&&this.serializedApiParams!==a&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const s=["maps",...i];await Promise.all(s.map(o=>google.maps.importLibrary(o)))}static serializeParams(t){return[t.v,t.key,t.language,t.region,t.authReferrerPolicy,t.solutionChannel].join("/")}static initImportLibrary(t){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let r=null;const n=()=>r||(r=new Promise((i,a)=>{var s;const o=document.createElement("script"),c=new URLSearchParams;for(const[u,d]of Object.entries(t)){const h=u.replace(/[A-Z]/g,g=>"_"+g[0].toLowerCase());c.set(h,d)}c.set("loading","async"),c.set("callback","__googleMapsCallback__"),o.async=!0,o.src=kEe+"?"+c.toString(),o.nonce=((s=document.querySelector("script[nonce]"))==null?void 0:s.nonce)||"",o.onerror=()=>{this.loadingStatus=Tl.FAILED,this.notifyLoadingStatusListeners(),a(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=Tl.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=Tl.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=Tl.LOADING,this.notifyLoadingStatusListeners(),document.head.append(o)}),r);google.maps.importLibrary=i=>n().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const t of this.listeners)t(this.loadingStatus)}}ym.loadingStatus=Tl.NOT_LOADED;ym.serializedApiParams=void 0;ym.listeners=[];const PEe=["onLoad","apiKey","version","libraries"],REe=["children"],OEe="GMP_visgl_rgmlibrary_v1_default",Wm=kr.createContext(null);function MEe(){const[e,t]=M.useState({});return{mapInstances:e,addMapInstance:(a,s="default")=>{t(o=>Rl({},o,{[s]:a}))},removeMapInstance:(a="default")=>{t(s=>Tf(s,[a].map(IEe)))},clearMapInstances:()=>{t({})}}}function DEe(e){const{onLoad:t,apiKey:r,version:n,libraries:i=[]}=e,a=Tf(e,PEe),[s,o]=M.useState(ym.loadingStatus),[c,u]=M.useReducer((x,_)=>Rl({},x,{[_.name]:_.value}),{}),d=M.useMemo(()=>i?.join(","),[i]),h=M.useMemo(()=>JSON.stringify(Rl({apiKey:r,version:n},a)),[r,n,a]),g=M.useCallback(async x=>{var _;if(c[x])return c[x];if(!((_=google)!=null&&(_=_.maps)!=null&&_.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const w=await window.google.maps.importLibrary(x);return u({name:x,value:w}),w},[c]);return M.useEffect(()=>{(async()=>{try{const x=Rl({key:r},a);n&&(x.v=n),d?.length>0&&(x.libraries=d),x.solutionChannel===void 0?x.solutionChannel=OEe:x.solutionChannel===""&&delete x.solutionChannel,await ym.load(x,_=>o(_));for(const _ of["core","maps",...i])await g(_);t&&t()}catch(x){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",x)}})()},[r,d,h]),{status:s,loadedLibraries:c,importLibrary:g}}const FEe=e=>{const{children:t}=e,r=Tf(e,REe),{mapInstances:n,addMapInstance:i,removeMapInstance:a,clearMapInstances:s}=MEe(),{status:o,loadedLibraries:c,importLibrary:u}=DEe(r),d=M.useMemo(()=>({mapInstances:n,addMapInstance:i,removeMapInstance:a,clearMapInstances:s,status:o,loadedLibraries:c,importLibrary:u}),[n,i,a,s,o,c,u]);return kr.createElement(Wm.Provider,{value:d},t)};function LEe(e,t){for(const r of VEe){const n=t[r],i=V7[r];M.useEffect(()=>{if(!e||!n)return;const a=google.maps.event.addListener(e,i,s=>{n(jEe(i,e,s))});return()=>a.remove()},[e,i,n])}}function jEe(e,t,r){const n={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(UEe.includes(e)){const a=n,s=t.getCenter(),o=t.getZoom(),c=t.getHeading()||0,u=t.getTilt()||0,d=t.getBounds();return(!s||!d||!Number.isFinite(o))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),a.detail={center:s?.toJSON()||{lat:0,lng:0},zoom:o||0,heading:c,tilt:u,bounds:d?.toJSON()||{north:90,east:180,south:-90,west:-180}},a}else if(BEe.includes(e)){var i;if(!r)throw new Error("[createEvent] mouse events must provide a srcEvent");const a=n;return a.domEvent=r.domEvent,a.stoppable=!0,a.stop=()=>r.stop(),a.detail={latLng:((i=r.latLng)==null?void 0:i.toJSON())||null,placeId:r.placeId},a}return n}const V7={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},UEe=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],BEe=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],VEe=Object.keys(V7);function z7(e,t){const r=M.useRef(void 0);(!r.current||!PS(t,r.current))&&(r.current=t),M.useEffect(e,r.current)}const zEe=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function $Ee(e,t){const r={},n=Object.keys(t);for(const i of n)zEe.has(i)&&(r[i]=t[i]);z7(()=>{e&&e.setOptions(r)},[r])}function $7(){var e;return((e=M.useContext(Wm))==null?void 0:e.status)||Tl.NOT_LOADED}function HEe(e,t){const{viewport:r,viewState:n}=t,i=!!r;return M.useLayoutEffect(()=>{if(!e||!n)return;const{latitude:a,longitude:s,bearing:o,pitch:c,zoom:u}=n;e.moveCamera({center:{lat:a,lng:s},heading:o,tilt:c,zoom:u+1})},[e,n]),i}function GEe(e){return!e||typeof e!="object"||!("lat"in e&&"lng"in e)?!1:Number.isFinite(e.lat)&&Number.isFinite(e.lng)}function H7(e){return GEe(e)?e:e.toJSON()}function qEe(e,t,r){const n=r.center?H7(r.center):null;let i=null,a=null;n&&Number.isFinite(n.lat)&&Number.isFinite(n.lng)&&(i=n.lat,a=n.lng);const s=Number.isFinite(r.zoom)?r.zoom:null,o=Number.isFinite(r.heading)?r.heading:null,c=Number.isFinite(r.tilt)?r.tilt:null;M.useLayoutEffect(()=>{if(!e)return;const u={};let d=!1;i!==null&&a!==null&&(t.current.center.lat!==i||t.current.center.lng!==a)&&(u.center={lat:i,lng:a},d=!0),s!==null&&t.current.zoom!==s&&(u.zoom=s,d=!0),o!==null&&t.current.heading!==o&&(u.heading=o,d=!0),c!==null&&t.current.tilt!==c&&(u.tilt=c,d=!0),d&&e.moveCamera(u)})}const KEe=()=>{const e={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return kr.createElement("div",{style:e},kr.createElement("h2",null,"Error: AuthFailure"),kr.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",kr.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function WEe(){const[e,t]=M.useState(null),r=M.useCallback(n=>t(n),[t]);return[e,r]}function G7(){return $7()===Tl.LOADED}function YEe(){const[,e]=M.useReducer(t=>t+1,0);return e}function JEe(e,t){const r=e.getCenter(),n=e.getZoom(),i=e.getHeading()||0,a=e.getTilt()||0,s=e.getBounds();(!r||!s||!Number.isFinite(n))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:r?.toJSON()||{lat:0,lng:0},zoom:n||0,heading:i,tilt:a})}function XEe(e){const t=YEe(),r=M.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return M.useEffect(()=>{if(!e)return;const n=google.maps.event.addListener(e,"bounds_changed",()=>{JEe(e,r),t()});return()=>n.remove()},[e,t]),r}const ZEe=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],QEe=["padding"];class Dy{static has(t){return this.entries[t]&&this.entries[t].length>0}static pop(t){return this.entries[t]&&this.entries[t].pop()||null}static push(t,r){this.entries[t]||(this.entries[t]=[]),this.entries[t].push(r)}}Dy.entries={};function eTe(e,t){const r=G7(),[n,i]=M.useState(null),[a,s]=WEe(),o=XEe(n),{id:c,defaultBounds:u,defaultCenter:d,defaultZoom:h,defaultHeading:g,defaultTilt:x,reuseMaps:_}=e,w=Tf(e,ZEe),T=e.zoom!==void 0||e.defaultZoom!==void 0,C=e.center!==void 0||e.defaultCenter!==void 0;!u&&(!T||!C)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!w.center&&d&&(w.center=d),!w.zoom&&Number.isFinite(h)&&(w.zoom=h),!w.heading&&Number.isFinite(g)&&(w.heading=g),!w.tilt&&Number.isFinite(x)&&(w.tilt=x);for(const P of Object.keys(w))w[P]===void 0&&delete w[P];const L=M.useRef();return M.useEffect(()=>{if(!a||!r)return;const{addMapInstance:P,removeMapInstance:D}=t,F=e.mapId,R=F||"default";let I,k;if(_&&Dy.has(R)?(k=Dy.pop(R),I=k.getDiv(),a.appendChild(I),k.setOptions(w),setTimeout(()=>k.setCenter(k.getCenter()),0)):(I=document.createElement("div"),I.style.height="100%",a.appendChild(I),k=new google.maps.Map(I,w)),i(k),P(k,c),u){const{padding:O}=u,B=Tf(u,QEe);k.fitBounds(B,O)}else(!T||!C)&&k.fitBounds({east:180,west:-180,south:-90,north:90});if(L.current){const{mapId:O,cameraState:B}=L.current;O!==F&&k.setOptions(B)}return()=>{L.current={mapId:F,cameraState:o.current},I.remove(),_?Dy.push(R,k):google.maps.event.clearInstanceListeners(k),i(null),D(c)}},[a,r,c,e.mapId]),[n,s,o]}const q7=kr.createContext(null),K7=e=>{const{children:t,id:r,className:n,style:i}=e,a=M.useContext(Wm),s=$7();if(!a)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[o,c,u]=eTe(e,a);qEe(o,u,e),LEe(o,e),$Ee(o,e);const d=HEe(o,e),h=!!e.controlled;M.useEffect(()=>{if(o)return d&&o.setOptions({disableDefaultUI:!0}),(d||h)&&o.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{o.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}},[o,d,h,e.gestureHandling,e.keyboardShortcuts]);const g=e.center?H7(e.center):null;let x=null,_=null;g&&Number.isFinite(g.lat)&&Number.isFinite(g.lng)&&(x=g.lat,_=g.lng);const w=M.useMemo(()=>{var L,P,D,F,R;return{center:{lat:(L=x)!=null?L:0,lng:(P=_)!=null?P:0},zoom:(D=e.zoom)!=null?D:0,heading:(F=e.heading)!=null?F:0,tilt:(R=e.tilt)!=null?R:0}},[x,_,e.zoom,e.heading,e.tilt]);M.useLayoutEffect(()=>{if(!o||!h)return;o.moveCamera(w);const L=o.addListener("bounds_changed",()=>{o.moveCamera(w)});return()=>L.remove()},[o,h,w]);const T=M.useMemo(()=>Rl({width:"100%",height:"100%",position:"relative",zIndex:d?-1:0},i),[i,d]),C=M.useMemo(()=>({map:o}),[o]);return s===Tl.AUTH_FAILURE?kr.createElement("div",{style:Rl({position:"relative"},n?{}:T),className:n},kr.createElement(KEe,null)):kr.createElement("div",Rl({ref:c,"data-testid":"map",style:n?void 0:T,className:n},r?{id:r}:{}),o?kr.createElement(q7.Provider,{value:C},t):null)};K7.deckGLViewProps=!0;const R6=new Set;function tTe(...e){const t=JSON.stringify(e);R6.has(t)||(R6.add(t),console.error(...e))}const Hh=(e=null)=>{const t=M.useContext(Wm),{map:r}=M.useContext(q7)||{};if(t===null)return tTe("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:n}=t;return e!==null?n[e]||null:r||n.default||null};function W7(e){const t=G7(),r=M.useContext(Wm);return M.useEffect(()=>{!t||!r||r.importLibrary(e)},[t,r,e]),r?.loadedLibraries[e]||null}function Y7(e,t,r){if(t!=null&&typeof t!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const n=e.style;if(r==null){if(t==null)return;for(const i in t)t.hasOwnProperty(i)&&O6(n,i,t[i]);return}for(const i in r)r.hasOwnProperty(i)&&(t==null||!t.hasOwnProperty(i))&&(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");if(t!=null)for(const i in t){const a=t[i];t.hasOwnProperty(i)&&r[i]!==a&&O6(n,i,a)}}function O6(e,t,r){const n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r=="number"&&r!==0&&!nTe(t)?e[t]=r+"px":t==="float"?e.cssFloat=r:e[t]=(""+r).trim()}const rTe=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function nTe(e){return rTe.has(e)}function Kd(e,t,r){M.useEffect(()=>{if(!e||!t||!r)return;const n=google.maps.event.addListener(e,t,r);return()=>n.remove()},[e,t,r])}function Y0(e,t,r){M.useEffect(()=>{e&&(e[t]=r)},[e,t,r])}const iTe=kr.createContext(null);function aTe(e){const[t,r]=M.useState(null),[n,i]=M.useState(null),a=M.useRef(null),s=Hh(),o=W7("marker"),{children:c,className:u,style:d,onClick:h,onDrag:g,onDragStart:x,onDragEnd:_,collisionBehavior:w,clickable:T,draggable:C,position:L,title:P,zIndex:D}=e,F=M.Children.count(c);return M.useEffect(()=>{if(!s||!o)return;const R=new o.AdvancedMarkerElement;R.map=s,r(R);let I=null;return F>0&&(I=document.createElement("div"),R.content=I,i(I)),()=>{var k;R.map=null,(k=I)==null||k.remove(),r(null),i(null)}},[s,o,F]),M.useEffect(()=>{!t||!t.content||(t.content.className=u||"")},[t,u]),Y0(n,"className",u??""),M.useEffect(()=>{n&&(Y7(n,d||null,a.current),a.current=d||null)},[n,u,d]),Y0(t,"position",L),Y0(t,"title",P??""),Y0(t,"zIndex",D),Y0(t,"collisionBehavior",w),M.useEffect(()=>{t&&(C!==void 0?t.gmpDraggable=C:g||x||_?t.gmpDraggable=!0:t.gmpDraggable=!1)},[t,C,g,_,x]),M.useEffect(()=>{t&&(T!==void 0?t.gmpClickable=T:h?t.gmpClickable=!0:t.gmpClickable=!1)},[t,T,h]),Kd(t,"click",h),Kd(t,"drag",g),Kd(t,"dragstart",x),Kd(t,"dragend",_),[t,n]}M.forwardRef((e,t)=>{const{children:r}=e,[n,i]=aTe(e),a=M.useMemo(()=>n?{marker:n}:null,[n]);return M.useImperativeHandle(t,()=>n,[n]),i?kr.createElement(iTe.Provider,{value:a},Eh.createPortal(r,i)):null});const sTe=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],oTe=e=>{const{children:t,headerContent:r,style:n,className:i,pixelOffset:a,anchor:s,shouldFocus:o,onClose:c,onCloseClick:u}=e,d=Tf(e,sTe),h=W7("maps"),[g,x]=M.useState(null),_=M.useRef(null),w=M.useRef(null);M.useEffect(()=>{if(!h)return;_.current=document.createElement("div"),w.current=document.createElement("div");const L=d;a&&(L.pixelOffset=new google.maps.Size(a[0],a[1])),r&&(L.headerContent=typeof r=="string"?r:w.current);const P=new google.maps.InfoWindow(d);return P.setContent(_.current),x(P),()=>{var D,F;P.setContent(null),(D=_.current)==null||D.remove(),(F=w.current)==null||F.remove(),_.current=null,w.current=null,x(null)}},[h]);const T=M.useRef(null);M.useEffect(()=>{!g||!_.current||(Y7(_.current,n||null,T.current),T.current=n||null,i!==_.current.className&&(_.current.className=i||""))},[g,i,n]),z7(()=>{if(!g)return;const L=d;a?L.pixelOffset=new google.maps.Size(a[0],a[1]):L.pixelOffset=null,r?L.headerContent=typeof r=="string"?r:w.current:L.headerContent=null,g.setOptions(d)},[d,a,r]),Kd(g,"close",c),Kd(g,"closeclick",u);const C=Hh();return M.useEffect(()=>{if(!C||!g||s===null)return;const L=!!s,P={map:C};return s&&(P.anchor=s),o!==void 0&&(P.shouldFocus=o),g.open(P),()=>{L&&g.set("anchor",null),g.close()}},[g,s,C,o]),kr.createElement(kr.Fragment,null,_.current&&Eh.createPortal(t,_.current),w.current!==null&&Eh.createPortal(r,w.current))},lTe=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function cTe(e){const[t,r]=M.useState(null),n=Hh(),{onClick:i,onDrag:a,onDragStart:s,onDragEnd:o,onMouseOver:c,onMouseOut:u}=e,d=Tf(e,lTe),{position:h,draggable:g}=d;return M.useEffect(()=>{if(!n){n===void 0&&console.error("<Marker> has to be inside a Map component.");return}const x=new google.maps.Marker(d);return x.setMap(n),r(x),()=>{x.setMap(null),r(null)}},[n]),M.useEffect(()=>{if(!t)return;const x=t,_=google.maps.event;return i&&_.addListener(x,"click",i),a&&_.addListener(x,"drag",a),s&&_.addListener(x,"dragstart",s),o&&_.addListener(x,"dragend",o),c&&_.addListener(x,"mouseover",c),u&&_.addListener(x,"mouseout",u),t.setDraggable(!!g),()=>{_.clearInstanceListeners(x)}},[t,g,i,a,s,o,c,u]),M.useEffect(()=>{t&&d&&t.setOptions(d)},[t,d]),M.useEffect(()=>{g||!h||!t||t.setPosition(h)},[g,h,t]),t}M.forwardRef((e,t)=>{const r=cTe(e);return M.useImperativeHandle(t,()=>r,[r]),kr.createElement(kr.Fragment,null)});const M6=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],OE=1,J0=8;class EN{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==OE)throw new Error(`Got v${i} data when expected v${OE}.`);const a=M6[n&15];if(!a)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(t,2,1),[o]=new Uint32Array(t,4,1);return new EN(o,s,a,t)}constructor(t,r=64,n=Float64Array,i){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const a=M6.indexOf(this.ArrayType),s=t*2*this.ArrayType.BYTES_PER_ELEMENT,o=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-o%8)%8;if(a<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,J0,t),this.coords=new this.ArrayType(this.data,J0+o+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(J0+s+o+c),this.ids=new this.IndexArrayType(this.data,J0,t),this.coords=new this.ArrayType(this.data,J0+o+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(OE<<4)+a]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return RS(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:a,coords:s,nodeSize:o}=this,c=[0,a.length-1,0],u=[];for(;c.length;){const d=c.pop()||0,h=c.pop()||0,g=c.pop()||0;if(h-g<=o){for(let T=g;T<=h;T++){const C=s[2*T],L=s[2*T+1];C>=t&&C<=n&&L>=r&&L<=i&&u.push(a[T])}continue}const x=g+h>>1,_=s[2*x],w=s[2*x+1];_>=t&&_<=n&&w>=r&&w<=i&&u.push(a[x]),(d===0?t<=_:r<=w)&&(c.push(g),c.push(x-1),c.push(1-d)),(d===0?n>=_:i>=w)&&(c.push(x+1),c.push(h),c.push(1-d))}return u}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:s}=this,o=[0,i.length-1,0],c=[],u=n*n;for(;o.length;){const d=o.pop()||0,h=o.pop()||0,g=o.pop()||0;if(h-g<=s){for(let T=g;T<=h;T++)D6(a[2*T],a[2*T+1],t,r)<=u&&c.push(i[T]);continue}const x=g+h>>1,_=a[2*x],w=a[2*x+1];D6(_,w,t,r)<=u&&c.push(i[x]),(d===0?t-n<=_:r-n<=w)&&(o.push(g),o.push(x-1),o.push(1-d)),(d===0?t+n>=_:r+n>=w)&&(o.push(x+1),o.push(h),o.push(1-d))}return c}}function RS(e,t,r,n,i,a){if(i-n<=r)return;const s=n+i>>1;J7(e,t,s,n,i,a),RS(e,t,r,n,s-1,1-a),RS(e,t,r,s+1,i,1-a)}function J7(e,t,r,n,i,a){for(;i>n;){if(i-n>600){const u=i-n+1,d=r-n+1,h=Math.log(u),g=.5*Math.exp(2*h/3),x=.5*Math.sqrt(h*g*(u-g)/u)*(d-u/2<0?-1:1),_=Math.max(n,Math.floor(r-d*g/u+x)),w=Math.min(i,Math.floor(r+(u-d)*g/u+x));J7(e,t,r,_,w,a)}const s=t[2*r+a];let o=n,c=i;for(X0(e,t,n,r),t[2*i+a]>s&&X0(e,t,n,i);o<c;){for(X0(e,t,o,c),o++,c--;t[2*o+a]<s;)o++;for(;t[2*c+a]>s;)c--}t[2*n+a]===s?X0(e,t,n,c):(c++,X0(e,t,c,i)),c<=r&&(n=c+1),r<=c&&(i=c-1)}}function X0(e,t,r,n){ME(e,r,n),ME(t,2*r,2*n),ME(t,2*r+1,2*n+1)}function ME(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function D6(e,t,r,n){const i=e-r,a=t-n;return i*i+a*a}const uTe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},F6=Math.fround||(e=>(t=>(e[0]=+t,e[0])))(new Float32Array(1)),Hu=2,Pc=3,DE=4,kc=5,X7=6;class fTe{constructor(t){this.options=Object.assign(Object.create(uTe),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const a=`prepare ${t.length} points`;r&&console.time(a),this.points=t;const s=[];for(let c=0;c<t.length;c++){const u=t[c];if(!u.geometry)continue;const[d,h]=u.geometry.coordinates,g=F6(ny(d)),x=F6(iy(h));s.push(g,x,1/0,c,-1,1),this.options.reduce&&s.push(0)}let o=this.trees[i+1]=this._createTree(s);r&&console.timeEnd(a);for(let c=i;c>=n;c--){const u=+Date.now();o=this.trees[c]=this._createTree(this._cluster(o,c)),r&&console.log("z%d: %d clusters in %dms",c,o.numItems,+Date.now()-u)}return r&&console.timeEnd("total time"),this}getClusters(t,r){let n=((t[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[1]));let a=t[2]===180?180:((t[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,a=180;else if(n>a){const h=this.getClusters([n,i,180,s],r),g=this.getClusters([-180,i,a,s],r);return h.concat(g)}const o=this.trees[this._limitZoom(r)],c=o.range(ny(n),iy(s),ny(a),iy(i)),u=o.data,d=[];for(const h of c){const g=this.stride*h;d.push(u[g+kc]>1?L6(u,g,this.clusterProps):this.points[u[g+Pc]])}return d}getChildren(t){const r=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(i);const s=a.data;if(r*this.stride>=s.length)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=s[r*this.stride],u=s[r*this.stride+1],d=a.within(c,u,o),h=[];for(const g of d){const x=g*this.stride;s[x+DE]===t&&h.push(s[x+kc]>1?L6(s,x,this.clusterProps):this.points[s[x+Pc]])}if(h.length===0)throw new Error(i);return h}getLeaves(t,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,t,r,n,0),i}getTile(t,r,n){const i=this.trees[this._limitZoom(t)],a=Math.pow(2,t),{extent:s,radius:o}=this.options,c=o/s,u=(n-c)/a,d=(n+1+c)/a,h={features:[]};return this._addTileFeatures(i.range((r-c)/a,u,(r+1+c)/a,d),i.data,r,n,a,h),r===0&&this._addTileFeatures(i.range(1-c/a,u,1,d),i.data,a,n,a,h),r===a-1&&this._addTileFeatures(i.range(0,u,c/a,d),i.data,-1,n,a,h),h.features.length?h:null}getClusterExpansionZoom(t){let r=this._getOriginZoom(t)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,i,a){const s=this.getChildren(r);for(const o of s){const c=o.properties;if(c&&c.cluster?a+c.point_count<=i?a+=c.point_count:a=this._appendLeaves(t,c.cluster_id,n,i,a):a<i?a++:t.push(o),t.length===n)break}return a}_createTree(t){const r=new EN(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,i,a,s){for(const o of t){const c=o*this.stride,u=r[c+kc]>1;let d,h,g;if(u)d=Z7(r,c,this.clusterProps),h=r[c],g=r[c+1];else{const w=this.points[r[c+Pc]];d=w.properties;const[T,C]=w.geometry.coordinates;h=ny(T),g=iy(C)}const x={type:1,geometry:[[Math.round(this.options.extent*(h*a-n)),Math.round(this.options.extent*(g*a-i))]],tags:d};let _;u||this.options.generateId?_=r[c+Pc]:_=this.points[r[c+Pc]].id,_!==void 0&&(x.id=_),s.features.push(x)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){const{radius:n,extent:i,reduce:a,minPoints:s}=this.options,o=n/(i*Math.pow(2,r)),c=t.data,u=[],d=this.stride;for(let h=0;h<c.length;h+=d){if(c[h+Hu]<=r)continue;c[h+Hu]=r;const g=c[h],x=c[h+1],_=t.within(c[h],c[h+1],o),w=c[h+kc];let T=w;for(const C of _){const L=C*d;c[L+Hu]>r&&(T+=c[L+kc])}if(T>w&&T>=s){let C=g*w,L=x*w,P,D=-1;const F=((h/d|0)<<5)+(r+1)+this.points.length;for(const R of _){const I=R*d;if(c[I+Hu]<=r)continue;c[I+Hu]=r;const k=c[I+kc];C+=c[I]*k,L+=c[I+1]*k,c[I+DE]=F,a&&(P||(P=this._map(c,h,!0),D=this.clusterProps.length,this.clusterProps.push(P)),a(P,this._map(c,I)))}c[h+DE]=F,u.push(C/T,L/T,1/0,F,-1,T),a&&u.push(D)}else{for(let C=0;C<d;C++)u.push(c[h+C]);if(T>1)for(const C of _){const L=C*d;if(!(c[L+Hu]<=r)){c[L+Hu]=r;for(let P=0;P<d;P++)u.push(c[L+P])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+kc]>1){const s=this.clusterProps[t[r+X7]];return n?Object.assign({},s):s}const i=this.points[t[r+Pc]].properties,a=this.options.map(i);return n&&a===i?Object.assign({},a):a}}function L6(e,t,r){return{type:"Feature",id:e[t+Pc],properties:Z7(e,t,r),geometry:{type:"Point",coordinates:[dTe(e[t]),hTe(e[t+1])]}}}function Z7(e,t,r){const n=e[t+kc],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,a=e[t+X7],s=a===-1?{}:Object.assign({},r[a]);return Object.assign(s,{cluster:!0,cluster_id:e[t+Pc],point_count:n,point_count_abbreviated:i})}function ny(e){return e/360+.5}function iy(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function dTe(e){return(e-.5)*360}function hTe(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function pTe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}class ns{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class OS{constructor({markers:t,position:r}){this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)t.extend(ns.getPosition(r));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>ns.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(ns.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class mTe{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return gTe(t)}}const gTe=e=>e.map(r=>new OS({position:ns.getPosition(r),markers:[r]}));class vTe extends mTe{constructor(t){var{maxZoom:r,radius:n=60}=t,i=pTe(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new fTe(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(t){let r=!1;const n={zoom:t.map.getZoom()};if(!PS(t.markers,this.markers)){r=!0,this.markers=[...t.markers];const i=this.markers.map(a=>{const s=ns.getPosition(a);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:a}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!PS(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[t,r]},properties:n}){if(n.cluster)return new OS({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:t}});const i=n.marker;return new OS({markers:[i],position:ns.getPosition(i)})}}class yTe{constructor(t,r){this.markers={sum:t.length};const n=r.map(a=>a.count),i=n.reduce((a,s)=>a+s,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class xTe{render({count:t,position:r},n,i){const s=`<svg fill="${t>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>
</svg>`,o=`Cluster of ${t} markers`,c=Number(google.maps.Marker.MAX_ZINDEX)+t;if(ns.isAdvancedMarkerAvailable(i)){const h=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");const g={map:i,position:r,zIndex:c,title:o,content:h};return new google.maps.marker.AdvancedMarkerElement(g)}const u={position:r,zIndex:c,title:o,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}function _Te(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}class TN{constructor(){_Te(TN,google.maps.OverlayView)}}var zp;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(zp||(zp={}));const bTe=(e,t,r)=>{r.fitBounds(t.bounds)};class wTe extends TN{constructor({map:t,markers:r=[],algorithmOptions:n={},algorithm:i=new vTe(n),renderer:a=new xTe,onClusterClick:s=bTe}){super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=s,t&&this.setMap(t)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(t,r){const n=this.markers.indexOf(t);return n===-1?!1:(ns.setMap(t,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(t,r){let n=!1;return t.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,zp.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){const i=new Set;for(const s of r)s.markers.length==1&&i.add(s.markers[0]);const a=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||ns.setMap(s.marker,null):a.push(s.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>a.forEach(s=>ns.setMap(s,null)))}google.maps.event.trigger(this,zp.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>ns.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){const t=new yTe(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,r),n.markers.forEach(i=>ns.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,zp.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),ns.setMap(n.marker,r)})}}const ETe=({clients:e})=>{const t=Hh(),r=M.useRef(0);return M.useEffect(()=>{if(!t||!window.google||e.length===0)return;if(Math.abs(e.length-r.current)>0){const i=new google.maps.LatLngBounds;let a=!1;if(e.forEach(s=>{s.lat&&s.lng&&(i.extend({lat:s.lat,lng:s.lng}),a=!0)}),a){t.fitBounds(i);const s=google.maps.event.addListenerOnce(t,"idle",()=>{t.getZoom()>16&&t.setZoom(16)});return r.current=e.length,()=>google.maps.event.removeListener(s)}}},[t,e]),null},TTe=()=>{const e=Hh();return e?v.jsxs("div",{className:"absolute bottom-[75px] right-4 flex flex-row gap-2 z-10",children:[v.jsx("button",{onClick:()=>e.setZoom((e.getZoom()||0)+1),className:"bg-white p-2.5 rounded-xl border border-outline-variant shadow-elevation-2 text-on-surface hover:bg-primary-container hover:text-primary transition-all active:scale-95 focus:outline-none",title:"Aproximar (Zoom In)","aria-label":"Aproximar zoom",children:v.jsx(B2,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>e.setZoom((e.getZoom()||0)-1),className:"bg-white p-2.5 rounded-xl border border-outline-variant shadow-elevation-2 text-on-surface hover:bg-primary-container hover:text-primary transition-all active:scale-95 focus:outline-none",title:"Afastar (Zoom Out)","aria-label":"Afastar zoom",children:v.jsx(pX,{className:"w-5 h-5"})})]}):null},ATe=e=>{switch(e){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},j6=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);const r=(t&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r},STe=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,CTe=({clients:e,onClientSelect:t,productFilterActive:r,users:n,isClusteringEnabled:i})=>{const a=Hh(),s=M.useRef(null),o=M.useRef([]),c=M.useMemo(()=>{const d=document.createElement("div");return d.innerHTML=STe,d.style.display="flex",d.style.alignItems="center",d.style.justifyContent="center",d},[]),u=M.useMemo(()=>{const d=new Map;return n&&n.forEach(h=>{let g={bg:"#6B7280",border:"#374151",glyph:"#fff"};h.color?g={bg:h.color,border:"black",glyph:"#fff"}:g={bg:j6(h.id+h.name),border:"black",glyph:"#fff"},d.set(h.id,g)}),d},[n]);return M.useEffect(()=>{if(!a||!google.maps.marker)return;s.current&&(s.current.clearMarkers(),s.current.setMap(null)),o.current.forEach(_=>{_.map=null,google.maps.event.clearInstanceListeners(_)}),o.current=[],i?s.current=new wTe({map:a,markers:[]}):s.current=null;let d=!0,h=0;const g=200,x=()=>{if(!d||!google.maps.marker)return;const _=e.slice(h,h+g);if(_.length===0)return;const w=_.filter(T=>{const C=Number(T.lat),L=Number(T.lng);return!isNaN(C)&&!isNaN(L)&&C!==0&&L!==0}).map(T=>{let C={bg:"#6B7280",border:"#374151",glyph:"#fff"};if(r)C={bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};else{const R=u.get(T.salespersonId);R?C=R:T.ownerName?C={bg:j6(T.ownerName),border:"black",glyph:"#fff"}:C=ATe(T.region)}let L=null;r&&(L=c.cloneNode(!0),L.style.color=C.glyph);const P={background:C.bg,borderColor:C.border,glyphColor:C.glyph,scale:1};L&&(P.glyph=L);const D=new google.maps.marker.PinElement(P),F=new google.maps.marker.AdvancedMarkerElement({position:{lat:T.lat,lng:T.lng},content:D.element,map:i?null:a,title:T.companyName});return F.addListener("click",()=>{t(T.id)}),F});d&&(i&&s.current&&s.current.addMarkers(w),o.current.push(...w)),h+=g,h<e.length&&requestAnimationFrame(x)};return x(),()=>{d=!1,s.current&&(s.current.clearMarkers(),s.current.setMap(null)),o.current.forEach(_=>{_.map=null})}},[a,e,r,t,c,u,i]),v.jsx(ETe,{clients:e})},NTe=({clients:e,apiKey:t,onInvalidKey:r,productFilterActive:n,highlightProductTerm:i,activeProductCategory:a,users:s,filterContent:o})=>{const c={lat:-14.235,lng:-51.9253},[u,d]=M.useState(null),[h,g]=M.useState(!1),[x,_]=M.useState(!1),[w,T]=M.useState(!0),C=e.find(D=>D.id===u);M.useEffect(()=>(t&&g(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),g(!0)},()=>{window.gm_authFailure=()=>{};const D=document.getElementsByTagName("script");for(let F=D.length-1;F>=0;F--){const R=D[F];R.src&&R.src.includes("maps.googleapis.com/maps/api/js")&&R.parentNode?.removeChild(R)}}),[t]);const L=()=>{_(!x)};if(!t)return v.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:v.jsx(Xd,{className:"w-8 h-8"})}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),v.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[v.jsx(Xd,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(h)return v.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:v.jsx(Ki,{className:"w-8 h-8"})}),v.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),v.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[v.jsx(Xd,{className:"w-4 h-4"})," Trocar API Key"]})]});const P=x?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-lg overflow-hidden shadow-sm border border-gray-200 relative z-0";return v.jsx("div",{className:P,children:v.jsx(FEe,{apiKey:t,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:v.jsxs(K7,{defaultCenter:c,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[v.jsx(CTe,{clients:e,onClientSelect:d,productFilterActive:n,users:s,isClusteringEnabled:w}),v.jsx(TTe,{}),x&&o&&v.jsxs("div",{className:"absolute top-0 left-0 right-0 z-30 bg-white/95 backdrop-blur-sm shadow-md border-b border-gray-200",children:[o,v.jsxs("div",{className:"flex justify-end gap-2 px-3 py-1.5 border-t border-gray-100 bg-gray-50/80",children:[v.jsx("button",{onClick:()=>T(!w),className:`p-1.5 px-3 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${w?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:w?"Desativar Agrupamento":"Ativar Agrupamento",children:w?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex -space-x-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):v.jsxs(v.Fragment,{children:[v.jsx(Sl,{className:"w-3 h-3"}),"Solto"]})}),v.jsxs("button",{onClick:L,className:"bg-white p-1.5 px-3 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold",title:"Sair da Tela Cheia",children:[v.jsx(n4,{className:"w-4 h-4"}),"Sair"]})]})]}),!x&&v.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[v.jsx("button",{onClick:()=>T(!w),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${w?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:w?"Desativar Agrupamento":"Ativar Agrupamento",children:w?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex -space-x-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):v.jsxs(v.Fragment,{children:[v.jsx(Sl,{className:"w-3 h-3"}),"Solto"]})}),v.jsx("button",{onClick:L,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Tela Cheia",children:v.jsx(lX,{className:"w-5 h-5"})})]}),x&&!o&&v.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[v.jsx("button",{onClick:()=>T(!w),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${w?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:w?"Desativar Agrupamento":"Ativar Agrupamento",children:w?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex -space-x-1",children:[v.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),v.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):v.jsxs(v.Fragment,{children:[v.jsx(Sl,{className:"w-3 h-3"}),"Solto"]})}),v.jsx("button",{onClick:L,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Sair da Tela Cheia",children:v.jsx(n4,{className:"w-5 h-5"})})]}),C&&v.jsx(oTe,{position:{lat:C.lat,lng:C.lng},onCloseClick:()=>d(null),headerContent:v.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[v.jsx(qp,{className:"w-4 h-4 text-blue-600"}),C.companyName]}),children:v.jsx("div",{className:"min-w-[240px] max-w-[320px] p-1",children:v.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[v.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[v.jsx(Gp,{className:"w-3 h-3"}),C.city," - ",C.state," (",C.region,")"]}),v.jsxs("p",{className:"flex items-center gap-2",children:[v.jsx(Ma,{className:"w-3 h-3 text-gray-400"}),v.jsx("span",{className:"font-medium text-gray-700",children:C.ownerName||"No informado"})]}),v.jsxs("p",{className:"flex items-center gap-2",children:[v.jsx(oU,{className:"w-3 h-3 text-gray-400"}),v.jsx("span",{className:"font-medium text-gray-700",children:C.contact||"Sem contato"})]}),v.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-1 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit",children:[v.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[v.jsx("span",{className:"font-bold text-gray-800",children:C.purchasedProducts?.length||0})," Prod."]}),v.jsx("div",{className:"h-3 w-px bg-gray-300"}),v.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[v.jsx("span",{className:"font-bold text-gray-800",children:new Set(C.purchasedProducts?.map(D=>D.sku)||[]).size})," SKUs"]})]}),v.jsxs("p",{className:"flex items-start gap-2",children:[v.jsx(Sl,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),v.jsx("span",{className:"leading-tight",children:C.cleanAddress})]}),C.purchasedProducts&&C.purchasedProducts.length>0&&v.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[v.jsxs("p",{className:"text-[10px] uppercase font-bold text-blue-600 mb-1.5 flex items-center gap-1",children:[v.jsx(ro,{className:"w-3.5 h-3.5"}),"Produtos Adquiridos"]}),v.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1.5 pr-2 custom-scrollbar",children:C.purchasedProducts.map((D,F)=>{const R=i?.toLowerCase()||"",I=R&&((D.name||"").toLowerCase().includes(R)||(D.sku||"").toLowerCase().includes(R)||(D.brand||"").toLowerCase().includes(R)||(D.factoryCode||"").toLowerCase().includes(R));return v.jsxs("div",{className:`${I?"bg-amber-50 border-amber-200 ring-1 ring-amber-100":"bg-gray-50 border-gray-100"} p-2 rounded-lg border flex flex-col gap-0.5 transition-all shadow-sm`,children:[v.jsxs("div",{className:"flex justify-between items-start gap-2",children:[v.jsx("span",{className:`text-[10px] font-black leading-tight ${I?"text-amber-900":"text-gray-800"} line-clamp-2`,title:D.name,children:D.name}),v.jsx("span",{className:"text-[10px] font-black text-blue-700 whitespace-nowrap",children:D.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),v.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-gray-500 font-bold uppercase tracking-tighter mt-0.5",children:[v.jsxs("span",{className:"flex items-center gap-0.5 bg-gray-200/50 px-1 rounded",children:["SKU: ",D.sku]}),v.jsx("span",{className:"text-gray-300",children:""}),v.jsx("span",{className:"truncate",children:D.brand||"Sem Marca"})]})]},F)})})]}),v.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[v.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[v.jsx(V2,{className:"w-3 h-3 mr-1"}),C.category.join(", ")]}),C.mainCnae&&v.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-50 text-purple-700 border border-purple-100 ml-1 truncate max-w-[120px]",title:C.mainCnae,children:C.mainCnae}),v.jsx("a",{href:C.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${C.lat},${C.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},ITe=({client:e,isOpen:t,onClose:r,onSave:n,users:i=[],uploadedFiles:a=[],onCNPJAuthError:s})=>{const[o,c]=M.useState(()=>({...e,cnpj:e.cnpj||"",category:Array.isArray(e.category)?e.category:typeof e.category=="string"?[e.category]:["Outros"]})),[u,d]=M.useState(!1),[h,g]=M.useState("idle");if(kr.useEffect(()=>{c({...e,category:Array.isArray(e.category)?e.category:typeof e.category=="string"?[e.category]:["Outros"]})},[e]),!t)return null;const x=i.find(F=>F.id===e.salespersonId),_=x?.name||"No atribudo",w=x?.role==="sales_internal"?"Interno":x?.role==="sales_external"||x?.role==="salesperson"?"Externo":x?.role?"Equipe":"",T=x?.salesCategory||"",C=a.find(F=>F.id===e.sourceFileId),L=F=>{F.preventDefault(),n(o),r()},P=async()=>{const F=o.cnpj?.replace(/\D/g,"");if(!F||F.length!==14){alert("Por favor, informe um CNPJ vlido com 14 dgitos para atualizar.");return}d(!0),g("idle");try{const R=await W1(F);if(R){const I=R.logradouro&&R.numero;c(k=>({...k,companyName:R.nome_fantasia||R.razao_social||k.companyName,originalAddress:I?`${R.logradouro}, ${R.numero}${R.complemento?` - ${R.complemento}`:""}, ${R.bairro}, ${R.municipio} - ${R.uf}`:k.originalAddress,cleanAddress:I?`${R.logradouro}, ${R.numero}, ${R.municipio} - ${R.uf}`:k.cleanAddress,city:R.municipio||k.city,state:R.uf||k.state,district:R.bairro||k.district,region:R.uf?Yp(R.uf):k.region,lat:R.latitude||k.lat,lng:R.longitude||k.lng,contact:R.ddd_telefone_1||k.contact,mainCnae:R.cnae_fiscal||k.mainCnae,secondaryCnaes:R.cnaes_secundarios?.map(O=>`${O.codigo} - ${O.texto}`)||k.secondaryCnaes})),g("success"),setTimeout(()=>g("idle"),3e3)}else g("error"),alert("CNPJ no encontrado na base de dados.")}catch(R){console.error(R),g("error"),R.message&&(R.message.includes("401")||R.message.toLowerCase().includes("chave de api cnpja invlida"))?s?s():alert("Chave de API CNPJa invlida ou expirada. Configure-a nas opes do sistema."):alert("Erro ao consultar CNPJ. Verifique sua chave de API.")}finally{d(!1)}},D=F=>{const{name:R,value:I}=F.target;c(k=>{const O={[R]:I};return R==="state"&&(O.region=Yp(I)),{...k,...O}})};return v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:v.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(qp,{className:"w-5 h-5 text-primary"}),v.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),v.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),v.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:e.id})]}),v.jsx("button",{onClick:r,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar modal",children:v.jsx(La,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"mx-6 mb-2 flex flex-wrap items-center gap-3 px-4 py-2.5 bg-purple-50 border border-purple-200 rounded-xl",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ma,{className:"w-4 h-4 text-purple-600"}),v.jsx("span",{className:"text-xs font-bold text-purple-800",children:"Vendedor Responsvel:"}),v.jsx("span",{className:"text-sm font-semibold text-purple-900",children:_})]}),w&&v.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full ${w==="Interno"?"bg-blue-100 text-blue-700":w==="Externo"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:w}),T&&T!=="N/A"&&v.jsxs("span",{className:"text-[10px] font-medium uppercase tracking-wider px-2 py-0.5 rounded-full bg-purple-100 text-purple-700",children:[v.jsx(ss,{className:"w-3 h-3 inline mr-1"}),T]}),C&&v.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[v.jsx(Ty,{className:"w-3.5 h-3.5 text-gray-500"}),v.jsxs("span",{className:"text-[10px] text-gray-600 font-medium",children:["Origem: ",v.jsx("span",{className:"font-bold",children:C.fileName})]})]})]}),v.jsxs("form",{onSubmit:L,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),v.jsx("input",{type:"text",name:"companyName",value:o.companyName,onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Razo Social",placeholder:"Razo Social"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),v.jsx("input",{type:"text",name:"ownerName",value:o.ownerName,onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Responsvel / Proprietrio",placeholder:"Responsvel / Proprietrio"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Telefone Comercial"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",name:"contact",value:o.contact,onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 pl-10 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Telefone Comercial",placeholder:"(00) 0000-0000"}),v.jsx(oU,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"WhatsApp"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",name:"whatsapp",value:o.whatsapp||"",onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 pl-10 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"WhatsApp",placeholder:"(00) 00000-0000"}),v.jsx(Gp,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant"})]})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),v.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Wp.filter(F=>F!=="Todos").map(F=>{const R=o.category.includes(F);return v.jsx("button",{type:"button",onClick:()=>{c(I=>{const k=I.category||[];return k.includes(F)?k.length===1?I:{...I,category:k.filter(O=>O!==F)}:{...I,category:[...k,F]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${R?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,title:`Selecionar/desselecionar segmento: ${F}`,children:F},F)})})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{name:"region",value:o.region,onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",title:"Regio",children:[v.jsx("option",{value:"Indefinido",children:"Indefinido"}),fh.map(F=>v.jsx("option",{value:F,children:F},F))]}),v.jsx(Gp,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Bairro"}),v.jsx("input",{type:"text",name:"district",value:o.district||"",onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",title:"Bairro",placeholder:"Bairro"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Cidade"}),v.jsx("input",{type:"text",name:"city",value:o.city,onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",title:"Municpio / Cidade",placeholder:"Cidade"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Estado (UF)"}),v.jsx("input",{type:"text",name:"state",value:o.state,onChange:D,maxLength:2,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all uppercase",title:"Estado (UF)",placeholder:"UF"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"CEP"}),v.jsx("input",{type:"text",name:"zip",value:o.zip||"",onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",placeholder:"00000-000",title:"CEP / Cdigo Postal"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Pas"}),v.jsx("input",{type:"text",value:"Brasil",readOnly:!0,title:"Pas (Padro: Brasil)",className:"w-full bg-surface-container-highest/50 border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface-variant outline-none"})]})]})]}),v.jsxs("div",{className:"space-y-1 pt-2",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),v.jsx("div",{className:"flex gap-2",children:v.jsx("input",{type:"text",name:"cleanAddress",value:o.cleanAddress,onChange:D,className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Endereo Limpo"})})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"CNPJ"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",name:"cnpj",value:o.cnpj||"",onChange:D,className:`flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all ${h==="success"?"border-green-500":""}`,placeholder:"00.000.000/0000-00",title:"CNPJ do Cliente"}),v.jsxs("button",{type:"button",onClick:P,disabled:u,className:`px-4 flex items-center gap-2 rounded-xl text-xs font-bold transition-all shadow-sm ${h==="success"?"bg-green-100 text-green-700":"bg-primary text-white hover:bg-primary/90"}`,title:"Atualizar todos os dados a partir deste CNPJ",children:[u?v.jsx($c,{className:"w-4 h-4 animate-spin"}):v.jsx(zo,{className:"w-4 h-4"}),h==="success"?"Dados Atualizados!":"Atualizar Dados"]})]})]}),v.jsxs("div",{className:"bg-surface-container-highest/50 p-4 rounded-2xl border border-outline-variant space-y-4",children:[v.jsxs("div",{className:"flex items-center gap-2 pb-1 border-b border-outline-variant/30",children:[v.jsx(ss,{className:"w-4 h-4 text-primary"}),v.jsx("h3",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Atividade Econmica (CNAE)"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Principal"}),v.jsx("p",{className:"text-sm text-on-surface flex items-start gap-2",children:o.mainCnae||(o.cnpj?"Aguardando consulta...":"No informado")})]}),o.secondaryCnaes&&o.secondaryCnaes.length>0?v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Secundrias"}),v.jsx("ul",{className:"space-y-1.5",children:o.secondaryCnaes.map((F,R)=>v.jsxs("li",{className:"text-xs text-on-surface-variant flex items-start gap-2",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-outline-variant mt-1.5 shrink-0"}),F]},R))})]}):o.cnpj&&v.jsx("p",{className:"text-[10px] text-on-surface-variant italic",children:"Nenhuma atividade secundria registrada."})]})]}),v.jsxs("div",{className:"space-y-1 pt-2",children:[v.jsxs("label",{className:"text-xs font-medium text-on-surface-variant ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",v.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),v.jsx("input",{type:"text",name:"plusCode",value:o.plusCode||"",onChange:D,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),v.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso nos pinos."})]})]}),v.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[v.jsx("button",{type:"button",onClick:r,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),v.jsxs("button",{type:"submit",onClick:L,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[v.jsx(Mm,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},kTe=({isOpen:e,onClose:t,onAdd:r,salespersonId:n,ownerName:i,users:a=[],isFirebaseConnected:s=!1,onCNPJAuthError:o})=>{const[c,u]=M.useState(n),[d,h]=M.useState({companyName:"",cnpj:"",ownerName:"",contact:"",whatsapp:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",district:"",originalAddress:"",cleanAddress:"",plusCode:"",zip:"",country:"Brasil",lat:0,lng:0,mainCnae:"",secondaryCnaes:[]}),[g,x]=M.useState(!1),[_,w]=M.useState(""),[T,C]=M.useState(!1);if(M.useEffect(()=>{e&&(h({companyName:"",cnpj:"",ownerName:"",contact:"",whatsapp:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",district:"",originalAddress:"",cleanAddress:"",plusCode:"",zip:"",country:"Brasil",lat:0,lng:0,mainCnae:"",secondaryCnaes:[]}),u(n),w(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async R=>{},R=>{console.warn("Location access denied or error:",R)}))},[e]),!e)return null;const L=(R,I)=>{h(k=>{const O={[R]:I};return R==="state"&&(O.region=Yp(I)),{...k,...O}}),_&&w("")},P=R=>{h(I=>{const k=I.category;return k.includes(R)?k.length===1?I:{...I,category:k.filter(O=>O!==R)}:{...I,category:[...k,R]}})},D=async()=>{if(!d.cnpj||d.cnpj.replace(/\D/g,"").length!==14){w("Por favor, informe um CNPJ vlido com 14 dgitos.");return}x(!0),w("");try{const R=await W1(d.cnpj);if(R){const I=R.logradouro&&R.numero;h(k=>({...k,companyName:R.nome_fantasia||R.razao_social,originalAddress:I?`${R.logradouro}, ${R.numero}${R.complemento?` - ${R.complemento}`:""}, ${R.bairro}`:k.originalAddress,city:R.municipio||k.city,state:R.uf||k.state,district:R.bairro||k.district,region:R.uf?Yp(R.uf):k.region,contact:R.ddd_telefone_1||k.contact,whatsapp:R.ddd_telefone_1||k.whatsapp,lat:R.latitude||0,lng:R.longitude||0,cleanAddress:I?`${R.logradouro}, ${R.numero}, ${R.municipio} - ${R.uf}`:k.cleanAddress,mainCnae:R.cnae_fiscal||k.mainCnae,secondaryCnaes:R.cnaes_secundarios?.map(O=>`${O.codigo} - ${O.texto}`)||k.secondaryCnaes}))}}catch(R){R.message&&(R.message.includes("401")||R.message.toLowerCase().includes("chave de api cnpja invlida"))?o?o():w("Chave de API CNPJa invlida ou expirada. Configure-a nas opes do sistema."):w(R.message||"Erro ao consultar CNPJ. Verifique a chave da API.")}finally{x(!1)}},F=R=>{if(R.preventDefault(),!d.companyName||!d.originalAddress||!d.city||!d.state||!d.contact){w("Por favor, preencha todos os campos obrigatrios (*).");return}C(!0);const I=`${d.originalAddress}, ${d.city} - ${d.state}`;r({companyName:d.companyName,ownerName:d.ownerName||"No Informado",contact:d.contact,whatsapp:d.whatsapp,category:d.category,region:d.region,state:d.state,city:d.city,originalAddress:I,cleanAddress:d.cleanAddress||I,plusCode:d.plusCode,salespersonId:c,googleMapsUri:"",lat:d.lat,lng:d.lng,mainCnae:d.mainCnae,secondaryCnaes:d.secondaryCnaes,zip:d.zip,country:"Brasil"}),C(!1),t()};return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(qp,{className:"w-5 h-5 text-primary"}),v.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),v.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),v.jsx("button",{onClick:t,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:v.jsx(La,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:v.jsxs("form",{id:"add-client-form",onSubmit:F,className:"space-y-6",children:[v.jsxs("div",{className:"bg-surface-container-low p-4 rounded-2xl border border-outline-variant",children:[v.jsx("label",{className:"block text-xs font-semibold text-primary mb-2 ml-1 uppercase tracking-wider",children:"Consulta Rpida por CNPJ (Comercial)"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("div",{className:"relative flex-1",children:v.jsx("input",{type:"text",value:d.cnpj,onChange:R=>L("cnpj",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-colors",placeholder:"00.000.000/0000-00",title:"CNPJ do Cliente"})}),v.jsxs("button",{type:"button",onClick:D,disabled:g,className:`px-4 py-2 rounded-xl transition-colors flex items-center gap-2 disabled:opacity-50 ${d.lat!==0?"bg-green-100 text-green-700":"bg-primary text-on-primary hover:bg-primary/90"}`,children:[g?v.jsx($c,{className:"w-4 h-4 animate-spin"}):v.jsx(zo,{className:"w-4 h-4"}),v.jsx("span",{className:"hidden sm:inline",children:d.lat!==0?"Dados Atualizados":"Atualizar Dados"})]})]}),d.cnpj.replace(/\D/g,"").length===14&&v.jsxs("div",{className:"bg-surface-container-highest/50 p-4 rounded-2xl border border-outline-variant space-y-4 mb-6",children:[v.jsxs("div",{className:"flex items-center gap-2 pb-1 border-b border-outline-variant/30",children:[v.jsx(ss,{className:"w-4 h-4 text-primary"}),v.jsx("h3",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Atividade Econmica (CNAE)"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Principal"}),v.jsx("p",{className:"text-sm text-on-surface flex items-start gap-2",children:d.mainCnae||(g?"Buscando...":"Aguardando consulta comercial...")})]}),d.secondaryCnaes&&d.secondaryCnaes.length>0&&v.jsxs("div",{children:[v.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Secundrias"}),v.jsx("ul",{className:"space-y-1.5",children:d.secondaryCnaes.map((R,I)=>v.jsxs("li",{className:"text-xs text-on-surface-variant flex items-start gap-2",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-outline-variant mt-1.5 shrink-0"}),R]},I))})]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),v.jsx("input",{type:"text",required:!0,value:d.companyName,onChange:R=>L("companyName",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),v.jsx("input",{type:"text",value:d.ownerName,onChange:R=>L("ownerName",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),a.length>0&&v.jsxs("div",{children:[v.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:[v.jsx(Ma,{className:"w-3 h-3 inline mr-1"}),"Vendedor Responsvel"]}),v.jsx("select",{value:c,onChange:R=>u(R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Vendedor Responsvel",children:a.filter(R=>R.role==="salesperson"||R.role==="sales_external"||R.role==="sales_internal").map(R=>v.jsxs("option",{value:R.id,children:[R.name,R.salesCategory?` (${R.salesCategory})`:""]},R.id))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),v.jsx("input",{type:"text",required:!0,value:d.contact,onChange:R=>L("contact",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000",title:"Contato"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),v.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Wp.filter(R=>R!=="Todos").map(R=>{const I=d.category.includes(R);return v.jsx("button",{type:"button",onClick:()=>P(R),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${I?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:R},R)})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{value:d.region,onChange:R=>L("region",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Regio",children:fh.map(R=>v.jsx("option",{value:R,children:R},R))}),v.jsx(Gp,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Bairro *"}),v.jsx("input",{type:"text",required:!0,value:d.district||"",onChange:R=>L("district",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Aldeota",title:"Bairro"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),v.jsx("input",{type:"text",required:!0,value:d.city,onChange:R=>L("city",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),v.jsxs("div",{className:"relative",children:[v.jsx("select",{required:!0,value:d.state,onChange:R=>L("state",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"UF",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(R=>v.jsx("option",{value:R,children:R},R))}),v.jsx(Sl,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),v.jsx("textarea",{rows:2,required:!0,value:d.originalAddress,onChange:R=>L("originalAddress",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors resize-none",placeholder:"Rua, Nmero, Bairro, CEP...",title:"Endereo Completo"}),v.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",v.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),v.jsx("input",{type:"text",value:d.plusCode,onChange:R=>L("plusCode",R.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),v.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso."})]}),v.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:v.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[v.jsx(Sl,{className:"w-4 h-4 shrink-0"}),v.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})}),_&&v.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[v.jsx(Ki,{className:"w-5 h-5"}),_]})]})}),v.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[v.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),v.jsx("button",{type:"submit",disabled:T,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:T?"Salvando...":v.jsxs(v.Fragment,{children:[v.jsx(Mm,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},PTe=({isOpen:e,onClose:t,client:r,products:n,onSave:i,productCategories:a})=>{const[s,o]=M.useState(""),[c,u]=M.useState("Todos"),[d,h]=M.useState([]),[g,x]=M.useState(!1);kr.useEffect(()=>{r&&r.purchasedProducts?h(r.purchasedProducts.map(C=>C.sku)):h([])},[r]);const _=M.useMemo(()=>n.filter(C=>{const L=(C.name||"").toLowerCase().includes(s.toLowerCase())||(C.sku||"").toLowerCase().includes(s.toLowerCase())||(C.brand||"").toLowerCase().includes(s.toLowerCase()),P=c==="Todos"||C.category===c,D=d.includes(C.sku);return L&&P&&(!g||D)}),[n,s,c,g,d]),w=C=>{h(L=>L.includes(C)?L.filter(P=>P!==C):[...L,C])},T=()=>{if(!r)return;const C=n.filter(L=>d.includes(L.sku));i(r.id,C),t()};return!e||!r?null:v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",children:[v.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[v.jsx(ro,{className:"w-5 h-5 text-blue-600"}),"Atribuir Produtos"]}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",v.jsx("span",{className:"font-semibold text-gray-700",children:r.companyName})]})]}),v.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:"Fechar modal",children:v.jsx(La,{className:"w-5 h-5 text-gray-500"})})]}),v.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-3 bg-white z-10",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(zo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx("input",{type:"text",placeholder:"Buscar por nome, SKU, marca...",value:s,onChange:C=>o(C.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),v.jsxs("select",{value:c,onChange:C=>u(C.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",title:"Filtrar por Departamento",children:[v.jsx("option",{value:"Todos",children:"Todos os Departamentos"}),a.map(C=>v.jsx("option",{value:C,children:C},C))]})]}),v.jsxs("div",{className:"p-4 bg-gray-50 flex items-center justify-center gap-3 border-b border-gray-100",children:[v.jsx("button",{onClick:()=>x(!1),className:`
              flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap
              ${g?"bg-white text-gray-600 border border-gray-200 hover:border-blue-300":"bg-blue-600 text-white shadow-sm"}
            `,children:"Ver Todos os Produtos"}),v.jsxs("button",{onClick:()=>x(!0),className:`
              flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap
              ${g?"bg-green-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:border-green-300"}
            `,children:[v.jsx(ro,{className:"w-3 h-3"}),"Produtos Comprados"]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:_.length===0?v.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:v.jsx("p",{children:"Nenhum produto encontrado."})}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_.map(C=>{const L=d.includes(C.sku);return v.jsx("div",{onClick:()=>w(C.sku),className:`
                      relative p-3 rounded-xl border cursor-pointer transition-all duration-200 group
                      ${L?"bg-blue-50 border-blue-500 shadow-sm":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}
                    `,children:v.jsxs("div",{className:"flex justify-between items-start gap-2",children:[v.jsxs("div",{className:"min-w-0",children:[v.jsx("p",{className:`text-sm font-medium truncate ${L?"text-blue-800":"text-gray-800"}`,children:C.name}),v.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase truncate",children:C.brand}),v.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["SKU: ",C.sku]}),v.jsx("p",{className:"text-xs font-bold text-gray-700 mt-1",children:C.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),v.jsx("div",{className:`
                        w-5 h-5 rounded-full border flex items-center justify-center transition-colors
                        ${L?"bg-blue-500 border-blue-500":"border-gray-300 group-hover:border-blue-400"}
                      `,children:L&&v.jsx(af,{className:"w-3.5 h-3.5 text-white"})})]})},C.sku)})})}),v.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex justify-between items-center",children:[v.jsxs("div",{className:"text-sm text-gray-600",children:[v.jsx("span",{className:"font-bold text-blue-600",children:d.length})," produtos selecionados"]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),v.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition-transform active:scale-95",children:[v.jsx(Mm,{className:"w-4 h-4"}),"Salvar Atribuio"]})]})]})]})})},RTe=({clients:e,onUpdateClient:t,onAddClient:r,currentUserRole:n,currentUserId:i,currentUserName:a,products:s=[],productCategories:o=[],users:c=[],uploadedFiles:u=[],onGeneratePlusCodes:d,onCNPJAuthError:h,filterOnlyWithPurchases:g=!1,setFilterOnlyWithPurchases:x,resetFilters:_})=>{const[w,T]=M.useState(""),[C,L]=M.useState("Todos"),[P,D]=M.useState("Todos"),[F,R]=M.useState(null),[I,k]=M.useState(!1),[O,B]=M.useState(!1),[V,j]=M.useState(!1),[G,de]=M.useState(null),ge=M.useMemo(()=>e.filter(z=>{const te=(z.companyName||"").toLowerCase().includes(w.toLowerCase())||(z.ownerName||"").toLowerCase().includes(w.toLowerCase()),Z=C==="Todos"||z.region===C,K=P==="Todos"||Array.isArray(z.category)&&z.category.some(pe=>pe.trim()===P.trim());return te&&Z&&K}),[e,w,C,P]),ie=()=>{const z=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","CNAE","Produtos Comprados","Link Maps"],te=ge.map(le=>[le.id,le.companyName,le.ownerName,le.contact,le.cleanAddress,le.city,le.state,le.region,le.category.join("; "),le.mainCnae||"",le.purchasedProducts?le.purchasedProducts.map(ve=>ve.sku).join("; "):"",le.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${le.lat},${le.lng}`]),Z=le=>{if(le==null)return"";const ve=String(le);return ve.includes('"')||ve.includes(",")||ve.includes(`
`)?`"${ve.replace(/"/g,'""')}"`:ve},K=[z.join(","),...te.map(le=>le.map(Z).join(","))].join(`
`),pe=new Blob([`\uFEFF${K}`],{type:"text/csv;charset=utf-8;"}),xe=URL.createObjectURL(pe),ke=document.createElement("a");ke.setAttribute("href",xe),ke.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)},fe=z=>{R(z),k(!0)},ue=z=>{de(z),j(!0)},ae=(z,te)=>{const Z=e.find(K=>K.id===z);if(Z){const K={...Z,purchasedProducts:te};t(K)}},_e=({client:z,style:te})=>v.jsx("div",{style:te,className:"p-1",children:v.jsxs("div",{className:"h-full bg-surface-container-low border border-outline-variant/30 rounded-lg p-3 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden flex flex-col",children:[v.jsx("div",{className:"absolute top-0 right-0 p-0",children:v.jsx("span",{className:`px-3 py-1 rounded-bl-lg text-[10px] font-bold uppercase tracking-wider
                        ${z.region==="Nordeste"?"bg-orange-100 text-orange-800":z.region==="Sudeste"?"bg-blue-100 text-blue-800":z.region==="Sul"?"bg-purple-100 text-purple-800":z.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:z.region})}),v.jsxs("div",{className:"flex items-start gap-4 pr-12 mb-2",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:z.companyName.charAt(0).toUpperCase()}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",title:z.companyName,children:z.companyName}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:[v.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[v.jsx(V2,{className:"w-3 h-3"}),v.jsx("span",{className:"truncate",children:z.category.join(", ")})]}),z.mainCnae&&v.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-50 text-purple-700 border border-purple-100 truncate max-w-[150px]",title:z.mainCnae,children:[v.jsx(ss,{className:"w-2.5 h-2.5 mr-1"}),z.mainCnae]})]}),z.purchasedProducts&&z.purchasedProducts.length>0&&v.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-md border border-gray-100 w-fit",children:[v.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[" ",v.jsx("span",{className:"font-bold text-gray-800",children:z.purchasedProducts.length})," Prod."]}),v.jsx("div",{className:"h-3 w-px bg-gray-300"}),v.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[" ",v.jsx("span",{className:"font-bold text-gray-800",children:new Set(z.purchasedProducts.map(Z=>Z.sku)).size})," SKUs"]})]}),z.purchasedProducts&&z.purchasedProducts.length>0&&v.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[z.purchasedProducts.slice(0,2).map((Z,K)=>v.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:Z.name,children:Z.sku},K)),z.purchasedProducts.length>2&&v.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",z.purchasedProducts.length-2]})]})]})]}),v.jsxs("div",{className:"space-y-2 flex-grow",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[v.jsx(qp,{className:"w-4 h-4 shrink-0"}),v.jsx("span",{className:"truncate",children:z.ownerName})]}),v.jsxs("div",{className:"flex items-start gap-2 text-sm text-on-surface-variant group/link",children:[v.jsx(Sl,{className:"w-4 h-4 shrink-0 mt-0.5"}),v.jsx("span",{className:"line-clamp-2",children:z.cleanAddress})]})]}),v.jsxs("div",{className:"mt-4 pt-3 border-t border-outline-variant/30 flex items-center justify-between",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>ue(z),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Atribuir Produtos",children:v.jsx(ro,{className:"w-4 h-4"})}),v.jsx("a",{title:`Abrir localizao de ${z.companyName} no Google Maps`,href:z.googleMapsUri||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(z.companyName+" "+z.cleanAddress)}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",onClick:Z=>Z.stopPropagation(),children:v.jsx(bA,{className:"w-4 h-4"})})]}),v.jsxs("button",{onClick:()=>fe(z),className:"flex items-center gap-1.5 text-xs font-bold text-primary hover:text-primary/80 transition-colors px-3 py-1.5 rounded-lg active:bg-surface-container-highest",title:`Editar cliente ${z.companyName}`,children:[v.jsx(xX,{className:"w-3 h-3"})," Editar"]})]})]})}),X=({client:z})=>v.jsxs("div",{className:"p-4 border-b border-gray-100 last:border-0 bg-white",children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-gray-900",children:z.companyName}),v.jsx("p",{className:"text-xs text-gray-500",children:z.category.join(", ")}),z.mainCnae&&v.jsxs("p",{className:"text-[10px] text-purple-600 font-medium flex items-center gap-1 mt-0.5",children:[v.jsx(ss,{className:"w-3 h-3"})," ",z.mainCnae]}),z.purchasedProducts&&z.purchasedProducts.length>0&&v.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[z.purchasedProducts.slice(0,3).map((te,Z)=>v.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:te.name,children:te.sku},Z)),z.purchasedProducts.length>3&&v.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",z.purchasedProducts.length-3]})]})]}),v.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase
              ${z.region==="Nordeste"?"bg-orange-100 text-orange-800":z.region==="Sudeste"?"bg-blue-100 text-blue-800":z.region==="Sul"?"bg-purple-100 text-purple-800":z.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
           `,children:z.region})]}),v.jsxs("div",{className:"space-y-1 mb-3",children:[v.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[v.jsx(qp,{className:"w-4 h-4 text-gray-400"})," ",z.ownerName]}),v.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[v.jsx(Sl,{className:"w-4 h-4 text-gray-400"})," ",v.jsx("span",{className:"truncate",children:z.cleanAddress})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>fe(z),className:"flex-1 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg text-center",title:`Editar cliente ${z.companyName}`,children:"Editar"}),v.jsxs("button",{onClick:()=>ue(z),className:"flex-1 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg text-center flex items-center justify-center gap-1",title:"Atribuir Produtos",children:[v.jsx(ro,{className:"w-4 h-4"})," Produtos"]}),v.jsx("a",{href:z.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${z.lat},${z.lng}`,target:"_blank",className:"flex-none p-2 text-gray-600 bg-gray-100 rounded-lg flex items-center justify-center",title:"Ver rota no Google Maps",children:v.jsx(bA,{className:"w-5 h-5"})})]})]});return v.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[v.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-200 flex flex-col md:flex-row gap-3 items-center justify-between bg-white z-10 sticky top-0 md:relative shadow-sm md:shadow-none",children:[v.jsxs("div",{className:"relative w-full md:max-w-xs group",children:[v.jsx(zo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-primary transition-colors"}),v.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",className:"w-full pl-10 pr-4 py-1.5 bg-surface-container-highest border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all placeholder:text-on-surface-variant/50",value:w,onChange:z=>T(z.target.value),title:"Buscar por razo social ou proprietrio"})]}),v.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:[v.jsxs("select",{value:C,onChange:z=>L(z.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Regio",children:[v.jsx("option",{value:"Todos",children:"Todas Regies"}),fh.map(z=>v.jsx("option",{value:z,children:z},z))]}),v.jsxs("select",{value:P,onChange:z=>D(z.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Categoria",children:[v.jsx("option",{value:"Todos",children:"Todos Segmentos"}),Wp.filter(z=>z!=="Todos").map(z=>v.jsx("option",{value:z,children:z},z))]}),v.jsxs("div",{className:"md:ml-auto flex items-center gap-2 pl-2 border-l border-gray-200",children:[n&&zd(n)&&r&&v.jsxs("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95 whitespace-nowrap",children:[v.jsx(B2,{className:"w-4 h-4"})," Novo"]}),v.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-outline-variant/30 text-on-surface hover:bg-surface-container-highest rounded-lg text-xs font-bold transition-colors shadow-sm whitespace-nowrap",children:[v.jsx(VJ,{className:"w-4 h-4"})," Exportar"]}),d&&n&&SA(n)&&v.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-1.5 bg-tertiary text-white text-xs font-bold rounded-lg hover:bg-tertiary/90 transition-all shadow-md shadow-tertiary/20 active:scale-95 whitespace-nowrap",title:"Gerar Plus Codes para clientes sem localizao exata",children:[v.jsx(Sl,{className:"w-4 h-4"})," Plus Code"]})]})]})]}),v.jsxs("div",{className:"px-3 py-1.5 bg-gray-50 border-b border-gray-200 text-xs text-gray-500",children:["Exibindo ",ge.length," de ",e.length," clientes"]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar bg-gray-50",children:[v.jsx("div",{className:"md:hidden flex flex-col gap-0 bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:ge.map(z=>v.jsx(X,{client:z},z.id))}),v.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2",children:ge.map(z=>v.jsx(_e,{client:z,style:{}},z.id))}),ge.length===0&&v.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[v.jsx(U2,{className:"w-12 h-12 mb-2 opacity-20"}),v.jsx("p",{className:"text-lg font-medium",children:"Nenhum cliente encontrado"}),v.jsx("p",{className:"text-sm",children:"Tente ajustar seus filtros de busca"})]})]}),F&&I&&v.jsx(ITe,{isOpen:I,onClose:()=>k(!1),client:F,onSave:t,users:c,uploadedFiles:u,onCNPJAuthError:h}),O&&i&&v.jsx(kTe,{isOpen:O,onClose:()=>B(!1),onAdd:r||(()=>{}),salespersonId:i,ownerName:a||"",users:c,onCNPJAuthError:h}),v.jsx(PTe,{isOpen:V,onClose:()=>j(!1),client:G,products:s,productCategories:o,onSave:ae})]})},OTe="modulepreload",MTe=function(e){return"/Rota-de-Vendas/"+e},U6={},Dx=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var s=u;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=u(r.map(d=>{if(d=MTe(d),d in U6)return;U6[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":OTe,h||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),h)return new Promise((_,w)=>{x.addEventListener("load",_),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var MS=function(){return MS=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},MS.apply(this,arguments)},DS,DTe=function(e){var t;e?(function(r){if(r)for(;r.lastChild;)r.lastChild.remove()})(typeof e=="string"?document.getElementById(e):e):(t=document.querySelector(".grecaptcha-badge"))&&t.parentNode&&document.body.removeChild(t.parentNode)},FTe=function(e,t){DTe(t),window.___grecaptcha_cfg=void 0;var r=document.querySelector("#"+e);r&&r.remove(),(function(){var n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');n&&n.remove()})()},LTe=function(e){var t=e.render,r=e.onLoadCallbackName,n=e.language,i=e.onLoad,a=e.useRecaptchaNet,s=e.useEnterprise,o=e.scriptProps,c=o===void 0?{}:o,u=c.nonce,d=u===void 0?"":u,h=c.defer,g=h!==void 0&&h,x=c.async,_=x!==void 0&&x,w=c.id,T=w===void 0?"":w,C=c.appendTo,L=T||"google-recaptcha-v3";if((function(F){return!!document.querySelector("#"+F)})(L))i();else{var P=(function(F){return"https://www."+(F.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(F.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:s,useRecaptchaNet:a}),D=document.createElement("script");D.id=L,D.src=P+"?render="+t+(t==="explicit"?"&onload="+r:"")+(n?"&hl="+n:""),d&&(D.nonce=d),D.defer=!!g,D.async=!!_,D.onload=i,(C==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(D)}},B6=function(e){console.warn(e)};(function(e){e.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(DS||(DS={}));var AN=M.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});AN.Consumer;function V6(e){var t=e.reCaptchaKey,r=e.useEnterprise,n=r!==void 0&&r,i=e.useRecaptchaNet,a=i!==void 0&&i,s=e.scriptProps,o=e.language,c=e.container,u=e.children,d=M.useState(null),h=d[0],g=d[1],x=M.useRef(t),_=JSON.stringify(s),w=JSON.stringify(c?.parameters);M.useEffect((function(){if(t){var L=s?.id||"google-recaptcha-v3",P=s?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[P]=function(){var D=n?window.grecaptcha.enterprise:window.grecaptcha,F=MS({badge:"inline",size:"invisible",sitekey:t},c?.parameters||{});x.current=D.render(c?.element,F)},LTe({render:c?.element?"explicit":t,onLoadCallbackName:P,useEnterprise:n,useRecaptchaNet:a,scriptProps:s,language:o,onLoad:function(){if(window&&window.grecaptcha){var D=n?window.grecaptcha.enterprise:window.grecaptcha;D.ready((function(){g(D)}))}else B6("<GoogleRecaptchaProvider /> "+DS.SCRIPT_NOT_AVAILABLE)}}),function(){FTe(L,c?.element)}}B6("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[n,a,_,w,o,t,c?.element]);var T=M.useCallback((function(L){if(!h||!h.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return h.execute(x.current,{action:L})}),[h,x]),C=M.useMemo((function(){return{executeRecaptcha:h?T:void 0,container:c?.element}}),[T,h,c?.element]);return kr.createElement(AN.Provider,{value:C},u)}var jTe=function(){return M.useContext(AN)};function Q7(e,t){return e(t={exports:{}},t.exports),t.exports;}var vi=typeof Symbol=="function"&&Symbol.for,FS=vi?Symbol.for("react.element"):60103,LS=vi?Symbol.for("react.portal"):60106,Fy=vi?Symbol.for("react.fragment"):60107,Ly=vi?Symbol.for("react.strict_mode"):60108,jy=vi?Symbol.for("react.profiler"):60114,Uy=vi?Symbol.for("react.provider"):60109,By=vi?Symbol.for("react.context"):60110,jS=vi?Symbol.for("react.async_mode"):60111,Fx=vi?Symbol.for("react.concurrent_mode"):60111,Vy=vi?Symbol.for("react.forward_ref"):60112,zy=vi?Symbol.for("react.suspense"):60113,UTe=vi?Symbol.for("react.suspense_list"):60120,$y=vi?Symbol.for("react.memo"):60115,Hy=vi?Symbol.for("react.lazy"):60116,BTe=vi?Symbol.for("react.block"):60121,VTe=vi?Symbol.for("react.fundamental"):60117,zTe=vi?Symbol.for("react.responder"):60118,$Te=vi?Symbol.for("react.scope"):60119;function ts(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case FS:switch(e=e.type){case jS:case Fx:case Fy:case jy:case Ly:case zy:return e;default:switch(e=e&&e.$$typeof){case By:case Vy:case Hy:case $y:case Uy:return e;default:return t}}case LS:return t}}}function z6(e){return ts(e)===Fx}var HTe={AsyncMode:jS,ConcurrentMode:Fx,ContextConsumer:By,ContextProvider:Uy,Element:FS,ForwardRef:Vy,Fragment:Fy,Lazy:Hy,Memo:$y,Portal:LS,Profiler:jy,StrictMode:Ly,Suspense:zy,isAsyncMode:function(e){return z6(e)||ts(e)===jS},isConcurrentMode:z6,isContextConsumer:function(e){return ts(e)===By},isContextProvider:function(e){return ts(e)===Uy},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===FS},isForwardRef:function(e){return ts(e)===Vy},isFragment:function(e){return ts(e)===Fy},isLazy:function(e){return ts(e)===Hy},isMemo:function(e){return ts(e)===$y},isPortal:function(e){return ts(e)===LS},isProfiler:function(e){return ts(e)===jy},isStrictMode:function(e){return ts(e)===Ly},isSuspense:function(e){return ts(e)===zy},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===Fy||e===Fx||e===jy||e===Ly||e===zy||e===UTe||typeof e=="object"&&e!==null&&(e.$$typeof===Hy||e.$$typeof===$y||e.$$typeof===Uy||e.$$typeof===By||e.$$typeof===Vy||e.$$typeof===VTe||e.$$typeof===zTe||e.$$typeof===$Te||e.$$typeof===BTe)},typeOf:ts},Lr=Q7((function(e,t){})),$6=(Lr.AsyncMode,Lr.ConcurrentMode,Lr.ContextConsumer,Lr.ContextProvider,Lr.Element,Lr.ForwardRef,Lr.Fragment,Lr.Lazy,Lr.Memo,Lr.Portal,Lr.Profiler,Lr.StrictMode,Lr.Suspense,Lr.isAsyncMode,Lr.isConcurrentMode,Lr.isContextConsumer,Lr.isContextProvider,Lr.isElement,Lr.isForwardRef,Lr.isFragment,Lr.isLazy,Lr.isMemo,Lr.isPortal,Lr.isProfiler,Lr.isStrictMode,Lr.isSuspense,Lr.isValidElementType,Lr.typeOf,Q7((function(e){e.exports=HTe}))),GTe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},H6={};H6[$6.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},H6[$6.Memo]=GTe;const qTe=({users:e,onLogin:t})=>{const[r,n]=M.useState("login"),[i,a]=M.useState(""),[s,o]=M.useState(""),[c,u]=M.useState(""),[d,h]=M.useState(!1),{executeRecaptcha:g}=jTe(),[x,_]=M.useState(!1),w=async P=>{if(P.preventDefault(),u(""),console.log("[CAPTCHA] Key configured:","MISSING"),console.log("[CAPTCHA] executeRecaptcha available:",!!g),!g){console.error("[CAPTCHA] executeRecaptcha not available - Provider may not be loaded"),u(" Sistema de segurana no carregado. Recarregue a pgina.");return}_(!0);try{console.log("[CAPTCHA] Executing reCAPTCHA verification...");const D=await g("login");if(console.log("[CAPTCHA] Token received:",D?"Success ":"Failed "),console.log("[CAPTCHA] Token length:",D?.length||0),!D)throw new Error("reCAPTCHA token is empty");console.log("[AUTH] CAPTCHA passed, validating credentials...");let F=e;if(!F||F.length===0){console.log("[AUTH] Prop users is empty, loading INITIAL_USERS as fallback");const{INITIAL_USERS:I}=await Dx(async()=>{const{INITIAL_USERS:k}=await Promise.resolve().then(()=>M1);return{INITIAL_USERS:k}},void 0);F=cp(I)}let R=F.find(I=>I.username.toLowerCase()===i.toLowerCase());if(!R&&i.toLowerCase()==="admin"){console.log("[AUTH] Admin not found in cloud users, using hardcoded fallback");const{INITIAL_USERS:I}=await Dx(async()=>{const{INITIAL_USERS:k}=await Promise.resolve().then(()=>M1);return{INITIAL_USERS:k}},void 0);R=I.find(k=>k.username==="admin")}R&&R.password===s?(console.log("[AUTH] Login successful "),t(R)):(console.warn("[AUTH] Invalid credentials"),u(" Credenciais invlidas. Verifique usurio e senha."))}catch(D){console.error("[CAPTCHA] Error details:",{message:D?.message,name:D?.name,stack:D?.stack,error:D}),D?.message?.includes("Invalid site key")?u(" Erro de configurao: Chave reCAPTCHA invlida. Contate o administrador."):D?.message?.includes("network")?u(" Erro de rede. Verifique sua conexo e tente novamente."):u(` Falha na verificao de segurana: ${D?.message||"Erro desconhecido"}. Tente novamente.`)}finally{_(!1)}},T=()=>{u("")},C=P=>{T(),n(P)},L=["Admin Dev","Admin Geral","Gerente Geral","Gerente de Vendas","Supervisor de Vendas"];return v.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[v.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),v.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[v.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[r!=="login"&&v.jsx("button",{onClick:()=>C("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:v.jsx(yA,{className:"w-6 h-6"})}),v.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:v.jsx(TA,{className:"w-7 h-7 text-white"})}),v.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),v.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),v.jsxs("div",{className:"p-8 space-y-6",children:[r==="login"&&v.jsxs("form",{onSubmit:w,className:"space-y-6 pt-2 animate-fade-in",children:[v.jsx("div",{className:"text-center pb-2",children:v.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),v.jsxs("div",{className:"relative",children:[v.jsx(Ma,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),v.jsx("input",{type:"text",value:i,onChange:P=>a(P.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),v.jsxs("div",{className:"relative",children:[v.jsx(wA,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),v.jsx("input",{type:"password",value:s,onChange:P=>o(P.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),c&&v.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[v.jsx(Ki,{className:"w-4 h-4 flex-shrink-0"}),c]}),v.jsx("button",{type:"submit",disabled:x,className:"w-full bg-slate-800 hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-wait text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:x?v.jsxs(v.Fragment,{children:[v.jsx(AA,{className:"w-4 h-4 animate-pulse"}),"Verificando segurana..."]}):v.jsxs(v.Fragment,{children:["Entrar ",v.jsx(fJ,{className:"w-4 h-4"})]})}),v.jsx("div",{className:"flex justify-center pt-2",children:v.jsx("button",{type:"button",onClick:()=>C("forgot_pass"),className:"text-xs text-blue-600 hover:text-blue-800 font-bold bg-blue-50 hover:bg-blue-100 px-6 py-2 rounded-full transition-all active:scale-95 shadow-sm border border-blue-100",children:"Esqueci a Senha"})})]}),r==="forgot_pass"&&v.jsxs("div",{className:"animate-fade-in space-y-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-sm border border-orange-100",children:v.jsx(wA,{className:"w-10 h-10 text-orange-600"})}),v.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Recuperao de Acesso"}),v.jsx("p",{className:"text-gray-600 mt-4 leading-relaxed",children:"Solicite uma nova senha ao administrador do sistema."})]}),v.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-6",children:[v.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[v.jsx(TA,{className:"w-4 h-4"})," Perfis Autorizados"]}),v.jsx("ul",{className:"space-y-3",children:L.map((P,D)=>v.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-700 font-medium",children:[v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),P]},D))})]}),v.jsxs("button",{onClick:()=>C("login"),className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[v.jsx(yA,{className:"w-4 h-4"})," Voltar ao Login"]})]})]})]})]})},e$=({startDate:e,endDate:t,onRangeChange:r,label:n="Perodo"})=>{const[i,a]=M.useState(!1),[s,o]=M.useState(new Date),c=M.useRef(null);M.useEffect(()=>{const P=D=>{c.current&&!c.current.contains(D.target)&&a(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const u=P=>P.toISOString().split("T")[0],d=P=>{const D=u(P);!e||e&&t?r(D,""):D<e?r(D,e):r(e,D)},h=P=>{P.stopPropagation(),r("","")},g=()=>{const P=s.getFullYear(),D=s.getMonth(),F=new Date(P,D,1),R=new Date(P,D+1,0),I=new Date(F);I.setDate(I.getDate()-F.getDay());const k=new Date(R);k.setDate(k.getDate()+(6-R.getDay()));const O=[];let B=new Date(I);for(;B<=k;)O.push(new Date(B)),B.setDate(B.getDate()+1);return O},x=P=>{const D=u(P);return D===e||D===t},_=P=>{if(!e||!t)return!1;const D=u(P);return D>e&&D<t},w=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],T=P=>{const D=new Date(s);D.setMonth(D.getMonth()+P),o(D)},C=()=>{const P=new Date;o(P),r(u(P),u(P))},L=()=>e?t?`${e.split("-").reverse().join("/")} - ${t.split("-").reverse().join("/")}`:`${e.split("-").reverse().join("/")} - ...`:"Selecionar data";return v.jsxs("div",{className:"relative inline-block",ref:c,children:[v.jsxs("button",{type:"button",onClick:()=>a(!i),className:`flex items-center gap-2 h-8 px-3 rounded-md border transition-all duration-200 outline-none
          ${i?"bg-primary-container border-primary text-on-primary-container shadow-sm":e?"bg-secondary-container border-outline text-on-secondary-container":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[v.jsx(Hp,{className:`w-3.5 h-3.5 ${e?"text-primary":"text-gray-400"}`}),v.jsx("span",{className:"text-[11px] font-bold uppercase tracking-tight mr-1",children:n}),v.jsx("span",{className:"text-[11px] font-medium",children:L()}),e&&v.jsx(La,{className:"w-3 h-3 ml-1 hover:text-error transition-colors",onClick:h})]}),i&&v.jsxs("div",{className:"absolute top-full left-0 mt-2 z-[9999] bg-white border border-outline-variant rounded-2xl shadow-elevation-3 p-4 min-w-[280px] sm:min-w-[320px] animate-in fade-in slide-in-from-top-2 duration-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"text-sm font-bold text-on-surface ml-2",children:[w[s.getMonth()]," de ",s.getFullYear()]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>T(-1),className:"p-2 hover:bg-surface-container-highest rounded-full transition-colors","aria-label":"Ms anterior",children:v.jsx(TJ,{className:"w-5 h-5 text-on-surface-variant"})}),v.jsx("button",{onClick:()=>T(1),className:"p-2 hover:bg-surface-container-highest rounded-full transition-colors","aria-label":"Prximo ms",children:v.jsx(eU,{className:"w-5 h-5 text-on-surface-variant"})})]})]}),v.jsxs("div",{className:"grid grid-cols-7 gap-y-1 mb-4",children:[["D","S","T","Q","Q","S","S"].map((P,D)=>v.jsx("div",{className:"text-center text-[11px] font-bold text-on-surface-variant h-8 flex items-center justify-center",children:P},D)),g().map((P,D)=>{const F=x(P),R=_(P),I=u(P)===u(new Date),k=P.getMonth()===s.getMonth();return v.jsx("div",{className:`relative flex items-center justify-center h-10 w-full cursor-pointer
                    ${R?"bg-primary-container":""}
                    ${F&&e&&t&&u(P)===e?"rounded-l-full":""}
                    ${F&&e&&t&&u(P)===t?"rounded-r-full":""}
                    ${F&&(!e||!t||e===t)?"rounded-full":""}
                  `,onClick:()=>d(P),children:v.jsx("div",{className:`
                    w-8 h-8 flex items-center justify-center text-[12px] font-medium transition-all duration-200
                    ${F?"bg-primary text-on-primary rounded-full shadow-sm z-10":I?"border border-primary text-primary rounded-full":k?"text-on-surface":"text-gray-300"}
                    ${!F&&!R&&k?"hover:bg-surface-variant rounded-full":""}
                  `,children:P.getDate()})},D)})]}),v.jsxs("div",{className:"flex items-center justify-between border-t border-outline-variant pt-3 px-2",children:[v.jsx("button",{onClick:C,className:"text-xs font-bold text-primary hover:bg-primary/5 px-3 py-1.5 rounded-full transition-colors",children:"Hoje"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:h,className:"text-xs font-bold text-error hover:bg-error/5 px-3 py-1.5 rounded-full transition-colors",children:"Limpar"}),v.jsx("button",{onClick:()=>a(!1),className:"text-xs font-bold text-primary bg-primary/10 hover:bg-primary/20 px-4 py-1.5 rounded-full transition-colors",children:"Concluir"})]})]})]})]})},KTe=(e,t=200,r=200,n=.7)=>new Promise((i,a)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=o=>{const c=new Image;c.src=o.target?.result,c.onload=()=>{const u=document.createElement("canvas");let d=c.width,h=c.height;d>h?d>t&&(h=Math.round(h*=t/d),d=t):h>r&&(d=Math.round(d*=r/h),h=r),u.width=d,u.height=h;const g=u.getContext("2d");if(!g){a(new Error("Could not get canvas context"));return}g.drawImage(c,0,0,d,h);const x=u.toDataURL("image/jpeg",n);i(x)},c.onerror=u=>a(u)},s.onerror=o=>a(o)}),WTe=({currentUser:e,users:t,onAddUser:r,onUpdateUser:n,onDeleteUser:i,onCleanupDuplicates:a,totalClients:s})=>{const[o,c]=M.useState(null),[u,d]=M.useState(""),[h,g]=M.useState(""),[x,_]=M.useState(""),w=qX(e.role),T=w.includes("sales_external")?"sales_external":w[0],[C,L]=M.useState(T),[P,D]=M.useState("Externo"),[F,R]=M.useState("#3B82F6"),[I,k]=M.useState(void 0),O=M.useRef(null),[B,V]=M.useState("Todos"),j=()=>{c(null),d(""),g(""),_(""),L(T),D("Externo"),R("#3B82F6"),k(void 0),O.current&&(O.current.value="")},G=ue=>{if(!iE(e.role,ue.role)){alert("Voc no tem permisso para editar este usurio (Nvel Hierrquico Superior ou Igual).");return}c(ue.id),d(ue.name),g(ue.username),_(ue.password||""),L(GX(ue.role)),D(ue.salesCategory||"N/A"),R(ue.color||"#3B82F6"),k(ue.photoURL),window.scrollTo({top:0,behavior:"smooth"})},de=async ue=>{const ae=ue.target.files?.[0];if(ae){if(!["image/jpeg","image/png"].includes(ae.type)){alert("Apenas imagens JPEG ou PNG so permitidas.");return}if(ae.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB.");return}try{const _e=await KTe(ae);k(_e)}catch(_e){console.error("Erro ao processar imagem:",_e),alert("Erro ao processar a imagem. Tente novamente.")}}},ge=ue=>{if(ue.preventDefault(),!u||!h||!x)return;const ae=Ra[C]>=4,_e={id:o||Date.now().toString(),name:u,username:h,role:C,password:x,salesCategory:ae?P:"N/A",color:ae?F:void 0,photoURL:I};o?n(_e):r(_e),j()},ie=t.filter(ue=>B==="Todos"||B==="N/A"&&Ra[ue.role]<=2?!0:ue.salesCategory===B),fe=["Todos","Externo","Interno","Mercado Livre"];return v.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[v.jsxs("div",{className:`bg-white rounded-[28px] shadow-elevation-1 p-6 transition-all border ${o?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${o?"text-primary":"text-on-surface"}`,children:[o?v.jsx(nE,{className:"w-5 h-5"}):v.jsx(a4,{className:"w-5 h-5 text-primary"}),o?"Editar Usurio":"Cadastrar Novo Usurio"]}),o&&v.jsxs("button",{onClick:j,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[v.jsx(La,{className:"w-4 h-4"})," Cancelar Edio"]})]}),v.jsxs("form",{onSubmit:ge,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-3 flex justify-center mb-4",children:[v.jsxs("div",{className:"relative group",children:[v.jsx("div",{className:`w-24 h-24 rounded-full overflow-hidden border-2 flex items-center justify-center bg-surface-container-highest ${I?"border-primary":"border-dashed border-outline-variant"}`,children:I?v.jsx("img",{src:I,alt:"Profile",className:"w-full h-full object-cover"}):v.jsx(Ma,{className:"w-10 h-10 text-on-surface-variant/50"})}),v.jsxs("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 p-1.5 bg-primary text-on-primary rounded-full shadow-md cursor-pointer hover:bg-primary/90 transition-colors",title:"Alterar foto",children:[v.jsx(xJ,{className:"w-4 h-4"}),v.jsx("input",{id:"photo-upload",type:"file",accept:"image/jpeg, image/png",onChange:de,className:"hidden",ref:O})]}),I&&v.jsx("button",{type:"button",onClick:()=>{k(void 0),O.current&&(O.current.value="")},className:"absolute -top-1 -right-1 p-1 bg-error text-white rounded-full shadow-md hover:bg-error/90 transition-colors",title:"Remover foto",children:v.jsx(La,{className:"w-3 h-3"})})]}),v.jsxs("div",{className:"ml-4 flex flex-col justify-center",children:[v.jsx("span",{className:"text-sm font-medium text-on-surface",children:"Foto de Perfil"}),v.jsx("span",{className:"text-xs text-on-surface-variant",children:"JPG ou PNG at 2MB."})]})]}),v.jsxs("div",{className:"lg:col-span-2",children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),v.jsx("input",{type:"text",value:u,onChange:ue=>d(ue.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),v.jsx("input",{type:"text",value:h,onChange:ue=>g(ue.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),v.jsx("input",{type:"text",value:x,onChange:ue=>_(ue.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),v.jsx("select",{value:C,onChange:ue=>L(ue.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:w.map(ue=>v.jsx("option",{value:ue,children:cU[ue]||ue},ue))}),v.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 pl-1",children:"* Voc s pode criar nveis abaixo do seu."})]}),Ra[C]>=4&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"animate-fade-in",children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),v.jsxs("select",{value:P,onChange:ue=>D(ue.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[v.jsx("option",{value:"Externo",children:"Externo"}),v.jsx("option",{value:"Interno",children:"Interno"}),v.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),v.jsxs("div",{className:"animate-fade-in",children:[v.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"color",value:F,onChange:ue=>R(ue.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),v.jsx("input",{type:"text",value:F,onChange:ue=>R(ue.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),v.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:v.jsxs("button",{type:"submit",disabled:!u||!h||!x,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${o?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[o?v.jsx(Mm,{className:"w-4 h-4"}):v.jsx(a4,{className:"w-4 h-4"}),o?"Salvar Alteraes":"Criar Acesso"]})})]})]}),v.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 overflow-hidden",children:[v.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[v.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[v.jsx(Ma,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",ie.length,")"]}),v.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[v.jsx(Ki,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),v.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",v.jsx("strong",{children:s}),s>143&&v.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),v.jsxs("button",{onClick:a,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[v.jsx(Ki,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),v.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:fe.map(ue=>v.jsx("button",{onClick:()=>V(ue),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${B===ue?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:ue},ue))})]}),v.jsx("div",{className:"hidden md:block overflow-x-auto",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),v.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),v.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),v.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),v.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),v.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),v.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[ie.map(ue=>v.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${o===ue.id?"bg-primary-container/30":""}`,children:[v.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30",children:ue.photoURL?v.jsx("img",{src:ue.photoURL,alt:ue.name,className:"w-full h-full object-cover"}):v.jsx(Ma,{className:"w-4 h-4 text-primary"})}),ue.name]})}),v.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:ue.username}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${Ra[ue.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:s4(ue.role)})}),v.jsx("td",{className:"px-6 py-4",children:Ra[ue.role]>=4?v.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[v.jsx(ss,{className:"w-3.5 h-3.5"}),ue.salesCategory||"N/A"]}):v.jsx("span",{className:"text-outline-variant",children:"-"})}),v.jsx("td",{className:"px-6 py-4",children:Ra[ue.role]>=4&&ue.color?v.jsx("div",{className:"flex items-center gap-2",title:ue.color,children:v.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:ue.color}})}):v.jsx("span",{className:"text-outline-variant",children:"-"})}),v.jsx("td",{className:"px-6 py-4 text-right",children:v.jsx("div",{className:"flex items-center justify-end gap-2",children:iE(e.role,ue.role)?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>G(ue),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:v.jsx(nE,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>i(ue.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:v.jsx(pf,{className:"w-4 h-4"})})]}):v.jsx("div",{className:"flex items-center gap-2 opacity-30 cursor-not-allowed",children:v.jsx("span",{className:"text-xs italic",children:"Sem permisso"})})})})]},ue.id)),ie.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),v.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[ie.map(ue=>v.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${o===ue.id?"bg-primary-container/30 border-primary/30":""}`,children:[v.jsxs("div",{className:"flex justify-between items-start mb-3",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30 flex-shrink-0",children:ue.photoURL?v.jsx("img",{src:ue.photoURL,alt:ue.name,className:"w-full h-full object-cover"}):v.jsx(Ma,{className:"w-5 h-5 text-primary"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-on-surface",children:ue.name}),v.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",ue.username]})]})]}),v.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${Ra[ue.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:s4(ue.role)})]}),v.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[v.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[v.jsx("span",{children:"Categoria:"}),v.jsx("span",{className:"font-medium text-on-surface",children:ue.salesCategory||"-"})]}),v.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[v.jsx("span",{children:"Senha:"}),v.jsx("span",{className:"font-mono",children:ue.password||"***"})]})]}),v.jsx("div",{className:"flex justify-end gap-2 pt-2",children:iE(e.role,ue.role)&&v.jsxs(v.Fragment,{children:[v.jsxs("button",{onClick:()=>G(ue),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[v.jsx(nE,{className:"w-3.5 h-3.5"})," Editar"]}),v.jsxs("button",{onClick:()=>i(ue.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[v.jsx(pf,{className:"w-3.5 h-3.5"})," Remover"]})]})})]},ue.id)),ie.length===0&&v.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},YTe=({categories:e,onAddCategory:t,onDeleteCategory:r})=>{const[n,i]=M.useState(""),a=s=>{s.preventDefault(),n.trim()&&(t(n.trim()),i(""))};return v.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:v.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[v.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[v.jsx(sU,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),v.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),v.jsxs("form",{onSubmit:a,className:"flex gap-3 mb-8",children:[v.jsxs("div",{className:"relative flex-1",children:[v.jsx(V2,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),v.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),v.jsxs("button",{type:"submit",disabled:!n.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[v.jsx(B2,{className:"w-4 h-4"})," Adicionar"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.map(s=>v.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[v.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[v.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s]}),v.jsx("button",{onClick:()=>r(s),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:v.jsx(pf,{className:"w-4 h-4"})})]},s)),e.length===0&&v.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},JTe=({products:e,onUploadProducts:t,onClearProducts:r,onSaveProducts:n,apiKey:i})=>{const[a,s]=M.useState(!1),[o,c]=M.useState(""),[u,d]=M.useState(!1),[h,g]=M.useState({current:0,total:0}),[x,_]=M.useState([]),[w,T]=M.useState(null),[C,L]=M.useState(!1);M.useEffect(()=>{_(e),L(!1)},[e]);const P=async j=>{const G=j.target.files?.[0];if(G){s(!0);try{let de=[];const ge=G.name.toLowerCase();if(ge.endsWith(".csv"))de=await HU(G);else if(ge.endsWith(".xlsx")||ge.endsWith(".xls"))de=await SB(G);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");t(de),j.target.value=""}catch(de){console.error("Error parsing products:",de),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{s(!1)}}},D=()=>{n&&(n(x),L(!1),alert("Alteraes salvas com sucesso!"))},F=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(x.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${x.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){d(!0),g({current:0,total:x.length});try{const j=await tye(x,i,(G,de)=>{g({current:G,total:de})});_(j),L(!0),alert(` ${j.length} produtos foram categorizados pela IA!`)}catch(j){console.error("AI Categorization failed",j),alert(`Erro ao categorizar produtos: ${j.message||"Erro desconhecido"}`)}finally{d(!1),g({current:0,total:0})}}},R=(j,G,de)=>{const ge=[...x];ge[j]={...ge[j],[G]:de},_(ge),L(!0)},I=j=>{let G="asc";w&&w.key===j&&w.direction==="asc"&&(G="desc"),T({key:j,direction:G})},k=j=>w?[...j].sort((G,de)=>{let ge=G[w.key],ie=de[w.key];return w.key==="price"||w.key==="discount"?(ge=Number(ge||0),ie=Number(ie||0)):(ge=String(ge||"").toLowerCase(),ie=String(ie||"").toLowerCase()),ge<ie?w.direction==="asc"?-1:1:ge>ie?w.direction==="asc"?1:-1:0}):j,O=x.map((j,G)=>({...j,originalIndex:G})).filter(j=>(j.name||"").toLowerCase().includes(o.toLowerCase())||(j.sku||"").toLowerCase().includes(o.toLowerCase())||(j.brand||"").toLowerCase().includes(o.toLowerCase())||(j.category||"").toLowerCase().includes(o.toLowerCase())||(j.factoryCode||"").toLowerCase().includes(o.toLowerCase())),B=k(O),V=({column:j})=>w?.key!==j?v.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):w.direction==="asc"?v.jsx(mJ,{className:"w-3 h-3 ml-1 inline-block text-primary"}):v.jsx(lJ,{className:"w-3 h-3 ml-1 inline-block text-primary"});return v.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[v.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[v.jsx(ao,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),v.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),v.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[C&&v.jsxs("button",{onClick:D,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[v.jsx(Mm,{className:"w-4 h-4"})," Salvar Alteraes"]}),e.length>0&&v.jsxs("button",{onClick:F,disabled:u,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?v.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):v.jsx(i4,{className:"w-4 h-4"}),u?"Processando...":"IA Classificar"]}),e.length>0&&v.jsxs("button",{onClick:r,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[v.jsx(pf,{className:"w-4 h-4"})," Limpar"]}),v.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${a?"opacity-50 pointer-events-none":""}`,children:[a?v.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):v.jsx(BX,{className:"w-4 h-4"}),a?"Processando...":"Importar CSV",v.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:P})]})]})]}),e.length===0?v.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[v.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:v.jsx(Ey,{className:"w-8 h-8 text-outline"})}),v.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),v.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):v.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[v.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[v.jsx(zo,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),v.jsx("input",{type:"text",value:o,onChange:j=>c(j.target.value),placeholder:"Filtrar por SKU, Marca, Departamento, Nome...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),v.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:v.jsxs("table",{className:"w-full text-sm text-left",children:[v.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:v.jsxs("tr",{children:[v.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>I("sku"),children:["SKU ",v.jsx(V,{column:"sku"})]}),v.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("brand"),children:["Marca ",v.jsx(V,{column:"brand"})]}),v.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>I("name"),children:["Produto ",v.jsx(V,{column:"name"})]}),v.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>I("category"),children:["Departamento ",v.jsx(V,{column:"category"})]}),v.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("price"),children:["Preo (R$) ",v.jsx(V,{column:"price"})]}),v.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>I("discount"),children:["Desc. (%) ",v.jsx(V,{column:"discount"})]})]})}),v.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:B.map(j=>v.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[v.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:j.sku}),v.jsx("td",{className:"px-4 py-2 font-bold text-primary text-xs uppercase",children:j.brand}),v.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:j.name,children:j.name}),v.jsx("td",{className:"px-2 py-2",children:v.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:j.category,onChange:G=>R(j.originalIndex,"category",G.target.value),title:"Editar Categoria",placeholder:"Categoria"})}),v.jsx("td",{className:"px-2 py-2 text-right",children:v.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:j.price,onChange:G=>R(j.originalIndex,"price",parseFloat(G.target.value)||0),title:"Editar Preo",placeholder:"0,00"})}),v.jsx("td",{className:"px-2 py-2 text-right",children:v.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:j.discount||0,onChange:G=>R(j.originalIndex,"discount",parseFloat(G.target.value)||0),title:"Editar Desconto",placeholder:"0.0"})})]},`${j.sku}-${j.originalIndex}`))})]})}),v.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[B.map(j=>v.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:j.sku}),v.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:j.name}),v.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:j.brand})]}),v.jsx("div",{className:"text-right",children:v.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:j.factoryCode})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Departamento"}),v.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:j.category,onChange:G=>R(j.originalIndex,"category",G.target.value),title:"Editar Departamento",placeholder:"Departamento"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),v.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:j.discount||0,onChange:G=>R(j.originalIndex,"discount",parseFloat(G.target.value)||0),title:"Editar Desconto",placeholder:"0"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),v.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:j.price,onChange:G=>R(j.originalIndex,"price",parseFloat(G.target.value)||0),title:"Editar Preo",placeholder:"0,00"})]})]},`${j.sku}-${j.originalIndex}`)),B.length===0&&v.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),v.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[v.jsxs("span",{children:["Total de Produtos: ",v.jsx("strong",{children:x.length})]}),v.jsxs("span",{children:["Exibindo: ",v.jsx("strong",{children:B.length})]})]})]})]}),u&&v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[v.jsx(i4,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),v.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&d(!1)},className:"text-on-surface-variant hover:text-on-surface",title:"Cancelar categorizao IA",children:v.jsx(La,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[v.jsx("span",{children:"Processando produtos..."}),v.jsxs("span",{className:"font-mono font-bold text-primary",children:[h.current," / ",h.total]})]}),v.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${h.current/h.total*100}%`}})}),v.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},XTe=({isOpen:e,onClose:t,onSaveToCloud:r,onClearDatabase:n,isFirebaseConnected:i=!1})=>{const[a,s]=M.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[o,c]=M.useState("idle"),[u,d]=M.useState("");M.useEffect(()=>{if(e){const _=B7();_&&(s(_),c("success"),d("Configurao salva encontrada."))}},[e]);const h=_=>{s({...a,[_.target.name]:_.target.value}),c("idle"),d("")},g=async()=>{if(c("testing"),d("Testando conexo..."),!a.apiKey||!a.projectId){c("error"),d("Campos obrigatrios faltando.");return}try{await wN(a)?(_Ee(a),c("success"),d("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(c("error"),d("Falha ao conectar. Verifique as credenciais."))}catch(_){c("error"),d("Erro: "+_.message)}},x=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(bEe(),s({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),c("idle"),d("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return e?v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col overflow-hidden transform transition-all animate-scale-in border border-white/20",children:[v.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white shrink-0 relative",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"p-2.5 bg-purple-600 rounded-2xl shadow-lg ring-4 ring-purple-500/20",children:v.jsx(xA,{className:"w-5 h-5"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold tracking-tight",children:"Cloud Sync"}),v.jsx("p",{className:"text-slate-400 text-[10px] font-medium uppercase tracking-wider",children:"Infraestrutura Firebase"})]})]}),v.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-white/50 hover:text-white transition-colors",title:"Fechar",children:v.jsx(La,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[v.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4 mb-2",children:[v.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:v.jsx(aU,{className:"w-4 h-4 text-blue-600"})}),v.jsxs("p",{className:"text-[11px] text-blue-800 leading-relaxed font-medium",children:["Insira as credenciais do seu projeto Firebase. Voc as encontra no Console ",">"," Configuraes ",">"," Seus aplicativos."]})]}),v.jsx("div",{className:"grid grid-cols-1 gap-3",children:v.jsx("div",{className:"space-y-3",children:["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].map(_=>v.jsxs("div",{className:"relative group",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500/30 group-focus-within:bg-purple-500 transition-colors"})}),v.jsx("input",{type:"text",name:_,placeholder:_,value:a[_],onChange:h,className:"w-full bg-gray-50 border border-gray-100 rounded-xl pl-8 pr-4 py-3 text-xs text-gray-700 placeholder:text-gray-400 focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none transition-all font-mono"})]},_))})}),u&&v.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-widest p-4 rounded-xl flex items-center gap-3 border shadow-sm ${o==="error"?"bg-red-50 border-red-100 text-red-600":o==="success"?"bg-green-50 border-green-100 text-green-600":"bg-gray-50 border-gray-100 text-gray-500"}`,children:[o==="testing"&&v.jsx($c,{className:"w-4 h-4 animate-spin"}),o==="success"&&v.jsx(uh,{className:"w-4 h-4"}),u]}),i&&r&&n&&v.jsxs("div",{className:"pt-2",children:[v.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Operaes de Dados"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:r,className:"flex-1 py-3 bg-white hover:bg-blue-50 text-blue-600 text-xs font-bold rounded-xl border border-blue-100 shadow-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[v.jsx(xA,{className:"w-4 h-4"}),"Backup"]}),v.jsxs("button",{onClick:n,className:"flex-1 py-3 bg-white hover:bg-red-50 text-red-600 text-xs font-bold rounded-xl border border-red-100 shadow-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[v.jsx(pf,{className:"w-4 h-4"}),"Limpar"]})]})]})]}),v.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-wrap justify-end gap-3 shrink-0",children:[o==="success"&&v.jsxs("button",{onClick:x,className:"px-4 py-2 text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-50 rounded-xl transition-all mr-auto flex items-center gap-2 border border-red-100",children:[v.jsx(pf,{className:"w-4 h-4"})," Desconectar"]}),v.jsx("button",{onClick:t,className:"px-5 py-2.5 text-gray-500 hover:text-gray-800 font-bold text-[10px] uppercase tracking-widest transition-colors",children:"Cancelar"}),v.jsx("button",{onClick:g,disabled:o==="testing",className:"px-6 py-2.5 bg-purple-600 hover:bg-purple-700 text-white font-bold text-[10px] uppercase tracking-widest rounded-xl shadow-lg shadow-purple-500/20 transition-all flex items-center gap-2 disabled:opacity-50 active:scale-95",children:o==="testing"?v.jsxs(v.Fragment,{children:[v.jsx($c,{className:"w-3.5 h-3.5 animate-spin"})," Verificando..."]}):"Salvar e Conectar"})]})]})}):null},ZTe=({onAccept:e,onDecline:t})=>{const[r,n]=M.useState(!1);M.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const o=setTimeout(()=>n(!0),1500);return()=>clearTimeout(o)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),n(!1),e()},a=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),n(!1),t()};return r?v.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] p-4 animate-slide-up",children:v.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-3xl p-6 flex flex-col md:flex-row items-center justify-between gap-6 ring-1 ring-blue-500/10",children:[v.jsxs("div",{className:"flex items-start gap-5",children:[v.jsx("div",{className:"bg-blue-600/10 p-4 rounded-2xl text-blue-600 shrink-0 ring-1 ring-blue-500/20",children:v.jsx(DJ,{className:"w-7 h-7"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1.5 tracking-tight",children:"Privacidade e Performance"}),v.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:"Utilizamos armazenamento local para garantir que seu sistema carregue instantaneamente (cache offline). Isso permite agilidade mxima e operao em reas com sinal oscilante."})]})]}),v.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[v.jsx("button",{onClick:a,className:"flex-1 md:flex-none px-6 py-3 text-xs font-bold text-gray-400 uppercase tracking-widest hover:text-gray-700 transition-all rounded-xl",children:"Pular"}),v.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-8 py-3 text-xs font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-xl shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2 active:scale-95",children:[v.jsx(uh,{className:"w-4 h-4"}),"Ativar Cache Rpido"]})]})]})}):null},QTe=({users:e,uploadedFiles:t,onUploadClients:r,onUploadProducts:n,onUploadPurchases:i,onDeleteFile:a,onReassignSalesperson:s,procState:o={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,u]=M.useState("clients"),[d,h]=M.useState(""),[g,x]=M.useState([]),_=D=>{if(D.target.files&&D.target.files.length>0){const F=Array.from(D.target.files).map(R=>({file:R,targetUserId:d||""}));x(R=>[...R,...F]),D.target.value=""}},w=D=>{x(F=>F.filter((R,I)=>I!==D))},T=(D,F)=>{x(R=>{const I=[...R];return I[D].targetUserId=F,I})},C=async()=>{const D=g.filter(F=>F.targetUserId);if(D.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const F of D)await r(F.file,F.targetUserId,!0);x([])},L=D=>{const F=D.target.files?.[0];F&&(n(F),D.target.value="")},P=t.filter(D=>D.type===c);return v.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[v.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[v.jsx(Sp,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),v.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),v.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[v.jsxs("button",{onClick:()=>u("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[v.jsx(Kp,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&v.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),v.jsxs("button",{onClick:()=>u("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[v.jsx(ao,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&v.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),v.jsxs("button",{onClick:()=>u("purchases"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="purchases"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[v.jsx(Ty,{className:"w-4 h-4"}),"Atualizar Compras (Razo Social)",c==="purchases"&&v.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),o?.isActive&&v.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${o.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[o.status==="processing"||o.status==="reading"?v.jsx($c,{className:"w-5 h-5 animate-spin"}):o.status==="completed"?v.jsx(af,{className:"w-5 h-5"}):v.jsx(Ki,{className:"w-5 h-5"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-sm",children:o.status==="reading"?"Lendo arquivo...":o.status==="processing"?"Processando dados...":o.status==="completed"?"Importao Concluda!":"Erro na Importao"}),o.errorMessage&&v.jsx("p",{className:"text-xs mt-1 opacity-80",children:o.errorMessage})]})]}),v.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[v.jsx("div",{className:"lg:col-span-4",children:v.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[v.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[v.jsx(eAe,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:D=>h(D.target.value),children:[v.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),e.filter(D=>zd(D.role)).map(D=>v.jsx("option",{value:D.id,children:D.name},D.id))]}),v.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:v.jsx(G6,{className:"w-4 h-4"})})]})]}),g.length>0&&v.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[v.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[v.jsxs("span",{children:["Arquivos na Fila (",g.length,")"]}),v.jsx("button",{onClick:()=>x([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),v.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:g.map((D,F)=>v.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[v.jsx(Ey,{className:"w-4 h-4 text-primary shrink-0"}),v.jsx("span",{className:"truncate flex-1 font-medium",title:D.file.name,children:D.file.name}),v.jsxs("select",{value:D.targetUserId,onChange:R=>T(F,R.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${D.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[v.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),e.filter(R=>zd(R.role)).map(R=>v.jsx("option",{value:R.id,children:R.name},R.id))]}),v.jsx("button",{onClick:()=>w(F),className:"text-on-surface-variant hover:text-error p-1",children:v.jsx(La,{className:"w-3 h-3"})})]},F))}),v.jsx("button",{onClick:C,disabled:o?.isActive||g.some(D=>!D.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:o?.isActive?v.jsxs(v.Fragment,{children:[v.jsx($c,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(af,{className:"w-3 h-3"}),"Processar ",g.length," Arquivos"]})})]}),v.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[v.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[v.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:v.jsx(Sp,{className:"w-6 h-6"})}),v.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),v.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:_,disabled:o?.isActive&&o.status==="processing"})]})]}):c==="purchases"?v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-xs text-blue-800 mb-2 flex gap-3 border border-blue-100 italic",children:[v.jsx(Ki,{className:"w-5 h-5 shrink-0 text-blue-500"}),v.jsx("p",{children:"Este upload identifica o cliente pela **Razo Social** e substitui todo o histrico de compras dele pelos produtos deste arquivo."})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Destino"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:D=>h(D.target.value),children:[v.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),e.filter(D=>zd(D.role)).map(D=>v.jsx("option",{value:D.id,children:D.name},D.id))]}),v.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:v.jsx(G6,{className:"w-4 h-4"})})]})]}),v.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-blue-300 bg-blue-50/30 hover:bg-blue-50/50 hover:border-blue-500":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[v.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[v.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white":"bg-surface-variant text-on-surface-variant"}`,children:v.jsx(Sp,{className:"w-6 h-6"})}),v.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Carregar Planilha de Compras"})]}),v.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:D=>{const F=D.target.files?.[0];F&&d&&(i(F,d),D.target.value="")},disabled:o?.isActive&&o.status==="processing"})]}),v.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant italic",children:[v.jsx(Ty,{className:"w-3 h-3"}),v.jsx("span",{children:"Colunas Esperadas: Razo Social, SKU, Nome do Produto"})]})]}):v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[v.jsx(ao,{className:"w-5 h-5 shrink-0"}),v.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),v.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[v.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:v.jsx(ao,{className:"w-6 h-6"})}),v.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),v.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:L,disabled:o?.isActive&&o.status==="processing"})]})]})]})}),v.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[v.jsx("div",{className:"flex items-center justify-between mb-2",children:v.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[v.jsx(Ey,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",v.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:P.length})]})}),P.length===0?v.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[v.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:v.jsx(Ty,{className:"w-10 h-10 text-outline"})}),v.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),v.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):v.jsx("div",{className:"space-y-3",children:P.map(D=>v.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[v.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[v.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${D.status==="error"?"bg-error-container text-error":D.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:D.status==="processing"?v.jsx($c,{className:"w-5 h-5 animate-spin"}):D.status==="error"?v.jsx(Ki,{className:"w-5 h-5"}):v.jsx(Ey,{className:"w-5 h-5"})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:D.fileName,children:D.fileName}),v.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Hp,{className:"w-3 h-3"}),new Date(D.uploadDate).toLocaleDateString(),v.jsx("span",{className:"opacity-60 ml-1",children:new Date(D.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(af,{className:"w-3 h-3"}),D.itemCount," registros"]})]}),D.status==="error"&&v.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:D.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&v.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:e.find(R=>R.id===D.salespersonId)?.name?.charAt(0)||"?"}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsxs("select",{value:D.salespersonId,onChange:F=>s?.(D.id,F.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:D.status==="processing",children:[v.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),e.filter(F=>zd(F.role)).map(F=>v.jsx("option",{value:F.id,className:"bg-surface text-on-surface",children:F.name},F.id))]}),v.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),v.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:D.status==="processing"?v.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):v.jsxs("button",{onClick:()=>a(D.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[v.jsx(pf,{className:"w-4 h-4"}),v.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},D.id))})]})]})]})};function G6(e){return v.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),v.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function eAe(e){return v.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),v.jsx("circle",{cx:"12",cy:"10",r:"5"}),v.jsx("path",{d:"M12 15V3"}),v.jsx("path",{d:"m9 6 3-3 3 3"})]})}const tAe=({isOpen:e,onClose:t,onConfirm:r,suggestedKey:n})=>{const[i,a]=kr.useState(!1),[s,o]=kr.useState(""),[c,u]=kr.useState(!1);if(!e)return null;const d=()=>{navigator.clipboard.writeText(n)},h=g=>g?g.length<=10?"":`${g.slice(0,6)}${g.slice(-4)}`:"";return v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[v.jsxs("div",{className:"bg-blue-600 p-8 text-center relative",children:[v.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-white/50 hover:text-white transition-colors",title:"Fechar",children:v.jsx(La,{className:"w-6 h-6"})}),v.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-md ring-4 ring-blue-500/30 shadow-inner",children:v.jsx(Xd,{className:"w-8 h-8 text-white"})}),v.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Ativar Mapa"}),v.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"Configure seu acesso ao Google Maps"})]}),v.jsxs("div",{className:"p-8 space-y-6",children:[v.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4",children:[v.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:v.jsx(Ki,{className:"w-5 h-5 text-blue-600"})}),v.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:i?"Insira sua prpria Chave de API do Google Maps abaixo para ativar as funcionalidades.":"Detectamos que seu mapa est aguardando ativao. Use a chave padro do sistema."})]}),i?v.jsxs("div",{className:"animate-fade-in",children:[v.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Configurao Manual"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",value:s,onChange:g=>o(g.target.value),placeholder:"Comea com AIza...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-12 pr-4 py-4 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",autoFocus:!0}),v.jsx(vX,{className:"absolute left-4 top-4.5 w-4 h-4 text-gray-400"})]})]}):v.jsxs("div",{className:"animate-fade-in",children:[v.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Chave Recomendada"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("div",{className:"flex-1 bg-gray-50 border border-gray-100 rounded-xl px-4 py-3.5 font-mono text-sm text-gray-700 flex items-center justify-between shadow-inner",children:[v.jsx("span",{className:"truncate",children:c?n:h(n)}),v.jsx("button",{onClick:()=>u(!c),className:"text-gray-400 hover:text-gray-600 p-1 transition-colors",title:c?"Esconder":"Mostrar",children:c?v.jsx(nU,{className:"w-4 h-4"}):v.jsx(iU,{className:"w-4 h-4"})})]}),v.jsx("button",{onClick:d,className:"bg-gray-50 hover:bg-gray-100 text-blue-600 p-3.5 rounded-xl transition-all border border-gray-100 shadow-sm active:scale-95",title:"Copiar chave",children:v.jsx(LJ,{className:"w-5 h-5"})})]})]}),v.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[v.jsxs("button",{onClick:()=>r(i?s:n),disabled:i&&!s.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 disabled:text-gray-500 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:[v.jsx(uh,{className:"w-5 h-5"}),i?"Ativar Manualmente":"Carregar Mapa Agora"]}),v.jsx("button",{onClick:()=>{a(!i),o(""),u(!1)},className:"w-full py-2 text-xs text-gray-400 hover:text-blue-600 font-bold uppercase tracking-widest transition-all",children:i?"Voltar para recomendada":"Usar outra chave (Manual)"})]})]})]})})},rAe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,i]=kr.useState(""),[a,s]=kr.useState(!1);return kr.useEffect(()=>{if(e){const o=localStorage.getItem("cnpja_api_key")||"";i(o)}},[e]),e?v.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[v.jsxs("div",{className:"bg-blue-600 p-8 text-center relative",children:[v.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-white/50 hover:text-white transition-colors",title:"Fechar",children:v.jsx(La,{className:"w-6 h-6"})}),v.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-md ring-4 ring-blue-500/30 shadow-inner",children:v.jsx(Xd,{className:"w-8 h-8 text-white"})}),v.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"API Comercial CNPJa"}),v.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"Configure sua chave de consulta comercial"})]}),v.jsxs("div",{className:"p-8 space-y-6",children:[v.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4",children:[v.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:v.jsx(Ki,{className:"w-5 h-5 text-blue-600"})}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:"A chave atual expirou ou est invlida. Insira sua nova Chave de API Comercial para restaurar a busca e atualizao de dados."}),v.jsxs("a",{href:"https://cnpja.com/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 font-bold flex items-center gap-1 underline",children:["Obter nova chave no site da CNPJa ",v.jsx(bA,{className:"w-3 h-3"})]})]})]}),v.jsxs("div",{className:"animate-fade-in",children:[v.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Chave de API"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:a?"text":"password",value:n,onChange:o=>i(o.target.value),placeholder:"Insira sua chave aqui...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-12 pr-12 py-4 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",autoFocus:!0}),v.jsx(Xd,{className:"absolute left-4 top-4.5 w-4 h-4 text-gray-400"}),v.jsx("button",{onClick:()=>s(!a),className:"absolute right-4 top-4.5 text-gray-400 hover:text-gray-600 p-1 transition-colors",title:a?"Esconder":"Mostrar",children:a?v.jsx(nU,{className:"w-4 h-4"}):v.jsx(iU,{className:"w-4 h-4"})})]})]}),v.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[v.jsxs("button",{onClick:()=>r(n),disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 disabled:text-gray-500 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:[v.jsx(uh,{className:"w-5 h-5"}),"Salvar Configurao"]}),v.jsx("p",{className:"text-[10px] text-center text-gray-400",children:"A chave ser salva apenas neste navegador."})]})]})]})}):null},nAe=({progress:e,message:t})=>{const[r,n]=M.useState(0);M.useEffect(()=>{if(r<e){const a=setTimeout(()=>n(s=>Math.min(s+1,e)),20);return()=>clearTimeout(a)}},[e,r]);const i=()=>e<30?v.jsx(TA,{className:"w-8 h-8 text-blue-400 animate-pulse"}):e<60?v.jsx(_A,{className:"w-8 h-8 text-purple-400 animate-bounce"}):e<90?v.jsx(ao,{className:"w-8 h-8 text-orange-400 animate-pulse"}):v.jsx(tU,{className:"w-8 h-8 text-green-400"});return v.jsxs("div",{className:"fixed inset-0 z-[999] bg-slate-900 flex flex-col items-center justify-center p-6 text-white font-sans",children:[v.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] opacity-10 bg-cover bg-center"}),v.jsxs("div",{className:"relative z-10 w-full max-w-sm text-center",children:[v.jsx("div",{className:"mb-8 flex justify-center",children:v.jsx("div",{className:"p-4 bg-white/5 rounded-3xl backdrop-blur-md border border-white/10 shadow-2xl",children:i()})}),v.jsx("h2",{className:"text-2xl font-bold mb-2 tracking-tight",children:"Preparando seu Ambiente"}),v.jsx("p",{className:"text-slate-400 text-sm mb-10 h-5",children:t}),v.jsxs("div",{className:"relative pt-1",children:[v.jsxs("div",{className:"flex mb-4 items-center justify-between",children:[v.jsx("div",{children:v.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-200 bg-blue-900/30 border border-blue-500/20",children:r===100?"Concludo":"Sincronizando"})}),v.jsx("div",{className:"text-right",children:v.jsxs("span",{className:"text-sm font-bold inline-block text-blue-400",children:[r,"%"]})})]}),v.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded-full bg-slate-800 border border-white/5 shadow-inner",children:v.jsx("div",{style:{width:`${r}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-to-r from-blue-600 to-purple-600 transition-all duration-300 ease-out"})}),v.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 uppercase font-bold tracking-widest px-1",children:[v.jsx("span",{children:"Incio"}),v.jsx("span",{children:"Autenticado"}),v.jsx("span",{children:"Pronto"})]})]})]}),v.jsx("div",{className:"absolute bottom-10 text-slate-600 text-[10px] uppercase tracking-[0.2em] font-medium",children:"Sincronizando com gen-lang-client-0586123917"})]})};function t$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=t$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=t$(e))&&(n&&(n+=" "),n+=t);return n}var iAe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function SN(e){if(typeof e!="string")return!1;var t=iAe;return t.includes(e)}var aAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sAe=new Set(aAe);function r$(e){return typeof e!="string"?!1:sAe.has(e)}function n$(e){return typeof e=="string"&&e.startsWith("data-")}function Ua(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r$(r)||n$(r))&&(t[r]=e[r]);return t}function Af(e){if(e==null)return null;if(M.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ua(t)}return typeof e=="object"&&!Array.isArray(e)?Ua(e):null}function ga(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r$(r)||n$(r)||SN(r))&&(t[r]=e[r]);return t}function oAe(e){return e==null?null:M.isValidElement(e)?ga(e.props):typeof e=="object"&&!Array.isArray(e)?ga(e):null}var lAe=["children","width","height","viewBox","className","style","title","desc"];function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},US.apply(null,arguments)}function cAe(e,t){if(e==null)return{};var r,n,i=uAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CN=M.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=e,d=cAe(e,lAe),h=a||{width:n,height:i,x:0,y:0},g=pr("recharts-surface",s);return M.createElement("svg",US({},ga(d),{className:g,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),M.createElement("title",null,c),M.createElement("desc",null,u),r)}),fAe=["children","className"];function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BS.apply(null,arguments)}function dAe(e,t){if(e==null)return{};var r,n,i=hAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var In=M.forwardRef((e,t)=>{var{children:r,className:n}=e,i=dAe(e,fAe),a=pr("recharts-layer",n);return M.createElement("g",BS({className:a},ga(i),{ref:t}),r)}),i$=M.createContext(null),pAe=()=>M.useContext(i$);function zr(e){return function(){return e}}const a$=Math.cos,Lx=Math.sin,yo=Math.sqrt,jx=Math.PI,f_=2*jx,VS=Math.PI,zS=2*VS,Wu=1e-6,mAe=zS-Wu;function s$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function gAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return s$;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class vAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?s$:gAe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,h=o-r,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Wu)if(!(Math.abs(h*c-u*d)>Wu)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-s,_=i-o,w=c*c+u*u,T=x*x+_*_,C=Math.sqrt(w),L=Math.sqrt(g),P=a*Math.tan((VS-Math.acos((w+g-T)/(2*C*L)))/2),D=P/L,F=P/C;Math.abs(D-1)>Wu&&this._append`L${t+D*d},${r+D*h}`,this._append`A${a},${a},0,0,${+(h*x>d*_)},${this._x1=t+F*c},${this._y1=r+F*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,h=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Wu||Math.abs(this._y1-d)>Wu)&&this._append`L${u},${d}`,n&&(g<0&&(g=g%zS+zS),g>mAe?this._append`A${n},${n},0,1,${h},${t-o},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:g>Wu&&this._append`A${n},${n},0,${+(g>=VS)},${h},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function NN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vAe(t)}function IN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function o$(e){this._context=e}o$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function d_(e){return new o$(e)}function l$(e){return e[0]}function c$(e){return e[1]}function u$(e,t){var r=zr(!0),n=null,i=d_,a=null,s=NN(o);e=typeof e=="function"?e:e===void 0?l$:zr(e),t=typeof t=="function"?t:t===void 0?c$:zr(t);function o(c){var u,d=(c=IN(c)).length,h,g=!1,x;for(n==null&&(a=i(x=s())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(h,u,c),+t(h,u,c));if(x)return a=null,x+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:zr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:zr(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zr(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function ay(e,t,r){var n=null,i=zr(!0),a=null,s=d_,o=null,c=NN(u);e=typeof e=="function"?e:e===void 0?l$:zr(+e),t=typeof t=="function"?t:zr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?c$:zr(+r);function u(h){var g,x,_,w=(h=IN(h)).length,T,C=!1,L,P=new Array(w),D=new Array(w);for(a==null&&(o=s(L=c())),g=0;g<=w;++g){if(!(g<w&&i(T=h[g],g,h))===C)if(C=!C)x=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),_=g-1;_>=x;--_)o.point(P[_],D[_]);o.lineEnd(),o.areaEnd()}C&&(P[g]=+e(T,g,h),D[g]=+t(T,g,h),o.point(n?+n(T,g,h):P[g],r?+r(T,g,h):D[g]))}if(L)return o=null,L+""||null}function d(){return u$().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:zr(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:zr(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:zr(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:zr(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:zr(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:zr(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:zr(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class f${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function yAe(e){return new f$(e,!0)}function xAe(e){return new f$(e,!1)}const kN={draw(e,t){const r=yo(t/jx);e.moveTo(r,0),e.arc(0,0,r,0,f_)}},_Ae={draw(e,t){const r=yo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},d$=yo(1/3),bAe=d$*2,wAe={draw(e,t){const r=yo(t/bAe),n=r*d$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},EAe={draw(e,t){const r=yo(t),n=-r/2;e.rect(n,n,r,r)}},TAe=.8908130915292852,h$=Lx(jx/10)/Lx(7*jx/10),AAe=Lx(f_/10)*h$,SAe=-a$(f_/10)*h$,CAe={draw(e,t){const r=yo(t*TAe),n=AAe*r,i=SAe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=f_*a/5,o=a$(s),c=Lx(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},FE=yo(3),NAe={draw(e,t){const r=-yo(t/(FE*3));e.moveTo(0,r*2),e.lineTo(-FE*r,-r),e.lineTo(FE*r,-r),e.closePath()}},As=-.5,Ss=yo(3)/2,$S=1/yo(12),IAe=($S/2+1)*3,kAe={draw(e,t){const r=yo(t/IAe),n=r/2,i=r*$S,a=n,s=r*$S+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(As*n-Ss*i,Ss*n+As*i),e.lineTo(As*a-Ss*s,Ss*a+As*s),e.lineTo(As*o-Ss*c,Ss*o+As*c),e.lineTo(As*n+Ss*i,As*i-Ss*n),e.lineTo(As*a+Ss*s,As*s-Ss*a),e.lineTo(As*o+Ss*c,As*c-Ss*o),e.closePath()}};function PAe(e,t){let r=null,n=NN(i);e=typeof e=="function"?e:zr(e||kN),t=typeof t=="function"?t:zr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:zr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:zr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ux(){}function Bx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function p$(e){this._context=e}p$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RAe(e){return new p$(e)}function m$(e){this._context=e}m$.prototype={areaStart:Ux,areaEnd:Ux,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OAe(e){return new m$(e)}function g$(e){this._context=e}g$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Bx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MAe(e){return new g$(e)}function v$(e){this._context=e}v$.prototype={areaStart:Ux,areaEnd:Ux,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function DAe(e){return new v$(e)}function q6(e){return e<0?-1:1}function K6(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(q6(a)+q6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function W6(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function LE(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Vx(e){this._context=e}Vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:LE(this,this._t0,W6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,LE(this,W6(this,r=K6(this,e,t)),r);break;default:LE(this,this._t0,r=K6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function y$(e){this._context=new x$(e)}(y$.prototype=Object.create(Vx.prototype)).point=function(e,t){Vx.prototype.point.call(this,t,e)};function x$(e){this._context=e}x$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function FAe(e){return new Vx(e)}function LAe(e){return new y$(e)}function _$(e){this._context=e}_$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Y6(e),i=Y6(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y6(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function jAe(e){return new _$(e)}function h_(e,t){this._context=e,this._t=t}h_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function UAe(e){return new h_(e,.5)}function BAe(e){return new h_(e,0)}function VAe(e){return new h_(e,1)}function Sf(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function HS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function zAe(e,t){return e[t]}function $Ae(e){const t=[];return t.key=e,t}function HAe(){var e=zr([]),t=HS,r=Sf,n=zAe;function i(a){var s=Array.from(e.apply(this,arguments),$Ae),o,c=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(h,s[o].key,u,a)]).data=h;for(o=0,d=IN(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:zr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:zr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?HS:typeof a=="function"?a:zr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Sf,i):r},i}function GAe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Sf(e,t)}}function qAe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Sf(e,t)}}function KAe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],h=d[n][1]||0,g=d[n-1][1]||0,x=(h-g)/2,_=0;_<o;++_){var w=e[t[_]],T=w[n][1]||0,C=w[n-1][1]||0;x+=T-C}c+=h,u+=x*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Sf(e,t)}}var jE={},UE={},J6;function WAe(){return J6||(J6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(UE)),UE}var BE={},X6;function b$(){return X6||(X6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(BE)),BE}var VE={},Z6;function PN(){return Z6||(Z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(VE)),VE}var zE={},$E={},Q6;function YAe(){return Q6||(Q6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})($E)),$E}var eF;function RN(){return eF||(eF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YAe(),r=PN();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];u?h==="\\"&&o+1<s?(o++,c+=i[o]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,a.push(c),c=""):c+=h:h==="["?(d=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,o++}return c&&a.push(c),a}e.toPath=n})(zE)),zE}var tF;function ON(){return tF||(tF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WAe(),r=b$(),n=PN(),i=RN();function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=a})(jE)),jE}var HE,rF;function JAe(){return rF||(rF=1,HE=ON().get),HE}var XAe=JAe();const Cf=Us(XAe);var ZAe=4;function zc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZAe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function mn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+zc(o)+a:i+a},"")}var pi=e=>e===0?0:e>0?1:-1,mo=e=>typeof e=="number"&&e!=+e,Nf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,at=e=>(typeof e=="number"||e instanceof Number)&&!mo(e),Jo=e=>at(e)||typeof e=="string",QAe=0,xm=e=>{var t=++QAe;return"".concat(e||"").concat(t)},Yi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!at(t)&&typeof t!="string")return n;var a;if(Nf(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return mo(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},w$=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Jr(e,t,r){return at(e)&&at(t)?zc(e+r*(t-e)):t}function E$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Cf(n,t))===r)}var bn=e=>e===null||typeof e>"u",Ym=e=>bn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Da(e){return e!=null}function qf(){}var eSe=["type","size","sizeType"];function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GS.apply(null,arguments)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){tSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tSe(e,t,r){return(t=rSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rSe(e){var t=nSe(e,"string");return typeof t=="symbol"?t:t+""}function nSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iSe(e,t){if(e==null)return{};var r,n,i=aSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T$={symbolCircle:kN,symbolCross:_Ae,symbolDiamond:wAe,symbolSquare:EAe,symbolStar:CAe,symbolTriangle:NAe,symbolWye:kAe},sSe=Math.PI/180,oSe=e=>{var t="symbol".concat(Ym(e));return T$[t]||kN},lSe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*sSe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},cSe=(e,t)=>{T$["symbol".concat(Ym(e))]=t},MN=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=iSe(e,eSe),a=iF(iF({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var g=oSe(s),x=PAe().type(g).size(lSe(r,n,s)),_=x();if(_!==null)return _},{className:c,cx:u,cy:d}=a,h=ga(a);return at(u)&&at(d)&&at(r)?M.createElement("path",GS({},h,{className:pr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};MN.registerSymbol=cSe;var A$=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,DN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{SN(i)&&(n[i]=(a=>r[i](r,a)))}),n},uSe=(e,t,r)=>n=>(e(t,r,n),null),Jm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];SN(i)&&typeof a=="function"&&(n||(n={}),n[i]=uSe(a,t,r))}),n};function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){dSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dSe(e,t,r){return(t=hSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hSe(e){var t=pSe(e,"string");return typeof t=="symbol"?t:t+""}function pSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kn(e,t){var r=fSe({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(null,arguments)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){gSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gSe(e,t,r){return(t=vSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vSe(e){var t=ySe(e,"string");return typeof t=="symbol"?t:t+""}function ySe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Is=32,xSe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function _Se(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Is/2,a=Is/6,s=Is/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return M.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Is,y2:i,className:"recharts-legend-icon"})}if(c==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Is,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return M.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Is/8,"h").concat(Is,"v").concat(Is*3/4,"h").concat(-Is,"z"),className:"recharts-legend-icon"});if(M.isValidElement(t.legendIcon)){var d=mSe({},t);return delete d.legendIcon,M.cloneElement(t.legendIcon,d)}return M.createElement(MN,{fill:o,cx:i,cy:i,size:Is,sizeType:"diameter",type:c})}function bSe(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Is,height:Is},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,h)=>{var g=d.formatter||i,x=pr({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var _=d.inactive?a:d.color,w=g?g(d.value,d,h):d.value;return M.createElement("li",zx({className:x,style:c,key:"legend-item-".concat(h)},Jm(e,d,h)),M.createElement(CN,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(w," legend icon")},M.createElement(_Se,{data:d,iconType:s,inactiveColor:a})),M.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},w))})}var wSe=e=>{var t=Kn(e,xSe),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:a},M.createElement(bSe,zx({},t,{payload:r})))},GE={},qE={},oF;function ESe(){return oF||(oF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s,a,r);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(qE)),qE}var KE={},lF;function TSe(){return lF||(lF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(KE)),KE}var WE={},cF;function S$(){return cF||(cF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(WE)),WE}var YE={},JE={},XE={},uF;function ASe(){return uF||(uF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(XE)),XE}var fF;function FN(){return fF||(fF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ASe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(JE)),JE}var ZE={},dF;function SSe(){return dF||(dF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ZE)),ZE}var hF;function CSe(){return hF||(hF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FN(),r=SSe();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(YE)),YE}var QE={},eT={},pF;function NSe(){return pF||(pF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ON();function r(n){return function(i){return t.get(i,n)}}e.property=r})(eT)),eT}var tT={},rT={},nT={},iT={},mF;function C$(){return mF||(mF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(iT)),iT}var aT={},gF;function N$(){return gF||(gF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(aT)),aT}var sT={},vF;function I$(){return vF||(vF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(sT)),sT}var yF;function ISe(){return yF||(yF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C$(),r=N$(),n=I$();function i(d,h,g){return typeof g!="function"?i(d,h,()=>{}):a(d,h,function x(_,w,T,C,L,P){const D=g(_,w,T,C,L,P);return D!==void 0?!!D:a(_,w,x,P)},new Map)}function a(d,h,g,x){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,g,x);case"function":return Object.keys(h).length>0?a(d,{...h},g,x):n.isEqualsSameValueZero(d,h);default:return t.isObject(d)?typeof h=="string"?h==="":!0:n.isEqualsSameValueZero(d,h)}}function s(d,h,g,x){if(h==null)return!0;if(Array.isArray(h))return c(d,h,g,x);if(h instanceof Map)return o(d,h,g,x);if(h instanceof Set)return u(d,h,g,x);const _=Object.keys(h);if(d==null||r.isPrimitive(d))return _.length===0;if(_.length===0)return!0;if(x?.has(h))return x.get(h)===d;x?.set(h,d);try{for(let w=0;w<_.length;w++){const T=_[w];if(!r.isPrimitive(d)&&!(T in d)||h[T]===void 0&&d[T]!==void 0||h[T]===null&&d[T]!==null||!g(d[T],h[T],T,d,h,x))return!1}return!0}finally{x?.delete(h)}}function o(d,h,g,x){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[_,w]of h.entries()){const T=d.get(_);if(g(T,w,_,d,h,x)===!1)return!1}return!0}function c(d,h,g,x){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const _=new Set;for(let w=0;w<h.length;w++){const T=h[w];let C=!1;for(let L=0;L<d.length;L++){if(_.has(L))continue;const P=d[L];let D=!1;if(g(P,T,w,d,h,x)&&(D=!0),D){_.add(L),C=!0;break}}if(!C)return!1}return!0}function u(d,h,g,x){return h.size===0?!0:d instanceof Set?c([...d],[...h],g,x):!1}e.isMatchWith=i,e.isSetMatch=u})(nT)),nT}var xF;function k$(){return xF||(xF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ISe();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(rT)),rT}var oT={},lT={},cT={},_F;function kSe(){return _F||(_F=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(cT)),cT}var uT={},bF;function LN(){return bF||(bF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(uT)),uT}var fT={},wF;function P$(){return wF||(wF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",g="[object ArrayBuffer]",x="[object Object]",_="[object Error]",w="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",P="[object Uint32Array]",D="[object BigUint64Array]",F="[object Int8Array]",R="[object Int16Array]",I="[object Int32Array]",k="[object BigInt64Array]",O="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=g,e.arrayTag=d,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=D,e.booleanTag=i,e.dataViewTag=w,e.dateTag=o,e.errorTag=_,e.float32ArrayTag=O,e.float64ArrayTag=B,e.functionTag=h,e.int16ArrayTag=R,e.int32ArrayTag=I,e.int8ArrayTag=F,e.mapTag=c,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=L,e.uint32ArrayTag=P,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(fT)),fT}var dT={},EF;function PSe(){return EF||(EF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(dT)),dT}var TF;function R$(){return TF||(TF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kSe(),r=LN(),n=P$(),i=N$(),a=PSe();function s(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,g,x=new Map,_=void 0){const w=_?.(d,h,g,x);if(w!==void 0)return w;if(i.isPrimitive(d))return d;if(x.has(d))return x.get(d);if(Array.isArray(d)){const T=new Array(d.length);x.set(d,T);for(let C=0;C<d.length;C++)T[C]=o(d[C],C,g,x,_);return Object.hasOwn(d,"index")&&(T.index=d.index),Object.hasOwn(d,"input")&&(T.input=d.input),T}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const T=new RegExp(d.source,d.flags);return T.lastIndex=d.lastIndex,T}if(d instanceof Map){const T=new Map;x.set(d,T);for(const[C,L]of d)T.set(C,o(L,C,g,x,_));return T}if(d instanceof Set){const T=new Set;x.set(d,T);for(const C of d)T.add(o(C,void 0,g,x,_));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const T=new(Object.getPrototypeOf(d)).constructor(d.length);x.set(d,T);for(let C=0;C<d.length;C++)T[C]=o(d[C],C,g,x,_);return T}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const T=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return x.set(d,T),c(T,d,g,x,_),T}if(typeof File<"u"&&d instanceof File){const T=new File([d],d.name,{type:d.type});return x.set(d,T),c(T,d,g,x,_),T}if(typeof Blob<"u"&&d instanceof Blob){const T=new Blob([d],{type:d.type});return x.set(d,T),c(T,d,g,x,_),T}if(d instanceof Error){const T=new d.constructor;return x.set(d,T),T.message=d.message,T.name=d.name,T.stack=d.stack,T.cause=d.cause,c(T,d,g,x,_),T}if(d instanceof Boolean){const T=new Boolean(d.valueOf());return x.set(d,T),c(T,d,g,x,_),T}if(d instanceof Number){const T=new Number(d.valueOf());return x.set(d,T),c(T,d,g,x,_),T}if(d instanceof String){const T=new String(d.valueOf());return x.set(d,T),c(T,d,g,x,_),T}if(typeof d=="object"&&u(d)){const T=Object.create(Object.getPrototypeOf(d));return x.set(d,T),c(T,d,g,x,_),T}return d}function c(d,h,g=d,x,_){const w=[...Object.keys(h),...t.getSymbols(h)];for(let T=0;T<w.length;T++){const C=w[T],L=Object.getOwnPropertyDescriptor(d,C);(L==null||L.writable)&&(d[C]=o(h[C],C,g,x,_))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(lT)),lT}var AF;function RSe(){return AF||(AF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R$();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(oT)),oT}var SF;function OSe(){return SF||(SF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k$(),r=RSe();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(tT)),tT}var hT={},pT={},mT={},CF;function MSe(){return CF||(CF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R$(),r=LN(),n=P$();function i(a,s){return t.cloneDeepWith(a,(o,c,u,d)=>{const h=s?.(o,c,u,d);if(h!==void 0)return h;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const g={};return d.set(a,g),t.copyProperties(g,a,u,d),g}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a?.valueOf());return t.copyProperties(g,a),g}case n.argumentsTag:{const g={};return t.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}}})}e.cloneDeepWith=i})(mT)),mT}var NF;function DSe(){return NF||(NF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MSe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(pT)),pT}var gT={},vT={},IF;function O$(){return IF||(IF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(vT)),vT}var yT={},kF;function FSe(){return kF||(kF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(yT)),yT}var PF;function LSe(){return PF||(PF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b$(),r=O$(),n=FSe(),i=RN();function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&s?.[o]==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=a})(gT)),gT}var RF;function jSe(){return RF||(RF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k$(),r=PN(),n=DSe(),i=ON(),a=LSe();function s(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(hT)),hT}var OF;function USe(){return OF||(OF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S$(),r=NSe(),n=OSe(),i=jSe();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(QE)),QE}var MF;function BSe(){return MF||(MF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ESe(),r=TSe(),n=S$(),i=CSe(),a=USe();function s(o,c=n.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.ary(a.iteratee(c),1)):[]}e.uniqBy=s})(GE)),GE}var xT,DF;function VSe(){return DF||(DF=1,xT=BSe().uniqBy),xT}var zSe=VSe();const FF=Us(zSe);function M$(e,t,r){return t===!0?FF(e,r):typeof t=="function"?FF(e,t):e}var _T={exports:{}},bT={},wT={exports:{}},ET={};var LF;function $Se(){if(LF)return ET;LF=1;var e=Ph();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function o(h,g){var x=g(),_=n({inst:{value:x,getSnapshot:g}}),w=_[0].inst,T=_[1];return a(function(){w.value=x,w.getSnapshot=g,c(w)&&T({inst:w})},[h,x,g]),i(function(){return c(w)&&T({inst:w}),h(function(){c(w)&&T({inst:w})})},[h]),s(x),x}function c(h){var g=h.getSnapshot;h=h.value;try{var x=g();return!r(h,x)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return ET.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,ET}var jF;function HSe(){return jF||(jF=1,wT.exports=$Se()),wT.exports}var UF;function GSe(){if(UF)return bT;UF=1;var e=Ph(),t=HSe();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return bT.useSyncExternalStoreWithSelector=function(u,d,h,g,x){var _=a(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=o(function(){function C(R){if(!L){if(L=!0,P=R,R=g(R),x!==void 0&&w.hasValue){var I=w.value;if(x(I,R))return D=I}return D=R}if(I=D,n(P,R))return I;var k=g(R);return x!==void 0&&x(I,k)?(P=R,I):(P=R,D=k)}var L=!1,P,D,F=h===void 0?null:h;return[function(){return C(d())},F===null?void 0:function(){return C(F())}]},[d,h,g,x]);var T=i(u,_[0],_[1]);return s(function(){w.hasValue=!0,w.value=T},[T]),c(T),T},bT}var BF;function qSe(){return BF||(BF=1,_T.exports=GSe()),_T.exports}var KSe=qSe(),jN=M.createContext(null),WSe=e=>e,Gr=()=>{var e=M.useContext(jN);return e?e.store.dispatch:WSe},Gy=()=>{},YSe=()=>Gy,JSe=(e,t)=>e===t;function ft(e){var t=M.useContext(jN),r=M.useMemo(()=>t?n=>{if(n!=null)return e(n)}:Gy,[t,e]);return KSe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:YSe,t?t.store.getState:Gy,t?t.store.getState:Gy,r,JSe)}function XSe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ZSe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function QSe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var VF=e=>Array.isArray(e)?e:[e];function e2e(e){const t=Array.isArray(e[0])?e[0]:e;return QSe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function t2e(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var r2e=class{constructor(e){this.value=e}deref(){return this.value}},n2e=typeof WeakRef<"u"?WeakRef:r2e,i2e=0,zF=1;function sy(){return{s:i2e,v:void 0,o:null,p:null}}function D$(e,t={}){let r=sy();const{resultEqualityCheck:n}=t;let i,a=0;function s(){let o=r;const{length:c}=arguments;for(let h=0,g=c;h<g;h++){const x=arguments[h];if(typeof x=="function"||typeof x=="object"&&x!==null){let _=o.o;_===null&&(o.o=_=new WeakMap);const w=_.get(x);w===void 0?(o=sy(),_.set(x,o)):o=w}else{let _=o.p;_===null&&(o.p=_=new Map);const w=_.get(x);w===void 0?(o=sy(),_.set(x,o)):o=w}}const u=o;let d;if(o.s===zF)d=o.v;else if(d=e.apply(null,arguments),a++,n){const h=i?.deref?.()??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new n2e(d):d}return u.s=zF,u.v=d,d}return s.clearCache=()=>{r=sy(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function a2e(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),XSe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:h,memoizeOptions:g=[],argsMemoize:x=D$,argsMemoizeOptions:_=[]}=d,w=VF(g),T=VF(_),C=e2e(i),L=h(function(){return a++,u.apply(null,arguments)},...w),P=x(function(){s++;const F=t2e(C,arguments);return o=L.apply(null,F),o},...T);return Object.assign(P,{resultFunc:u,memoizedResultFunc:L,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var we=a2e(D$),s2e=Object.assign((e,t=we)=>{ZSe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>s2e}),TT={},AT={},ST={},$F;function o2e(){return $F||($F=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(ST)),ST}var CT={},NT={},HF;function F$(){return HF||(HF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(NT)),NT}var GF;function l2e(){return GF||(GF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F$(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(CT)),CT}var qF;function c2e(){return qF||(qF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o2e(),r=l2e(),n=RN();function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const u=(x,_)=>{let w=x;for(let T=0;T<_.length&&w!=null;++T)w=w[_[T]];return w},d=(x,_)=>_==null||x==null?_:typeof x=="object"&&"key"in x?Object.hasOwn(_,x.key)?_[x.key]:u(_,x.path):typeof x=="function"?x(_):Array.isArray(x)?u(_,x):typeof _=="object"?_[x]:_,h=s.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return a.map(x=>({original:x,criteria:h.map(_=>d(_,x))})).slice().sort((x,_)=>{for(let w=0;w<h.length;w++){const T=t.compareValues(x.criteria[w],_.criteria[w],o[w]);if(T!==0)return T}return 0}).map(x=>x.original)}e.orderBy=i})(AT)),AT}var IT={},KF;function u2e(){return KF||(KF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(IT)),IT}var kT={},WF;function L$(){return WF||(WF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O$(),r=FN(),n=C$(),i=I$();function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.isEqualsSameValueZero(c[o],s):!1}e.isIterateeCall=a})(kT)),kT}var YF;function f2e(){return YF||(YF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c2e(),r=u2e(),n=L$();function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(TT)),TT}var PT,JF;function d2e(){return JF||(JF=1,PT=f2e().sortBy),PT}var h2e=d2e();const p_=Us(h2e);var j$=e=>e.legend.settings,p2e=e=>e.legend.size,m2e=e=>e.legend.payload,g2e=we([m2e,j$],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?p_(n,r):n});function v2e(){return ft(g2e)}var oy=1;function U$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=M.useState({height:0,left:0,top:0,width:0}),n=M.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>oy||Math.abs(s.left-t.left)>oy||Math.abs(s.top-t.top)>oy||Math.abs(s.width-t.width)>oy)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ci(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var y2e=typeof Symbol=="function"&&Symbol.observable||"@@observable",XF=y2e,RT=()=>Math.random().toString(36).substring(7).split("").join("."),x2e={INIT:`@@redux/INIT${RT()}`,REPLACE:`@@redux/REPLACE${RT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${RT()}`},$x=x2e;function UN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function B$(e,t,r){if(typeof e!="function")throw new Error(Ci(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ci(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ci(1));return r(B$)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((T,C)=>{s.set(C,T)}))}function d(){if(c)throw new Error(Ci(3));return i}function h(T){if(typeof T!="function")throw new Error(Ci(4));if(c)throw new Error(Ci(5));let C=!0;u();const L=o++;return s.set(L,T),function(){if(C){if(c)throw new Error(Ci(6));C=!1,u(),s.delete(L),a=null}}}function g(T){if(!UN(T))throw new Error(Ci(7));if(typeof T.type>"u")throw new Error(Ci(8));if(typeof T.type!="string")throw new Error(Ci(17));if(c)throw new Error(Ci(9));try{c=!0,i=n(i,T)}finally{c=!1}return(a=s).forEach(L=>{L()}),T}function x(T){if(typeof T!="function")throw new Error(Ci(10));n=T,g({type:$x.REPLACE})}function _(){const T=h;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Ci(11));function L(){const D=C;D.next&&D.next(d())}return L(),{unsubscribe:T(L)}},[XF](){return this}}}return g({type:$x.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:x,[XF]:_}}function _2e(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$x.INIT})>"u")throw new Error(Ci(12));if(typeof r(void 0,{type:$x.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ci(13))})}function V$(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{_2e(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const h=n[d],g=r[h],x=s[h],_=g(x,o);if(typeof _>"u")throw o&&o.type,new Error(Ci(14));u[h]=_,c=c||_!==x}return c=c||n.length!==Object.keys(s).length,c?u:s}}function Hx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function b2e(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Ci(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=e.map(c=>c(s));return a=Hx(...o)(i.dispatch),{...i,dispatch:a}}}function z$(e){return UN(e)&&"type"in e&&typeof e.type=="string"}var $$=Symbol.for("immer-nothing"),ZF=Symbol.for("immer-draftable"),va=Symbol.for("immer-state");function Qs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cs=Object,Th=cs.getPrototypeOf,Gx="constructor",m_="prototype",qS="configurable",qx="enumerable",qy="writable",_m="value",Bl=e=>!!e&&!!e[va];function go(e){return e?H$(e)||v_(e)||!!e[ZF]||!!e[Gx]?.[ZF]||y_(e)||x_(e):!1}var w2e=cs[m_][Gx].toString(),QF=new WeakMap;function H$(e){if(!e||!BN(e))return!1;const t=Th(e);if(t===null||t===cs[m_])return!0;const r=cs.hasOwnProperty.call(t,Gx)&&t[Gx];if(r===Object)return!0;if(!Vd(r))return!1;let n=QF.get(r);return n===void 0&&(n=Function.toString.call(r),QF.set(r,n)),n===w2e}function g_(e,t,r=!0){Xm(e)===0?(r?Reflect.ownKeys(e):cs.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Xm(e){const t=e[va];return t?t.type_:v_(e)?1:y_(e)?2:x_(e)?3:0}var eL=(e,t,r=Xm(e))=>r===2?e.has(t):cs[m_].hasOwnProperty.call(e,t),KS=(e,t,r=Xm(e))=>r===2?e.get(t):e[t],Kx=(e,t,r,n=Xm(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function E2e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var v_=Array.isArray,y_=e=>e instanceof Map,x_=e=>e instanceof Set,BN=e=>typeof e=="object",Vd=e=>typeof e=="function",OT=e=>typeof e=="boolean";function T2e(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var El=e=>e.copy_||e.base_,VN=e=>e.modified_?e.copy_:e.base_;function WS(e,t){if(y_(e))return new Map(e);if(x_(e))return new Set(e);if(v_(e))return Array[m_].slice.call(e);const r=H$(e);if(t===!0||t==="class_only"&&!r){const n=cs.getOwnPropertyDescriptors(e);delete n[va];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[qy]===!1&&(o[qy]=!0,o[qS]=!0),(o.get||o.set)&&(n[s]={[qS]:!0,[qy]:!0,[qx]:o[qx],[_m]:e[s]})}return cs.create(Th(e),n)}else{const n=Th(e);if(n!==null&&r)return{...e};const i=cs.create(n);return cs.assign(i,e)}}function zN(e,t=!1){return __(e)||Bl(e)||!go(e)||(Xm(e)>1&&cs.defineProperties(e,{set:ly,add:ly,clear:ly,delete:ly}),cs.freeze(e),t&&g_(e,(r,n)=>{zN(n,!0)},!1)),e}function A2e(){Qs(2)}var ly={[_m]:A2e};function __(e){return e===null||!BN(e)?!0:cs.isFrozen(e)}var Wx="MapSet",YS="Patches",tL="ArrayMethods",G$={};function If(e){const t=G$[e];return t||Qs(0,e),t}var rL=e=>!!G$[e],bm,q$=()=>bm,S2e=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rL(Wx)?If(Wx):void 0,arrayMethodsPlugin_:rL(tL)?If(tL):void 0});function nL(e,t){t&&(e.patchPlugin_=If(YS),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function JS(e){XS(e),e.drafts_.forEach(C2e),e.drafts_=null}function XS(e){e===bm&&(bm=e.parent_)}var iL=e=>bm=S2e(bm,e);function C2e(e){const t=e[va];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[va].modified_&&(JS(t),Qs(4)),go(e)&&(e=sL(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[va].base_,e,t)}else e=sL(t,r);return N2e(t,e,!0),JS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$$?e:void 0}function sL(e,t){if(__(t))return t;const r=t[va];if(!r)return Yx(t,e.handledSet_,e);if(!b_(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Y$(r,e)}return r.copy_}function N2e(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zN(t,r)}function K$(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var b_=(e,t)=>e.scope_===t,I2e=[];function W$(e,t,r,n){const i=El(e),a=e.type_;if(n!==void 0&&KS(i,n,a)===t){Kx(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;g_(i,(c,u)=>{if(Bl(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const s=e.draftLocations_.get(t)??I2e;for(const o of s)Kx(i,o,r,a)}function k2e(e,t,r){e.callbacks_.push(function(i){const a=t;if(!a||!b_(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=VN(a);W$(e,a.draft_??a,s,r),Y$(a,i)})}function Y$(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}K$(e)}}function P2e(e,t,r){const{scope_:n}=e;if(Bl(r)){const i=r[va];b_(i,n)&&i.callbacks_.push(function(){Ky(e);const s=VN(i);W$(e,r,s,t)})}else go(r)&&e.callbacks_.push(function(){const a=El(e);e.type_===3?a.has(r)&&Yx(r,n.handledSet_,n):KS(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Yx(KS(e.copy_,t,e.type_),n.handledSet_,n)})}function Yx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Bl(e)||t.has(e)||!go(e)||__(e)||(t.add(e),g_(e,(n,i)=>{if(Bl(i)){const a=i[va];if(b_(a,r)){const s=VN(a);Kx(e,n,s,e.type_),K$(a)}}else go(i)&&Yx(i,t,r)})),e}function R2e(e,t){const r=v_(e),n={type_:r?1:0,scope_:t?t.scope_:q$(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Jx;r&&(i=[n],a=wm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var Jx={get(e,t){if(t===va)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=El(e);if(!eL(i,t,e.type_))return O2e(e,i,t);const a=i[t];if(e.finalized_||!go(a)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&T2e(t))return a;if(a===MT(e.base_,t)){Ky(e);const s=e.type_===1?+t:t,o=QS(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in El(e)},ownKeys(e){return Reflect.ownKeys(El(e))},set(e,t,r){const n=J$(El(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=MT(El(e),t),a=i?.[va];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(E2e(r,i)&&(r!==void 0||eL(e.base_,t,e.type_)))return!0;Ky(e),ZS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),P2e(e,t,r)),!0},deleteProperty(e,t){return Ky(e),MT(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ZS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=El(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[qy]:!0,[qS]:e.type_!==1||t!=="length",[qx]:n[qx],[_m]:r[t]}},defineProperty(){Qs(11)},getPrototypeOf(e){return Th(e.base_)},setPrototypeOf(){Qs(12)}},wm={};for(let e in Jx){let t=Jx[e];wm[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}wm.deleteProperty=function(e,t){return wm.set.call(this,e,t,void 0)};wm.set=function(e,t,r){return Jx.set.call(this,e[0],t,r,e[0])};function MT(e,t){const r=e[va];return(r?El(r):e)[t]}function O2e(e,t,r){const n=J$(t,r);return n?_m in n?n[_m]:n.get?.call(e.draft_):void 0}function J$(e,t){if(!(t in e))return;let r=Th(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Th(r)}}function ZS(e){e.modified_||(e.modified_=!0,e.parent_&&ZS(e.parent_))}function Ky(e){e.copy_||(e.assigned_=new Map,e.copy_=WS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var M2e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Vd(r)&&!Vd(n)){const s=n;n=r;const o=this;return function(u=s,...d){return o.produce(u,h=>n.call(this,h,...d))}}Vd(n)||Qs(6),i!==void 0&&!Vd(i)&&Qs(7);let a;if(go(r)){const s=iL(this),o=QS(s,r,void 0);let c=!0;try{a=n(o),c=!1}finally{c?JS(s):XS(s)}return nL(s,i),aL(a,s)}else if(!r||!BN(r)){if(a=n(r),a===void 0&&(a=r),a===$$&&(a=void 0),this.autoFreeze_&&zN(a,!0),i){const s=[],o=[];If(YS).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Qs(1,r)},this.produceWithPatches=(r,n)=>{if(Vd(r))return(o,...c)=>this.produceWithPatches(o,u=>r(u,...c));let i,a;return[this.produce(r,n,(o,c)=>{i=o,a=c}),i,a]},OT(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),OT(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),OT(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){go(t)||Qs(8),Bl(t)&&(t=fo(t));const r=iL(this),n=QS(r,t,void 0);return n[va].isManual_=!0,XS(r),n}finishDraft(t,r){const n=t&&t[va];(!n||!n.isManual_)&&Qs(9);const{scope_:i}=n;return nL(i,r),aL(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=If(YS).applyPatches_;return Bl(t)?i(t,r):this.produce(t,a=>i(a,r))}};function QS(e,t,r,n){const[i,a]=y_(t)?If(Wx).proxyMap_(t,r):x_(t)?If(Wx).proxySet_(t,r):R2e(t,r);return(r?.scope_??q$()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?k2e(r,a,n):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),i}function fo(e){return Bl(e)||Qs(10,e),X$(e)}function X$(e){if(!go(e)||__(e))return e;const t=e[va];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=WS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=WS(e,!0);return g_(r,(i,a)=>{Kx(r,i,X$(a))},n),t&&(t.finalized_=!1),r}var D2e=new M2e,Z$=D2e.produce;function Q$(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var F2e=Q$(),L2e=Q$,j2e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hx:Hx.apply(null,arguments)};function Ls(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(us(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>z$(n)&&n.type===e,r}var eH=class bp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bp.prototype)}static get[Symbol.species](){return bp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bp(...t[0].concat(this)):new bp(...t.concat(this))}};function oL(e){return go(e)?Z$(e,()=>{}):e}function cy(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function U2e(e){return typeof e=="boolean"}var B2e=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new eH;return r&&(U2e(r)?s.push(F2e):s.push(L2e(r.extraArgument))),s},tH="RTK_autoBatch",tn=()=>e=>({payload:e,meta:{[tH]:!0}}),lL=e=>t=>{setTimeout(t,e)},rH=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lL(10):e.type==="callback"?e.queueNotification:lL(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>i&&d(),g=n.subscribe(h);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[tH],a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},V2e=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new eH(e);return n&&i.push(rH(typeof n=="object"?n:void 0)),i};function z2e(e){const t=B2e(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(UN(r))o=V$(r);else throw new Error(us(1));let c;typeof n=="function"?c=n(t):c=t();let u=Hx;i&&(u=j2e({trace:!1,...typeof i=="object"&&i}));const d=b2e(...c),h=V2e(d);let g=typeof s=="function"?s(h):h();const x=u(...g);return B$(o,a,x)}function nH(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(us(28));if(o in t)throw new Error(us(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function $2e(e){return typeof e=="function"}function H2e(e,t){let[r,n,i]=nH(t),a;if($2e(e))a=()=>oL(e());else{const o=oL(e);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Bl(d)){const x=h(d,c);return x===void 0?d:x}else{if(go(d))return Z$(d,g=>h(g,c));{const g=h(d,c);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return s.getInitialState=a,s}var G2e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",q2e=(e=21)=>{let t="",r=e;for(;r--;)t+=G2e[Math.random()*64|0];return t},K2e=Symbol.for("rtk-slice-createasyncthunk");function W2e(e,t){return`${e}/${t}`}function Y2e({creators:e}={}){const t=e?.asyncThunk?.[K2e];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(us(11));const s=(typeof n.reducers=="function"?n.reducers(X2e()):n.reducers)||{},o=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(P,D){const F=typeof P=="string"?P:P.type;if(!F)throw new Error(us(12));if(F in c.sliceCaseReducersByType)throw new Error(us(13));return c.sliceCaseReducersByType[F]=D,u},addMatcher(P,D){return c.sliceMatchers.push({matcher:P,reducer:D}),u},exposeAction(P,D){return c.actionCreators[P]=D,u},exposeCaseReducer(P,D){return c.sliceCaseReducersByName[P]=D,u}};o.forEach(P=>{const D=s[P],F={reducerName:P,type:W2e(i,P),createNotation:typeof n.reducers=="function"};Q2e(D)?tCe(F,D,u,t):Z2e(F,D,u)});function d(){const[P={},D=[],F=void 0]=typeof n.extraReducers=="function"?nH(n.extraReducers):[n.extraReducers],R={...P,...c.sliceCaseReducersByType};return H2e(n.initialState,I=>{for(let k in R)I.addCase(k,R[k]);for(let k of c.sliceMatchers)I.addMatcher(k.matcher,k.reducer);for(let k of D)I.addMatcher(k.matcher,k.reducer);F&&I.addDefaultCase(F)})}const h=P=>P,g=new Map,x=new WeakMap;let _;function w(P,D){return _||(_=d()),_(P,D)}function T(){return _||(_=d()),_.getInitialState()}function C(P,D=!1){function F(I){let k=I[P];return typeof k>"u"&&D&&(k=cy(x,F,T)),k}function R(I=h){const k=cy(g,D,()=>new WeakMap);return cy(k,I,()=>{const O={};for(const[B,V]of Object.entries(n.selectors??{}))O[B]=J2e(V,I,()=>cy(x,I,T),D);return O})}return{reducerPath:P,getSelectors:R,get selectors(){return R(F)},selectSlice:F}}const L={name:i,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:T,...C(a),injectInto(P,{reducerPath:D,...F}={}){const R=D??a;return P.inject({reducerPath:R,reducer:w},F),{...L,...C(R,!0)}}};return L}}function J2e(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Va=Y2e();function X2e(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Z2e({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!eCe(n))throw new Error(us(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ls(e,s):Ls(e))}function Q2e(e){return e._reducerDefinitionType==="asyncThunk"}function eCe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function tCe({type:e,reducerName:t},r,n,i){if(!i)throw new Error(us(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,h=i(e,a,d);n.exposeAction(t,h),s&&n.addCase(h.fulfilled,s),o&&n.addCase(h.pending,o),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:s||uy,pending:o||uy,rejected:c||uy,settled:u||uy})}function uy(){}var rCe="task",iH="listener",aH="completed",$N="cancelled",nCe=`task-${$N}`,iCe=`task-${aH}`,e2=`${iH}-${$N}`,aCe=`${iH}-${aH}`,w_=class{constructor(e){this.code=e,this.message=`${rCe} ${$N} (reason: ${e})`}name="TaskAbortError";message},HN=(e,t)=>{if(typeof e!="function")throw new TypeError(us(32))},Xx=()=>{},sH=(e,t=Xx)=>(e.catch(t),e),oH=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),uf=e=>{if(e.aborted)throw new w_(e.reason)};function lH(e,t){let r=Xx;return new Promise((n,i)=>{const a=()=>i(new w_(e.reason));if(e.aborted){a();return}r=oH(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Xx})}var sCe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof w_?"cancelled":"rejected",error:r}}finally{t?.()}},Zx=e=>t=>sH(lH(e,t).then(r=>(uf(e),r))),cH=e=>{const t=Zx(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:oh}=Object,cL={},E_="listenerMiddleware",oCe=(e,t)=>{const r=n=>oH(e,()=>n.abort(e.reason));return(n,i)=>{HN(n);const a=new AbortController;r(a);const s=sCe(async()=>{uf(e),uf(a.signal);const o=await n({pause:Zx(a.signal),delay:cH(a.signal),signal:a.signal});return uf(a.signal),o},()=>a.abort(iCe));return i?.autoJoin&&t.push(s.catch(Xx)),{result:Zx(e)(s),cancel(){a.abort(nCe)}}}},lCe=(e,t)=>{const r=async(n,i)=>{uf(t);let a=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(h,g)=>{g.unsubscribe(),c([h,g.getState(),g.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await lH(t,Promise.race(o));return uf(t),c}finally{a()}};return(n,i)=>sH(r(n,i))},uH=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Ls(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(us(21));return HN(a),{predicate:i,type:t,effect:a}},fH=oh(e=>{const{type:t,predicate:r,effect:n}=uH(e);return{id:q2e(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(us(22))}}},{withTypes:()=>fH}),uL=(e,t)=>{const{type:r,effect:n,predicate:i}=uH(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},t2=e=>{e.pending.forEach(t=>{t.abort(e2)})},cCe=(e,t)=>()=>{for(const r of t.keys())t2(r);e.clear()},fL=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},dH=oh(Ls(`${E_}/add`),{withTypes:()=>dH}),uCe=Ls(`${E_}/removeAll`),hH=oh(Ls(`${E_}/remove`),{withTypes:()=>hH}),fCe=(...e)=>{console.error(`${E_}/error`,...e)},Zm=(e={})=>{const t=new Map,r=new Map,n=x=>{const _=r.get(x)??0;r.set(x,_+1)},i=x=>{const _=r.get(x)??1;_===1?r.delete(x):r.set(x,_-1)},{extra:a,onError:s=fCe}=e;HN(s);const o=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),_=>{x.unsubscribe(),_?.cancelActive&&t2(x)}),c=x=>{const _=uL(t,x)??fH(x);return o(_)};oh(c,{withTypes:()=>c});const u=x=>{const _=uL(t,x);return _&&(_.unsubscribe(),x.cancelActive&&t2(_)),!!_};oh(u,{withTypes:()=>u});const d=async(x,_,w,T)=>{const C=new AbortController,L=lCe(c,C.signal),P=[];try{x.pending.add(C),n(x),await Promise.resolve(x.effect(_,oh({},w,{getOriginalState:T,condition:(D,F)=>L(D,F).then(Boolean),take:L,delay:cH(C.signal),pause:Zx(C.signal),extra:a,signal:C.signal,fork:oCe(C.signal,P),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((D,F,R)=>{D!==C&&(D.abort(e2),R.delete(D))})},cancel:()=>{C.abort(e2),x.pending.delete(C)},throwIfCancelled:()=>{uf(C.signal)}})))}catch(D){D instanceof w_||fL(s,D,{raisedBy:"effect"})}finally{await Promise.all(P),C.abort(aCe),i(x),x.pending.delete(C)}},h=cCe(t,r);return{middleware:x=>_=>w=>{if(!z$(w))return _(w);if(dH.match(w))return c(w.payload);if(uCe.match(w)){h();return}if(hH.match(w))return u(w.payload);let T=x.getState();const C=()=>{if(T===cL)throw new Error(us(23));return T};let L;try{if(L=_(w),t.size>0){const P=x.getState(),D=Array.from(t.values());for(const F of D){let R=!1;try{R=F.predicate(w,P,T)}catch(I){R=!1,fL(s,I,{raisedBy:"predicate"})}R&&d(F,w,x,C)}}}finally{T=cL}return L},startListening:c,stopListening:u,clearListeners:h}};function us(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dCe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},pH=Va({name:"chartLayout",initialState:dCe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:hCe,setLayout:pCe,setChartSize:mCe,setScale:gCe}=pH.actions,vCe=pH.reducer;function mH(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $t(e){return Number.isFinite(e)}function Xo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function dL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(r),!0).forEach(function(n){yCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yCe(e,t,r){return(t=xCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xCe(e){var t=_Ce(e,"string");return typeof t=="symbol"?t:t+""}function _Ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jr(e,t,r){return bn(e)||bn(t)?r:Jo(t)?Cf(e,t,r):typeof t=="function"?t(e):r}var bCe=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&at(e[a]))return Wd(Wd({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&at(e[s]))return Wd(Wd({},e),{},{[s]:e[s]+(i||0)})}return e},tl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",gH=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},vH=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:g,axisType:x}=e;if(!s)return null;var _=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/_:0;if(w=x==="angleAxis"&&a&&a.length>=2?pi(a[0]-a[1])*2*w:w,h||g){var T=(h||g||[]).map((C,L)=>{var P=n?n.indexOf(C):C,D=s.map(P);return $t(D)?{coordinate:D+w,value:C,offset:w,index:L}:null}).filter(Da);return T}return c&&u?u.map((C,L)=>{var P=s.map(C);return $t(P)?{coordinate:P+w,value:C,index:L,offset:w}:null}).filter(Da):s.ticks&&d!=null?s.ticks(d).map((C,L)=>{var P=s.map(C);return $t(P)?{coordinate:P+w,value:C,index:L,offset:w}:null}).filter(Da):s.domain().map((C,L)=>{var P=s.map(C);return $t(P)?{coordinate:P+w,value:n?n[C]:C,index:L,offset:w}:null}).filter(Da)},wCe=(e,t)=>{if(!t||t.length!==2||!at(t[0])||!at(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!at(e[0])||e[0]<r)&&(i[0]=r),(!at(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},ECe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var c=e[o],u=c?.[i];if(u!=null){var d=u[1],h=u[0],g=mo(d)?h:d;g>=0?(u[0]=a,a+=g,u[1]=a):(u[0]=s,s+=g,u[1]=s)}}}},TCe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],c=o?.[i];if(c!=null){var u=mo(c[1])?c[0]:c[1];u>=0?(c[0]=a,a+=u,c[1]=a):(c[0]=0,c[1]=0)}}}},ACe={sign:ECe,expand:GAe,none:Sf,silhouette:qAe,wiggle:KAe,positive:TCe},SCe=(e,t,r)=>{var n,i=(n=ACe[r])!==null&&n!==void 0?n:Sf,a=HAe().keys(t).value((o,c)=>Number(jr(o,c,0))).order(HS).offset(i),s=a(e);return s.forEach((o,c)=>{o.forEach((u,d)=>{var h=jr(e[d],t[c],0);Array.isArray(h)&&h.length===2&&at(h[0])&&at(h[1])&&(u[0]=h[0],u[1]=h[1])})}),s};function yH(e){return e==null?void 0:String(e)}function hL(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!bn(i[t.dataKey])){var o=E$(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var c=jr(i,bn(s)?t.dataKey:s),u=t.scale.map(c);return at(u)?u:null}var pL=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=jr(a,t.dataKey,t.scale.domain()[s]);if(bn(o))return null;var c=t.scale.map(o);return at(c)?c-i/2+n:null},CCe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},NCe=e=>{var t=e.flat(2).filter(at);return[Math.min(...t),Math.max(...t)]},ICe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],kCe=(e,t,r)=>{if(e!=null)return ICe(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((c,u)=>{var d=mH(u,t,r),h=NCe(d);return!$t(h[0])||!$t(h[1])?c:[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},mL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ah=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=p_(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c?.coordinate||0)-(u?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function vL(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Wd(Wd({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Gh(e,t){if(e)return String(e);if(typeof t=="string")return t}var PCe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},RCe=(e,t)=>t==="centric"?e.angle:e.radius,Jl=e=>e.layout.width,Xl=e=>e.layout.height,OCe=e=>e.layout.scale,xH=e=>e.layout.margin,T_=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),A_=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),_H="data-recharts-item-index",bH="data-recharts-item-id",Qm=60;function yL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yL(Object(r),!0).forEach(function(n){MCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MCe(e,t,r){return(t=DCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DCe(e){var t=FCe(e,"string");return typeof t=="symbol"?t:t+""}function FCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LCe=e=>e.brush.height;function jCe(e){var t=A_(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Qm;return r+i}return r},0)}function UCe(e){var t=A_(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Qm;return r+i}return r},0)}function BCe(e){var t=T_(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function VCe(e){var t=T_(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ei=we([Jl,Xl,xH,LCe,jCe,UCe,BCe,VCe,j$,p2e],(e,t,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},h={top:(r.top||0)+s,bottom:(r.bottom||0)+o},g=fy(fy({},h),d),x=g.bottom;g.bottom+=n,g=bCe(g,c,u);var _=e-g.left-g.right,w=t-g.top-g.bottom;return fy(fy({brushBottom:x},g),{},{width:Math.max(_,0),height:Math.max(w,0)})}),zCe=we(ei,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),GN=we(Jl,Xl,(e,t)=>({x:0,y:0,width:e,height:t})),$Ce=M.createContext(null),Zi=()=>M.useContext($Ce)!=null,S_=e=>e.brush,C_=we([S_,ei,xH],(e,t,r)=>({height:e.height,x:at(e.x)?e.x:t.left,y:at(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:at(e.width)?e.width:t.width})),DT={},FT={},LT={},xL;function HCe(){return xL||(xL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},h=()=>{u&&d(),w()};let g=null;const x=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},n)},_=()=>{g!==null&&(clearTimeout(g),g=null)},w=()=>{_(),s=void 0,o=null},T=()=>{d()},C=function(...L){if(i?.aborted)return;s=this,o=L;const P=g==null;x(),c&&P&&d()};return C.schedule=x,C.cancel=w,C.flush=T,i?.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(LT)),LT}var _L;function GCe(){return _L||(_L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HCe();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const g=t.debounce(function(...w){d=n.apply(this,w),h=null},i,{edges:u}),x=function(...w){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=n.apply(this,w),h=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,w),d)},_=()=>(g.flush(),d);return x.cancel=g.cancel,x.flush=_,x}e.debounce=r})(FT)),FT}var bL;function qCe(){return bL||(bL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GCe();function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(DT)),DT}var jT,wL;function KCe(){return wL||(wL=1,jT=qCe().throttle),jT}var WCe=KCe();const YCe=Us(WCe);var Qx=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},Bo={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},wH=(e,t,r)=>{var{width:n=Bo.width,height:i=Bo.height,aspect:a,maxHeight:s}=r,o=Nf(n)?e:Number(n),c=Nf(i)?t:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},JCe={width:0,height:0,overflow:"visible"},XCe={width:0,overflowX:"visible"},ZCe={height:0,overflowY:"visible"},QCe={},eNe=e=>{var{width:t,height:r}=e,n=Nf(t),i=Nf(r);return n&&i?JCe:n?XCe:i?ZCe:QCe};function tNe(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=Bo.width,a=Bo.height):i===void 0?i=n&&n>0?void 0:Bo.width:a===void 0&&(a=n&&n>0?void 0:Bo.height),{width:i,height:a}}function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r2.apply(null,arguments)}function EL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function TL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EL(Object(r),!0).forEach(function(n){rNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rNe(e,t,r){return(t=nNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nNe(e){var t=iNe(e,"string");return typeof t=="symbol"?t:t+""}function iNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EH=M.createContext(Bo.initialDimension);function aNe(e){return Xo(e.width)&&Xo(e.height)}function TH(e){var{children:t,width:r,height:n}=e,i=M.useMemo(()=>({width:r,height:n}),[r,n]);return aNe(i)?M.createElement(EH.Provider,{value:i},t):null}var qN=()=>M.useContext(EH),sNe=M.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Bo.initialDimension,width:i,height:a,minWidth:s=Bo.minWidth,minHeight:o,maxHeight:c,children:u,debounce:d=Bo.debounce,id:h,className:g,onResize:x,style:_={}}=e,w=M.useRef(null),T=M.useRef();T.current=x,M.useImperativeHandle(t,()=>w.current);var[C,L]=M.useState({containerWidth:n.width,containerHeight:n.height}),P=M.useCallback((k,O)=>{L(B=>{var V=Math.round(k),j=Math.round(O);return B.containerWidth===V&&B.containerHeight===j?B:{containerWidth:V,containerHeight:j}})},[]);M.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return qf;var k=j=>{var G,de=j[0];if(de!=null){var{width:ge,height:ie}=de.contentRect;P(ge,ie),(G=T.current)===null||G===void 0||G.call(T,ge,ie)}};d>0&&(k=YCe(k,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(k),{width:B,height:V}=w.current.getBoundingClientRect();return P(B,V),O.observe(w.current),()=>{O.disconnect()}},[P,d]);var{containerWidth:D,containerHeight:F}=C;Qx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:I}=wH(D,F,{width:i,height:a,aspect:r,maxHeight:c});return Qx(R!=null&&R>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,I,i,a,s,o,r),M.createElement("div",{id:h?"".concat(h):void 0,className:pr("recharts-responsive-container",g),style:TL(TL({},_),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:w},M.createElement("div",{style:eNe({width:i,height:a})},M.createElement(TH,{width:R,height:I},u)))}),Z0=M.forwardRef((e,t)=>{var r=qN();if(Xo(r.width)&&Xo(r.height))return e.children;var{width:n,height:i}=tNe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=wH(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return at(a)&&at(s)?M.createElement(TH,{width:a,height:s},e.children):M.createElement(sNe,r2({},e,{width:n,height:i,ref:t}))});function KN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var N_=()=>{var e,t=Zi(),r=ft(zCe),n=ft(C_),i=(e=ft(S_))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},oNe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},AH=()=>{var e;return(e=ft(ei))!==null&&e!==void 0?e:oNe},WN=()=>ft(Jl),YN=()=>ft(Xl),lNe=()=>ft(e=>e.layout.margin),ur=e=>e.layout.layoutType,Kf=()=>ft(ur),JN=()=>{var e=Kf();if(e==="horizontal"||e==="vertical")return e},SH=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},cNe=()=>{var e=Kf();return e!==void 0},eg=e=>{var t=Gr(),r=Zi(),{width:n,height:i}=e,a=qN(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),M.useEffect(()=>{!r&&Xo(s)&&Xo(o)&&t(mCe({width:s,height:o}))},[t,r,s,o]),null},CH=Symbol.for("immer-nothing"),AL=Symbol.for("immer-draftable"),ds=Symbol.for("immer-state");function eo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Em=Object.getPrototypeOf;function Sh(e){return!!e&&!!e[ds]}function kf(e){return e?NH(e)||Array.isArray(e)||!!e[AL]||!!e.constructor?.[AL]||tg(e)||k_(e):!1}var uNe=Object.prototype.constructor.toString(),SL=new WeakMap;function NH(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=SL.get(r);return n===void 0&&(n=Function.toString.call(r),SL.set(r,n)),n===uNe}function e1(e,t,r=!0){I_(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function I_(e){const t=e[ds];return t?t.type_:Array.isArray(e)?1:tg(e)?2:k_(e)?3:0}function n2(e,t){return I_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IH(e,t,r){const n=I_(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function fNe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tg(e){return e instanceof Map}function k_(e){return e instanceof Set}function Yu(e){return e.copy_||e.base_}function i2(e,t){if(tg(e))return new Map(e);if(k_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=NH(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ds];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Em(e),n)}else{const n=Em(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function XN(e,t=!1){return P_(e)||Sh(e)||!kf(e)||(I_(e)>1&&Object.defineProperties(e,{set:dy,add:dy,clear:dy,delete:dy}),Object.freeze(e),t&&Object.values(e).forEach(r=>XN(r,!0))),e}function dNe(){eo(2)}var dy={value:dNe};function P_(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var hNe={};function Pf(e){const t=hNe[e];return t||eo(0,e),t}var Tm;function kH(){return Tm}function pNe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CL(e,t){t&&(Pf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function a2(e){s2(e),e.drafts_.forEach(mNe),e.drafts_=null}function s2(e){e===Tm&&(Tm=e.parent_)}function NL(e){return Tm=pNe(Tm,e)}function mNe(e){const t=e[ds];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function IL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ds].modified_&&(a2(t),eo(4)),kf(e)&&(e=t1(t,e),t.parent_||r1(t,e)),t.patches_&&Pf("Patches").generateReplacementPatches_(r[ds].base_,e,t.patches_,t.inversePatches_)):e=t1(t,r,[]),a2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CH?e:void 0}function t1(e,t,r){if(P_(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[ds];if(!i)return e1(t,(a,s)=>kL(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return r1(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),e1(s,(c,u)=>kL(e,i,a,c,u,r,o),n),r1(e,a,!1),r&&e.patches_&&Pf("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function kL(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=P_(i);if(!(o&&!s)){if(Sh(i)){const c=a&&t&&t.type_!==3&&!n2(t.assigned_,n)?a.concat(n):void 0,u=t1(e,i,c);if(IH(r,n,u),Sh(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(kf(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;t1(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(tg(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&r1(e,i)}}}function r1(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XN(t,r)}function gNe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:kH(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=ZN;r&&(i=[n],a=Am);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var ZN={get(e,t){if(t===ds)return e;const r=Yu(e);if(!n2(r,t))return vNe(e,r,t);const n=r[t];return e.finalized_||!kf(n)?n:n===UT(e.base_,t)?(BT(e),e.copy_[t]=l2(n,e)):n},has(e,t){return t in Yu(e)},ownKeys(e){return Reflect.ownKeys(Yu(e))},set(e,t,r){const n=PH(Yu(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=UT(Yu(e),t),a=i?.[ds];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(fNe(r,i)&&(r!==void 0||n2(e.base_,t)))return!0;BT(e),o2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return UT(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,BT(e),o2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Yu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){eo(11)},getPrototypeOf(e){return Em(e.base_)},setPrototypeOf(){eo(12)}},Am={};e1(ZN,(e,t)=>{Am[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Am.deleteProperty=function(e,t){return Am.set.call(this,e,t,void 0)};Am.set=function(e,t,r){return ZN.set.call(this,e[0],t,r,e[0])};function UT(e,t){const r=e[ds];return(r?Yu(r):e)[t]}function vNe(e,t,r){const n=PH(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function PH(e,t){if(!(t in e))return;let r=Em(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Em(r)}}function o2(e){e.modified_||(e.modified_=!0,e.parent_&&o2(e.parent_))}function BT(e){e.copy_||(e.copy_=i2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yNe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&eo(6),n!==void 0&&typeof n!="function"&&eo(7);let i;if(kf(t)){const a=NL(this),s=l2(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?a2(a):s2(a)}return CL(a,n),IL(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===CH&&(i=void 0),this.autoFreeze_&&XN(i,!0),n){const a=[],s=[];Pf("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else eo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){kf(e)||eo(8),Sh(e)&&(e=xNe(e));const t=NL(this),r=l2(e,void 0);return r[ds].isManual_=!0,s2(t),r}finishDraft(e,t){const r=e&&e[ds];(!r||!r.isManual_)&&eo(9);const{scope_:n}=r;return CL(n,t),IL(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Pf("Patches").applyPatches_;return Sh(e)?n(e,t):this.produce(e,i=>n(i,t))}};function l2(e,t){const r=tg(e)?Pf("MapSet").proxyMap_(e,t):k_(e)?Pf("MapSet").proxySet_(e,t):gNe(e,t);return(t?t.scope_:kH()).drafts_.push(r),r}function xNe(e){return Sh(e)||eo(10,e),RH(e)}function RH(e){if(!kf(e)||P_(e))return e;const t=e[ds];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=i2(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=i2(e,!0);return e1(r,(i,a)=>{IH(r,i,RH(a))},n),t&&(t.finalized_=!1),r}var _Ne=new yNe;_Ne.produce;var bNe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},OH=Va({name:"legend",initialState:bNe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:tn()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=fo(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:tn()},removeLegendPayload:{reducer(e,t){var r=fo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:tn()}}}),{setLegendSize:PL,setLegendSettings:wNe,addLegendPayload:MH,replaceLegendPayload:DH,removeLegendPayload:FH}=OH.actions,ENe=OH.reducer,TNe=["contextPayload"];function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c2.apply(null,arguments)}function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(n){ANe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ANe(e,t,r){return(t=SNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SNe(e){var t=CNe(e,"string");return typeof t=="symbol"?t:t+""}function CNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NNe(e,t){if(e==null)return{};var r,n,i=INe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function INe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kNe(e){return e.value}function PNe(e){var{contextPayload:t}=e,r=NNe(e,TNe),n=M$(t,e.payloadUniqBy,kNe),i=Ch(Ch({},r),{},{payload:n});return M.isValidElement(e.content)?M.cloneElement(e.content,i):typeof e.content=="function"?M.createElement(e.content,i):M.createElement(wSe,i)}function RNe(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ch(Ch({},u),d)}function ONe(e){var t=Gr();return M.useEffect(()=>{t(wNe(e))},[t,e]),null}function MNe(e){var t=Gr();return M.useEffect(()=>(t(PL(e)),()=>{t(PL({width:0,height:0}))}),[t,e]),null}function DNe(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var FNe={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function LH(e){var t=Kn(e,FNe),r=v2e(),n=pAe(),i=lNe(),{width:a,height:s,wrapperStyle:o,portal:c}=t,[u,d]=U$([r]),h=WN(),g=YN();if(h==null||g==null)return null;var x=h-(i?.left||0)-(i?.right||0),_=DNe(t.layout,s,a,x),w=c?o:Ch(Ch({position:"absolute",width:_?.width||a||"auto",height:_?.height||s||"auto"},RNe(o,t,i,h,g,u)),o),T=c??n;if(T==null||r==null)return null;var C=M.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:d},M.createElement(ONe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&M.createElement(MNe,{width:u.width,height:u.height}),M.createElement(PNe,c2({},t,_,{margin:i,chartWidth:h,chartHeight:g,contextPayload:r})));return Eh.createPortal(C,T)}LH.displayName="Legend";function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u2.apply(null,arguments)}function OL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OL(Object(r),!0).forEach(function(n){LNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LNe(e,t,r){return(t=jNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jNe(e){var t=UNe(e,"string");return typeof t=="symbol"?t:t+""}function UNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BNe(e){return Array.isArray(e)&&Jo(e[0])&&Jo(e[1])?e.join(" ~ "):e}var Pd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},VNe=e=>{var{separator:t=Pd.separator,contentStyle:r,itemStyle:n,labelStyle:i=Pd.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:g=Pd.accessibilityLayer}=e,x=()=>{if(a&&a.length){var F={padding:0,margin:0},R=(o?p_(a,o):a).map((I,k)=>{if(I.type==="none")return null;var O=I.formatter||s||BNe,{value:B,name:V}=I,j=B,G=V;if(O){var de=O(B,V,I,k,a);if(Array.isArray(de))[j,G]=de;else if(de!=null)j=de;else return null}var ge=Q0(Q0({},Pd.itemStyle),{},{color:I.color||Pd.itemStyle.color},n);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:ge},Jo(G)?M.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Jo(G)?M.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,M.createElement("span",{className:"recharts-tooltip-item-value"},j),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:F},R)}return null},_=Q0(Q0({},Pd.contentStyle),r),w=Q0({margin:0},i),T=!bn(d),C=T?d:"",L=pr("recharts-default-tooltip",c),P=pr("recharts-tooltip-label",u);T&&h&&a!==void 0&&a!==null&&(C=h(d,a));var D=g?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",u2({className:L,style:_},D),M.createElement("p",{className:P,style:w},M.isValidElement(C)?C:"".concat(C)),x())},ep="recharts-tooltip-wrapper",zNe={visibility:"hidden"};function $Ne(e){var{coordinate:t,translateX:r,translateY:n}=e;return pr(ep,{["".concat(ep,"-right")]:at(r)&&t&&at(t.x)&&r>=t.x,["".concat(ep,"-left")]:at(r)&&t&&at(t.x)&&r<t.x,["".concat(ep,"-bottom")]:at(n)&&t&&at(t.y)&&n>=t.y,["".concat(ep,"-top")]:at(n)&&t&&at(t.y)&&n<t.y})}function ML(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(a&&at(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),h=r[n]+i;if(t[n])return s[n]?d:h;var g=c[n];if(g==null)return 0;if(s[n]){var x=d,_=g;return x<_?Math.max(h,g):Math.max(d,g)}if(u==null)return 0;var w=h+o,T=g+u;return w>T?Math.max(d,g):Math.max(h,g)}function HNe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function GNe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,d,h,g;return o.height>0&&o.width>0&&r?(h=ML({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),g=ML({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=HNe({translateX:h,translateY:g,useTranslate3d:c})):d=zNe,{cssProperties:d,cssClasses:$Ne({translateX:h,translateY:g,coordinate:r})}}function DL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(r),!0).forEach(function(n){f2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f2(e,t,r){return(t=qNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qNe(e){var t=KNe(e,"string");return typeof t=="symbol"?t:t+""}function KNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class WNe extends M.PureComponent{constructor(){super(...arguments),f2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),f2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:g,viewBox:x,wrapperStyle:_,lastBoundingBox:w,innerRef:T,hasPortalFromProps:C}=this.props,L=typeof u=="number"?u:u.x,P=typeof u=="number"?u:u.y,{cssClasses:D,cssProperties:F}=GNe({allowEscapeViewBox:r,coordinate:s,offsetLeft:L,offsetTop:P,position:d,reverseDirection:h,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:x}),R=C?{}:hy(hy({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},F),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),I=hy(hy({},R),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},_);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:I,ref:T},a)}}var jH=()=>{var e;return(e=ft(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d2.apply(null,arguments)}function FL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FL(Object(r),!0).forEach(function(n){YNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t,r){return(t=JNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JNe(e){var t=XNe(e,"string");return typeof t=="symbol"?t:t+""}function XNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jL={curveBasisClosed:OAe,curveBasisOpen:MAe,curveBasis:RAe,curveBumpX:yAe,curveBumpY:xAe,curveLinearClosed:DAe,curveLinear:d_,curveMonotoneX:FAe,curveMonotoneY:LAe,curveNatural:jAe,curveStep:UAe,curveStepAfter:VAe,curveStepBefore:BAe},n1=e=>$t(e.x)&&$t(e.y),UL=e=>e.base!=null&&n1(e.base)&&n1(e),tp=e=>e.x,rp=e=>e.y,ZNe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ym(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=jL["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return jL[r]||d_},BL={connectNulls:!1,type:"linear"},QNe=e=>{var{type:t=BL.type,points:r=[],baseLine:n,layout:i,connectNulls:a=BL.connectNulls}=e,s=ZNe(t,i),o=a?r.filter(n1):r;if(Array.isArray(n)){var c,u=r.map((_,w)=>LL(LL({},_),{},{base:n[w]}));i==="vertical"?c=ay().y(rp).x1(tp).x0(_=>_.base.x):c=ay().x(tp).y1(rp).y0(_=>_.base.y);var d=c.defined(UL).curve(s),h=a?u.filter(UL):u;return d(h)}var g;i==="vertical"&&at(n)?g=ay().y(rp).x1(tp).x0(n):at(n)?g=ay().x(tp).y1(rp).y0(n):g=u$().x(tp).y(rp);var x=g.defined(n1).curve(s);return x(o)},lh=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Kf();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?QNe(s):n;return M.createElement("path",d2({},Ua(e),DN(e),{className:pr("recharts-curve",t),d:o===null?void 0:o,ref:i}))},eIe=["x","y","top","left","width","height","className"];function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h2.apply(null,arguments)}function VL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(r),!0).forEach(function(n){rIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rIe(e,t,r){return(t=nIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nIe(e){var t=iIe(e,"string");return typeof t=="symbol"?t:t+""}function iIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aIe(e,t){if(e==null)return{};var r,n,i=sIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oIe=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),lIe=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,c=aIe(e,eIe),u=tIe({x:t,y:r,top:n,left:i,width:a,height:s},c);return!at(t)||!at(r)||!at(a)||!at(s)||!at(n)||!at(i)?null:M.createElement("path",h2({},ga(u),{className:pr("recharts-cross",o),d:oIe(t,r,a,s,n,i)}))};function cIe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){uIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uIe(e,t,r){return(t=fIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fIe(e){var t=dIe(e,"string");return typeof t=="symbol"?t:t+""}function dIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hIe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),UH=(e,t,r)=>e.map(n=>"".concat(hIe(n)," ").concat(t,"ms ").concat(r)).join(","),pIe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Sm=(e,t)=>Object.keys(t).reduce((r,n)=>$L($L({},r),{},{[n]:e(n,t[n])}),{});function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(r),!0).forEach(function(n){mIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mIe(e,t,r){return(t=gIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gIe(e){var t=vIe(e,"string");return typeof t=="symbol"?t:t+""}function vIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i1=(e,t,r)=>e+(t-e)*r,p2=e=>{var{from:t,to:r}=e;return t!==r},BH=(e,t,r)=>{var n=Sm((i,a)=>{if(p2(a)){var[s,o]=e(a.from,a.to,a.velocity);return Jn(Jn({},a),{},{from:s,velocity:o})}return a},t);return r<1?Sm((i,a)=>p2(a)&&n[i]!=null?Jn(Jn({},a),{},{velocity:i1(a.velocity,n[i].velocity,r),from:i1(a.from,n[i].from,r)}):a,t):BH(e,n,r-1)};function yIe(e,t,r,n,i,a){var s,o=n.reduce((g,x)=>Jn(Jn({},g),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),c=()=>Sm((g,x)=>x.from,o),u=()=>!Object.values(o).filter(p2).length,d=null,h=g=>{s||(s=g);var x=g-s,_=x/r.dt;o=BH(r,o,_),i(Jn(Jn(Jn({},e),t),c())),s=g,u()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var g;(g=d)===null||g===void 0||g()})}function xIe(e,t,r,n,i,a,s){var o=null,c=i.reduce((h,g)=>{var x=e[g],_=t[g];return x==null||_==null?h:Jn(Jn({},h),{},{[g]:[x,_]})},{}),u,d=h=>{u||(u=h);var g=(h-u)/n,x=Sm((w,T)=>i1(...T,r(g)),c);if(a(Jn(Jn(Jn({},e),t),x)),g<1)o=s.setTimeout(d);else{var _=Sm((w,T)=>i1(...T,r(1)),c);a(Jn(Jn(Jn({},e),t),_))}};return()=>(o=s.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const _Ie=(e,t,r,n,i,a)=>{var s=pIe(e,t);return r==null?()=>(i(Jn(Jn({},e),t)),()=>{}):r.isStepper===!0?yIe(e,t,r,s,i,a):xIe(e,t,r,n,s,i,a)};var a1=1e-4,VH=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],zH=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),GL=(e,t)=>r=>{var n=VH(e,t);return zH(n,r)},bIe=(e,t)=>r=>{var n=VH(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return zH(i,r)},wIe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},EIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=wIe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},TIe=(e,t,r,n)=>{var i=GL(e,r),a=GL(t,n),s=bIe(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,g=0;g<8;++g){var x=i(h)-d,_=s(h);if(Math.abs(x-d)<a1||_<a1)return a(h);h=o(h-x/_)}return a(h)};return c.isStepper=!1,c},qL=function(){return TIe(...EIe(...arguments))},AIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,h=c+(u-d)*i/1e3,g=c*i/1e3+s;return Math.abs(g-o)<a1&&Math.abs(h)<a1?[o,0]:[g,h]};return a.isStepper=!0,a.dt=i,a},SIe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qL(e);case"spring":return AIe();default:if(e.split("(")[0]==="cubic-bezier")return qL(e)}return typeof e=="function"?e:null};function CIe(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class NIe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function IIe(){return CIe(new NIe)}var kIe=M.createContext(IIe);function PIe(e,t){var r=M.useContext(kIe);return M.useMemo(()=>t??r(e),[e,t,r])}var RIe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rg={isSsr:RIe()},OIe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KL={t:0},VT={t:1};function ng(e){var t=Kn(e,OIe),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=r==="auto"?!rg.isSsr:r,h=PIe(t.animationId,t.animationManager),[g,x]=M.useState(d?KL:VT),_=M.useRef(null);return M.useEffect(()=>{d||x(VT)},[d]),M.useEffect(()=>{if(!d||!n)return qf;var w=_Ie(KL,VT,SIe(a),i,x,h.getTimeoutController()),T=()=>{_.current=w()};return h.start([c,s,T,i,o]),()=>{h.stop(),_.current&&_.current(),o()}},[d,n,i,a,s,c,o,h]),u(g.t)}function ig(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=M.useRef(xm(t)),n=M.useRef(e);return n.current!==e&&(r.current=xm(t),n.current=e),r.current}var MIe=["radius"],DIe=["radius"],WL,YL,JL,XL,ZL,QL,e5,t5,r5,n5;function i5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(r),!0).forEach(function(n){FIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FIe(e,t,r){return(t=LIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LIe(e){var t=jIe(e,"string");return typeof t=="symbol"?t:t+""}function jIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(null,arguments)}function s5(e,t){if(e==null)return{};var r,n,i=UIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var o5=(e,t,r,n,i)=>{var a=zc(r),s=zc(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,h;if(o>0&&Array.isArray(i)){for(var g=[0,0,0,0],x=0,_=4;x<_;x++){var w,T=(w=i[x])!==null&&w!==void 0?w:0;g[x]=T>o?o:T}h=mn(WL||(WL=Mo(["M",",",""])),e,t+c*g[0]),g[0]>0&&(h+=mn(YL||(YL=Mo(["A ",",",",0,0,",",",",",""])),g[0],g[0],d,e+u*g[0],t)),h+=mn(JL||(JL=Mo(["L ",",",""])),e+r-u*g[1],t),g[1]>0&&(h+=mn(XL||(XL=Mo(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],d,e+r,t+c*g[1])),h+=mn(ZL||(ZL=Mo(["L ",",",""])),e+r,t+n-c*g[2]),g[2]>0&&(h+=mn(QL||(QL=Mo(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],d,e+r-u*g[2],t+n)),h+=mn(e5||(e5=Mo(["L ",",",""])),e+u*g[3],t+n),g[3]>0&&(h+=mn(t5||(t5=Mo(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],d,e,t+n-c*g[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var C=Math.min(o,i);h=mn(r5||(r5=Mo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*C,C,C,d,e+u*C,t,e+r-u*C,t,C,C,d,e+r,t+c*C,e+r,t+n-c*C,C,C,d,e+r-u*C,t+n,e+u*C,t+n,C,C,d,e,t+n-c*C)}else h=mn(n5||(n5=Mo(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return h},l5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$H=e=>{var t=Kn(e,l5),r=M.useRef(null),[n,i]=M.useState(-1);M.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var fe=r.current.getTotalLength();fe&&i(fe)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:g,animationBegin:x,isAnimationActive:_,isUpdateAnimationActive:w}=t,T=M.useRef(o),C=M.useRef(c),L=M.useRef(a),P=M.useRef(s),D=M.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),F=ig(D,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var R=pr("recharts-rectangle",d);if(!w){var I=ga(t),{radius:k}=I,O=s5(I,MIe);return M.createElement("path",s1({},O,{x:zc(a),y:zc(s),width:zc(o),height:zc(c),radius:typeof u=="number"?u:void 0,className:R,d:o5(a,s,o,c,u)}))}var B=T.current,V=C.current,j=L.current,G=P.current,de="0px ".concat(n===-1?1:n,"px"),ge="".concat(n,"px 0px"),ie=UH(["strokeDasharray"],g,typeof h=="string"?h:l5.animationEasing);return M.createElement(ng,{animationId:F,key:F,canBegin:n>0,duration:g,easing:h,isActive:w,begin:x},fe=>{var ue=Jr(B,o,fe),ae=Jr(V,c,fe),_e=Jr(j,a,fe),X=Jr(G,s,fe);r.current&&(T.current=ue,C.current=ae,L.current=_e,P.current=X);var z;_?fe>0?z={transition:ie,strokeDasharray:ge}:z={strokeDasharray:de}:z={strokeDasharray:ge};var te=ga(t),{radius:Z}=te,K=s5(te,DIe);return M.createElement("path",s1({},K,{radius:typeof u=="number"?u:void 0,className:R,d:o5(_e,X,ue,ae,u),ref:r,style:a5(a5({},z),t.style)}))})};function c5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(r),!0).forEach(function(n){BIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BIe(e,t,r){return(t=VIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VIe(e){var t=zIe(e,"string");return typeof t=="symbol"?t:t+""}function zIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o1=Math.PI/180,$Ie=e=>e*180/Math.PI,Hn=(e,t,r,n)=>({x:e+Math.cos(-o1*n)*r,y:t+Math.sin(-o1*n)*r}),HH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},HIe=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},GIe=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=HIe({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:$Ie(c),angleInRadian:c}},qIe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},KIe=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},WIe=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=GIe({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=qIe(t),d=a,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?u5(u5({},t),{},{radius:i,angle:KIe(d,t)}):null};function GH(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=Hn(t,r,n,i),o=Hn(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var f5,d5,h5,p5,m5,g5,v5;function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(null,arguments)}function ef(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var YIe=(e,t)=>{var r=pi(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},py=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/o1,h=c?i:i+a*d,g=Hn(t,r,u,h),x=Hn(t,r,n,h),_=c?i-a*d:i,w=Hn(t,r,u*Math.cos(d*o1),_);return{center:g,circleTangency:x,lineTangency:w,theta:d}},qH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=YIe(a,s),c=a+o,u=Hn(t,r,i,a),d=Hn(t,r,i,c),h=mn(f5||(f5=ef(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>c),d.x,d.y);if(n>0){var g=Hn(t,r,n,a),x=Hn(t,r,n,c);h+=mn(d5||(d5=ef(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(o)>180),+(a<=c),g.x,g.y)}else h+=mn(h5||(h5=ef(["L ",","," Z"])),t,r);return h},JIe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=pi(u-c),{circleTangency:h,lineTangency:g,theta:x}=py({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:_,lineTangency:w,theta:T}=py({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(c-u):Math.abs(c-u)-x-T;if(C<0)return s?mn(p5||(p5=ef(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,a,a,a*2,a,a,-a*2):qH({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var L=mn(m5||(m5=ef(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,a,a,+(d<0),h.x,h.y,i,i,+(C>180),+(d<0),_.x,_.y,a,a,+(d<0),w.x,w.y);if(n>0){var{circleTangency:P,lineTangency:D,theta:F}=py({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:R,lineTangency:I,theta:k}=py({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),O=o?Math.abs(c-u):Math.abs(c-u)-F-k;if(O<0&&a===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=mn(g5||(g5=ef(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,a,a,+(d<0),R.x,R.y,n,n,+(O>180),+(d>0),P.x,P.y,a,a,+(d<0),D.x,D.y)}else L+=mn(v5||(v5=ef(["L",",","Z"])),t,r);return L},XIe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KH=e=>{var t=Kn(e,XIe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(a<i||u===d)return null;var g=pr("recharts-sector",h),x=a-i,_=Yi(s,x,0,!0),w;return _>0&&Math.abs(u-d)<360?w=JIe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,x/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):w=qH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),M.createElement("path",m2({},ga(t),{className:g,d:w}))};function ZIe(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(A$(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,c=Hn(n,i,a,o),u=Hn(n,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return GH(t)}}var zT={},$T={},HT={},y5;function QIe(){return y5||(y5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F$();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(HT)),HT}var x5;function eke(){return x5||(x5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QIe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($T)),$T}var _5;function tke(){return _5||(_5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L$(),r=eke();function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}e.range=n})(zT)),zT}var GT,b5;function rke(){return b5||(b5=1,GT=tke().range),GT}var nke=rke();const WH=Us(nke);function Xc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ike(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QN(e){let t,r,n;e.length!==2?(t=Xc,r=(o,c)=>Xc(e(o),c),n=(o,c)=>e(o)-c):(t=e===Xc||e===ike?e:ake,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,c,u=0,d=o.length){const h=i(o,c,u,d-1);return h>u&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:i,center:s,right:a}}function ake(){return 0}function YH(e){return e===null?NaN:+e}function*ske(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oke=QN(Xc),ag=oke.right;QN(YH).center;class w5 extends Map{constructor(t,r=uke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(E5(this,t))}has(t){return super.has(E5(this,t))}set(t,r){return super.set(lke(this,t),r)}delete(t){return super.delete(cke(this,t))}}function E5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lke({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cke({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uke(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fke(e=Xc){if(e===Xc)return JH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function JH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dke=Math.sqrt(50),hke=Math.sqrt(10),pke=Math.sqrt(2);function l1(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=dke?10:a>=hke?5:a>=pke?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?l1(e,t,r*2):[o,c,u]}function g2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?l1(t,e,r):l1(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function v2(e,t,r){return t=+t,e=+e,r=+r,l1(e,t,r)[2]}function y2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?v2(t,e,r):v2(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function T5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function A5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function XH(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?JH:fke(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),x=Math.max(r,Math.floor(t-u*h/c+g)),_=Math.min(n,Math.floor(t+(c-u)*h/c+g));XH(e,t,x,_,i)}const a=e[t];let s=r,o=n;for(np(e,r,t),i(e[n],a)>0&&np(e,r,n);s<o;){for(np(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?np(e,r,o):(++o,np(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function np(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function mke(e,t,r){if(e=Float64Array.from(ske(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return A5(e);if(t>=1)return T5(e);var n,i=(n-1)*t,a=Math.floor(i),s=T5(XH(e,a).subarray(0,a+1)),o=A5(e.subarray(a+1));return s+(o-s)*(i-a)}}function gke(e,t,r=YH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function vke(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function zs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const x2=Symbol("implicit");function eI(){var e=new w5,t=[],r=[],n=x2;function i(a){let s=e.get(a);if(s===void 0){if(n!==x2)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new w5;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return eI(t,r).unknown(n)},zs.apply(i,arguments),i}function tI(){var e=eI().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var g=t().length,x=i<n,_=x?i:n,w=x?n:i;a=(w-_)/Math.max(1,g-c+u*2),o&&(a=Math.floor(a)),_+=(w-_-a*(g-c))*d,s=a*(1-c),o&&(_=Math.round(_),s=Math.round(s));var T=vke(g).map(function(C){return _+a*C});return r(x?T.reverse():T)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,o=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(g){return arguments.length?(o=!!g,h()):o},e.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),h()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),h()):c},e.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},e.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},e.copy=function(){return tI(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},zs.apply(h(),arguments)}function ZH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ZH(t())},e}function yke(){return ZH(tI.apply(null,arguments).paddingInner(1))}function rI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function QH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sg(){}var Cm=.7,c1=1/Cm,ch="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xke=/^#([0-9a-f]{3,8})$/,_ke=new RegExp(`^rgb\\(${ch},${ch},${ch}\\)$`),bke=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),wke=new RegExp(`^rgba\\(${ch},${ch},${ch},${Nm}\\)$`),Eke=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${Nm}\\)$`),Tke=new RegExp(`^hsl\\(${Nm},${Ko},${Ko}\\)$`),Ake=new RegExp(`^hsla\\(${Nm},${Ko},${Ko},${Nm}\\)$`),S5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rI(sg,Im,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:C5,formatHex:C5,formatHex8:Ske,formatHsl:Cke,formatRgb:N5,toString:N5});function C5(){return this.rgb().formatHex()}function Ske(){return this.rgb().formatHex8()}function Cke(){return eG(this).formatHsl()}function N5(){return this.rgb().formatRgb()}function Im(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xke.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?I5(t):r===3?new Fa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?my(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?my(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_ke.exec(e))?new Fa(t[1],t[2],t[3],1):(t=bke.exec(e))?new Fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wke.exec(e))?my(t[1],t[2],t[3],t[4]):(t=Eke.exec(e))?my(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tke.exec(e))?R5(t[1],t[2]/100,t[3]/100,1):(t=Ake.exec(e))?R5(t[1],t[2]/100,t[3]/100,t[4]):S5.hasOwnProperty(e)?I5(S5[e]):e==="transparent"?new Fa(NaN,NaN,NaN,0):null}function I5(e){return new Fa(e>>16&255,e>>8&255,e&255,1)}function my(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fa(e,t,r,n)}function Nke(e){return e instanceof sg||(e=Im(e)),e?(e=e.rgb(),new Fa(e.r,e.g,e.b,e.opacity)):new Fa}function _2(e,t,r,n){return arguments.length===1?Nke(e):new Fa(e,t,r,n??1)}function Fa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rI(Fa,_2,QH(sg,{brighter(e){return e=e==null?c1:Math.pow(c1,e),new Fa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cm:Math.pow(Cm,e),new Fa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fa(ff(this.r),ff(this.g),ff(this.b),u1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k5,formatHex:k5,formatHex8:Ike,formatRgb:P5,toString:P5}));function k5(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function Ike(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function P5(){const e=u1(this.opacity);return`${e===1?"rgb(":"rgba("}${ff(this.r)}, ${ff(this.g)}, ${ff(this.b)}${e===1?")":`, ${e})`}`}function u1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ff(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return e=ff(e),(e<16?"0":"")+e.toString(16)}function R5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new to(e,t,r,n)}function eG(e){if(e instanceof to)return new to(e.h,e.s,e.l,e.opacity);if(e instanceof sg||(e=Im(e)),!e)return new to;if(e instanceof to)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new to(s,o,c,e.opacity)}function kke(e,t,r,n){return arguments.length===1?eG(e):new to(e,t,r,n??1)}function to(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rI(to,kke,QH(sg,{brighter(e){return e=e==null?c1:Math.pow(c1,e),new to(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cm:Math.pow(Cm,e),new to(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Fa(qT(e>=240?e-240:e+120,i,n),qT(e,i,n),qT(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new to(O5(this.h),gy(this.s),gy(this.l),u1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=u1(this.opacity);return`${e===1?"hsl(":"hsla("}${O5(this.h)}, ${gy(this.s)*100}%, ${gy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O5(e){return e=(e||0)%360,e<0?e+360:e}function gy(e){return Math.max(0,Math.min(1,e||0))}function qT(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nI=e=>()=>e;function Pke(e,t){return function(r){return e+r*t}}function Rke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Oke(e){return(e=+e)==1?tG:function(t,r){return r-t?Rke(t,r,e):nI(isNaN(t)?r:t)}}function tG(e,t){var r=t-e;return r?Pke(e,r):nI(isNaN(e)?t:e)}const M5=(function e(t){var r=Oke(t);function n(i,a){var s=r((i=_2(i)).r,(a=_2(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=tG(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n})(1);function Mke(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Dke(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Fke(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=qh(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Lke(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function f1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function jke(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=qh(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var b2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KT=new RegExp(b2.source,"g");function Uke(e){return function(){return e}}function Bke(e){return function(t){return e(t)+""}}function Vke(e,t){var r=b2.lastIndex=KT.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=b2.exec(e))&&(i=KT.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:f1(n,i)})),r=KT.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?Bke(c[0].x):Uke(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)o[(h=c[d]).i]=h.x(u);return o.join("")})}function qh(e,t){var r=typeof t,n;return t==null||r==="boolean"?nI(t):(r==="number"?f1:r==="string"?(n=Im(t))?(t=n,M5):Vke:t instanceof Im?M5:t instanceof Date?Lke:Dke(t)?Mke:Array.isArray(t)?Fke:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?jke:f1)(e,t)}function iI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zke(e,t){t===void 0&&(t=e,e=qh);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function $ke(e){return function(){return e}}function d1(e){return+e}var D5=[0,1];function da(e){return e}function w2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$ke(isNaN(t)?NaN:.5)}function Hke(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Gke(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=w2(i,n),a=r(s,a)):(n=w2(n,i),a=r(a,s)),function(o){return a(n(o))}}function qke(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=w2(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=ag(e,o,1,n)-1;return a[c](i[c](o))}}function og(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function R_(){var e=D5,t=D5,r=qh,n,i,a,s=da,o,c,u;function d(){var g=Math.min(e.length,t.length);return s!==da&&(s=Hke(e[0],e[g-1])),o=g>2?qke:Gke,c=u=null,h}function h(g){return g==null||isNaN(g=+g)?a:(c||(c=o(e.map(n),t,r)))(n(s(g)))}return h.invert=function(g){return s(i((u||(u=o(t,e.map(n),f1)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,d1),d()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),d()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=iI,d()},h.clamp=function(g){return arguments.length?(s=g?!0:da,d()):s!==da},h.interpolate=function(g){return arguments.length?(r=g,d()):r},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,x){return n=g,i=x,d()}}function aI(){return R_()(da,da)}function Kke(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function h1(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Nh(e){return e=h1(Math.abs(e)),e?e[1]:NaN}function Wke(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Yke(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Jke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function km(e){if(!(t=Jke.exec(e)))throw new Error("invalid format: "+e);var t;return new sI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}km.prototype=sI.prototype;function sI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xke(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var p1;function Zke(e,t){var r=h1(e,t);if(!r)return p1=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(p1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+h1(e,Math.max(0,t+a-1))[0]}function F5(e,t){var r=h1(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const L5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Kke,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F5(e*100,t),r:F5,s:Zke,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function j5(e){return e}var U5=Array.prototype.map,B5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qke(e){var t=e.grouping===void 0||e.thousands===void 0?j5:Wke(U5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?j5:Yke(U5.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h,g){h=km(h);var x=h.fill,_=h.align,w=h.sign,T=h.symbol,C=h.zero,L=h.width,P=h.comma,D=h.precision,F=h.trim,R=h.type;R==="n"?(P=!0,R="g"):L5[R]||(D===void 0&&(D=12),F=!0,R="g"),(C||x==="0"&&_==="=")&&(C=!0,x="0",_="=");var I=(g&&g.prefix!==void 0?g.prefix:"")+(T==="$"?r:T==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():""),k=(T==="$"?n:/[%p]/.test(R)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),O=L5[R],B=/[defgprs%]/.test(R);D=D===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function V(j){var G=I,de=k,ge,ie,fe;if(R==="c")de=O(j)+de,j="";else{j=+j;var ue=j<0||1/j<0;if(j=isNaN(j)?c:O(Math.abs(j),D),F&&(j=Xke(j)),ue&&+j==0&&w!=="+"&&(ue=!1),G=(ue?w==="("?w:o:w==="-"||w==="("?"":w)+G,de=(R==="s"&&!isNaN(j)&&p1!==void 0?B5[8+p1/3]:"")+de+(ue&&w==="("?")":""),B){for(ge=-1,ie=j.length;++ge<ie;)if(fe=j.charCodeAt(ge),48>fe||fe>57){de=(fe===46?i+j.slice(ge+1):j.slice(ge))+de,j=j.slice(0,ge);break}}}P&&!C&&(j=t(j,1/0));var ae=G.length+j.length+de.length,_e=ae<L?new Array(L-ae+1).join(x):"";switch(P&&C&&(j=t(_e+j,_e.length?L-de.length:1/0),_e=""),_){case"<":j=G+j+de+_e;break;case"=":j=G+_e+j+de;break;case"^":j=_e.slice(0,ae=_e.length>>1)+G+j+de+_e.slice(ae);break;default:j=_e+G+j+de;break}return a(j)}return V.toString=function(){return h+""},V}function d(h,g){var x=Math.max(-8,Math.min(8,Math.floor(Nh(g)/3)))*3,_=Math.pow(10,-x),w=u((h=km(h),h.type="f",h),{suffix:B5[8+x/3]});return function(T){return w(_*T)}}return{format:u,formatPrefix:d}}var vy,oI,rG;ePe({thousands:",",grouping:[3],currency:["$",""]});function ePe(e){return vy=Qke(e),oI=vy.format,rG=vy.formatPrefix,vy}function tPe(e){return Math.max(0,-Nh(Math.abs(e)))}function rPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nh(t)/3)))*3-Nh(Math.abs(e)))}function nPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nh(t)-Nh(e))+1}function nG(e,t,r,n){var i=y2(e,t,r),a;switch(n=km(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=rPe(i,s))&&(n.precision=a),rG(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=nPe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=tPe(i))&&(n.precision=a-(n.type==="%")*2);break}}return oI(n)}function vu(e){var t=e.domain;return e.ticks=function(r){var n=t();return g2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return nG(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=v2(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function iG(){var e=aI();return e.copy=function(){return og(e,iG())},zs.apply(e,arguments),vu(e)}function aG(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,d1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return aG(e).unknown(t)},e=arguments.length?Array.from(e,d1):[0,1],vu(r)}function sG(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function V5(e){return Math.log(e)}function z5(e){return Math.exp(e)}function iPe(e){return-Math.log(-e)}function aPe(e){return-Math.exp(-e)}function sPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oPe(e){return e===10?sPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $5(e){return(t,r)=>-e(-t,r)}function lI(e){const t=e(V5,z5),r=t.domain;let n=10,i,a;function s(){return i=lPe(n),a=oPe(n),r()[0]<0?(i=$5(i),a=$5(a),e(iPe,aPe)):e(V5,z5),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=i(u),x=i(d),_,w;const T=o==null?10:+o;let C=[];if(!(n%1)&&x-g<T){if(g=Math.floor(g),x=Math.ceil(x),u>0){for(;g<=x;++g)for(_=1;_<n;++_)if(w=g<0?_/a(-g):_*a(g),!(w<u)){if(w>d)break;C.push(w)}}else for(;g<=x;++g)for(_=n-1;_>=1;--_)if(w=g>0?_/a(-g):_*a(g),!(w<u)){if(w>d)break;C.push(w)}C.length*2<T&&(C=g2(u,d,T))}else C=g2(g,x,Math.min(x-g,T)).map(a);return h?C.reverse():C},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=km(c)).precision==null&&(c.trim=!0),c=oI(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(sG(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function oG(){const e=lI(R_()).domain([1,10]);return e.copy=()=>og(e,oG()).base(e.base()),zs.apply(e,arguments),e}function H5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cI(e){var t=1,r=e(H5(t),G5(t));return r.constant=function(n){return arguments.length?e(H5(t=+n),G5(t)):t},vu(r)}function lG(){var e=cI(R_());return e.copy=function(){return og(e,lG()).constant(e.constant())},zs.apply(e,arguments)}function q5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uPe(e){return e<0?-e*e:e*e}function uI(e){var t=e(da,da),r=1;function n(){return r===1?e(da,da):r===.5?e(cPe,uPe):e(q5(r),q5(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},vu(t)}function fI(){var e=uI(R_());return e.copy=function(){return og(e,fI()).exponent(e.exponent())},zs.apply(e,arguments),e}function fPe(){return fI.apply(null,arguments).exponent(.5)}function K5(e){return Math.sign(e)*e*e}function dPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function cG(){var e=aI(),t=[0,1],r=!1,n;function i(a){var s=dPe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(K5(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,d1)).map(K5)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return cG(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zs.apply(i,arguments),vu(i)}function uG(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=gke(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[ag(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Xc),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return uG().domain(e).range(t).unknown(n)},zs.apply(a,arguments)}function fG(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[ag(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return fG().domain([e,t]).range(i).unknown(a)},zs.apply(vu(s),arguments)}function dG(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[ag(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dG().domain(e).range(t).unknown(r)},zs.apply(i,arguments)}const WT=new Date,YT=new Date;function ti(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>ti(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(WT.setTime(+a),YT.setTime(+s),e(WT),e(YT),Math.floor(r(WT,YT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const m1=ti(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);m1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ti(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):m1);m1.range;const Nl=1e3,Os=Nl*60,Il=Os*60,Vl=Il*24,dI=Vl*7,W5=Vl*30,JT=Vl*365,rf=ti(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Nl)},(e,t)=>(t-e)/Nl,e=>e.getUTCSeconds());rf.range;const hI=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nl)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getMinutes());hI.range;const pI=ti(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCMinutes());pI.range;const mI=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nl-e.getMinutes()*Os)},(e,t)=>{e.setTime(+e+t*Il)},(e,t)=>(t-e)/Il,e=>e.getHours());mI.range;const gI=ti(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Il)},(e,t)=>(t-e)/Il,e=>e.getUTCHours());gI.range;const lg=ti(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Os)/Vl,e=>e.getDate()-1);lg.range;const O_=ti(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vl,e=>e.getUTCDate()-1);O_.range;const hG=ti(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vl,e=>Math.floor(e/Vl));hG.range;function Wf(e){return ti(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Os)/dI)}const M_=Wf(0),g1=Wf(1),hPe=Wf(2),pPe=Wf(3),Ih=Wf(4),mPe=Wf(5),gPe=Wf(6);M_.range;g1.range;hPe.range;pPe.range;Ih.range;mPe.range;gPe.range;function Yf(e){return ti(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dI)}const D_=Yf(0),v1=Yf(1),vPe=Yf(2),yPe=Yf(3),kh=Yf(4),xPe=Yf(5),_Pe=Yf(6);D_.range;v1.range;vPe.range;yPe.range;kh.range;xPe.range;_Pe.range;const vI=ti(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vI.range;const yI=ti(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());yI.range;const zl=ti(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});zl.range;const $l=ti(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$l.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$l.range;function pG(e,t,r,n,i,a){const s=[[rf,1,Nl],[rf,5,5*Nl],[rf,15,15*Nl],[rf,30,30*Nl],[a,1,Os],[a,5,5*Os],[a,15,15*Os],[a,30,30*Os],[i,1,Il],[i,3,3*Il],[i,6,6*Il],[i,12,12*Il],[n,1,Vl],[n,2,2*Vl],[r,1,dI],[t,1,W5],[t,3,3*W5],[e,1,JT]];function o(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const x=h&&typeof h.range=="function"?h:c(u,d,h),_=x?x.range(u,+d+1):[];return g?_.reverse():_}function c(u,d,h){const g=Math.abs(d-u)/h,x=QN(([,,T])=>T).right(s,g);if(x===s.length)return e.every(y2(u/JT,d/JT,h));if(x===0)return m1.every(Math.max(y2(u,d,h),1));const[_,w]=s[g/s[x-1][2]<s[x][2]/g?x-1:x];return _.every(w)}return[o,c]}const[bPe,wPe]=pG($l,yI,D_,hG,gI,pI),[EPe,TPe]=pG(zl,vI,M_,lg,mI,hI);function XT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ZT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ip(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function APe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=ap(i),d=sp(i),h=ap(a),g=sp(a),x=ap(s),_=sp(s),w=ap(o),T=sp(o),C=ap(c),L=sp(c),P={a:fe,A:ue,b:ae,B:_e,c:null,d:ej,e:ej,f:WPe,g:iRe,G:sRe,H:GPe,I:qPe,j:KPe,L:mG,m:YPe,M:JPe,p:X,q:z,Q:nj,s:ij,S:XPe,u:ZPe,U:QPe,V:eRe,w:tRe,W:rRe,x:null,X:null,y:nRe,Y:aRe,Z:oRe,"%":rj},D={a:te,A:Z,b:K,B:pe,c:null,d:tj,e:tj,f:fRe,g:bRe,G:ERe,H:lRe,I:cRe,j:uRe,L:vG,m:dRe,M:hRe,p:xe,q:ke,Q:nj,s:ij,S:pRe,u:mRe,U:gRe,V:vRe,w:yRe,W:xRe,x:null,X:null,y:_Re,Y:wRe,Z:TRe,"%":rj},F={a:B,A:V,b:j,B:G,c:de,d:Z5,e:Z5,f:VPe,g:X5,G:J5,H:Q5,I:Q5,j:LPe,L:BPe,m:FPe,M:jPe,p:O,q:DPe,Q:$Pe,s:HPe,S:UPe,u:kPe,U:PPe,V:RPe,w:IPe,W:OPe,x:ge,X:ie,y:X5,Y:J5,Z:MPe,"%":zPe};P.x=R(r,P),P.X=R(n,P),P.c=R(t,P),D.x=R(r,D),D.X=R(n,D),D.c=R(t,D);function R(le,ve){return function(Fe){var W=[],Je=-1,Be=0,We=le.length,$e,Le,Xe;for(Fe instanceof Date||(Fe=new Date(+Fe));++Je<We;)le.charCodeAt(Je)===37&&(W.push(le.slice(Be,Je)),(Le=Y5[$e=le.charAt(++Je)])!=null?$e=le.charAt(++Je):Le=$e==="e"?" ":"0",(Xe=ve[$e])&&($e=Xe(Fe,Le)),W.push($e),Be=Je+1);return W.push(le.slice(Be,Je)),W.join("")}}function I(le,ve){return function(Fe){var W=ip(1900,void 0,1),Je=k(W,le,Fe+="",0),Be,We;if(Je!=Fe.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ve&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Be=ZT(ip(W.y,0,1)),We=Be.getUTCDay(),Be=We>4||We===0?v1.ceil(Be):v1(Be),Be=O_.offset(Be,(W.V-1)*7),W.y=Be.getUTCFullYear(),W.m=Be.getUTCMonth(),W.d=Be.getUTCDate()+(W.w+6)%7):(Be=XT(ip(W.y,0,1)),We=Be.getDay(),Be=We>4||We===0?g1.ceil(Be):g1(Be),Be=lg.offset(Be,(W.V-1)*7),W.y=Be.getFullYear(),W.m=Be.getMonth(),W.d=Be.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),We="Z"in W?ZT(ip(W.y,0,1)).getUTCDay():XT(ip(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(We+5)%7:W.w+W.U*7-(We+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,ZT(W)):XT(W)}}function k(le,ve,Fe,W){for(var Je=0,Be=ve.length,We=Fe.length,$e,Le;Je<Be;){if(W>=We)return-1;if($e=ve.charCodeAt(Je++),$e===37){if($e=ve.charAt(Je++),Le=F[$e in Y5?ve.charAt(Je++):$e],!Le||(W=Le(le,Fe,W))<0)return-1}else if($e!=Fe.charCodeAt(W++))return-1}return W}function O(le,ve,Fe){var W=u.exec(ve.slice(Fe));return W?(le.p=d.get(W[0].toLowerCase()),Fe+W[0].length):-1}function B(le,ve,Fe){var W=x.exec(ve.slice(Fe));return W?(le.w=_.get(W[0].toLowerCase()),Fe+W[0].length):-1}function V(le,ve,Fe){var W=h.exec(ve.slice(Fe));return W?(le.w=g.get(W[0].toLowerCase()),Fe+W[0].length):-1}function j(le,ve,Fe){var W=C.exec(ve.slice(Fe));return W?(le.m=L.get(W[0].toLowerCase()),Fe+W[0].length):-1}function G(le,ve,Fe){var W=w.exec(ve.slice(Fe));return W?(le.m=T.get(W[0].toLowerCase()),Fe+W[0].length):-1}function de(le,ve,Fe){return k(le,t,ve,Fe)}function ge(le,ve,Fe){return k(le,r,ve,Fe)}function ie(le,ve,Fe){return k(le,n,ve,Fe)}function fe(le){return s[le.getDay()]}function ue(le){return a[le.getDay()]}function ae(le){return c[le.getMonth()]}function _e(le){return o[le.getMonth()]}function X(le){return i[+(le.getHours()>=12)]}function z(le){return 1+~~(le.getMonth()/3)}function te(le){return s[le.getUTCDay()]}function Z(le){return a[le.getUTCDay()]}function K(le){return c[le.getUTCMonth()]}function pe(le){return o[le.getUTCMonth()]}function xe(le){return i[+(le.getUTCHours()>=12)]}function ke(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ve=R(le+="",P);return ve.toString=function(){return le},ve},parse:function(le){var ve=I(le+="",!1);return ve.toString=function(){return le},ve},utcFormat:function(le){var ve=R(le+="",D);return ve.toString=function(){return le},ve},utcParse:function(le){var ve=I(le+="",!0);return ve.toString=function(){return le},ve}}}var Y5={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,SPe=/^%/,CPe=/[\\^$*+?|[\]().{}]/g;function mr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function NPe(e){return e.replace(CPe,"\\$&")}function ap(e){return new RegExp("^(?:"+e.map(NPe).join("|")+")","i")}function sp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function IPe(e,t,r){var n=yi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kPe(e,t,r){var n=yi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function PPe(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function RPe(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function OPe(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function J5(e,t,r){var n=yi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function X5(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function MPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DPe(e,t,r){var n=yi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function FPe(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Z5(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LPe(e,t,r){var n=yi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Q5(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function jPe(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function UPe(e,t,r){var n=yi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BPe(e,t,r){var n=yi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function VPe(e,t,r){var n=yi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zPe(e,t,r){var n=SPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function $Pe(e,t,r){var n=yi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function HPe(e,t,r){var n=yi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ej(e,t){return mr(e.getDate(),t,2)}function GPe(e,t){return mr(e.getHours(),t,2)}function qPe(e,t){return mr(e.getHours()%12||12,t,2)}function KPe(e,t){return mr(1+lg.count(zl(e),e),t,3)}function mG(e,t){return mr(e.getMilliseconds(),t,3)}function WPe(e,t){return mG(e,t)+"000"}function YPe(e,t){return mr(e.getMonth()+1,t,2)}function JPe(e,t){return mr(e.getMinutes(),t,2)}function XPe(e,t){return mr(e.getSeconds(),t,2)}function ZPe(e){var t=e.getDay();return t===0?7:t}function QPe(e,t){return mr(M_.count(zl(e)-1,e),t,2)}function gG(e){var t=e.getDay();return t>=4||t===0?Ih(e):Ih.ceil(e)}function eRe(e,t){return e=gG(e),mr(Ih.count(zl(e),e)+(zl(e).getDay()===4),t,2)}function tRe(e){return e.getDay()}function rRe(e,t){return mr(g1.count(zl(e)-1,e),t,2)}function nRe(e,t){return mr(e.getFullYear()%100,t,2)}function iRe(e,t){return e=gG(e),mr(e.getFullYear()%100,t,2)}function aRe(e,t){return mr(e.getFullYear()%1e4,t,4)}function sRe(e,t){var r=e.getDay();return e=r>=4||r===0?Ih(e):Ih.ceil(e),mr(e.getFullYear()%1e4,t,4)}function oRe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mr(t/60|0,"0",2)+mr(t%60,"0",2)}function tj(e,t){return mr(e.getUTCDate(),t,2)}function lRe(e,t){return mr(e.getUTCHours(),t,2)}function cRe(e,t){return mr(e.getUTCHours()%12||12,t,2)}function uRe(e,t){return mr(1+O_.count($l(e),e),t,3)}function vG(e,t){return mr(e.getUTCMilliseconds(),t,3)}function fRe(e,t){return vG(e,t)+"000"}function dRe(e,t){return mr(e.getUTCMonth()+1,t,2)}function hRe(e,t){return mr(e.getUTCMinutes(),t,2)}function pRe(e,t){return mr(e.getUTCSeconds(),t,2)}function mRe(e){var t=e.getUTCDay();return t===0?7:t}function gRe(e,t){return mr(D_.count($l(e)-1,e),t,2)}function yG(e){var t=e.getUTCDay();return t>=4||t===0?kh(e):kh.ceil(e)}function vRe(e,t){return e=yG(e),mr(kh.count($l(e),e)+($l(e).getUTCDay()===4),t,2)}function yRe(e){return e.getUTCDay()}function xRe(e,t){return mr(v1.count($l(e)-1,e),t,2)}function _Re(e,t){return mr(e.getUTCFullYear()%100,t,2)}function bRe(e,t){return e=yG(e),mr(e.getUTCFullYear()%100,t,2)}function wRe(e,t){return mr(e.getUTCFullYear()%1e4,t,4)}function ERe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?kh(e):kh.ceil(e),mr(e.getUTCFullYear()%1e4,t,4)}function TRe(){return"+0000"}function rj(){return"%"}function nj(e){return+e}function ij(e){return Math.floor(+e/1e3)}var Rd,xG,_G;ARe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ARe(e){return Rd=APe(e),xG=Rd.format,Rd.parse,_G=Rd.utcFormat,Rd.utcParse,Rd}function SRe(e){return new Date(e)}function CRe(e){return e instanceof Date?+e:+new Date(+e)}function xI(e,t,r,n,i,a,s,o,c,u){var d=aI(),h=d.invert,g=d.domain,x=u(".%L"),_=u(":%S"),w=u("%I:%M"),T=u("%I %p"),C=u("%a %d"),L=u("%b %d"),P=u("%B"),D=u("%Y");function F(R){return(c(R)<R?x:o(R)<R?_:s(R)<R?w:a(R)<R?T:n(R)<R?i(R)<R?C:L:r(R)<R?P:D)(R)}return d.invert=function(R){return new Date(h(R))},d.domain=function(R){return arguments.length?g(Array.from(R,CRe)):g().map(SRe)},d.ticks=function(R){var I=g();return e(I[0],I[I.length-1],R??10)},d.tickFormat=function(R,I){return I==null?F:u(I)},d.nice=function(R){var I=g();return(!R||typeof R.range!="function")&&(R=t(I[0],I[I.length-1],R??10)),R?g(sG(I,R)):d},d.copy=function(){return og(d,xI(e,t,r,n,i,a,s,o,c,u))},d}function NRe(){return zs.apply(xI(EPe,TPe,zl,vI,M_,lg,mI,hI,rf,xG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IRe(){return zs.apply(xI(bPe,wPe,$l,yI,D_,O_,gI,pI,rf,_G).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function F_(){var e=0,t=1,r,n,i,a,s=da,o=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(a(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(g){var x,_;return arguments.length?([x,_]=g,s=h(x,_),u):[s(0),s(1)]}}return u.range=d(qh),u.rangeRound=d(iI),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),u}}function yu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bG(){var e=vu(F_()(da));return e.copy=function(){return yu(e,bG())},Zl.apply(e,arguments)}function wG(){var e=lI(F_()).domain([1,10]);return e.copy=function(){return yu(e,wG()).base(e.base())},Zl.apply(e,arguments)}function EG(){var e=cI(F_());return e.copy=function(){return yu(e,EG()).constant(e.constant())},Zl.apply(e,arguments)}function _I(){var e=uI(F_());return e.copy=function(){return yu(e,_I()).exponent(e.exponent())},Zl.apply(e,arguments)}function kRe(){return _I.apply(null,arguments).exponent(.5)}function TG(){var e=[],t=da;function r(n){if(n!=null&&!isNaN(n=+n))return t((ag(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>mke(e,a/n))},r.copy=function(){return TG(t).domain(e)},Zl.apply(r,arguments)}function L_(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=da,d,h=!1,g;function x(w){return isNaN(w=+w)?g:(w=.5+((w=+d(w))-a)*(n*w<n*a?o:c),u(h?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([e,t,r]=w,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,x):[e,t,r]},x.clamp=function(w){return arguments.length?(h=!!w,x):h},x.interpolator=function(w){return arguments.length?(u=w,x):u};function _(w){return function(T){var C,L,P;return arguments.length?([C,L,P]=T,u=zke(w,[C,L,P]),x):[u(0),u(.5),u(1)]}}return x.range=_(qh),x.rangeRound=_(iI),x.unknown=function(w){return arguments.length?(g=w,x):g},function(w){return d=w,i=w(e),a=w(t),s=w(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,x}}function AG(){var e=vu(L_()(da));return e.copy=function(){return yu(e,AG())},Zl.apply(e,arguments)}function SG(){var e=lI(L_()).domain([.1,1,10]);return e.copy=function(){return yu(e,SG()).base(e.base())},Zl.apply(e,arguments)}function CG(){var e=cI(L_());return e.copy=function(){return yu(e,CG()).constant(e.constant())},Zl.apply(e,arguments)}function bI(){var e=uI(L_());return e.copy=function(){return yu(e,bI()).exponent(e.exponent())},Zl.apply(e,arguments)}function PRe(){return bI.apply(null,arguments).exponent(.5)}const wp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tI,scaleDiverging:AG,scaleDivergingLog:SG,scaleDivergingPow:bI,scaleDivergingSqrt:PRe,scaleDivergingSymlog:CG,scaleIdentity:aG,scaleImplicit:x2,scaleLinear:iG,scaleLog:oG,scaleOrdinal:eI,scalePoint:yke,scalePow:fI,scaleQuantile:uG,scaleQuantize:fG,scaleRadial:cG,scaleSequential:bG,scaleSequentialLog:wG,scaleSequentialPow:_I,scaleSequentialQuantile:TG,scaleSequentialSqrt:kRe,scaleSequentialSymlog:EG,scaleSqrt:fPe,scaleSymlog:lG,scaleThreshold:dG,scaleTime:NRe,scaleUtc:IRe,tickFormat:nG},Symbol.toStringTag,{value:"Module"}));var Ql=e=>e.chartData,j_=we([Ql],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),NG=(e,t,r,n)=>n?j_(e):Ql(e),IG=(e,t,r)=>r?j_(e):Ql(e);function Hl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if($t(t)&&$t(r))return!0}return!1}function aj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function kG(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if($t(r))i=r;else if(typeof r=="function")return;if($t(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Hl(s))return s}}function RRe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Hl(n))return aj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(at(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&mL.test(i)){var c=mL.exec(i);if(c==null||c[1]==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t?.[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(at(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[1]))}catch{}else if(typeof a=="string"&&gL.test(a)){var d=gL.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var h=+d[1];o=t[1]+h}}else o=t?.[1];var g=[s,o];if(Hl(g))return t==null?g:aj(g,t,r)}}}var Kh=1e9,ORe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EI,nn=!0,js="[DecimalError] ",df=js+"Invalid argument: ",wI=js+"Exponent out of range: ",Wh=Math.floor,Ju=Math.pow,MRe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,as,hi=1e7,Yr=7,PG=9007199254740991,y1=Wh(PG/Yr),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(e){return Ol(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,r=t.constructor;return Br(Ol(t,new r(e),0,1),r.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return qn(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(as))throw Error(js+"NaN");if(r.s<1)throw Error(js+(r.s?"NaN":"-Infinity"));return r.eq(as)?new n(0):(nn=!1,t=Ol(Pm(r,a),Pm(e,a),a),nn=!0,Br(t,i))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MG(t,e):RG(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(js+"NaN");return r.s?(nn=!1,t=Ol(r,e,0,1).times(e),nn=!0,r.minus(t)):Br(new n(r),i)};ct.naturalExponential=ct.exp=function(){return OG(this)};ct.naturalLogarithm=ct.ln=function(){return Pm(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RG(t,e):MG(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(df+e);if(t=qn(i)+1,n=i.d.length-1,r=n*Yr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ct.squareRoot=ct.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(js+"NaN")}for(e=qn(o),nn=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Vo(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Wh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Ol(o,a,s+2)).times(.5),Vo(a.d).slice(0,s)===(t=Vo(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Br(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return nn=!0,Br(n,r)};ct.times=ct.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,h=d.constructor,g=d.d,x=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=g.length,u=x.length,c<u&&(a=g,g=x,x=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+x[n]*g[i-n-1]+t,a[i--]=o%hi|0,t=o/hi|0;a[i]=(a[i]+t)%hi|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,nn?Br(e,h.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zo(e,0,Kh),t===void 0?t=n.rounding:Zo(t,0,8),Br(r,e+qn(r)+1,t))};ct.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Rf(n,!0):(Zo(e,0,Kh),t===void 0?t=i.rounding:Zo(t,0,8),n=Br(new i(n),e+1,t),r=Rf(n,!0,e+1)),r};ct.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Rf(i):(Zo(e,0,Kh),t===void 0?t=a.rounding:Zo(t,0,8),n=Br(new a(i),e+qn(i)+1,t),r=Rf(n.abs(),!1,e+qn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return Br(new t(e),qn(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(as);if(o=new c(o),!o.s){if(e.s<1)throw Error(js+"Infinity");return o}if(o.eq(as))return o;if(n=c.precision,e.eq(as))return Br(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=PG){for(i=new c(as),t=Math.ceil(n/Yr+4),nn=!1;r%2&&(i=i.times(o),oj(i.d,t)),r=Wh(r/2),r!==0;)o=o.times(o),oj(o.d,t);return nn=!0,e.s<0?new c(as).div(i):Br(i,n)}}else if(a<0)throw Error(js+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,nn=!1,i=e.times(Pm(o,n+u)),nn=!0,i=OG(i),i.s=a,i};ct.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=qn(i),n=Rf(i,r<=a.toExpNeg||r>=a.toExpPos)):(Zo(e,1,Kh),t===void 0?t=a.rounding:Zo(t,0,8),i=Br(new a(i),e,t),r=qn(i),n=Rf(i,e<=r||r<=a.toExpNeg,e)),n};ct.toSignificantDigits=ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zo(e,1,Kh),t===void 0?t=n.rounding:Zo(t,0,8)),Br(new n(r),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qn(e),r=e.constructor;return Rf(e,t<=r.toExpNeg||t>=r.toExpPos)};function RG(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),nn?Br(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(h/Yr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/hi|0,c[a]%=hi;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,nn?Br(t,h):t}function Zo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(df+e)}function Vo(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Yr-n.length,r&&(a+=Rc(r)),a+=n;s=e[t],n=s+"",r=Yr-n.length,r&&(a+=Rc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ol=(function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%hi|0,s=a/hi|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*hi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,h,g,x,_,w,T,C,L,P,D,F,R,I,k,O=n.constructor,B=n.s==i.s?1:-1,V=n.d,j=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(js+"Division by zero");for(c=n.e-i.e,I=j.length,F=V.length,x=new O(B),_=x.d=[],u=0;j[u]==(V[u]||0);)++u;if(j[u]>(V[u]||0)&&--c,a==null?L=a=O.precision:s?L=a+(qn(n)-qn(i))+1:L=a,L<0)return new O(0);if(L=L/Yr+2|0,u=0,I==1)for(d=0,j=j[0],L++;(u<F||d)&&L--;u++)P=d*hi+(V[u]||0),_[u]=P/j|0,d=P%j|0;else{for(d=hi/(j[0]+1)|0,d>1&&(j=e(j,d),V=e(V,d),I=j.length,F=V.length),D=I,w=V.slice(0,I),T=w.length;T<I;)w[T++]=0;k=j.slice(),k.unshift(0),R=j[0],j[1]>=hi/2&&++R;do d=0,o=t(j,w,I,T),o<0?(C=w[0],I!=T&&(C=C*hi+(w[1]||0)),d=C/R|0,d>1?(d>=hi&&(d=hi-1),h=e(j,d),g=h.length,T=w.length,o=t(h,w,g,T),o==1&&(d--,r(h,I<g?k:j,g))):(d==0&&(o=d=1),h=j.slice()),g=h.length,g<T&&h.unshift(0),r(w,h,T),o==-1&&(T=w.length,o=t(j,w,I,T),o<1&&(d++,r(w,I<T?k:j,T))),T=w.length):o===0&&(d++,w=[0]),_[u++]=d,o&&w[0]?w[T++]=V[D]||0:(w=[V[D]],T=1);while((D++<F||w[0]!==void 0)&&L--)}return _[0]||_.shift(),x.e=c,Br(x,s?a+qn(x)+1:a)}})();function OG(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,h=d.precision;if(qn(e)>16)throw Error(wI+qn(e));if(!e.s)return new d(as);for(nn=!1,o=h,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ju(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(as),d.precision=o;;){if(i=Br(i.times(e),o),r=r.times(++c),s=a.plus(Ol(i,r,o)),Vo(s.d).slice(0,o)===Vo(a.d).slice(0,o)){for(;u--;)a=Br(a.times(a),o);return d.precision=h,t==null?(nn=!0,Br(a,h)):a}a=s}}function qn(e){for(var t=e.e*Yr,r=e.d[0];r>=10;r/=10)t++;return t}function QT(e,t,r){if(t>e.LN10.sd())throw nn=!0,r&&(e.precision=r),Error(js+"LN10 precision limit exceeded");return Br(new e(e.LN10),t)}function Rc(e){for(var t="";e--;)t+="0";return t}function Pm(e,t){var r,n,i,a,s,o,c,u,d,h=1,g=10,x=e,_=x.d,w=x.constructor,T=w.precision;if(x.s<1)throw Error(js+(x.s?"NaN":"-Infinity"));if(x.eq(as))return new w(0);if(t==null?(nn=!1,u=T):u=t,x.eq(10))return t==null&&(nn=!0),QT(w,u);if(u+=g,w.precision=u,r=Vo(_),n=r.charAt(0),a=qn(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Vo(x.d),n=r.charAt(0),h++;a=qn(x),n>1?(x=new w("0."+r),a++):x=new w(n+"."+r.slice(1))}else return c=QT(w,u+2,T).times(a+""),x=Pm(new w(n+"."+r.slice(1)),u-g).plus(c),w.precision=T,t==null?(nn=!0,Br(x,T)):x;for(o=s=x=Ol(x.minus(as),x.plus(as),u),d=Br(x.times(x),u),i=3;;){if(s=Br(s.times(d),u),c=o.plus(Ol(s,new w(i),u)),Vo(c.d).slice(0,u)===Vo(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(QT(w,u+2,T).times(a+""))),o=Ol(o,new w(h),u),w.precision=T,t==null?(nn=!0,Br(o,T)):o;o=c,i+=2}}function sj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Wh(r/Yr),e.d=[],n=(r+1)%Yr,r<0&&(n+=Yr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Yr;n<i;)e.d.push(+t.slice(n,n+=Yr));t=t.slice(n),n=Yr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),nn&&(e.e>y1||e.e<-y1))throw Error(wI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Br(e,t,r){var n,i,a,s,o,c,u,d,h=e.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Yr,i=t,u=h[d=0];else{if(d=Math.ceil((n+1)/Yr),a=h.length,d>=a)return e;for(u=a=h[d],s=1;a>=10;a/=10)s++;n%=Yr,i=n-Yr+s}if(r!==void 0&&(a=Ju(10,s-i-1),o=u/a%10|0,c=t<0||h[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Ju(10,s-i):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(a=qn(e),h.length=1,t=t-a-1,h[0]=Ju(10,(Yr-t%Yr)%Yr),e.e=Wh(-t/Yr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=Ju(10,Yr-n),h[d]=i>0?(u/Ju(10,s-i)%Ju(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==hi&&(h[0]=1,++e.e);break}else{if(h[d]+=a,h[d]!=hi)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(nn&&(e.e>y1||e.e<-y1))throw Error(wI+qn(e));return e}function MG(e,t){var r,n,i,a,s,o,c,u,d,h,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),nn?Br(t,x):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=h.length):(r=h,n=u,o=c.length),i=Math.max(Math.ceil(x/Yr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),o=c.length,i=h.length-o;i>0;--i)c[o++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=hi-1;--c[a],c[i]+=hi}c[i]-=h[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,nn?Br(t,x):t):new g(0)}function Rf(e,t,r){var n,i=qn(e),a=Vo(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Rc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Rc(-i-1)+a,r&&(n=r-s)>0&&(a+=Rc(n))):i>=s?(a+=Rc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Rc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Rc(n))),e.s<0?"-"+a:a}function oj(e,t){if(e.length>t)return e.length=t,!0}function DG(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(df+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return sj(s,a.toString())}else if(typeof a!="string")throw Error(df+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,MRe.test(a))sj(s,a);else throw Error(df+a)}if(i.prototype=ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=DG,i.config=i.set=DRe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function DRe(e){if(!e||typeof e!="object")throw Error(js+"Object expected");var t,r,n,i=["precision",1,Kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Wh(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(df+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(df+r+": "+n);return this}var EI=DG(ORe);as=new EI(1);const Ir=EI;function FG(e){var t;return e===0?t=1:t=Math.floor(new Ir(e).abs().log(10).toNumber())+1,t}function LG(e,t,r){for(var n=new Ir(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var jG=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},UG=(e,t,r)=>{if(e.lte(0))return new Ir(0);var n=FG(e.toNumber()),i=new Ir(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Ir(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?new Ir(c.toNumber()):new Ir(Math.ceil(c.toNumber()))},FRe=(e,t,r)=>{var n=new Ir(1),i=new Ir(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ir(10).pow(FG(e)-1),i=new Ir(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ir(Math.floor(e)))}else e===0?i=new Ir(Math.floor((t-1)/2)):r||(i=new Ir(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],c=0;c<t;c++)o.push(i.add(new Ir(c-s).mul(n)).toNumber());return o},BG=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ir(0),tickMin:new Ir(0),tickMax:new Ir(0)};var s=UG(new Ir(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Ir(0):(o=new Ir(t).add(r).div(2),o=o.sub(new Ir(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Ir(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?BG(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Ir(c).mul(s)),tickMax:o.add(new Ir(u).mul(s))})},LRe=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,c]=jG([r,n]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return r>n?u.reverse():u}if(o===c)return FRe(o,i,a);var{step:d,tickMin:h,tickMax:g}=BG(o,c,s,a,0),x=LG(h,g.add(new Ir(.1).mul(d)),d);return r>n?x.reverse():x},jRe=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=jG([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var c=Math.max(r,2),u=UG(new Ir(o).sub(s).div(c-1),a,0),d=[...LG(new Ir(s),new Ir(o),u),o];return a===!1&&(d=d.map(h=>Math.round(h))),n>i?d.reverse():d},VG=e=>e.rootProps.maxBarSize,URe=e=>e.rootProps.barGap,zG=e=>e.rootProps.barCategoryGap,BRe=e=>e.rootProps.barSize,cg=e=>e.rootProps.stackOffset,$G=e=>e.rootProps.reverseStackOrder,TI=e=>e.options.chartName,AI=e=>e.rootProps.syncId,HG=e=>e.rootProps.syncMethod,SI=e=>e.options.eventEmitter,VRe=e=>e.rootProps.baseValue,Gn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gu={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Do={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},U_=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function B_(e,t,r){if(r!=="auto")return r;if(e!=null)return tl(e,t)?"category":"number"}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){zRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zRe(e,t,r){return(t=$Re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Re(e){var t=HRe(e,"string");return typeof t=="symbol"?t:t+""}function HRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cj={allowDataOverflow:Gu.allowDataOverflow,allowDecimals:Gu.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gu.angleAxisId,includeHidden:!1,name:void 0,reversed:Gu.reversed,scale:Gu.scale,tick:Gu.tick,tickCount:void 0,ticks:void 0,type:Gu.type,unit:void 0},uj={allowDataOverflow:Do.allowDataOverflow,allowDecimals:Do.allowDecimals,allowDuplicatedCategory:Do.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Do.radiusAxisId,includeHidden:Do.includeHidden,name:void 0,reversed:Do.reversed,scale:Do.scale,tick:Do.tick,tickCount:Do.tickCount,ticks:void 0,type:Do.type,unit:void 0},GRe=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},CI=we([GRe,SH],(e,t)=>{var r;if(e!=null)return e;var n=(r=B_(t,"angleAxis",cj.type))!==null&&r!==void 0?r:"category";return x1(x1({},cj),{},{type:n})}),qRe=(e,t)=>e.polarAxis.radiusAxis[t],NI=we([qRe,SH],(e,t)=>{var r;if(e!=null)return e;var n=(r=B_(t,"radiusAxis",uj.type))!==null&&r!==void 0?r:"category";return x1(x1({},uj),{},{type:n})}),V_=e=>e.polarOptions,II=we([Jl,Xl,ei],HH),GG=we([V_,II],(e,t)=>{if(e!=null)return Yi(e.innerRadius,t,0)}),qG=we([V_,II],(e,t)=>{if(e!=null)return Yi(e.outerRadius,t,t*.8)}),KRe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},KG=we([V_],KRe);we([CI,KG],U_);var WG=we([II,GG,qG],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});we([NI,WG],U_);var YG=we([ur,V_,GG,qG,Jl,Xl],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:Yi(s,i,i/2),cy:Yi(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ln=(e,t)=>t,ug=(e,t,r)=>r;function z_(e){return e?.id}function JG(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=z_(o);u.forEach((h,g)=>{var x=a==null||i?g:String(jr(h,a,null)),_=jr(h,o.dataKey,0),w;s.has(x)?w=s.get(x):w={},Object.assign(w,{[d]:_}),s.set(x,w)})}}),Array.from(s.values())}function $_(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var H_=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function G_(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function WRe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var xi=e=>{var t=ur(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Yh=e=>e.tooltip.settings.axisId;function YRe(e){if(e in wp)return wp[e]();var t="scale".concat(Ym(e));if(t in wp)return wp[t]()}function fj(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var c=e.bandwidth();switch(s.position){case"middle":o+=c/2;break;case"end":o+=c;break}}return o}}}}function dj(e,t,r){if(typeof e=="function")return fj(e.copy().domain(t).range(r));if(e!=null){var n=YRe(e);if(n!=null)return n.domain(t).range(r),fj(n)}}var XG=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Hl(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];$t(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hj(Object(r),!0).forEach(function(n){JRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JRe(e,t,r){return(t=XRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XRe(e){var t=ZRe(e,"string");return typeof t=="symbol"?t:t+""}function ZRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E2=[0,"auto"],ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ZG=(e,t)=>e.cartesianAxis.xAxis[t],ec=(e,t)=>{var r=ZG(e,t);return r??ci},ui={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qm},QG=(e,t)=>e.cartesianAxis.yAxis[t],tc=(e,t)=>{var r=QG(e,t);return r??ui},QRe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kI=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??QRe},En=(e,t,r)=>{switch(t){case"xAxis":return ec(e,r);case"yAxis":return tc(e,r);case"zAxis":return kI(e,r);case"angleAxis":return CI(e,r);case"radiusAxis":return NI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},eOe=(e,t,r)=>{switch(t){case"xAxis":return ec(e,r);case"yAxis":return tc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jh=(e,t,r)=>{switch(t){case"xAxis":return ec(e,r);case"yAxis":return tc(e,r);case"angleAxis":return CI(e,r);case"radiusAxis":return NI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},eq=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function PI(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var q_=e=>e.graphicalItems.cartesianItems,tOe=we([ln,ug],PI),RI=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),fg=we([q_,En,tOe],RI,{memoizeOptions:{resultEqualityCheck:G_}}),tq=we([fg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter($_)),rq=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),rOe=we([fg],rq),OI=e=>e.map(t=>t.data).filter(Boolean).flat(1),nOe=we([fg],OI,{memoizeOptions:{resultEqualityCheck:G_}}),MI=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},DI=we([nOe,NG],MI),FI=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:jr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:jr(i,n)}))):e.map(n=>({value:n})),K_=we([DI,En,fg],FI);function nq(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wy(e){if(Jo(e)||e instanceof Date){var t=Number(e);if($t(t))return t}}function pj(e){if(Array.isArray(e)){var t=[Wy(e[0]),Wy(e[1])];return Hl(t)?t:void 0}var r=Wy(e);if(r!=null)return[r,r]}function Gl(e){return e.map(Wy).filter(Da)}function iOe(e,t,r){return!r||typeof t!="number"||mo(t)?[]:r.length?Gl(r.flatMap(n=>{var i=jr(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!$t(a)||!$t(s)))return[t-a,t+s]})):[]}var ri=e=>{var t=xi(e),r=Yh(e);return Jh(e,t,r)},dg=we([ri],e=>e?.dataKey),aOe=we([tq,NG,ri],JG),iq=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var c=s[o.stackId];return c==null&&(c=[]),c.push(o),s[o.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,c]=s,u=n?[...c].reverse():c,d=u.map(z_);return[o,{stackedData:SCe(e,d,r),graphicalItems:u}]}))},b1=we([aOe,tq,cg,$G],iq),aq=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=kCe(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},sOe=we([En],e=>e.allowDataOverflow),LI=e=>{var t;if(e==null||!("domain"in e))return E2;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Gl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:E2},jI=we([En],LI),UI=we([jI,sOe],kG),oOe=we([b1,Ql,ln,UI],aq,{memoizeOptions:{resultEqualityCheck:H_}}),W_=e=>e.errorBars,lOe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>nq(r,n)),w1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},BI=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,h=(u=n[c.id])===null||u===void 0?void 0:u.filter(C=>nq(i,C)),g=jr(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),x=iOe(o,g,h);if(x.length>=2){var _=Math.min(...x),w=Math.max(...x);(a==null||_<a)&&(a=_),(s==null||w>s)&&(s=w)}var T=pj(g);T!=null&&(a=a==null?T[0]:Math.min(a,T[0]),s=s==null?T[1]:Math.max(s,T[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=pj(jr(o,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),$t(a)&&$t(s))return[a,s]},cOe=we([DI,En,rOe,W_,ln],BI,{memoizeOptions:{resultEqualityCheck:H_}});function uOe(e){var{value:t}=e;if(Jo(t)||t instanceof Date)return t}var fOe=(e,t,r)=>{var n=e.map(uOe).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&w$(n))?WH(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},sq=e=>e.referenceElements.dots,Xh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),dOe=we([sq,ln,ug],Xh),oq=e=>e.referenceElements.areas,hOe=we([oq,ln,ug],Xh),lq=e=>e.referenceElements.lines,pOe=we([lq,ln,ug],Xh),cq=(e,t)=>{if(e!=null){var r=Gl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},mOe=we(dOe,ln,cq),uq=(e,t)=>{if(e!=null){var r=Gl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},gOe=we([hOe,ln],uq);function vOe(e){var t;if(e.x!=null)return Gl([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Gl(r)}function yOe(e){var t;if(e.y!=null)return Gl([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Gl(r)}var fq=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?vOe(n):yOe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},xOe=we([pOe,ln],fq),_Oe=we(mOe,xOe,gOe,(e,t,r)=>w1(e,r,t)),VI=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?w1(n,a,i):w1(a,i);return RRe(t,u,e.allowDataOverflow)},bOe=we([En,jI,UI,oOe,cOe,_Oe,ur,ln],VI,{memoizeOptions:{resultEqualityCheck:H_}}),wOe=[0,1],zI=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=tl(t,a);if(u&&o==null){var d;return WH(0,(d=r?.length)!==null&&d!==void 0?d:0)}return c==="category"?fOe(n,e,u):i==="expand"?wOe:s}},$I=we([En,ur,DI,K_,cg,ln,bOe],zI);function EOe(e){return e in wp}var dq=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Ym(n));return EOe(a)?a:"point"}}},xu=we([En,eq,TI],dq);function HI(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?dj(e.scale,r,n):dj(t,r,n)}var GI=(e,t,r)=>{var n=LI(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Hl(e))return LRe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Hl(e))return jRe(e,t.tickCount,t.allowDecimals)}},qI=we([$I,Jh,xu],GI),KI=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Hl(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],o=(i=r[0])!==null&&i!==void 0?i:0,c=t[1],u=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(c,u)]}return t},TOe=we([En,$I,qI,ln],KI),AOe=we(K_,En,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Gl(e.map(h=>h.value))).sort((h,g)=>h-g),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o],u=n[o+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/s}}),hq=we(AOe,ur,zG,ei,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!$t(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Yi(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),SOe=(e,t,r)=>{var n=ec(e,t);return n==null||typeof n.padding!="string"?0:hq(e,"xAxis",t,r,n.padding)},COe=(e,t,r)=>{var n=tc(e,t);return n==null||typeof n.padding!="string"?0:hq(e,"yAxis",t,r,n.padding)},NOe=we(ec,SOe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),IOe=we(tc,COe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),kOe=we([ei,NOe,C_,S_,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),POe=we([ei,ur,IOe,C_,S_,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),hg=(e,t,r,n)=>{var i;switch(t){case"xAxis":return kOe(e,r,n);case"yAxis":return POe(e,r,n);case"zAxis":return(i=kI(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return KG(e);case"radiusAxis":return WG(e,r);default:return}},pq=we([En,hg],U_),ROe=we([xu,TOe],XG),Y_=we([En,xu,ROe,pq],HI);we([fg,W_,ln],lOe);function mq(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var J_=(e,t)=>t,X_=(e,t,r)=>r,OOe=we(T_,J_,X_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(mq)),MOe=we(A_,J_,X_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(mq)),gq=(e,t)=>({width:e.width,height:t.height}),DOe=(e,t)=>{var r=typeof t.width=="number"?t.width:Qm;return{width:r,height:e.height}},vq=we(ei,ec,gq),FOe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},LOe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},jOe=we(Xl,ei,OOe,J_,X_,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=gq(t,o);s==null&&(s=FOe(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),UOe=we(Jl,ei,MOe,J_,X_,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=DOe(t,o);s==null&&(s=LOe(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),BOe=(e,t)=>{var r=ec(e,t);if(r!=null)return jOe(e,r.orientation,r.mirror)},VOe=we([ei,ec,BOe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),zOe=(e,t)=>{var r=tc(e,t);if(r!=null)return UOe(e,r.orientation,r.mirror)},$Oe=we([ei,tc,zOe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),yq=we(ei,tc,(e,t)=>{var r=typeof t.width=="number"?t.width:Qm;return{width:r,height:e.height}}),mj=(e,t,r)=>{switch(t){case"xAxis":return vq(e,r).width;case"yAxis":return yq(e,r).height;default:return}},xq=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=tl(e,n),c=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&w$(c))return c}},WI=we([ur,K_,En,ln],xq),_q=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=tl(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},YI=we([ur,K_,Jh,ln],_q),gj=we([ur,eOe,xu,Y_,WI,YI,hg,qI,ln],(e,t,r,n,i,a,s,o,c)=>{if(t!=null){var u=tl(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),HOe=(e,t,r,n,i,a,s,o,c)=>{if(!(t==null||n==null)){var u=tl(e,c),{type:d,ticks:h,tickCount:g}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=d==="category"&&n.bandwidth?n.bandwidth()/x:0;_=c==="angleAxis"&&a!=null&&a.length>=2?pi(a[0]-a[1])*2*_:_;var w=h||i;return w?w.map((T,C)=>{var L=s?s.indexOf(T):T,P=n.map(L);return $t(P)?{index:C,coordinate:P+_,value:T,offset:_}:null}).filter(Da):u&&o?o.map((T,C)=>{var L=n.map(T);return $t(L)?{coordinate:L+_,value:T,index:C,offset:_}:null}).filter(Da):n.ticks?n.ticks(g).map((T,C)=>{var L=n.map(T);return $t(L)?{coordinate:L+_,value:T,index:C,offset:_}:null}).filter(Da):n.domain().map((T,C)=>{var L=n.map(T);return $t(L)?{coordinate:L+_,value:s?s[T]:T,index:C,offset:_}:null}).filter(Da)}},bq=we([ur,Jh,xu,Y_,qI,hg,WI,YI,ln],HOe),GOe=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=tl(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&n?.length>=2?pi(n[0]-n[1])*2*u:u,o&&a?a.map((d,h)=>{var g=r.map(d);return $t(g)?{coordinate:g+u,value:d,index:h,offset:u}:null}).filter(Da):r.ticks?r.ticks(c).map((d,h)=>{var g=r.map(d);return $t(g)?{coordinate:g+u,value:d,index:h,offset:u}:null}).filter(Da):r.domain().map((d,h)=>{var g=r.map(d);return $t(g)?{coordinate:g+u,value:i?i[d]:d,index:h,offset:u}:null}).filter(Da)}},ou=we([ur,Jh,Y_,hg,WI,YI,ln],GOe),lu=we(En,Y_,(e,t)=>{if(!(e==null||t==null))return _1(_1({},e),{},{scale:t})}),qOe=we([En,xu,$I,pq],HI);we((e,t,r)=>kI(e,r),qOe,(e,t)=>{if(!(e==null||t==null))return _1(_1({},e),{},{scale:t})});var KOe=we([ur,T_,A_],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wq=e=>e.options.defaultTooltipEventType,Eq=e=>e.options.validateTooltipEventTypes;function Tq(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function JI(e,t){var r=wq(e),n=Eq(e);return Tq(t,r,n)}function WOe(e){return ft(t=>JI(t,e))}var Aq=(e,t)=>{var r,n=Number(t);if(!(mo(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},YOe=e=>e.tooltip.settings,Lc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},JOe={itemInteraction:{click:Lc,hover:Lc},axisInteraction:{click:Lc,hover:Lc},keyboardInteraction:Lc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Sq=Va({name:"tooltip",initialState:JOe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:tn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=fo(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:tn()},removeTooltipEntrySettings:{reducer(e,t){var r=fo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:tn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:XOe,replaceTooltipEntrySettings:ZOe,removeTooltipEntrySettings:QOe,setTooltipSettingsState:e4e,setActiveMouseOverItemIndex:Cq,mouseLeaveItem:t4e,mouseLeaveChart:Nq,setActiveClickItemIndex:r4e,setMouseOverAxisIndex:Iq,setMouseClickAxisIndex:n4e,setSyncInteraction:T2,setKeyboardInteraction:A2}=Sq.actions,i4e=Sq.reducer;function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){a4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a4e(e,t,r){return(t=s4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s4e(e){var t=o4e(e,"string");return typeof t=="symbol"?t:t+""}function o4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l4e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function c4e(e){return e.index!=null}var kq=(e,t,r,n)=>{if(t==null)return Lc;var i=l4e(e,t,r);if(i==null)return Lc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(c4e(i)){if(a)return yy(yy({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return yy(yy({},Lc),{},{coordinate:i.coordinate})};function u4e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function f4e(e,t){var r=u4e(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function d4e(e,t,r){if(r==null||t==null)return!0;var n=jr(e,t);return n==null||!Hl(r)?!0:f4e(n,r)}var XI=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!$t(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(s,Math.min(a,o)),u=t[c];return u==null||d4e(u,r,n)?String(c):null},Pq=(e,t,r,n,i,a,s)=>{if(a!=null){var o=s[0],c=o?.getPosition(a);if(c!=null)return c;var u=i?.[Number(a)];if(u)return r==="horizontal"?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},Rq=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Oq=e=>e.options.tooltipPayloadSearcher,Zh=e=>e.tooltip;function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){h4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h4e(e,t,r){return(t=p4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4e(e){var t=m4e(e,"string");return typeof t=="symbol"?t:t+""}function m4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g4e(e,t){return e??t}var Mq=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,h=[];return e.reduce((g,x)=>{var _,{dataDefinedOnItem:w,settings:T}=x,C=g4e(w,o),L=Array.isArray(C)?mH(C,u,d):C,P=(_=T?.dataKey)!==null&&_!==void 0?_:n,D=T?.nameKey,F;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&s==="axis"?F=E$(L,n,i):F=a(L,t,c,D),Array.isArray(F))F.forEach(I=>{var k=xj(xj({},T),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});g.push(vL({tooltipEntrySettings:k,dataKey:I.dataKey,payload:I.payload,value:jr(I.payload,I.dataKey),name:I.name}))});else{var R;g.push(vL({tooltipEntrySettings:T,dataKey:P,payload:F,value:jr(F,P),name:(R=jr(F,D))!==null&&R!==void 0?R:T?.name}))}return g},h)}},ZI=we([ri,eq,TI],dq),v4e=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),y4e=we([xi,Yh],PI),Qh=we([v4e,ri,y4e],RI,{memoizeOptions:{resultEqualityCheck:G_}}),x4e=we([Qh],e=>e.filter($_)),_4e=we([Qh],OI,{memoizeOptions:{resultEqualityCheck:G_}}),e0=we([_4e,Ql],MI),b4e=we([x4e,Ql,ri],JG),QI=we([e0,ri,Qh],FI),Dq=we([ri],LI),w4e=we([ri],e=>e.allowDataOverflow),Fq=we([Dq,w4e],kG),E4e=we([Qh],e=>e.filter($_)),T4e=we([b4e,E4e,cg,$G],iq),A4e=we([T4e,Ql,xi,Fq],aq),S4e=we([Qh],rq),C4e=we([e0,ri,S4e,W_,xi],BI,{memoizeOptions:{resultEqualityCheck:H_}}),N4e=we([sq,xi,Yh],Xh),I4e=we([N4e,xi],cq),k4e=we([oq,xi,Yh],Xh),P4e=we([k4e,xi],uq),R4e=we([lq,xi,Yh],Xh),O4e=we([R4e,xi],fq),M4e=we([I4e,O4e,P4e],w1),D4e=we([ri,Dq,Fq,A4e,C4e,M4e,ur,xi],VI),pg=we([ri,ur,e0,QI,cg,xi,D4e],zI),F4e=we([pg,ri,ZI],GI),L4e=we([ri,pg,F4e,xi],KI),Lq=e=>{var t=xi(e),r=Yh(e),n=!1;return hg(e,t,r,n)},jq=we([ri,Lq],U_),Uq=we([ri,ZI,L4e,jq],HI),j4e=we([ur,QI,ri,xi],xq),U4e=we([ur,QI,ri,xi],_q),B4e=(e,t,r,n,i,a,s,o)=>{if(t){var{type:c}=t,u=tl(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&i?.length>=2?pi(i[0]-i[1])*2*h:h,u&&s?s.map((g,x)=>{var _=n.map(g);return $t(_)?{coordinate:_+h,value:g,index:x,offset:h}:null}).filter(Da):n.domain().map((g,x)=>{var _=n.map(g);return $t(_)?{coordinate:_+h,value:a?a[g]:g,index:x,offset:h}:null}).filter(Da)}}},rc=we([ur,ri,ZI,Uq,Lq,j4e,U4e,xi],B4e),ek=we([wq,Eq,YOe],(e,t,r)=>Tq(r.shared,e,t)),Bq=e=>e.tooltip.settings.trigger,tk=e=>e.tooltip.settings.defaultIndex,mg=we([Zh,ek,Bq,tk],kq),cu=we([mg,e0,dg,pg],XI),Vq=we([rc,cu],Aq),rk=we([mg],e=>{if(e)return e.dataKey}),V4e=we([mg],e=>{if(e)return e.graphicalItemId}),zq=we([Zh,ek,Bq,tk],Rq),z4e=we([Jl,Xl,ur,ei,rc,tk,zq],Pq),$4e=we([mg,z4e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),H4e=we([mg],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),G4e=we([zq,cu,Ql,dg,Vq,Oq,ek],Mq),q4e=we([G4e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){K4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K4e(e,t,r){return(t=W4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W4e(e){var t=Y4e(e,"string");return typeof t=="symbol"?t:t+""}function Y4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J4e=()=>ft(ri),X4e=()=>{var e=J4e(),t=ft(rc),r=ft(Uq);return Ah(!e||!r?void 0:bj(bj({},e),{},{scale:r}),t)};function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){Z4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z4e(e,t,r){return(t=Q4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q4e(e){var t=eMe(e,"string");return typeof t=="symbol"?t:t+""}function eMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tMe=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},rMe=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Od(Od(Od({},n),Hn(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return Od(Od(Od({},n),Hn(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nMe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var $q=(e,t,r,n,i)=>{var a,s=(a=t?.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var c,u,d,h,g,x=o>0?(c=r[o-1])===null||c===void 0?void 0:c.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,_=(d=r[o])===null||d===void 0?void 0:d.coordinate,w=o>=s-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(g=r[o+1])===null||g===void 0?void 0:g.coordinate,T=void 0;if(!(x==null||_==null||w==null))if(pi(_-x)!==pi(w-_)){var C=[];if(pi(w-_)===pi(i[1]-i[0])){T=w;var L=_+i[1]-i[0];C[0]=Math.min(L,(L+x)/2),C[1]=Math.max(L,(L+x)/2)}else{T=x;var P=w+i[1]-i[0];C[0]=Math.min(_,(P+_)/2),C[1]=Math.max(_,(P+_)/2)}var D=[Math.min(_,(T+_)/2),Math.max(_,(T+_)/2)];if(e>D[0]&&e<=D[1]||e>=C[0]&&e<=C[1]){var F;return(F=r[o])===null||F===void 0?void 0:F.index}}else{var R=Math.min(x,w),I=Math.max(x,w);if(e>(R+_)/2&&e<=(I+_)/2){var k;return(k=r[o])===null||k===void 0?void 0:k.index}}}else if(t)for(var O=0;O<s;O++){var B=t[O];if(B!=null){var V=t[O+1],j=t[O-1];if(O===0&&V!=null&&e<=(B.coordinate+V.coordinate)/2||O===s-1&&j!=null&&e>(B.coordinate+j.coordinate)/2||O>0&&O<s-1&&j!=null&&V!=null&&e>(B.coordinate+j.coordinate)/2&&e<=(B.coordinate+V.coordinate)/2)return B.index}}return-1},Hq=()=>ft(TI),nk=(e,t)=>t,Gq=(e,t,r)=>r,ik=(e,t,r,n)=>n,iMe=we(rc,e=>p_(e,t=>t.coordinate)),ak=we([Zh,nk,Gq,ik],kq),sk=we([ak,e0,dg,pg],XI),aMe=(e,t,r)=>{if(t!=null){var n=Zh(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},qq=we([Zh,nk,Gq,ik],Rq),E1=we([Jl,Xl,ur,ei,rc,ik,qq],Pq),sMe=we([ak,E1],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Kq=we([rc,sk],Aq),oMe=we([qq,sk,Ql,dg,Kq,Oq,nk],Mq),lMe=we([ak,sk],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),cMe=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&nMe(e,s)){var o=PCe(e,t),c=$q(o,a,i,r,n),u=tMe(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},uMe=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=WIe(e,r);if(o){var c=RCe(o,t),u=$q(c,s,a,n,i),d=rMe(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},fMe=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?cMe(e,t,n,i,a,s,o):uMe(e,t,r,n,i,a,s)},dMe=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),hMe=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Gn)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:WRe}});function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){pMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pMe(e,t,r){return(t=mMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mMe(e){var t=gMe(e,"string");return typeof t=="symbol"?t:t+""}function gMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vMe={},yMe={zIndexMap:Object.values(Gn).reduce((e,t)=>Tj(Tj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),vMe)},xMe=new Set(Object.values(Gn));function _Me(e){return xMe.has(e)}var Wq=Va({name:"zIndex",initialState:yMe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:tn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!_Me(r)&&delete e.zIndexMap[r])},prepare:tn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:tn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:tn()}}}),{registerZIndexPortal:bMe,unregisterZIndexPortal:wMe,registerZIndexPortalElement:EMe,unregisterZIndexPortalElement:TMe}=Wq.actions,AMe=Wq.reducer;function za(e){var{zIndex:t,children:r}=e,n=cNe(),i=n&&t!==void 0&&t!==0,a=Zi(),s=Gr();M.useLayoutEffect(()=>i?(s(bMe({zIndex:t})),()=>{s(wMe({zIndex:t}))}):qf,[s,t,i]);var o=ft(c=>dMe(c,t,a));return i?o?Eh.createPortal(r,o):null:r}function S2(){return S2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S2.apply(null,arguments)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){SMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SMe(e,t,r){return(t=CMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CMe(e){var t=NMe(e,"string");return typeof t=="symbol"?t:t+""}function NMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IMe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return M.isValidElement(t)?M.cloneElement(t,n):M.createElement(r,n)}function kMe(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,h=r,g=n,x=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var _,w,T;if(d==="ScatterChart")_=h,w=lIe,T=Gn.cursorLine;else if(d==="BarChart")_=cIe(o,h,a,s),w=$H,T=Gn.cursorRectangle;else if(o==="radial"&&A$(h)){var{cx:C,cy:L,radius:P,startAngle:D,endAngle:F}=GH(h);_={cx:C,cy:L,startAngle:D,endAngle:F,innerRadius:P,outerRadius:P},w=KH,T=Gn.cursorLine}else _={points:ZIe(o,h,a)},w=lh,T=Gn.cursorLine;var R=typeof c=="object"&&"className"in c?c.className:void 0,I=xy(xy(xy(xy({stroke:"#ccc",pointerEvents:"none"},a),_),Af(c)),{},{payload:g,payloadIndex:x,className:pr("recharts-tooltip-cursor",R)});return M.createElement(za,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},M.createElement(IMe,{cursor:c,cursorComp:w,cursorProps:I}))}function PMe(e){var t=X4e(),r=AH(),n=Kf(),i=Hq();return t==null||r==null||n==null||i==null?null:M.createElement(kMe,S2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var Yq=M.createContext(null),RMe=()=>M.useContext(Yq),eA={exports:{}},Sj;function OMe(){return Sj||(Sj=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new i(d,h||c,g),_=r?r+u:u;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],x]:c._events[_].push(x):(c._events[_]=x,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,x=h.length,_=new Array(x);g<x;g++)_[g]=h[g].fn;return _},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,g,x,_){var w=r?r+u:u;if(!this._events[w])return!1;var T=this._events[w],C=arguments.length,L,P;if(T.fn){switch(T.once&&this.removeListener(u,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,d),!0;case 3:return T.fn.call(T.context,d,h),!0;case 4:return T.fn.call(T.context,d,h,g),!0;case 5:return T.fn.call(T.context,d,h,g,x),!0;case 6:return T.fn.call(T.context,d,h,g,x,_),!0}for(P=1,L=new Array(C-1);P<C;P++)L[P-1]=arguments[P];T.fn.apply(T.context,L)}else{var D=T.length,F;for(P=0;P<D;P++)switch(T[P].once&&this.removeListener(u,T[P].fn,void 0,!0),C){case 1:T[P].fn.call(T[P].context);break;case 2:T[P].fn.call(T[P].context,d);break;case 3:T[P].fn.call(T[P].context,d,h);break;case 4:T[P].fn.call(T[P].context,d,h,g);break;default:if(!L)for(F=1,L=new Array(C-1);F<C;F++)L[F-1]=arguments[F];T[P].fn.apply(T[P].context,L)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,g){var x=r?r+u:u;if(!this._events[x])return this;if(!d)return s(this,x),this;var _=this._events[x];if(_.fn)_.fn===d&&(!g||_.once)&&(!h||_.context===h)&&s(this,x);else{for(var w=0,T=[],C=_.length;w<C;w++)(_[w].fn!==d||g&&!_[w].once||h&&_[w].context!==h)&&T.push(_[w]);T.length?this._events[x]=T.length===1?T[0]:T:s(this,x)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(eA)),eA.exports}var MMe=OMe();const DMe=Us(MMe);var Rm=new DMe,C2="recharts.syncEvent.tooltip",Cj="recharts.syncEvent.brush",ok=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!mo(r))return e[r]}},FMe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Jq=Va({name:"options",initialState:FMe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),LMe=Jq.reducer,{createEventEmitter:jMe}=Jq.actions;function UMe(e){return e.tooltip.syncInteraction}var BMe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Xq=Va({name:"chartData",initialState:BMe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Nj,setDataStartEndIndexes:VMe,setComputedData:G8e}=Xq.actions,zMe=Xq.reducer,$Me=["x","y"];function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){HMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HMe(e,t,r){return(t=GMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GMe(e){var t=qMe(e,"string");return typeof t=="symbol"?t:t+""}function qMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KMe(e,t){if(e==null)return{};var r,n,i=WMe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YMe(){var e=ft(AI),t=ft(SI),r=Gr(),n=ft(HG),i=ft(rc),a=Kf(),s=N_(),o=ft(c=>c.rootProps.className);M.useEffect(()=>{if(e==null)return qf;var c=(u,d,h)=>{if(t!==h&&e===u){if(n==="index"){var g;if(s&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var x=d.payload.coordinate,{x:_,y:w}=x,T=KMe(x,$Me),{x:C,y:L,width:P,height:D}=d.payload.sourceViewBox,F=Md(Md({},T),{},{x:s.x+(P?(_-C)/P:0)*s.width,y:s.y+(D?(w-L)/D:0)*s.height});r(Md(Md({},d),{},{payload:Md(Md({},d.payload),{},{coordinate:F})}))}else r(d);return}if(i!=null){var R;if(typeof n=="function"){var I={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=n(i,I);R=i[k]}else n==="value"&&(R=i.find(ie=>String(ie.value)===d.payload.label));var{coordinate:O}=d.payload;if(R==null||d.payload.active===!1||O==null||s==null){r(T2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:V}=O,j=Math.min(B,s.x+s.width),G=Math.min(V,s.y+s.height),de={x:a==="horizontal"?R.coordinate:j,y:a==="horizontal"?G:R.coordinate},ge=T2({active:d.payload.active,coordinate:de,dataKey:d.payload.dataKey,index:String(R.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(ge)}}};return Rm.on(C2,c),()=>{Rm.off(C2,c)}},[o,r,t,e,n,i,a,s])}function JMe(){var e=ft(AI),t=ft(SI),r=Gr();M.useEffect(()=>{if(e==null)return qf;var n=(i,a,s)=>{t!==s&&e===i&&r(VMe(a))};return Rm.on(Cj,n),()=>{Rm.off(Cj,n)}},[r,t,e])}function XMe(){var e=Gr();M.useEffect(()=>{e(jMe())},[e]),YMe(),JMe()}function ZMe(e,t,r,n,i,a){var s=ft(x=>aMe(x,e,t)),o=ft(SI),c=ft(AI),u=ft(HG),d=ft(UMe),h=d?.active,g=N_();M.useEffect(()=>{if(!h&&c!=null&&o!=null){var x=T2({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});Rm.emit(C2,c,x,o)}},[h,r,s,i,n,o,c,u,a,g])}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){QMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QMe(e,t,r){return(t=eDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eDe(e){var t=tDe(e,"string");return typeof t=="symbol"?t:t+""}function tDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rDe(e){return e.dataKey}function nDe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(VNe,t)}var Rj=[],iDe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function op(e){var t,r,n=Kn(e,iDe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:g,position:x,reverseDirection:_,useTranslate3d:w,wrapperStyle:T,cursor:C,shared:L,trigger:P,defaultIndex:D,portal:F,axisId:R}=n,I=Gr(),k=typeof D=="number"?String(D):D;M.useEffect(()=>{I(e4e({shared:L,trigger:P,axisId:R,active:i,defaultIndex:k}))},[I,L,P,R,i,k]);var O=N_(),B=jH(),V=WOe(L),{activeIndex:j,isActive:G}=(t=ft(xe=>lMe(xe,V,P,k)))!==null&&t!==void 0?t:{},de=ft(xe=>oMe(xe,V,P,k)),ge=ft(xe=>Kq(xe,V,P,k)),ie=ft(xe=>sMe(xe,V,P,k)),fe=de,ue=RMe(),ae=(r=i??G)!==null&&r!==void 0?r:!1,[_e,X]=U$([fe,ae]),z=V==="axis"?ge:void 0;ZMe(V,P,ie,z,j,ae);var te=F??ue;if(te==null||O==null||V==null)return null;var Z=fe??Rj;ae||(Z=Rj),u&&Z.length&&(Z=M$(Z.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),g,rDe));var K=Z.length>0,pe=M.createElement(WNe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:ae,coordinate:ie,hasPayload:K,offset:h,position:x,reverseDirection:_,useTranslate3d:w,viewBox:O,wrapperStyle:T,lastBoundingBox:_e,innerRef:X,hasPortalFromProps:!!F},nDe(c,Pj(Pj({},n),{},{payload:Z,label:z,active:ae,activeIndex:j,coordinate:ie,accessibilityLayer:B})));return M.createElement(M.Fragment,null,Eh.createPortal(pe,te),ae&&M.createElement(PMe,{cursor:C,tooltipEventType:V,coordinate:ie,payload:Z,index:j}))}var gg=e=>null;gg.displayName="Cell";function aDe(e,t,r){return(t=sDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sDe(e){var t=oDe(e,"string");return typeof t=="symbol"?t:t+""}function oDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lDe{constructor(t){aDe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){uDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uDe(e,t,r){return(t=fDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fDe(e){var t=dDe(e,"string");return typeof t=="symbol"?t:t+""}function dDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hDe={cacheSize:2e3,enableCache:!0},Zq=cDe({},hDe),Mj=new lDe(Zq.cacheSize),pDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Dj="recharts_measurement_span";function mDe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var Fj=(e,t)=>{try{var r=document.getElementById(Dj);r||(r=document.createElement("span"),r.setAttribute("id",Dj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,pDe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},$p=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||rg.isSsr)return{width:0,height:0};if(!Zq.enableCache)return Fj(t,r);var n=mDe(t,r),i=Mj.get(n);if(i)return i;var a=Fj(t,r);return Mj.set(n,a),a},Qq;function gDe(e,t,r){return(t=vDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vDe(e){var t=yDe(e,"string");return typeof t=="symbol"?t:t+""}function yDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_De=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bDe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wDe=["cm","mm","pt","pc","in","Q","px"];function EDe(e){return wDe.includes(e)}var Yd="NaN";function TDe(e,t){return e*bDe[t]}class Ni{static parse(t){var r,[,n,i]=(r=_De.exec(t))!==null&&r!==void 0?r:[];return n==null?Ni.NaN:new Ni(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,mo(t)&&(this.unit=""),r!==""&&!xDe.test(r)&&(this.num=NaN,this.unit=""),EDe(r)&&(this.num=TDe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ni(NaN,""):new Ni(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ni(NaN,""):new Ni(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ni(NaN,""):new Ni(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ni(NaN,""):new Ni(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mo(this.num)}}Qq=Ni;gDe(Ni,"NaN",new Qq(NaN,""));function eK(e){if(e==null||e.includes(Yd))return Yd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Lj.exec(t))!==null&&r!==void 0?r:[],s=Ni.parse(n??""),o=Ni.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Yd;t=t.replace(Lj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,g]=(u=jj.exec(t))!==null&&u!==void 0?u:[],x=Ni.parse(d??""),_=Ni.parse(g??""),w=h==="+"?x.add(_):x.subtract(_);if(w.isNaN())return Yd;t=t.replace(jj,w.toString())}return t}var Uj=/\(([^()]*)\)/;function ADe(e){for(var t=e,r;(r=Uj.exec(t))!=null;){var[,n]=r;t=t.replace(Uj,eK(n))}return t}function SDe(e){var t=e.replace(/\s+/g,"");return t=ADe(t),t=eK(t),t}function CDe(e){try{return SDe(e)}catch{return Yd}}function tA(e){var t=CDe(e.slice(5,-1));return t===Yd?"":t}var NDe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],IDe=["dx","dy","angle","className","breakAll"];function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(null,arguments)}function Bj(e,t){if(e==null)return{};var r,n,i=kDe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tK=/[ \f\n\r\t\v\u2028\u2029]+/,rK=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];bn(t)||(r?i=t.toString().split(""):i=t.toString().split(tK));var a=i.map(o=>({word:o,width:$p(o,n).width})),s=r?0:$p("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function PDe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var nK=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),iK=e=>e.reduce((t,r)=>t.width>r.width?t:r),RDe="",Vj=(e,t,r,n,i,a,s,o)=>{var c=e.slice(0,t),u=rK({breakAll:r,style:n,children:c+RDe});if(!u)return[!1,[]];var d=nK(u.wordsWithComputedWidth,a,s,o),h=d.length>i||iK(d).width>Number(a);return[h,d]},ODe=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=e,u=at(a),d=String(s),h=nK(t,n,r,i);if(!u||i)return h;var g=h.length>a||iK(h).width>Number(n);if(!g)return h;for(var x=0,_=d.length-1,w=0,T;x<=_&&w<=d.length-1;){var C=Math.floor((x+_)/2),L=C-1,[P,D]=Vj(d,L,c,o,a,n,r,i),[F]=Vj(d,C,c,o,a,n,r,i);if(!P&&!F&&(x=C+1),P&&F&&(_=C-1),!P&&F){T=D;break}w++}return T||h},zj=e=>{var t=bn(e)?[]:e.toString().split(tK);return[{words:t,width:void 0}]},MDe=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!rg.isSsr){var o,c,u=rK({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,c=h}else return zj(n);return ODe({breakAll:a,children:n,maxLines:s,style:i},o,c,t,!!r)}return zj(n)},aK="#808080",DDe={angle:0,breakAll:!1,capHeight:"0.71em",fill:aK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Z_=M.forwardRef((e,t)=>{var r=Kn(e,DDe),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,h=Bj(r,NDe),g=M.useMemo(()=>MDe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:x,dy:_,angle:w,className:T,breakAll:C}=h,L=Bj(h,IDe);if(!Jo(n)||!Jo(i)||g.length===0)return null;var P=Number(n)+(at(x)?x:0),D=Number(i)+(at(_)?_:0);if(!$t(P)||!$t(D))return null;var F;switch(d){case"start":F=tA("calc(".concat(s,")"));break;case"middle":F=tA("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:F=tA("calc(".concat(g.length-1," * -").concat(a,")"));break}var R=[],I=g[0];if(c&&I!=null){var k=I.width,{width:O}=h;R.push("scale(".concat(at(O)&&at(k)?O/k:1,")"))}return w&&R.push("rotate(".concat(w,", ").concat(P,", ").concat(D,")")),R.length&&(L.transform=R.join(" ")),M.createElement("text",N2({},ga(L),{ref:t,x:P,y:D,className:pr("recharts-text",T),textAnchor:u,fill:o.includes("url")?aK:o}),g.map((B,V)=>{var j=B.words.join(C?"":" ");return M.createElement("tspan",{x:P,dy:V===0?F:a,key:"".concat(j,"-").concat(V)},j)}))});Z_.displayName="Text";function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){FDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FDe(e,t,r){return(t=LDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LDe(e){var t=jDe(e,"string");return typeof t=="symbol"?t:t+""}function jDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UDe=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:c,lowerWidth:u}=KN(t),d=a,h=a+(c-u)/2,g=(d+h)/2,x=(c+u)/2,_=d+c/2,w=o>=0?1:-1,T=w*n,C=w>0?"end":"start",L=w>0?"start":"end",P=c>=0?1:-1,D=P*n,F=P>0?"end":"start",R=P>0?"start":"end",I=i;if(r==="top"){var k={x:d+c/2,y:s-T,horizontalAnchor:"middle",verticalAnchor:C};return I&&(k.height=Math.max(s-I.y,0),k.width=c),k}if(r==="bottom"){var O={x:h+u/2,y:s+o+T,horizontalAnchor:"middle",verticalAnchor:L};return I&&(O.height=Math.max(I.y+I.height-(s+o),0),O.width=u),O}if(r==="left"){var B={x:g-D,y:s+o/2,horizontalAnchor:F,verticalAnchor:"middle"};return I&&(B.width=Math.max(B.x-I.x,0),B.height=o),B}if(r==="right"){var V={x:g+x+D,y:s+o/2,horizontalAnchor:R,verticalAnchor:"middle"};return I&&(V.width=Math.max(I.x+I.width-V.x,0),V.height=o),V}var j=I?{width:x,height:o}:{};return r==="insideLeft"?Fo({x:g+D,y:s+o/2,horizontalAnchor:R,verticalAnchor:"middle"},j):r==="insideRight"?Fo({x:g+x-D,y:s+o/2,horizontalAnchor:F,verticalAnchor:"middle"},j):r==="insideTop"?Fo({x:d+c/2,y:s+T,horizontalAnchor:"middle",verticalAnchor:L},j):r==="insideBottom"?Fo({x:h+u/2,y:s+o-T,horizontalAnchor:"middle",verticalAnchor:C},j):r==="insideTopLeft"?Fo({x:d+D,y:s+T,horizontalAnchor:R,verticalAnchor:L},j):r==="insideTopRight"?Fo({x:d+c-D,y:s+T,horizontalAnchor:F,verticalAnchor:L},j):r==="insideBottomLeft"?Fo({x:h+D,y:s+o-T,horizontalAnchor:R,verticalAnchor:C},j):r==="insideBottomRight"?Fo({x:h+u-D,y:s+o-T,horizontalAnchor:F,verticalAnchor:C},j):r&&typeof r=="object"&&(at(r.x)||Nf(r.x))&&(at(r.y)||Nf(r.y))?Fo({x:a+Yi(r.x,x),y:s+Yi(r.y,o),horizontalAnchor:"end",verticalAnchor:"end"},j):Fo({x:_,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},j)},BDe=["labelRef"],VDe=["content"];function Hj(e,t){if(e==null)return{};var r,n,i=zDe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){$De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $De(e,t,r){return(t=HDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HDe(e){var t=GDe(e,"string");return typeof t=="symbol"?t:t+""}function GDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Al.apply(null,arguments)}var sK=M.createContext(null),qDe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,c=M.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return M.createElement(sK.Provider,{value:c},o)},oK=()=>{var e=M.useContext(sK),t=N_();return e||(t?KN(t):void 0)},KDe=M.createContext(null),WDe=()=>{var e=M.useContext(KDe),t=ft(YG);return e||t},YDe=e=>{var{value:t,formatter:r}=e,n=bn(e.children)?t:e.children;return typeof r=="function"?r(n):n},lk=e=>e!=null&&typeof e=="function",JDe=(e,t)=>{var r=pi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},XDe=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:g,clockWise:x}=i,_=(u+d)/2,w=JDe(h,g),T=w>=0?1:-1,C,L;switch(t){case"insideStart":C=h+T*a,L=x;break;case"insideEnd":C=g-T*a,L=!x;break;case"end":C=g+T*a,L=x;break;default:throw new Error("Unsupported position ".concat(t))}L=w<=0?L:!L;var P=Hn(o,c,_,C),D=Hn(o,c,_,C+(L?1:-1)*359),F="M".concat(P.x,",").concat(P.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(L?0:1,`,
    `).concat(D.x,",").concat(D.y),R=bn(e.id)?xm("recharts-radial-line-"):e.id;return M.createElement("text",Al({},n,{dominantBaseline:"central",className:pr("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:R,d:F})),M.createElement("textPath",{xlinkHref:"#".concat(R)},r))},ZDe=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:h}=Hn(n,i,s+t,u);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x,y:_}=Hn(n,i,g,u);return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Yy=e=>e!=null&&"cx"in e&&at(e.cx),QDe={angle:0,offset:5,zIndex:Gn.label,position:"middle",textBreakAll:!1};function e3e(e){if(!Yy(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Oc(e){var t=Kn(e,QDe),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:o,className:c="",textBreakAll:u,labelRef:d}=t,h=WDe(),g=oK(),x=i==="center"?g:h??g,_,w,T;r==null?_=x:Yy(r)?_=r:_=KN(r);var C=e3e(_);if(!_||bn(a)&&bn(s)&&!M.isValidElement(o)&&typeof o!="function")return null;var L=Ep(Ep({},t),{},{viewBox:_});if(M.isValidElement(o)){var{labelRef:P}=L,D=Hj(L,BDe);return M.cloneElement(o,D)}if(typeof o=="function"){var{content:F}=L,R=Hj(L,VDe);if(w=M.createElement(o,R),M.isValidElement(w))return w}else w=YDe(t);var I=ga(t);if(Yy(_)){if(i==="insideStart"||i==="insideEnd"||i==="end")return XDe(t,i,w,I,_);T=ZDe(_,t.offset,t.position)}else{if(!C)return null;var k=UDe({viewBox:C,position:i,offset:t.offset,parentViewBox:Yy(n)?void 0:n});T=Ep(Ep({x:k.x,y:k.y,textAnchor:k.horizontalAnchor,verticalAnchor:k.verticalAnchor},k.width!==void 0?{width:k.width}:{}),k.height!==void 0?{height:k.height}:{})}return M.createElement(za,{zIndex:t.zIndex},M.createElement(Z_,Al({ref:d,className:pr("recharts-label",c)},I,T,{textAnchor:PDe(I.textAnchor)?I.textAnchor:T.textAnchor,breakAll:u}),w))}Oc.displayName="Label";var t3e=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?M.createElement(Oc,Al({key:"label-implicit"},n)):Jo(e)?M.createElement(Oc,Al({key:"label-implicit",value:e},n)):M.isValidElement(e)?e.type===Oc?M.cloneElement(e,Ep({key:"label-implicit"},n)):M.createElement(Oc,Al({key:"label-implicit",content:e},n)):lk(e)?M.createElement(Oc,Al({key:"label-implicit",content:e},n)):e&&typeof e=="object"?M.createElement(Oc,Al({},e,{key:"label-implicit"},n)):null};function r3e(e){var{label:t,labelRef:r}=e,n=oK();return t3e(t,n,r)||null}var rA={},nA={},qj;function n3e(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(nA)),nA}var iA={},Kj;function i3e(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(iA)),iA}var Wj;function a3e(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n3e(),r=i3e(),n=FN();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(rA)),rA}var aA,Yj;function s3e(){return Yj||(Yj=1,aA=a3e().last),aA}var o3e=s3e();const l3e=Us(o3e);var c3e=["valueAccessor"],u3e=["dataKey","clockWise","id","textBreakAll","zIndex"];function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(null,arguments)}function Jj(e,t){if(e==null)return{};var r,n,i=f3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d3e=e=>Array.isArray(e.value)?l3e(e.value):e.value,lK=M.createContext(void 0),cK=lK.Provider,uK=M.createContext(void 0),h3e=uK.Provider;function p3e(){return M.useContext(lK)}function m3e(){return M.useContext(uK)}function Jy(e){var{valueAccessor:t=d3e}=e,r=Jj(e,c3e),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=Jj(r,u3e),u=p3e(),d=m3e(),h=u||d;return!h||!h.length?null:M.createElement(za,{zIndex:o??Gn.label},M.createElement(In,{className:"recharts-label-list"},h.map((g,x)=>{var _,w=bn(n)?t(g,x):jr(g.payload,n),T=bn(a)?{}:{id:"".concat(a,"-").concat(x)};return M.createElement(Oc,T1({key:"label-".concat(x)},ga(g),c,T,{fill:(_=r.fill)!==null&&_!==void 0?_:g.fill,parentViewBox:g.parentViewBox,value:w,textBreakAll:s,viewBox:g.viewBox,index:x,zIndex:0}))})))}Jy.displayName="LabelList";function ck(e){var{label:t}=e;return t?t===!0?M.createElement(Jy,{key:"labelList-implicit"}):M.isValidElement(t)||lk(t)?M.createElement(Jy,{key:"labelList-implicit",content:t}):typeof t=="object"?M.createElement(Jy,T1({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I2.apply(null,arguments)}var fK=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=pr("recharts-dot",i);return at(t)&&at(r)&&at(n)?M.createElement("circle",I2({},Ua(e),DN(e),{className:a,cx:t,cy:r,r:n})):null},dK=e=>e.graphicalItems.polarItems,g3e=we([ln,ug],PI),Q_=we([dK,En,g3e],RI),v3e=we([Q_],OI),eb=we([v3e,j_],MI),y3e=we([eb,En,Q_],FI);we([eb,En,Q_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=jr(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:jr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Xj=()=>{},x3e=we([eb,En,Q_,W_,ln],BI),_3e=we([En,jI,UI,Xj,x3e,Xj,ur,ln],VI),hK=we([En,ur,eb,y3e,cg,ln,_3e],zI),b3e=we([hK,Jh,xu],GI),w3e=we([En,hK,b3e,ln],KI);we([xu,w3e],XG);var E3e={radiusAxis:{},angleAxis:{}},pK=Va({name:"polarAxis",initialState:E3e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:q8e,removeRadiusAxis:K8e,addAngleAxis:W8e,removeAngleAxis:Y8e}=pK.actions,T3e=pK.reducer;function mK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){A3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A3e(e,t,r){return(t=S3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S3e(e){var t=C3e(e,"string");return typeof t=="symbol"?t:t+""}function C3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N3e=(e,t)=>t,uk=we([dK,N3e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),I3e=[],fk=(e,t,r)=>r?.length===0?I3e:r,gK=we([j_,uk,fk],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>Qj(Qj({},t.presentationProps),a.props))),i!=null)return i}}),k3e=we([gK,uk,fk],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=jr(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Gh(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),P3e=we([gK,uk,fk,ei],(e,t,r,n)=>{if(!(t==null||e==null))return R6e({offset:n,pieSettings:t,displayedData:e,cells:r})}),sA={exports:{}},wr={};var e8;function R3e(){if(e8)return wr;e8=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,x=e?Symbol.for("react.memo"):60115,_=e?Symbol.for("react.lazy"):60116,w=e?Symbol.for("react.block"):60121,T=e?Symbol.for("react.fundamental"):60117,C=e?Symbol.for("react.responder"):60118,L=e?Symbol.for("react.scope"):60119;function P(F){if(typeof F=="object"&&F!==null){var R=F.$$typeof;switch(R){case t:switch(F=F.type,F){case c:case u:case n:case a:case i:case h:return F;default:switch(F=F&&F.$$typeof,F){case o:case d:case _:case x:case s:return F;default:return R}}case r:return R}}}function D(F){return P(F)===u}return wr.AsyncMode=c,wr.ConcurrentMode=u,wr.ContextConsumer=o,wr.ContextProvider=s,wr.Element=t,wr.ForwardRef=d,wr.Fragment=n,wr.Lazy=_,wr.Memo=x,wr.Portal=r,wr.Profiler=a,wr.StrictMode=i,wr.Suspense=h,wr.isAsyncMode=function(F){return D(F)||P(F)===c},wr.isConcurrentMode=D,wr.isContextConsumer=function(F){return P(F)===o},wr.isContextProvider=function(F){return P(F)===s},wr.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===t},wr.isForwardRef=function(F){return P(F)===d},wr.isFragment=function(F){return P(F)===n},wr.isLazy=function(F){return P(F)===_},wr.isMemo=function(F){return P(F)===x},wr.isPortal=function(F){return P(F)===r},wr.isProfiler=function(F){return P(F)===a},wr.isStrictMode=function(F){return P(F)===i},wr.isSuspense=function(F){return P(F)===h},wr.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===n||F===u||F===a||F===i||F===h||F===g||typeof F=="object"&&F!==null&&(F.$$typeof===_||F.$$typeof===x||F.$$typeof===s||F.$$typeof===o||F.$$typeof===d||F.$$typeof===T||F.$$typeof===C||F.$$typeof===L||F.$$typeof===w)},wr.typeOf=P,wr}var t8;function O3e(){return t8||(t8=1,sA.exports=R3e()),sA.exports}var M3e=O3e(),r8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",n8=null,oA=null,vK=e=>{if(e===n8&&Array.isArray(oA))return oA;var t=[];return M.Children.forEach(e,r=>{bn(r)||(M3e.isFragment(r)?t=t.concat(vK(r.props.children)):t.push(r))}),oA=t,n8=e,t};function dk(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>r8(i)):n=[r8(t)],vK(e).forEach(i=>{var a=Cf(i,"type.displayName")||Cf(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var yK=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,lA={},i8;function D3e(){return i8||(i8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(lA)),lA}var cA,a8;function F3e(){return a8||(a8=1,cA=D3e().isPlainObject),cA}var L3e=F3e();const j3e=Us(L3e);var s8,o8,l8,c8,u8;function f8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function d8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(r),!0).forEach(function(n){U3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U3e(e,t,r){return(t=B3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B3e(e){var t=V3e(e,"string");return typeof t=="symbol"?t:t+""}function V3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(null,arguments)}function lp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h8=(e,t,r,n,i)=>{var a=r-n,s;return s=mn(s8||(s8=lp(["M ",",",""])),e,t),s+=mn(o8||(o8=lp(["L ",",",""])),e+r,t),s+=mn(l8||(l8=lp(["L ",",",""])),e+r-a/2,t+i),s+=mn(c8||(c8=lp(["L ",",",""])),e+r-a/2-n,t+i),s+=mn(u8||(u8=lp(["L ",","," Z"])),e,t),s},z3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$3e=e=>{var t=Kn(e,z3e),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,g=M.useRef(null),[x,_]=M.useState(-1),w=M.useRef(i),T=M.useRef(a),C=M.useRef(s),L=M.useRef(r),P=M.useRef(n),D=ig(e,"trapezoid-");if(M.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var de=g.current.getTotalLength();de&&_(de)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var F=pr("recharts-trapezoid",o);if(!h)return M.createElement("g",null,M.createElement("path",A1({},ga(t),{className:F,d:h8(r,n,i,a,s)})));var R=w.current,I=T.current,k=C.current,O=L.current,B=P.current,V="0px ".concat(x===-1?1:x,"px"),j="".concat(x,"px 0px"),G=UH(["strokeDasharray"],u,c);return M.createElement(ng,{animationId:D,key:D,canBegin:x>0,duration:u,easing:c,isActive:h,begin:d},de=>{var ge=Jr(R,i,de),ie=Jr(I,a,de),fe=Jr(k,s,de),ue=Jr(O,r,de),ae=Jr(B,n,de);g.current&&(w.current=ge,T.current=ie,C.current=fe,L.current=ue,P.current=ae);var _e=de>0?{transition:G,strokeDasharray:j}:{strokeDasharray:V};return M.createElement("path",A1({},ga(t),{className:F,d:h8(ue,ae,ge,ie,fe),ref:g,style:d8(d8({},_e),t.style)}))})},H3e=["option","shapeType","activeClassName"];function G3e(e,t){if(e==null)return{};var r,n,i=q3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function S1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(r),!0).forEach(function(n){K3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K3e(e,t,r){return(t=W3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W3e(e){var t=Y3e(e,"string");return typeof t=="symbol"?t:t+""}function Y3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J3e(e,t){return S1(S1({},t),e)}function X3e(e,t){return e==="symbols"}function m8(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return M.createElement($H,r);case"trapezoid":return M.createElement($3e,r);case"sector":return M.createElement(KH,r);case"symbols":if(X3e(t))return M.createElement(MN,r);break;case"curve":return M.createElement(lh,r);default:return null}}function Z3e(e){return M.isValidElement(e)?e.props:e}function xK(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=G3e(e,H3e),a;if(M.isValidElement(t))a=M.cloneElement(t,S1(S1({},i),Z3e(t)));else if(typeof t=="function")a=t(i,i.index);else if(j3e(t)&&typeof t!="boolean"){var s=J3e(t,i);a=M.createElement(m8,{shapeType:r,elementProps:s})}else{var o=i;a=M.createElement(m8,{shapeType:r,elementProps:o})}return i.isActive?M.createElement(In,{className:n},a):a}var hk=(e,t,r)=>{var n=Gr();return(i,a)=>s=>{e?.(i,a,s),n(Cq({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},pk=e=>{var t=Gr();return(r,n)=>i=>{e?.(r,n,i),t(t4e())}},mk=(e,t,r)=>{var n=Gr();return(i,a)=>s=>{e?.(i,a,s),n(r4e({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function gk(e){var{tooltipEntrySettings:t}=e,r=Gr(),n=Zi(),i=M.useRef(null);return M.useLayoutEffect(()=>{n||(i.current===null?r(XOe(t)):i.current!==t&&r(ZOe({prev:i.current,next:t})),i.current=t)},[t,r,n]),M.useLayoutEffect(()=>()=>{i.current&&(r(QOe(i.current)),i.current=null)},[r]),null}function _K(e){var{legendPayload:t}=e,r=Gr(),n=Zi(),i=M.useRef(null);return M.useLayoutEffect(()=>{n||(i.current===null?r(MH(t)):i.current!==t&&r(DH({prev:i.current,next:t})),i.current=t)},[r,n,t]),M.useLayoutEffect(()=>()=>{i.current&&(r(FH(i.current)),i.current=null)},[r]),null}function Q3e(e){var{legendPayload:t}=e,r=Gr(),n=ft(ur),i=M.useRef(null);return M.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(MH(t)):i.current!==t&&r(DH({prev:i.current,next:t})),i.current=t)},[r,n,t]),M.useLayoutEffect(()=>()=>{i.current&&(r(FH(i.current)),i.current=null)},[r]),null}var uA,e6e=()=>{var[e]=M.useState(()=>xm("uid-"));return e},t6e=(uA=GY.useId)!==null&&uA!==void 0?uA:e6e;function r6e(e,t){var r=t6e();return t||(e?"".concat(e,"-").concat(r):r)}var n6e=M.createContext(void 0),vk=e=>{var{id:t,type:r,children:n}=e,i=r6e("recharts-".concat(r),t);return M.createElement(n6e.Provider,{value:i},n(i))},i6e={cartesianItems:[],polarItems:[]},bK=Va({name:"graphicalItems",initialState:i6e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:tn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=fo(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:tn()},removeCartesianGraphicalItem:{reducer(e,t){var r=fo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:tn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:tn()},removePolarGraphicalItem:{reducer(e,t){var r=fo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:tn()}}}),{addCartesianGraphicalItem:a6e,replaceCartesianGraphicalItem:s6e,removeCartesianGraphicalItem:o6e,addPolarGraphicalItem:l6e,removePolarGraphicalItem:c6e}=bK.actions,u6e=bK.reducer,f6e=e=>{var t=Gr(),r=M.useRef(null);return M.useLayoutEffect(()=>{r.current===null?t(a6e(e)):r.current!==e&&t(s6e({prev:r.current,next:e})),r.current=e},[t,e]),M.useLayoutEffect(()=>()=>{r.current&&(t(o6e(r.current)),r.current=null)},[t]),null},wK=M.memo(f6e);function d6e(e){var t=Gr();return M.useLayoutEffect(()=>(t(l6e(e)),()=>{t(c6e(e))}),[t,e]),null}var h6e=["key"],p6e=["onMouseEnter","onClick","onMouseLeave"],m6e=["id"],g6e=["id"];function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){v6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v6e(e,t,r){return(t=y6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6e(e){var t=x6e(e,"string");return typeof t=="symbol"?t:t+""}function x6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(null,arguments)}function tb(e,t){if(e==null)return{};var r,n,i=_6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b6e(e){var t=M.useMemo(()=>dk(e.children,gg),[e.children]),r=ft(n=>k3e(n,e.id,t));return r==null?null:M.createElement(Q3e,{legendPayload:r})}var w6e=M.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:n.map(g=>g.tooltipPayload),getPosition:g=>{var x;return(x=n[Number(g)])===null||x===void 0?void 0:x.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Gh(o,t),hide:c,type:u,color:s,unit:"",graphicalItemId:d}};return M.createElement(gk,{tooltipEntrySettings:h})}),E6e=(e,t)=>e>t?"start":e<t?"end":"middle",T6e=(e,t,r)=>Yi(typeof t=="function"?t(e):t,r,r*.8),A6e=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=HH(a,s),c=i+Yi(e.cx,a,a/2),u=n+Yi(e.cy,s,s/2),d=Yi(e.innerRadius,o,0),h=T6e(r,e.outerRadius,o),g=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:g}},S6e=(e,t)=>{var r=pi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},C6e=(e,t)=>{if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return e(t);var r=pr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=tb(t,h6e);return M.createElement(lh,uu({},i,{type:"linear",className:r}))},N6e=(e,t,r)=>{if(M.isValidElement(e))return M.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),M.isValidElement(n)))return n;var i=pr("recharts-pie-label-text",mK(e));return M.createElement(Z_,uu({},t,{alignmentBaseline:"middle",className:i}),n)};function I6e(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Ua(r),c=Af(i),u=Af(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=t.map((g,x)=>{var _=(g.startAngle+g.endAngle)/2,w=Hn(g.cx,g.cy,g.outerRadius+d,_),T=vn(vn(vn(vn({},o),g),{},{stroke:"none"},c),{},{index:x,textAnchor:E6e(w.x,g.cx)},w),C=vn(vn(vn(vn({},o),g),{},{fill:"none",stroke:g.fill},u),{},{index:x,points:[Hn(g.cx,g.cy,g.outerRadius,_),w],key:"line"});return M.createElement(za,{zIndex:Gn.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(x)},M.createElement(In,null,a&&C6e(a,C),N6e(i,T,jr(g,s))))});return M.createElement(In,{className:"recharts-pie-labels"},h)}function k6e(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?M.createElement(ck,{label:i}):M.createElement(I6e,{sectors:t,props:r,showLabels:n})}function P6e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=ft(cu),c=ft(rk),u=ft(V4e),{onMouseEnter:d,onClick:h,onMouseLeave:g}=i,x=tb(i,p6e),_=hk(d,i.dataKey,s),w=pk(g),T=mk(h,i.dataKey,s);return t==null||t.length===0?null:M.createElement(M.Fragment,null,t.map((C,L)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var P=u==null||u===s,D=String(L)===o&&(c==null||i.dataKey===c)&&P,F=o?n:null,R=r&&D?r:F,I=vn(vn({},C),{},{stroke:C.stroke,tabIndex:-1,[_H]:L,[bH]:s});return M.createElement(In,uu({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Jm(x,C,L),{onMouseEnter:_(C,L),onMouseLeave:w(C,L),onClick:T(C,L)}),M.createElement(xK,uu({option:a??R,index:L,shapeType:"sector",isActive:D},I)))}))}function R6e(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=r,g=Math.abs(r.minAngle),x=S6e(o,c),_=Math.abs(x),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,T=n.filter(R=>jr(R,u,0)!==0).length,C=(_>=360?T:T-1)*w,L=_-T*g-C,P=n.reduce((R,I)=>{var k=jr(I,u,0);return R+(at(k)?k:0)},0),D;if(P>0){var F;D=n.map((R,I)=>{var k=jr(R,u,0),O=jr(R,d,I),B=A6e(r,a,R),V=(at(k)?k:0)/P,j,G=vn(vn({},R),i&&i[I]&&i[I].props);I?j=F.endAngle+pi(x)*w*(k!==0?1:0):j=o;var de=j+pi(x)*((k!==0?g:0)+V*L),ge=(j+de)/2,ie=(B.innerRadius+B.outerRadius)/2,fe=[{name:O,value:k,payload:G,dataKey:u,type:h,graphicalItemId:r.id}],ue=Hn(B.cx,B.cy,ie,ge);return F=vn(vn(vn(vn({},r.presentationProps),{},{percent:V,cornerRadius:typeof s=="string"?parseFloat(s):s,name:O,tooltipPayload:fe,midAngle:ge,middleRadius:ie,tooltipPosition:ue},G),B),{},{value:k,dataKey:u,startAngle:j,endAngle:de,payload:G,paddingAngle:pi(x)*w}),F})}return D}function O6e(e){var{showLabels:t,sectors:r,children:n}=e,i=M.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return M.createElement(h3e,{value:t?i:void 0},n)}function M6e(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:g}=t,x=ig(t,"recharts-pie-"),_=r.current,[w,T]=M.useState(!1),C=M.useCallback(()=>{typeof g=="function"&&g(),T(!1)},[g]),L=M.useCallback(()=>{typeof h=="function"&&h(),T(!0)},[h]);return M.createElement(O6e,{showLabels:!w,sectors:i},M.createElement(ng,{animationId:x,begin:s,duration:o,isActive:a,easing:c,onAnimationStart:L,onAnimationEnd:C,key:x},P=>{var D,F=[],R=i&&i[0],I=(D=R?.startAngle)!==null&&D!==void 0?D:0;return i?.forEach((k,O)=>{var B=_&&_[O],V=O>0?Cf(k,"paddingAngle",0):0;if(B){var j=Jr(B.endAngle-B.startAngle,k.endAngle-k.startAngle,P),G=vn(vn({},k),{},{startAngle:I+V,endAngle:I+j+V});F.push(G),I=G.endAngle}else{var{endAngle:de,startAngle:ge}=k,ie=Jr(0,de-ge,P),fe=vn(vn({},k),{},{startAngle:I+V,endAngle:I+ie+V});F.push(fe),I=fe.endAngle}}),r.current=F,M.createElement(In,null,M.createElement(P6e,{sectors:F,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),M.createElement(k6e,{showLabels:!w,sectors:i,props:t}),t.children)}var D6e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Gn.area};function F6e(e){var{id:t}=e,r=tb(e,m6e),{hide:n,className:i,rootTabIndex:a}=e,s=M.useMemo(()=>dk(e.children,gg),[e.children]),o=ft(d=>P3e(d,t,s)),c=M.useRef(null),u=pr("recharts-pie",i);return n||o==null?(c.current=null,M.createElement(In,{tabIndex:a,className:u})):M.createElement(za,{zIndex:e.zIndex},M.createElement(w6e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),M.createElement(In,{tabIndex:a,className:u},M.createElement(M6e,{props:vn(vn({},r),{},{sectors:o}),previousSectorsRef:c,id:t})))}function EK(e){var t=Kn(e,D6e),{id:r}=t,n=tb(t,g6e),i=Ua(n);return M.createElement(vk,{id:r,type:"pie"},a=>M.createElement(M.Fragment,null,M.createElement(d6e,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),M.createElement(b6e,uu({},n,{id:a})),M.createElement(F6e,uu({},n,{id:a}))))}EK.displayName="Pie";var L6e=["points"];function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(n){j6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j6e(e,t,r){return(t=U6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U6e(e){var t=B6e(e,"string");return typeof t=="symbol"?t:t+""}function B6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(null,arguments)}function V6e(e,t){if(e==null)return{};var r,n,i=z6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function z6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $6e(e){var{option:t,dotProps:r,className:n}=e;if(M.isValidElement(t))return M.cloneElement(t,r);if(typeof t=="function")return t(r);var i=pr(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=V6e(a,L6e);return M.createElement(fK,C1({},o,{className:i}))}function H6e(e,t){return e==null?!1:t?!0:e.length===1}function G6e(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:u=Gn.scatter}=e;if(!H6e(t,r))return null;var d=yK(r),h=oAe(r),g=t.map((_,w)=>{var T,C,L=fA(fA(fA({r:3},s),h),{},{index:w,cx:(T=_.x)!==null&&T!==void 0?T:void 0,cy:(C=_.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:_.value,payload:_.payload,points:t});return M.createElement($6e,{key:"dot-".concat(w),option:r,dotProps:L,className:i})}),x={};return o&&c!=null&&(x.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),M.createElement(za,{zIndex:u},M.createElement(In,C1({className:n},x),g))}function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(n){q6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q6e(e,t,r){return(t=K6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K6e(e){var t=W6e(e,"string");return typeof t=="symbol"?t:t+""}function W6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TK=0,Y6e={xAxis:{},yAxis:{},zAxis:{}},AK=Va({name:"cartesianAxis",initialState:Y6e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:tn()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:tn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:tn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:tn()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:tn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:tn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:tn()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:tn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:tn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=x8(x8({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:J6e,replaceXAxis:X6e,removeXAxis:Z6e,addYAxis:Q6e,replaceYAxis:eFe,removeYAxis:tFe,addZAxis:J8e,replaceZAxis:X8e,removeZAxis:Z8e,updateYAxisWidth:rFe}=AK.actions,nFe=AK.reducer,iFe=we([ei],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),aFe=we([iFe,Jl,Xl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),yk=()=>ft(aFe),sFe=()=>ft(q4e);function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){oFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oFe(e,t,r){return(t=lFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lFe(e){var t=cFe(e,"string");return typeof t=="symbol"?t:t+""}function cFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uFe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=dA(dA(dA({},o),Af(i)),DN(i)),u;return M.isValidElement(i)?u=M.cloneElement(i,c):typeof i=="function"?u=i(c):u=M.createElement(fK,c),M.createElement(In,{className:"recharts-active-dot",clipPath:s},u)};function b8(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Gn.activeDot}=e,o=ft(cu),c=sFe();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return bn(u)?null:M.createElement(za,{zIndex:s},M.createElement(uFe,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var w8=(e,t,r)=>{var n=r??e;if(!bn(n))return Yi(n,t,0)},fFe=(e,t,r)=>{var n={},i=e.filter($_),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>{var h=u[d.stackId];return h==null&&(h=[]),h.push(d),u[d.stackId]=h,u},n),o=Object.entries(s).map(u=>{var d,[h,g]=u,x=g.map(w=>w.dataKey),_=w8(t,r,(d=g[0])===null||d===void 0?void 0:d.barSize);return{stackId:h,dataKeys:x,barSize:_}}),c=a.map(u=>{var d=[u.dataKey].filter(g=>g!=null),h=w8(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...c]};function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){dFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dFe(e,t,r){return(t=hFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hFe(e){var t=pFe(e,"string");return typeof t=="symbol"?t:t+""}function pFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mFe(e,t,r,n,i){var a,s=n.length;if(!(s<1)){var o=Yi(e,r,0,!0),c,u=[];if($t((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,h=r/s,g=n.reduce((L,P)=>L+(P.barSize||0),0);g+=(s-1)*o,g>=r&&(g-=(s-1)*o,o=0),g>=r&&h>0&&(d=!0,h*=.9,g=s*h);var x=(r-g)/2>>0,_={offset:x-o,size:0};c=n.reduce((L,P)=>{var D,F={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:_.offset+_.size+o,size:d?h:(D=P.barSize)!==null&&D!==void 0?D:0}},R=[...L,F];return _=F.position,R},u)}else{var w=Yi(t,r,0,!0);r-2*w-(s-1)*o<=0&&(o=0);var T=(r-2*w-(s-1)*o)/s;T>1&&(T>>=0);var C=$t(i)?Math.min(T,i):T;c=n.reduce((L,P,D)=>[...L,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:w+(T+o)*D+(T-C)/2,size:C}}],u)}return c}}var gFe=(e,t,r,n,i,a,s)=>{var o=bn(s)?t:s,c=mFe(r,n,i!==a?i:a,e,o);return i!==a&&c!=null&&(c=c.map(u=>_y(_y({},u),{},{position:_y(_y({},u.position),{},{offset:u.position.offset-i/2})}))),c},vFe=(e,t)=>{var r=z_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},yFe=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function xFe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&$t(e.zIndex)?e.zIndex:t}var SK=e=>{var{chartData:t}=e,r=Gr(),n=Zi();return M.useEffect(()=>n?()=>{}:(r(Nj(t)),()=>{r(Nj(void 0))}),[t,r,n]),null},T8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CK=Va({name:"brush",initialState:T8,reducers:{setBrushSettings(e,t){return t.payload==null?T8:t.payload}}}),{setBrushSettings:Q8e}=CK.actions,_Fe=CK.reducer;function bFe(e){return(e%180+180)%180}var wFe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=bFe(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},EFe={dots:[],areas:[],lines:[]},NK=Va({name:"referenceElements",initialState:EFe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:eUe,removeDot:tUe,addArea:rUe,removeArea:nUe,addLine:iUe,removeLine:aUe}=NK.actions,TFe=NK.reducer,AFe=M.createContext(void 0),SFe=e=>{var{children:t}=e,[r]=M.useState("".concat(xm("recharts"),"-clip")),n=yk();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return M.createElement(AFe.Provider,{value:r},M.createElement("defs",null,M.createElement("clipPath",{id:r},M.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function IK(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function CFe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return wFe(n,r)}function NFe(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Om(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function IFe(e,t){return IK(e,t+1)}function kFe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,h=function(){var _=n?.[c];if(_===void 0)return{v:IK(n,u)};var w=c,T,C=()=>(T===void 0&&(T=r(_,w)),T),L=_.coordinate,P=c===0||Om(e,L,C,d,o);P||(c=0,d=s,u+=1),P&&(d=L+e*(C()/2+i),c+=u)},g;u<=a.length;)if(g=h(),g)return g.v;return[]}function PFe(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:c}=t,u=1;u<=s;u++){for(var d=(s-1)%u,h=o,g=!0,x=function(){var D=n[w];if(D==null)return 0;var F=w,R,I=()=>(R===void 0&&(R=r(D,F)),R),k=D.coordinate,O=w===d||Om(e,k,I,h,c);if(!O)return g=!1,1;O&&(h=k+e*(I()/2+i))},_,w=d;w<s&&(_=x(),!(_!==0&&_===1));w+=u);if(g){for(var T=[],C=d;C<s;C+=u){var L=n[C];L!=null&&T.push(L)}return T}}return[]}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){RFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RFe(e,t,r){return(t=OFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OFe(e){var t=MFe(e,"string");return typeof t=="symbol"?t:t+""}function MFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DFe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:c}=t,u=function(g){var x=a[g];if(x==null)return 1;var _=x,w,T=()=>(w===void 0&&(w=r(x,g)),w);if(g===s-1){var C=e*(_.coordinate+e*T()/2-c);a[g]=_=Bi(Bi({},_),{},{tickCoord:C>0?_.coordinate-C*e:_.coordinate})}else a[g]=_=Bi(Bi({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var L=Om(e,_.tickCoord,T,o,c);L&&(c=_.tickCoord-e*(T()/2+i),a[g]=Bi(Bi({},_),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function FFe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(a){var d=n[o-1];if(d!=null){var h=r(d,o-1),g=e*(d.coordinate+e*h/2-u);if(s[o-1]=d=Bi(Bi({},d),{},{tickCoord:g>0?d.coordinate-g*e:d.coordinate}),d.tickCoord!=null){var x=Om(e,d.tickCoord,()=>h,c,u);x&&(u=d.tickCoord-e*(h/2+i),s[o-1]=Bi(Bi({},d),{},{isShow:!0}))}}}for(var _=a?o-1:o,w=function(L){var P=s[L];if(P==null)return 1;var D=P,F,R=()=>(F===void 0&&(F=r(P,L)),F);if(L===0){var I=e*(D.coordinate-e*R()/2-c);s[L]=D=Bi(Bi({},D),{},{tickCoord:I<0?D.coordinate-I*e:D.coordinate})}else s[L]=D=Bi(Bi({},D),{},{tickCoord:D.coordinate});if(D.tickCoord!=null){var k=Om(e,D.tickCoord,R,c,u);k&&(c=D.tickCoord+e*(R()/2+i),s[L]=Bi(Bi({},D),{},{isShow:!0}))}},T=0;T<_;T++)w(T);return s}function xk(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!n)return[];if(at(c)||rg.isSsr){var g;return(g=IFe(i,at(c)?c:0))!==null&&g!==void 0?g:[]}var x=[],_=o==="top"||o==="bottom"?"width":"height",w=d&&_==="width"?$p(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},T=(F,R)=>{var I=typeof u=="function"?u(F.value,R):F.value;return _==="width"?CFe($p(I,{fontSize:t,letterSpacing:r}),w,h):$p(I,{fontSize:t,letterSpacing:r})[_]},C=i[0],L=i[1],P=i.length>=2&&C!=null&&L!=null?pi(L.coordinate-C.coordinate):1,D=NFe(a,P,_);return c==="equidistantPreserveStart"?kFe(P,D,T,i,s):c==="equidistantPreserveEnd"?PFe(P,D,T,i,s):(c==="preserveStart"||c==="preserveStartEnd"?x=FFe(P,D,T,i,s,c==="preserveStartEnd"):x=DFe(P,D,T,i,s),x.filter(F=>F.isShow))}var LFe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},jFe=["axisLine","width","height","className","hide","ticks","axisType"];function UFe(e,t){if(e==null)return{};var r,n,i=BFe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(null,arguments)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){VFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VFe(e,t,r){return(t=zFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zFe(e){var t=$Fe(e,"string");return typeof t=="symbol"?t:t+""}function $Fe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ml={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gn.axis};function HFe(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=pn(pn(pn({},c),Ua(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=pn(pn({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=pn(pn({},u),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+i})}return M.createElement("line",Of({},u,{className:pr("recharts-cartesian-axis-line",Cf(o,"className"))}))}function GFe(e,t,r,n,i,a,s,o,c){var u,d,h,g,x,_,w=o?-1:1,T=e.tickSize||s,C=at(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,g=r+ +!o*i,h=g-w*T,_=h-w*c,x=C;break;case"left":h=g=e.coordinate,d=t+ +!o*n,u=d-w*T,x=u-w*c,_=C;break;case"right":h=g=e.coordinate,d=t+ +o*n,u=d+w*T,x=u+w*c,_=C;break;default:u=d=e.coordinate,g=r+ +o*i,h=g+w*T,_=h+w*c,x=C;break}return{line:{x1:u,y1:h,x2:d,y2:g},tick:{x,y:_}}}function qFe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function KFe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function WFe(e){var{option:t,tickProps:r,value:n}=e,i,a=pr(r.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(t))i=M.cloneElement(t,pn(pn({},r),{},{className:a}));else if(typeof t=="function")i=t(pn(pn({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=pr(s,mK(t))),i=M.createElement(Z_,Of({},r,{className:s}),n)}return i}var YFe=M.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:h,x:g,y:x,width:_,height:w,tickSize:T,tickMargin:C,fontSize:L,letterSpacing:P,getTicksConfig:D,events:F,axisType:R}=e,I=xk(pn(pn({},D),{},{ticks:r}),L,P),k=qFe(d,h),O=KFe(d,h),B=Ua(D),V=Af(n),j={};typeof i=="object"&&(j=i);var G=pn(pn({},B),{},{fill:"none"},j),de=I.map(fe=>pn({entry:fe},GFe(fe,g,x,_,w,d,T,h,C))),ge=de.map(fe=>{var{entry:ue,line:ae}=fe;return M.createElement(In,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ue.value,"-").concat(ue.coordinate,"-").concat(ue.tickCoord)},i&&M.createElement("line",Of({},G,ae,{className:pr("recharts-cartesian-axis-tick-line",Cf(i,"className"))})))}),ie=de.map((fe,ue)=>{var ae,_e,{entry:X,tick:z}=fe,te=pn(pn(pn(pn({verticalAnchor:O},B),{},{textAnchor:k,stroke:"none",fill:a},z),{},{index:ue,payload:X,visibleTicksCount:I.length,tickFormatter:s,padding:c},u),{},{angle:(ae=(_e=u?.angle)!==null&&_e!==void 0?_e:B.angle)!==null&&ae!==void 0?ae:0}),Z=pn(pn({},te),V);return M.createElement(In,Of({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},Jm(F,X,ue)),n&&M.createElement(WFe,{option:n,tickProps:Z,value:"".concat(typeof s=="function"?s(X.value,ue):X.value).concat(o||"")}))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},ie.length>0&&M.createElement(za,{zIndex:Gn.label},M.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},ie)),ge.length>0&&M.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},ge))}),JFe=M.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=e,u=UFe(e,jFe),[d,h]=M.useState(""),[g,x]=M.useState(""),_=M.useRef(null);M.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return LFe({ticks:_.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=M.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=C;var L=C[0];if(L){var P=window.getComputedStyle(L),D=P.fontSize,F=P.letterSpacing;(D!==d||F!==g)&&(h(D),x(F))}}},[d,g]);return s||n!=null&&n<=0||i!=null&&i<=0?null:M.createElement(za,{zIndex:e.zIndex},M.createElement(In,{className:pr("recharts-cartesian-axis",a)},M.createElement(HFe,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ua(e)}),M.createElement(YFe,{ref:w,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),M.createElement(qDe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},M.createElement(r3e,{label:e.label,labelRef:e.labelRef}),e.children)))}),_k=M.forwardRef((e,t)=>{var r=Kn(e,Ml);return M.createElement(JFe,Of({},r,{ref:t}))});_k.displayName="CartesianAxis";var XFe=["x1","y1","x2","y2","key"],ZFe=["offset"],QFe=["xAxisId","yAxisId"],eLe=["xAxisId","yAxisId"];function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){tLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tLe(e,t,r){return(t=rLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rLe(e){var t=nLe(e,"string");return typeof t=="symbol"?t:t+""}function nLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function N1(e,t){if(e==null)return{};var r,n,i=iLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aLe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return M.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kK(e){var{option:t,lineItemProps:r}=e,n;if(M.isValidElement(t))n=M.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=r,d=N1(r,XFe),h=(i=Ua(d))!==null&&i!==void 0?i:{},{offset:g}=h,x=N1(h,ZFe);n=M.createElement("line",nf({},x,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function sLe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=N1(e,QFe),c=i.map((u,d)=>{var h=$i($i({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return M.createElement(kK,{key:"line-".concat(d),option:n,lineItemProps:h})});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function oLe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=N1(e,eLe),c=i.map((u,d)=>{var h=$i($i({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return M.createElement(kK,{option:n,lineItemProps:h,key:"line-".concat(d)})});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function lLe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==u[0]&&u.unshift(0);var d=u.map((h,g)=>{var x=u[g+1],_=x==null,w=_?i+s-h:x-h;if(w<=0)return null;var T=g%t.length;return M.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:w,width:a,stroke:"none",fill:t[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function cLe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==u[0]&&u.unshift(0);var d=u.map((h,g)=>{var x=u[g+1],_=x==null,w=_?i+s-h:x-h;if(w<=0)return null;var T=g%r.length;return M.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:w,height:o,stroke:"none",fill:r[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var uLe=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return gH(xk($i($i($i({},Ml),r),{},{ticks:vH(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},fLe=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return gH(xk($i($i($i({},Ml),r),{},{ticks:vH(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},dLe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Gn.grid};function Xy(e){var t=WN(),r=YN(),n=AH(),i=$i($i({},Kn(e,dLe)),{},{x:at(e.x)?e.x:n.left,y:at(e.y)?e.y:n.top,width:at(e.width)?e.width:n.width,height:at(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:g,verticalValues:x}=i,_=Zi(),w=ft(O=>gj(O,"xAxis",a,_)),T=ft(O=>gj(O,"yAxis",s,_));if(!Xo(u)||!Xo(d)||!at(o)||!at(c))return null;var C=i.verticalCoordinatesGenerator||uLe,L=i.horizontalCoordinatesGenerator||fLe,{horizontalPoints:P,verticalPoints:D}=i;if((!P||!P.length)&&typeof L=="function"){var F=g&&g.length,R=L({yAxis:T?$i($i({},T),{},{ticks:F?g:T.ticks}):void 0,width:t??u,height:r??d,offset:n},F?!0:h);Qx(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(P=R)}if((!D||!D.length)&&typeof C=="function"){var I=x&&x.length,k=C({xAxis:w?$i($i({},w),{},{ticks:I?x:w.ticks}):void 0,width:t??u,height:r??d,offset:n},I?!0:h);Qx(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(D=k)}return M.createElement(za,{zIndex:i.zIndex},M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(aLe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),M.createElement(lLe,nf({},i,{horizontalPoints:P})),M.createElement(cLe,nf({},i,{verticalPoints:D})),M.createElement(sLe,nf({},i,{offset:n,horizontalPoints:P,xAxis:w,yAxis:T})),M.createElement(oLe,nf({},i,{offset:n,verticalPoints:D,xAxis:w,yAxis:T}))))}Xy.displayName="CartesianGrid";var hLe={},PK=Va({name:"errorBars",initialState:hLe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:sUe,replaceErrorBar:oUe,removeErrorBar:lUe}=PK.actions,pLe=PK.reducer,mLe=["children"];function gLe(e,t){if(e==null)return{};var r,n,i=vLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yLe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xLe=M.createContext(yLe);function _Le(e){var{children:t}=e,r=gLe(e,mLe);return M.createElement(xLe.Provider,{value:r},t)}function bk(e,t){var r,n,i=ft(u=>ec(u,e)),a=ft(u=>tc(u,t)),s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:ci.allowDataOverflow,o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:ui.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function RK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=yk(),{needClipX:a,needClipY:s,needClip:o}=bk(t,r);if(!o||!i)return null;var{x:c,y:u,width:d,height:h}=i;return M.createElement("clipPath",{id:"clipPath-".concat(n)},M.createElement("rect",{x:a?c:c-d/2,y:s?u:u-h/2,width:a?d:d*2,height:s?h:h*2}))}function bLe(e){var t=Af(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var hA={exports:{}},pA={};var N8;function wLe(){if(N8)return pA;N8=1;var e=Ph();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return pA.useSyncExternalStoreWithSelector=function(c,u,d,h,g){var x=i(null);if(x.current===null){var _={hasValue:!1,value:null};x.current=_}else _=x.current;x=s(function(){function T(F){if(!C){if(C=!0,L=F,F=h(F),g!==void 0&&_.hasValue){var R=_.value;if(g(R,F))return P=R}return P=F}if(R=P,r(L,F))return R;var I=h(F);return g!==void 0&&g(R,I)?(L=F,R):(L=F,P=I)}var C=!1,L,P,D=d===void 0?null:d;return[function(){return T(u())},D===null?void 0:function(){return T(D())}]},[u,d,h,g]);var w=n(c,x[0],x[1]);return a(function(){_.hasValue=!0,_.value=w},[w]),o(w),w},pA}var I8;function ELe(){return I8||(I8=1,hA.exports=wLe()),hA.exports}ELe();function TLe(e){e()}function ALe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){TLe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var k8={notify(){},get:()=>[]};function SLe(e,t){let r,n=k8,i=0,a=!1;function s(w){d();const T=n.subscribe(w);let C=!1;return()=>{C||(C=!0,T(),h())}}function o(){n.notify()}function c(){_.onStateChange&&_.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=ALe())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=k8)}function g(){a||(a=!0,d())}function x(){a&&(a=!1,h())}const _={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:g,tryUnsubscribe:x,getListeners:()=>n};return _}var CLe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NLe=CLe(),ILe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kLe=ILe(),PLe=()=>NLe||kLe?M.useLayoutEffect:M.useEffect,RLe=PLe();function P8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function OLe(e,t){if(P8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!P8(e[r[i]],t[r[i]]))return!1;return!0}var MLe=Symbol.for("react-redux-context"),DLe=typeof globalThis<"u"?globalThis:{};function FLe(){if(!M.createContext)return{};const e=DLe[MLe]??=new Map;let t=e.get(M.createContext);return t||(t=M.createContext(null),e.set(M.createContext,t)),t}var LLe=FLe();function jLe(e){const{children:t,context:r,serverState:n,store:i}=e,a=M.useMemo(()=>{const c=SLe(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=M.useMemo(()=>i.getState(),[i]);RLe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||LLe;return M.createElement(o.Provider,{value:a},t)}var ULe=jLe,BLe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function VLe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function rb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(BLe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!OLe(e[n],t[n]))return!1}else if(!VLe(e[n],t[n]))return!1;return!0}function rl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:TK}function nl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:TK}var OK=(e,t,r)=>lu(e,"xAxis",rl(e,t),r),MK=(e,t,r)=>ou(e,"xAxis",rl(e,t),r),DK=(e,t,r)=>lu(e,"yAxis",nl(e,t),r),FK=(e,t,r)=>ou(e,"yAxis",nl(e,t),r),zLe=we([ur,OK,DK,MK,FK],(e,t,r,n,i)=>tl(e,"xAxis")?Ah(t,n,!1):Ah(r,i,!1)),$Le=(e,t)=>t,LK=we([q_,$Le],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),jK=e=>{var t=ur(e),r=tl(t,"xAxis");return r?"yAxis":"xAxis"},HLe=(e,t)=>{var r=jK(e);return r==="yAxis"?nl(e,t):rl(e,t)},GLe=(e,t,r)=>b1(e,jK(e),HLe(e,t),r),qLe=we([LK,GLe],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=z_(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a?.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),KLe=we([ur,OK,DK,MK,FK,qLe,IG,zLe,LK,VRe],(e,t,r,n,i,a,s,o,c,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:g}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:x}=c,_;if(x&&x.length>0?_=x:_=d?.slice(h,g+1),_!=null)return d5e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:h,areaSettings:c,stackedData:a,displayedData:_,chartBaseValue:u,bandSize:o})}}),WLe=["id"],YLe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hf.apply(null,arguments)}function UK(e,t){if(e==null)return{};var r,n,i=JLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){XLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XLe(e,t,r){return(t=ZLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZLe(e){var t=QLe(e,"string");return typeof t=="symbol"?t:t+""}function QLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I1(e,t){return e&&e!=="none"?e:t}var e5e=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:I1(n,i),value:Gh(r,t),payload:e}]},t5e=M.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:r,getPosition:qf,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Gh(s,t),hide:o,type:u,color:I1(n,a),unit:c,graphicalItemId:d}};return M.createElement(gk,{tooltipEntrySettings:h})});function r5e(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,o=Ua(n);return M.createElement(G6e,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function n5e(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Jd(Jd({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return M.createElement(cK,{value:t?i:void 0},r)}function O8(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:c,connectNulls:u,isRange:d}=a,{id:h}=a,g=UK(a,WLe),x=Ua(g),_=ga(g);return M.createElement(M.Fragment,null,t?.length>1&&M.createElement(In,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},M.createElement(lh,hf({},_,{id:h,points:t,connectNulls:u,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&M.createElement(lh,hf({},x,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&M.createElement(lh,hf({},x,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:r}))),M.createElement(r5e,{points:t,props:g,clipPathId:i}))}function i5e(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,c=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!$t(o)||!$t(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(h=>h.x||0));return at(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.x||0),d)),at(d)?M.createElement("rect",{x:0,y:o<c?o:o-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function a5e(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,c=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!$t(o)||!$t(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(h=>h.y||0));return at(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.y||0),d)),at(d)?M.createElement("rect",{x:o<c?o:o-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function s5e(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?M.createElement(i5e,{alpha:t,points:n,baseLine:i,strokeWidth:a}):M.createElement(a5e,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function o5e(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:g,onAnimationEnd:x}=n,_=M.useMemo(()=>({points:s,baseLine:o}),[s,o]),w=ig(_,"recharts-area-"),T=JN(),[C,L]=M.useState(!1),P=!C,D=M.useCallback(()=>{typeof x=="function"&&x(),L(!1)},[x]),F=M.useCallback(()=>{typeof g=="function"&&g(),L(!0)},[g]);if(T==null)return null;var R=i.current,I=a.current;return M.createElement(n5e,{showLabels:P,points:s},n.children,M.createElement(ng,{animationId:w,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:D,onAnimationStart:F,key:w},k=>{if(R){var O=R.length/s.length,B=k===1?s:s.map((j,G)=>{var de=Math.floor(G*O);if(R[de]){var ge=R[de];return Jd(Jd({},j),{},{x:Jr(ge.x,j.x,k),y:Jr(ge.y,j.y,k)})}return j}),V;return at(o)?V=Jr(I,o,k):bn(o)||mo(o)?V=Jr(I,0,k):V=o.map((j,G)=>{var de=Math.floor(G*O);if(Array.isArray(I)&&I[de]){var ge=I[de];return Jd(Jd({},j),{},{x:Jr(ge.x,j.x,k),y:Jr(ge.y,j.y,k)})}return j}),k>0&&(i.current=B,a.current=V),M.createElement(O8,{points:B,baseLine:V,needClip:t,clipPathId:r,props:n})}return k>0&&(i.current=s,a.current=o),M.createElement(In,null,c&&M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(r)},M.createElement(s5e,{alpha:k,points:s,baseLine:o,layout:T,strokeWidth:n.strokeWidth}))),M.createElement(In,{clipPath:"url(#animationClipPath-".concat(r,")")},M.createElement(O8,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),M.createElement(ck,{label:n.label}))}function l5e(e){var{needClip:t,clipPathId:r,props:n}=e,i=M.useRef(null),a=M.useRef();return M.createElement(o5e,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class c5e extends M.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:c,yAxisId:u,width:d,height:h,id:g,baseLine:x,zIndex:_}=this.props;if(t)return null;var w=pr("recharts-area",i),T=g,{r:C,strokeWidth:L}=bLe(r),P=yK(r),D=C*2+L,F=o?"url(#clipPath-".concat(P?"":"dots-").concat(T,")"):void 0;return M.createElement(za,{zIndex:_},M.createElement(In,{className:w},o&&M.createElement("defs",null,M.createElement(RK,{clipPathId:T,xAxisId:c,yAxisId:u}),!P&&M.createElement("clipPath",{id:"clipPath-dots-".concat(T)},M.createElement("rect",{x:s-D/2,y:a-D/2,width:d+D,height:h+D}))),M.createElement(l5e,{needClip:o,clipPathId:T,props:this.props})),M.createElement(b8,{points:n,mainColor:I1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:F}),this.props.isRange&&Array.isArray(x)&&M.createElement(b8,{points:x,mainColor:I1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:F}))}}var BK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Gn.area};function u5e(e){var t,r=Kn(e,BK),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:g,legendType:x,stroke:_,xAxisId:w,yAxisId:T}=r,C=UK(r,YLe),L=Kf(),P=Hq(),{needClip:D}=bk(w,T),F=Zi(),{points:R,isRange:I,baseLine:k}=(t=ft(de=>KLe(de,e.id,F)))!==null&&t!==void 0?t:{},O=yk();if(L!=="horizontal"&&L!=="vertical"||O==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:B,width:V,x:j,y:G}=O;return!R||!R.length?null:M.createElement(c5e,hf({},C,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:k,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:B,hide:h,layout:L,isAnimationActive:g==="auto"?!rg.isSsr:g,isRange:I,legendType:x,needClip:D,points:R,stroke:_,width:V,left:j,top:G,xAxisId:w,yAxisId:T}))}var f5e=(e,t,r,n,i)=>{var a=r??t;if(at(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function d5e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:g,bandSize:x}=e,_=i&&i.length,w=f5e(a,s,r,o,c),T=a==="horizontal",C=!1,L=u.map((D,F)=>{var R,I,k,O;if(_)O=i[d+F];else{var B=jr(D,n);Array.isArray(B)?(O=B,C=!0):O=[w,B]}var V=(R=(I=O)===null||I===void 0?void 0:I[1])!==null&&R!==void 0?R:null,j=V==null||_&&!t&&jr(D,n)==null;if(T){var G;return{x:hL({axis:o,ticks:h,bandSize:x,entry:D,index:F}),y:j?null:(G=c.scale.map(V))!==null&&G!==void 0?G:null,value:O,payload:D}}return{x:j?null:(k=o.scale.map(V))!==null&&k!==void 0?k:null,y:hL({axis:c,ticks:g,bandSize:x,entry:D,index:F}),value:O,payload:D}}),P;return _||C?P=L.map(D=>{var F,R=Array.isArray(D.value)?D.value[0]:null;if(T){var I;return{x:D.x,y:R!=null&&D.y!=null&&(I=c.scale.map(R))!==null&&I!==void 0?I:null,payload:D.payload}}return{x:R!=null&&(F=o.scale.map(R))!==null&&F!==void 0?F:null,y:D.y,payload:D.payload}}):P=T?c.scale.map(w):o.scale.map(w),{points:L,baseLine:P??0,isRange:C}}function h5e(e){var t=Kn(e,BK),r=Zi();return M.createElement(vk,{id:t.id,type:"area"},n=>M.createElement(M.Fragment,null,M.createElement(_K,{legendPayload:e5e(t)}),M.createElement(t5e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),M.createElement(wK,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:yH(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),M.createElement(u5e,hf({},t,{id:n}))))}var VK=M.memo(h5e,rb);VK.displayName="Area";var p5e="Invariant failed";function m5e(e,t){throw new Error(p5e)}function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(null,arguments)}function k1(e){return M.createElement(xK,k2({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var g5e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(at(t))return t;var a=at(n)||bn(n);return a?t(n,i):(a||m5e(),r)}},v5e=(e,t,r)=>r,y5e=(e,t)=>t,vg=we([q_,y5e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),x5e=we([vg],e=>e?.maxBarSize),_5e=(e,t,r,n)=>n,b5e=we([ur,q_,rl,nl,v5e],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),w5e=(e,t,r)=>{var n=ur(e),i=rl(e,t),a=nl(e,t);if(!(i==null||a==null))return n==="horizontal"?b1(e,"yAxis",a,r):b1(e,"xAxis",i,r)},E5e=(e,t)=>{var r=ur(e),n=rl(e,t),i=nl(e,t);if(!(n==null||i==null))return r==="horizontal"?mj(e,"xAxis",n):mj(e,"yAxis",i)},T5e=we([b5e,BRe,E5e],fFe),A5e=(e,t,r)=>{var n,i,a=vg(e,t);if(a==null)return 0;var s=rl(e,t),o=nl(e,t);if(s==null||o==null)return 0;var c=ur(e),u=VG(e),{maxBarSize:d}=a,h=bn(d)?u:d,g,x;return c==="horizontal"?(g=lu(e,"xAxis",s,r),x=ou(e,"xAxis",s,r)):(g=lu(e,"yAxis",o,r),x=ou(e,"yAxis",o,r)),(n=(i=Ah(g,x,!0))!==null&&i!==void 0?i:h)!==null&&n!==void 0?n:0},zK=(e,t,r)=>{var n=ur(e),i=rl(e,t),a=nl(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=lu(e,"xAxis",i,r),o=ou(e,"xAxis",i,r)):(s=lu(e,"yAxis",a,r),o=ou(e,"yAxis",a,r)),Ah(s,o)}},S5e=we([T5e,VG,URe,zG,A5e,zK,x5e],gFe),C5e=(e,t,r)=>{var n=rl(e,t);if(n!=null)return lu(e,"xAxis",n,r)},N5e=(e,t,r)=>{var n=nl(e,t);if(n!=null)return lu(e,"yAxis",n,r)},I5e=(e,t,r)=>{var n=rl(e,t);if(n!=null)return ou(e,"xAxis",n,r)},k5e=(e,t,r)=>{var n=nl(e,t);if(n!=null)return ou(e,"yAxis",n,r)},P5e=we([S5e,vg],yFe),R5e=we([w5e,vg],vFe),O5e=we([ei,GN,C5e,N5e,I5e,k5e,P5e,ur,IG,zK,R5e,vg,_5e],(e,t,r,n,i,a,s,o,c,u,d,h,g)=>{var{chartData:x,dataStartIndex:_,dataEndIndex:w}=c;if(!(h==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:T}=h,C;if(T!=null&&T.length>0?C=T:C=x?.slice(_,w+1),C!=null)return oje({layout:o,barSettings:h,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:C,offset:e,cells:g,dataStartIndex:_})}}),M5e=["index"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P2.apply(null,arguments)}function D5e(e,t){if(e==null)return{};var r,n,i=F5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function F5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $K=M.createContext(void 0),L5e=e=>{var t=M.useContext($K);if(t!=null)return t.stackId;if(e!=null)return yH(e)},j5e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),U5e=e=>{var t=M.useContext($K);if(t!=null){var{stackId:r}=t;return"url(#".concat(j5e(r,e),")")}},HK=e=>{var{index:t}=e,r=D5e(e,M5e),n=U5e(t);return M.createElement(In,P2({className:"recharts-bar-stack-layer",clipPath:n},r))},B5e=["onMouseEnter","onMouseLeave","onClick"],V5e=["value","background","tooltipPosition"],z5e=["id"],$5e=["onMouseEnter","onClick","onMouseLeave"];function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(null,arguments)}function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){H5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H5e(e,t,r){return(t=G5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G5e(e){var t=q5e(e,"string");return typeof t=="symbol"?t:t+""}function q5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P1(e,t){if(e==null)return{};var r,n,i=K5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function K5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W5e=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Gh(r,t),payload:e}]},Y5e=M.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:qf,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Gh(a,t),hide:s,type:c,color:i,unit:o,graphicalItemId:u}};return M.createElement(gk,{tooltipEntrySettings:d})});function J5e(e){var t=ft(cu),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,u=P1(a,B5e),d=hk(s,n,a.id),h=pk(o),g=mk(c,n,a.id);if(!i||r==null)return null;var x=Af(i);return M.createElement(za,{zIndex:xFe(i,Gn.barBackground)},r.map((_,w)=>{var{value:T,background:C,tooltipPosition:L}=_,P=P1(_,V5e);if(!C)return null;var D=d(_,w),F=h(_,w),R=g(_,w),I=ua(ua(ua(ua(ua({option:i,isActive:String(w)===t},P),{},{fill:"#eee"},C),x),Jm(u,_,w)),{},{onMouseEnter:D,onMouseLeave:F,onClick:R,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return M.createElement(k1,ql({key:"background-bar-".concat(w)},I))}))}function X5e(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return ua(ua({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return M.createElement(cK,{value:t?i:void 0},r)}function Z5e(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=ft(cu),c=ft(rk),u=r&&String(a)===o&&(c==null||s===c),d=u?r:t;return u?M.createElement(za,{zIndex:Gn.activeBar},M.createElement(HK,{index:a},M.createElement(k1,ql({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s})))):M.createElement(k1,ql({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function Q5e(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return M.createElement(k1,ql({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function eje(e){var t,{data:r,props:n}=e,i=(t=Ua(n))!==null&&t!==void 0?t:{},{id:a}=i,s=P1(i,z5e),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:h,onMouseLeave:g}=n,x=P1(n,$5e),_=hk(d,c,a),w=pk(g),T=mk(h,c,a);return r?M.createElement(M.Fragment,null,r.map((C,L)=>M.createElement(HK,ql({index:L,key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(L),className:"recharts-bar-rectangle"},Jm(x,C,L),{onMouseEnter:_(C,L),onMouseLeave:w(C,L),onClick:T(C,L)}),u?M.createElement(Z5e,{shape:o,activeBar:u,baseProps:s,entry:C,index:L,dataKey:c}):M.createElement(Q5e,{shape:o,baseProps:s,entry:C,index:L,dataKey:c})))):null}function tje(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=r.current,g=ig(t,"recharts-bar-"),[x,_]=M.useState(!1),w=!x,T=M.useCallback(()=>{typeof u=="function"&&u(),_(!1)},[u]),C=M.useCallback(()=>{typeof d=="function"&&d(),_(!0)},[d]);return M.createElement(X5e,{showLabels:w,rects:n},M.createElement(ng,{animationId:g,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:T,onAnimationStart:C,key:g},L=>{var P=L===1?n:n?.map((D,F)=>{var R=h&&h[F];if(R)return ua(ua({},D),{},{x:Jr(R.x,D.x,L),y:Jr(R.y,D.y,L),width:Jr(R.width,D.width,L),height:Jr(R.height,D.height,L)});if(i==="horizontal"){var I=Jr(0,D.height,L),k=Jr(D.stackedBarStart,D.y,L);return ua(ua({},D),{},{y:k,height:I})}var O=Jr(0,D.width,L),B=Jr(D.stackedBarStart,D.x,L);return ua(ua({},D),{},{width:O,x:B})});return L>0&&(r.current=P??null),P==null?null:M.createElement(In,null,M.createElement(eje,{props:t,data:P}))}),M.createElement(ck,{label:t.label}),t.children)}function rje(e){var t=M.useRef(null);return M.createElement(tje,{previousRectanglesRef:t,props:e})}var GK=0,nje=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:jr(e,t)}};class ije extends M.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=pr("recharts-bar",i),h=u;return M.createElement(In,{className:d,id:u},o&&M.createElement("defs",null,M.createElement(RK,{clipPathId:h,xAxisId:a,yAxisId:s})),M.createElement(In,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},M.createElement(J5e,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),M.createElement(rje,this.props)))}}var aje={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:GK,xAxisId:0,yAxisId:0,zIndex:Gn.bar};function sje(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=bk(t,r),g=Kf(),x=Zi(),_=dk(e.children,gg),w=ft(L=>O5e(L,e.id,x,_));if(g!=="vertical"&&g!=="horizontal")return null;var T,C=w?.[0];return C==null||C.height==null||C.width==null?T=0:T=g==="vertical"?C.height/2:C.width/2,M.createElement(_Le,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:nje,errorBarOffset:T},M.createElement(ije,ql({},e,{layout:g,needClip:h,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function oje(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:g,cells:x,parentViewBox:_,dataStartIndex:w}=e,T=t==="horizontal"?o:s,C=d?T.scale.domain():null,L=CCe({numericAxis:T}),P=T.scale.map(L);return h.map((D,F)=>{var R,I,k,O,B,V;if(d){var j=d[F+w];if(j==null)return null;R=wCe(j,C)}else R=jr(D,r),Array.isArray(R)||(R=[L,R]);var G=g5e(n,GK)(R[1],F);if(t==="horizontal"){var de,ge=o.scale.map(R[0]),ie=o.scale.map(R[1]);if(ge==null||ie==null)return null;I=pL({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:D,index:F}),k=(de=ie??ge)!==null&&de!==void 0?de:void 0,O=i.size;var fe=ge-ie;if(B=mo(fe)?0:fe,V={x:I,y:g.top,width:O,height:g.height},Math.abs(G)>0&&Math.abs(B)<Math.abs(G)){var ue=pi(B||G)*(Math.abs(G)-Math.abs(B));k-=ue,B+=ue}}else{var ae=s.scale.map(R[0]),_e=s.scale.map(R[1]);if(ae==null||_e==null)return null;if(I=ae,k=pL({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:D,index:F}),O=_e-ae,B=i.size,V={x:g.left,y:k,width:g.width,height:B},Math.abs(G)>0&&Math.abs(O)<Math.abs(G)){var X=pi(O||G)*(Math.abs(G)-Math.abs(O));O+=X}}if(I==null||k==null||O==null||B==null)return null;var z=ua(ua({},D),{},{stackedBarStart:P,x:I,y:k,width:O,height:B,value:d?R:R[1],payload:D,background:V,tooltipPosition:{x:I+O/2,y:k+B/2},parentViewBox:_},x&&x[F]&&x[F].props);return z}).filter(Boolean)}function lje(e){var t=Kn(e,aje),r=L5e(t.stackId),n=Zi();return M.createElement(vk,{id:t.id,type:"bar"},i=>M.createElement(M.Fragment,null,M.createElement(_K,{legendPayload:W5e(t)}),M.createElement(Y5e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),M.createElement(wK,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),M.createElement(za,{zIndex:t.zIndex},M.createElement(sje,ql({},t,{id:i})))))}var Zy=M.memo(lje,rb);Zy.displayName="Bar";var cje=["domain","range"],uje=["domain","range"];function D8(e,t){if(e==null)return{};var r,n,i=fje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F8(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function qK(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=D8(e,cje),{domain:a,range:s}=t,o=D8(t,uje);return!F8(r,a)||!F8(n,s)?!1:rb(i,o)}var dje=["type"],hje=["dangerouslySetInnerHTML","ticks","scale"],pje=["id","scale"];function R2(){return R2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R2.apply(null,arguments)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){mje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mje(e,t,r){return(t=gje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gje(e){var t=vje(e,"string");return typeof t=="symbol"?t:t+""}function vje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O2(e,t){if(e==null)return{};var r,n,i=yje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xje(e){var t=Gr(),r=M.useRef(null),n=JN(),{type:i}=e,a=O2(e,dje),s=B_(n,"xAxis",i),o=M.useMemo(()=>{if(s!=null)return j8(j8({},a),{},{type:s})},[a,s]);return M.useLayoutEffect(()=>{o!=null&&(r.current===null?t(J6e(o)):r.current!==o&&t(X6e({prev:r.current,next:o})),r.current=o)},[o,t]),M.useLayoutEffect(()=>()=>{r.current&&(t(Z6e(r.current)),r.current=null)},[t]),null}var _je=e=>{var{xAxisId:t,className:r}=e,n=ft(GN),i=Zi(),a="xAxis",s=ft(C=>bq(C,a,t,i)),o=ft(C=>vq(C,t)),c=ft(C=>VOe(C,t)),u=ft(C=>ZG(C,t));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:g}=e,x=O2(e,hje),{id:_,scale:w}=u,T=O2(u,pje);return M.createElement(_k,R2({},x,T,{x:c.x,y:c.y,width:o.width,height:o.height,className:pr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},bje={allowDataOverflow:ci.allowDataOverflow,allowDecimals:ci.allowDecimals,allowDuplicatedCategory:ci.allowDuplicatedCategory,angle:ci.angle,axisLine:Ml.axisLine,height:ci.height,hide:!1,includeHidden:ci.includeHidden,interval:ci.interval,label:!1,minTickGap:ci.minTickGap,mirror:ci.mirror,orientation:ci.orientation,padding:ci.padding,reversed:ci.reversed,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,tickLine:Ml.tickLine,tickSize:Ml.tickSize,type:ci.type,xAxisId:0},wje=e=>{var t=Kn(e,bje);return M.createElement(M.Fragment,null,M.createElement(xje,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),M.createElement(_je,t))},Tp=M.memo(wje,qK);Tp.displayName="XAxis";var Eje=["type"],Tje=["dangerouslySetInnerHTML","ticks","scale"],Aje=["id","scale"];function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M2.apply(null,arguments)}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(n){Sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sje(e,t,r){return(t=Cje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cje(e){var t=Nje(e,"string");return typeof t=="symbol"?t:t+""}function Nje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D2(e,t){if(e==null)return{};var r,n,i=Ije(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ije(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kje(e){var t=Gr(),r=M.useRef(null),n=JN(),{type:i}=e,a=D2(e,Eje),s=B_(n,"yAxis",i),o=M.useMemo(()=>{if(s!=null)return B8(B8({},a),{},{type:s})},[s,a]);return M.useLayoutEffect(()=>{o!=null&&(r.current===null?t(Q6e(o)):r.current!==o&&t(eFe({prev:r.current,next:o})),r.current=o)},[o,t]),M.useLayoutEffect(()=>()=>{r.current&&(t(tFe(r.current)),r.current=null)},[t]),null}function Pje(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=M.useRef(null),s=M.useRef(null),o=ft(GN),c=Zi(),u=Gr(),d="yAxis",h=ft(R=>yq(R,t)),g=ft(R=>$Oe(R,t)),x=ft(R=>bq(R,d,t,c)),_=ft(R=>QG(R,t));if(M.useLayoutEffect(()=>{if(!(n!=="auto"||!h||lk(i)||M.isValidElement(i)||_==null)){var R=a.current;if(R){var I=R.getCalculatedWidth();Math.round(h.width)!==Math.round(I)&&u(rFe({id:t,width:I}))}}},[x,h,u,i,t,n,_]),h==null||g==null||_==null)return null;var{dangerouslySetInnerHTML:w,ticks:T,scale:C}=e,L=D2(e,Tje),{id:P,scale:D}=_,F=D2(_,Aje);return M.createElement(_k,M2({},L,F,{ref:a,labelRef:s,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:pr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:x,axisType:d}))}var Rje={allowDataOverflow:ui.allowDataOverflow,allowDecimals:ui.allowDecimals,allowDuplicatedCategory:ui.allowDuplicatedCategory,angle:ui.angle,axisLine:Ml.axisLine,hide:!1,includeHidden:ui.includeHidden,interval:ui.interval,label:!1,minTickGap:ui.minTickGap,mirror:ui.mirror,orientation:ui.orientation,padding:ui.padding,reversed:ui.reversed,scale:ui.scale,tick:ui.tick,tickCount:ui.tickCount,tickLine:Ml.tickLine,tickSize:Ml.tickSize,type:ui.type,width:ui.width,yAxisId:0},Oje=e=>{var t=Kn(e,Rje);return M.createElement(M.Fragment,null,M.createElement(kje,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),M.createElement(Pje,t))},Ap=M.memo(Oje,qK);Ap.displayName="YAxis";var Mje=(e,t)=>t,wk=we([Mje,ur,YG,xi,jq,rc,iMe,ei],fMe),Ek=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},KK=Ls("mouseClick"),WK=Zm();WK.startListening({actionCreator:KK,effect:(e,t)=>{var r=e.payload,n=wk(t.getState(),Ek(r));n?.activeIndex!=null&&t.dispatch(n4e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var F2=Ls("mouseMove"),YK=Zm(),by=null;YK.startListening({actionCreator:F2,effect:(e,t)=>{var r=e.payload;by!==null&&cancelAnimationFrame(by);var n=Ek(r);by=requestAnimationFrame(()=>{var i=t.getState(),a=JI(i,i.tooltip.settings.shared);if(a==="axis"){var s=wk(i,n);s?.activeIndex!=null?t.dispatch(Iq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(Nq())}by=null})}});function Dje(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var V8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},JK=Va({name:"rootProps",initialState:V8,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:V8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Fje=JK.reducer,{updateOptions:Lje}=JK.actions,jje=null,Uje={updatePolarOptions:(e,t)=>t.payload},XK=Va({name:"polarOptions",initialState:jje,reducers:Uje}),{updatePolarOptions:Bje}=XK.actions,Vje=XK.reducer,ZK=Ls("keyDown"),QK=Ls("focus"),Tk=Zm();Tk.startListening({actionCreator:ZK,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=XI(i,e0(r),dg(r),pg(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=rc(r);if(a==="Enter"){var u=E1(r,"axis","hover",String(i.index));t.dispatch(A2({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=KOe(r),h=d==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,x=o+g*h;if(!(c==null||x>=c.length||x<0)){var _=E1(r,"axis","hover",String(x));t.dispatch(A2({active:!0,activeIndex:x.toString(),activeCoordinate:_}))}}}}}});Tk.startListening({actionCreator:QK,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=E1(r,"axis","hover",String(a));t.dispatch(A2({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ns=Ls("externalEvent"),eW=Zm(),mA=new Map;eW.startListening({actionCreator:Ns,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=mA.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:$4e(o),activeDataKey:rk(o),activeIndex:cu(o),activeLabel:Vq(o),activeTooltipIndex:cu(o),isTooltipActive:H4e(o)};r(c,n)}finally{mA.delete(i)}});mA.set(i,s)}}});var zje=we([Zh],e=>e.tooltipItemPayloads),$je=we([zje,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),tW=Ls("touchMove"),rW=Zm();rW.startListening({actionCreator:tW,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=JI(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=wk(n,Ek({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(Iq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(_H),h=(o=u.getAttribute(bH))!==null&&o!==void 0?o:void 0,g=Qh(n).find(w=>w.id===h);if(d==null||g==null||h==null)return;var{dataKey:x}=g,_=$je(n,d,h);t.dispatch(Cq({activeDataKey:x,activeIndex:d,activeCoordinate:_,activeGraphicalItemId:h}))}}}});var Hje=V$({brush:_Fe,cartesianAxis:nFe,chartData:zMe,errorBars:pLe,graphicalItems:u6e,layout:vCe,legend:ENe,options:LMe,polarAxis:T3e,polarOptions:Vje,referenceElements:TFe,rootProps:Fje,tooltip:i4e,zIndex:AMe}),Gje=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return z2e({reducer:Hje,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([WK.middleware,YK.middleware,Tk.middleware,eW.middleware,rW.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(rH({type:"raf"}))},devTools:{serialize:{replacer:Dje},name:"recharts-".concat(r)}})};function nW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Zi(),a=M.useRef(null);if(i)return r;a.current==null&&(a.current=Gje(t,n));var s=jN;return M.createElement(ULe,{context:s,store:a.current},r)}function qje(e){var{layout:t,margin:r}=e,n=Gr(),i=Zi();return M.useEffect(()=>{i||(n(pCe(t)),n(hCe(r)))},[n,i,t,r]),null}var iW=M.memo(qje,rb);function aW(e){var t=Gr();return M.useEffect(()=>{t(Lje(e))},[t,e]),null}function z8(e){var{zIndex:t,isPanorama:r}=e,n=M.useRef(null),i=Gr();return M.useLayoutEffect(()=>(n.current&&i(EMe({zIndex:t,element:n.current,isPanorama:r})),()=>{i(TMe({zIndex:t,isPanorama:r}))}),[i,t,r]),M.createElement("g",{tabIndex:-1,ref:n})}function $8(e){var{children:t,isPanorama:r}=e,n=ft(hMe);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return M.createElement(M.Fragment,null,i.map(s=>M.createElement(z8,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>M.createElement(z8,{key:s,zIndex:s,isPanorama:r})))}var Kje=["children"];function Wje(e,t){if(e==null)return{};var r,n,i=Yje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Yje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R1.apply(null,arguments)}var Jje={width:"100%",height:"100%",display:"block"},Xje=M.forwardRef((e,t)=>{var r=WN(),n=YN(),i=jH();if(!Xo(r)||!Xo(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),M.createElement(CN,R1({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:Jje,ref:t}),a)}),Zje=e=>{var{children:t}=e,r=ft(C_);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return M.createElement(CN,{width:n,height:i,x:s,y:a},t)},H8=M.forwardRef((e,t)=>{var{children:r}=e,n=Wje(e,Kje),i=Zi();return i?M.createElement(Zje,null,M.createElement($8,{isPanorama:!0},r)):M.createElement(Xje,R1({ref:t},n),M.createElement($8,{isPanorama:!1},r))});function Qje(){var e=Gr(),[t,r]=M.useState(null),n=ft(OCe);return M.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;$t(a)&&a!==n&&e(gCe(a))}},[t,e,n]),r}function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(n){t8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t8e(e,t,r){return(t=r8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8e(e){var t=n8e(e,"string");return typeof t=="symbol"?t:t+""}function n8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}var i8e=()=>(XMe(),null);function O1(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var a8e=M.forwardRef((e,t)=>{var r,n,i=M.useRef(null),[a,s]=M.useState({containerWidth:O1((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:O1((n=e.style)===null||n===void 0?void 0:n.height)}),o=M.useCallback((u,d)=>{s(h=>{var g=Math.round(u),x=Math.round(d);return h.containerWidth===g&&h.containerHeight===x?h:{containerWidth:g,containerHeight:x}})},[]),c=M.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var g=_=>{var w=_[0];if(w!=null){var{width:T,height:C}=w.contentRect;o(T,C)}},x=new ResizeObserver(g);x.observe(u),i.current=x}},[t,o]);return M.useEffect(()=>()=>{var u=i.current;u?.disconnect()},[o]),M.createElement(M.Fragment,null,M.createElement(eg,{width:a.containerWidth,height:a.containerHeight}),M.createElement("div",Zc({ref:c},e)))}),s8e=M.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=M.useState({containerWidth:O1(r),containerHeight:O1(n)}),s=M.useCallback((c,u)=>{a(d=>{var h=Math.round(c),g=Math.round(u);return d.containerWidth===h&&d.containerHeight===g?d:{containerWidth:h,containerHeight:g}})},[]),o=M.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return M.createElement(M.Fragment,null,M.createElement(eg,{width:i.containerWidth,height:i.containerHeight}),M.createElement("div",Zc({ref:o},e)))}),o8e=M.forwardRef((e,t)=>{var{width:r,height:n}=e;return M.createElement(M.Fragment,null,M.createElement(eg,{width:r,height:n}),M.createElement("div",Zc({ref:t},e)))}),l8e=M.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?M.createElement(s8e,Zc({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?M.createElement(o8e,Zc({},e,{width:r,height:n,ref:t})):M.createElement(M.Fragment,null,M.createElement(eg,{width:r,height:n}),M.createElement("div",Zc({ref:t},e)))});function c8e(e){return e?a8e:l8e}var u8e=M.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:g,onTouchEnd:x,onTouchMove:_,onTouchStart:w,style:T,width:C,responsive:L,dispatchTouchEvents:P=!0}=e,D=M.useRef(null),F=Gr(),[R,I]=M.useState(null),[k,O]=M.useState(null),B=Qje(),V=qN(),j=V?.width>0?V.width:C,G=V?.height>0?V.height:i,de=M.useCallback(le=>{B(le),typeof t=="function"&&t(le),I(le),O(le),le!=null&&(D.current=le)},[B,t,I,O]),ge=M.useCallback(le=>{F(KK(le)),F(Ns({handler:a,reactEvent:le}))},[F,a]),ie=M.useCallback(le=>{F(F2(le)),F(Ns({handler:u,reactEvent:le}))},[F,u]),fe=M.useCallback(le=>{F(Nq()),F(Ns({handler:d,reactEvent:le}))},[F,d]),ue=M.useCallback(le=>{F(F2(le)),F(Ns({handler:h,reactEvent:le}))},[F,h]),ae=M.useCallback(()=>{F(QK())},[F]),_e=M.useCallback(le=>{F(ZK(le.key))},[F]),X=M.useCallback(le=>{F(Ns({handler:s,reactEvent:le}))},[F,s]),z=M.useCallback(le=>{F(Ns({handler:o,reactEvent:le}))},[F,o]),te=M.useCallback(le=>{F(Ns({handler:c,reactEvent:le}))},[F,c]),Z=M.useCallback(le=>{F(Ns({handler:g,reactEvent:le}))},[F,g]),K=M.useCallback(le=>{F(Ns({handler:w,reactEvent:le}))},[F,w]),pe=M.useCallback(le=>{P&&F(tW(le)),F(Ns({handler:_,reactEvent:le}))},[F,P,_]),xe=M.useCallback(le=>{F(Ns({handler:x,reactEvent:le}))},[F,x]),ke=c8e(L);return M.createElement(Yq.Provider,{value:R},M.createElement(i$.Provider,{value:k},M.createElement(ke,{width:j??T?.width,height:G??T?.height,className:pr("recharts-wrapper",n),style:e8e({position:"relative",cursor:"default",width:j,height:G},T),onClick:ge,onContextMenu:X,onDoubleClick:z,onFocus:ae,onKeyDown:_e,onMouseDown:te,onMouseEnter:ie,onMouseLeave:fe,onMouseMove:ue,onMouseUp:Z,onTouchEnd:xe,onTouchMove:pe,onTouchStart:K,ref:de},M.createElement(i8e,null),r)))}),f8e=["width","height","responsive","children","className","style","compact","title","desc"];function d8e(e,t){if(e==null)return{};var r,n,i=h8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sW=M.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=e,h=d8e(e,f8e),g=Ua(h);return c?M.createElement(M.Fragment,null,M.createElement(eg,{width:r,height:n}),M.createElement(H8,{otherAttributes:g,title:u,desc:d},a)):M.createElement(u8e,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},M.createElement(H8,{otherAttributes:g,title:u,desc:d,ref:t},M.createElement(SFe,null,a)))});function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(null,arguments)}var p8e={top:5,right:5,bottom:5,left:5},m8e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:p8e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},oW=M.forwardRef(function(t,r){var n,i=Kn(t.categoricalChartProps,m8e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return M.createElement(nW,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},M.createElement(SK,{chartData:u.data}),M.createElement(iW,{layout:i.layout,margin:i.margin}),M.createElement(aW,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),M.createElement(sW,L2({},i,{ref:r})))}),g8e=["axis","item"],gA=M.forwardRef((e,t)=>M.createElement(oW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:g8e,tooltipPayloadSearcher:ok,categoricalChartProps:e,ref:t}));function v8e(e){var t=Gr();return M.useEffect(()=>{t(Bje(e))},[t,e]),null}var y8e=["layout"];function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j2.apply(null,arguments)}function x8e(e,t){if(e==null)return{};var r,n,i=_8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b8e={top:5,right:5,bottom:5,left:5},lW={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:b8e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},w8e=M.forwardRef(function(t,r){var n,i=Kn(t.categoricalChartProps,lW),{layout:a}=i,s=x8e(i,y8e),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,h={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return M.createElement(nW,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},M.createElement(SK,{chartData:i.data}),M.createElement(iW,{layout:a,margin:i.margin}),M.createElement(aW,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),M.createElement(v8e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),M.createElement(sW,j2({},s,{ref:r})))});function q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q8(Object(r),!0).forEach(function(n){E8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E8e(e,t,r){return(t=T8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T8e(e){var t=A8e(e,"string");return typeof t=="symbol"?t:t+""}function A8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S8e=["item"],C8e=K8(K8({},lW),{},{layout:"centric",startAngle:0,endAngle:360}),N8e=M.forwardRef((e,t)=>{var r=Kn(e,C8e);return M.createElement(w8e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:S8e,tooltipPayloadSearcher:ok,categoricalChartProps:r,ref:t})}),I8e=["axis"],k8e=M.forwardRef((e,t)=>M.createElement(oW,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:I8e,tooltipPayloadSearcher:ok,categoricalChartProps:e,ref:t}));const W8=["#0061A4","#006A60","#6B5778","#BA1A1A","#535F70","#56605B","#49454F","#000000"],wy=({title:e,value:t,icon:r,trend:n,color:i})=>v.jsxs("div",{className:"bg-surface p-6 rounded-3xl shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-all group overflow-hidden relative",children:[v.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${i} opacity-[0.03] -mr-16 -mt-16 rounded-full group-hover:scale-110 transition-transform`}),v.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-bold text-on-surface-variant uppercase tracking-[0.15em] mb-1 opacity-60",children:e}),v.jsx("p",{className:"text-2xl font-black text-on-surface tracking-tight",children:t})]}),v.jsx("div",{className:`p-3 rounded-2xl ${i}/10 ${i.replace("bg-","text-")}`,children:v.jsx(r,{size:24})})]}),v.jsxs("div",{className:"mt-4 flex items-center gap-2 relative z-10",children:[v.jsxs("span",{className:`flex items-center text-xs font-black px-2 py-0.5 rounded-full ${n>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n>=0?v.jsx(hJ,{size:12}):v.jsx(sJ,{size:12}),Math.abs(n),"%"]}),v.jsx("span",{className:"text-[10px] text-on-surface-variant opacity-40 font-bold uppercase tracking-wider",children:"vs ms anterior"})]})]}),P8e=({clients:e,products:t,users:r,onClose:n,searchQuery:i,setSearchQuery:a,filterRegion:s,setFilterRegion:o,filterState:c,setFilterState:u,filterCity:d,setFilterCity:h,filterCategory:g,setFilterCategory:x,filterSalespersonId:_,setFilterSalespersonId:w,filterSalesCategory:T,setFilterSalesCategory:C,filterCnae:L,setFilterCnae:P,filterProductCategory:D,setFilterProductCategory:F,productCategories:R,filterOnlyWithPurchases:I,setFilterOnlyWithPurchases:k,resetFilters:O,startDate:B,setStartDate:V,endDate:j,setEndDate:G,availableStates:de,availableCities:ge,availableCnaes:ie,categories:fe,currentUser:ue,isAdminUser:ae,canViewAllData:_e})=>{const[X]=M.useState(new Date),[z,te]=M.useState("desc"),Z=M.useMemo(()=>{const K={},pe={},xe={},ke={},le={};let ve=0,Fe=0;return e.forEach(W=>{const Je=(W.purchasedProducts||[]).filter(Xe=>{const tt=Xe.purchaseDate||"";return!(B&&tt<B||j&&tt>j)}),Be=Je.reduce((Xe,tt)=>Xe+(tt.totalValue||tt.price*(tt.quantity||1)),0);ve+=Be,Fe+=Je.length;const We=W.region||"Outras";xe[We]=(xe[We]||0)+Be;const Le=r.find(Xe=>Xe.id===W.salespersonId)?.name||"No Atribudo";le[Le]||(le[Le]={name:Le,revenue:0}),le[Le].revenue+=Be,Je.forEach(Xe=>{const tt=Xe.totalValue||Xe.price*(Xe.quantity||1);K[Xe.sku]||(K[Xe.sku]={name:Xe.name,revenue:0,count:0}),K[Xe.sku].revenue+=tt,K[Xe.sku].count+=Xe.quantity||1;const pt=Xe.category||"Outros";if(pe[pt]=(pe[pt]||0)+tt,Xe.purchaseDate){const kt=Xe.purchaseDate.split("T")[0];ke[kt]=(ke[kt]||0)+tt}})}),{totalRevenue:ve,totalSalesCount:Fe,totalClients:e.length,totalProducts:t.length,topProductsData:Object.values(K).sort((W,Je)=>z==="desc"?Je.count-W.count:W.count-Je.count).slice(0,5),sellerPerformanceData:Object.values(le).sort((W,Je)=>Je.revenue-W.revenue).slice(0,6),categoryDistributionData:(()=>{const W=Object.entries(pe).sort(([,We],[,$e])=>$e-We);if(W.length<=8)return W.map(([We,$e])=>({name:We,value:$e}));const Je=W.slice(0,7),Be=W.slice(7).reduce((We,[,$e])=>We+$e,0);return[...Je.map(([We,$e])=>({name:We,value:$e})),{name:"Outros",value:Be}]})(),regionalSalesData:Object.entries(xe).map(([W,Je])=>({name:W,value:Je})),salesTrendData:Object.entries(ke).map(([W,Je])=>({date:W,value:Je})).sort((W,Je)=>W.date.localeCompare(Je.date))}},[e,t,z,r,B,j]);return v.jsxs("div",{className:"flex flex-col h-full bg-background overflow-hidden animate-in fade-in duration-500",children:[v.jsxs("div",{className:"flex flex-col border-b border-outline-variant bg-surface/80 backdrop-blur-md sticky top-0 z-20 shadow-sm",children:[v.jsxs("div",{className:"flex flex-wrap items-center justify-between px-8 py-4 gap-4",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"p-2.5 bg-primary/10 text-primary rounded-2xl shadow-inner",children:v.jsx(r4,{size:24})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"text-xl font-black text-on-surface tracking-tight flex items-center gap-2",children:["Dashboard Pro",v.jsx("span",{className:"hidden sm:inline-block text-[9px] bg-primary text-on-primary px-2 py-0.5 rounded-full font-bold uppercase tracking-[0.1em] shadow-sm",children:"Inteligncia"})]}),v.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-on-surface-variant/50 text-[10px] font-medium",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(TX,{size:10,className:"animate-spin-slow"})," Live Update"]}),v.jsx("span",{children:""}),v.jsx("span",{children:X.toLocaleTimeString()})]})]})]}),v.jsxs("div",{className:"flex items-center flex-1 max-w-4xl gap-3",children:[v.jsxs("div",{className:"relative group flex-1",children:[v.jsx(zo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant group-focus-within:text-primary transition-colors"}),v.jsx("input",{type:"text",value:i,onChange:K=>a(K.target.value),placeholder:"Buscar cliente ou empresa...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-low border border-outline-variant/30 rounded-xl text-xs outline-none focus:ring-2 focus:ring-primary/10 focus:border-primary transition-all shadow-sm"})]}),v.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border transition-all ${B||j?"bg-primary/5 border-primary/20":"bg-surface-container-low border-outline-variant/30"}`,children:[v.jsx(Hp,{className:"w-3.5 h-3.5 text-primary"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("input",{type:"date",value:B,onChange:K=>V(K.target.value),className:"text-[10px] bg-transparent border-none outline-none text-on-surface font-bold w-24",title:"Data Inicial"}),v.jsx("span",{className:"text-outline-variant/30",children:"-"}),v.jsx("input",{type:"date",value:j,onChange:K=>G(K.target.value),className:"text-[10px] bg-transparent border-none outline-none text-on-surface font-bold w-24",title:"Data Final"})]})]})]}),v.jsx("button",{onClick:n,className:"p-2.5 hover:bg-surface-container-highest rounded-2xl transition-all active:scale-95 group border border-transparent hover:border-outline-variant shadow-sm",title:"Fechar Dashboard",children:v.jsx(La,{className:"w-5 h-5 text-on-surface-variant group-hover:text-primary"})})]}),v.jsxs("div",{className:"px-8 pb-4 flex flex-wrap gap-2 items-center",children:[v.jsxs("div",{className:"flex items-center gap-2 bg-secondary-container/20 px-2.5 py-1 rounded-lg border border-secondary-container/30 mr-2",children:[v.jsx(U2,{className:"w-3 h-3 text-secondary"}),v.jsx("span",{className:"text-[10px] font-bold text-secondary uppercase tracking-tight",children:"Refinar"})]}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl border transition-all ${_e?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[v.jsxs("div",{className:"relative",children:[v.jsx(Ma,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 pointer-events-none ${_e?"text-purple-400":"text-gray-400"}`}),v.jsxs("select",{value:_e?_:ue?.id||"",onChange:K=>_e&&w(K.target.value),disabled:!_e,className:`text-xs rounded-lg pl-7 pr-2 py-1 font-bold appearance-none bg-transparent outline-none ${_e?"text-purple-900 cursor-pointer":"text-gray-600 cursor-not-allowed"}`,title:"Filtrar por Vendedor",children:[_e&&v.jsx("option",{value:"Todos",children:"Todos Vendedores"}),_e?r.filter(K=>K.role==="salesperson"||K.role==="sales_external"||K.role==="sales_internal").map(K=>v.jsx("option",{value:K.id,children:K.name},K.id)):v.jsx("option",{value:ue?.id,children:ue?.name})]})]}),_e&&v.jsxs("div",{className:"border-l border-purple-200 pl-2 ml-1 relative",children:[v.jsx(ss,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),v.jsxs("select",{value:T,onChange:K=>C(K.target.value),className:"text-[11px] bg-transparent text-purple-900 rounded-lg pl-6 pr-1 py-1 font-bold outline-none appearance-none cursor-pointer",title:"Filtrar por Equipe",children:[v.jsx("option",{value:"Todos",children:"Equipes"}),v.jsx("option",{value:"Externo",children:"Externo"}),v.jsx("option",{value:"Interno",children:"Interno"}),v.jsx("option",{value:"Mercado Livre",children:"M.Livre"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:[v.jsxs("select",{value:s,onChange:K=>{o(K.target.value),u("Todos"),h("Todas")},className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer border-r border-outline-variant/30",title:"Filtrar por Regio",children:[v.jsx("option",{value:"Todas",children:"Regies"}),fh.map(K=>v.jsx("option",{value:K,children:K},K))]}),v.jsxs("select",{value:c,onChange:K=>{u(K.target.value),h("Todas")},className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer border-r border-outline-variant/30",disabled:de.length===0,title:"Filtrar por Estado",children:[v.jsx("option",{value:"Todos",children:"UF"}),de.map(K=>v.jsx("option",{value:K,children:K},K))]}),v.jsxs("select",{value:d,onChange:K=>h(K.target.value),className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer min-w-[80px]",disabled:c==="Todos"||ge.length===0,title:"Filtrar por Cidade",children:[v.jsx("option",{value:"Todas",children:"Cidades"}),ge.map(K=>v.jsx("option",{value:K,children:K},K))]})]}),v.jsx("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:v.jsxs("div",{className:"relative",children:[v.jsx(ss,{className:"w-3.5 h-3.5 text-on-surface-variant/50 absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none"}),v.jsxs("select",{value:L,onChange:K=>P(K.target.value),className:"text-xs bg-transparent pl-7 pr-3 py-1 font-bold outline-none cursor-pointer max-w-[120px]",title:"Filtrar por CNAE",children:[v.jsx("option",{value:"Todos",children:"CNAEs"}),ie.map(K=>v.jsx("option",{value:K,children:K.length>20?K.substring(0,20)+"...":K},K))]})]})}),v.jsx("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:v.jsxs("div",{className:"relative",children:[v.jsx(ao,{className:"w-3.5 h-3.5 text-on-surface-variant/50 absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none"}),v.jsxs("select",{value:D,onChange:K=>F(K.target.value),className:"text-xs bg-transparent pl-7 pr-3 py-1 font-bold outline-none cursor-pointer max-w-[180px]",title:"Filtrar por Marcas / Categorias de Produtos",children:[v.jsx("option",{value:"Todos",children:"Todas Marcas / Cat."}),R.map(K=>v.jsx("option",{value:K,children:K},K))]})]})}),v.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[v.jsxs("button",{onClick:()=>k?.(!I),className:`text-[10px] font-black px-4 py-2 rounded-full transition-all flex items-center gap-1.5 shadow-sm active:scale-95 ${I?"bg-green-600 text-white ring-2 ring-green-200":"bg-surface-container-low border border-outline-variant text-on-surface hover:bg-surface-container-high"}`,title:"Mostrar apenas clientes com histrico de compras",children:[v.jsx(ro,{className:`w-3 h-3 ${I?"text-white":"text-green-600"}`}),"SOMENTE COM COMPRAS"]}),v.jsx("button",{onClick:()=>O?.(),className:"text-[10px] font-black px-4 py-2 rounded-full bg-white border border-outline-variant text-on-surface hover:bg-surface-container-high transition-all shadow-sm active:scale-95 flex items-center gap-1.5",title:"Limpar todos os filtros",children:"MOSTRAR TODOS"})]})]})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 bg-surface-container-lowest/30 custom-scrollbar",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsx(wy,{title:"Faturamento Total",value:`R$ ${Z.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:rU,trend:12.5,color:"bg-primary"}),v.jsx(wy,{title:"Carteira Filtrada",value:Z.totalClients,icon:Kp,trend:5.2,color:"bg-secondary"}),v.jsx(wy,{title:"Mix de Produtos",value:Z.totalProducts,icon:ao,trend:-2.4,color:"bg-tertiary"}),v.jsx(wy,{title:"Vendas Registradas",value:Z.totalSalesCount,icon:r4,trend:8.1,color:"bg-primary"})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"lg:col-span-2 bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[v.jsx("div",{className:"flex justify-between items-center mb-8",children:v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-black text-on-surface flex items-center gap-2 uppercase tracking-tighter",children:[v.jsx(lU,{className:"text-primary"}),"Comportamento de Vendas"]}),v.jsx("p",{className:"text-sm text-on-surface-variant opacity-60",children:"Volume de receita por perodo"})]})}),v.jsx("div",{className:"h-80 w-full",children:v.jsx(Z0,{width:"100%",height:"100%",children:v.jsxs(k8e,{data:Z.salesTrendData,children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"5%",stopColor:"#0061A4",stopOpacity:.1}),v.jsx("stop",{offset:"95%",stopColor:"#0061A4",stopOpacity:0})]})}),v.jsx(Xy,{strokeDasharray:"3 3",vertical:!1,stroke:"#F0F0F0"}),v.jsx(Tp,{dataKey:"date",stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1}),v.jsx(Ap,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:K=>`R$ ${K/1e3}k`}),v.jsx(op,{contentStyle:{backgroundColor:"#fff",borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:K=>[`R$ ${K.toLocaleString("pt-BR")}`,"Venda"]}),v.jsx(VK,{type:"monotone",dataKey:"value",stroke:"#0061A4",strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),v.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[v.jsx("h3",{className:"text-xl font-black text-on-surface mb-8 uppercase tracking-tighter",children:"Mix por Categoria"}),v.jsxs("div",{className:"h-80 w-full relative",children:[v.jsx(Z0,{width:"100%",height:"100%",children:v.jsxs(N8e,{children:[v.jsx(EK,{data:Z.categoryDistributionData,innerRadius:70,outerRadius:95,paddingAngle:4,dataKey:"value",stroke:"none",animationDuration:1200,children:Z.categoryDistributionData.map((K,pe)=>v.jsx(gg,{fill:W8[pe%W8.length]},`cell-${pe}`))}),v.jsx(op,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none"},formatter:K=>[`R$ ${K.toLocaleString("pt-BR")}`,"Total"]}),v.jsx(LH,{verticalAlign:"bottom",layout:"horizontal",align:"center",iconType:"circle",wrapperStyle:{paddingTop:"20px",fontSize:"10px",height:"auto"}})]})}),v.jsxs("div",{className:"absolute inset-x-0 top-[35%] flex flex-col items-center justify-center pointer-events-none",children:[v.jsx("span",{className:"text-[10px] text-on-surface-variant uppercase font-bold tracking-widest opacity-40",children:"Liderana"}),v.jsx("span",{className:"text-sm font-black text-primary px-4 text-center line-clamp-2 leading-tight",children:Z.categoryDistributionData[0]?.name||"..."})]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[v.jsx("div",{className:"p-2 bg-secondary/10 rounded-xl text-secondary",children:v.jsx(ao,{size:20})}),v.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:z==="desc"?"Produtos Mais Vendidos":"Produtos Menos Vendidos"}),v.jsxs("div",{className:"flex gap-1 ml-auto bg-surface-container-high p-1 rounded-lg",children:[v.jsx("button",{onClick:()=>te("desc"),className:`text-[10px] font-bold px-2 py-1 rounded-md transition-all ${z==="desc"?"bg-primary text-on-primary shadow-sm":"text-on-surface-variant hover:bg-surface-container-highest"}`,children:"TOP"}),v.jsx("button",{onClick:()=>te("asc"),className:`text-[10px] font-bold px-2 py-1 rounded-md transition-all ${z==="asc"?"bg-tertiary text-on-tertiary shadow-sm":"text-on-surface-variant hover:bg-surface-container-highest"}`,children:"BOTTOM"})]})]}),v.jsx("div",{className:"h-80",children:v.jsx(Z0,{width:"100%",height:"100%",children:v.jsxs(gA,{data:Z.topProductsData,layout:"vertical",margin:{left:20},children:[v.jsx(Xy,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"#F0F0F0"}),v.jsx(Tp,{type:"number",hide:!0}),v.jsx(Ap,{dataKey:"name",type:"category",stroke:"#8E9199",fontSize:10,width:120,axisLine:!1,tickLine:!1}),v.jsx(op,{cursor:{fill:"rgba(0,0,0,0.03)"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:K=>[K,"Qtd Vendida"]}),v.jsx(Zy,{dataKey:"count",fill:z==="desc"?"#535F70":"#BA1A1A",radius:[0,8,8,0],barSize:24,animationDuration:1e3})]})})})]}),v.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[v.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:v.jsx(Gp,{size:20})}),v.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:"Desempenho Regional"})]}),v.jsx("div",{className:"h-80",children:v.jsx(Z0,{width:"100%",height:"100%",children:v.jsxs(gA,{data:Z.regionalSalesData,children:[v.jsx(Xy,{strokeDasharray:"3 3",vertical:!1,stroke:"#F0F0F0"}),v.jsx(Tp,{dataKey:"name",stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1}),v.jsx(Ap,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:K=>`R$ ${K/1e3}k`}),v.jsx(op,{contentStyle:{borderRadius:"12px"}}),v.jsx(Zy,{dataKey:"value",fill:"#6B5778",radius:[8,8,0,0],barSize:40,animationDuration:1500})]})})})]})]}),v.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[v.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:v.jsx(ss,{size:20})}),v.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:"Equipe de Vendas (Ranking PRO)"})]}),v.jsx("div",{className:"h-80",children:v.jsx(Z0,{width:"100%",height:"100%",children:v.jsxs(gA,{data:Z.sellerPerformanceData,margin:{bottom:20},children:[v.jsx(Tp,{dataKey:"name",stroke:"#8E9199",fontSize:10,angle:-45,textAnchor:"end",height:80,interval:0,axisLine:!1,tickLine:!1}),v.jsx(Ap,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:K=>`R$ ${K/1e3}k`}),v.jsx(op,{contentStyle:{borderRadius:"16px"}}),v.jsx(Zy,{dataKey:"revenue",fill:"#D7E3F7",radius:[12,12,0,0],activeBar:{fill:"#0061A4"},animationDuration:2e3})]})})})]})]})]})},R8e=[{id:"admin_dev",name:"Admin DEV",username:"admin",email:"admin@vendas.ai",role:"admin_dev",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"sales_external",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"sales_internal",password:"123",salesCategory:"Interno",color:"#3B82F6"}],cW=()=>{const[e,t]=M.useState([]),[r,n]=M.useState(null);return{users:e,setUsers:t,currentUser:r,login:u=>{n(u)},logout:()=>{n(null)},addUser:u=>{t([...e,u])},updateUser:u=>{t(e.map(d=>d.id===u.id?u:d))},deleteUser:u=>{t(e.filter(d=>d.id!==u))}}},M1=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_USERS:R8e,useAuth:cW},Symbol.toStringTag,{value:"Module"})),vA=()=>{try{const e=localStorage.getItem("vendas_ai_clients");if(e)return JSON.parse(e).map(r=>({...r,category:Array.isArray(r.category)?r.category:typeof r.category=="string"?[r.category]:["Outros"],region:Yp(r.state)}))}catch(e){console.error("Failed to load clients",e)}return[]},Y8=()=>{try{const e=localStorage.getItem("vendas_ai_products");return e?JSON.parse(e):[]}catch{return[]}},J8=()=>{try{const e=localStorage.getItem("vendas_ai_categories");return e?JSON.parse(e):Wp.filter(t=>t!=="Todos")}catch{return Wp.filter(t=>t!=="Todos")}},X8=()=>{try{const e=localStorage.getItem("vendas_ai_files");return e?JSON.parse(e):[]}catch{return[]}},O8e=(e,t)=>{const[r,n]=M.useState([]),[i,a]=M.useState(Y8),[s,o]=M.useState(J8),[c,u]=M.useState(X8),[d,h]=M.useState(!1),[g,x]=M.useState(!1),[_,w]=M.useState(0),[T,C]=M.useState("Iniciando sistema...");return M.useEffect(()=>{(async()=>{C("Conectando ao Firebase..."),w(10);const P=await wN();if(h(P),w(25),P){C("Buscando dados na nuvem..."),w(40);try{const F=await AEe();if(w(60),F&&(F.clients?.length>0||F.products?.length>0||F.users?.length>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),F.clients&&n(F.clients),F.products&&a(F.products),F.categories&&o(F.categories),F.users&&t&&t(cp(F.users)),F.uploadedFiles&&u(F.uploadedFiles),C("Finalizando sincronizao..."),w(100),setTimeout(()=>x(!0),500);return}else{console.log("Cloud is empty. Checking localStorage for migration...");const R=localStorage.getItem("vendas_ai_users");let I=R?JSON.parse(R):null;if(!I||I.length===0){const{INITIAL_USERS:k}=await Dx(async()=>{const{INITIAL_USERS:O}=await Promise.resolve().then(()=>M1);return{INITIAL_USERS:O}},void 0);I=k}I=cp(I),t&&t(I),n(vA()),console.log("Saving initial data to cloud (background attempt)..."),kS(vA(),Y8(),J8(),I,X8()).catch(k=>console.warn("Initial cloud save failed (expected in some offline cases), will retry later",k)),C("Configurao concluda!"),w(100),setTimeout(()=>x(!0),500);return}}catch(F){console.error("Cloud load error, falling back to local:",F)}}console.log("Loading data from LocalStorage..."),n(vA());const D=localStorage.getItem("vendas_ai_users");if(D&&t)t(cp(JSON.parse(D)));else if(t){const{INITIAL_USERS:F}=await Dx(async()=>{const{INITIAL_USERS:R}=await Promise.resolve().then(()=>M1);return{INITIAL_USERS:R}},void 0);t(cp(F))}C("Carregado localmente"),w(100),setTimeout(()=>x(!0),500)})()},[]),M.useEffect(()=>{if(d&&g&&(r.length>0||e.length>0||c.length>0)){const L=setTimeout(()=>{kS(r,i,s,e,c).catch(P=>console.error("Auto-save failed",P))},2e3);return()=>clearTimeout(L)}},[r,i,s,e,c,d,g]),M.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(r))},[r]),M.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(s))},[s]),M.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(i))},[i]),M.useEffect(()=>{localStorage.setItem("vendas_ai_files",JSON.stringify(c))},[c]),M.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(e))},[e]),{masterClientList:r,setMasterClientList:n,products:i,setProducts:a,categories:s,setCategories:o,uploadedFiles:c,setUploadedFiles:u,isFirebaseConnected:d,isDataLoaded:g,loadingProgress:_,loadingMessage:T}},M8e=(e,t,r,n)=>{const[i,a]=M.useState(""),[s,o]=M.useState("Todas"),[c,u]=M.useState("Todos"),[d,h]=M.useState("Todas"),[g,x]=M.useState("Todos"),[_,w]=M.useState("Todos"),[T,C]=M.useState("Todos"),[L,P]=M.useState("Todos"),[D,F]=M.useState(!1),[R,I]=M.useState(""),[k,O]=M.useState(""),[B,V]=M.useState("Todos"),[j,G]=M.useState("Todos"),[de,ge]=M.useState(""),[ie,fe]=M.useState(!1),ue=M.useMemo(()=>{if(!r)return[];let K=[];return CA(r.role)?_!=="Todos"?K=e.filter(pe=>pe.salespersonId===_):K=e:K=e.filter(pe=>pe.salespersonId===r.id),K},[r,e,_]),ae=M.useMemo(()=>ue.filter(K=>{const pe=s==="Todas"||K.region===s,xe=c==="Todos"||K.state===c,ke=d==="Todas"||K.city===d,le=g==="Todos"||Array.isArray(K.category)&&K.category.includes(g);let ve=!0;if(r&&CA(r.role)&&T!=="Todos"){const Le=t.find(Xe=>Xe.id===K.salespersonId);(!Le||Le.salesCategory!==T)&&(ve=!1)}const Fe=(i||"").toLowerCase(),W=i===""||(K.companyName||"").toLowerCase().includes(Fe)||K.ownerName&&(K.ownerName||"").toLowerCase().includes(Fe);let Je=!0;const Be=(de||"").toLowerCase(),We=L==="Todos"||K.mainCnae&&K.mainCnae.includes(L)||K.secondaryCnaes&&K.secondaryCnaes.some(Le=>Le.includes(L));if(B!=="Todos"||j!=="Todos"||Be!=="")if(!K.purchasedProducts||K.purchasedProducts.length===0)Je=!1;else{const Le=B==="Todos"||K.purchasedProducts.some(kt=>(kt.category||"")===B),Xe=j==="Todos"||K.purchasedProducts.some(kt=>(kt.sku||"")===j),tt=Be===""||K.purchasedProducts.some(kt=>(kt.name||"").toLowerCase().includes(Be)||(kt.sku||"").toLowerCase().includes(Be)||(kt.brand||"").toLowerCase().includes(Be)||(kt.category||"").toLowerCase().includes(Be)||(kt.factoryCode||"").toLowerCase().includes(Be)||(kt.price||0).toString().includes(Be)),pt=!R||!k||K.purchasedProducts.some(kt=>{if(!kt.purchaseDate)return!1;const qr=new Date(kt.purchaseDate),Vr=new Date(R),bt=new Date(k);return Vr.setHours(0,0,0,0),bt.setHours(23,59,59,999),qr>=Vr&&qr<=bt});Je=Le&&Xe&&tt&&pt}const $e=!D||K.purchasedProducts&&K.purchasedProducts.length>0;return pe&&xe&&ke&&le&&W&&Je&&ve&&$e&&We}),[ue,s,c,d,g,L,i,B,j,de,T,D,t,r,R,k]),_e=M.useMemo(()=>{let K=ue;s!=="Todas"&&(K=K.filter(xe=>xe.region===s));const pe=new Set(K.map(xe=>xe.state).filter(Boolean));return Array.from(pe).sort()},[ue,s]),X=M.useMemo(()=>{let K=ue;if(s!=="Todas"&&(K=K.filter(xe=>xe.region===s)),c!=="Todos")K=K.filter(xe=>xe.state===c);else return[];const pe=new Set(K.map(xe=>xe.city).filter(Boolean));return Array.from(pe).sort()},[ue,s,c]),z=M.useMemo(()=>{const K=new Set(n.map(pe=>pe.category));return Array.from(K).sort()},[n]),te=M.useMemo(()=>{const K=new Set;return ue.forEach(pe=>{pe.mainCnae&&K.add(pe.mainCnae),pe.secondaryCnaes&&pe.secondaryCnaes.forEach(xe=>K.add(xe))}),Array.from(K).sort()},[ue]);return{searchQuery:i,setSearchQuery:a,filterRegion:s,setFilterRegion:o,filterState:c,setFilterState:u,filterCity:d,setFilterCity:h,filterCategory:g,setFilterCategory:x,filterSalespersonId:_,setFilterSalespersonId:w,filterSalesCategory:T,setFilterSalesCategory:C,filterCnae:L,setFilterCnae:P,filterProductCategory:B,setFilterProductCategory:V,filterProductSku:j,setFilterProductSku:G,searchProductQuery:de,setSearchProductQuery:ge,showProductSuggestions:ie,setShowProductSuggestions:fe,filterOnlyWithPurchases:D,setFilterOnlyWithPurchases:F,startDate:R,setStartDate:I,endDate:k,setEndDate:O,filteredClients:ae,visibleClients:ue,availableStates:_e,availableCities:X,availableCnaes:te,productCategories:z,resetFilters:()=>{a(""),o("Todas"),u("Todos"),h("Todas"),w("Todos"),C("Todos"),P("Todos"),V("Todos"),G("Todos"),ge(""),F(!1),I(""),O("")}}},D8e=({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,type:a="info",confirmLabel:s="Confirmar",cancelLabel:o="Cancelar",icon:c})=>{if(!e)return null;const u=()=>{if(c)return v.jsx(c,{className:"w-8 h-8"});switch(a){case"success":return v.jsx(tU,{className:"w-8 h-8 text-green-600"});case"error":return v.jsx(Ki,{className:"w-8 h-8 text-red-600"});case"warning":return v.jsx(Ki,{className:"w-8 h-8 text-amber-600"});case"confirm":return v.jsx(kJ,{className:"w-8 h-8 text-blue-600"});default:return v.jsx(aU,{className:"w-8 h-8 text-blue-600"})}},h=(()=>{switch(a){case"success":return{bg:"bg-green-50",border:"border-green-100",text:"text-green-800"};case"error":return{bg:"bg-red-50",border:"border-red-100",text:"text-red-800"};case"warning":return{bg:"bg-amber-50",border:"border-amber-100",text:"text-amber-800"};case"confirm":return{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800"};default:return{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800"}}})(),g=()=>Array.isArray(i)?v.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:i.map((x,_)=>v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),x]},_))}):v.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i});return v.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[v.jsx("div",{className:"bg-blue-600 h-2 w-full"}),v.jsxs("div",{className:"p-8",children:[v.jsx("div",{className:"flex justify-center mb-6",children:v.jsx("div",{className:`w-16 h-16 ${h.bg} rounded-2xl flex items-center justify-center ring-4 ring-white shadow-sm`,children:u()})}),v.jsx("div",{className:"text-center mb-6",children:v.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:n})}),v.jsx("div",{className:`${h.bg} ${h.border} border rounded-2xl p-5 mb-8`,children:g()}),v.jsxs("div",{className:"flex gap-3",children:[(r||a==="confirm")&&v.jsx("button",{onClick:t,className:"flex-1 py-3.5 px-4 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-all active:scale-95",children:o}),v.jsx("button",{onClick:()=>{r&&r(),t()},className:`flex-1 py-3.5 px-4 rounded-xl text-sm font-bold text-white transition-all shadow-md active:scale-95 flex items-center justify-center gap-2
                                ${a==="error"?"bg-red-600 hover:bg-red-700":a==="success"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:s})]})]})]})})},F8e=({clients:e,users:t,startDate:r,endDate:n,onRangeChange:i})=>{const a=M.useMemo(()=>{const u=[];return e.forEach(d=>{d.purchasedProducts&&d.purchasedProducts.forEach(h=>{const g=h.purchaseDate;r&&g<r||n&&g>n||u.push({...h,clientName:d.companyName,clientId:d.id})})}),u.sort((d,h)=>(h.purchaseDate||"").localeCompare(d.purchaseDate||""))},[e,r,n]),s=M.useMemo(()=>{const u=a.reduce((g,x)=>g+(x.totalValue||x.price*(x.quantity||1)),0),d=new Set(a.map(g=>g.clientId)).size,h=a.reduce((g,x)=>g+(x.quantity||1),0);return{totalValue:u,uniqueClients:d,totalItems:h}},[a]),o=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),c=u=>{try{return u.split("-").reverse().join("/")}catch{return u}};return v.jsxs("div",{className:"flex flex-col h-full bg-gray-50 p-4 overflow-hidden",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[v.jsx(lU,{className:"text-primary w-6 h-6"}),"Histrico Mgico de Vendas"]}),v.jsx("p",{className:"text-sm text-gray-500",children:"Analise compras por anos, meses, semanas e dias"})]}),v.jsxs("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-gray-100 flex items-center gap-3",children:[v.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase ml-2",children:"Filtrar Perodo:"}),v.jsx(e$,{startDate:r,endDate:n,onRangeChange:i})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[v.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-full flex items-center justify-center text-green-600",children:v.jsx(rU,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Volume Total"}),v.jsx("p",{className:"text-xl font-bold text-gray-800",children:o(s.totalValue)})]})]}),v.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600",children:v.jsx(ro,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total de Itens"}),v.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[s.totalItems," un."]})]})]}),v.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-full flex items-center justify-center text-purple-600",children:v.jsx(Ma,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Clientes Atendidos"}),v.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[s.uniqueClients," empresas"]})]})]})]}),v.jsx("div",{className:"flex-1 bg-white rounded-2xl shadow-sm border border-gray-100 flex flex-col overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[v.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Data"}),v.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Cliente"}),v.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"SKU / Produto"}),v.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Qtd"}),v.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase text-right",children:"Valor Total"})]})}),v.jsx("tbody",{className:"divide-y divide-gray-50",children:a.length>0?a.map((u,d)=>v.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Hp,{className:"w-4 h-4 text-gray-300"}),v.jsx("span",{className:"text-sm font-medium text-gray-700",children:c(u.purchaseDate)})]})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("p",{className:"text-sm font-bold text-gray-800 truncate max-w-[200px]",title:u.clientName,children:u.clientName})}),v.jsx("td",{className:"px-6 py-4",children:v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs font-bold text-primary",children:u.sku}),v.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[250px]",title:u.name,children:u.name})]})}),v.jsx("td",{className:"px-6 py-4",children:v.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.quantity||1})}),v.jsx("td",{className:"px-6 py-4 text-right",children:v.jsx("span",{className:"text-sm font-bold text-gray-900",children:o(u.totalValue||u.price*(u.quantity||1))})})]},d)):v.jsx("tr",{children:v.jsx("td",{colSpan:5,className:"py-20 text-center",children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx(Hp,{className:"w-12 h-12 text-gray-200 mb-2"}),v.jsx("p",{className:"text-gray-400 font-medium",children:"Nenhuma venda encontrada para o perodo"}),v.jsx("p",{className:"text-xs text-gray-400",children:"Tente expandir o filtro de datas"})]})})})})]})})})]})},L8e=({currentUser:e,allUsers:t,conversations:r,messages:n,activeUserId:i,onSelectUser:a,onSendMessage:s,onClose:o})=>{const[c,u]=M.useState(""),[d,h]=M.useState(""),[g,x]=M.useState("conversations"),_=M.useRef(null),w=t.find(R=>R.id===i),T=(e.role==="admin_dev"||e.role==="admin")&&i,C=n.filter(R=>i?e.role==="admin_dev"||e.role==="admin"?R.senderId===i||R.receiverId===i:R.senderId===e.id&&R.receiverId===i||R.senderId===i&&R.receiverId===e.id:!1),L=t.filter(R=>R.id!==e.id&&(R.name.toLowerCase().includes(d.toLowerCase())||R.username.toLowerCase().includes(d.toLowerCase())));M.useEffect(()=>{_.current?.scrollIntoView({behavior:"smooth"})},[C]);const P=()=>{c.trim()&&i&&(s(i,c.trim()),u(""))},D=R=>R.charAt(0).toUpperCase(),F=R=>new Date(R).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return v.jsxs("div",{className:"flex flex-col h-full bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:[v.jsxs("div",{className:"p-4 bg-slate-800 text-white flex items-center justify-between shadow-md",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[i?v.jsx("button",{onClick:()=>a(""),className:"hover:bg-slate-700 p-1 rounded-full transition-colors md:hidden",title:"Voltar para lista de conversas",children:v.jsx(yA,{className:"w-5 h-5"})}):v.jsx(EA,{className:"w-6 h-6 text-blue-400"}),v.jsxs("div",{children:[v.jsx("h2",{className:"font-bold text-sm",children:i?w?.name:"Mensagens Internas"}),v.jsx("p",{className:"text-[10px] text-slate-300",children:i?w?.role:"Conectado como "+e.name})]})]}),o&&v.jsx("button",{onClick:o,className:"text-slate-400 hover:text-white transition-colors",title:"Fechar chat",children:v.jsx(RJ,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsxs("div",{className:`w-full md:w-80 border-r border-slate-100 flex flex-col ${i?"hidden md:flex":"flex"}`,children:[v.jsxs("div",{className:"p-3 bg-slate-50 border-b border-slate-200",children:[v.jsxs("div",{className:"relative",children:[v.jsx(zo,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),v.jsx("input",{type:"text",value:d,onChange:R=>h(R.target.value),placeholder:"Buscar colega...",className:"w-full pl-9 pr-3 py-2 bg-white border border-slate-200 rounded-full text-xs focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),v.jsxs("div",{className:"flex mt-3 bg-slate-200 p-1 rounded-lg",children:[v.jsx("button",{onClick:()=>x("conversations"),className:`flex-1 py-1.5 text-[10px] font-bold rounded-md transition-all ${g==="conversations"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Conversas"}),v.jsxs("button",{onClick:()=>x("users"),className:`flex-1 py-1.5 text-[10px] font-bold rounded-md transition-all ${g==="users"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:["Contatos (",t.length-1,")"]})]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar",children:g==="conversations"?r.length>0?r.map(R=>{const I=t.find(k=>k.id===R.userId);return I?v.jsxs("button",{onClick:()=>a(R.userId),className:`w-full p-4 flex items-center gap-3 border-b border-slate-50 transition-colors hover:bg-slate-50 ${i===R.userId?"bg-blue-50/50":""}`,children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white text-xs shadow-sm ${I.role.includes("admin")?"bg-tertiary":"bg-secondary"}`,children:I.photoURL?v.jsx("img",{src:I.photoURL,alt:"",className:"w-full h-full object-cover rounded-full"}):v.jsx("span",{children:D(I.name)})}),v.jsxs("div",{className:"flex-1 text-left min-w-0",children:[v.jsxs("div",{className:"flex justify-between items-baseline mb-0.5",children:[v.jsx("h4",{className:"font-bold text-xs text-slate-800 truncate",children:I.name}),R.lastMessage&&v.jsx("span",{className:"text-[9px] text-slate-400",children:F(R.lastMessage.timestamp)})]}),v.jsxs("p",{className:"text-[10px] text-slate-500 truncate flex items-center gap-1",children:[R.lastMessage?.senderId===e.id&&v.jsx(uh,{className:"w-3 h-3"}),R.lastMessage?.text||"Sem mensagens..."]})]}),R.unreadCount>0&&v.jsx("div",{className:"bg-blue-600 text-white text-[9px] font-black h-5 w-5 rounded-full flex items-center justify-center shadow-md animate-pulse",children:R.unreadCount})]},R.userId):null}):v.jsxs("div",{className:"p-8 text-center",children:[v.jsx(EA,{className:"w-8 h-8 text-slate-300 mx-auto mb-3"}),v.jsx("p",{className:"text-xs text-slate-400",children:"Nenhuma conversa ativa."}),v.jsx("button",{onClick:()=>x("users"),className:"mt-2 text-xs font-bold text-blue-500",children:"Ver contatos"})]}):L.map(R=>v.jsxs("button",{onClick:()=>a(R.id),className:`w-full p-4 flex items-center gap-3 border-b border-slate-50 transition-colors hover:bg-slate-50 ${i===R.id?"bg-blue-50/50":""}`,children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white text-xs shadow-sm ${R.role.includes("admin")?"bg-tertiary":"bg-secondary"}`,children:R.photoURL?v.jsx("img",{src:R.photoURL,alt:"",className:"w-full h-full object-cover rounded-full"}):v.jsx("span",{children:D(R.name)})}),v.jsxs("div",{className:"flex-1 text-left",children:[v.jsx("h4",{className:"font-bold text-xs text-slate-800",children:R.name}),v.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-medium",children:R.role.replace("_"," ")})]})]},R.id))})]}),v.jsx("div",{className:`flex-1 flex flex-col bg-slate-50 ${i?"flex":"hidden md:flex"}`,children:i?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[C.map((R,I)=>{const k=R.senderId===e.id,O=R.senderId===e.id&&R.receiverId===i||m.senderId===i&&m.receiverId===e.id;return v.jsx("div",{className:`flex ${k?"justify-end":"justify-start"} animate-fade-in`,children:v.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 shadow-sm ${k?"bg-blue-600 text-white rounded-tr-none":T&&!O?"bg-slate-200 text-slate-700 border-dashed border-slate-400":"bg-white text-slate-800 rounded-tl-none border border-slate-100"}`,children:[T&&!k&&v.jsxs("p",{className:"text-[9px] font-black uppercase mb-1 opacity-60",children:[t.find(B=>B.id===R.senderId)?.name||"Outro","  ",t.find(B=>B.id===R.receiverId)?.name||"Outro"]}),v.jsx("p",{className:"text-sm whitespace-pre-wrap",children:R.text}),v.jsxs("div",{className:`flex items-center gap-1 mt-1 justify-end ${k?"text-blue-100":"text-slate-400"}`,children:[v.jsx("span",{className:"text-[9px]",children:F(R.timestamp)}),k&&(R.read?v.jsx(bJ,{className:"w-3 h-3"}):v.jsx(uh,{className:"w-3 h-3"}))]})]})},R.id||I)}),v.jsx("div",{ref:_})]}),v.jsx("div",{className:"p-4 bg-white border-t border-slate-200",children:v.jsxs("form",{onSubmit:R=>{R.preventDefault(),P()},className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",value:c,onChange:R=>u(R.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-2 bg-slate-50 border border-slate-200 rounded-full text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"}),v.jsx("button",{type:"submit",disabled:!c.trim(),className:"p-2.5 bg-blue-600 text-white rounded-full shadow-md hover:bg-blue-700 disabled:bg-slate-300 disabled:shadow-none transition-all active:scale-95",title:"Enviar mensagem",children:v.jsx(NX,{className:"w-5 h-5"})})]})})]}):v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center text-slate-400",children:[v.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6 border border-slate-200",children:v.jsx(Kp,{className:"w-10 h-10 text-slate-300"})}),v.jsx("h3",{className:"text-lg font-bold text-slate-600 mb-2",children:"Seu Central de Comunicao"}),v.jsx("p",{className:"text-sm max-w-xs leading-relaxed",children:"Selecione um colega de equipe na lista ao lado para iniciar uma conversa em tempo real."})]})})]})]})},j8e=(e,t)=>{const[r,n]=M.useState([]),[i,a]=M.useState([]),[s,o]=M.useState(null);M.useEffect(()=>{if(!e)return;const d=EEe(h=>{const g=e.role==="admin_dev"||e.role==="admin",x=h.filter(_=>g||_.senderId===e.id||_.receiverId===e.id);n(x)});return()=>d()},[e]),M.useEffect(()=>{if(!e)return;const d=new Map;e.role==="admin_dev"||e.role,t.forEach(h=>{h.id!==e.id&&d.set(h.id,{userId:h.id,unreadCount:0})}),r.forEach(h=>{const g=h.senderId===e.id?h.receiverId:(h.receiverId===e.id,h.senderId),x=d.get(g);x&&((!x.lastMessage||h.timestamp>x.lastMessage.timestamp)&&(x.lastMessage=h),!h.read&&h.receiverId===e.id&&x.unreadCount++)}),a(Array.from(d.values()).sort((h,g)=>{const x=h.lastMessage?.timestamp||"";return(g.lastMessage?.timestamp||"").localeCompare(x)}))},[r,e,t]);const c=M.useCallback(async(d,h)=>{if(!e)return;const g={senderId:e.id,receiverId:d,text:h,timestamp:new Date().toISOString(),read:!1};await wEe(g)},[e]),u=M.useCallback(async d=>{if(!e)return;const h=r.filter(g=>g.senderId===d&&g.receiverId===e.id&&!g.read);for(const g of h)await TEe(g.id)},[e,r]);return{messages:r,conversations:i,activeConversationId:s,setActiveConversationId:o,sendMessage:c,markAsRead:u,totalUnread:i.reduce((d,h)=>d+h.unreadCount,0)}},U8e=()=>{const{users:e,setUsers:t,currentUser:r,login:n,logout:i,addUser:a,updateUser:s,deleteUser:o}=cW(),{masterClientList:c,setMasterClientList:u,products:d,setProducts:h,categories:g,setCategories:x,uploadedFiles:_,setUploadedFiles:w,isFirebaseConnected:T,isDataLoaded:C,loadingProgress:L,loadingMessage:P}=O8e(e,t),{searchQuery:D,setSearchQuery:F,filterRegion:R,setFilterRegion:I,filterState:k,setFilterState:O,filterCity:B,setFilterCity:V,filterCategory:j,setFilterCategory:G,filterSalespersonId:de,setFilterSalespersonId:ge,filterSalesCategory:ie,setFilterSalesCategory:fe,filterCnae:ue,setFilterCnae:ae,filterProductCategory:_e,setFilterProductCategory:X,filterProductSku:z,setFilterProductSku:te,searchProductQuery:Z,setSearchProductQuery:K,showProductSuggestions:pe,setShowProductSuggestions:xe,filteredClients:ke,visibleClients:le,availableStates:ve,availableCities:Fe,availableCnaes:W,productCategories:Je,filterOnlyWithPurchases:Be,setFilterOnlyWithPurchases:We,startDate:$e,setStartDate:Le,endDate:Xe,setEndDate:tt,resetFilters:pt}=M8e(c,e,r,d),{messages:kt,conversations:qr,activeConversationId:Vr,setActiveConversationId:bt,sendMessage:_r,markAsRead:Kt,totalUnread:Tr}=j8e(r,e),[dt,Mt]=M.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[Et,rr]=M.useState(()=>{const ce="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Gemini API Key Source:","FOUND","(first 10 chars):",ce?.substring(0,10)+"..."),ce}),[Ht,Vt]=M.useState(()=>{const ce="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Maps API Key Source:","FOUND","(first 10 chars):",ce?.substring(0,10)+"..."),ce}),[br,_i]=M.useState(0),[gt,ya]=M.useState("map"),[xo,il]=M.useState(!1),[xa,_o]=M.useState(!1),[Zr,ni]=M.useState(!1),[$a,_a]=M.useState(void 0),[_u,bo]=M.useState(!1),[ba,wa]=M.useState(!1),bu="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw",[bi,Ha]=M.useState({isOpen:!1,title:"",message:"",type:"info"}),Fi=(ce,Me,Ke="info")=>{Ha({isOpen:!0,title:ce,message:Me,type:Ke,confirmLabel:"Entendi"})},Qi=(ce,Me,Ke,rt)=>{Ha({isOpen:!0,title:ce,message:Me,type:"confirm",onConfirm:Ke,confirmLabel:rt?.confirm||"Confirmar",cancelLabel:rt?.cancel||"Cancelar"})},Rn=M.useRef(!1),Y=ce=>{dt.isActive&&dt.status==="processing"?Qi("Parar Envio?",["Gostaria de parar de enviar o arquivo?","O progresso atual ser perdido."],()=>{Rn.current=!0,ya(ce)},{confirm:"Parar Envio",cancel:"Continuar"}):ya(ce)},[se,Q]=M.useState(""),[re,ne]=M.useState(!1),oe=()=>{Qi("Remover Clientes Duplicados?",["Esta ao ir identificar clientes com mesmo nome e endereo.","Manteremos apenas 1 registro de cada e atualizaremos a contagem total."],()=>{const ce=new Map,Me=[];let Ke=0;if(c.forEach(rt=>{const vt=`${rt.companyName||""}-${rt.cleanAddress||""}`.toLowerCase().trim();ce.has(vt)?Ke++:(ce.set(vt,rt),Me.push(rt))}),Ke===0){Fi("Sucesso","Nenhum cliente duplicado encontrado!","success");return}u(Me),Fi("Limpeza Concluda!",[`${Ke} clientes duplicados removidos.`,`Total anterior: ${c.length}`,`Total atual: ${Me.length}`],"success")})},Ee=async()=>{if(c.length===0){Fi("Aviso","Nenhum cliente na base para atualizar.","warning");return}Qi("Iniciar Atualizao em Massa?",["Este processo utilizar sua API CNPJa para:"," Buscar CNPJs faltantes via Razo Social"," Atualizar CNAEs (Atividade Econmica)"," Telefones, Endereos e Georreferenciamento",`Total de clientes: ${c.length}`],async()=>{Mt({isActive:!0,current:0,total:c.length,status:"processing",fileName:"Enriquecimento de Base (CNPJa Comercial)",ownerName:r?.name||"Sistema"});const ce=wV(3);let Me=0,Ke=0;const rt=c.map((vt,Ft)=>ce(async()=>{try{let Tt=vt.cnpj?.replace(/\D/g,"");if(!Tt||Tt.length!==14){const mt=await Wve({filtros:vt.companyName,uf:vt.state});mt&&mt.length>0&&(Tt=mt[0].taxId)}if(Tt&&Tt.length===14){const mt=await W1(Tt);if(mt){const Dt=mt.logradouro&&mt.numero;u(zt=>zt.map(Ct=>Ct.id===vt.id?{...Ct,cnpj:mt.cnpj,companyName:mt.nome_fantasia||mt.razao_social||Ct.companyName,contact:mt.ddd_telefone_1||Ct.contact,cleanAddress:Dt?`${mt.logradouro}, ${mt.numero}, ${mt.municipio} - ${mt.uf}`:Ct.cleanAddress,originalAddress:Dt?`${mt.logradouro}, ${mt.numero}${mt.complemento?` - ${mt.complemento}`:""}, ${mt.bairro}, ${mt.municipio} - ${mt.uf}`:Ct.originalAddress,mainCnae:mt.cnae_fiscal||Ct.mainCnae,secondaryCnaes:mt.cnaes_secundarios?.map(Zt=>`${Zt.codigo} - ${Zt.texto}`)||Ct.secondaryCnaes||[],lat:mt.latitude||Ct.lat,lng:mt.longitude||Ct.lng,googleMapsUri:mt.latitude?`https://www.google.com/maps?q=${mt.latitude},${mt.longitude}`:Ct.googleMapsUri}:Ct)),Me++}}}catch(Tt){console.error(`Erro ao atualizar cliente ${vt.companyName}:`,Tt),Ke++,Tt.message&&(Tt.message.includes("401")||Tt.message.toLowerCase().includes("chave de api cnpja invlida"))&&(Rn.current=!0,Mt(mt=>({...mt,status:"error",errorMessage:"Autenticao CNPJa falhou. Chave invlida ou expirada."})),wa(!0))}finally{Mt(Tt=>({...Tt,current:Ft+1}))}}));await Promise.all(rt),Mt(vt=>({...vt,status:"completed"})),Fi("Atualizao Concluda!",[`Sucesso: ${Me} clientes`,`Erros/No localizados: ${Ke+(c.length-Me-Ke)}`,"Sua base de dados agora est enriquecida!"],"success"),setTimeout(()=>{Mt(vt=>({...vt,isActive:!1}))},3e3)})},Oe=ce=>{g.includes(ce)||x([...g,ce])},Te=ce=>{x(g.filter(Me=>Me!==ce))},Ne=ce=>{h(Me=>{const Ke=[...Me,...ce];return gr(c,Ke),Ke})},Se=ce=>{h(ce)},qe=()=>{h([]),u(ce=>ce.map(Me=>({...Me,purchasedProducts:[]})))},Ye=()=>{Qi("Limpar TODOS os Clientes?",[" ATENO: Esta ao remover TODOS os clientes do sistema."," Limpeza da listagem de arquivos e reset de contadores."," Vendedores, produtos e categorias NO sero afetados."],()=>{u([]),w(ce=>ce.filter(Me=>Me.type!=="clients")),Fi("Sucesso","Base de clientes limpa com sucesso!","success")})},Qe=async ce=>{for(const Me of ce){const Ke=Me?.trim();if(Ke)try{const rt=await _V(Ke,Ht||"");if(rt)return rt}catch(rt){console.warn(`Geocoding failed for ${Ke}:`,rt)}}return null},Ge=async()=>{const ce=c.filter(Me=>!Me.plusCode&&Me.lat&&Me.lng&&Me.lat!==0);if(ce.length===0){Fi("Aviso","Todos os clientes com coordenadas j possuem Plus Code!","info");return}Qi("Gerar Plus Codes?",[`Deseja gerar Plus Codes para ${ce.length} clientes?`,"Isso utilizar a cota da API de Geocoding do Google."],async()=>{Mt({isActive:!0,current:0,total:ce.length,status:"processing",fileName:"Gerao de Plus Codes",ownerName:r?.name||"Sistema"});let Me=0;const Ke=[...c];for(let rt=0;rt<ce.length&&!Rn.current;rt++){const vt=ce[rt];try{const Ft=await q0(vt.lat,vt.lng,Ht||"");if(Ft){const Tt=Ke.findIndex(mt=>mt.id===vt.id);Tt!==-1&&(Ke[Tt]={...Ke[Tt],plusCode:Ft},Me++)}}catch(Ft){console.error(`Error generating Plus Code for ${vt.companyName}:`,Ft)}Mt(Ft=>({...Ft,current:rt+1}))}u(Ke),Mt(rt=>({...rt,status:"completed",isActive:!0})),Rn.current=!1,Fi("Sucesso",`Processo concludo! ${Me} Plus Codes gerados.`,"success")})},Ze=async ce=>{const Me=c.find(Dt=>Dt.id===ce.id);let Ke={...ce};const rt=Me&&Me.cleanAddress!==ce.cleanAddress,vt=Me&&Me.plusCode!==ce.plusCode,Ft=Me&&(Me.lat!==ce.lat||Me.lng!==ce.lng),Tt=ce.lat===0||ce.lng===0;if(!(Ft&&!Tt)&&(rt||vt||Tt)){const Dt=[ce.cleanAddress,ce.district,ce.city,ce.state,ce.zip,ce.region,ce.country||"Brasil"].filter(Boolean).join(", "),zt=await Qe([ce.plusCode,Dt,ce.cleanAddress,ce.originalAddress]);if(zt&&(Ke.lat=zt.lat,Ke.lng=zt.lng,zt.formattedAddress&&(Ke.cleanAddress=zt.formattedAddress),!Ke.plusCode)){const Ct=await q0(Ke.lat,Ke.lng,Ht||"");Ct&&(Ke.plusCode=Ct)}}else if(!Ke.plusCode&&Ke.lat&&Ke.lng){const Dt=await q0(Ke.lat,Ke.lng,Ht||"");Dt&&(Ke.plusCode=Dt)}u(Dt=>Dt.map(zt=>zt.id===Ke.id?Ke:zt))},lt=async ce=>{let Me={...ce,id:ce.id||crypto.randomUUID(),lat:ce.lat||0,lng:ce.lng||0};if(!Me.lat||!Me.lng||Me.lat===0){const Ke=await Qe([Me.plusCode,Me.cleanAddress,Me.originalAddress]);if(Ke){if(Me.lat=Ke.lat,Me.lng=Ke.lng,Ke.formattedAddress&&(Me.cleanAddress=Ke.formattedAddress),console.log(`[APP] Geocoding for manual client successful: ${Me.lat}, ${Me.lng}`),!Me.plusCode){const rt=await q0(Me.lat,Me.lng,Ht||"");rt&&(Me.plusCode=rt)}}else console.warn(`[APP] Geocoding for manual client FAILED: ${Me.companyName}`)}else if(!Me.plusCode&&Me.lat&&Me.lng){const Ke=await q0(Me.lat,Me.lng,Ht||"");Ke&&(Me.plusCode=Ke)}u(Ke=>[...Ke,Me]),setTimeout(()=>{const Ke=document.querySelector(".overflow-y-auto");Ke&&(Ke.scrollTop=Ke.scrollHeight)},100)},gr=(ce,Me)=>{if(Me.length===0)return;const Ke=ce.map(rt=>{if(rt.purchasedProducts&&rt.purchasedProducts.length>0)return rt;let vt=Me.filter(Dt=>(rt.category||[]).some(zt=>(Dt.category||"").toLowerCase().includes((zt||"").toLowerCase())||(zt||"").toLowerCase().includes((Dt.category||"").toLowerCase())));vt.length===0&&(vt=Me);const Ft=Math.floor(Math.random()*5)+1,mt=[...vt].sort(()=>.5-Math.random()).slice(0,Ft);return{...rt,purchasedProducts:mt.map(Dt=>({...Dt,purchaseDate:new Date().toISOString()}))}});u(Ke)},vr=async()=>{bo(!0)},Ar=ce=>{ce&&ce.trim()&&(Vt(ce.trim()),localStorage.setItem("google_maps_api_key",ce.trim()),_i(Me=>Me+1),bo(!1))},ii=ce=>{if(n(ce),pt(),Y("map"),ne(!1),SA(ce.role)){const Me=e.find(Ke=>zd(Ke.role));Me&&Q(Me.id)}},Ga=ce=>{localStorage.setItem("cnpja_api_key",ce),wa(!1),Fi("Sucesso","Chave CNPJa atualizada! Tente realizar a consulta novamente.","success")},qa=()=>{if(dt.isActive&&dt.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))Rn.current=!0;else return;i(),pt()},ea=async(ce,Me,Ke=!1)=>{const rt=e.find(Tt=>Tt.id===Me),vt=rt?rt.name:"Desconhecido";if(c.length>0&&!Ke&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const Ft=crypto.randomUUID();Mt({isActive:!0,total:0,current:0,fileName:ce.name,ownerName:vt,status:"reading"}),Rn.current=!1;try{let Tt=[];const mt=ce.name.toLowerCase();if(console.log(`Processing file: ${ce.name}, Lower: ${mt}`),mt.endsWith(".csv"))console.log("Selected Parser: CSV"),Tt=await Ire(ce);else if(mt.endsWith(".xlsx")||mt.endsWith(".xls"))console.log("Selected Parser: Excel"),Tt=await Ofe(ce);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",Tt.length),Tt.length>0&&console.log("Sample Parsed Item:",Tt[0]),Tt.length===0)throw new Error("Arquivo vazio.");const Dt={id:Ft,fileName:ce.name,uploadDate:new Date().toISOString(),salespersonId:Me,salespersonName:vt,type:"clients",itemCount:Tt.length,status:"processing"};try{const Zt=new Date().getTime(),On=`uploads/clients/${Me}/${Zt}_${ce.name}`,Qt=await PE(ce,On);Qt&&(Dt.storageUrl=Qt,console.log(`[APP] CSV file uploaded to Storage: ${Qt}`))}catch(Zt){console.error("[APP] Failed to upload file to Storage:",Zt)}w(Zt=>[Dt,...Zt]),Mt(Zt=>({...Zt,total:Tt.length,status:"processing"}));const Ct=(await eye(Tt,Me,Et,Ht,g,(Zt,On)=>{if(Rn.current)throw new Error("CANCELLED_BY_USER");Mt(Qt=>({...Qt,current:Zt,total:On}))})).map(Zt=>({...Zt,sourceFileId:Ft}));u(Zt=>{const On=[...Zt];return Ct.forEach(Qt=>{const si=Qt.cnpj?.replace(/\D/g,""),ra=On.findIndex(Sr=>{const Ka=Sr.cnpj?.replace(/\D/g,"");return si&&Ka&&si.length===14&&Ka.length===14?si===Ka:Sr.companyName.toLowerCase().trim()===Qt.companyName.toLowerCase().trim()&&Sr.city.toLowerCase().trim()===Qt.city.toLowerCase().trim()});if(ra!==-1){const Sr=On[ra];On[ra]={...Sr,...Qt,ownerName:Qt.ownerName||Sr.ownerName,contact:Qt.contact||Sr.contact,whatsapp:Qt.whatsapp||Sr.whatsapp,cnpj:Qt.cnpj||Sr.cnpj,mainCnae:Qt.mainCnae||Sr.mainCnae,secondaryCnaes:Qt.secondaryCnaes&&Qt.secondaryCnaes.length>0?Qt.secondaryCnaes:Sr.secondaryCnaes,lat:Qt.lat!==0?Qt.lat:Sr.lat,lng:Qt.lng!==0?Qt.lng:Sr.lng,googleMapsUri:Qt.googleMapsUri||Sr.googleMapsUri,plusCode:Qt.plusCode||Sr.plusCode}}else On.push(Qt)}),On}),Mt(Zt=>({...Zt,status:"completed"})),w(Zt=>Zt.map(On=>On.id===Ft?{...On,status:"completed"}:On)),setTimeout(()=>{Mt(Zt=>Zt.status==="completed"?{...Zt,isActive:!1}:Zt)},5e3)}catch(Tt){console.error(Tt);const mt=Tt.message==="CANCELLED_BY_USER",Dt=mt?"Cancelado pelo usurio.":Tt.message||"Erro desconhecido",zt=mt;Mt(Ct=>({...Ct,status:"error",errorMessage:Dt,isActive:!zt})),w(Ct=>Ct.map(Zt=>Zt.id===Ft?{...Zt,status:"error",errorMessage:Dt}:Zt))}},wo=ce=>{const Me=_.find(Ke=>Ke.id===ce);Me&&window.confirm(`Tem certeza que deseja excluir o arquivo "${Me.fileName}"?

Isso remover todos os ${Me.itemCount} registros associados.`)&&(Me.type==="clients"?u(Ke=>Ke.filter(rt=>rt.sourceFileId!==ce)):Me.type==="products"&&h(Ke=>Ke.filter(rt=>rt.sourceFileId!==ce)),w(Ke=>Ke.filter(rt=>rt.id!==ce)))},ai=(ce,Me)=>{const rt=e.find(vt=>vt.id===Me)?.name||"None";w(vt=>vt.map(Ft=>Ft.id===ce?{...Ft,salespersonId:Me,salespersonName:rt}:Ft)),u(vt=>vt.map(Ft=>Ft.sourceFileId===ce?{...Ft,salespersonId:Me}:Ft)),Me?(Y("map"),ge(Me),alert(`Arquivo e ${ke.filter(vt=>vt.sourceFileId===ce).length} clientes reatribudos para: ${rt}

Mapa filtrado automaticamente.`)):(ge("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},ta=async(ce,Me)=>{const Ke=crypto.randomUUID();Mt({isActive:!0,total:0,current:0,fileName:ce.name,ownerName:"Sistema",status:"reading"});try{const rt=await kre(ce);if(rt.length===0)throw new Error("Arquivo vazio ou sem registros vlidos.");const vt=rt.reduce((Dt,zt)=>{const Ct=zt.cnpj?zt.cnpj:(zt.companyName||"").toLowerCase().trim();return Dt[Ct]||(Dt[Ct]=[]),Dt[Ct].push(zt),Dt},{}),Ft=Object.keys(vt);Mt(Dt=>({...Dt,total:Ft.length,status:"processing"}));let Tt=0;u(Dt=>{const zt=[...Dt];return Ft.forEach((Ct,Zt)=>{Mt(ra=>({...ra,current:Zt+1}));const Qt=vt[Ct][0];let si=-1;if(Qt.cnpj&&(si=zt.findIndex(ra=>(ra.cnpj||"").replace(/[.\-\/]/g,"")===Qt.cnpj)),si===-1){const ra=(Qt.companyName||"").toLowerCase().trim();si=zt.findIndex(Sr=>(Sr.companyName||"").toLowerCase().trim()===ra)}if(si!==-1){Tt++;const Sr=vt[Ct].map(fn=>{const oi=d.find(hs=>fn.sku&&hs.sku===fn.sku||hs.name&&fn.name&&(hs.name||"").toLowerCase().trim()===(fn.name||"").toLowerCase().trim());return oi?{...oi,purchaseDate:fn.purchaseDate,quantity:fn.quantity,totalValue:fn.totalValue}:{sku:fn.sku||"N/A",name:fn.name||"Produto Desconhecido",brand:"Desconhecido",category:"Manual",price:fn.price||0,factoryCode:"",purchaseDate:fn.purchaseDate,quantity:fn.quantity,totalValue:fn.totalValue}}),Ka=zt[si].purchasedProducts||[],Ea=Sr.filter(fn=>!Ka.some(oi=>oi.sku===fn.sku&&oi.purchaseDate===fn.purchaseDate));Ea.length>0&&(zt[si]={...zt[si],purchasedProducts:[...Ka,...Ea]})}}),zt});const mt={id:Ke,fileName:ce.name,uploadDate:new Date().toISOString(),salespersonId:Me,salespersonName:e.find(Dt=>Dt.id===Me)?.name||"Vendedor",type:"purchases",itemCount:rt.length,status:"completed"};try{const zt=`uploads/purchases/${new Date().getTime()}_${ce.name}`;await PE(ce,zt).then(Ct=>{Ct&&(mt.storageUrl=Ct)})}catch(Dt){console.error("[APP] Failed to upload purchase file to Storage:",Dt)}w(Dt=>[mt,...Dt]),Mt({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(` Atualizao de Compras concluda!

${Tt} clientes identificados e com histrico renovado.`)}catch(rt){console.error(rt),Mt(vt=>({...vt,status:"error",errorMessage:rt.message})),w(vt=>[...vt,{id:Ke,fileName:ce.name,uploadDate:new Date().toISOString(),salespersonId:Me,salespersonName:e.find(Ft=>Ft.id===Me)?.name||"Vendedor",type:"purchases",itemCount:0,status:"error",errorMessage:rt.message}])}},cn=async ce=>{const Me=crypto.randomUUID();Mt({isActive:!0,total:0,current:0,fileName:ce.name,ownerName:"Sistema",status:"reading"});try{let Ke=[];const rt=ce.name.toLowerCase();if(rt.endsWith(".csv"))Ke=await HU(ce);else if(rt.endsWith(".xlsx")||rt.endsWith(".xls"))Ke=await SB(ce);else throw new Error("Formato no suportado.");if(Ke.length===0)throw new Error("Arquivo vazio.");Ke=Ke.map(Ft=>({...Ft,sourceFileId:Me}));const vt={id:Me,fileName:ce.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:Ke.length,status:"completed"};try{const Tt=`uploads/products/${new Date().getTime()}_${ce.name}`,mt=await PE(ce,Tt);mt&&(vt.storageUrl=mt)}catch(Ft){console.error("[APP] Failed to upload product file to Storage:",Ft)}w(Ft=>[vt,...Ft]),Ne(Ke),Mt({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${Ke.length} produtos importados com sucesso.`)}catch(Ke){console.error(Ke),Mt(rt=>({...rt,status:"error",errorMessage:Ke.message})),w(rt=>rt.map(vt=>vt.id===Me?{...vt,status:"error",errorMessage:Ke.message}:vt))}},un="6LcyKmUsAAAAAC-uUPRRD2ZMZRJu_dBPUH5Gp4gm";if(console.log("[APP] reCAPTCHA Key Source:","FALLBACK"),console.log("[APP] reCAPTCHA Key (first 10 chars):",un.substring(0,10)+"..."),console.log("[APP] Environment:","production"),!r)return v.jsx(V6,{reCaptchaKey:un,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:v.jsx(qTe,{users:e,onLogin:ii})});const Rr=SA(r.role),nr=CA(r.role),ir=_e!=="Todos"||z!=="Todos"||Z!=="";return C?v.jsxs(V6,{reCaptchaKey:un,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:[v.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[re&&v.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>ne(!1),role:"button",tabIndex:0,"aria-label":"Fechar menu",onKeyDown:ce=>ce.key==="Escape"&&ne(!1)}),v.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${re?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[v.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[v.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[v.jsx(rE,{className:"w-6 h-6"}),"Rota de Vendas"]}),v.jsx("button",{onClick:()=>ne(!1),className:"md:hidden text-on-surface-variant hover:text-primary",title:"Fechar menu lateral",children:v.jsx(La,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"px-6 py-2",children:v.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:Rr?"Painel Administrativo":"Portal do Vendedor"})}),v.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[v.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[v.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),v.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),v.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md overflow-hidden ${Rr?"bg-tertiary":"bg-secondary"}`,children:r.photoURL?v.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):v.jsx("span",{children:r.name.charAt(0)})}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:r.name}),v.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:r.email})]})]})]}),v.jsxs("nav",{className:"space-y-1 mb-8",children:[v.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),v.jsxs("button",{onClick:()=>{ya("map"),ne(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[v.jsx(sX,{className:`w-5 h-5 ${gt==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),Rr&&v.jsxs("button",{onClick:()=>{Y("dashboard"),ne(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="dashboard"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[v.jsx(rE,{className:`w-5 h-5 ${gt==="dashboard"?"fill-current":""}`}),"Dashboard Admin"]}),v.jsxs("button",{onClick:()=>{ya("table"),ne(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[v.jsx(DX,{className:`w-5 h-5 ${gt==="table"?"fill-current":""}`}),"Listagem de Dados"]}),v.jsx("button",{onClick:()=>{ya("history"),ne(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="history"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:"Histrico de Vendas"}),v.jsxs("button",{onClick:()=>{ya("chat"),ne(!1),Vr&&Kt(Vr)},className:`w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="chat"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(EA,{className:`w-5 h-5 ${gt==="chat"?"fill-current":""}`}),"Mensagens Internas"]}),Tr>0&&gt!=="chat"&&v.jsx("div",{className:"bg-error text-white text-[10px] font-black h-5 w-5 rounded-full flex items-center justify-center animate-pulse shadow-sm",children:Tr})]})]}),Rr&&v.jsxs("nav",{className:"space-y-1 mb-8",children:[v.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),v.jsxs("button",{onClick:()=>{Y("admin_users"),ne(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[v.jsx(Kp,{className:`w-5 h-5 ${gt==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),v.jsxs("button",{onClick:()=>{Y("admin_categories"),ne(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[v.jsx(sU,{className:`w-5 h-5 ${gt==="admin_categories"?"fill-current":""}`}),"Categorias"]}),v.jsxs("button",{onClick:()=>{Y("admin_products"),ne(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[v.jsx(ao,{className:`w-5 h-5 ${gt==="admin_products"?"fill-current":""}`}),"Produtos"]}),v.jsxs("button",{onClick:()=>{Y("admin_files"),ne(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${gt==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[v.jsx(Sp,{className:`w-5 h-5 ${gt==="admin_files"?"fill-current":""}`}),"Arquivos"]}),r?.role==="admin_dev"&&v.jsxs("button",{onClick:()=>{ni(!0),ne(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[v.jsx(xA,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),v.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[v.jsxs("button",{onClick:qa,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",title:"Encerrar sesso e sair do sistema",children:[v.jsx(nX,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),v.jsx("div",{className:"text-center mt-4",children:v.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),v.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[v.jsx("button",{onClick:()=>ne(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",title:"Abrir menu",children:v.jsx(uX,{className:"w-6 h-6"})}),v.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[v.jsx(rE,{className:"w-5 h-5"})," Rota de Vendas"]}),v.jsx("div",{className:"w-10"})," "]}),v.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!Rr&&gt==="table"&&v.jsx("button",{onClick:()=>il(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",title:"Adicionar Novo Cliente",children:v.jsx(Kp,{className:"w-6 h-6"})}),v.jsx(XTe,{isOpen:Zr,onClose:()=>ni(!1),onSaveToCloud:()=>{kS(c,d,g,e),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:Ye,isFirebaseConnected:T}),v.jsx(tAe,{isOpen:_u,onClose:()=>bo(!1),onConfirm:Ar,suggestedKey:bu}),v.jsx(rAe,{isOpen:ba,onClose:()=>wa(!1),onConfirm:Ga}),v.jsx(ZTe,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),v.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[v.jsx("span",{children:"Portal"}),v.jsx(eU,{className:"w-4 h-4"}),v.jsx("span",{className:"font-semibold text-blue-600",children:gt==="map"?"Mapa da Carteira":gt==="table"?"Listagem de Clientes":gt==="dashboard"?"Dashboard Administrativo":gt==="admin_categories"?"Categorias de Clientes":gt==="admin_products"?"Catlogo de Produtos":gt==="chat"?"Mensagens Internas":"Gesto de Usurios"})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-xs text-gray-400",children:Rr?"Clientes Visualizados":"Meus Clientes"}),v.jsx("p",{className:"text-lg font-bold leading-none",children:le.length})]}),Rr&&v.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[v.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),v.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:c.length})]})]})]}),gt==="admin_users"&&Rr?v.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:v.jsx(WTe,{currentUser:r,users:e,onAddUser:a,onUpdateUser:s,onDeleteUser:o,onCleanupDuplicates:oe,totalClients:c.length})}):gt==="admin_categories"&&Rr?v.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:v.jsx(YTe,{categories:g,onAddCategory:Oe,onDeleteCategory:Te})}):gt==="admin_products"&&Rr?v.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:v.jsx(JTe,{products:d,onUploadProducts:Ne,onClearProducts:qe,onSaveProducts:Se,apiKey:Et})}):gt==="admin_files"&&Rr?v.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:v.jsx(QTe,{users:e,uploadedFiles:_,onUploadClients:(ce,Me)=>ea(ce,Me),onUploadProducts:cn,onUploadPurchases:ta,onDeleteFile:wo,onReassignSalesperson:ai,procState:dt})}):gt==="chat"&&r?v.jsx("div",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:v.jsx(L8e,{currentUser:r,allUsers:e,conversations:qr,messages:kt,activeUserId:Vr,onSelectUser:ce=>{bt(ce),ce&&Kt(ce)},onSendMessage:_r})}):gt==="dashboard"&&Rr?v.jsx("div",{className:"flex-1 overflow-hidden bg-surface",children:v.jsx(P8e,{clients:ke,products:d,users:e,onClose:()=>ya("map"),searchQuery:D,setSearchQuery:F,filterRegion:R,setFilterRegion:I,filterState:k,setFilterState:O,filterCity:B,setFilterCity:V,filterCategory:j,setFilterCategory:G,filterSalespersonId:de,setFilterSalespersonId:ge,filterSalesCategory:ie,setFilterSalesCategory:fe,filterCnae:ue,setFilterCnae:ae,filterProductCategory:_e,setFilterProductCategory:X,productCategories:Je,startDate:$e,setStartDate:Le,endDate:Xe,setEndDate:tt,availableStates:ve,availableCities:Fe,availableCnaes:W,categories:g,currentUser:r,isAdminUser:Rr,canViewAllData:nr})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-gray-100 px-3 py-2.5 border-b border-gray-200 flex flex-col gap-2",children:[v.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[v.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[v.jsx(U2,{className:"w-4 h-4"}),v.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"Filtros:"})]}),v.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${nr?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[v.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${nr?"text-purple-600":"text-gray-500"}`,title:Rr?"Perfil Administrador":nr?"Perfil Gestor":"Perfil Vendedor",children:[nr?v.jsx(AA,{className:"w-3 h-3"}):v.jsx(Ma,{className:"w-3 h-3"}),Rr?"Admin":nr?"Gesto":"Vendedor"]}),v.jsxs("div",{className:"relative",children:[v.jsx(Ma,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${nr?"text-purple-400":"text-gray-400"}`}),v.jsxs("select",{value:nr?de:r?.id||"",onChange:ce=>nr&&ge(ce.target.value),disabled:!nr,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${nr?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:nr?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[nr&&v.jsx("option",{value:"Todos",children:"Todos Vendedores"}),nr?e.filter(ce=>ce.role==="salesperson"||ce.role==="sales_external"||ce.role==="sales_internal").map(ce=>v.jsx("option",{value:ce.id,children:ce.name},ce.id)):v.jsx("option",{value:r?.id,children:r?.name})]})]}),nr&&v.jsxs("div",{className:"relative animate-fade-in",children:[v.jsx(ss,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),v.jsxs("select",{value:ie,onChange:ce=>fe(ce.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[v.jsx("option",{value:"Todos",children:"Todas Equipes"}),v.jsx("option",{value:"Externo",children:"Externo"}),v.jsx("option",{value:"Interno",children:"Interno"}),v.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),v.jsxs("select",{value:R,onChange:ce=>{I(ce.target.value),O("Todos"),V("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio geogrfica",children:[v.jsx("option",{value:"Todas",children:"Todas Regies"}),fh.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]}),v.jsxs("select",{value:k,onChange:ce=>{O(ce.target.value),V("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:ve.length===0,title:"Filtrar por estado (UF)",children:[v.jsxs("option",{value:"Todos",children:["Todos Estados ",R!=="Todas"?`(${R})`:""]}),ve.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]}),v.jsxs("select",{value:B,onChange:ce=>V(ce.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5 min-w-[100px]",disabled:k==="Todos"||Fe.length===0,title:"Filtrar por cidade",children:[v.jsx("option",{value:"Todas",children:"Todas Cidades"}),Fe.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]}),v.jsxs("div",{className:"flex items-center gap-1 relative",children:[v.jsx(ro,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),v.jsxs("select",{value:j,onChange:ce=>G(ce.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",title:"Filtrar por categoria de cliente",children:[v.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),g.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]})]}),v.jsxs("div",{className:"flex items-center gap-1 relative",children:[v.jsx(ss,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),v.jsxs("select",{value:ue,onChange:ce=>ae(ce.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5 max-w-[200px]",title:"Filtrar por CNAE (Atividade Econmica)",children:[v.jsx("option",{value:"Todos",children:"Todos CNAEs"}),W.map(ce=>v.jsx("option",{value:ce,children:ce.length>40?ce.substring(0,40)+"...":ce},ce))]})]}),v.jsx(e$,{startDate:$e,endDate:Xe,onRangeChange:(ce,Me)=>{Le(ce),tt(Me)},label:"Perodo"})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[v.jsx(ao,{className:"w-4 h-4"}),"Vendas:"]}),v.jsxs("select",{value:_e,onChange:ce=>X(ce.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${_e!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por marca ou categoria de produto",children:[v.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),Je.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]}),v.jsxs("div",{className:"relative animate-fade-in",children:[v.jsx(ro,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${z!=="Todos"?"text-green-600":"text-gray-400"}`}),v.jsxs("select",{value:z,onChange:ce=>te(ce.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${z!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por produto especfico",children:[v.jsx("option",{value:"Todos",children:"Todos Produtos"}),d.filter(ce=>_e==="Todos"||ce.category===_e).sort((ce,Me)=>(ce.name||"").localeCompare(Me.name||"")).map(ce=>v.jsxs("option",{value:ce.sku,children:[ce.name.substring(0,30),"... (",ce.sku,")"]},ce.sku))]})]}),v.jsxs("div",{className:"relative group/search",children:[v.jsx(zo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),v.jsx("input",{type:"text",value:Z,onChange:ce=>{K(ce.target.value),xe(!0)},onFocus:()=>xe(!0),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-56 transition-colors ${Z?"bg-green-50 border-green-300":"border-gray-300"}`,title:"Buscar produtos por SKU, Marca, Cdigo ou Descrio"}),pe&&Z.length>=2&&v.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto custom-scrollbar",children:(()=>{const ce=d.filter(Me=>{const Ke=Z.toLowerCase();return(Me.name||"").toLowerCase().includes(Ke)||(Me.sku||"").toLowerCase().includes(Ke)||(Me.brand||"").toLowerCase().includes(Ke)}).slice(0,8);return ce.length===0?v.jsxs("div",{className:"p-3 text-xs text-gray-500 italic flex items-center gap-2",children:[v.jsx(Ki,{className:"w-3 h-3 text-gray-400"}),"No Foi Encontrado"]}):ce.map(Me=>v.jsxs("button",{onClick:()=>{K(Me.sku),xe(!1)},className:"w-full text-left px-3 py-2 text-xs hover:bg-green-50 flex flex-col border-b border-gray-50 last:border-0",children:[v.jsx("span",{className:"font-bold text-gray-800",children:Me.name}),v.jsxs("span",{className:"text-[10px] text-gray-500 uppercase",children:[Me.sku,"  ",Me.brand]})]},Me.sku))})()}),!pe&&Z&&ke.length===0&&v.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 flex items-center gap-1.5 text-[10px] font-bold text-rose-500 animate-fade-in bg-rose-50 px-2 py-1 rounded border border-rose-100 italic",children:[v.jsx(Ki,{className:"w-3 h-3"}),"No Foi Encontrado"]})]}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("button",{onClick:()=>We(!0),className:`text-[10px] uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg border transition-all ${Be?"bg-green-600 border-green-600 text-white shadow-sm":"bg-white border-gray-300 text-gray-600 hover:border-green-400 hover:text-green-700"}`,children:"Somente com Compras"}),v.jsx("button",{onClick:()=>We(!1),className:`text-[10px] uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg border transition-all ${Be?"bg-white border-gray-300 text-gray-600 hover:border-blue-400 hover:text-blue-700":"bg-blue-600 border-blue-600 text-white shadow-sm"}`,children:"Mostrar Todos"}),Rr&&v.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all text-[10px] font-bold uppercase tracking-wider ml-2",title:"Enriquecer toda a base com dados da Receita Federal via CNPJa Comercial",children:[v.jsx(_A,{className:"w-3 h-3"})," Atualizar Base (CNPJa)"]})]}),ir&&v.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[v.jsx(af,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!ir&&v.jsx("span",{className:"ml-auto text-xs text-gray-400",children:d.length===0?"Nenhum produto cadastrado no admin.":`${d.length} produtos no catlogo.`})]}),v.jsx("div",{className:"flex justify-end",children:v.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-lg",children:[ke.length," resultados encontrados"]})})]}),v.jsx("div",{className:"flex-1 overflow-hidden p-1.5 bg-gray-100",children:le.length===0&&!dt.isActive?v.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:Rr?v.jsxs(v.Fragment,{children:[v.jsx(Sp,{className:"w-12 h-12 mb-2 opacity-20"}),v.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),v.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):v.jsxs(v.Fragment,{children:[v.jsx(wA,{className:"w-12 h-12 mb-2 opacity-20"}),v.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),v.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):v.jsx("div",{className:"h-full bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden relative",children:gt==="map"?v.jsx(NTe,{clients:ke,apiKey:Ht,onInvalidKey:vr,productFilterActive:ir,highlightProductTerm:Z,activeProductCategory:_e,users:e,filterContent:v.jsxs("div",{className:"bg-gray-100/95 backdrop-blur-sm px-3 py-2 flex flex-col gap-1.5",children:[v.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[v.jsxs("div",{className:"relative",children:[v.jsx(zo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsx("input",{type:"text",value:D,onChange:ce=>F(ce.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-3 py-1.5 text-sm border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-48 border outline-none",title:"Buscar cliente ou empresa"})]}),v.jsx("div",{className:"h-5 w-px bg-gray-300 mx-0.5 hidden sm:block"}),v.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${nr?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[v.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${nr?"text-purple-600":"text-gray-500"}`,children:[nr?v.jsx(AA,{className:"w-3 h-3"}):v.jsx(Ma,{className:"w-3 h-3"}),Rr?"Admin":nr?"Gesto":"Vendedor"]}),v.jsxs("div",{className:"relative",children:[v.jsx(Ma,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${nr?"text-purple-400":"text-gray-400"}`}),v.jsxs("select",{value:nr?de:r?.id||"",onChange:ce=>nr&&ge(ce.target.value),disabled:!nr,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${nr?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:nr?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[nr&&v.jsx("option",{value:"Todos",children:"Todos Vendedores"}),nr?e.filter(ce=>ce.role==="salesperson"||ce.role==="sales_external"||ce.role==="sales_internal").map(ce=>v.jsx("option",{value:ce.id,children:ce.name},ce.id)):v.jsx("option",{value:r?.id,children:r?.name})]})]}),nr&&v.jsxs("div",{className:"relative animate-fade-in",children:[v.jsx(ss,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),v.jsxs("select",{value:ie,onChange:ce=>fe(ce.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[v.jsx("option",{value:"Todos",children:"Todas Equipes"}),v.jsx("option",{value:"Externo",children:"Externo"}),v.jsx("option",{value:"Interno",children:"Interno"}),v.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),v.jsxs("select",{value:R,onChange:ce=>{I(ce.target.value),O("Todos"),V("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio",children:[v.jsx("option",{value:"Todas",children:"Todas Regies"}),fh.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]}),v.jsxs("select",{value:k,onChange:ce=>{O(ce.target.value),V("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:ve.length===0,title:"Filtrar por estado",children:[v.jsx("option",{value:"Todos",children:"Todos Estados"}),ve.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]}),v.jsxs("select",{value:B,onChange:ce=>V(ce.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:k==="Todos"||Fe.length===0,title:"Filtrar por cidade",children:[v.jsx("option",{value:"Todas",children:"Todas Cidades"}),Fe.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]}),v.jsxs("div",{className:"flex items-center gap-1 relative",children:[v.jsx(ro,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),v.jsxs("select",{value:j,onChange:ce=>G(ce.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",title:"Filtrar por categoria de cliente",children:[v.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),g.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]})]}),v.jsxs("div",{className:"flex items-center gap-1 relative",children:[v.jsx(ss,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),v.jsxs("select",{value:ue,onChange:ce=>ae(ce.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5 max-w-[200px]",title:"Filtrar por CNAE (Atividade Econmica)",children:[v.jsx("option",{value:"Todos",children:"Todos CNAEs"}),W.map(ce=>v.jsx("option",{value:ce,children:ce.length>40?ce.substring(0,40)+"...":ce},ce))]})]}),Rr&&v.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all text-[10px] font-bold uppercase tracking-wider ml-2",title:"Enriquecer toda a base com dados da Receita Federal via CNPJa Comercial",children:[v.jsx(_A,{className:"w-3.5 h-3.5"})," Atualizar Base (CNPJa)"]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[v.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[v.jsx(ao,{className:"w-4 h-4"}),"Vendas:"]}),v.jsxs("select",{value:_e,onChange:ce=>X(ce.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${_e!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por marca ou categoria de produto",children:[v.jsx("option",{value:"Todos",children:"Todos Deptos / Marcas"}),Je.map(ce=>v.jsx("option",{value:ce,children:ce},ce))]}),v.jsxs("div",{className:"relative animate-fade-in",children:[v.jsx(ro,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${z!=="Todos"?"text-green-600":"text-gray-400"}`}),v.jsxs("select",{value:z,onChange:ce=>te(ce.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${z!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por SKU do produto",children:[v.jsx("option",{value:"Todos",children:"Todos Produtos"}),d.filter(ce=>_e==="Todos"||ce.category===_e).sort((ce,Me)=>(ce.name||"").localeCompare(Me.name||"")).map(ce=>v.jsxs("option",{value:ce.sku,children:[ce.name.substring(0,30),"... (",ce.sku,")"]},ce.sku))]})]}),v.jsxs("div",{className:"relative",children:[v.jsx(zo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),v.jsx("input",{type:"text",value:Z,onChange:ce=>K(ce.target.value),placeholder:"Depto, Marca, SKU ou Produto...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-52 transition-colors ${Z?"bg-green-50 border-green-300":"border-gray-300"}`})]}),v.jsxs("div",{className:"flex gap-1 ml-1",children:[v.jsx("button",{onClick:()=>We(!0),className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1.5 rounded-lg border transition-all ${Be?"bg-green-600 border-green-600 text-white shadow-sm":"bg-white border-gray-200 text-gray-500 hover:border-green-400 hover:text-green-600"}`,children:"Com Compras"}),v.jsx("button",{onClick:()=>We(!1),className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1.5 rounded-lg border transition-all ${Be?"bg-white border-gray-200 text-gray-500 hover:border-blue-400 hover:text-blue-600":"bg-blue-600 border-blue-600 text-white shadow-sm"}`,children:"Todos"})]}),ir&&v.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[v.jsx(af,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]})]})]})},`${Et}-${br}`):gt==="table"?v.jsx(RTe,{clients:ke,onUpdateClient:Ze,onAddClient:lt,currentUserRole:r?.role,currentUserId:r?.id,currentUserName:r?.name,products:d,productCategories:Je,filterOnlyWithPurchases:Be,setFilterOnlyWithPurchases:We,resetFilters:pt,users:e,uploadedFiles:_,onGeneratePlusCodes:Ge,onCNPJAuthError:()=>wa(!0)}):gt==="history"?v.jsx(F8e,{clients:ke,users:e,startDate:$e,endDate:Xe,onRangeChange:(ce,Me)=>{Le(ce),tt(Me)}}):null})})]}),dt.isActive&&v.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[v.jsx("div",{className:`h-1.5 w-full ${dt.status==="error"?"bg-red-200":"bg-blue-100"}`,children:v.jsx("div",{className:`h-full transition-all duration-300 ${dt.status==="completed"?"bg-green-500 w-full":dt.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:dt.total>0?`${dt.current/dt.total*100}%`:"0%"}})}),v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[dt.status==="completed"&&v.jsx(af,{className:"w-4 h-4 text-green-500"}),dt.status==="processing"&&v.jsx($c,{className:"w-4 h-4 text-blue-500 animate-spin"}),dt.status==="error"&&v.jsx(Ki,{className:"w-4 h-4 text-red-500"}),dt.status==="reading"?"Lendo Arquivo...":dt.status==="processing"?"Processando Planilha":dt.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),v.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[dt.fileName," ",v.jsx("span",{className:"mx-1",children:""})," ",dt.ownerName]})]}),v.jsx("button",{onClick:()=>{dt.isActive&&dt.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(Rn.current=!0,Mt(ce=>({...ce,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):Mt(ce=>({...ce,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",title:"Fechar Notificao",children:v.jsx(La,{className:"w-4 h-4"})})]}),dt.status==="processing"&&v.jsxs("div",{className:"mt-3",children:[v.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[v.jsx("span",{children:"Progresso (IA + Maps)"}),v.jsxs("span",{className:"font-mono",children:[dt.current," / ",dt.total]})]}),v.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),dt.status==="error"&&v.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:dt.errorMessage})]})]})]})]}),v.jsx(D8e,{isOpen:bi.isOpen,onClose:()=>Ha(ce=>({...ce,isOpen:!1})),onConfirm:bi.onConfirm,title:bi.title,message:bi.message,type:bi.type,confirmLabel:bi.confirmLabel,cancelLabel:bi.cancelLabel})]}):v.jsx(nAe,{progress:L,message:P})};class B8e extends kr.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:v.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[v.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[v.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:v.jsx(Ki,{className:"w-8 h-8"})}),v.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),v.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:this.state.error?.toString()}),v.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const uW=document.getElementById("root");if(!uW)throw new Error("Could not find root element to mount to");const V8e=ZY.createRoot(uW);V8e.render(v.jsx(kr.StrictMode,{children:v.jsx(B8e,{children:v.jsx(U8e,{})})}));
