(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function bp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yg={exports:{}},sf={};var qT;function G3(){if(qT)return sf;qT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:i}}return sf.Fragment=e,sf.jsx=n,sf.jsxs=n,sf}var $T;function j3(){return $T||($T=1,Yg.exports=G3()),Yg.exports}var _=j3(),Jg={exports:{}},vt={};var KT;function q3(){if(KT)return vt;KT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function T(X){return X===null||typeof X!="object"?null:(X=v&&X[v]||X["@@iterator"],typeof X=="function"?X:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function k(X,z,Q){this.props=X,this.context=z,this.refs=C,this.updater=Q||S}k.prototype.isReactComponent={},k.prototype.setState=function(X,z){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,z,"setState")},k.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function V(){}V.prototype=k.prototype;function D(X,z,Q){this.props=X,this.context=z,this.refs=C,this.updater=Q||S}var H=D.prototype=new V;H.constructor=D,A(H,k.prototype),H.isPureReactComponent=!0;var G=Array.isArray;function J(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function b(X,z,Q){var ne=Q.ref;return{$$typeof:t,type:X,key:z,ref:ne!==void 0?ne:null,props:Q}}function F(X,z){return b(X.type,z,X.props)}function O(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function M(X){var z={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Q){return z[Q]})}var B=/\/+/g;function fe(X,z){return typeof X=="object"&&X!==null&&X.key!=null?M(""+X.key):z.toString(36)}function pe(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(J,J):(X.status="pending",X.then(function(z){X.status==="pending"&&(X.status="fulfilled",X.value=z)},function(z){X.status==="pending"&&(X.status="rejected",X.reason=z)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ae(X,z,Q,ne,te){var de=typeof X;(de==="undefined"||de==="boolean")&&(X=null);var ve=!1;if(X===null)ve=!0;else switch(de){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(X.$$typeof){case t:case e:ve=!0;break;case h:return ve=X._init,ae(ve(X._payload),z,Q,ne,te)}}if(ve)return te=te(X),ve=ne===""?"."+fe(X,0):ne,G(te)?(Q="",ve!=null&&(Q=ve.replace(B,"$&/")+"/"),ae(te,z,Q,"",function(De){return De})):te!=null&&(O(te)&&(te=F(te,Q+(te.key==null||X&&X.key===te.key?"":(""+te.key).replace(B,"$&/")+"/")+ve)),z.push(te)),1;ve=0;var Ne=ne===""?".":ne+":";if(G(X))for(var be=0;be<X.length;be++)ne=X[be],de=Ne+fe(ne,be),ve+=ae(ne,z,Q,de,te);else if(be=T(X),typeof be=="function")for(X=be.call(X),be=0;!(ne=X.next()).done;)ne=ne.value,de=Ne+fe(ne,be++),ve+=ae(ne,z,Q,de,te);else if(de==="object"){if(typeof X.then=="function")return ae(pe(X),z,Q,ne,te);throw z=String(X),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ce(X,z,Q){if(X==null)return X;var ne=[],te=0;return ae(X,ne,"","",function(de){return z.call(Q,de,te++)}),ne}function ee(X){if(X._status===-1){var z=X._result;z=z(),z.then(function(Q){(X._status===0||X._status===-1)&&(X._status=1,X._result=Q)},function(Q){(X._status===0||X._status===-1)&&(X._status=2,X._result=Q)}),X._status===-1&&(X._status=0,X._result=z)}if(X._status===1)return X._result.default;throw X._result}var ie=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Re={map:ce,forEach:function(X,z,Q){ce(X,function(){z.apply(this,arguments)},Q)},count:function(X){var z=0;return ce(X,function(){z++}),z},toArray:function(X){return ce(X,function(z){return z})||[]},only:function(X){if(!O(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return vt.Activity=g,vt.Children=Re,vt.Component=k,vt.Fragment=n,vt.Profiler=s,vt.PureComponent=D,vt.StrictMode=r,vt.Suspense=f,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return I.H.useMemoCache(X)}},vt.cache=function(X){return function(){return X.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(X,z,Q){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ne=A({},X.props),te=X.key;if(z!=null)for(de in z.key!==void 0&&(te=""+z.key),z)!N.call(z,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&z.ref===void 0||(ne[de]=z[de]);var de=arguments.length-2;if(de===1)ne.children=Q;else if(1<de){for(var ve=Array(de),Ne=0;Ne<de;Ne++)ve[Ne]=arguments[Ne+2];ne.children=ve}return b(X.type,te,ne)},vt.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:i,_context:X},X},vt.createElement=function(X,z,Q){var ne,te={},de=null;if(z!=null)for(ne in z.key!==void 0&&(de=""+z.key),z)N.call(z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(te[ne]=z[ne]);var ve=arguments.length-2;if(ve===1)te.children=Q;else if(1<ve){for(var Ne=Array(ve),be=0;be<ve;be++)Ne[be]=arguments[be+2];te.children=Ne}if(X&&X.defaultProps)for(ne in ve=X.defaultProps,ve)te[ne]===void 0&&(te[ne]=ve[ne]);return b(X,de,te)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(X){return{$$typeof:c,render:X}},vt.isValidElement=O,vt.lazy=function(X){return{$$typeof:h,_payload:{_status:-1,_result:X},_init:ee}},vt.memo=function(X,z){return{$$typeof:d,type:X,compare:z===void 0?null:z}},vt.startTransition=function(X){var z=I.T,Q={};I.T=Q;try{var ne=X(),te=I.S;te!==null&&te(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(J,ie)}catch(de){ie(de)}finally{z!==null&&Q.types!==null&&(z.types=Q.types),I.T=z}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(X){return I.H.use(X)},vt.useActionState=function(X,z,Q){return I.H.useActionState(X,z,Q)},vt.useCallback=function(X,z){return I.H.useCallback(X,z)},vt.useContext=function(X){return I.H.useContext(X)},vt.useDebugValue=function(){},vt.useDeferredValue=function(X,z){return I.H.useDeferredValue(X,z)},vt.useEffect=function(X,z){return I.H.useEffect(X,z)},vt.useEffectEvent=function(X){return I.H.useEffectEvent(X)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(X,z,Q){return I.H.useImperativeHandle(X,z,Q)},vt.useInsertionEffect=function(X,z){return I.H.useInsertionEffect(X,z)},vt.useLayoutEffect=function(X,z){return I.H.useLayoutEffect(X,z)},vt.useMemo=function(X,z){return I.H.useMemo(X,z)},vt.useOptimistic=function(X,z){return I.H.useOptimistic(X,z)},vt.useReducer=function(X,z,Q){return I.H.useReducer(X,z,Q)},vt.useRef=function(X){return I.H.useRef(X)},vt.useState=function(X){return I.H.useState(X)},vt.useSyncExternalStore=function(X,z,Q){return I.H.useSyncExternalStore(X,z,Q)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.4",vt}var YT;function Kx(){return YT||(YT=1,Jg.exports=q3()),Jg.exports}var he=Kx();const Rn=bp(he);var Wg={exports:{}},af={},Zg={exports:{}},Xg={};var JT;function $3(){return JT||(JT=1,(function(t){function e(ae,ce){var ee=ae.length;ae.push(ce);e:for(;0<ee;){var ie=ee-1>>>1,Re=ae[ie];if(0<s(Re,ce))ae[ie]=ce,ae[ee]=Re,ee=ie;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ce=ae[0],ee=ae.pop();if(ee!==ce){ae[0]=ee;e:for(var ie=0,Re=ae.length,X=Re>>>1;ie<X;){var z=2*(ie+1)-1,Q=ae[z],ne=z+1,te=ae[ne];if(0>s(Q,ee))ne<Re&&0>s(te,Q)?(ae[ie]=te,ae[ne]=ee,ie=ne):(ae[ie]=Q,ae[z]=ee,ie=z);else if(ne<Re&&0>s(te,ee))ae[ie]=te,ae[ne]=ee,ie=ne;else break e}}return ce}function s(ae,ce){var ee=ae.sortIndex-ce.sortIndex;return ee!==0?ee:ae.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var f=[],d=[],h=1,g=null,v=3,T=!1,S=!1,A=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function H(ae){for(var ce=n(d);ce!==null;){if(ce.callback===null)r(d);else if(ce.startTime<=ae)r(d),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=n(d)}}function G(ae){if(A=!1,H(ae),!S)if(n(f)!==null)S=!0,J||(J=!0,M());else{var ce=n(d);ce!==null&&pe(G,ce.startTime-ae)}}var J=!1,I=-1,N=5,b=-1;function F(){return C?!0:!(t.unstable_now()-b<N)}function O(){if(C=!1,J){var ae=t.unstable_now();b=ae;var ce=!0;try{e:{S=!1,A&&(A=!1,V(I),I=-1),T=!0;var ee=v;try{t:{for(H(ae),g=n(f);g!==null&&!(g.expirationTime>ae&&F());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,v=g.priorityLevel;var Re=ie(g.expirationTime<=ae);if(ae=t.unstable_now(),typeof Re=="function"){g.callback=Re,H(ae),ce=!0;break t}g===n(f)&&r(f),H(ae)}else r(f);g=n(f)}if(g!==null)ce=!0;else{var X=n(d);X!==null&&pe(G,X.startTime-ae),ce=!1}}break e}finally{g=null,v=ee,T=!1}ce=void 0}}finally{ce?M():J=!1}}}var M;if(typeof D=="function")M=function(){D(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,fe=B.port2;B.port1.onmessage=O,M=function(){fe.postMessage(null)}}else M=function(){k(O,0)};function pe(ae,ce){I=k(function(){ae(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(ae){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var ee=v;v=ce;try{return ae()}finally{v=ee}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ae,ce){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ee=v;v=ae;try{return ce()}finally{v=ee}},t.unstable_scheduleCallback=function(ae,ce,ee){var ie=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ie+ee:ie):ee=ie,ae){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=ee+Re,ae={id:h++,callback:ce,priorityLevel:ae,startTime:ee,expirationTime:Re,sortIndex:-1},ee>ie?(ae.sortIndex=ee,e(d,ae),n(f)===null&&ae===n(d)&&(A?(V(I),I=-1):A=!0,pe(G,ee-ie))):(ae.sortIndex=Re,e(f,ae),S||T||(S=!0,J||(J=!0,M()))),ae},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ae){var ce=v;return function(){var ee=v;v=ce;try{return ae.apply(this,arguments)}finally{v=ee}}}})(Xg)),Xg}var WT;function K3(){return WT||(WT=1,Zg.exports=$3()),Zg.exports}var Qg={exports:{}},Nr={};var ZT;function Y3(){if(ZT)return Nr;ZT=1;var t=Kx();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(f,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Nr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(f,d,null,h)},Nr.flushSync=function(f){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=h,r.d.f()}},Nr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Nr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Nr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:T}):h==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Nr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Nr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Nr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Nr.requestFormReset=function(f){r.d.r(f)},Nr.unstable_batchedUpdates=function(f,d){return f(d)},Nr.useFormState=function(f,d,h){return o.H.useFormState(f,d,h)},Nr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Nr.version="19.2.4",Nr}var XT;function HC(){if(XT)return Qg.exports;XT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qg.exports=Y3(),Qg.exports}var QT;function J3(){if(QT)return af;QT=1;var t=K3(),e=Kx(),n=HC();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function i(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(i(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=i(a),l===null)throw Error(r(188));return l!==a?null:a}for(var u=a,p=l;;){var E=u.return;if(E===null)break;var w=E.alternate;if(w===null){if(p=E.return,p!==null){u=p;continue}break}if(E.child===w.child){for(w=E.child;w;){if(w===u)return f(E),a;if(w===p)return f(E),l;w=w.sibling}throw Error(r(188))}if(u.return!==p.return)u=E,p=w;else{for(var P=!1,q=E.child;q;){if(q===u){P=!0,u=E,p=w;break}if(q===p){P=!0,p=E,u=w;break}q=q.sibling}if(!P){for(q=w.child;q;){if(q===u){P=!0,u=w,p=E;break}if(q===p){P=!0,p=w,u=E;break}q=q.sibling}if(!P)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function fe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case G:return"Suspense";case J:return"SuspenseList";case b:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case D:return a.displayName||"Context";case V:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return l=a.displayName||null,l!==null?l:fe(a.type)||"Memo";case N:l=a._payload,a=a._init;try{return fe(a(l))}catch{}}return null}var pe=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ie=[],Re=-1;function X(a){return{current:a}}function z(a){0>Re||(a.current=ie[Re],ie[Re]=null,Re--)}function Q(a,l){Re++,ie[Re]=a.current,a.current=l}var ne=X(null),te=X(null),de=X(null),ve=X(null);function Ne(a,l){switch(Q(de,l),Q(te,a),Q(ne,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?pT(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=pT(l),a=mT(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}z(ne),Q(ne,a)}function be(){z(ne),z(te),z(de)}function De(a){a.memoizedState!==null&&Q(ve,a);var l=ne.current,u=mT(l,a.type);l!==u&&(Q(te,a),Q(ne,u))}function je(a){te.current===a&&(z(ne),z(te)),ve.current===a&&(z(ve),ef._currentValue=ee)}var se,ft;function We(a){if(se===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);se=l&&l[1]||"",ft=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+a+ft}var qe=!1;function Ge(a,l){if(!a||qe)return"";qe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(Ce){var Se=Ce}Reflect.construct(a,[],Pe)}else{try{Pe.call()}catch(Ce){Se=Ce}a.call(Pe.prototype)}}else{try{throw Error()}catch(Ce){Se=Ce}(Pe=a())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(Ce){if(Ce&&Se&&typeof Ce.stack=="string")return[Ce.stack,Se.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),P=w[0],q=w[1];if(P&&q){var oe=P.split(`
`),we=q.split(`
`);for(E=p=0;p<oe.length&&!oe[p].includes("DetermineComponentFrameRoot");)p++;for(;E<we.length&&!we[E].includes("DetermineComponentFrameRoot");)E++;if(p===oe.length||E===we.length)for(p=oe.length-1,E=we.length-1;1<=p&&0<=E&&oe[p]!==we[E];)E--;for(;1<=p&&0<=E;p--,E--)if(oe[p]!==we[E]){if(p!==1||E!==1)do if(p--,E--,0>E||oe[p]!==we[E]){var ke=`
`+oe[p].replace(" at new "," at ");return a.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",a.displayName)),ke}while(1<=p&&0<=E);break}}}finally{qe=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?We(u):""}function Be(a,l){switch(a.tag){case 26:case 27:case 5:return We(a.type);case 16:return We("Lazy");case 13:return a.child!==l&&l!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Ge(a.type,!1);case 11:return Ge(a.type.render,!1);case 1:return Ge(a.type,!0);case 31:return We("Activity");default:return""}}function tt(a){try{var l="",u=null;do l+=Be(a,u),u=a,a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var nt=Object.prototype.hasOwnProperty,ct=t.unstable_scheduleCallback,cn=t.unstable_cancelCallback,wn=t.unstable_shouldYield,Bn=t.unstable_requestPaint,pt=t.unstable_now,It=t.unstable_getCurrentPriorityLevel,St=t.unstable_ImmediatePriority,un=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,Dn=t.unstable_LowPriority,rt=t.unstable_IdlePriority,Ft=t.log,Jt=t.unstable_setDisableYieldValue,At=null,$t=null;function dr(a){if(typeof Ft=="function"&&Jt(a),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(At,a)}catch{}}var pn=Math.clz32?Math.clz32:zi,Sa=Math.log,Cs=Math.LN2;function zi(a){return a>>>=0,a===0?32:31-(Sa(a)/Cs|0)|0}var Br=256,Js=262144,xn=4194304;function hr(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xr(a,l,u){var p=a.pendingLanes;if(p===0)return 0;var E=0,w=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var q=p&134217727;return q!==0?(p=q&~w,p!==0?E=hr(p):(P&=q,P!==0?E=hr(P):u||(u=q&~a,u!==0&&(E=hr(u))))):(q=p&~w,q!==0?E=hr(q):P!==0?E=hr(P):u||(u=p&~a,u!==0&&(E=hr(u)))),E===0?0:l!==0&&l!==E&&(l&w)===0&&(w=E&-E,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:E}function zr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Mo(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(){var a=xn;return xn<<=1,(xn&62914560)===0&&(xn=4194304),a}function Qr(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function Ws(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Hi(a,l,u,p,E,w){var P=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,oe=a.expirationTimes,we=a.hiddenUpdates;for(u=P&~u;0<u;){var ke=31-pn(u),Pe=1<<ke;q[ke]=0,oe[ke]=-1;var Se=we[ke];if(Se!==null)for(we[ke]=null,ke=0;ke<Se.length;ke++){var Ce=Se[ke];Ce!==null&&(Ce.lane&=-536870913)}u&=~Pe}p!==0&&zn(a,p,0),w!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=w&~(P&~l))}function zn(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-pn(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function Ct(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var p=31-pn(u),E=1<<p;E&l|a[p]&l&&(a[p]|=l),u&=~E}}function bs(a,l){var u=l&-l;return u=(u&42)!==0?1:le(u),(u&(a.suspendedLanes|l))!==0?0:u}function le(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ze(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function U(){var a=ce.p;return a!==0?a:(a=window.event,a===void 0?32:UT(a.type))}function Y(a,l){var u=ce.p;try{return ce.p=a,l()}finally{ce.p=u}}var j=Math.random().toString(36).slice(2),K="__reactFiber$"+j,W="__reactProps$"+j,re="__reactContainer$"+j,xe="__reactEvents$"+j,Ie="__reactListeners$"+j,ye="__reactHandles$"+j,ge="__reactResources$"+j,Ee="__reactMarker$"+j;function Le(a){delete a[K],delete a[W],delete a[xe],delete a[Ie],delete a[ye]}function He(a){var l=a[K];if(l)return l;for(var u=a.parentNode;u;){if(l=u[re]||u[K]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=TT(a);a!==null;){if(u=a[K])return u;a=TT(a)}return l}a=u,u=a.parentNode}return null}function Ye(a){if(a=a[K]||a[re]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ve(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function Ke(a){var l=a[ge];return l||(l=a[ge]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Qe(a){a[Ee]=!0}var Zt=new Set,Xt={};function fn(a,l){Cr(a,l),Cr(a+"Capture",l)}function Cr(a,l){for(Xt[a]=l,a=0;a<l.length;a++)Zt.add(l[a])}var Zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xs={},ds={};function Ca(a){return nt.call(ds,a)?!0:nt.call(Xs,a)?!1:Zs.test(a)?ds[a]=!0:(Xs[a]=!0,!1)}function br(a,l,u){if(Ca(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function hs(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function Hn(a,l,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+p)}}function ir(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ba(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function du(a,l,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,w=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return E.call(this)},set:function(P){u=""+P,w.call(this,P)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(P){u=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Qt(a){if(!a._valueTracker){var l=ba(a)?"checked":"value";a._valueTracker=du(a,l,""+a[l])}}function Po(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return a&&(p=ba(a)?a.checked?"true":"false":a.value),a=p,a!==u?(l.setValue(a),!0):!1}function xi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Fo=/[\n"\\]/g;function es(a){return a.replace(Fo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Bl(a,l,u,p,E,w,P,q){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),l!=null?P==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+ir(l)):a.value!==""+ir(l)&&(a.value=""+ir(l)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),l!=null?hu(a,P,ir(l)):u!=null?hu(a,P,ir(u)):p!=null&&a.removeAttribute("value"),E==null&&w!=null&&(a.defaultChecked=!!w),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+ir(q):a.removeAttribute("name")}function Id(a,l,u,p,E,w,P,q){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){Qt(a);return}u=u!=null?""+ir(u):"",l=l!=null?""+ir(l):u,q||l===a.value||(a.value=l),a.defaultValue=l}p=p??E,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=q?a.checked:!!p,a.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),Qt(a)}function hu(a,l,u){l==="number"&&xi(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Na(a,l,u,p){if(a=a.options,l){l={};for(var E=0;E<u.length;E++)l["$"+u[E]]=!0;for(u=0;u<a.length;u++)E=l.hasOwnProperty("$"+a[u].value),a[u].selected!==E&&(a[u].selected=E),E&&p&&(a[u].defaultSelected=!0)}else{for(u=""+ir(u),l=null,E=0;E<a.length;E++){if(a[E].value===u){a[E].selected=!0,p&&(a[E].defaultSelected=!0);return}l!==null||a[E].disabled||(l=a[E])}l!==null&&(l.selected=!0)}}function Rd(a,l,u){if(l!=null&&(l=""+ir(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+ir(u):""}function Ia(a,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(r(92));if(pe(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=ir(l),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),Qt(a)}function ts(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var kd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(a,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,u):typeof u!="number"||u===0||kd.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function mu(a,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var E in l)p=l[E],l.hasOwnProperty(E)&&u[E]!==p&&pu(a,E,p)}else for(var w in l)l.hasOwnProperty(w)&&pu(a,w,l[w])}function zl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(a){return Ra.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qs(){}var gu=null;function Ns(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ka=null,yi=null;function Oo(a){var l=Ye(a);if(l&&(a=l.stateNode)){var u=a[W]||null;e:switch(a=l.stateNode,l.type){case"input":if(Bl(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+es(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==a&&p.form===a.form){var E=p[W]||null;if(!E)throw Error(r(90));Bl(p,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===a.form&&Po(p)}break e;case"textarea":Rd(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Na(a,!!u.multiple,l,!1)}}}var Gl=!1;function Da(a,l,u){if(Gl)return a(l,u);Gl=!0;try{var p=a(l);return p}finally{if(Gl=!1,(ka!==null||yi!==null)&&(Ah(),ka&&(l=ka,a=yi,yi=ka=null,Oo(l),a)))for(l=0;l<a.length;l++)Oo(a[l])}}function ei(a,l){var u=a.stateNode;if(u===null)return null;var p=u[W]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lo=!1;if(Is)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Lo=!1}var _i=null,vu=null,Uo=null;function xu(){if(Uo)return Uo;var a,l=vu,u=l.length,p,E="value"in _i?_i.value:_i.textContent,w=E.length;for(a=0;a<u&&l[a]===E[a];a++);var P=u-a;for(p=1;p<=P&&l[u-p]===E[w-p];p++);return Uo=E.slice(a,1<p?1-p:void 0)}function Vo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Gi(){return!0}function ti(){return!1}function pr(a){function l(u,p,E,w,P){this._reactName=u,this._targetInst=E,this.type=p,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(w):w[q]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Gi:ti,this.isPropagationStopped=ti,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),l}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=pr(ji),Ma=g({},ji,{view:0,detail:0}),yu=pr(Ma),Pa,jl,Ti,ql=g({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ti&&(Ti&&a.type==="mousemove"?(Pa=a.screenX-Ti.screenX,jl=a.screenY-Ti.screenY):jl=Pa=0,Ti=a),Pa)},movementY:function(a){return"movementY"in a?a.movementY:jl}}),_u=pr(ql),Bo=g({},ql,{dataTransfer:0}),Md=pr(Bo),Pd=g({},Ma,{relatedTarget:0}),zo=pr(Pd),Eu=g({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Fd=pr(Eu),$l=g({},ji,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Od=pr($l),Ld=g({},ji,{data:0}),wi=pr(Ld),Ud={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zd(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Bd[a])?!!l[a]:!1}function Fa(){return zd}var Hr=g({},Ma,{key:function(a){if(a.key){var l=Ud[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Vo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Vd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(a){return a.type==="keypress"?Vo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Vo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Hd=pr(Hr),Gd=g({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=pr(Gd),y=g({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),R=pr(y),L=g({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z=pr(L),_e=g({},ql,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ae=pr(_e),$e=g({},ji,{newState:0,oldState:0}),_t=pr($e),Mn=[9,13,27,32],Kt=Is&&"CompositionEvent"in window,yn=null;Is&&"documentMode"in document&&(yn=document.documentMode);var Rs=Is&&"TextEvent"in window&&!yn,Si=Is&&(!Kt||yn&&8<yn&&11>=yn),ni=" ",ri=!1;function Ho(a,l){switch(a){case"keyup":return Mn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Yl=!1;function h4(a,l){switch(a){case"compositionend":return Kl(l);case"keypress":return l.which!==32?null:(ri=!0,ni);case"textInput":return a=l.data,a===ni&&ri?null:a;default:return null}}function p4(a,l){if(Yl)return a==="compositionend"||!Kt&&Ho(a,l)?(a=xu(),Uo=vu=_i=null,Yl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Si&&l.locale!=="ko"?null:l.data;default:return null}}var m4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!m4[a.type]:l==="textarea"}function Cy(a,l,u,p){ka?yi?yi.push(p):yi=[p]:ka=p,l=Dh(l,"onChange"),0<l.length&&(u=new Ei("onChange","change",null,u,p),a.push({event:u,listeners:l}))}var Tu=null,wu=null;function g4(a){lT(a,0)}function jd(a){var l=Ve(a);if(Po(l))return a}function by(a,l){if(a==="change")return l}var Ny=!1;if(Is){var tm;if(Is){var nm="oninput"in document;if(!nm){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),nm=typeof Iy.oninput=="function"}tm=nm}else tm=!1;Ny=tm&&(!document.documentMode||9<document.documentMode)}function Ry(){Tu&&(Tu.detachEvent("onpropertychange",ky),wu=Tu=null)}function ky(a){if(a.propertyName==="value"&&jd(wu)){var l=[];Cy(l,wu,a,Ns(a)),Da(g4,l)}}function v4(a,l,u){a==="focusin"?(Ry(),Tu=l,wu=u,Tu.attachEvent("onpropertychange",ky)):a==="focusout"&&Ry()}function x4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jd(wu)}function y4(a,l){if(a==="click")return jd(l)}function _4(a,l){if(a==="input"||a==="change")return jd(l)}function E4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ps=typeof Object.is=="function"?Object.is:E4;function Su(a,l){if(ps(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var E=u[p];if(!nt.call(l,E)||!ps(a[E],l[E]))return!1}return!0}function Dy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function My(a,l){var u=Dy(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=l&&p>=l)return{node:u,offset:l-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Dy(u)}}function Py(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Py(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Fy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=xi(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=xi(a.document)}return l}function rm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var T4=Is&&"documentMode"in document&&11>=document.documentMode,Jl=null,sm=null,Au=null,im=!1;function Oy(a,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;im||Jl==null||Jl!==xi(p)||(p=Jl,"selectionStart"in p&&rm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Au&&Su(Au,p)||(Au=p,p=Dh(sm,"onSelect"),0<p.length&&(l=new Ei("onSelect","select",null,l,u),a.push({event:l,listeners:p}),l.target=Jl)))}function Go(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var Wl={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionrun:Go("Transition","TransitionRun"),transitionstart:Go("Transition","TransitionStart"),transitioncancel:Go("Transition","TransitionCancel"),transitionend:Go("Transition","TransitionEnd")},am={},Ly={};Is&&(Ly=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function jo(a){if(am[a])return am[a];if(!Wl[a])return a;var l=Wl[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in Ly)return am[a]=l[u];return a}var Uy=jo("animationend"),Vy=jo("animationiteration"),By=jo("animationstart"),w4=jo("transitionrun"),S4=jo("transitionstart"),A4=jo("transitioncancel"),zy=jo("transitionend"),Hy=new Map,om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");om.push("scrollEnd");function si(a,l){Hy.set(a,l),fn(l,[a])}var qd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ks=[],Zl=0,lm=0;function $d(){for(var a=Zl,l=lm=Zl=0;l<a;){var u=ks[l];ks[l++]=null;var p=ks[l];ks[l++]=null;var E=ks[l];ks[l++]=null;var w=ks[l];if(ks[l++]=null,p!==null&&E!==null){var P=p.pending;P===null?E.next=E:(E.next=P.next,P.next=E),p.pending=E}w!==0&&Gy(u,E,w)}}function Kd(a,l,u,p){ks[Zl++]=a,ks[Zl++]=l,ks[Zl++]=u,ks[Zl++]=p,lm|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function cm(a,l,u,p){return Kd(a,l,u,p),Yd(a)}function qo(a,l){return Kd(a,null,null,l),Yd(a)}function Gy(a,l,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var E=!1,w=a.return;w!==null;)w.childLanes|=u,p=w.alternate,p!==null&&(p.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(E=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,E&&l!==null&&(E=31-pn(u),a=w.hiddenUpdates,p=a[E],p===null?a[E]=[l]:p.push(l),l.lane=u|536870912),w):null}function Yd(a){if(50<Ku)throw Ku=0,xg=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Xl={};function C4(a,l,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(a,l,u,p){return new C4(a,l,u,p)}function um(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $i(a,l){var u=a.alternate;return u===null?(u=ms(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function jy(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Jd(a,l,u,p,E,w){var P=0;if(p=a,typeof a=="function")um(a)&&(P=1);else if(typeof a=="string")P=k3(a,u,ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case b:return a=ms(31,u,l,E),a.elementType=b,a.lanes=w,a;case A:return $o(u.children,E,w,l);case C:P=8,E|=24;break;case k:return a=ms(12,u,l,E|2),a.elementType=k,a.lanes=w,a;case G:return a=ms(13,u,l,E),a.elementType=G,a.lanes=w,a;case J:return a=ms(19,u,l,E),a.elementType=J,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:P=10;break e;case V:P=9;break e;case H:P=11;break e;case I:P=14;break e;case N:P=16,p=null;break e}P=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return l=ms(P,u,l,E),l.elementType=a,l.type=p,l.lanes=w,l}function $o(a,l,u,p){return a=ms(7,a,p,l),a.lanes=u,a}function fm(a,l,u){return a=ms(6,a,null,l),a.lanes=u,a}function qy(a){var l=ms(18,null,null,0);return l.stateNode=a,l}function dm(a,l,u){return l=ms(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var $y=new WeakMap;function Ds(a,l){if(typeof a=="object"&&a!==null){var u=$y.get(a);return u!==void 0?u:(l={value:a,source:l,stack:tt(l)},$y.set(a,l),l)}return{value:a,source:l,stack:tt(l)}}var Ql=[],ec=0,Wd=null,Cu=0,Ms=[],Ps=0,Oa=null,Ai=1,Ci="";function Ki(a,l){Ql[ec++]=Cu,Ql[ec++]=Wd,Wd=a,Cu=l}function Ky(a,l,u){Ms[Ps++]=Ai,Ms[Ps++]=Ci,Ms[Ps++]=Oa,Oa=a;var p=Ai;a=Ci;var E=32-pn(p)-1;p&=~(1<<E),u+=1;var w=32-pn(l)+E;if(30<w){var P=E-E%5;w=(p&(1<<P)-1).toString(32),p>>=P,E-=P,Ai=1<<32-pn(l)+E|u<<E|p,Ci=w+a}else Ai=1<<w|u<<E|p,Ci=a}function hm(a){a.return!==null&&(Ki(a,1),Ky(a,1,0))}function pm(a){for(;a===Wd;)Wd=Ql[--ec],Ql[ec]=null,Cu=Ql[--ec],Ql[ec]=null;for(;a===Oa;)Oa=Ms[--Ps],Ms[Ps]=null,Ci=Ms[--Ps],Ms[Ps]=null,Ai=Ms[--Ps],Ms[Ps]=null}function Yy(a,l){Ms[Ps++]=Ai,Ms[Ps++]=Ci,Ms[Ps++]=Oa,Ai=l.id,Ci=l.overflow,Oa=a}var mr=null,mn=null,Ot=!1,La=null,Fs=!1,mm=Error(r(519));function Ua(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bu(Ds(l,a)),mm}function Jy(a){var l=a.stateNode,u=a.type,p=a.memoizedProps;switch(l[K]=a,l[W]=p,u){case"dialog":Nt("cancel",l),Nt("close",l);break;case"iframe":case"object":case"embed":Nt("load",l);break;case"video":case"audio":for(u=0;u<Ju.length;u++)Nt(Ju[u],l);break;case"source":Nt("error",l);break;case"img":case"image":case"link":Nt("error",l),Nt("load",l);break;case"details":Nt("toggle",l);break;case"input":Nt("invalid",l),Id(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Nt("invalid",l);break;case"textarea":Nt("invalid",l),Ia(l,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||dT(l.textContent,u)?(p.popover!=null&&(Nt("beforetoggle",l),Nt("toggle",l)),p.onScroll!=null&&Nt("scroll",l),p.onScrollEnd!=null&&Nt("scrollend",l),p.onClick!=null&&(l.onclick=Qs),l=!0):l=!1,l||Ua(a,!0)}function Wy(a){for(mr=a.return;mr;)switch(mr.tag){case 5:case 31:case 13:Fs=!1;return;case 27:case 3:Fs=!0;return;default:mr=mr.return}}function tc(a){if(a!==mr)return!1;if(!Ot)return Wy(a),Ot=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Mg(a.type,a.memoizedProps)),u=!u),u&&mn&&Ua(a),Wy(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));mn=ET(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));mn=ET(a)}else l===27?(l=mn,Xa(a.type)?(a=Ug,Ug=null,mn=a):mn=l):mn=mr?Ls(a.stateNode.nextSibling):null;return!0}function Ko(){mn=mr=null,Ot=!1}function gm(){var a=La;return a!==null&&(is===null?is=a:is.push.apply(is,a),La=null),a}function bu(a){La===null?La=[a]:La.push(a)}var vm=X(null),Yo=null,Yi=null;function Va(a,l,u){Q(vm,l._currentValue),l._currentValue=u}function Ji(a){a._currentValue=vm.current,z(vm)}function xm(a,l,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===u)break;a=a.return}}function ym(a,l,u,p){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var w=E.dependencies;if(w!==null){var P=E.child;w=w.firstContext;e:for(;w!==null;){var q=w;w=E;for(var oe=0;oe<l.length;oe++)if(q.context===l[oe]){w.lanes|=u,q=w.alternate,q!==null&&(q.lanes|=u),xm(w.return,u,a),p||(P=null);break e}w=q.next}}else if(E.tag===18){if(P=E.return,P===null)throw Error(r(341));P.lanes|=u,w=P.alternate,w!==null&&(w.lanes|=u),xm(P,u,a),P=null}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===a){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}}function nc(a,l,u,p){a=null;for(var E=l,w=!1;E!==null;){if(!w){if((E.flags&524288)!==0)w=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var P=E.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var q=E.type;ps(E.pendingProps.value,P.value)||(a!==null?a.push(q):a=[q])}}else if(E===ve.current){if(P=E.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(ef):a=[ef])}E=E.return}a!==null&&ym(l,a,u,p),l.flags|=262144}function Zd(a){for(a=a.firstContext;a!==null;){if(!ps(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Jo(a){Yo=a,Yi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function gr(a){return Zy(Yo,a)}function Xd(a,l){return Yo===null&&Jo(a),Zy(a,l)}function Zy(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Yi===null){if(a===null)throw Error(r(308));Yi=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Yi=Yi.next=l;return u}var b4=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},N4=t.unstable_scheduleCallback,I4=t.unstable_NormalPriority,Gn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new b4,data:new Map,refCount:0}}function Nu(a){a.refCount--,a.refCount===0&&N4(I4,function(){a.controller.abort()})}var Iu=null,Em=0,rc=0,sc=null;function R4(a,l){if(Iu===null){var u=Iu=[];Em=0,rc=Sg(),sc={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Em++,l.then(Xy,Xy),l}function Xy(){if(--Em===0&&Iu!==null){sc!==null&&(sc.status="fulfilled");var a=Iu;Iu=null,rc=0,sc=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function k4(a,l){var u=[],p={status:"pending",value:null,reason:null,then:function(E){u.push(E)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var E=0;E<u.length;E++)(0,u[E])(l)},function(E){for(p.status="rejected",p.reason=E,E=0;E<u.length;E++)(0,u[E])(void 0)}),p}var Qy=ae.S;ae.S=function(a,l){OE=pt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&R4(a,l),Qy!==null&&Qy(a,l)};var Wo=X(null);function Tm(){var a=Wo.current;return a!==null?a:dn.pooledCache}function Qd(a,l){l===null?Q(Wo,Wo.current):Q(Wo,l.pool)}function e_(){var a=Tm();return a===null?null:{parent:Gn._currentValue,pool:a}}var ic=Error(r(460)),wm=Error(r(474)),eh=Error(r(542)),th={then:function(){}};function t_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function n_(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(Qs,Qs),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,s_(a),a;default:if(typeof l.status=="string")l.then(Qs,Qs);else{if(a=dn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=p}},function(p){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,s_(a),a}throw Xo=l,ic}}function Zo(a){try{var l=a._init;return l(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Xo=u,ic):u}}var Xo=null;function r_(){if(Xo===null)throw Error(r(459));var a=Xo;return Xo=null,a}function s_(a){if(a===ic||a===eh)throw Error(r(483))}var ac=null,Ru=0;function nh(a){var l=Ru;return Ru+=1,ac===null&&(ac=[]),n_(ac,a,l)}function ku(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function rh(a,l){throw l.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function i_(a){function l(me,ue){if(a){var Te=me.deletions;Te===null?(me.deletions=[ue],me.flags|=16):Te.push(ue)}}function u(me,ue){if(!a)return null;for(;ue!==null;)l(me,ue),ue=ue.sibling;return null}function p(me){for(var ue=new Map;me!==null;)me.key!==null?ue.set(me.key,me):ue.set(me.index,me),me=me.sibling;return ue}function E(me,ue){return me=$i(me,ue),me.index=0,me.sibling=null,me}function w(me,ue,Te){return me.index=Te,a?(Te=me.alternate,Te!==null?(Te=Te.index,Te<ue?(me.flags|=67108866,ue):Te):(me.flags|=67108866,ue)):(me.flags|=1048576,ue)}function P(me){return a&&me.alternate===null&&(me.flags|=67108866),me}function q(me,ue,Te,Me){return ue===null||ue.tag!==6?(ue=fm(Te,me.mode,Me),ue.return=me,ue):(ue=E(ue,Te),ue.return=me,ue)}function oe(me,ue,Te,Me){var it=Te.type;return it===A?ke(me,ue,Te.props.children,Me,Te.key):ue!==null&&(ue.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===N&&Zo(it)===ue.type)?(ue=E(ue,Te.props),ku(ue,Te),ue.return=me,ue):(ue=Jd(Te.type,Te.key,Te.props,null,me.mode,Me),ku(ue,Te),ue.return=me,ue)}function we(me,ue,Te,Me){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==Te.containerInfo||ue.stateNode.implementation!==Te.implementation?(ue=dm(Te,me.mode,Me),ue.return=me,ue):(ue=E(ue,Te.children||[]),ue.return=me,ue)}function ke(me,ue,Te,Me,it){return ue===null||ue.tag!==7?(ue=$o(Te,me.mode,Me,it),ue.return=me,ue):(ue=E(ue,Te),ue.return=me,ue)}function Pe(me,ue,Te){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=fm(""+ue,me.mode,Te),ue.return=me,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case T:return Te=Jd(ue.type,ue.key,ue.props,null,me.mode,Te),ku(Te,ue),Te.return=me,Te;case S:return ue=dm(ue,me.mode,Te),ue.return=me,ue;case N:return ue=Zo(ue),Pe(me,ue,Te)}if(pe(ue)||M(ue))return ue=$o(ue,me.mode,Te,null),ue.return=me,ue;if(typeof ue.then=="function")return Pe(me,nh(ue),Te);if(ue.$$typeof===D)return Pe(me,Xd(me,ue),Te);rh(me,ue)}return null}function Se(me,ue,Te,Me){var it=ue!==null?ue.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return it!==null?null:q(me,ue,""+Te,Me);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:return Te.key===it?oe(me,ue,Te,Me):null;case S:return Te.key===it?we(me,ue,Te,Me):null;case N:return Te=Zo(Te),Se(me,ue,Te,Me)}if(pe(Te)||M(Te))return it!==null?null:ke(me,ue,Te,Me,null);if(typeof Te.then=="function")return Se(me,ue,nh(Te),Me);if(Te.$$typeof===D)return Se(me,ue,Xd(me,Te),Me);rh(me,Te)}return null}function Ce(me,ue,Te,Me,it){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return me=me.get(Te)||null,q(ue,me,""+Me,it);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case T:return me=me.get(Me.key===null?Te:Me.key)||null,oe(ue,me,Me,it);case S:return me=me.get(Me.key===null?Te:Me.key)||null,we(ue,me,Me,it);case N:return Me=Zo(Me),Ce(me,ue,Te,Me,it)}if(pe(Me)||M(Me))return me=me.get(Te)||null,ke(ue,me,Me,it,null);if(typeof Me.then=="function")return Ce(me,ue,Te,nh(Me),it);if(Me.$$typeof===D)return Ce(me,ue,Te,Xd(ue,Me),it);rh(ue,Me)}return null}function Xe(me,ue,Te,Me){for(var it=null,Gt=null,et=ue,wt=ue=0,Dt=null;et!==null&&wt<Te.length;wt++){et.index>wt?(Dt=et,et=null):Dt=et.sibling;var jt=Se(me,et,Te[wt],Me);if(jt===null){et===null&&(et=Dt);break}a&&et&&jt.alternate===null&&l(me,et),ue=w(jt,ue,wt),Gt===null?it=jt:Gt.sibling=jt,Gt=jt,et=Dt}if(wt===Te.length)return u(me,et),Ot&&Ki(me,wt),it;if(et===null){for(;wt<Te.length;wt++)et=Pe(me,Te[wt],Me),et!==null&&(ue=w(et,ue,wt),Gt===null?it=et:Gt.sibling=et,Gt=et);return Ot&&Ki(me,wt),it}for(et=p(et);wt<Te.length;wt++)Dt=Ce(et,me,wt,Te[wt],Me),Dt!==null&&(a&&Dt.alternate!==null&&et.delete(Dt.key===null?wt:Dt.key),ue=w(Dt,ue,wt),Gt===null?it=Dt:Gt.sibling=Dt,Gt=Dt);return a&&et.forEach(function(ro){return l(me,ro)}),Ot&&Ki(me,wt),it}function ut(me,ue,Te,Me){if(Te==null)throw Error(r(151));for(var it=null,Gt=null,et=ue,wt=ue=0,Dt=null,jt=Te.next();et!==null&&!jt.done;wt++,jt=Te.next()){et.index>wt?(Dt=et,et=null):Dt=et.sibling;var ro=Se(me,et,jt.value,Me);if(ro===null){et===null&&(et=Dt);break}a&&et&&ro.alternate===null&&l(me,et),ue=w(ro,ue,wt),Gt===null?it=ro:Gt.sibling=ro,Gt=ro,et=Dt}if(jt.done)return u(me,et),Ot&&Ki(me,wt),it;if(et===null){for(;!jt.done;wt++,jt=Te.next())jt=Pe(me,jt.value,Me),jt!==null&&(ue=w(jt,ue,wt),Gt===null?it=jt:Gt.sibling=jt,Gt=jt);return Ot&&Ki(me,wt),it}for(et=p(et);!jt.done;wt++,jt=Te.next())jt=Ce(et,me,wt,jt.value,Me),jt!==null&&(a&&jt.alternate!==null&&et.delete(jt.key===null?wt:jt.key),ue=w(jt,ue,wt),Gt===null?it=jt:Gt.sibling=jt,Gt=jt);return a&&et.forEach(function(H3){return l(me,H3)}),Ot&&Ki(me,wt),it}function on(me,ue,Te,Me){if(typeof Te=="object"&&Te!==null&&Te.type===A&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:e:{for(var it=Te.key;ue!==null;){if(ue.key===it){if(it=Te.type,it===A){if(ue.tag===7){u(me,ue.sibling),Me=E(ue,Te.props.children),Me.return=me,me=Me;break e}}else if(ue.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===N&&Zo(it)===ue.type){u(me,ue.sibling),Me=E(ue,Te.props),ku(Me,Te),Me.return=me,me=Me;break e}u(me,ue);break}else l(me,ue);ue=ue.sibling}Te.type===A?(Me=$o(Te.props.children,me.mode,Me,Te.key),Me.return=me,me=Me):(Me=Jd(Te.type,Te.key,Te.props,null,me.mode,Me),ku(Me,Te),Me.return=me,me=Me)}return P(me);case S:e:{for(it=Te.key;ue!==null;){if(ue.key===it)if(ue.tag===4&&ue.stateNode.containerInfo===Te.containerInfo&&ue.stateNode.implementation===Te.implementation){u(me,ue.sibling),Me=E(ue,Te.children||[]),Me.return=me,me=Me;break e}else{u(me,ue);break}else l(me,ue);ue=ue.sibling}Me=dm(Te,me.mode,Me),Me.return=me,me=Me}return P(me);case N:return Te=Zo(Te),on(me,ue,Te,Me)}if(pe(Te))return Xe(me,ue,Te,Me);if(M(Te)){if(it=M(Te),typeof it!="function")throw Error(r(150));return Te=it.call(Te),ut(me,ue,Te,Me)}if(typeof Te.then=="function")return on(me,ue,nh(Te),Me);if(Te.$$typeof===D)return on(me,ue,Xd(me,Te),Me);rh(me,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ue!==null&&ue.tag===6?(u(me,ue.sibling),Me=E(ue,Te),Me.return=me,me=Me):(u(me,ue),Me=fm(Te,me.mode,Me),Me.return=me,me=Me),P(me)):u(me,ue)}return function(me,ue,Te,Me){try{Ru=0;var it=on(me,ue,Te,Me);return ac=null,it}catch(et){if(et===ic||et===eh)throw et;var Gt=ms(29,et,null,me.mode);return Gt.lanes=Me,Gt.return=me,Gt}}}var Qo=i_(!0),a_=i_(!1),Ba=!1;function Sm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Am(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function za(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ha(a,l,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Yt&2)!==0){var E=p.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),p.pending=l,l=Yd(a),Gy(a,null,u),l}return Kd(a,p,l,u),Yd(a)}function Du(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,u|=p,l.lanes=u,Ct(a,u)}}function Cm(a,l){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var E=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?E=w=P:w=w.next=P,u=u.next}while(u!==null);w===null?E=w=l:w=w.next=l}else E=w=l;u={baseState:p.baseState,firstBaseUpdate:E,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var bm=!1;function Mu(){if(bm){var a=sc;if(a!==null)throw a}}function Pu(a,l,u,p){bm=!1;var E=a.updateQueue;Ba=!1;var w=E.firstBaseUpdate,P=E.lastBaseUpdate,q=E.shared.pending;if(q!==null){E.shared.pending=null;var oe=q,we=oe.next;oe.next=null,P===null?w=we:P.next=we,P=oe;var ke=a.alternate;ke!==null&&(ke=ke.updateQueue,q=ke.lastBaseUpdate,q!==P&&(q===null?ke.firstBaseUpdate=we:q.next=we,ke.lastBaseUpdate=oe))}if(w!==null){var Pe=E.baseState;P=0,ke=we=oe=null,q=w;do{var Se=q.lane&-536870913,Ce=Se!==q.lane;if(Ce?(kt&Se)===Se:(p&Se)===Se){Se!==0&&Se===rc&&(bm=!0),ke!==null&&(ke=ke.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Xe=a,ut=q;Se=l;var on=u;switch(ut.tag){case 1:if(Xe=ut.payload,typeof Xe=="function"){Pe=Xe.call(on,Pe,Se);break e}Pe=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=ut.payload,Se=typeof Xe=="function"?Xe.call(on,Pe,Se):Xe,Se==null)break e;Pe=g({},Pe,Se);break e;case 2:Ba=!0}}Se=q.callback,Se!==null&&(a.flags|=64,Ce&&(a.flags|=8192),Ce=E.callbacks,Ce===null?E.callbacks=[Se]:Ce.push(Se))}else Ce={lane:Se,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ke===null?(we=ke=Ce,oe=Pe):ke=ke.next=Ce,P|=Se;if(q=q.next,q===null){if(q=E.shared.pending,q===null)break;Ce=q,q=Ce.next,Ce.next=null,E.lastBaseUpdate=Ce,E.shared.pending=null}}while(!0);ke===null&&(oe=Pe),E.baseState=oe,E.firstBaseUpdate=we,E.lastBaseUpdate=ke,w===null&&(E.shared.lanes=0),Ka|=P,a.lanes=P,a.memoizedState=Pe}}function o_(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function l_(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)o_(u[a],l)}var oc=X(null),sh=X(0);function c_(a,l){a=sa,Q(sh,a),Q(oc,l),sa=a|l.baseLanes}function Nm(){Q(sh,sa),Q(oc,oc.current)}function Im(){sa=sh.current,z(oc),z(sh)}var gs=X(null),Os=null;function Ga(a){var l=a.alternate;Q(Pn,Pn.current&1),Q(gs,a),Os===null&&(l===null||oc.current!==null||l.memoizedState!==null)&&(Os=a)}function Rm(a){Q(Pn,Pn.current),Q(gs,a),Os===null&&(Os=a)}function u_(a){a.tag===22?(Q(Pn,Pn.current),Q(gs,a),Os===null&&(Os=a)):ja()}function ja(){Q(Pn,Pn.current),Q(gs,gs.current)}function vs(a){z(gs),Os===a&&(Os=null),z(Pn)}var Pn=X(0);function ih(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Og(u)||Lg(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Wi=0,Et=null,sn=null,jn=null,ah=!1,lc=!1,el=!1,oh=0,Fu=0,cc=null,D4=0;function bn(){throw Error(r(321))}function km(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!ps(a[u],l[u]))return!1;return!0}function Dm(a,l,u,p,E,w){return Wi=w,Et=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=a===null||a.memoizedState===null?K_:Km,el=!1,w=u(p,E),el=!1,lc&&(w=d_(l,u,p,E)),f_(a),w}function f_(a){ae.H=Uu;var l=sn!==null&&sn.next!==null;if(Wi=0,jn=sn=Et=null,ah=!1,Fu=0,cc=null,l)throw Error(r(300));a===null||qn||(a=a.dependencies,a!==null&&Zd(a)&&(qn=!0))}function d_(a,l,u,p){Et=a;var E=0;do{if(lc&&(cc=null),Fu=0,lc=!1,25<=E)throw Error(r(301));if(E+=1,jn=sn=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}ae.H=Y_,w=l(u,p)}while(lc);return w}function M4(){var a=ae.H,l=a.useState()[0];return l=typeof l.then=="function"?Ou(l):l,a=a.useState()[0],(sn!==null?sn.memoizedState:null)!==a&&(Et.flags|=1024),l}function Mm(){var a=oh!==0;return oh=0,a}function Pm(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function Fm(a){if(ah){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}ah=!1}Wi=0,jn=sn=Et=null,lc=!1,Fu=oh=0,cc=null}function Gr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Et.memoizedState=jn=a:jn=jn.next=a,jn}function Fn(){if(sn===null){var a=Et.alternate;a=a!==null?a.memoizedState:null}else a=sn.next;var l=jn===null?Et.memoizedState:jn.next;if(l!==null)jn=l,sn=a;else{if(a===null)throw Et.alternate===null?Error(r(467)):Error(r(310));sn=a,a={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},jn===null?Et.memoizedState=jn=a:jn=jn.next=a}return jn}function lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(a){var l=Fu;return Fu+=1,cc===null&&(cc=[]),a=n_(cc,a,l),l=Et,(jn===null?l.memoizedState:jn.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?K_:Km),a}function ch(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Ou(a);if(a.$$typeof===D)return gr(a)}throw Error(r(438,String(a)))}function Om(a){var l=null,u=Et.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=Et.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=lh(),Et.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),p=0;p<a;p++)u[p]=F;return l.index++,u}function Zi(a,l){return typeof l=="function"?l(a):l}function uh(a){var l=Fn();return Lm(l,sn,a)}function Lm(a,l,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var E=a.baseQueue,w=p.pending;if(w!==null){if(E!==null){var P=E.next;E.next=w.next,w.next=P}l.baseQueue=E=w,p.pending=null}if(w=a.baseState,E===null)a.memoizedState=w;else{l=E.next;var q=P=null,oe=null,we=l,ke=!1;do{var Pe=we.lane&-536870913;if(Pe!==we.lane?(kt&Pe)===Pe:(Wi&Pe)===Pe){var Se=we.revertLane;if(Se===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Pe===rc&&(ke=!0);else if((Wi&Se)===Se){we=we.next,Se===rc&&(ke=!0);continue}else Pe={lane:0,revertLane:we.revertLane,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},oe===null?(q=oe=Pe,P=w):oe=oe.next=Pe,Et.lanes|=Se,Ka|=Se;Pe=we.action,el&&u(w,Pe),w=we.hasEagerState?we.eagerState:u(w,Pe)}else Se={lane:Pe,revertLane:we.revertLane,gesture:we.gesture,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},oe===null?(q=oe=Se,P=w):oe=oe.next=Se,Et.lanes|=Pe,Ka|=Pe;we=we.next}while(we!==null&&we!==l);if(oe===null?P=w:oe.next=q,!ps(w,a.memoizedState)&&(qn=!0,ke&&(u=sc,u!==null)))throw u;a.memoizedState=w,a.baseState=P,a.baseQueue=oe,p.lastRenderedState=w}return E===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Um(a){var l=Fn(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,E=u.pending,w=l.memoizedState;if(E!==null){u.pending=null;var P=E=E.next;do w=a(w,P.action),P=P.next;while(P!==E);ps(w,l.memoizedState)||(qn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,p]}function h_(a,l,u){var p=Et,E=Fn(),w=Ot;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=l();var P=!ps((sn||E).memoizedState,u);if(P&&(E.memoizedState=u,qn=!0),E=E.queue,zm(g_.bind(null,p,E,a),[a]),E.getSnapshot!==l||P||jn!==null&&jn.memoizedState.tag&1){if(p.flags|=2048,uc(9,{destroy:void 0},m_.bind(null,p,E,u,l),null),dn===null)throw Error(r(349));w||(Wi&127)!==0||p_(p,l,u)}return u}function p_(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=Et.updateQueue,l===null?(l=lh(),Et.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function m_(a,l,u,p){l.value=u,l.getSnapshot=p,v_(l)&&x_(a)}function g_(a,l,u){return u(function(){v_(l)&&x_(a)})}function v_(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!ps(a,u)}catch{return!0}}function x_(a){var l=qo(a,2);l!==null&&as(l,a,2)}function Vm(a){var l=Gr();if(typeof a=="function"){var u=a;if(a=u(),el){dr(!0);try{u()}finally{dr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},l}function y_(a,l,u,p){return a.baseState=u,Lm(a,sn,typeof p=="function"?p:Zi)}function P4(a,l,u,p,E){if(hh(a))throw Error(r(485));if(a=l.action,a!==null){var w={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){w.listeners.push(P)}};ae.T!==null?u(!0):w.isTransition=!1,p(w),u=l.pending,u===null?(w.next=l.pending=w,__(l,w)):(w.next=u.next,l.pending=u.next=w)}}function __(a,l){var u=l.action,p=l.payload,E=a.state;if(l.isTransition){var w=ae.T,P={};ae.T=P;try{var q=u(E,p),oe=ae.S;oe!==null&&oe(P,q),E_(a,l,q)}catch(we){Bm(a,l,we)}finally{w!==null&&P.types!==null&&(w.types=P.types),ae.T=w}}else try{w=u(E,p),E_(a,l,w)}catch(we){Bm(a,l,we)}}function E_(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){T_(a,l,p)},function(p){return Bm(a,l,p)}):T_(a,l,u)}function T_(a,l,u){l.status="fulfilled",l.value=u,w_(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,__(a,u)))}function Bm(a,l,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,w_(l),l=l.next;while(l!==p)}a.action=null}function w_(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function S_(a,l){return l}function A_(a,l){if(Ot){var u=dn.formState;if(u!==null){e:{var p=Et;if(Ot){if(mn){t:{for(var E=mn,w=Fs;E.nodeType!==8;){if(!w){E=null;break t}if(E=Ls(E.nextSibling),E===null){E=null;break t}}w=E.data,E=w==="F!"||w==="F"?E:null}if(E){mn=Ls(E.nextSibling),p=E.data==="F!";break e}}Ua(p)}p=!1}p&&(l=u[0])}}return u=Gr(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:l},u.queue=p,u=j_.bind(null,Et,p),p.dispatch=u,p=Vm(!1),w=$m.bind(null,Et,!1,p.queue),p=Gr(),E={state:l,dispatch:null,action:a,pending:null},p.queue=E,u=P4.bind(null,Et,E,w,u),E.dispatch=u,p.memoizedState=a,[l,u,!1]}function C_(a){var l=Fn();return b_(l,sn,a)}function b_(a,l,u){if(l=Lm(a,l,S_)[0],a=uh(Zi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Ou(l)}catch(P){throw P===ic?eh:P}else p=l;l=Fn();var E=l.queue,w=E.dispatch;return u!==l.memoizedState&&(Et.flags|=2048,uc(9,{destroy:void 0},F4.bind(null,E,u),null)),[p,w,a]}function F4(a,l){a.action=l}function N_(a){var l=Fn(),u=sn;if(u!==null)return b_(l,u,a);Fn(),l=l.memoizedState,u=Fn();var p=u.queue.dispatch;return u.memoizedState=a,[l,p,!1]}function uc(a,l,u,p){return a={tag:a,create:u,deps:p,inst:l,next:null},l=Et.updateQueue,l===null&&(l=lh(),Et.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,l.lastEffect=a),a}function I_(){return Fn().memoizedState}function fh(a,l,u,p){var E=Gr();Et.flags|=a,E.memoizedState=uc(1|l,{destroy:void 0},u,p===void 0?null:p)}function dh(a,l,u,p){var E=Fn();p=p===void 0?null:p;var w=E.memoizedState.inst;sn!==null&&p!==null&&km(p,sn.memoizedState.deps)?E.memoizedState=uc(l,w,u,p):(Et.flags|=a,E.memoizedState=uc(1|l,w,u,p))}function R_(a,l){fh(8390656,8,a,l)}function zm(a,l){dh(2048,8,a,l)}function O4(a){Et.flags|=4;var l=Et.updateQueue;if(l===null)l=lh(),Et.updateQueue=l,l.events=[a];else{var u=l.events;u===null?l.events=[a]:u.push(a)}}function k_(a){var l=Fn().memoizedState;return O4({ref:l,nextImpl:a}),function(){if((Yt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function D_(a,l){return dh(4,2,a,l)}function M_(a,l){return dh(4,4,a,l)}function P_(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function F_(a,l,u){u=u!=null?u.concat([a]):null,dh(4,4,P_.bind(null,l,a),u)}function Hm(){}function O_(a,l){var u=Fn();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&km(l,p[1])?p[0]:(u.memoizedState=[a,l],a)}function L_(a,l){var u=Fn();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&km(l,p[1]))return p[0];if(p=a(),el){dr(!0);try{a()}finally{dr(!1)}}return u.memoizedState=[p,l],p}function Gm(a,l,u){return u===void 0||(Wi&1073741824)!==0&&(kt&261930)===0?a.memoizedState=l:(a.memoizedState=u,a=UE(),Et.lanes|=a,Ka|=a,u)}function U_(a,l,u,p){return ps(u,l)?u:oc.current!==null?(a=Gm(a,u,p),ps(a,l)||(qn=!0),a):(Wi&42)===0||(Wi&1073741824)!==0&&(kt&261930)===0?(qn=!0,a.memoizedState=u):(a=UE(),Et.lanes|=a,Ka|=a,l)}function V_(a,l,u,p,E){var w=ce.p;ce.p=w!==0&&8>w?w:8;var P=ae.T,q={};ae.T=q,$m(a,!1,l,u);try{var oe=E(),we=ae.S;if(we!==null&&we(q,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var ke=k4(oe,p);Lu(a,l,ke,_s(a))}else Lu(a,l,p,_s(a))}catch(Pe){Lu(a,l,{then:function(){},status:"rejected",reason:Pe},_s())}finally{ce.p=w,P!==null&&q.types!==null&&(P.types=q.types),ae.T=P}}function L4(){}function jm(a,l,u,p){if(a.tag!==5)throw Error(r(476));var E=B_(a).queue;V_(a,E,l,ee,u===null?L4:function(){return z_(a),u(p)})}function B_(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ee},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function z_(a){var l=B_(a);l.next===null&&(l=a.alternate.memoizedState),Lu(a,l.next.queue,{},_s())}function qm(){return gr(ef)}function H_(){return Fn().memoizedState}function G_(){return Fn().memoizedState}function U4(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=_s();a=za(u);var p=Ha(l,a,u);p!==null&&(as(p,l,u),Du(p,l,u)),l={cache:_m()},a.payload=l;return}l=l.return}}function V4(a,l,u){var p=_s();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hh(a)?q_(l,u):(u=cm(a,l,u,p),u!==null&&(as(u,a,p),$_(u,l,p)))}function j_(a,l,u){var p=_s();Lu(a,l,u,p)}function Lu(a,l,u,p){var E={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(hh(a))q_(l,E);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var P=l.lastRenderedState,q=w(P,u);if(E.hasEagerState=!0,E.eagerState=q,ps(q,P))return Kd(a,l,E,0),dn===null&&$d(),!1}catch{}if(u=cm(a,l,E,p),u!==null)return as(u,a,p),$_(u,l,p),!0}return!1}function $m(a,l,u,p){if(p={lane:2,revertLane:Sg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},hh(a)){if(l)throw Error(r(479))}else l=cm(a,u,p,2),l!==null&&as(l,a,2)}function hh(a){var l=a.alternate;return a===Et||l!==null&&l===Et}function q_(a,l){lc=ah=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function $_(a,l,u){if((u&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,u|=p,l.lanes=u,Ct(a,u)}}var Uu={readContext:gr,use:ch,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn};Uu.useEffectEvent=bn;var K_={readContext:gr,use:ch,useCallback:function(a,l){return Gr().memoizedState=[a,l===void 0?null:l],a},useContext:gr,useEffect:R_,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,fh(4194308,4,P_.bind(null,l,a),u)},useLayoutEffect:function(a,l){return fh(4194308,4,a,l)},useInsertionEffect:function(a,l){fh(4,2,a,l)},useMemo:function(a,l){var u=Gr();l=l===void 0?null:l;var p=a();if(el){dr(!0);try{a()}finally{dr(!1)}}return u.memoizedState=[p,l],p},useReducer:function(a,l,u){var p=Gr();if(u!==void 0){var E=u(l);if(el){dr(!0);try{u(l)}finally{dr(!1)}}}else E=l;return p.memoizedState=p.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},p.queue=a,a=a.dispatch=V4.bind(null,Et,a),[p.memoizedState,a]},useRef:function(a){var l=Gr();return a={current:a},l.memoizedState=a},useState:function(a){a=Vm(a);var l=a.queue,u=j_.bind(null,Et,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:Hm,useDeferredValue:function(a,l){var u=Gr();return Gm(u,a,l)},useTransition:function(){var a=Vm(!1);return a=V_.bind(null,Et,a.queue,!0,!1),Gr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var p=Et,E=Gr();if(Ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),dn===null)throw Error(r(349));(kt&127)!==0||p_(p,l,u)}E.memoizedState=u;var w={value:u,getSnapshot:l};return E.queue=w,R_(g_.bind(null,p,w,a),[a]),p.flags|=2048,uc(9,{destroy:void 0},m_.bind(null,p,w,u,l),null),u},useId:function(){var a=Gr(),l=dn.identifierPrefix;if(Ot){var u=Ci,p=Ai;u=(p&~(1<<32-pn(p)-1)).toString(32)+u,l="_"+l+"R_"+u,u=oh++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=D4++,l="_"+l+"r_"+u.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:qm,useFormState:A_,useActionState:A_,useOptimistic:function(a){var l=Gr();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=$m.bind(null,Et,!0,u),u.dispatch=l,[a,l]},useMemoCache:Om,useCacheRefresh:function(){return Gr().memoizedState=U4.bind(null,Et)},useEffectEvent:function(a){var l=Gr(),u={impl:a};return l.memoizedState=u,function(){if((Yt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Km={readContext:gr,use:ch,useCallback:O_,useContext:gr,useEffect:zm,useImperativeHandle:F_,useInsertionEffect:D_,useLayoutEffect:M_,useMemo:L_,useReducer:uh,useRef:I_,useState:function(){return uh(Zi)},useDebugValue:Hm,useDeferredValue:function(a,l){var u=Fn();return U_(u,sn.memoizedState,a,l)},useTransition:function(){var a=uh(Zi)[0],l=Fn().memoizedState;return[typeof a=="boolean"?a:Ou(a),l]},useSyncExternalStore:h_,useId:H_,useHostTransitionStatus:qm,useFormState:C_,useActionState:C_,useOptimistic:function(a,l){var u=Fn();return y_(u,sn,a,l)},useMemoCache:Om,useCacheRefresh:G_};Km.useEffectEvent=k_;var Y_={readContext:gr,use:ch,useCallback:O_,useContext:gr,useEffect:zm,useImperativeHandle:F_,useInsertionEffect:D_,useLayoutEffect:M_,useMemo:L_,useReducer:Um,useRef:I_,useState:function(){return Um(Zi)},useDebugValue:Hm,useDeferredValue:function(a,l){var u=Fn();return sn===null?Gm(u,a,l):U_(u,sn.memoizedState,a,l)},useTransition:function(){var a=Um(Zi)[0],l=Fn().memoizedState;return[typeof a=="boolean"?a:Ou(a),l]},useSyncExternalStore:h_,useId:H_,useHostTransitionStatus:qm,useFormState:N_,useActionState:N_,useOptimistic:function(a,l){var u=Fn();return sn!==null?y_(u,sn,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Om,useCacheRefresh:G_};Y_.useEffectEvent=k_;function Ym(a,l,u,p){l=a.memoizedState,u=u(p,l),u=u==null?l:g({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Jm={enqueueSetState:function(a,l,u){a=a._reactInternals;var p=_s(),E=za(p);E.payload=l,u!=null&&(E.callback=u),l=Ha(a,E,p),l!==null&&(as(l,a,p),Du(l,a,p))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var p=_s(),E=za(p);E.tag=1,E.payload=l,u!=null&&(E.callback=u),l=Ha(a,E,p),l!==null&&(as(l,a,p),Du(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=_s(),p=za(u);p.tag=2,l!=null&&(p.callback=l),l=Ha(a,p,u),l!==null&&(as(l,a,u),Du(l,a,u))}};function J_(a,l,u,p,E,w,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,P):l.prototype&&l.prototype.isPureReactComponent?!Su(u,p)||!Su(E,w):!0}function W_(a,l,u,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==a&&Jm.enqueueReplaceState(l,l.state,null)}function tl(a,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(a=a.defaultProps){u===l&&(u=g({},u));for(var E in a)u[E]===void 0&&(u[E]=a[E])}return u}function Z_(a){qd(a)}function X_(a){console.error(a)}function Q_(a){qd(a)}function ph(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function eE(a,l,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function Wm(a,l,u){return u=za(u),u.tag=3,u.payload={element:null},u.callback=function(){ph(a,l)},u}function tE(a){return a=za(a),a.tag=3,a}function nE(a,l,u,p){var E=u.type.getDerivedStateFromError;if(typeof E=="function"){var w=p.value;a.payload=function(){return E(w)},a.callback=function(){eE(l,u,p)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){eE(l,u,p),typeof E!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})})}function B4(a,l,u,p,E){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&nc(l,u,E,!0),u=gs.current,u!==null){switch(u.tag){case 31:case 13:return Os===null?Ch():u.alternate===null&&Nn===0&&(Nn=3),u.flags&=-257,u.flags|=65536,u.lanes=E,p===th?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),Eg(a,p,E)),!1;case 22:return u.flags|=65536,p===th?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),Eg(a,p,E)),!1}throw Error(r(435,u.tag))}return Eg(a,p,E),Ch(),!1}if(Ot)return l=gs.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,p!==mm&&(a=Error(r(422),{cause:p}),bu(Ds(a,u)))):(p!==mm&&(l=Error(r(423),{cause:p}),bu(Ds(l,u))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,p=Ds(p,u),E=Wm(a.stateNode,p,E),Cm(a,E),Nn!==4&&(Nn=2)),!1;var w=Error(r(520),{cause:p});if(w=Ds(w,u),$u===null?$u=[w]:$u.push(w),Nn!==4&&(Nn=2),l===null)return!0;p=Ds(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=E&-E,u.lanes|=a,a=Wm(u.stateNode,p,a),Cm(u,a),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ya===null||!Ya.has(w))))return u.flags|=65536,E&=-E,u.lanes|=E,E=tE(E),nE(E,a,u,p),Cm(u,E),!1}u=u.return}while(u!==null);return!1}var Zm=Error(r(461)),qn=!1;function vr(a,l,u,p){l.child=a===null?a_(l,null,u,p):Qo(l,a.child,u,p)}function rE(a,l,u,p,E){u=u.render;var w=l.ref;if("ref"in p){var P={};for(var q in p)q!=="ref"&&(P[q]=p[q])}else P=p;return Jo(l),p=Dm(a,l,u,P,w,E),q=Mm(),a!==null&&!qn?(Pm(a,l,E),Xi(a,l,E)):(Ot&&q&&hm(l),l.flags|=1,vr(a,l,p,E),l.child)}function sE(a,l,u,p,E){if(a===null){var w=u.type;return typeof w=="function"&&!um(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,iE(a,l,w,p,E)):(a=Jd(u.type,null,p,l,l.mode,E),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!ig(a,E)){var P=w.memoizedProps;if(u=u.compare,u=u!==null?u:Su,u(P,p)&&a.ref===l.ref)return Xi(a,l,E)}return l.flags|=1,a=$i(w,p),a.ref=l.ref,a.return=l,l.child=a}function iE(a,l,u,p,E){if(a!==null){var w=a.memoizedProps;if(Su(w,p)&&a.ref===l.ref)if(qn=!1,l.pendingProps=p=w,ig(a,E))(a.flags&131072)!==0&&(qn=!0);else return l.lanes=a.lanes,Xi(a,l,E)}return Xm(a,l,u,p,E)}function aE(a,l,u,p){var E=p.children,w=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,a!==null){for(p=l.child=a.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;p=E&~w}else p=0,l.child=null;return oE(a,l,w,u,p)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Qd(l,w!==null?w.cachePool:null),w!==null?c_(l,w):Nm(),u_(l);else return p=l.lanes=536870912,oE(a,l,w!==null?w.baseLanes|u:u,u,p)}else w!==null?(Qd(l,w.cachePool),c_(l,w),ja(),l.memoizedState=null):(a!==null&&Qd(l,null),Nm(),ja());return vr(a,l,E,u),l.child}function Vu(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function oE(a,l,u,p,E){var w=Tm();return w=w===null?null:{parent:Gn._currentValue,pool:w},l.memoizedState={baseLanes:u,cachePool:w},a!==null&&Qd(l,null),Nm(),u_(l),a!==null&&nc(a,l,p,!0),l.childLanes=E,null}function mh(a,l){return l=vh({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function lE(a,l,u){return Qo(l,a.child,null,u),a=mh(l,l.pendingProps),a.flags|=2,vs(l),l.memoizedState=null,a}function z4(a,l,u){var p=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Ot){if(p.mode==="hidden")return a=mh(l,p),l.lanes=536870912,Vu(null,a);if(Rm(l),(a=mn)?(a=_T(a,Fs),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Oa!==null?{id:Ai,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},u=qy(a),u.return=l,l.child=u,mr=l,mn=null)):a=null,a===null)throw Ua(l);return l.lanes=536870912,null}return mh(l,p)}var w=a.memoizedState;if(w!==null){var P=w.dehydrated;if(Rm(l),E)if(l.flags&256)l.flags&=-257,l=lE(a,l,u);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(qn||nc(a,l,u,!1),E=(u&a.childLanes)!==0,qn||E){if(p=dn,p!==null&&(P=bs(p,u),P!==0&&P!==w.retryLane))throw w.retryLane=P,qo(a,P),as(p,a,P),Zm;Ch(),l=lE(a,l,u)}else a=w.treeContext,mn=Ls(P.nextSibling),mr=l,Ot=!0,La=null,Fs=!1,a!==null&&Yy(l,a),l=mh(l,p),l.flags|=4096;return l}return a=$i(a.child,{mode:p.mode,children:p.children}),a.ref=l.ref,l.child=a,a.return=l,a}function gh(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function Xm(a,l,u,p,E){return Jo(l),u=Dm(a,l,u,p,void 0,E),p=Mm(),a!==null&&!qn?(Pm(a,l,E),Xi(a,l,E)):(Ot&&p&&hm(l),l.flags|=1,vr(a,l,u,E),l.child)}function cE(a,l,u,p,E,w){return Jo(l),l.updateQueue=null,u=d_(l,p,u,E),f_(a),p=Mm(),a!==null&&!qn?(Pm(a,l,w),Xi(a,l,w)):(Ot&&p&&hm(l),l.flags|=1,vr(a,l,u,w),l.child)}function uE(a,l,u,p,E){if(Jo(l),l.stateNode===null){var w=Xl,P=u.contextType;typeof P=="object"&&P!==null&&(w=gr(P)),w=new u(p,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Jm,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=p,w.state=l.memoizedState,w.refs={},Sm(l),P=u.contextType,w.context=typeof P=="object"&&P!==null?gr(P):Xl,w.state=l.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Ym(l,u,P,p),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(P=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),P!==w.state&&Jm.enqueueReplaceState(w,w.state,null),Pu(l,p,w,E),Mu(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){w=l.stateNode;var q=l.memoizedProps,oe=tl(u,q);w.props=oe;var we=w.context,ke=u.contextType;P=Xl,typeof ke=="object"&&ke!==null&&(P=gr(ke));var Pe=u.getDerivedStateFromProps;ke=typeof Pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,ke||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(q||we!==P)&&W_(l,w,p,P),Ba=!1;var Se=l.memoizedState;w.state=Se,Pu(l,p,w,E),Mu(),we=l.memoizedState,q||Se!==we||Ba?(typeof Pe=="function"&&(Ym(l,u,Pe,p),we=l.memoizedState),(oe=Ba||J_(l,u,oe,p,Se,we,P))?(ke||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=we),w.props=p,w.state=we,w.context=P,p=oe):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{w=l.stateNode,Am(a,l),P=l.memoizedProps,ke=tl(u,P),w.props=ke,Pe=l.pendingProps,Se=w.context,we=u.contextType,oe=Xl,typeof we=="object"&&we!==null&&(oe=gr(we)),q=u.getDerivedStateFromProps,(we=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==Pe||Se!==oe)&&W_(l,w,p,oe),Ba=!1,Se=l.memoizedState,w.state=Se,Pu(l,p,w,E),Mu();var Ce=l.memoizedState;P!==Pe||Se!==Ce||Ba||a!==null&&a.dependencies!==null&&Zd(a.dependencies)?(typeof q=="function"&&(Ym(l,u,q,p),Ce=l.memoizedState),(ke=Ba||J_(l,u,ke,p,Se,Ce,oe)||a!==null&&a.dependencies!==null&&Zd(a.dependencies))?(we||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,Ce,oe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,Ce,oe)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&Se===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&Se===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Ce),w.props=p,w.state=Ce,w.context=oe,p=ke):(typeof w.componentDidUpdate!="function"||P===a.memoizedProps&&Se===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&Se===a.memoizedState||(l.flags|=1024),p=!1)}return w=p,gh(a,l),p=(l.flags&128)!==0,w||p?(w=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&p?(l.child=Qo(l,a.child,null,E),l.child=Qo(l,null,u,E)):vr(a,l,u,E),l.memoizedState=w.state,a=l.child):a=Xi(a,l,E),a}function fE(a,l,u,p){return Ko(),l.flags|=256,vr(a,l,u,p),l.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eg(a){return{baseLanes:a,cachePool:e_()}}function tg(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=ys),a}function dE(a,l,u){var p=l.pendingProps,E=!1,w=(l.flags&128)!==0,P;if((P=w)||(P=a!==null&&a.memoizedState===null?!1:(Pn.current&2)!==0),P&&(E=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ot){if(E?Ga(l):ja(),(a=mn)?(a=_T(a,Fs),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Oa!==null?{id:Ai,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},u=qy(a),u.return=l,l.child=u,mr=l,mn=null)):a=null,a===null)throw Ua(l);return Lg(a)?l.lanes=32:l.lanes=536870912,null}var q=p.children;return p=p.fallback,E?(ja(),E=l.mode,q=vh({mode:"hidden",children:q},E),p=$o(p,E,u,null),q.return=l,p.return=l,q.sibling=p,l.child=q,p=l.child,p.memoizedState=eg(u),p.childLanes=tg(a,P,u),l.memoizedState=Qm,Vu(null,p)):(Ga(l),ng(l,q))}var oe=a.memoizedState;if(oe!==null&&(q=oe.dehydrated,q!==null)){if(w)l.flags&256?(Ga(l),l.flags&=-257,l=rg(a,l,u)):l.memoizedState!==null?(ja(),l.child=a.child,l.flags|=128,l=null):(ja(),q=p.fallback,E=l.mode,p=vh({mode:"visible",children:p.children},E),q=$o(q,E,u,null),q.flags|=2,p.return=l,q.return=l,p.sibling=q,l.child=p,Qo(l,a.child,null,u),p=l.child,p.memoizedState=eg(u),p.childLanes=tg(a,P,u),l.memoizedState=Qm,l=Vu(null,p));else if(Ga(l),Lg(q)){if(P=q.nextSibling&&q.nextSibling.dataset,P)var we=P.dgst;P=we,p=Error(r(419)),p.stack="",p.digest=P,bu({value:p,source:null,stack:null}),l=rg(a,l,u)}else if(qn||nc(a,l,u,!1),P=(u&a.childLanes)!==0,qn||P){if(P=dn,P!==null&&(p=bs(P,u),p!==0&&p!==oe.retryLane))throw oe.retryLane=p,qo(a,p),as(P,a,p),Zm;Og(q)||Ch(),l=rg(a,l,u)}else Og(q)?(l.flags|=192,l.child=a.child,l=null):(a=oe.treeContext,mn=Ls(q.nextSibling),mr=l,Ot=!0,La=null,Fs=!1,a!==null&&Yy(l,a),l=ng(l,p.children),l.flags|=4096);return l}return E?(ja(),q=p.fallback,E=l.mode,oe=a.child,we=oe.sibling,p=$i(oe,{mode:"hidden",children:p.children}),p.subtreeFlags=oe.subtreeFlags&65011712,we!==null?q=$i(we,q):(q=$o(q,E,u,null),q.flags|=2),q.return=l,p.return=l,p.sibling=q,l.child=p,Vu(null,p),p=l.child,q=a.child.memoizedState,q===null?q=eg(u):(E=q.cachePool,E!==null?(oe=Gn._currentValue,E=E.parent!==oe?{parent:oe,pool:oe}:E):E=e_(),q={baseLanes:q.baseLanes|u,cachePool:E}),p.memoizedState=q,p.childLanes=tg(a,P,u),l.memoizedState=Qm,Vu(a.child,p)):(Ga(l),u=a.child,a=u.sibling,u=$i(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,a!==null&&(P=l.deletions,P===null?(l.deletions=[a],l.flags|=16):P.push(a)),l.child=u,l.memoizedState=null,u)}function ng(a,l){return l=vh({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function vh(a,l){return a=ms(22,a,null,l),a.lanes=0,a}function rg(a,l,u){return Qo(l,a.child,null,u),a=ng(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function hE(a,l,u){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),xm(a.return,l,u)}function sg(a,l,u,p,E,w){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:E,treeForkCount:w}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=u,P.tailMode=E,P.treeForkCount=w)}function pE(a,l,u){var p=l.pendingProps,E=p.revealOrder,w=p.tail;p=p.children;var P=Pn.current,q=(P&2)!==0;if(q?(P=P&1|2,l.flags|=128):P&=1,Q(Pn,P),vr(a,l,p,u),p=Ot?Cu:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&hE(a,u,l);else if(a.tag===19)hE(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(u=l.child,E=null;u!==null;)a=u.alternate,a!==null&&ih(a)===null&&(E=u),u=u.sibling;u=E,u===null?(E=l.child,l.child=null):(E=u.sibling,u.sibling=null),sg(l,!1,E,u,w,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,E=l.child,l.child=null;E!==null;){if(a=E.alternate,a!==null&&ih(a)===null){l.child=E;break}a=E.sibling,E.sibling=u,u=E,E=a}sg(l,!0,u,null,w,p);break;case"together":sg(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Xi(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),Ka|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(nc(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,u=$i(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=$i(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function ig(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Zd(a)))}function H4(a,l,u){switch(l.tag){case 3:Ne(l,l.stateNode.containerInfo),Va(l,Gn,a.memoizedState.cache),Ko();break;case 27:case 5:De(l);break;case 4:Ne(l,l.stateNode.containerInfo);break;case 10:Va(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Rm(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ga(l),l.flags|=128,null):(u&l.child.childLanes)!==0?dE(a,l,u):(Ga(l),a=Xi(a,l,u),a!==null?a.sibling:null);Ga(l);break;case 19:var E=(a.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(nc(a,l,u,!1),p=(u&l.childLanes)!==0),E){if(p)return pE(a,l,u);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Q(Pn,Pn.current),p)break;return null;case 22:return l.lanes=0,aE(a,l,u,l.pendingProps);case 24:Va(l,Gn,a.memoizedState.cache)}return Xi(a,l,u)}function mE(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)qn=!0;else{if(!ig(a,u)&&(l.flags&128)===0)return qn=!1,H4(a,l,u);qn=(a.flags&131072)!==0}else qn=!1,Ot&&(l.flags&1048576)!==0&&Ky(l,Cu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(a=Zo(l.elementType),l.type=a,typeof a=="function")um(a)?(p=tl(a,p),l.tag=1,l=uE(null,l,a,p,u)):(l.tag=0,l=Xm(null,l,a,p,u));else{if(a!=null){var E=a.$$typeof;if(E===H){l.tag=11,l=rE(null,l,a,p,u);break e}else if(E===I){l.tag=14,l=sE(null,l,a,p,u);break e}}throw l=fe(a)||a,Error(r(306,l,""))}}return l;case 0:return Xm(a,l,l.type,l.pendingProps,u);case 1:return p=l.type,E=tl(p,l.pendingProps),uE(a,l,p,E,u);case 3:e:{if(Ne(l,l.stateNode.containerInfo),a===null)throw Error(r(387));p=l.pendingProps;var w=l.memoizedState;E=w.element,Am(a,l),Pu(l,p,null,u);var P=l.memoizedState;if(p=P.cache,Va(l,Gn,p),p!==w.cache&&ym(l,[Gn],u,!0),Mu(),p=P.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=fE(a,l,p,u);break e}else if(p!==E){E=Ds(Error(r(424)),l),bu(E),l=fE(a,l,p,u);break e}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,mn=Ls(a.firstChild),mr=l,Ot=!0,La=null,Fs=!0,u=a_(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ko(),p===E){l=Xi(a,l,u);break e}vr(a,l,p,u)}l=l.child}return l;case 26:return gh(a,l),a===null?(u=CT(l.type,null,l.pendingProps,null))?l.memoizedState=u:Ot||(u=l.type,a=l.pendingProps,p=Mh(de.current).createElement(u),p[K]=l,p[W]=a,xr(p,u,a),Qe(p),l.stateNode=p):l.memoizedState=CT(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return De(l),a===null&&Ot&&(p=l.stateNode=wT(l.type,l.pendingProps,de.current),mr=l,Fs=!0,E=mn,Xa(l.type)?(Ug=E,mn=Ls(p.firstChild)):mn=E),vr(a,l,l.pendingProps.children,u),gh(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ot&&((E=p=mn)&&(p=x3(p,l.type,l.pendingProps,Fs),p!==null?(l.stateNode=p,mr=l,mn=Ls(p.firstChild),Fs=!1,E=!0):E=!1),E||Ua(l)),De(l),E=l.type,w=l.pendingProps,P=a!==null?a.memoizedProps:null,p=w.children,Mg(E,w)?p=null:P!==null&&Mg(E,P)&&(l.flags|=32),l.memoizedState!==null&&(E=Dm(a,l,M4,null,null,u),ef._currentValue=E),gh(a,l),vr(a,l,p,u),l.child;case 6:return a===null&&Ot&&((a=u=mn)&&(u=y3(u,l.pendingProps,Fs),u!==null?(l.stateNode=u,mr=l,mn=null,a=!0):a=!1),a||Ua(l)),null;case 13:return dE(a,l,u);case 4:return Ne(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Qo(l,null,p,u):vr(a,l,p,u),l.child;case 11:return rE(a,l,l.type,l.pendingProps,u);case 7:return vr(a,l,l.pendingProps,u),l.child;case 8:return vr(a,l,l.pendingProps.children,u),l.child;case 12:return vr(a,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,Va(l,l.type,p.value),vr(a,l,p.children,u),l.child;case 9:return E=l.type._context,p=l.pendingProps.children,Jo(l),E=gr(E),p=p(E),l.flags|=1,vr(a,l,p,u),l.child;case 14:return sE(a,l,l.type,l.pendingProps,u);case 15:return iE(a,l,l.type,l.pendingProps,u);case 19:return pE(a,l,u);case 31:return z4(a,l,u);case 22:return aE(a,l,u,l.pendingProps);case 24:return Jo(l),p=gr(Gn),a===null?(E=Tm(),E===null&&(E=dn,w=_m(),E.pooledCache=w,w.refCount++,w!==null&&(E.pooledCacheLanes|=u),E=w),l.memoizedState={parent:p,cache:E},Sm(l),Va(l,Gn,E)):((a.lanes&u)!==0&&(Am(a,l),Pu(l,null,null,u),Mu()),E=a.memoizedState,w=l.memoizedState,E.parent!==p?(E={parent:p,cache:p},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),Va(l,Gn,p)):(p=w.cache,Va(l,Gn,p),p!==E.cache&&ym(l,[Gn],u,!0))),vr(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Qi(a){a.flags|=4}function ag(a,l,u,p,E){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(HE())a.flags|=8192;else throw Xo=th,wm}else a.flags&=-16777217}function gE(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!kT(l))if(HE())a.flags|=8192;else throw Xo=th,wm}function xh(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Aa():536870912,a.lanes|=l,pc|=l)}function Bu(a,l){if(!Ot)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function gn(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(l)for(var E=a.child;E!==null;)u|=E.lanes|E.childLanes,p|=E.subtreeFlags&65011712,p|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)u|=E.lanes|E.childLanes,p|=E.subtreeFlags,p|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=p,a.childLanes=u,l}function G4(a,l,u){var p=l.pendingProps;switch(pm(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(l),null;case 1:return gn(l),null;case 3:return u=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ji(Gn),be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(tc(l)?Qi(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,gm())),gn(l),null;case 26:var E=l.type,w=l.memoizedState;return a===null?(Qi(l),w!==null?(gn(l),gE(l,w)):(gn(l),ag(l,E,null,p,u))):w?w!==a.memoizedState?(Qi(l),gn(l),gE(l,w)):(gn(l),l.flags&=-16777217):(a=a.memoizedProps,a!==p&&Qi(l),gn(l),ag(l,E,a,p,u)),null;case 27:if(je(l),u=de.current,E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Qi(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return gn(l),null}a=ne.current,tc(l)?Jy(l):(a=wT(E,p,u),l.stateNode=a,Qi(l))}return gn(l),null;case 5:if(je(l),E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Qi(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return gn(l),null}if(w=ne.current,tc(l))Jy(l);else{var P=Mh(de.current);switch(w){case 1:w=P.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:w=P.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":w=P.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":w=P.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":w=P.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?P.createElement(E,{is:p.is}):P.createElement(E)}}w[K]=l,w[W]=p;e:for(P=l.child;P!==null;){if(P.tag===5||P.tag===6)w.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===l)break e;for(;P.sibling===null;){if(P.return===null||P.return===l)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}l.stateNode=w;e:switch(xr(w,E,p),E){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Qi(l)}}return gn(l),ag(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,u),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&Qi(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(a=de.current,tc(l)){if(a=l.stateNode,u=l.memoizedProps,p=null,E=mr,E!==null)switch(E.tag){case 27:case 5:p=E.memoizedProps}a[K]=l,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||dT(a.nodeValue,u)),a||Ua(l,!0)}else a=Mh(a).createTextNode(p),a[K]=l,l.stateNode=a}return gn(l),null;case 31:if(u=l.memoizedState,a===null||a.memoizedState!==null){if(p=tc(l),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[K]=l}else Ko(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gn(l),a=!1}else u=gm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return l.flags&256?(vs(l),l):(vs(l),null);if((l.flags&128)!==0)throw Error(r(558))}return gn(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=tc(l),p!==null&&p.dehydrated!==null){if(a===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[K]=l}else Ko(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;gn(l),E=!1}else E=gm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(vs(l),l):(vs(l),null)}return vs(l),(l.flags&128)!==0?(l.lanes=u,l):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=l.child,E=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(E=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==E&&(p.flags|=2048)),u!==a&&u&&(l.child.flags|=8192),xh(l,l.updateQueue),gn(l),null);case 4:return be(),a===null&&Ng(l.stateNode.containerInfo),gn(l),null;case 10:return Ji(l.type),gn(l),null;case 19:if(z(Pn),p=l.memoizedState,p===null)return gn(l),null;if(E=(l.flags&128)!==0,w=p.rendering,w===null)if(E)Bu(p,!1);else{if(Nn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=ih(a),w!==null){for(l.flags|=128,Bu(p,!1),a=w.updateQueue,l.updateQueue=a,xh(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)jy(u,a),u=u.sibling;return Q(Pn,Pn.current&1|2),Ot&&Ki(l,p.treeForkCount),l.child}a=a.sibling}p.tail!==null&&pt()>wh&&(l.flags|=128,E=!0,Bu(p,!1),l.lanes=4194304)}else{if(!E)if(a=ih(w),a!==null){if(l.flags|=128,E=!0,a=a.updateQueue,l.updateQueue=a,xh(l,a),Bu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ot)return gn(l),null}else 2*pt()-p.renderingStartTime>wh&&u!==536870912&&(l.flags|=128,E=!0,Bu(p,!1),l.lanes=4194304);p.isBackwards?(w.sibling=l.child,l.child=w):(a=p.last,a!==null?a.sibling=w:l.child=w,p.last=w)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=pt(),a.sibling=null,u=Pn.current,Q(Pn,E?u&1|2:u&1),Ot&&Ki(l,p.treeForkCount),a):(gn(l),null);case 22:case 23:return vs(l),Im(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(gn(l),l.subtreeFlags&6&&(l.flags|=8192)):gn(l),u=l.updateQueue,u!==null&&xh(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),a!==null&&z(Wo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Ji(Gn),gn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function j4(a,l){switch(pm(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ji(Gn),be(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return je(l),null;case 31:if(l.memoizedState!==null){if(vs(l),l.alternate===null)throw Error(r(340));Ko()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(vs(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ko()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return z(Pn),null;case 4:return be(),null;case 10:return Ji(l.type),null;case 22:case 23:return vs(l),Im(),a!==null&&z(Wo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ji(Gn),null;case 25:return null;default:return null}}function vE(a,l){switch(pm(l),l.tag){case 3:Ji(Gn),be();break;case 26:case 27:case 5:je(l);break;case 4:be();break;case 31:l.memoizedState!==null&&vs(l);break;case 13:vs(l);break;case 19:z(Pn);break;case 10:Ji(l.type);break;case 22:case 23:vs(l),Im(),a!==null&&z(Wo);break;case 24:Ji(Gn)}}function zu(a,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var E=p.next;u=E;do{if((u.tag&a)===a){p=void 0;var w=u.create,P=u.inst;p=w(),P.destroy=p}u=u.next}while(u!==E)}}catch(q){tn(l,l.return,q)}}function qa(a,l,u){try{var p=l.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var w=E.next;p=w;do{if((p.tag&a)===a){var P=p.inst,q=P.destroy;if(q!==void 0){P.destroy=void 0,E=l;var oe=u,we=q;try{we()}catch(ke){tn(E,oe,ke)}}}p=p.next}while(p!==w)}}catch(ke){tn(l,l.return,ke)}}function xE(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{l_(l,u)}catch(p){tn(a,a.return,p)}}}function yE(a,l,u){u.props=tl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){tn(a,l,p)}}function Hu(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(E){tn(a,l,E)}}function bi(a,l){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(E){tn(a,l,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(E){tn(a,l,E)}else u.current=null}function _E(a){var l=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(E){tn(a,a.return,E)}}function og(a,l,u){try{var p=a.stateNode;d3(p,a.type,u,l),p[W]=l}catch(E){tn(a,a.return,E)}}function EE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xa(a.type)||a.tag===4}function lg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||EE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cg(a,l,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Qs));else if(p!==4&&(p===27&&Xa(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(cg(a,l,u),a=a.sibling;a!==null;)cg(a,l,u),a=a.sibling}function yh(a,l,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(p!==4&&(p===27&&Xa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(yh(a,l,u),a=a.sibling;a!==null;)yh(a,l,u),a=a.sibling}function TE(a){var l=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);xr(l,p,u),l[K]=a,l[W]=u}catch(w){tn(a,a.return,w)}}var ea=!1,$n=!1,ug=!1,wE=typeof WeakSet=="function"?WeakSet:Set,ar=null;function q4(a,l){if(a=a.containerInfo,kg=Bh,a=Fy(a),rm(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var E=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var P=0,q=-1,oe=-1,we=0,ke=0,Pe=a,Se=null;t:for(;;){for(var Ce;Pe!==u||E!==0&&Pe.nodeType!==3||(q=P+E),Pe!==w||p!==0&&Pe.nodeType!==3||(oe=P+p),Pe.nodeType===3&&(P+=Pe.nodeValue.length),(Ce=Pe.firstChild)!==null;)Se=Pe,Pe=Ce;for(;;){if(Pe===a)break t;if(Se===u&&++we===E&&(q=P),Se===w&&++ke===p&&(oe=P),(Ce=Pe.nextSibling)!==null)break;Pe=Se,Se=Pe.parentNode}Pe=Ce}u=q===-1||oe===-1?null:{start:q,end:oe}}else u=null}u=u||{start:0,end:0}}else u=null;for(Dg={focusedElem:a,selectionRange:u},Bh=!1,ar=l;ar!==null;)if(l=ar,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,ar=a;else for(;ar!==null;){switch(l=ar,w=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)E=a[u],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=l,E=w.memoizedProps,w=w.memoizedState,p=u.stateNode;try{var Xe=tl(u.type,E);a=p.getSnapshotBeforeUpdate(Xe,w),p.__reactInternalSnapshotBeforeUpdate=a}catch(ut){tn(u,u.return,ut)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)Fg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Fg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,ar=a;break}ar=l.return}}function SE(a,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:na(a,u),p&4&&zu(5,u);break;case 1:if(na(a,u),p&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(P){tn(u,u.return,P)}else{var E=tl(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(E,l,a.__reactInternalSnapshotBeforeUpdate)}catch(P){tn(u,u.return,P)}}p&64&&xE(u),p&512&&Hu(u,u.return);break;case 3:if(na(a,u),p&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{l_(a,l)}catch(P){tn(u,u.return,P)}}break;case 27:l===null&&p&4&&TE(u);case 26:case 5:na(a,u),l===null&&p&4&&_E(u),p&512&&Hu(u,u.return);break;case 12:na(a,u);break;case 31:na(a,u),p&4&&bE(a,u);break;case 13:na(a,u),p&4&&NE(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=e3.bind(null,u),_3(a,u))));break;case 22:if(p=u.memoizedState!==null||ea,!p){l=l!==null&&l.memoizedState!==null||$n,E=ea;var w=$n;ea=p,($n=l)&&!w?ra(a,u,(u.subtreeFlags&8772)!==0):na(a,u),ea=E,$n=w}break;case 30:break;default:na(a,u)}}function AE(a){var l=a.alternate;l!==null&&(a.alternate=null,AE(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Le(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var _n=null,ns=!1;function ta(a,l,u){for(u=u.child;u!==null;)CE(a,l,u),u=u.sibling}function CE(a,l,u){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(At,u)}catch{}switch(u.tag){case 26:$n||bi(u,l),ta(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:$n||bi(u,l);var p=_n,E=ns;Xa(u.type)&&(_n=u.stateNode,ns=!1),ta(a,l,u),Zu(u.stateNode),_n=p,ns=E;break;case 5:$n||bi(u,l);case 6:if(p=_n,E=ns,_n=null,ta(a,l,u),_n=p,ns=E,_n!==null)if(ns)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(u.stateNode)}catch(w){tn(u,l,w)}else try{_n.removeChild(u.stateNode)}catch(w){tn(u,l,w)}break;case 18:_n!==null&&(ns?(a=_n,xT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Tc(a)):xT(_n,u.stateNode));break;case 4:p=_n,E=ns,_n=u.stateNode.containerInfo,ns=!0,ta(a,l,u),_n=p,ns=E;break;case 0:case 11:case 14:case 15:qa(2,u,l),$n||qa(4,u,l),ta(a,l,u);break;case 1:$n||(bi(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&yE(u,l,p)),ta(a,l,u);break;case 21:ta(a,l,u);break;case 22:$n=(p=$n)||u.memoizedState!==null,ta(a,l,u),$n=p;break;default:ta(a,l,u)}}function bE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Tc(a)}catch(u){tn(l,l.return,u)}}}function NE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Tc(a)}catch(u){tn(l,l.return,u)}}function $4(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new wE),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new wE),l;default:throw Error(r(435,a.tag))}}function _h(a,l){var u=$4(a);l.forEach(function(p){if(!u.has(p)){u.add(p);var E=t3.bind(null,a,p);p.then(E,E)}})}function rs(a,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var E=u[p],w=a,P=l,q=P;e:for(;q!==null;){switch(q.tag){case 27:if(Xa(q.type)){_n=q.stateNode,ns=!1;break e}break;case 5:_n=q.stateNode,ns=!1;break e;case 3:case 4:_n=q.stateNode.containerInfo,ns=!0;break e}q=q.return}if(_n===null)throw Error(r(160));CE(w,P,E),_n=null,ns=!1,w=E.alternate,w!==null&&(w.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)IE(l,a),l=l.sibling}var ii=null;function IE(a,l){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:rs(l,a),ss(a),p&4&&(qa(3,a,a.return),zu(3,a),qa(5,a,a.return));break;case 1:rs(l,a),ss(a),p&512&&($n||u===null||bi(u,u.return)),p&64&&ea&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var E=ii;if(rs(l,a),ss(a),p&512&&($n||u===null||bi(u,u.return)),p&4){var w=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,E=E.ownerDocument||E;t:switch(p){case"title":w=E.getElementsByTagName("title")[0],(!w||w[Ee]||w[K]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=E.createElement(p),E.head.insertBefore(w,E.querySelector("head > title"))),xr(w,p,u),w[K]=a,Qe(w),p=w;break e;case"link":var P=IT("link","href",E).get(p+(u.href||""));if(P){for(var q=0;q<P.length;q++)if(w=P[q],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(q,1);break t}}w=E.createElement(p),xr(w,p,u),E.head.appendChild(w);break;case"meta":if(P=IT("meta","content",E).get(p+(u.content||""))){for(q=0;q<P.length;q++)if(w=P[q],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(q,1);break t}}w=E.createElement(p),xr(w,p,u),E.head.appendChild(w);break;default:throw Error(r(468,p))}w[K]=a,Qe(w),p=w}a.stateNode=p}else RT(E,a.type,a.stateNode);else a.stateNode=NT(E,p,a.memoizedProps);else w!==p?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,p===null?RT(E,a.type,a.stateNode):NT(E,p,a.memoizedProps)):p===null&&a.stateNode!==null&&og(a,a.memoizedProps,u.memoizedProps)}break;case 27:rs(l,a),ss(a),p&512&&($n||u===null||bi(u,u.return)),u!==null&&p&4&&og(a,a.memoizedProps,u.memoizedProps);break;case 5:if(rs(l,a),ss(a),p&512&&($n||u===null||bi(u,u.return)),a.flags&32){E=a.stateNode;try{ts(E,"")}catch(Xe){tn(a,a.return,Xe)}}p&4&&a.stateNode!=null&&(E=a.memoizedProps,og(a,E,u!==null?u.memoizedProps:E)),p&1024&&(ug=!0);break;case 6:if(rs(l,a),ss(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Xe){tn(a,a.return,Xe)}}break;case 3:if(Oh=null,E=ii,ii=Ph(l.containerInfo),rs(l,a),ii=E,ss(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Tc(l.containerInfo)}catch(Xe){tn(a,a.return,Xe)}ug&&(ug=!1,RE(a));break;case 4:p=ii,ii=Ph(a.stateNode.containerInfo),rs(l,a),ss(a),ii=p;break;case 12:rs(l,a),ss(a);break;case 31:rs(l,a),ss(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,_h(a,p)));break;case 13:rs(l,a),ss(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Th=pt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,_h(a,p)));break;case 22:E=a.memoizedState!==null;var oe=u!==null&&u.memoizedState!==null,we=ea,ke=$n;if(ea=we||E,$n=ke||oe,rs(l,a),$n=ke,ea=we,ss(a),p&8192)e:for(l=a.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(u===null||oe||ea||$n||nl(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){oe=u=l;try{if(w=oe.stateNode,E)P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{q=oe.stateNode;var Pe=oe.memoizedProps.style,Se=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;q.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Xe){tn(oe,oe.return,Xe)}}}else if(l.tag===6){if(u===null){oe=l;try{oe.stateNode.nodeValue=E?"":oe.memoizedProps}catch(Xe){tn(oe,oe.return,Xe)}}}else if(l.tag===18){if(u===null){oe=l;try{var Ce=oe.stateNode;E?yT(Ce,!0):yT(oe.stateNode,!1)}catch(Xe){tn(oe,oe.return,Xe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,_h(a,u))));break;case 19:rs(l,a),ss(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,_h(a,p)));break;case 30:break;case 21:break;default:rs(l,a),ss(a)}}function ss(a){var l=a.flags;if(l&2){try{for(var u,p=a.return;p!==null;){if(EE(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var E=u.stateNode,w=lg(a);yh(a,w,E);break;case 5:var P=u.stateNode;u.flags&32&&(ts(P,""),u.flags&=-33);var q=lg(a);yh(a,q,P);break;case 3:case 4:var oe=u.stateNode.containerInfo,we=lg(a);cg(a,we,oe);break;default:throw Error(r(161))}}catch(ke){tn(a,a.return,ke)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function RE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;RE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function na(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)SE(a,l.alternate,l),l=l.sibling}function nl(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:qa(4,l,l.return),nl(l);break;case 1:bi(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&yE(l,l.return,u),nl(l);break;case 27:Zu(l.stateNode);case 26:case 5:bi(l,l.return),nl(l);break;case 22:l.memoizedState===null&&nl(l);break;case 30:nl(l);break;default:nl(l)}a=a.sibling}}function ra(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,E=a,w=l,P=w.flags;switch(w.tag){case 0:case 11:case 15:ra(E,w,u),zu(4,w);break;case 1:if(ra(E,w,u),p=w,E=p.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(we){tn(p,p.return,we)}if(p=w,E=p.updateQueue,E!==null){var q=p.stateNode;try{var oe=E.shared.hiddenCallbacks;if(oe!==null)for(E.shared.hiddenCallbacks=null,E=0;E<oe.length;E++)o_(oe[E],q)}catch(we){tn(p,p.return,we)}}u&&P&64&&xE(w),Hu(w,w.return);break;case 27:TE(w);case 26:case 5:ra(E,w,u),u&&p===null&&P&4&&_E(w),Hu(w,w.return);break;case 12:ra(E,w,u);break;case 31:ra(E,w,u),u&&P&4&&bE(E,w);break;case 13:ra(E,w,u),u&&P&4&&NE(E,w);break;case 22:w.memoizedState===null&&ra(E,w,u),Hu(w,w.return);break;case 30:break;default:ra(E,w,u)}l=l.sibling}}function fg(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Nu(u))}function dg(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Nu(a))}function ai(a,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)kE(a,l,u,p),l=l.sibling}function kE(a,l,u,p){var E=l.flags;switch(l.tag){case 0:case 11:case 15:ai(a,l,u,p),E&2048&&zu(9,l);break;case 1:ai(a,l,u,p);break;case 3:ai(a,l,u,p),E&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Nu(a)));break;case 12:if(E&2048){ai(a,l,u,p),a=l.stateNode;try{var w=l.memoizedProps,P=w.id,q=w.onPostCommit;typeof q=="function"&&q(P,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(oe){tn(l,l.return,oe)}}else ai(a,l,u,p);break;case 31:ai(a,l,u,p);break;case 13:ai(a,l,u,p);break;case 23:break;case 22:w=l.stateNode,P=l.alternate,l.memoizedState!==null?w._visibility&2?ai(a,l,u,p):Gu(a,l):w._visibility&2?ai(a,l,u,p):(w._visibility|=2,fc(a,l,u,p,(l.subtreeFlags&10256)!==0||!1)),E&2048&&fg(P,l);break;case 24:ai(a,l,u,p),E&2048&&dg(l.alternate,l);break;default:ai(a,l,u,p)}}function fc(a,l,u,p,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=a,P=l,q=u,oe=p,we=P.flags;switch(P.tag){case 0:case 11:case 15:fc(w,P,q,oe,E),zu(8,P);break;case 23:break;case 22:var ke=P.stateNode;P.memoizedState!==null?ke._visibility&2?fc(w,P,q,oe,E):Gu(w,P):(ke._visibility|=2,fc(w,P,q,oe,E)),E&&we&2048&&fg(P.alternate,P);break;case 24:fc(w,P,q,oe,E),E&&we&2048&&dg(P.alternate,P);break;default:fc(w,P,q,oe,E)}l=l.sibling}}function Gu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,p=l,E=p.flags;switch(p.tag){case 22:Gu(u,p),E&2048&&fg(p.alternate,p);break;case 24:Gu(u,p),E&2048&&dg(p.alternate,p);break;default:Gu(u,p)}l=l.sibling}}var ju=8192;function dc(a,l,u){if(a.subtreeFlags&ju)for(a=a.child;a!==null;)DE(a,l,u),a=a.sibling}function DE(a,l,u){switch(a.tag){case 26:dc(a,l,u),a.flags&ju&&a.memoizedState!==null&&D3(u,ii,a.memoizedState,a.memoizedProps);break;case 5:dc(a,l,u);break;case 3:case 4:var p=ii;ii=Ph(a.stateNode.containerInfo),dc(a,l,u),ii=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=ju,ju=16777216,dc(a,l,u),ju=p):dc(a,l,u));break;default:dc(a,l,u)}}function ME(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function qu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];ar=p,FE(p,a)}ME(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PE(a),a=a.sibling}function PE(a){switch(a.tag){case 0:case 11:case 15:qu(a),a.flags&2048&&qa(9,a,a.return);break;case 3:qu(a);break;case 12:qu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Eh(a)):qu(a);break;default:qu(a)}}function Eh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];ar=p,FE(p,a)}ME(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:qa(8,l,l.return),Eh(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Eh(l));break;default:Eh(l)}a=a.sibling}}function FE(a,l){for(;ar!==null;){var u=ar;switch(u.tag){case 0:case 11:case 15:qa(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Nu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,ar=p;else e:for(u=a;ar!==null;){p=ar;var E=p.sibling,w=p.return;if(AE(p),p===u){ar=null;break e}if(E!==null){E.return=w,ar=E;break e}ar=w}}}var K4={getCacheForType:function(a){var l=gr(Gn),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u},cacheSignal:function(){return gr(Gn).controller.signal}},Y4=typeof WeakMap=="function"?WeakMap:Map,Yt=0,dn=null,bt=null,kt=0,en=0,xs=null,$a=!1,hc=!1,hg=!1,sa=0,Nn=0,Ka=0,rl=0,pg=0,ys=0,pc=0,$u=null,is=null,mg=!1,Th=0,OE=0,wh=1/0,Sh=null,Ya=null,Xn=0,Ja=null,mc=null,ia=0,gg=0,vg=null,LE=null,Ku=0,xg=null;function _s(){return(Yt&2)!==0&&kt!==0?kt&-kt:ae.T!==null?Sg():U()}function UE(){if(ys===0)if((kt&536870912)===0||Ot){var a=Js;Js<<=1,(Js&3932160)===0&&(Js=262144),ys=a}else ys=536870912;return a=gs.current,a!==null&&(a.flags|=32),ys}function as(a,l,u){(a===dn&&(en===2||en===9)||a.cancelPendingCommit!==null)&&(gc(a,0),Wa(a,kt,ys,!1)),Ws(a,u),((Yt&2)===0||a!==dn)&&(a===dn&&((Yt&2)===0&&(rl|=u),Nn===4&&Wa(a,kt,ys,!1)),Ni(a))}function VE(a,l,u){if((Yt&6)!==0)throw Error(r(327));var p=!u&&(l&127)===0&&(l&a.expiredLanes)===0||zr(a,l),E=p?Z4(a,l):_g(a,l,!0),w=p;do{if(E===0){hc&&!p&&Wa(a,l,0,!1);break}else{if(u=a.current.alternate,w&&!J4(u)){E=_g(a,l,!1),w=!1;continue}if(E===2){if(w=l,a.errorRecoveryDisabledLanes&w)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var q=a;E=$u;var oe=q.current.memoizedState.isDehydrated;if(oe&&(gc(q,P).flags|=256),P=_g(q,P,!1),P!==2){if(hg&&!oe){q.errorRecoveryDisabledLanes|=w,rl|=w,E=4;break e}w=is,is=E,w!==null&&(is===null?is=w:is.push.apply(is,w))}E=P}if(w=!1,E!==2)continue}}if(E===1){gc(a,0),Wa(a,l,0,!0);break}e:{switch(p=a,w=E,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Wa(p,l,ys,!$a);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=Th+300-pt(),10<E)){if(Wa(p,l,ys,!$a),Xr(p,0,!0)!==0)break e;ia=l,p.timeoutHandle=gT(BE.bind(null,p,u,is,Sh,mg,l,ys,rl,pc,$a,w,"Throttled",-0,0),E);break e}BE(p,u,is,Sh,mg,l,ys,rl,pc,$a,w,null,-0,0)}}break}while(!0);Ni(a)}function BE(a,l,u,p,E,w,P,q,oe,we,ke,Pe,Se,Ce){if(a.timeoutHandle=-1,Pe=l.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qs},DE(l,w,Pe);var Xe=(w&62914560)===w?Th-pt():(w&4194048)===w?OE-pt():0;if(Xe=M3(Pe,Xe),Xe!==null){ia=w,a.cancelPendingCommit=Xe(YE.bind(null,a,l,w,u,p,E,P,q,oe,ke,Pe,null,Se,Ce)),Wa(a,w,P,!we);return}}YE(a,l,w,u,p,E,P,q,oe)}function J4(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var E=u[p],w=E.getSnapshot;E=E.value;try{if(!ps(w(),E))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Wa(a,l,u,p){l&=~pg,l&=~rl,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var E=l;0<E;){var w=31-pn(E),P=1<<w;p[w]=-1,E&=~P}u!==0&&zn(a,u,l)}function Ah(){return(Yt&6)===0?(Yu(0),!1):!0}function yg(){if(bt!==null){if(en===0)var a=bt.return;else a=bt,Yi=Yo=null,Fm(a),ac=null,Ru=0,a=bt;for(;a!==null;)vE(a.alternate,a),a=a.return;bt=null}}function gc(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,m3(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),ia=0,yg(),dn=a,bt=u=$i(a.current,null),kt=l,en=0,xs=null,$a=!1,hc=zr(a,l),hg=!1,pc=ys=pg=rl=Ka=Nn=0,is=$u=null,mg=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var E=31-pn(p),w=1<<E;l|=a[E],p&=~w}return sa=l,$d(),u}function zE(a,l){Et=null,ae.H=Uu,l===ic||l===eh?(l=r_(),en=3):l===wm?(l=r_(),en=4):en=l===Zm?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,xs=l,bt===null&&(Nn=1,ph(a,Ds(l,a.current)))}function HE(){var a=gs.current;return a===null?!0:(kt&4194048)===kt?Os===null:(kt&62914560)===kt||(kt&536870912)!==0?a===Os:!1}function GE(){var a=ae.H;return ae.H=Uu,a===null?Uu:a}function jE(){var a=ae.A;return ae.A=K4,a}function Ch(){Nn=4,$a||(kt&4194048)!==kt&&gs.current!==null||(hc=!0),(Ka&134217727)===0&&(rl&134217727)===0||dn===null||Wa(dn,kt,ys,!1)}function _g(a,l,u){var p=Yt;Yt|=2;var E=GE(),w=jE();(dn!==a||kt!==l)&&(Sh=null,gc(a,l)),l=!1;var P=Nn;e:do try{if(en!==0&&bt!==null){var q=bt,oe=xs;switch(en){case 8:yg(),P=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(l=!0);var we=en;if(en=0,xs=null,vc(a,q,oe,we),u&&hc){P=0;break e}break;default:we=en,en=0,xs=null,vc(a,q,oe,we)}}W4(),P=Nn;break}catch(ke){zE(a,ke)}while(!0);return l&&a.shellSuspendCounter++,Yi=Yo=null,Yt=p,ae.H=E,ae.A=w,bt===null&&(dn=null,kt=0,$d()),P}function W4(){for(;bt!==null;)qE(bt)}function Z4(a,l){var u=Yt;Yt|=2;var p=GE(),E=jE();dn!==a||kt!==l?(Sh=null,wh=pt()+500,gc(a,l)):hc=zr(a,l);e:do try{if(en!==0&&bt!==null){l=bt;var w=xs;t:switch(en){case 1:en=0,xs=null,vc(a,l,w,1);break;case 2:case 9:if(t_(w)){en=0,xs=null,$E(l);break}l=function(){en!==2&&en!==9||dn!==a||(en=7),Ni(a)},w.then(l,l);break e;case 3:en=7;break e;case 4:en=5;break e;case 7:t_(w)?(en=0,xs=null,$E(l)):(en=0,xs=null,vc(a,l,w,7));break;case 5:var P=null;switch(bt.tag){case 26:P=bt.memoizedState;case 5:case 27:var q=bt;if(P?kT(P):q.stateNode.complete){en=0,xs=null;var oe=q.sibling;if(oe!==null)bt=oe;else{var we=q.return;we!==null?(bt=we,bh(we)):bt=null}break t}}en=0,xs=null,vc(a,l,w,5);break;case 6:en=0,xs=null,vc(a,l,w,6);break;case 8:yg(),Nn=6;break e;default:throw Error(r(462))}}X4();break}catch(ke){zE(a,ke)}while(!0);return Yi=Yo=null,ae.H=p,ae.A=E,Yt=u,bt!==null?0:(dn=null,kt=0,$d(),Nn)}function X4(){for(;bt!==null&&!wn();)qE(bt)}function qE(a){var l=mE(a.alternate,a,sa);a.memoizedProps=a.pendingProps,l===null?bh(a):bt=l}function $E(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=cE(u,l,l.pendingProps,l.type,void 0,kt);break;case 11:l=cE(u,l,l.pendingProps,l.type.render,l.ref,kt);break;case 5:Fm(l);default:vE(u,l),l=bt=jy(l,sa),l=mE(u,l,sa)}a.memoizedProps=a.pendingProps,l===null?bh(a):bt=l}function vc(a,l,u,p){Yi=Yo=null,Fm(l),ac=null,Ru=0;var E=l.return;try{if(B4(a,E,l,u,kt)){Nn=1,ph(a,Ds(u,a.current)),bt=null;return}}catch(w){if(E!==null)throw bt=E,w;Nn=1,ph(a,Ds(u,a.current)),bt=null;return}l.flags&32768?(Ot||p===1?a=!0:hc||(kt&536870912)!==0?a=!1:($a=a=!0,(p===2||p===9||p===3||p===6)&&(p=gs.current,p!==null&&p.tag===13&&(p.flags|=16384))),KE(l,a)):bh(l)}function bh(a){var l=a;do{if((l.flags&32768)!==0){KE(l,$a);return}a=l.return;var u=G4(l.alternate,l,sa);if(u!==null){bt=u;return}if(l=l.sibling,l!==null){bt=l;return}bt=l=a}while(l!==null);Nn===0&&(Nn=5)}function KE(a,l){do{var u=j4(a.alternate,a);if(u!==null){u.flags&=32767,bt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){bt=a;return}bt=a=u}while(a!==null);Nn=6,bt=null}function YE(a,l,u,p,E,w,P,q,oe){a.cancelPendingCommit=null;do Nh();while(Xn!==0);if((Yt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=lm,Hi(a,u,w,P,q,oe),a===dn&&(bt=dn=null,kt=0),mc=l,Ja=a,ia=u,gg=w,vg=E,LE=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,n3(Rt,function(){return QE(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=ae.T,ae.T=null,E=ce.p,ce.p=2,P=Yt,Yt|=4;try{q4(a,l,u)}finally{Yt=P,ce.p=E,ae.T=p}}Xn=1,JE(),WE(),ZE()}}function JE(){if(Xn===1){Xn=0;var a=Ja,l=mc,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null;var p=ce.p;ce.p=2;var E=Yt;Yt|=4;try{IE(l,a);var w=Dg,P=Fy(a.containerInfo),q=w.focusedElem,oe=w.selectionRange;if(P!==q&&q&&q.ownerDocument&&Py(q.ownerDocument.documentElement,q)){if(oe!==null&&rm(q)){var we=oe.start,ke=oe.end;if(ke===void 0&&(ke=we),"selectionStart"in q)q.selectionStart=we,q.selectionEnd=Math.min(ke,q.value.length);else{var Pe=q.ownerDocument||document,Se=Pe&&Pe.defaultView||window;if(Se.getSelection){var Ce=Se.getSelection(),Xe=q.textContent.length,ut=Math.min(oe.start,Xe),on=oe.end===void 0?ut:Math.min(oe.end,Xe);!Ce.extend&&ut>on&&(P=on,on=ut,ut=P);var me=My(q,ut),ue=My(q,on);if(me&&ue&&(Ce.rangeCount!==1||Ce.anchorNode!==me.node||Ce.anchorOffset!==me.offset||Ce.focusNode!==ue.node||Ce.focusOffset!==ue.offset)){var Te=Pe.createRange();Te.setStart(me.node,me.offset),Ce.removeAllRanges(),ut>on?(Ce.addRange(Te),Ce.extend(ue.node,ue.offset)):(Te.setEnd(ue.node,ue.offset),Ce.addRange(Te))}}}}for(Pe=[],Ce=q;Ce=Ce.parentNode;)Ce.nodeType===1&&Pe.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Pe.length;q++){var Me=Pe[q];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}Bh=!!kg,Dg=kg=null}finally{Yt=E,ce.p=p,ae.T=u}}a.current=l,Xn=2}}function WE(){if(Xn===2){Xn=0;var a=Ja,l=mc,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=ae.T,ae.T=null;var p=ce.p;ce.p=2;var E=Yt;Yt|=4;try{SE(a,l.alternate,l)}finally{Yt=E,ce.p=p,ae.T=u}}Xn=3}}function ZE(){if(Xn===4||Xn===3){Xn=0,Bn();var a=Ja,l=mc,u=ia,p=LE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Xn=5:(Xn=0,mc=Ja=null,XE(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(Ya=null),ze(u),l=l.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(At,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=ae.T,E=ce.p,ce.p=2,ae.T=null;try{for(var w=a.onRecoverableError,P=0;P<p.length;P++){var q=p[P];w(q.value,{componentStack:q.stack})}}finally{ae.T=l,ce.p=E}}(ia&3)!==0&&Nh(),Ni(a),E=a.pendingLanes,(u&261930)!==0&&(E&42)!==0?a===xg?Ku++:(Ku=0,xg=a):Ku=0,Yu(0)}}function XE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Nu(l)))}function Nh(){return JE(),WE(),ZE(),QE()}function QE(){if(Xn!==5)return!1;var a=Ja,l=gg;gg=0;var u=ze(ia),p=ae.T,E=ce.p;try{ce.p=32>u?32:u,ae.T=null,u=vg,vg=null;var w=Ja,P=ia;if(Xn=0,mc=Ja=null,ia=0,(Yt&6)!==0)throw Error(r(331));var q=Yt;if(Yt|=4,PE(w.current),kE(w,w.current,P,u),Yt=q,Yu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(At,w)}catch{}return!0}finally{ce.p=E,ae.T=p,XE(a,l)}}function eT(a,l,u){l=Ds(u,l),l=Wm(a.stateNode,l,2),a=Ha(a,l,2),a!==null&&(Ws(a,2),Ni(a))}function tn(a,l,u){if(a.tag===3)eT(a,a,u);else for(;l!==null;){if(l.tag===3){eT(l,a,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ya===null||!Ya.has(p))){a=Ds(u,a),u=tE(2),p=Ha(l,u,2),p!==null&&(nE(u,p,l,a),Ws(p,2),Ni(p));break}}l=l.return}}function Eg(a,l,u){var p=a.pingCache;if(p===null){p=a.pingCache=new Y4;var E=new Set;p.set(l,E)}else E=p.get(l),E===void 0&&(E=new Set,p.set(l,E));E.has(u)||(hg=!0,E.add(u),a=Q4.bind(null,a,l,u),l.then(a,a))}function Q4(a,l,u){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,dn===a&&(kt&u)===u&&(Nn===4||Nn===3&&(kt&62914560)===kt&&300>pt()-Th?(Yt&2)===0&&gc(a,0):pg|=u,pc===kt&&(pc=0)),Ni(a)}function tT(a,l){l===0&&(l=Aa()),a=qo(a,l),a!==null&&(Ws(a,l),Ni(a))}function e3(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),tT(a,u)}function t3(a,l){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,E=a.memoizedState;E!==null&&(u=E.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),tT(a,u)}function n3(a,l){return ct(a,l)}var Ih=null,xc=null,Tg=!1,Rh=!1,wg=!1,Za=0;function Ni(a){a!==xc&&a.next===null&&(xc===null?Ih=xc=a:xc=xc.next=a),Rh=!0,Tg||(Tg=!0,s3())}function Yu(a,l){if(!wg&&Rh){wg=!0;do for(var u=!1,p=Ih;p!==null;){if(a!==0){var E=p.pendingLanes;if(E===0)var w=0;else{var P=p.suspendedLanes,q=p.pingedLanes;w=(1<<31-pn(42|a)+1)-1,w&=E&~(P&~q),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,iT(p,w))}else w=kt,w=Xr(p,p===dn?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||zr(p,w)||(u=!0,iT(p,w));p=p.next}while(u);wg=!1}}function r3(){nT()}function nT(){Rh=Tg=!1;var a=0;Za!==0&&p3()&&(a=Za);for(var l=pt(),u=null,p=Ih;p!==null;){var E=p.next,w=rT(p,l);w===0?(p.next=null,u===null?Ih=E:u.next=E,E===null&&(xc=u)):(u=p,(a!==0||(w&3)!==0)&&(Rh=!0)),p=E}Xn!==0&&Xn!==5||Yu(a),Za!==0&&(Za=0)}function rT(a,l){for(var u=a.suspendedLanes,p=a.pingedLanes,E=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var P=31-pn(w),q=1<<P,oe=E[P];oe===-1?((q&u)===0||(q&p)!==0)&&(E[P]=Mo(q,l)):oe<=l&&(a.expiredLanes|=q),w&=~q}if(l=dn,u=kt,u=Xr(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===l&&(en===2||en===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&cn(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||zr(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(p!==null&&cn(p),ze(u)){case 2:case 8:u=un;break;case 32:u=Rt;break;case 268435456:u=rt;break;default:u=Rt}return p=sT.bind(null,a),u=ct(u,p),a.callbackPriority=l,a.callbackNode=u,l}return p!==null&&p!==null&&cn(p),a.callbackPriority=2,a.callbackNode=null,2}function sT(a,l){if(Xn!==0&&Xn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Nh()&&a.callbackNode!==u)return null;var p=kt;return p=Xr(a,a===dn?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(VE(a,p,l),rT(a,pt()),a.callbackNode!=null&&a.callbackNode===u?sT.bind(null,a):null)}function iT(a,l){if(Nh())return null;VE(a,l,!0)}function s3(){g3(function(){(Yt&6)!==0?ct(St,r3):nT()})}function Sg(){if(Za===0){var a=rc;a===0&&(a=Br,Br<<=1,(Br&261888)===0&&(Br=256)),Za=a}return Za}function aT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Hl(""+a)}function oT(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function i3(a,l,u,p,E){if(l==="submit"&&u&&u.stateNode===E){var w=aT((E[W]||null).action),P=p.submitter;P&&(l=(l=P[W]||null)?aT(l.formAction):P.getAttribute("formAction"),l!==null&&(w=l,P=null));var q=new Ei("action","action",null,p,E);a.push({event:q,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Za!==0){var oe=P?oT(E,P):new FormData(E);jm(u,{pending:!0,data:oe,method:E.method,action:w},null,oe)}}else typeof w=="function"&&(q.preventDefault(),oe=P?oT(E,P):new FormData(E),jm(u,{pending:!0,data:oe,method:E.method,action:w},w,oe))},currentTarget:E}]})}}for(var Ag=0;Ag<om.length;Ag++){var Cg=om[Ag],a3=Cg.toLowerCase(),o3=Cg[0].toUpperCase()+Cg.slice(1);si(a3,"on"+o3)}si(Uy,"onAnimationEnd"),si(Vy,"onAnimationIteration"),si(By,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(w4,"onTransitionRun"),si(S4,"onTransitionStart"),si(A4,"onTransitionCancel"),si(zy,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function lT(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],E=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var P=p.length-1;0<=P;P--){var q=p[P],oe=q.instance,we=q.currentTarget;if(q=q.listener,oe!==w&&E.isPropagationStopped())break e;w=q,E.currentTarget=we;try{w(E)}catch(ke){qd(ke)}E.currentTarget=null,w=oe}else for(P=0;P<p.length;P++){if(q=p[P],oe=q.instance,we=q.currentTarget,q=q.listener,oe!==w&&E.isPropagationStopped())break e;w=q,E.currentTarget=we;try{w(E)}catch(ke){qd(ke)}E.currentTarget=null,w=oe}}}}function Nt(a,l){var u=l[xe];u===void 0&&(u=l[xe]=new Set);var p=a+"__bubble";u.has(p)||(cT(l,a,2,!1),u.add(p))}function bg(a,l,u){var p=0;l&&(p|=4),cT(u,a,p,l)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Ng(a){if(!a[kh]){a[kh]=!0,Zt.forEach(function(u){u!=="selectionchange"&&(l3.has(u)||bg(u,!1,a),bg(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[kh]||(l[kh]=!0,bg("selectionchange",!1,l))}}function cT(a,l,u,p){switch(UT(l)){case 2:var E=O3;break;case 8:E=L3;break;default:E=Gg}u=E.bind(null,l,u,a),E=void 0,!Lo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),p?E!==void 0?a.addEventListener(l,u,{capture:!0,passive:E}):a.addEventListener(l,u,!0):E!==void 0?a.addEventListener(l,u,{passive:E}):a.addEventListener(l,u,!1)}function Ig(a,l,u,p,E){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var q=p.stateNode.containerInfo;if(q===E)break;if(P===4)for(P=p.return;P!==null;){var oe=P.tag;if((oe===3||oe===4)&&P.stateNode.containerInfo===E)return;P=P.return}for(;q!==null;){if(P=He(q),P===null)return;if(oe=P.tag,oe===5||oe===6||oe===26||oe===27){p=w=P;continue e}q=q.parentNode}}p=p.return}Da(function(){var we=w,ke=Ns(u),Pe=[];e:{var Se=Hy.get(a);if(Se!==void 0){var Ce=Ei,Xe=a;switch(a){case"keypress":if(Vo(u)===0)break e;case"keydown":case"keyup":Ce=Hd;break;case"focusin":Xe="focus",Ce=zo;break;case"focusout":Xe="blur",Ce=zo;break;case"beforeblur":case"afterblur":Ce=zo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=R;break;case Uy:case Vy:case By:Ce=Fd;break;case zy:Ce=Z;break;case"scroll":case"scrollend":Ce=yu;break;case"wheel":Ce=Ae;break;case"copy":case"cut":case"paste":Ce=Od;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=qi;break;case"toggle":case"beforetoggle":Ce=_t}var ut=(l&4)!==0,on=!ut&&(a==="scroll"||a==="scrollend"),me=ut?Se!==null?Se+"Capture":null:Se;ut=[];for(var ue=we,Te;ue!==null;){var Me=ue;if(Te=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||Te===null||me===null||(Me=ei(ue,me),Me!=null&&ut.push(Wu(ue,Me,Te))),on)break;ue=ue.return}0<ut.length&&(Se=new Ce(Se,Xe,null,u,ke),Pe.push({event:Se,listeners:ut}))}}if((l&7)===0){e:{if(Se=a==="mouseover"||a==="pointerover",Ce=a==="mouseout"||a==="pointerout",Se&&u!==gu&&(Xe=u.relatedTarget||u.fromElement)&&(He(Xe)||Xe[re]))break e;if((Ce||Se)&&(Se=ke.window===ke?ke:(Se=ke.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ce?(Xe=u.relatedTarget||u.toElement,Ce=we,Xe=Xe?He(Xe):null,Xe!==null&&(on=i(Xe),ut=Xe.tag,Xe!==on||ut!==5&&ut!==27&&ut!==6)&&(Xe=null)):(Ce=null,Xe=we),Ce!==Xe)){if(ut=_u,Me="onMouseLeave",me="onMouseEnter",ue="mouse",(a==="pointerout"||a==="pointerover")&&(ut=qi,Me="onPointerLeave",me="onPointerEnter",ue="pointer"),on=Ce==null?Se:Ve(Ce),Te=Xe==null?Se:Ve(Xe),Se=new ut(Me,ue+"leave",Ce,u,ke),Se.target=on,Se.relatedTarget=Te,Me=null,He(ke)===we&&(ut=new ut(me,ue+"enter",Xe,u,ke),ut.target=Te,ut.relatedTarget=on,Me=ut),on=Me,Ce&&Xe)t:{for(ut=c3,me=Ce,ue=Xe,Te=0,Me=me;Me;Me=ut(Me))Te++;Me=0;for(var it=ue;it;it=ut(it))Me++;for(;0<Te-Me;)me=ut(me),Te--;for(;0<Me-Te;)ue=ut(ue),Me--;for(;Te--;){if(me===ue||ue!==null&&me===ue.alternate){ut=me;break t}me=ut(me),ue=ut(ue)}ut=null}else ut=null;Ce!==null&&uT(Pe,Se,Ce,ut,!1),Xe!==null&&on!==null&&uT(Pe,on,Xe,ut,!0)}}e:{if(Se=we?Ve(we):window,Ce=Se.nodeName&&Se.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&Se.type==="file")var Gt=by;else if(Ay(Se))if(Ny)Gt=_4;else{Gt=x4;var et=v4}else Ce=Se.nodeName,!Ce||Ce.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?we&&zl(we.elementType)&&(Gt=by):Gt=y4;if(Gt&&(Gt=Gt(a,we))){Cy(Pe,Gt,u,ke);break e}et&&et(a,Se,we),a==="focusout"&&we&&Se.type==="number"&&we.memoizedProps.value!=null&&hu(Se,"number",Se.value)}switch(et=we?Ve(we):window,a){case"focusin":(Ay(et)||et.contentEditable==="true")&&(Jl=et,sm=we,Au=null);break;case"focusout":Au=sm=Jl=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,Oy(Pe,u,ke);break;case"selectionchange":if(T4)break;case"keydown":case"keyup":Oy(Pe,u,ke)}var wt;if(Kt)e:{switch(a){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Yl?Ho(a,u)&&(Dt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(Si&&u.locale!=="ko"&&(Yl||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Yl&&(wt=xu()):(_i=ke,vu="value"in _i?_i.value:_i.textContent,Yl=!0)),et=Dh(we,Dt),0<et.length&&(Dt=new wi(Dt,a,null,u,ke),Pe.push({event:Dt,listeners:et}),wt?Dt.data=wt:(wt=Kl(u),wt!==null&&(Dt.data=wt)))),(wt=Rs?h4(a,u):p4(a,u))&&(Dt=Dh(we,"onBeforeInput"),0<Dt.length&&(et=new wi("onBeforeInput","beforeinput",null,u,ke),Pe.push({event:et,listeners:Dt}),et.data=wt)),i3(Pe,a,we,u,ke)}lT(Pe,l)})}function Wu(a,l,u){return{instance:a,listener:l,currentTarget:u}}function Dh(a,l){for(var u=l+"Capture",p=[];a!==null;){var E=a,w=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||w===null||(E=ei(a,u),E!=null&&p.unshift(Wu(a,E,w)),E=ei(a,l),E!=null&&p.push(Wu(a,E,w))),a.tag===3)return p;a=a.return}return[]}function c3(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function uT(a,l,u,p,E){for(var w=l._reactName,P=[];u!==null&&u!==p;){var q=u,oe=q.alternate,we=q.stateNode;if(q=q.tag,oe!==null&&oe===p)break;q!==5&&q!==26&&q!==27||we===null||(oe=we,E?(we=ei(u,w),we!=null&&P.unshift(Wu(u,we,oe))):E||(we=ei(u,w),we!=null&&P.push(Wu(u,we,oe)))),u=u.return}P.length!==0&&a.push({event:l,listeners:P})}var u3=/\r\n?/g,f3=/\u0000|\uFFFD/g;function fT(a){return(typeof a=="string"?a:""+a).replace(u3,`
`).replace(f3,"")}function dT(a,l){return l=fT(l),fT(a)===l}function an(a,l,u,p,E,w){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||ts(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&ts(a,""+p);break;case"className":hs(a,"class",p);break;case"tabIndex":hs(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(a,u,p);break;case"style":mu(a,p,w);break;case"data":if(l!=="object"){hs(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Hl(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&an(a,l,"name",E.name,E,null),an(a,l,"formEncType",E.formEncType,E,null),an(a,l,"formMethod",E.formMethod,E,null),an(a,l,"formTarget",E.formTarget,E,null)):(an(a,l,"encType",E.encType,E,null),an(a,l,"method",E.method,E,null),an(a,l,"target",E.target,E,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Hl(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=Qs);break;case"onScroll":p!=null&&Nt("scroll",a);break;case"onScrollEnd":p!=null&&Nt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=Hl(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":Nt("beforetoggle",a),Nt("toggle",a),br(a,"popover",p);break;case"xlinkActuate":Hn(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Hn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Hn(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Hn(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Hn(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Hn(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":br(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Dd.get(u)||u,br(a,u,p))}}function Rg(a,l,u,p,E,w){switch(u){case"style":mu(a,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?ts(a,p):(typeof p=="number"||typeof p=="bigint")&&ts(a,""+p);break;case"onScroll":p!=null&&Nt("scroll",a);break;case"onScrollEnd":p!=null&&Nt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Qs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(E=u.endsWith("Capture"),l=u.slice(2,E?u.length-7:void 0),w=a[W]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(l,w,E),typeof p=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,p,E);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):br(a,u,p)}}}function xr(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",a),Nt("load",a);var p=!1,E=!1,w;for(w in u)if(u.hasOwnProperty(w)){var P=u[w];if(P!=null)switch(w){case"src":p=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:an(a,l,w,P,u,null)}}E&&an(a,l,"srcSet",u.srcSet,u,null),p&&an(a,l,"src",u.src,u,null);return;case"input":Nt("invalid",a);var q=w=P=E=null,oe=null,we=null;for(p in u)if(u.hasOwnProperty(p)){var ke=u[p];if(ke!=null)switch(p){case"name":E=ke;break;case"type":P=ke;break;case"checked":oe=ke;break;case"defaultChecked":we=ke;break;case"value":w=ke;break;case"defaultValue":q=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,l));break;default:an(a,l,p,ke,u,null)}}Id(a,w,q,oe,we,P,E,!1);return;case"select":Nt("invalid",a),p=P=w=null;for(E in u)if(u.hasOwnProperty(E)&&(q=u[E],q!=null))switch(E){case"value":w=q;break;case"defaultValue":P=q;break;case"multiple":p=q;default:an(a,l,E,q,u,null)}l=w,u=P,a.multiple=!!p,l!=null?Na(a,!!p,l,!1):u!=null&&Na(a,!!p,u,!0);return;case"textarea":Nt("invalid",a),w=E=p=null;for(P in u)if(u.hasOwnProperty(P)&&(q=u[P],q!=null))switch(P){case"value":p=q;break;case"defaultValue":E=q;break;case"children":w=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:an(a,l,P,q,u,null)}Ia(a,p,E,w);return;case"option":for(oe in u)u.hasOwnProperty(oe)&&(p=u[oe],p!=null)&&(oe==="selected"?a.selected=p&&typeof p!="function"&&typeof p!="symbol":an(a,l,oe,p,u,null));return;case"dialog":Nt("beforetoggle",a),Nt("toggle",a),Nt("cancel",a),Nt("close",a);break;case"iframe":case"object":Nt("load",a);break;case"video":case"audio":for(p=0;p<Ju.length;p++)Nt(Ju[p],a);break;case"image":Nt("error",a),Nt("load",a);break;case"details":Nt("toggle",a);break;case"embed":case"source":case"link":Nt("error",a),Nt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in u)if(u.hasOwnProperty(we)&&(p=u[we],p!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:an(a,l,we,p,u,null)}return;default:if(zl(l)){for(ke in u)u.hasOwnProperty(ke)&&(p=u[ke],p!==void 0&&Rg(a,l,ke,p,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(p=u[q],p!=null&&an(a,l,q,p,u,null))}function d3(a,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,w=null,P=null,q=null,oe=null,we=null,ke=null;for(Ce in u){var Pe=u[Ce];if(u.hasOwnProperty(Ce)&&Pe!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":oe=Pe;default:p.hasOwnProperty(Ce)||an(a,l,Ce,null,p,Pe)}}for(var Se in p){var Ce=p[Se];if(Pe=u[Se],p.hasOwnProperty(Se)&&(Ce!=null||Pe!=null))switch(Se){case"type":w=Ce;break;case"name":E=Ce;break;case"checked":we=Ce;break;case"defaultChecked":ke=Ce;break;case"value":P=Ce;break;case"defaultValue":q=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,l));break;default:Ce!==Pe&&an(a,l,Se,Ce,p,Pe)}}Bl(a,P,q,oe,we,ke,w,E);return;case"select":Ce=P=q=Se=null;for(w in u)if(oe=u[w],u.hasOwnProperty(w)&&oe!=null)switch(w){case"value":break;case"multiple":Ce=oe;default:p.hasOwnProperty(w)||an(a,l,w,null,p,oe)}for(E in p)if(w=p[E],oe=u[E],p.hasOwnProperty(E)&&(w!=null||oe!=null))switch(E){case"value":Se=w;break;case"defaultValue":q=w;break;case"multiple":P=w;default:w!==oe&&an(a,l,E,w,p,oe)}l=q,u=P,p=Ce,Se!=null?Na(a,!!u,Se,!1):!!p!=!!u&&(l!=null?Na(a,!!u,l,!0):Na(a,!!u,u?[]:"",!1));return;case"textarea":Ce=Se=null;for(q in u)if(E=u[q],u.hasOwnProperty(q)&&E!=null&&!p.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:an(a,l,q,null,p,E)}for(P in p)if(E=p[P],w=u[P],p.hasOwnProperty(P)&&(E!=null||w!=null))switch(P){case"value":Se=E;break;case"defaultValue":Ce=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==w&&an(a,l,P,E,p,w)}Rd(a,Se,Ce);return;case"option":for(var Xe in u)Se=u[Xe],u.hasOwnProperty(Xe)&&Se!=null&&!p.hasOwnProperty(Xe)&&(Xe==="selected"?a.selected=!1:an(a,l,Xe,null,p,Se));for(oe in p)Se=p[oe],Ce=u[oe],p.hasOwnProperty(oe)&&Se!==Ce&&(Se!=null||Ce!=null)&&(oe==="selected"?a.selected=Se&&typeof Se!="function"&&typeof Se!="symbol":an(a,l,oe,Se,p,Ce));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in u)Se=u[ut],u.hasOwnProperty(ut)&&Se!=null&&!p.hasOwnProperty(ut)&&an(a,l,ut,null,p,Se);for(we in p)if(Se=p[we],Ce=u[we],p.hasOwnProperty(we)&&Se!==Ce&&(Se!=null||Ce!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,l));break;default:an(a,l,we,Se,p,Ce)}return;default:if(zl(l)){for(var on in u)Se=u[on],u.hasOwnProperty(on)&&Se!==void 0&&!p.hasOwnProperty(on)&&Rg(a,l,on,void 0,p,Se);for(ke in p)Se=p[ke],Ce=u[ke],!p.hasOwnProperty(ke)||Se===Ce||Se===void 0&&Ce===void 0||Rg(a,l,ke,Se,p,Ce);return}}for(var me in u)Se=u[me],u.hasOwnProperty(me)&&Se!=null&&!p.hasOwnProperty(me)&&an(a,l,me,null,p,Se);for(Pe in p)Se=p[Pe],Ce=u[Pe],!p.hasOwnProperty(Pe)||Se===Ce||Se==null&&Ce==null||an(a,l,Pe,Se,p,Ce)}function hT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function h3(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var E=u[p],w=E.transferSize,P=E.initiatorType,q=E.duration;if(w&&q&&hT(P)){for(P=0,q=E.responseEnd,p+=1;p<u.length;p++){var oe=u[p],we=oe.startTime;if(we>q)break;var ke=oe.transferSize,Pe=oe.initiatorType;ke&&hT(Pe)&&(oe=oe.responseEnd,P+=ke*(oe<q?1:(q-we)/(oe-we)))}if(--p,l+=8*(w+P)/(E.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var kg=null,Dg=null;function Mh(a){return a.nodeType===9?a:a.ownerDocument}function pT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mT(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Mg(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pg=null;function p3(){var a=window.event;return a&&a.type==="popstate"?a===Pg?!1:(Pg=a,!0):(Pg=null,!1)}var gT=typeof setTimeout=="function"?setTimeout:void 0,m3=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,g3=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(a){return vT.resolve(null).then(a).catch(v3)}:gT;function v3(a){setTimeout(function(){throw a})}function Xa(a){return a==="head"}function xT(a,l){var u=l,p=0;do{var E=u.nextSibling;if(a.removeChild(u),E&&E.nodeType===8)if(u=E.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(E),Tc(l);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Zu(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Zu(u);for(var w=u.firstChild;w;){var P=w.nextSibling,q=w.nodeName;w[Ee]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=P}}else u==="body"&&Zu(a.ownerDocument.body);u=E}while(u);Tc(l)}function yT(a,l){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function Fg(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Fg(u),Le(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function x3(a,l,u,p){for(;a.nodeType===1;){var E=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Ee])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Ls(a.nextSibling),a===null)break}return null}function y3(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ls(a.nextSibling),a===null))return null;return a}function _T(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Ls(a.nextSibling),a===null))return null;return a}function Og(a){return a.data==="$?"||a.data==="$~"}function Lg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function _3(a,l){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||u.readyState!=="loading")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Ls(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Ug=null;function ET(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(l===0)return Ls(a.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}a=a.nextSibling}return null}function TT(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return a;l--}else u!=="/$"&&u!=="/&"||l++}a=a.previousSibling}return null}function wT(a,l,u){switch(l=Mh(u),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Zu(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Le(a)}var Us=new Map,ST=new Set;function Ph(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var aa=ce.d;ce.d={f:E3,r:T3,D:w3,C:S3,L:A3,m:C3,X:N3,S:b3,M:I3};function E3(){var a=aa.f(),l=Ah();return a||l}function T3(a){var l=Ye(a);l!==null&&l.tag===5&&l.type==="form"?z_(l):aa.r(a)}var yc=typeof document>"u"?null:document;function AT(a,l,u){var p=yc;if(p&&typeof l=="string"&&l){var E=es(l);E='link[rel="'+a+'"][href="'+E+'"]',typeof u=="string"&&(E+='[crossorigin="'+u+'"]'),ST.has(E)||(ST.add(E),a={rel:a,crossOrigin:u,href:l},p.querySelector(E)===null&&(l=p.createElement("link"),xr(l,"link",a),Qe(l),p.head.appendChild(l)))}}function w3(a){aa.D(a),AT("dns-prefetch",a,null)}function S3(a,l){aa.C(a,l),AT("preconnect",a,l)}function A3(a,l,u){aa.L(a,l,u);var p=yc;if(p&&a&&l){var E='link[rel="preload"][as="'+es(l)+'"]';l==="image"&&u&&u.imageSrcSet?(E+='[imagesrcset="'+es(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(E+='[imagesizes="'+es(u.imageSizes)+'"]')):E+='[href="'+es(a)+'"]';var w=E;switch(l){case"style":w=_c(a);break;case"script":w=Ec(a)}Us.has(w)||(a=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Us.set(w,a),p.querySelector(E)!==null||l==="style"&&p.querySelector(Xu(w))||l==="script"&&p.querySelector(Qu(w))||(l=p.createElement("link"),xr(l,"link",a),Qe(l),p.head.appendChild(l)))}}function C3(a,l){aa.m(a,l);var u=yc;if(u&&a){var p=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+es(p)+'"][href="'+es(a)+'"]',w=E;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ec(a)}if(!Us.has(w)&&(a=g({rel:"modulepreload",href:a},l),Us.set(w,a),u.querySelector(E)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Qu(w)))return}p=u.createElement("link"),xr(p,"link",a),Qe(p),u.head.appendChild(p)}}}function b3(a,l,u){aa.S(a,l,u);var p=yc;if(p&&a){var E=Ke(p).hoistableStyles,w=_c(a);l=l||"default";var P=E.get(w);if(!P){var q={loading:0,preload:null};if(P=p.querySelector(Xu(w)))q.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Us.get(w))&&Vg(a,u);var oe=P=p.createElement("link");Qe(oe),xr(oe,"link",a),oe._p=new Promise(function(we,ke){oe.onload=we,oe.onerror=ke}),oe.addEventListener("load",function(){q.loading|=1}),oe.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Fh(P,l,p)}P={type:"stylesheet",instance:P,count:1,state:q},E.set(w,P)}}}function N3(a,l){aa.X(a,l);var u=yc;if(u&&a){var p=Ke(u).hoistableScripts,E=Ec(a),w=p.get(E);w||(w=u.querySelector(Qu(E)),w||(a=g({src:a,async:!0},l),(l=Us.get(E))&&Bg(a,l),w=u.createElement("script"),Qe(w),xr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(E,w))}}function I3(a,l){aa.M(a,l);var u=yc;if(u&&a){var p=Ke(u).hoistableScripts,E=Ec(a),w=p.get(E);w||(w=u.querySelector(Qu(E)),w||(a=g({src:a,async:!0,type:"module"},l),(l=Us.get(E))&&Bg(a,l),w=u.createElement("script"),Qe(w),xr(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(E,w))}}function CT(a,l,u,p){var E=(E=de.current)?Ph(E):null;if(!E)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=_c(u.href),u=Ke(E).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=_c(u.href);var w=Ke(E).hoistableStyles,P=w.get(a);if(P||(E=E.ownerDocument||E,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,P),(w=E.querySelector(Xu(a)))&&!w._p&&(P.instance=w,P.state.loading=5),Us.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Us.set(a,u),w||R3(E,a,u,P.state))),l&&p===null)throw Error(r(528,""));return P}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ec(u),u=Ke(E).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function _c(a){return'href="'+es(a)+'"'}function Xu(a){return'link[rel="stylesheet"]['+a+"]"}function bT(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function R3(a,l,u,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),xr(l,"link",u),Qe(l),a.head.appendChild(l))}function Ec(a){return'[src="'+es(a)+'"]'}function Qu(a){return"script[async]"+a}function NT(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+es(u.href)+'"]');if(p)return l.instance=p,Qe(p),p;var E=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Qe(p),xr(p,"style",E),Fh(p,u.precedence,a),l.instance=p;case"stylesheet":E=_c(u.href);var w=a.querySelector(Xu(E));if(w)return l.state.loading|=4,l.instance=w,Qe(w),w;p=bT(u),(E=Us.get(E))&&Vg(p,E),w=(a.ownerDocument||a).createElement("link"),Qe(w);var P=w;return P._p=new Promise(function(q,oe){P.onload=q,P.onerror=oe}),xr(w,"link",p),l.state.loading|=4,Fh(w,u.precedence,a),l.instance=w;case"script":return w=Ec(u.src),(E=a.querySelector(Qu(w)))?(l.instance=E,Qe(E),E):(p=u,(E=Us.get(w))&&(p=g({},u),Bg(p,E)),a=a.ownerDocument||a,E=a.createElement("script"),Qe(E),xr(E,"link",p),a.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Fh(p,u.precedence,a));return l.instance}function Fh(a,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=p.length?p[p.length-1]:null,w=E,P=0;P<p.length;P++){var q=p[P];if(q.dataset.precedence===l)w=q;else if(w!==E)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function Vg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Bg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Oh=null;function IT(a,l,u){if(Oh===null){var p=new Map,E=Oh=new Map;E.set(u,p)}else E=Oh,p=E.get(u),p||(p=new Map,E.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),E=0;E<u.length;E++){var w=u[E];if(!(w[Ee]||w[K]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var P=w.getAttribute(l)||"";P=a+P;var q=p.get(P);q?q.push(w):p.set(P,[w])}}return p}function RT(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function k3(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function kT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function D3(a,l,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=_c(p.href),w=l.querySelector(Xu(E));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Lh.bind(a),l.then(a,a)),u.state.loading|=4,u.instance=w,Qe(w);return}w=l.ownerDocument||l,p=bT(p),(E=Us.get(E))&&Vg(p,E),w=w.createElement("link"),Qe(w);var P=w;P._p=new Promise(function(q,oe){P.onload=q,P.onerror=oe}),xr(w,"link",p),u.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Lh.bind(a),l.addEventListener("load",u),l.addEventListener("error",u))}}var zg=0;function M3(a,l){return a.stylesheets&&a.count===0&&Vh(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&Vh(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+l);0<a.imgBytes&&zg===0&&(zg=62500*h3());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Vh(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>zg?50:800)+l);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(E)}}:null}function Lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Uh=null;function Vh(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Uh=new Map,l.forEach(P3,a),Uh=null,Lh.call(a))}function P3(a,l){if(!(l.state.loading&4)){var u=Uh.get(a);if(u)var p=u.get(null);else{u=new Map,Uh.set(a,u);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<E.length;w++){var P=E[w];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),p=P)}p&&u.set(null,p)}E=l.instance,P=E.getAttribute("data-precedence"),w=u.get(P)||p,w===p&&u.set(null,E),u.set(P,E),this.count++,p=Lh.bind(this),E.addEventListener("load",p),E.addEventListener("error",p),w?w.parentNode.insertBefore(E,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),l.state.loading|=4}}var ef={$$typeof:D,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function F3(a,l,u,p,E,w,P,q,oe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=p,this.onUncaughtError=E,this.onCaughtError=w,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function DT(a,l,u,p,E,w,P,q,oe,we,ke,Pe){return a=new F3(a,l,u,P,oe,we,ke,Pe,q),l=1,w===!0&&(l|=24),w=ms(3,null,null,l),a.current=w,w.stateNode=a,l=_m(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:p,isDehydrated:u,cache:l},Sm(w),a}function MT(a){return a?(a=Xl,a):Xl}function PT(a,l,u,p,E,w){E=MT(E),p.context===null?p.context=E:p.pendingContext=E,p=za(l),p.payload={element:u},w=w===void 0?null:w,w!==null&&(p.callback=w),u=Ha(a,p,l),u!==null&&(as(u,a,l),Du(u,a,l))}function FT(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function Hg(a,l){FT(a,l),(a=a.alternate)&&FT(a,l)}function OT(a){if(a.tag===13||a.tag===31){var l=qo(a,67108864);l!==null&&as(l,a,67108864),Hg(a,67108864)}}function LT(a){if(a.tag===13||a.tag===31){var l=_s();l=le(l);var u=qo(a,l);u!==null&&as(u,a,l),Hg(a,l)}}var Bh=!0;function O3(a,l,u,p){var E=ae.T;ae.T=null;var w=ce.p;try{ce.p=2,Gg(a,l,u,p)}finally{ce.p=w,ae.T=E}}function L3(a,l,u,p){var E=ae.T;ae.T=null;var w=ce.p;try{ce.p=8,Gg(a,l,u,p)}finally{ce.p=w,ae.T=E}}function Gg(a,l,u,p){if(Bh){var E=jg(p);if(E===null)Ig(a,l,p,zh,u),VT(a,p);else if(V3(E,a,l,u,p))p.stopPropagation();else if(VT(a,p),l&4&&-1<U3.indexOf(a)){for(;E!==null;){var w=Ye(E);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var P=hr(w.pendingLanes);if(P!==0){var q=w;for(q.pendingLanes|=2,q.entangledLanes|=2;P;){var oe=1<<31-pn(P);q.entanglements[1]|=oe,P&=~oe}Ni(w),(Yt&6)===0&&(wh=pt()+500,Yu(0))}}break;case 31:case 13:q=qo(w,2),q!==null&&as(q,w,2),Ah(),Hg(w,2)}if(w=jg(p),w===null&&Ig(a,l,p,zh,u),w===E)break;E=w}E!==null&&p.stopPropagation()}else Ig(a,l,p,null,u)}}function jg(a){return a=Ns(a),qg(a)}var zh=null;function qg(a){if(zh=null,a=He(a),a!==null){var l=i(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=o(l),a!==null)return a;a=null}else if(u===31){if(a=c(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return zh=a,null}function UT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case St:return 2;case un:return 8;case Rt:case Dn:return 32;case rt:return 268435456;default:return 32}default:return 32}}var $g=!1,Qa=null,eo=null,to=null,tf=new Map,nf=new Map,no=[],U3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(a,l){switch(a){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":tf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(l.pointerId)}}function rf(a,l,u,p,E,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[E]},l!==null&&(l=Ye(l),l!==null&&OT(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),a)}function V3(a,l,u,p,E){switch(l){case"focusin":return Qa=rf(Qa,a,l,u,p,E),!0;case"dragenter":return eo=rf(eo,a,l,u,p,E),!0;case"mouseover":return to=rf(to,a,l,u,p,E),!0;case"pointerover":var w=E.pointerId;return tf.set(w,rf(tf.get(w)||null,a,l,u,p,E)),!0;case"gotpointercapture":return w=E.pointerId,nf.set(w,rf(nf.get(w)||null,a,l,u,p,E)),!0}return!1}function BT(a){var l=He(a.target);if(l!==null){var u=i(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){a.blockedOn=l,Y(a.priority,function(){LT(u)});return}}else if(l===31){if(l=c(u),l!==null){a.blockedOn=l,Y(a.priority,function(){LT(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Hh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=jg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);gu=p,u.target.dispatchEvent(p),gu=null}else return l=Ye(u),l!==null&&OT(l),a.blockedOn=u,!1;l.shift()}return!0}function zT(a,l,u){Hh(a)&&u.delete(l)}function B3(){$g=!1,Qa!==null&&Hh(Qa)&&(Qa=null),eo!==null&&Hh(eo)&&(eo=null),to!==null&&Hh(to)&&(to=null),tf.forEach(zT),nf.forEach(zT)}function Gh(a,l){a.blockedOn===l&&(a.blockedOn=null,$g||($g=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,B3)))}var jh=null;function HT(a){jh!==a&&(jh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jh===a&&(jh=null);for(var l=0;l<a.length;l+=3){var u=a[l],p=a[l+1],E=a[l+2];if(typeof p!="function"){if(qg(p||u)===null)continue;break}var w=Ye(u);w!==null&&(a.splice(l,3),l-=3,jm(w,{pending:!0,data:E,method:u.method,action:p},p,E))}}))}function Tc(a){function l(oe){return Gh(oe,a)}Qa!==null&&Gh(Qa,a),eo!==null&&Gh(eo,a),to!==null&&Gh(to,a),tf.forEach(l),nf.forEach(l);for(var u=0;u<no.length;u++){var p=no[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<no.length&&(u=no[0],u.blockedOn===null);)BT(u),u.blockedOn===null&&no.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var E=u[p],w=u[p+1],P=E[W]||null;if(typeof w=="function")P||HT(u);else if(P){var q=null;if(w&&w.hasAttribute("formAction")){if(E=w,P=w[W]||null)q=P.formAction;else if(qg(E)!==null)continue}else q=P.action;typeof q=="function"?u[p+1]=q:(u.splice(p,3),p-=3),HT(u)}}}function GT(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(P){return E=P})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function Kg(a){this._internalRoot=a}qh.prototype.render=Kg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,p=_s();PT(u,p,a,l,null,null)},qh.prototype.unmount=Kg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;PT(a.current,2,null,a,null,null),Ah(),l[re]=null}};function qh(a){this._internalRoot=a}qh.prototype.unstable_scheduleHydration=function(a){if(a){var l=U();a={blockedOn:null,target:a,priority:l};for(var u=0;u<no.length&&l!==0&&l<no[u].priority;u++);no.splice(u,0,a),u===0&&BT(a)}};var jT=e.version;if(jT!=="19.2.4")throw Error(r(527,jT,"19.2.4"));ce.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var z3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{At=$h.inject(z3),$t=$h}catch{}}return af.createRoot=function(a,l){if(!s(a))throw Error(r(299));var u=!1,p="",E=Z_,w=X_,P=Q_;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=DT(a,1,!1,null,null,u,p,null,E,w,P,GT),a[re]=l.current,Ng(a),new Kg(l)},af.hydrateRoot=function(a,l,u){if(!s(a))throw Error(r(299));var p=!1,E="",w=Z_,P=X_,q=Q_,oe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(oe=u.formState)),l=DT(a,1,!0,l,u??null,p,E,oe,w,P,q,GT),l.context=MT(null),u=l.current,p=_s(),p=le(p),E=za(p),E.callback=null,Ha(u,E,p),u=p,l.current.lanes=u,Ws(l,u),Ni(l),a[re]=l.current,Ng(a),new qh(l)},af.version="19.2.4",af}var e2;function W3(){if(e2)return Wg.exports;e2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wg.exports=J3(),Wg.exports}var Z3=W3();const X3=bp(Z3);const GC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const Q3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const eD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const t2=t=>{const e=eD(t);return e.charAt(0).toUpperCase()+e.slice(1)};var tD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const rD=he.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...c},f)=>he.createElement("svg",{ref:f,...tD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:GC("lucide",s),...!i&&!nD(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,h])=>he.createElement(d,h)),...Array.isArray(i)?i:[i]]));const ot=(t,e)=>{const n=he.forwardRef(({className:r,...s},i)=>he.createElement(rD,{ref:i,iconNode:e,className:GC(`lucide-${Q3(t2(t))}`,`lucide-${t}`,r),...s}));return n.displayName=t2(t),n};const sD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],iD=ot("arrow-down",sD);const aD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oD=ot("arrow-left",aD);const lD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cD=ot("arrow-right",lD);const uD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],fD=ot("arrow-up",uD);const dD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],U0=ot("briefcase",dD);const hD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pD=ot("calendar",hD);const mD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],gD=ot("camera",mD);const vD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],V0=ot("check",vD);const xD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yD=ot("chevron-right",xD);const _D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pa=ot("circle-alert",_D);const ED=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hl=ot("circle-check-big",ED);const TD=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Mv=ot("cloud",TD);const wD=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],SD=ot("cookie",wD);const AD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],CD=ot("download",AD);const bD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],n2=ot("external-link",bD);const ND=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],x0=ot("file-spreadsheet",ND);const ID=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pv=ot("file-text",ID);const RD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],B0=ot("file-up",RD);const kD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jC=ot("funnel",kD);const DD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Yx=ot("globe",DD);const MD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ev=ot("key",MD);const PD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],qC=ot("layers",PD);const FD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],r2=ot("layout-dashboard",FD);const OD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Af=ot("loader-circle",OD);const LD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fv=ot("lock",LD);const UD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VD=ot("log-out",UD);const BD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zD=ot("mail",BD);const HD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],la=ot("map-pin",HD);const GD=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],jD=ot("map",GD);const qD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],$D=ot("maximize-2",qD);const KD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YD=ot("menu",KD);const JD=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],s2=ot("minimize-2",JD);const WD=[["path",{d:"M5 12h14",key:"1ays0h"}]],ZD=ot("minus",WD);const XD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],pl=ot("package",XD);const QD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eM=ot("pen",QD);const tM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],tv=ot("pencil",tM);const nM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rM=ot("phone",nM);const sM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jx=ot("plus",sM);const iM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gd=ot("save",iM);const aM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ul=ot("search",aM);const oM=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],i2=ot("send",oM);const lM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cM=ot("shield-check",lM);const uM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ov=ot("shield",uM);const fM=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],lo=ot("shopping-bag",fM);const dM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],a2=ot("sparkles",dM);const hM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Hf=ot("store",hM);const pM=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],mM=ot("table",pM);const gM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Wx=ot("tag",gM);const vM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xl=ot("trash-2",vM);const xM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yM=ot("upload",xM);const _M=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],o2=ot("user-plus",_M);const EM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],us=ot("user",EM);const TM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Lv=ot("users",TM);const wM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ma=ot("x",wM),$C={admin_dev:" Admin DEV",admin_general:" Admin Geral",general_manager:" Gerente Geral",sales_manager:" Gerente de Vendas",sales_supervisor:" Supervisor de Vendas",sales_internal:" Vendedor Interno",sales_external:" Vendedor Externo",admin:" Admin (Legado)",salesperson:" Vendedor (Legado)"},cs={admin_dev:1,admin:1,admin_general:2,general_manager:3,sales_manager:4,sales_supervisor:5,sales_internal:6,sales_external:7,salesperson:7},l2=t=>$C[t]||t,SM=t=>t==="admin"?"admin_dev":t==="salesperson"?"sales_external":t,AM=t=>{const e=cs[t],n=["admin_dev","admin_general","general_manager","sales_manager","sales_supervisor","sales_internal","sales_external"];return e===1?n:n.filter(r=>cs[r]>e)},nv=(t,e)=>{const n=cs[t],r=cs[e];return r===1?n===1:n<r},il=t=>cs[t]<=2,Cf=t=>cs[t]>=3,Uv=t=>cs[t]<=5,Gf=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],jf=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],CM={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},Zx=t=>{const e=t.toUpperCase().trim();return CM[e]||"Indefinido"};var y0={exports:{}};var bM=y0.exports,c2;function NM(){return c2||(c2=1,(function(t,e){((n,r)=>{t.exports=r()})(bM,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,c={},f=0,d={};function h(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var F=G(b);F.chunkSize=parseInt(F.chunkSize),b.step||b.chunk||(F.chunkSize=null),this._handle=new A(F),(this._handle.streamer=this)._config=F}).call(this,N),this.parseChunk=function(b,F){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let B=this._config.newline;B||(M=this._config.quoteChar||'"',B=this._handle.guessLineEndings(b,M)),b=[...b.split(B).slice(O)].join(B)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(M=this._config.beforeFirstChunk(b))!==void 0&&(b=M),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+b,M=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=M.meta.cursor,O=(this._finished||(this._partialLine=O.substring(b-this._baseIndex),this._baseIndex=b),M&&M.data&&(this._rowCount+=M.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:M,workerId:d.WORKER_ID,finished:O});else if(I(this._config.chunk)&&!F){if(this._config.chunk(M,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=M=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(M.data),this._completeResults.errors=this._completeResults.errors.concat(M.errors),this._completeResults.meta=M.meta),this._completed||!O||!I(this._config.complete)||M&&M.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||M&&M.meta.paused||this._nextChunk(),M}this._halted=!0},this._sendError=function(b){I(this._config.error)?this._config.error(b):o&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:b,finished:!1})}}function g(N){var b;(N=N||{}).chunkSize||(N.chunkSize=d.RemoteChunkSize),h.call(this,N),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),i||(b.onload=J(this._chunkLoaded,this),b.onerror=J(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var F,O=this._config.downloadRequestHeaders;for(F in O)b.setRequestHeader(F,O[F])}var M;this._config.chunkSize&&(M=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+M));try{b.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}i&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(F=>(F=F.getResponseHeader("Content-Range"))!==null?parseInt(F.substring(F.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(F){F=b.statusText||F,this._sendError(new Error(F))}}function v(N){(N=N||{}).chunkSize||(N.chunkSize=d.LocalChunkSize),h.call(this,N);var b,F,O=typeof FileReader<"u";this.stream=function(M){this._input=M,F=M.slice||M.webkitSlice||M.mozSlice,O?((b=new FileReader).onload=J(this._chunkLoaded,this),b.onerror=J(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var M=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),M=F.call(M,this._start,B)),b.readAsText(M,this._config.encoding));O||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(M){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(M.target.result)},this._chunkError=function(){this._sendError(b.error)}}function T(N){var b;h.call(this,N=N||{}),this.stream=function(F){return b=F,this._nextChunk()},this._nextChunk=function(){var F,O;if(!this._finished)return F=this._config.chunkSize,b=F?(O=b.substring(0,F),b.substring(F)):(O=b,""),this._finished=!b,this.parseChunk(O)}}function S(N){h.call(this,N=N||{});var b=[],F=!0,O=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(M){this._input=M,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):F=!0},this._streamData=J(function(M){try{b.push(typeof M=="string"?M:M.toString(this._config.encoding)),F&&(F=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(B){this._streamError(B)}},this),this._streamError=J(function(M){this._streamCleanUp(),this._sendError(M)},this),this._streamEnd=J(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(N){var b,F,O,M,B=Math.pow(2,53),fe=-B,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ce=this,ee=0,ie=0,Re=!1,X=!1,z=[],Q={data:[],errors:[],meta:{}};function ne(Ne){return N.skipEmptyLines==="greedy"?Ne.join("").trim()==="":Ne.length===1&&Ne[0].length===0}function te(){if(Q&&O&&(ve("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),O=!1),N.skipEmptyLines&&(Q.data=Q.data.filter(function(se){return!ne(se)})),de()){let se=function(ft,We){I(N.transformHeader)&&(ft=N.transformHeader(ft,We)),z.push(ft)};var je=se;if(Q)if(Array.isArray(Q.data[0])){for(var Ne=0;de()&&Ne<Q.data.length;Ne++)Q.data[Ne].forEach(se);Q.data.splice(0,1)}else Q.data.forEach(se)}function be(se,ft){for(var We=N.header?{}:[],qe=0;qe<se.length;qe++){var Ge=qe,Be=se[qe],Be=((tt,nt)=>(ct=>(N.dynamicTypingFunction&&N.dynamicTyping[ct]===void 0&&(N.dynamicTyping[ct]=N.dynamicTypingFunction(ct)),(N.dynamicTyping[ct]||N.dynamicTyping)===!0))(tt)?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&((ct=>{if(pe.test(ct)&&(ct=parseFloat(ct),fe<ct&&ct<B))return 1})(nt)?parseFloat(nt):ae.test(nt)?new Date(nt):nt===""?null:nt):nt)(Ge=N.header?qe>=z.length?"__parsed_extra":z[qe]:Ge,Be=N.transform?N.transform(Be,Ge):Be);Ge==="__parsed_extra"?(We[Ge]=We[Ge]||[],We[Ge].push(Be)):We[Ge]=Be}return N.header&&(qe>z.length?ve("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+qe,ie+ft):qe<z.length&&ve("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+qe,ie+ft)),We}var De;Q&&(N.header||N.dynamicTyping||N.transform)&&(De=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(be),De=Q.data.length):Q.data=be(Q.data,0),N.header&&Q.meta&&(Q.meta.fields=z),ie+=De)}function de(){return N.header&&z.length===0}function ve(Ne,be,De,je){Ne={type:Ne,code:be,message:De},je!==void 0&&(Ne.row=je),Q.errors.push(Ne)}I(N.step)&&(M=N.step,N.step=function(Ne){Q=Ne,de()?te():(te(),Q.data.length!==0&&(ee+=Ne.data.length,N.preview&&ee>N.preview?F.abort():(Q.data=Q.data[0],M(Q,ce))))}),this.parse=function(Ne,be,De){var je=N.quoteChar||'"',je=(N.newline||(N.newline=this.guessLineEndings(Ne,je)),O=!1,N.delimiter?I(N.delimiter)&&(N.delimiter=N.delimiter(Ne),Q.meta.delimiter=N.delimiter):((je=((se,ft,We,qe,Ge)=>{var Be,tt,nt,ct;Ge=Ge||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var cn=0;cn<Ge.length;cn++){for(var wn,Bn=Ge[cn],pt=0,It=0,St=0,un=(nt=void 0,new k({comments:qe,delimiter:Bn,newline:ft,preview:10}).parse(se)),Rt=0;Rt<un.data.length;Rt++)We&&ne(un.data[Rt])?St++:(wn=un.data[Rt].length,It+=wn,nt===void 0?nt=wn:0<wn&&(pt+=Math.abs(wn-nt),nt=wn));0<un.data.length&&(It/=un.data.length-St),(tt===void 0||pt<=tt)&&(ct===void 0||ct<It)&&1.99<It&&(tt=pt,Be=Bn,ct=It)}return{successful:!!(N.delimiter=Be),bestDelimiter:Be}})(Ne,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=je.bestDelimiter:(O=!0,N.delimiter=d.DefaultDelimiter),Q.meta.delimiter=N.delimiter),G(N));return N.preview&&N.header&&je.preview++,b=Ne,F=new k(je),Q=F.parse(b,be,De),te(),Re?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return Re},this.pause=function(){Re=!0,F.abort(),b=I(N.chunk)?"":b.substring(F.getCharIndex())},this.resume=function(){ce.streamer._halted?(Re=!1,ce.streamer.parseChunk(b,!0)):setTimeout(ce.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,F.abort(),Q.meta.aborted=!0,I(N.complete)&&N.complete(Q),b=""},this.guessLineEndings=function(se,je){se=se.substring(0,1048576);var je=new RegExp(C(je)+"([^]*?)"+C(je),"gm"),De=(se=se.replace(je,"")).split("\r"),je=se.split(`
`),se=1<je.length&&je[0].length<De[0].length;if(De.length===1||se)return`
`;for(var ft=0,We=0;We<De.length;We++)De[We][0]===`
`&&ft++;return ft>=De.length/2?`\r
`:"\r"}}function C(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function k(N){var b=(N=N||{}).delimiter,F=N.newline,O=N.comments,M=N.step,B=N.preview,fe=N.fastMode,pe=null,ae=!1,ce=N.quoteChar==null?'"':N.quoteChar,ee=ce;if(N.escapeChar!==void 0&&(ee=N.escapeChar),(typeof b!="string"||-1<d.BAD_DELIMITERS.indexOf(b))&&(b=","),O===b)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<d.BAD_DELIMITERS.indexOf(O))&&(O=!1),F!==`
`&&F!=="\r"&&F!==`\r
`&&(F=`
`);var ie=0,Re=!1;this.parse=function(X,z,Q){if(typeof X!="string")throw new Error("Input must be a string");var ne=X.length,te=b.length,de=F.length,ve=O.length,Ne=I(M),be=[],De=[],je=[],se=ie=0;if(!X)return pt();if(fe||fe!==!1&&X.indexOf(ce)===-1){for(var ft=X.split(F),We=0;We<ft.length;We++){if(je=ft[We],ie+=je.length,We!==ft.length-1)ie+=F.length;else if(Q)return pt();if(!O||je.substring(0,ve)!==O){if(Ne){if(be=[],ct(je.split(b)),It(),Re)return pt()}else ct(je.split(b));if(B&&B<=We)return be=be.slice(0,B),pt(!0)}}return pt()}for(var qe=X.indexOf(b,ie),Ge=X.indexOf(F,ie),Be=new RegExp(C(ee)+C(ce),"g"),tt=X.indexOf(ce,ie);;)if(X[ie]===ce)for(tt=ie,ie++;;){if((tt=X.indexOf(ce,tt+1))===-1)return Q||De.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:ie}),wn();if(tt===ne-1)return wn(X.substring(ie,tt).replace(Be,ce));if(ce===ee&&X[tt+1]===ee)tt++;else if(ce===ee||tt===0||X[tt-1]!==ee){qe!==-1&&qe<tt+1&&(qe=X.indexOf(b,tt+1));var nt=cn((Ge=Ge!==-1&&Ge<tt+1?X.indexOf(F,tt+1):Ge)===-1?qe:Math.min(qe,Ge));if(X.substr(tt+1+nt,te)===b){je.push(X.substring(ie,tt).replace(Be,ce)),X[ie=tt+1+nt+te]!==ce&&(tt=X.indexOf(ce,ie)),qe=X.indexOf(b,ie),Ge=X.indexOf(F,ie);break}if(nt=cn(Ge),X.substring(tt+1+nt,tt+1+nt+de)===F){if(je.push(X.substring(ie,tt).replace(Be,ce)),Bn(tt+1+nt+de),qe=X.indexOf(b,ie),tt=X.indexOf(ce,ie),Ne&&(It(),Re))return pt();if(B&&be.length>=B)return pt(!0);break}De.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:ie}),tt++}}else if(O&&je.length===0&&X.substring(ie,ie+ve)===O){if(Ge===-1)return pt();ie=Ge+de,Ge=X.indexOf(F,ie),qe=X.indexOf(b,ie)}else if(qe!==-1&&(qe<Ge||Ge===-1))je.push(X.substring(ie,qe)),ie=qe+te,qe=X.indexOf(b,ie);else{if(Ge===-1)break;if(je.push(X.substring(ie,Ge)),Bn(Ge+de),Ne&&(It(),Re))return pt();if(B&&be.length>=B)return pt(!0)}return wn();function ct(St){be.push(St),se=ie}function cn(St){var un=0;return un=St!==-1&&(St=X.substring(tt+1,St))&&St.trim()===""?St.length:un}function wn(St){return Q||(St===void 0&&(St=X.substring(ie)),je.push(St),ie=ne,ct(je),Ne&&It()),pt()}function Bn(St){ie=St,ct(je),je=[],Ge=X.indexOf(F,ie)}function pt(St){if(N.header&&!z&&be.length&&!ae){var un=be[0],Rt=Object.create(null),Dn=new Set(un);let rt=!1;for(let Ft=0;Ft<un.length;Ft++){let Jt=un[Ft];if(Rt[Jt=I(N.transformHeader)?N.transformHeader(Jt,Ft):Jt]){let At,$t=Rt[Jt];for(;At=Jt+"_"+$t,$t++,Dn.has(At););Dn.add(At),un[Ft]=At,Rt[Jt]++,rt=!0,(pe=pe===null?{}:pe)[At]=Jt}else Rt[Jt]=1,un[Ft]=Jt;Dn.add(Jt)}rt&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:be,errors:De,meta:{delimiter:b,linebreak:F,aborted:Re,truncated:!!St,cursor:se+(z||0),renamedHeaders:pe}}}function It(){M(pt()),be=[],De=[]}},this.abort=function(){Re=!0},this.getCharIndex=function(){return ie}}function V(N){var b=N.data,F=c[b.workerId],O=!1;if(b.error)F.userError(b.error,b.file);else if(b.results&&b.results.data){var M={abort:function(){O=!0,D(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:H,resume:H};if(I(F.userStep)){for(var B=0;B<b.results.data.length&&(F.userStep({data:b.results.data[B],errors:b.results.errors,meta:b.results.meta},M),!O);B++);delete b.results}else I(F.userChunk)&&(F.userChunk(b.results,M,b.file),delete b.results)}b.finished&&!O&&D(b.workerId,b.results)}function D(N,b){var F=c[N];I(F.userComplete)&&F.userComplete(b),F.terminate(),delete c[N]}function H(){throw new Error("Not implemented.")}function G(N){if(typeof N!="object"||N===null)return N;var b,F=Array.isArray(N)?[]:{};for(b in N)F[b]=G(N[b]);return F}function J(N,b){return function(){N.apply(b,arguments)}}function I(N){return typeof N=="function"}return d.parse=function(N,b){var F=(b=b||{}).dynamicTyping||!1;if(I(F)&&(b.dynamicTypingFunction=F,F={}),b.dynamicTyping=F,b.transform=!!I(b.transform)&&b.transform,!b.worker||!d.WORKERS_SUPPORTED)return F=null,d.NODE_STREAM_INPUT,typeof N=="string"?(N=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(N),F=new(b.download?g:T)(b)):N.readable===!0&&I(N.read)&&I(N.on)?F=new S(b):(r.File&&N instanceof File||N instanceof Object)&&(F=new v(b)),F.stream(N);(F=(()=>{var O;return!!d.WORKERS_SUPPORTED&&(O=(()=>{var M=r.URL||r.webkitURL||null,B=n.toString();return d.BLOB_URL||(d.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=V,O.id=f++,c[O.id]=O)})()).userStep=b.step,F.userChunk=b.chunk,F.userComplete=b.complete,F.userError=b.error,b.step=I(b.step),b.chunk=I(b.chunk),b.complete=I(b.complete),b.error=I(b.error),delete b.worker,F.postMessage({input:N,config:b,workerId:F.id})},d.unparse=function(N,b){var F=!1,O=!0,M=",",B=`\r
`,fe='"',pe=fe+fe,ae=!1,ce=null,ee=!1,ie=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||d.BAD_DELIMITERS.filter(function(z){return b.delimiter.indexOf(z)!==-1}).length||(M=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(F=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(ae=b.skipEmptyLines),typeof b.newline=="string"&&(B=b.newline),typeof b.quoteChar=="string"&&(fe=b.quoteChar),typeof b.header=="boolean"&&(O=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");ce=b.columns}b.escapeChar!==void 0&&(pe=b.escapeChar+fe),b.escapeFormulae instanceof RegExp?ee=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(ee=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(fe),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return Re(null,N,ae);if(typeof N[0]=="object")return Re(ce||Object.keys(N[0]),N,ae)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||ce),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),Re(N.fields||[],N.data||[],ae);throw new Error("Unable to serialize unrecognized input");function Re(z,Q,ne){var te="",de=(typeof z=="string"&&(z=JSON.parse(z)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(z)&&0<z.length),ve=!Array.isArray(Q[0]);if(de&&O){for(var Ne=0;Ne<z.length;Ne++)0<Ne&&(te+=M),te+=X(z[Ne],Ne);0<Q.length&&(te+=B)}for(var be=0;be<Q.length;be++){var De=(de?z:Q[be]).length,je=!1,se=de?Object.keys(Q[be]).length===0:Q[be].length===0;if(ne&&!de&&(je=ne==="greedy"?Q[be].join("").trim()==="":Q[be].length===1&&Q[be][0].length===0),ne==="greedy"&&de){for(var ft=[],We=0;We<De;We++){var qe=ve?z[We]:We;ft.push(Q[be][qe])}je=ft.join("").trim()===""}if(!je){for(var Ge=0;Ge<De;Ge++){0<Ge&&!se&&(te+=M);var Be=de&&ve?z[Ge]:Ge;te+=X(Q[be][Be],Ge)}be<Q.length-1&&(!ne||0<De&&!se)&&(te+=B)}}return te}function X(z,Q){var ne,te;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(te=!1,ee&&typeof z=="string"&&ee.test(z)&&(z="'"+z,te=!0),ne=z.toString().replace(ie,pe),(te=te||F===!0||typeof F=="function"&&F(z,Q)||Array.isArray(F)&&F[Q]||((de,ve)=>{for(var Ne=0;Ne<ve.length;Ne++)if(-1<de.indexOf(ve[Ne]))return!0;return!1})(ne,d.BAD_DELIMITERS)||-1<ne.indexOf(M)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?fe+ne+fe:ne)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=k,d.ParserHandle=A,d.NetworkStreamer=g,d.FileStreamer=v,d.StringStreamer=T,d.ReadableStreamStreamer=S,r.jQuery&&((s=r.jQuery).fn.parse=function(N){var b=N.config||{},F=[];return this.each(function(B){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var fe=0;fe<this.files.length;fe++)F.push({file:this.files[fe],inputElem:this,instanceConfig:s.extend({},b)})}),O(),this;function O(){if(F.length===0)I(N.complete)&&N.complete();else{var B,fe,pe,ae,ce=F[0];if(I(N.before)){var ee=N.before(ce.file,ce.inputElem);if(typeof ee=="object"){if(ee.action==="abort")return B="AbortError",fe=ce.file,pe=ce.inputElem,ae=ee.reason,void(I(N.error)&&N.error({name:B},fe,pe,ae));if(ee.action==="skip")return void M();typeof ee.config=="object"&&(ce.instanceConfig=s.extend(ce.instanceConfig,ee.config))}else if(ee==="skip")return void M()}var ie=ce.instanceConfig.complete;ce.instanceConfig.complete=function(Re){I(ie)&&ie(Re,ce.file,ce.inputElem),M()},d.parse(ce.file,ce.instanceConfig)}}function M(){F.splice(0,1),O()}}),o&&(r.onmessage=function(N){N=N.data,d.WORKER_ID===void 0&&N&&(d.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=d.parse(N.input,N.config))&&r.postMessage({workerId:d.WORKER_ID,results:N,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(v.prototype=Object.create(h.prototype)).constructor=v,(T.prototype=Object.create(T.prototype)).constructor=T,(S.prototype=Object.create(h.prototype)).constructor=S,d})})(y0)),y0.exports}var IM=NM();const KC=bp(IM);function Fe(t,e,n){function r(c,f){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:f,constr:o,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,f);const d=o.prototype,h=Object.keys(d);for(let g=0;g<h.length;g++){const v=h[g];v in c||(c[v]=d[v].bind(c))}}const s=n?.Parent??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(c){var f;const d=n?.Parent?new i:this;r(d,c),(f=d._zod).deferred??(f.deferred=[]);for(const h of d._zod.deferred)h();return d}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class Fc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class YC extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const JC={};function yl(t){return JC}function WC(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function Vv(t,e){return typeof e=="bigint"?e.toString():e}function Xx(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Qx(t){return t==null}function e1(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function RM(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f?.[1]&&(s=Number.parseInt(f[1]))}const i=n>s?n:s,o=Number.parseInt(t.toFixed(i).replace(".","")),c=Number.parseInt(e.toFixed(i).replace(".",""));return o%c/10**i}const u2=Symbol("evaluating");function nn(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==u2)return r===void 0&&(r=u2,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function Nl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Io(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function f2(t){return JSON.stringify(t)}function kM(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ZC="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function z0(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const DM=Xx(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function qf(t){if(z0(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(z0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function XC(t){return qf(t)?{...t}:Array.isArray(t)?[...t]:t}const MM=new Set(["string","number","symbol"]);function qc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ro(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function at(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function PM(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const FM={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function OM(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=Io(t._zod.def,{get shape(){const o={};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&(o[c]=n.shape[c])}return Nl(this,"shape",o),o},checks:[]});return Ro(t,i)}function LM(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=Io(t._zod.def,{get shape(){const o={...t._zod.def.shape};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&delete o[c]}return Nl(this,"shape",o),o},checks:[]});return Ro(t,i)}function UM(t,e){if(!qf(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const i=t._zod.def.shape;for(const o in e)if(Object.getOwnPropertyDescriptor(i,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=Io(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return Nl(this,"shape",i),i}});return Ro(t,s)}function VM(t,e){if(!qf(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Io(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Nl(this,"shape",r),r}});return Ro(t,n)}function BM(t,e){const n=Io(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Nl(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Ro(t,n)}function zM(t,e,n){const s=e._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=Io(e._zod.def,{get shape(){const c=e._zod.def.shape,f={...c};if(n)for(const d in n){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(f[d]=t?new t({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)f[d]=t?new t({type:"optional",innerType:c[d]}):c[d];return Nl(this,"shape",f),f},checks:[]});return Ro(e,o)}function HM(t,e,n){const r=Io(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new t({type:"nonoptional",innerType:s[o]});return Nl(this,"shape",i),i}});return Ro(e,r)}function Rc(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function QC(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Kh(t){return typeof t=="string"?t:t?.message}function _l(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const s=Kh(t.inst?._zod.def?.error?.(t))??Kh(e?.error?.(t))??Kh(n.customError?.(t))??Kh(n.localeError?.(t))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function t1(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function $f(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const eb=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Vv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},tb=Fe("$ZodError",eb),nb=Fe("$ZodError",eb,{Parent:Error});function GM(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function jM(t,e=n=>n.message){const n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>r({issues:o}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let o=n,c=0;for(;c<i.path.length;){const f=i.path[c];c===i.path.length-1?(o[f]=o[f]||{_errors:[]},o[f]._errors.push(e(i))):o[f]=o[f]||{_errors:[]},o=o[f],c++}}};return r(t),n}const n1=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new Fc;if(o.issues.length){const c=new(s?.Err??t)(o.issues.map(f=>_l(f,i,yl())));throw ZC(c,s?.callee),c}return o.value},r1=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(s?.Err??t)(o.issues.map(f=>_l(f,i,yl())));throw ZC(c,s?.callee),c}return o.value},Np=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new Fc;return i.issues.length?{success:!1,error:new(t??tb)(i.issues.map(o=>_l(o,s,yl())))}:{success:!0,data:i.value}},qM=Np(nb),Ip=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>_l(o,s,yl())))}:{success:!0,data:i.value}},$M=Ip(nb),KM=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return n1(t)(e,n,s)},YM=t=>(e,n,r)=>n1(t)(e,n,r),JM=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return r1(t)(e,n,s)},WM=t=>async(e,n,r)=>r1(t)(e,n,r),ZM=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Np(t)(e,n,s)},XM=t=>(e,n,r)=>Np(t)(e,n,r),QM=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ip(t)(e,n,s)},eP=t=>async(e,n,r)=>Ip(t)(e,n,r),tP=/^[cC][^\s-]{8,}$/,nP=/^[0-9a-z]+$/,rP=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,sP=/^[0-9a-vA-V]{20}$/,iP=/^[A-Za-z0-9]{27}$/,aP=/^[a-zA-Z0-9_-]{21}$/,oP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,lP=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,d2=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,cP=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,uP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function fP(){return new RegExp(uP,"u")}const dP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,pP=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,mP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,rb=/^[A-Za-z0-9_-]*$/,vP=/^\+[1-9]\d{6,14}$/,sb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",xP=new RegExp(`^${sb}$`);function ib(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function yP(t){return new RegExp(`^${ib(t)}$`)}function _P(t){const e=ib({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${sb}T(?:${r})$`)}const EP=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},TP=/^-?\d+$/,wP=/^-?\d+(?:\.\d+)?$/,SP=/^[^A-Z]*$/,AP=/^[^a-z]*$/,fs=Fe("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),ab={number:"number",bigint:"bigint",object:"date"},ob=Fe("$ZodCheckLessThan",(t,e)=>{fs.init(t,e);const n=ab[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),lb=Fe("$ZodCheckGreaterThan",(t,e)=>{fs.init(t,e);const n=ab[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),CP=Fe("$ZodCheckMultipleOf",(t,e)=>{fs.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):RM(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),bP=Fe("$ZodCheckNumberFormat",(t,e)=>{fs.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[s,i]=FM[e.format];t._zod.onattach.push(o=>{const c=o._zod.bag;c.format=e.format,c.minimum=s,c.maximum=i,n&&(c.pattern=TP)}),t._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}c<s&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),c>i&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inclusive:!0,inst:t,continue:!e.abort})}}),NP=Fe("$ZodCheckMaxLength",(t,e)=>{var n;fs.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Qx(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const o=t1(s);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),IP=Fe("$ZodCheckMinLength",(t,e)=>{var n;fs.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Qx(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const o=t1(s);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),RP=Fe("$ZodCheckLengthEquals",(t,e)=>{var n;fs.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!Qx(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const o=t1(s),c=i>e.length;r.issues.push({origin:o,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Rp=Fe("$ZodCheckStringFormat",(t,e)=>{var n,r;fs.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),kP=Fe("$ZodCheckRegex",(t,e)=>{Rp.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),DP=Fe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=SP),Rp.init(t,e)}),MP=Fe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=AP),Rp.init(t,e)}),PP=Fe("$ZodCheckIncludes",(t,e)=>{fs.init(t,e);const n=qc(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),FP=Fe("$ZodCheckStartsWith",(t,e)=>{fs.init(t,e);const n=new RegExp(`^${qc(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),OP=Fe("$ZodCheckEndsWith",(t,e)=>{fs.init(t,e);const n=new RegExp(`.*${qc(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),LP=Fe("$ZodCheckOverwrite",(t,e)=>{fs.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class UP{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,n=this?.args,s=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...n,s.join(`
`))}}const VP={major:4,minor:3,patch:6},Un=Fe("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=VP;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const i of s._zod.onattach)i(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const s=(o,c,f)=>{let d=Rc(o),h;for(const g of c){if(g._zod.def.when){if(!g._zod.def.when(o))continue}else if(d)continue;const v=o.issues.length,T=g._zod.check(o);if(T instanceof Promise&&f?.async===!1)throw new Fc;if(h||T instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await T,o.issues.length!==v&&(d||(d=Rc(o,v)))});else{if(o.issues.length===v)continue;d||(d=Rc(o,v))}}return h?h.then(()=>o):o},i=(o,c,f)=>{if(Rc(o))return o.aborted=!0,o;const d=s(c,r,f);if(d instanceof Promise){if(f.async===!1)throw new Fc;return d.then(h=>t._zod.parse(h,f))}return t._zod.parse(d,f)};t._zod.run=(o,c)=>{if(c.skipChecks)return t._zod.parse(o,c);if(c.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(h=>i(h,o,c)):i(d,o,c)}const f=t._zod.parse(o,c);if(f instanceof Promise){if(c.async===!1)throw new Fc;return f.then(d=>s(d,r,c))}return s(f,r,c)}}nn(t,"~standard",()=>({validate:s=>{try{const i=qM(t,s);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return $M(t,s).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}))}),s1=Fe("$ZodString",(t,e)=>{Un.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??EP(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),Tn=Fe("$ZodStringFormat",(t,e)=>{Rp.init(t,e),s1.init(t,e)}),BP=Fe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=lP),Tn.init(t,e)}),zP=Fe("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=d2(r))}else e.pattern??(e.pattern=d2());Tn.init(t,e)}),HP=Fe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=cP),Tn.init(t,e)}),GP=Fe("$ZodURL",(t,e)=>{Tn.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),jP=Fe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=fP()),Tn.init(t,e)}),qP=Fe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=aP),Tn.init(t,e)}),$P=Fe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=tP),Tn.init(t,e)}),KP=Fe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=nP),Tn.init(t,e)}),YP=Fe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=rP),Tn.init(t,e)}),JP=Fe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=sP),Tn.init(t,e)}),WP=Fe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=iP),Tn.init(t,e)}),ZP=Fe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=_P(e)),Tn.init(t,e)}),XP=Fe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=xP),Tn.init(t,e)}),QP=Fe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=yP(e)),Tn.init(t,e)}),e6=Fe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=oP),Tn.init(t,e)}),t6=Fe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=dP),Tn.init(t,e),t._zod.bag.format="ipv4"}),n6=Fe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=hP),Tn.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),r6=Fe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=pP),Tn.init(t,e)}),s6=Fe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=mP),Tn.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function cb(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const i6=Fe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=gP),Tn.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{cb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function a6(t){if(!rb.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return cb(n)}const o6=Fe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=rb),Tn.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{a6(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),l6=Fe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=vP),Tn.init(t,e)});function c6(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const u6=Fe("$ZodJWT",(t,e)=>{Tn.init(t,e),t._zod.check=n=>{c6(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),ub=Fe("$ZodNumber",(t,e)=>{Un.init(t,e),t._zod.pattern=t._zod.bag.pattern??wP,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...i?{received:i}:{}}),n}}),f6=Fe("$ZodNumberFormat",(t,e)=>{bP.init(t,e),ub.init(t,e)}),d6=Fe("$ZodUnknown",(t,e)=>{Un.init(t,e),t._zod.parse=n=>n}),h6=Fe("$ZodNever",(t,e)=>{Un.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function h2(t,e,n){t.issues.length&&e.issues.push(...QC(n,t.issues)),e.value[n]=t.value}const p6=Fe("$ZodArray",(t,e)=>{Un.init(t,e),t._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const c=s[o],f=e.element._zod.run({value:c,issues:[]},r);f instanceof Promise?i.push(f.then(d=>h2(d,n,o))):h2(f,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function H0(t,e,n,r,s){if(t.issues.length){if(s&&!(n in r))return;e.issues.push(...QC(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function fb(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=PM(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function db(t,e,n,r,s,i){const o=[],c=s.keySet,f=s.catchall._zod,d=f.def.type,h=f.optout==="optional";for(const g in e){if(c.has(g))continue;if(d==="never"){o.push(g);continue}const v=f.run({value:e[g],issues:[]},r);v instanceof Promise?t.push(v.then(T=>H0(T,n,g,e,h))):H0(v,n,g,e,h)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:i}),t.length?Promise.all(t).then(()=>n):n}const m6=Fe("$ZodObject",(t,e)=>{if(Un.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...c};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=Xx(()=>fb(e));nn(t._zod,"propValues",()=>{const c=e.shape,f={};for(const d in c){const h=c[d]._zod;if(h.values){f[d]??(f[d]=new Set);for(const g of h.values)f[d].add(g)}}return f});const s=z0,i=e.catchall;let o;t._zod.parse=(c,f)=>{o??(o=r.value);const d=c.value;if(!s(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),c;c.value={};const h=[],g=o.shape;for(const v of o.keys){const T=g[v],S=T._zod.optout==="optional",A=T._zod.run({value:d[v],issues:[]},f);A instanceof Promise?h.push(A.then(C=>H0(C,c,v,d,S))):H0(A,c,v,d,S)}return i?db(h,d,c,f,r.value,t):h.length?Promise.all(h).then(()=>c):c}}),g6=Fe("$ZodObjectJIT",(t,e)=>{m6.init(t,e);const n=t._zod.parse,r=Xx(()=>fb(e)),s=v=>{const T=new UP(["shape","payload","ctx"]),S=r.value,A=D=>{const H=f2(D);return`shape[${H}]._zod.run({ value: input[${H}], issues: [] }, ctx)`};T.write("const input = payload.value;");const C=Object.create(null);let k=0;for(const D of S.keys)C[D]=`key_${k++}`;T.write("const newResult = {};");for(const D of S.keys){const H=C[D],G=f2(D),I=v[D]?._zod?.optout==="optional";T.write(`const ${H} = ${A(D)};`),I?T.write(`
        if (${H}.issues.length) {
          if (${G} in input) {
            payload.issues = payload.issues.concat(${H}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${G}, ...iss.path] : [${G}]
            })));
          }
        }
        
        if (${H}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${H}.value;
        }
        
      `):T.write(`
        if (${H}.issues.length) {
          payload.issues = payload.issues.concat(${H}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${G}, ...iss.path] : [${G}]
          })));
        }
        
        if (${H}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${H}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const V=T.compile();return(D,H)=>V(v,D,H)};let i;const o=z0,c=!JC.jitless,d=c&&DM.value,h=e.catchall;let g;t._zod.parse=(v,T)=>{g??(g=r.value);const S=v.value;return o(S)?c&&d&&T?.async===!1&&T.jitless!==!0?(i||(i=s(e.shape)),v=i(v,T),h?db([],S,v,T,g,t):v):n(v,T):(v.issues.push({expected:"object",code:"invalid_type",input:S,inst:t}),v)}});function p2(t,e,n,r){for(const i of t)if(i.issues.length===0)return e.value=i.value,e;const s=t.filter(i=>!Rc(i));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(i=>i.issues.map(o=>_l(o,r,yl())))}),e)}const v6=Fe("$ZodUnion",(t,e)=>{Un.init(t,e),nn(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),nn(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),nn(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),nn(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>e1(i.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const c=[];for(const f of e.options){const d=f._zod.run({value:s.value,issues:[]},i);if(d instanceof Promise)c.push(d),o=!0;else{if(d.issues.length===0)return d;c.push(d)}}return o?Promise.all(c).then(f=>p2(f,s,t,i)):p2(c,s,t,i)}}),x6=Fe("$ZodIntersection",(t,e)=>{Un.init(t,e),t._zod.parse=(n,r)=>{const s=n.value,i=e.left._zod.run({value:s,issues:[]},r),o=e.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([f,d])=>m2(n,f,d)):m2(n,i,o)}});function Bv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(qf(t)&&qf(e)){const n=Object.keys(e),r=Object.keys(t).filter(i=>n.indexOf(i)!==-1),s={...t,...e};for(const i of r){const o=Bv(t[i],e[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r],o=Bv(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function m2(t,e,n){const r=new Map;let s;for(const c of e.issues)if(c.code==="unrecognized_keys"){s??(s=c);for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else t.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else t.issues.push(c);const i=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(i.length&&s&&t.issues.push({...s,keys:i}),Rc(t))return t;const o=Bv(e.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return t.value=o.data,t}const y6=Fe("$ZodEnum",(t,e)=>{Un.init(t,e);const n=WC(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(s=>MM.has(typeof s)).map(s=>typeof s=="string"?qc(s):s.toString()).join("|")})$`),t._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:t}),s}}),_6=Fe("$ZodLiteral",(t,e)=>{if(Un.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?qc(r):r?qc(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,s)=>{const i=r.value;return n.has(i)||r.issues.push({code:"invalid_value",values:e.values,input:i,inst:t}),r}}),E6=Fe("$ZodTransform",(t,e)=>{Un.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new YC(t.constructor.name);const s=e.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new Fc;return n.value=s,n}});function g2(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const hb=Fe("$ZodOptional",(t,e)=>{Un.init(t,e),t._zod.optin="optional",t._zod.optout="optional",nn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),nn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${e1(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>g2(i,n.value)):g2(s,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),T6=Fe("$ZodExactOptional",(t,e)=>{hb.init(t,e),nn(t._zod,"values",()=>e.innerType._zod.values),nn(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),w6=Fe("$ZodNullable",(t,e)=>{Un.init(t,e),nn(t._zod,"optin",()=>e.innerType._zod.optin),nn(t._zod,"optout",()=>e.innerType._zod.optout),nn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${e1(n.source)}|null)$`):void 0}),nn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),S6=Fe("$ZodDefault",(t,e)=>{Un.init(t,e),t._zod.optin="optional",nn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>v2(i,e)):v2(s,e)}});function v2(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const A6=Fe("$ZodPrefault",(t,e)=>{Un.init(t,e),t._zod.optin="optional",nn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),C6=Fe("$ZodNonOptional",(t,e)=>{Un.init(t,e),nn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>x2(i,t)):x2(s,t)}});function x2(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const b6=Fe("$ZodCatch",(t,e)=>{Un.init(t,e),nn(t._zod,"optin",()=>e.innerType._zod.optin),nn(t._zod,"optout",()=>e.innerType._zod.optout),nn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(o=>_l(o,r,yl()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(i=>_l(i,r,yl()))},input:n.value}),n.issues=[]),n)}}),N6=Fe("$ZodPipe",(t,e)=>{Un.init(t,e),nn(t._zod,"values",()=>e.in._zod.values),nn(t._zod,"optin",()=>e.in._zod.optin),nn(t._zod,"optout",()=>e.out._zod.optout),nn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=e.out._zod.run(n,r);return i instanceof Promise?i.then(o=>Yh(o,e.in,r)):Yh(i,e.in,r)}const s=e.in._zod.run(n,r);return s instanceof Promise?s.then(i=>Yh(i,e.out,r)):Yh(s,e.out,r)}});function Yh(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const I6=Fe("$ZodReadonly",(t,e)=>{Un.init(t,e),nn(t._zod,"propValues",()=>e.innerType._zod.propValues),nn(t._zod,"values",()=>e.innerType._zod.values),nn(t._zod,"optin",()=>e.innerType?._zod?.optin),nn(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const s=e.innerType._zod.run(n,r);return s instanceof Promise?s.then(y2):y2(s)}});function y2(t){return t.value=Object.freeze(t.value),t}const R6=Fe("$ZodCustom",(t,e)=>{fs.init(t,e),Un.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,s=e.fn(r);if(s instanceof Promise)return s.then(i=>_2(i,n,r,t));_2(s,n,r,t)}});function _2(t,e,n,r){if(!t){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),e.issues.push($f(s))}}var E2;class k6{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function D6(){return new k6}(E2=globalThis).__zod_globalRegistry??(E2.__zod_globalRegistry=D6());const pf=globalThis.__zod_globalRegistry;function M6(t,e){return new t({type:"string",...at(e)})}function P6(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...at(e)})}function T2(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...at(e)})}function F6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...at(e)})}function O6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...at(e)})}function L6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...at(e)})}function U6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...at(e)})}function V6(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...at(e)})}function B6(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...at(e)})}function z6(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...at(e)})}function H6(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...at(e)})}function G6(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...at(e)})}function j6(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...at(e)})}function q6(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...at(e)})}function $6(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...at(e)})}function K6(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...at(e)})}function Y6(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...at(e)})}function J6(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...at(e)})}function W6(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...at(e)})}function Z6(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...at(e)})}function X6(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...at(e)})}function Q6(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...at(e)})}function eF(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...at(e)})}function tF(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...at(e)})}function nF(t,e){return new t({type:"string",format:"date",check:"string_format",...at(e)})}function rF(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...at(e)})}function sF(t,e){return new t({type:"string",format:"duration",check:"string_format",...at(e)})}function iF(t,e){return new t({type:"number",checks:[],...at(e)})}function aF(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...at(e)})}function oF(t){return new t({type:"unknown"})}function lF(t,e){return new t({type:"never",...at(e)})}function w2(t,e){return new ob({check:"less_than",...at(e),value:t,inclusive:!1})}function rv(t,e){return new ob({check:"less_than",...at(e),value:t,inclusive:!0})}function S2(t,e){return new lb({check:"greater_than",...at(e),value:t,inclusive:!1})}function sv(t,e){return new lb({check:"greater_than",...at(e),value:t,inclusive:!0})}function A2(t,e){return new CP({check:"multiple_of",...at(e),value:t})}function pb(t,e){return new NP({check:"max_length",...at(e),maximum:t})}function G0(t,e){return new IP({check:"min_length",...at(e),minimum:t})}function mb(t,e){return new RP({check:"length_equals",...at(e),length:t})}function cF(t,e){return new kP({check:"string_format",format:"regex",...at(e),pattern:t})}function uF(t){return new DP({check:"string_format",format:"lowercase",...at(t)})}function fF(t){return new MP({check:"string_format",format:"uppercase",...at(t)})}function dF(t,e){return new PP({check:"string_format",format:"includes",...at(e),includes:t})}function hF(t,e){return new FP({check:"string_format",format:"starts_with",...at(e),prefix:t})}function pF(t,e){return new OP({check:"string_format",format:"ends_with",...at(e),suffix:t})}function Qc(t){return new LP({check:"overwrite",tx:t})}function mF(t){return Qc(e=>e.normalize(t))}function gF(){return Qc(t=>t.trim())}function vF(){return Qc(t=>t.toLowerCase())}function xF(){return Qc(t=>t.toUpperCase())}function yF(){return Qc(t=>kM(t))}function _F(t,e,n){return new t({type:"array",element:e,...at(n)})}function EF(t,e,n){return new t({type:"custom",check:"custom",fn:e,...at(n)})}function TF(t){const e=wF(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push($f(r,n.value,e._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),n.issues.push($f(s))}},t(n.value,n)));return e}function wF(t,e){const n=new fs({check:"custom",...at(e)});return n._zod.check=t,n}function gb(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??pf,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Sr(t,e,n={path:[],schemaPath:[]}){var r;const s=t._zod.def,i=e.seen.get(t);if(i)return i.count++,n.schemaPath.includes(t)&&(i.cycle=n.path),i.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,o);const c=t._zod.toJSONSchema?.();if(c)o.schema=c;else{const h={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,o.schema,h);else{const v=o.schema,T=e.processors[s.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);T(t,e,v,h)}const g=t._zod.parent;g&&(o.ref||(o.ref=g),Sr(g,e,h),e.seen.get(g).isParent=!0)}const f=e.metadataRegistry.get(t);return f&&Object.assign(o.schema,f),e.io==="input"&&jr(t)&&(delete o.schema.examples,delete o.schema.default),e.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,e.seen.get(t).schema}function vb(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const o of t.seen.entries()){const c=t.metadataRegistry.get(o[0])?.id;if(c){const f=r.get(c);if(f&&f!==o[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(c,o[0])}}const s=o=>{const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const g=t.external.registry.get(o[0])?.id,v=t.external.uri??(S=>S);if(g)return{ref:v(g)};const T=o[1].defId??o[1].schema.id??`schema${t.counter++}`;return o[1].defId=T,{defId:T,ref:`${v("__shared")}#/${c}/${T}`}}if(o[1]===n)return{ref:"#"};const d=`#/${c}/`,h=o[1].schema.id??`__schema${t.counter++}`;return{defId:h,ref:d+h}},i=o=>{if(o[1].schema.$ref)return;const c=o[1],{ref:f,defId:d}=s(o);c.def={...c.schema},d&&(c.defId=d);const h=c.schema;for(const g in h)delete h[g];h.$ref=f};if(t.cycles==="throw")for(const o of t.seen.entries()){const c=o[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of t.seen.entries()){const c=o[1];if(e===o[0]){i(o);continue}if(t.external){const d=t.external.registry.get(o[0])?.id;if(e!==o[0]&&d){i(o);continue}}if(t.metadataRegistry.get(o[0])?.id){i(o);continue}if(c.cycle){i(o);continue}if(c.count>1&&t.reused==="ref"){i(o);continue}}}function xb(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const c=t.seen.get(o);if(c.ref===null)return;const f=c.def??c.schema,d={...f},h=c.ref;if(c.ref=null,h){r(h);const v=t.seen.get(h),T=v.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(T)):Object.assign(f,T),Object.assign(f,d),o._zod.parent===h)for(const A in f)A==="$ref"||A==="allOf"||A in d||delete f[A];if(T.$ref&&v.def)for(const A in f)A==="$ref"||A==="allOf"||A in v.def&&JSON.stringify(f[A])===JSON.stringify(v.def[A])&&delete f[A]}const g=o._zod.parent;if(g&&g!==h){r(g);const v=t.seen.get(g);if(v?.schema.$ref&&(f.$ref=v.schema.$ref,v.def))for(const T in f)T==="$ref"||T==="allOf"||T in v.def&&JSON.stringify(f[T])===JSON.stringify(v.def[T])&&delete f[T]}t.override({zodSchema:o,jsonSchema:f,path:c.path??[]})};for(const o of[...t.seen.entries()].reverse())r(o[0]);const s={};if(t.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const o=t.external.registry.get(e)?.id;if(!o)throw new Error("Schema is missing an `id` property");s.$id=t.external.uri(o)}Object.assign(s,n.def??n.schema);const i=t.external?.defs??{};for(const o of t.seen.entries()){const c=o[1];c.def&&c.defId&&(i[c.defId]=c.def)}t.external||Object.keys(i).length>0&&(t.target==="draft-2020-12"?s.$defs=i:s.definitions=i);try{const o=JSON.parse(JSON.stringify(s));return Object.defineProperty(o,"~standard",{value:{...e["~standard"],jsonSchema:{input:j0(e,"input",t.processors),output:j0(e,"output",t.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function jr(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return jr(r.element,n);if(r.type==="set")return jr(r.valueType,n);if(r.type==="lazy")return jr(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return jr(r.innerType,n);if(r.type==="intersection")return jr(r.left,n)||jr(r.right,n);if(r.type==="record"||r.type==="map")return jr(r.keyType,n)||jr(r.valueType,n);if(r.type==="pipe")return jr(r.in,n)||jr(r.out,n);if(r.type==="object"){for(const s in r.shape)if(jr(r.shape[s],n))return!0;return!1}if(r.type==="union"){for(const s of r.options)if(jr(s,n))return!0;return!1}if(r.type==="tuple"){for(const s of r.items)if(jr(s,n))return!0;return!!(r.rest&&jr(r.rest,n))}return!1}const SF=(t,e={})=>n=>{const r=gb({...n,processors:e});return Sr(t,r),vb(r,t),xb(r,t)},j0=(t,e,n={})=>r=>{const{libraryOptions:s,target:i}=r??{},o=gb({...s??{},target:i,io:e,processors:n});return Sr(t,o),vb(o,t),xb(o,t)},AF={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},CF=(t,e,n,r)=>{const s=n;s.type="string";const{minimum:i,maximum:o,format:c,patterns:f,contentEncoding:d}=t._zod.bag;if(typeof i=="number"&&(s.minLength=i),typeof o=="number"&&(s.maxLength=o),c&&(s.format=AF[c]??c,s.format===""&&delete s.format,c==="time"&&delete s.format),d&&(s.contentEncoding=d),f&&f.size>0){const h=[...f];h.length===1?s.pattern=h[0].source:h.length>1&&(s.allOf=[...h.map(g=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},bF=(t,e,n,r)=>{const s=n,{minimum:i,maximum:o,format:c,multipleOf:f,exclusiveMaximum:d,exclusiveMinimum:h}=t._zod.bag;typeof c=="string"&&c.includes("int")?s.type="integer":s.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(s.minimum=h,s.exclusiveMinimum=!0):s.exclusiveMinimum=h),typeof i=="number"&&(s.minimum=i,typeof h=="number"&&e.target!=="draft-04"&&(h>=i?delete s.minimum:delete s.exclusiveMinimum)),typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(s.maximum=d,s.exclusiveMaximum=!0):s.exclusiveMaximum=d),typeof o=="number"&&(s.maximum=o,typeof d=="number"&&e.target!=="draft-04"&&(d<=o?delete s.maximum:delete s.exclusiveMaximum)),typeof f=="number"&&(s.multipleOf=f)},NF=(t,e,n,r)=>{n.not={}},IF=(t,e,n,r)=>{},RF=(t,e,n,r)=>{const s=t._zod.def,i=WC(s.entries);i.every(o=>typeof o=="number")&&(n.type="number"),i.every(o=>typeof o=="string")&&(n.type="string"),n.enum=i},kF=(t,e,n,r)=>{const s=t._zod.def,i=[];for(const o of s.values)if(o===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");i.push(Number(o))}else i.push(o);if(i.length!==0)if(i.length===1){const o=i[0];n.type=o===null?"null":typeof o,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[o]:n.const=o}else i.every(o=>typeof o=="number")&&(n.type="number"),i.every(o=>typeof o=="string")&&(n.type="string"),i.every(o=>typeof o=="boolean")&&(n.type="boolean"),i.every(o=>o===null)&&(n.type="null"),n.enum=i},DF=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},MF=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},PF=(t,e,n,r)=>{const s=n,i=t._zod.def,{minimum:o,maximum:c}=t._zod.bag;typeof o=="number"&&(s.minItems=o),typeof c=="number"&&(s.maxItems=c),s.type="array",s.items=Sr(i.element,e,{...r,path:[...r.path,"items"]})},FF=(t,e,n,r)=>{const s=n,i=t._zod.def;s.type="object",s.properties={};const o=i.shape;for(const d in o)s.properties[d]=Sr(o[d],e,{...r,path:[...r.path,"properties",d]});const c=new Set(Object.keys(o)),f=new Set([...c].filter(d=>{const h=i.shape[d]._zod;return e.io==="input"?h.optin===void 0:h.optout===void 0}));f.size>0&&(s.required=Array.from(f)),i.catchall?._zod.def.type==="never"?s.additionalProperties=!1:i.catchall?i.catchall&&(s.additionalProperties=Sr(i.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(s.additionalProperties=!1)},OF=(t,e,n,r)=>{const s=t._zod.def,i=s.inclusive===!1,o=s.options.map((c,f)=>Sr(c,e,{...r,path:[...r.path,i?"oneOf":"anyOf",f]}));i?n.oneOf=o:n.anyOf=o},LF=(t,e,n,r)=>{const s=t._zod.def,i=Sr(s.left,e,{...r,path:[...r.path,"allOf",0]}),o=Sr(s.right,e,{...r,path:[...r.path,"allOf",1]}),c=d=>"allOf"in d&&Object.keys(d).length===1,f=[...c(i)?i.allOf:[i],...c(o)?o.allOf:[o]];n.allOf=f},UF=(t,e,n,r)=>{const s=t._zod.def,i=Sr(s.innerType,e,r),o=e.seen.get(t);e.target==="openapi-3.0"?(o.ref=s.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},VF=(t,e,n,r)=>{const s=t._zod.def;Sr(s.innerType,e,r);const i=e.seen.get(t);i.ref=s.innerType},BF=(t,e,n,r)=>{const s=t._zod.def;Sr(s.innerType,e,r);const i=e.seen.get(t);i.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},zF=(t,e,n,r)=>{const s=t._zod.def;Sr(s.innerType,e,r);const i=e.seen.get(t);i.ref=s.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},HF=(t,e,n,r)=>{const s=t._zod.def;Sr(s.innerType,e,r);const i=e.seen.get(t);i.ref=s.innerType;let o;try{o=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},GF=(t,e,n,r)=>{const s=t._zod.def,i=e.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Sr(i,e,r);const o=e.seen.get(t);o.ref=i},jF=(t,e,n,r)=>{const s=t._zod.def;Sr(s.innerType,e,r);const i=e.seen.get(t);i.ref=s.innerType,n.readOnly=!0},yb=(t,e,n,r)=>{const s=t._zod.def;Sr(s.innerType,e,r);const i=e.seen.get(t);i.ref=s.innerType},qF=Fe("ZodISODateTime",(t,e)=>{ZP.init(t,e),Cn.init(t,e)});function $F(t){return tF(qF,t)}const KF=Fe("ZodISODate",(t,e)=>{XP.init(t,e),Cn.init(t,e)});function YF(t){return nF(KF,t)}const JF=Fe("ZodISOTime",(t,e)=>{QP.init(t,e),Cn.init(t,e)});function WF(t){return rF(JF,t)}const ZF=Fe("ZodISODuration",(t,e)=>{e6.init(t,e),Cn.init(t,e)});function XF(t){return sF(ZF,t)}const QF=(t,e)=>{tb.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>jM(t,n)},flatten:{value:n=>GM(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Vv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Vv,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ks=Fe("ZodError",QF,{Parent:Error}),e5=n1(Ks),t5=r1(Ks),n5=Np(Ks),r5=Ip(Ks),s5=KM(Ks),i5=YM(Ks),a5=JM(Ks),o5=WM(Ks),l5=ZM(Ks),c5=XM(Ks),u5=QM(Ks),f5=eP(Ks),Vn=Fe("ZodType",(t,e)=>(Un.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:j0(t,"input"),output:j0(t,"output")}}),t.toJSONSchema=SF(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Io(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>Ro(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>e5(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>n5(t,n,r),t.parseAsync=async(n,r)=>t5(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>r5(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>s5(t,n,r),t.decode=(n,r)=>i5(t,n,r),t.encodeAsync=async(n,r)=>a5(t,n,r),t.decodeAsync=async(n,r)=>o5(t,n,r),t.safeEncode=(n,r)=>l5(t,n,r),t.safeDecode=(n,r)=>c5(t,n,r),t.safeEncodeAsync=async(n,r)=>u5(t,n,r),t.safeDecodeAsync=async(n,r)=>f5(t,n,r),t.refine=(n,r)=>t.check(sO(n,r)),t.superRefine=n=>t.check(iO(n)),t.overwrite=n=>t.check(Qc(n)),t.optional=()=>I2(t),t.exactOptional=()=>q5(t),t.nullable=()=>R2(t),t.nullish=()=>I2(R2(t)),t.nonoptional=n=>Z5(t,n),t.array=()=>Tb(t),t.or=n=>L5([t,n]),t.and=n=>V5(t,n),t.transform=n=>k2(t,G5(n)),t.default=n=>Y5(t,n),t.prefault=n=>W5(t,n),t.catch=n=>Q5(t,n),t.pipe=n=>k2(t,n),t.readonly=()=>nO(t),t.describe=n=>{const r=t.clone();return pf.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return pf.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return pf.get(t);const r=t.clone();return pf.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),_b=Fe("_ZodString",(t,e)=>{s1.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(r,s,i)=>CF(t,r,s);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(cF(...r)),t.includes=(...r)=>t.check(dF(...r)),t.startsWith=(...r)=>t.check(hF(...r)),t.endsWith=(...r)=>t.check(pF(...r)),t.min=(...r)=>t.check(G0(...r)),t.max=(...r)=>t.check(pb(...r)),t.length=(...r)=>t.check(mb(...r)),t.nonempty=(...r)=>t.check(G0(1,...r)),t.lowercase=r=>t.check(uF(r)),t.uppercase=r=>t.check(fF(r)),t.trim=()=>t.check(gF()),t.normalize=(...r)=>t.check(mF(...r)),t.toLowerCase=()=>t.check(vF()),t.toUpperCase=()=>t.check(xF()),t.slugify=()=>t.check(yF())}),d5=Fe("ZodString",(t,e)=>{s1.init(t,e),_b.init(t,e),t.email=n=>t.check(P6(h5,n)),t.url=n=>t.check(V6(p5,n)),t.jwt=n=>t.check(eF(I5,n)),t.emoji=n=>t.check(B6(m5,n)),t.guid=n=>t.check(T2(C2,n)),t.uuid=n=>t.check(F6(Jh,n)),t.uuidv4=n=>t.check(O6(Jh,n)),t.uuidv6=n=>t.check(L6(Jh,n)),t.uuidv7=n=>t.check(U6(Jh,n)),t.nanoid=n=>t.check(z6(g5,n)),t.guid=n=>t.check(T2(C2,n)),t.cuid=n=>t.check(H6(v5,n)),t.cuid2=n=>t.check(G6(x5,n)),t.ulid=n=>t.check(j6(y5,n)),t.base64=n=>t.check(Z6(C5,n)),t.base64url=n=>t.check(X6(b5,n)),t.xid=n=>t.check(q6(_5,n)),t.ksuid=n=>t.check($6(E5,n)),t.ipv4=n=>t.check(K6(T5,n)),t.ipv6=n=>t.check(Y6(w5,n)),t.cidrv4=n=>t.check(J6(S5,n)),t.cidrv6=n=>t.check(W6(A5,n)),t.e164=n=>t.check(Q6(N5,n)),t.datetime=n=>t.check($F(n)),t.date=n=>t.check(YF(n)),t.time=n=>t.check(WF(n)),t.duration=n=>t.check(XF(n))});function ki(t){return M6(d5,t)}const Cn=Fe("ZodStringFormat",(t,e)=>{Tn.init(t,e),_b.init(t,e)}),h5=Fe("ZodEmail",(t,e)=>{HP.init(t,e),Cn.init(t,e)}),C2=Fe("ZodGUID",(t,e)=>{BP.init(t,e),Cn.init(t,e)}),Jh=Fe("ZodUUID",(t,e)=>{zP.init(t,e),Cn.init(t,e)}),p5=Fe("ZodURL",(t,e)=>{GP.init(t,e),Cn.init(t,e)}),m5=Fe("ZodEmoji",(t,e)=>{jP.init(t,e),Cn.init(t,e)}),g5=Fe("ZodNanoID",(t,e)=>{qP.init(t,e),Cn.init(t,e)}),v5=Fe("ZodCUID",(t,e)=>{$P.init(t,e),Cn.init(t,e)}),x5=Fe("ZodCUID2",(t,e)=>{KP.init(t,e),Cn.init(t,e)}),y5=Fe("ZodULID",(t,e)=>{YP.init(t,e),Cn.init(t,e)}),_5=Fe("ZodXID",(t,e)=>{JP.init(t,e),Cn.init(t,e)}),E5=Fe("ZodKSUID",(t,e)=>{WP.init(t,e),Cn.init(t,e)}),T5=Fe("ZodIPv4",(t,e)=>{t6.init(t,e),Cn.init(t,e)}),w5=Fe("ZodIPv6",(t,e)=>{n6.init(t,e),Cn.init(t,e)}),S5=Fe("ZodCIDRv4",(t,e)=>{r6.init(t,e),Cn.init(t,e)}),A5=Fe("ZodCIDRv6",(t,e)=>{s6.init(t,e),Cn.init(t,e)}),C5=Fe("ZodBase64",(t,e)=>{i6.init(t,e),Cn.init(t,e)}),b5=Fe("ZodBase64URL",(t,e)=>{o6.init(t,e),Cn.init(t,e)}),N5=Fe("ZodE164",(t,e)=>{l6.init(t,e),Cn.init(t,e)}),I5=Fe("ZodJWT",(t,e)=>{u6.init(t,e),Cn.init(t,e)}),Eb=Fe("ZodNumber",(t,e)=>{ub.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(r,s,i)=>bF(t,r,s),t.gt=(r,s)=>t.check(S2(r,s)),t.gte=(r,s)=>t.check(sv(r,s)),t.min=(r,s)=>t.check(sv(r,s)),t.lt=(r,s)=>t.check(w2(r,s)),t.lte=(r,s)=>t.check(rv(r,s)),t.max=(r,s)=>t.check(rv(r,s)),t.int=r=>t.check(b2(r)),t.safe=r=>t.check(b2(r)),t.positive=r=>t.check(S2(0,r)),t.nonnegative=r=>t.check(sv(0,r)),t.negative=r=>t.check(w2(0,r)),t.nonpositive=r=>t.check(rv(0,r)),t.multipleOf=(r,s)=>t.check(A2(r,s)),t.step=(r,s)=>t.check(A2(r,s)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function zv(t){return iF(Eb,t)}const R5=Fe("ZodNumberFormat",(t,e)=>{f6.init(t,e),Eb.init(t,e)});function b2(t){return aF(R5,t)}const k5=Fe("ZodUnknown",(t,e)=>{d6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>IF()});function N2(){return oF(k5)}const D5=Fe("ZodNever",(t,e)=>{h6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>NF(t,n,r)});function M5(t){return lF(D5,t)}const P5=Fe("ZodArray",(t,e)=>{p6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>PF(t,n,r,s),t.element=e.element,t.min=(n,r)=>t.check(G0(n,r)),t.nonempty=n=>t.check(G0(1,n)),t.max=(n,r)=>t.check(pb(n,r)),t.length=(n,r)=>t.check(mb(n,r)),t.unwrap=()=>t.element});function Tb(t,e){return _F(P5,t,e)}const F5=Fe("ZodObject",(t,e)=>{g6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>FF(t,n,r,s),nn(t,"shape",()=>e.shape),t.keyof=()=>Sb(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:N2()}),t.loose=()=>t.clone({...t._zod.def,catchall:N2()}),t.strict=()=>t.clone({...t._zod.def,catchall:M5()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>UM(t,n),t.safeExtend=n=>VM(t,n),t.merge=n=>BM(t,n),t.pick=n=>OM(t,n),t.omit=n=>LM(t,n),t.partial=(...n)=>zM(Ab,t,n[0]),t.required=(...n)=>HM(Cb,t,n[0])});function wb(t,e){const n={type:"object",shape:t??{},...at(e)};return new F5(n)}const O5=Fe("ZodUnion",(t,e)=>{v6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>OF(t,n,r,s),t.options=e.options});function L5(t,e){return new O5({type:"union",options:t,...at(e)})}const U5=Fe("ZodIntersection",(t,e)=>{x6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>LF(t,n,r,s)});function V5(t,e){return new U5({type:"intersection",left:t,right:e})}const Hv=Fe("ZodEnum",(t,e)=>{y6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(r,s,i)=>RF(t,r,s),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Hv({...e,checks:[],...at(s),entries:i})},t.exclude=(r,s)=>{const i={...e.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new Hv({...e,checks:[],...at(s),entries:i})}});function Sb(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Hv({type:"enum",entries:n,...at(e)})}const B5=Fe("ZodLiteral",(t,e)=>{_6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>kF(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function z5(t,e){return new B5({type:"literal",values:Array.isArray(t)?t:[t],...at(e)})}const H5=Fe("ZodTransform",(t,e)=>{E6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>MF(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new YC(t.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push($f(i,n.value,e));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push($f(o))}};const s=e.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function G5(t){return new H5({type:"transform",transform:t})}const Ab=Fe("ZodOptional",(t,e)=>{hb.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>yb(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function I2(t){return new Ab({type:"optional",innerType:t})}const j5=Fe("ZodExactOptional",(t,e)=>{T6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>yb(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function q5(t){return new j5({type:"optional",innerType:t})}const $5=Fe("ZodNullable",(t,e)=>{w6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>UF(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function R2(t){return new $5({type:"nullable",innerType:t})}const K5=Fe("ZodDefault",(t,e)=>{S6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>BF(t,n,r,s),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Y5(t,e){return new K5({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():XC(e)}})}const J5=Fe("ZodPrefault",(t,e)=>{A6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>zF(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function W5(t,e){return new J5({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():XC(e)}})}const Cb=Fe("ZodNonOptional",(t,e)=>{C6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>VF(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function Z5(t,e){return new Cb({type:"nonoptional",innerType:t,...at(e)})}const X5=Fe("ZodCatch",(t,e)=>{b6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>HF(t,n,r,s),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Q5(t,e){return new X5({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const eO=Fe("ZodPipe",(t,e)=>{N6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>GF(t,n,r,s),t.in=e.in,t.out=e.out});function k2(t,e){return new eO({type:"pipe",in:t,out:e})}const tO=Fe("ZodReadonly",(t,e)=>{I6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>jF(t,n,r,s),t.unwrap=()=>t._zod.def.innerType});function nO(t){return new tO({type:"readonly",innerType:t})}const rO=Fe("ZodCustom",(t,e)=>{R6.init(t,e),Vn.init(t,e),t._zod.processJSONSchema=(n,r,s)=>DF(t,n)});function sO(t,e={}){return EF(rO,t,e)}function iO(t){return TF(t)}wb({companyName:ki().min(1,"Nome da empresa  obrigatrio"),address:ki().min(5,"Endereo invlido"),contactName:ki().optional(),phone:ki().optional(),email:ki().email("Email invlido").optional().or(z5("")),category:ki().or(Tb(ki())).optional(),status:Sb(["Ativo","Inativo","Prospeccao"]).optional().default("Ativo"),lat:zv().optional(),lng:zv().optional()});const aO=wb({name:ki().min(1),price:zv().positive(),category:ki().min(1),sku:ki().optional()}),D2=t=>{if(!t)return null;const e=t.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(e)return{lat:parseFloat(e[1]),lng:parseFloat(e[2])};const n=t.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return n?{lat:parseFloat(n[1]),lng:parseFloat(n[2])}:null},oO=t=>{if(!t)return null;try{const e=new URL(t),n=e.searchParams.get("query")||e.searchParams.get("q");if(n&&!n.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return n}catch{const n=t.match(/[?&]query=([^&]+)/)||t.match(/[?&]q=([^&]+)/);if(n)return decodeURIComponent(n[1].replace(/\+/g," "))}return null},q0=t=>{if(t==null)return{address:""};const e=String(t).trim(),n=e.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(n){const s=n[1].replace(/""/g,'"').trim(),i=n[2].replace(/""/g,'"').trim(),o=D2(s);return{link:s,address:i,...o}}const r=bb(e);if(r.includes("google.com/maps")||r.includes("maps.app.goo.gl")){const s=oO(r),i=D2(r);return{link:r,address:s||r,...i}}return{address:r}},bb=t=>{if(t==null)return"";const e=String(t),n=e.match(/"([^"]+)"\)$/);return n&&n[1]?n[1].trim():e.startsWith("=")?e.replace(/[="()]/g,"").trim():e.trim()},lO=t=>{const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},M2=t=>{if(!t)return 0;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},Nb=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Ib=t=>new Promise((e,n)=>{KC.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:r=>{const s=r.data,i=[];s.forEach((o,c)=>{const f={};Object.keys(o).forEach(D=>{f[Nb(D)]=o[D]});const d=f["numero do sku"]||f.sku||"",h=f.marca||f.fabricante||"Genrico",g=f["cod.fabrica"]||f["cod fabrica"]||f["codigo fabrica"]||"",v=f.descricao||f.nome||f.produto||"",T=lO(f["preco de venda"]||f.preco||"0"),S=f.categoria||h,A=M2(f.margem||"0"),C=M2(f.desconto||f.discount||"0"),k={category:S,sku:d,brand:h,factoryCode:g,name:v,price:T,margin:A,discount:C},V=aO.safeParse(k);V.success?i.push(V.data):console.warn(`Row ${c+1} invalid:`,V.error.issues)}),e(i)},error:r=>n(r)})}),cO=t=>new Promise((e,n)=>{KC.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:r=>r.trim().replace(/^\ufeff/,""),complete:r=>{const s=r.data,i=[];if(s.forEach(o=>{const c={};Object.keys(o).forEach(C=>{c[Nb(C)]=o[C]});const f=c.endereco||c.logradouro||c.localizacao||c["endereco cobranca"]||c["link google maps"]||"";let{address:d,link:h,lat:g,lng:v}=q0(f);const T=c.cep||c.zip||c["codigo postal"]||"";T&&d&&!d.toLowerCase().includes(T.toLowerCase())&&(d=`${d}, ${T}`);const S=c.link||c.mapa||c["google maps"]||c.url||c.maps||c.coordenadas||c.geolocalizacao;if(S){const C=q0(S);C.link&&(h=C.link),C.lat&&(g=C.lat),C.lng&&(v=C.lng)}const A={companyName:c["razao social"]||c.cliente||c["nome fantasia"]||c.fantasia||c.empresa||c["nome comercial"]||"",ownerName:c["nome do proprietario"]||c.proprietario||c.dono||c["contato principal"]||"",phone:c.contato||c.telefone||c.celular||c.whatsapp||"",address:d,googleMapsLink:h,latitude:g,longitude:v};(A.companyName||A.address)&&i.push(A)}),i.length>0){const o=i[0];!o.companyName&&!o.address&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}e(i)},error:r=>{n(r)}})});var Rb=1252,uO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],i1={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},a1=function(t){uO.indexOf(t)!=-1&&(Rb=i1[0]=t)};function fO(){a1(1252)}var ui=function(t){a1(t)};function kb(){ui(1200),fO()}function P2(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function dO(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function Db(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var mf=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?dO(t.slice(2)):e==254&&n==255?Db(t.slice(2)):e==65279?t.slice(1):t},Wh=function(e){return String.fromCharCode(e)},F2=function(e){return String.fromCharCode(e)},Kf,co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function O2(t){for(var e="",n=0,r=0,s=0,i=0,o=0,c=0,f=0,d=0;d<t.length;)n=t.charCodeAt(d++),i=n>>2,r=t.charCodeAt(d++),o=(n&3)<<4|r>>4,s=t.charCodeAt(d++),c=(r&15)<<2|s>>6,f=s&63,isNaN(r)?c=f=64:isNaN(s)&&(f=64),e+=co.charAt(i)+co.charAt(o)+co.charAt(c)+co.charAt(f);return e}function As(t){var e="",n=0,r=0,s=0,i=0,o=0,c=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)i=co.indexOf(t.charAt(d++)),o=co.indexOf(t.charAt(d++)),n=i<<2|o>>4,e+=String.fromCharCode(n),c=co.indexOf(t.charAt(d++)),r=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),f=co.indexOf(t.charAt(d++)),s=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(s));return e}var Lt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Il=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function _o(t){return Lt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function L2(t){return Lt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var ci=function(e){return Lt?Il(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Rl(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function o1(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return o1(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var oo=Lt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Il(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),s=0;for(e=0,n=0;e<t.length;n+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function hO(t){for(var e=[],n=0,r=t.length+250,s=_o(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[n++]=o;else if(o<2048)s[n++]=192|o>>6&31,s[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++i)&1023;s[n++]=240|o>>8&7,s[n++]=128|o>>2&63,s[n++]=128|c>>6&15|(o&3)<<4,s[n++]=128|c&63}else s[n++]=224|o>>12&15,s[n++]=128|o>>6&63,s[n++]=128|o&63;n>r&&(e.push(s.slice(0,n)),n=0,s=_o(65535),r=65530)}return e.push(s.slice(0,n)),oo(e)}var Jr=/\u0000/g,gf=/[\u0001-\u0006]/g;function Oc(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function fi(t,e){var n=""+t;return n.length>=e?n:In("0",e-n.length)+n}function l1(t,e){var n=""+t;return n.length>=e?n:In(" ",e-n.length)+n}function $0(t,e){var n=""+t;return n.length>=e?n:n+In(" ",e-n.length)}function pO(t,e){var n=""+Math.round(t);return n.length>=e?n:In("0",e-n.length)+n}function mO(t,e){var n=""+t;return n.length>=e?n:In("0",e-n.length)+n}var U2=Math.pow(2,32);function wc(t,e){if(t>U2||t<-U2)return pO(t,e);var n=Math.round(t);return mO(n,e)}function K0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var V2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],iv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function gO(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Tt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},B2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},vO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Y0(t,e,n){for(var r=t<0?-1:1,s=t*r,i=0,o=1,c=0,f=1,d=0,h=0,g=Math.floor(s);d<e&&(g=Math.floor(s),c=g*o+i,h=g*d+f,!(s-g<5e-8));)s=1/(s-g),i=o,o=c,f=d,d=h;if(h>e&&(d>e?(h=f,c=i):(h=d,c=o)),!n)return[0,r*c,h];var v=Math.floor(r*c/h);return[v,r*c-v*h,h]}function fl(t,e,n){if(t>2958465||t<0)return null;var r=t|0,s=Math.floor(86400*(t-r)),i=0,o=[],c={D:r,T:s,u:86400*(t-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++r,++c.D)),r===60)o=n?[1317,10,29]:[1900,2,29],i=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],i=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],i=f.getDay(),r<60&&(i=(i+6)%7),n&&(i=wO(f,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var Mb=new Date(1899,11,31,0,0,0),xO=Mb.getTime(),yO=new Date(1900,2,1,0,0,0);function Pb(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=yO&&(n+=1440*60*1e3),(n-(xO+(t.getTimezoneOffset()-Mb.getTimezoneOffset())*6e4))/(1440*60*1e3)}function c1(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function _O(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function EO(t){var e=t<0?12:11,n=c1(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function TO(t){var e=c1(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Yf(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=EO(t):e===10?n=t.toFixed(10).substr(0,12):n=TO(t),c1(_O(n.toUpperCase()))}function El(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Yf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return qs(14,Pb(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function wO(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function SO(t,e,n,r){var s="",i=0,o=0,c=n.y,f,d=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,d=2;break;default:f=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,d=e.length;break;case 3:return iv[n.m-1][1];case 5:return iv[n.m-1][0];default:return iv[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,d=e.length;break;case 3:return V2[n.q][0];default:return V2[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?fi(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,i=Math.round(o*(n.S+n.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=fi(i,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:f=c,d=1;break}var h=d>0?fi(f,d):"";return h}function uo(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var Fb=/%/g;function AO(t,e,n){var r=e.replace(Fb,""),s=e.length-r.length;return ua(t,r,n*Math.pow(10,2*s))+In("%",s)}function CO(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ua(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Ob(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Ob(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Lb=/# (\?+)( ?)\/( ?)(\d+)/;function bO(t,e,n){var r=parseInt(t[4],10),s=Math.round(e*r),i=Math.floor(s/r),o=s-i*r,c=r;return n+(i===0?"":""+i)+" "+(o===0?In(" ",t[1].length+1+t[4].length):l1(o,t[1].length)+t[2]+"/"+t[3]+fi(c,t[4].length))}function NO(t,e,n){return n+(e===0?"":""+e)+In(" ",t[1].length+2+t[4].length)}var Ub=/^#*0*\.([0#]+)/,Vb=/\).*[0#]/,Bb=/\(###\) ###\\?-####/;function $r(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function z2(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function H2(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function IO(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function RO(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Bs(t,e,n){if(t.charCodeAt(0)===40&&!e.match(Vb)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Bs("n",r,n):"("+Bs("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return CO(t,e,n);if(e.indexOf("%")!==-1)return AO(t,e,n);if(e.indexOf("E")!==-1)return Ob(e,n);if(e.charCodeAt(0)===36)return"$"+Bs(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,o,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+wc(f,e.length);if(e.match(/^[#?]+$/))return s=wc(n,0),s==="0"&&(s=""),s.length>e.length?s:$r(e.substr(0,e.length-s.length))+s;if(i=e.match(Lb))return bO(i,f,d);if(e.match(/^#+0+$/))return d+wc(f,e.length-e.indexOf("0"));if(i=e.match(Ub))return s=z2(n,i[1].length).replace(/^([^\.]+)$/,"$1."+$r(i[1])).replace(/\.$/,"."+$r(i[1])).replace(/\.(\d*)$/,function(S,A){return"."+A+In("0",$r(i[1]).length-A.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+z2(f,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+uo(wc(f,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Bs(t,e,-n):uo(""+(Math.floor(n)+IO(n,i[1].length)))+"."+fi(H2(n,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Bs(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Oc(Bs(t,e.replace(/[\\-]/g,""),n)),o=0,Oc(Oc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<s.length?s.charAt(o++):S==="0"?"0":""}));if(e.match(Bb))return s=Bs(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=Y0(f,Math.pow(10,o)-1,!1),s=""+d,h=ua("n",i[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=$0(c[2],o),h.length<i[4].length&&(h=$r(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=Y0(f,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?l1(c[1],o)+i[2]+"/"+i[3]+$0(c[2],o):In(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=wc(n,0),e.length<=s.length?s:$r(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,v=e.length-s.length-g;return $r(e.substr(0,g)+s+e.substr(e.length-v))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=H2(n,i[1].length),n<0?"-"+Bs(t,e,-n):uo(RO(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?fi(0,3-S.length):"")+S})+"."+fi(o,i[1].length);switch(e){case"###,##0.00":return Bs(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var T=uo(wc(f,0));return T!=="0"?d+T:"";case"###,###.00":return Bs(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Bs(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function kO(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ua(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function DO(t,e,n){var r=e.replace(Fb,""),s=e.length-r.length;return ua(t,r,n*Math.pow(10,2*s))+In("%",s)}function zb(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+zb(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),n=(e/Math.pow(10,i)).toPrecision(r+1+(s+i)%s),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+i):n+="E+"+(o-i),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ri(t,e,n){if(t.charCodeAt(0)===40&&!e.match(Vb)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ri("n",r,n):"("+Ri("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return kO(t,e,n);if(e.indexOf("%")!==-1)return DO(t,e,n);if(e.indexOf("E")!==-1)return zb(e,n);if(e.charCodeAt(0)===36)return"$"+Ri(t,e.substr(e.charAt(1)==" "?2:1),n);var s,i,o,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+fi(f,e.length);if(e.match(/^[#?]+$/))return s=""+n,n===0&&(s=""),s.length>e.length?s:$r(e.substr(0,e.length-s.length))+s;if(i=e.match(Lb))return NO(i,f,d);if(e.match(/^#+0+$/))return d+fi(f,e.length-e.indexOf("0"));if(i=e.match(Ub))return s=(""+n).replace(/^([^\.]+)$/,"$1."+$r(i[1])).replace(/\.$/,"."+$r(i[1])),s=s.replace(/\.(\d*)$/,function(S,A){return"."+A+In("0",$r(i[1]).length-A.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return d+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return d+uo(""+f);if(i=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ri(t,e,-n):uo(""+n)+"."+In("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Ri(t,e.replace(/^#,#*,/,""),n);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Oc(Ri(t,e.replace(/[\\-]/g,""),n)),o=0,Oc(Oc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<s.length?s.charAt(o++):S==="0"?"0":""}));if(e.match(Bb))return s=Ri(t,"##########",n),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),c=Y0(f,Math.pow(10,o)-1,!1),s=""+d,h=ua("n",i[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=$0(c[2],o),h.length<i[4].length&&(h=$r(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),c=Y0(f,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?l1(c[1],o)+i[2]+"/"+i[3]+$0(c[2],o):In(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+n,e.length<=s.length?s:$r(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,v=e.length-s.length-g;return $r(e.substr(0,g)+s+e.substr(e.length-v))}if(i=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ri(t,e,-n):uo(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?fi(0,3-S.length):"")+S})+"."+fi(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=uo(""+f);return T!=="0"?d+T:"";default:if(e.match(/\.[0#?]*$/))return Ri(t,e.slice(0,e.lastIndexOf(".")),n)+$r(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ua(t,e,n){return(n|0)===n?Ri(t,e,n):Bs(t,e,n)}function MO(t){for(var e=[],n=!1,r=0,s=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(s,r-s),s=r+1}if(e[e.length]=t.substr(s),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Hb=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function eu(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":K0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(Hb))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function PO(t,e,n,r){for(var s=[],i="",o=0,c="",f="t",d,h,g,v="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!K0(t,o))throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(g=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(g);s[s.length]={t:"t",v:i},++o;break;case"\\":var T=t.charAt(++o),S=T==="("||T===")"?T:"t";s[s.length]={t:S,v:T},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=fl(e,n,t.charAt(o+1)==="2"),d==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},f=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=fl(e,n),d==null))return"";for(i=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)i+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=v),s[s.length]={t:c,v:i},f=c;break;case"A":case"a":case"":var A={t:c,v:c};if(d==null&&(d=fl(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(A.v=d.H>=12?"P":"A"),A.t="T",v="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(A.v=d.H>=12?"PM":"AM"),A.t="T",o+=5,v="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(A.v=d.H>=12?"":""),A.t="T",o+=5,v="h"):(A.t="t",++o),d==null&&A.t==="T")return"";s[s.length]=A,f=c;break;case"[":for(i=c;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Hb)){if(d==null&&(d=fl(e,n),d==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},f=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",eu(t)||(s[s.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=c;++o<t.length&&(c=t.charAt(o))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;t.charAt(++o)===c;)i+=c;s[s.length]={t:c,v:i},f=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);s[s.length]={t:"t",v:c},++o;break}var C=0,k=0,V;for(o=s.length-1,f="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=v,f="h",C<1&&(C=1);break;case"s":(V=s[o].v.match(/\.0+$/))&&(k=Math.max(k,V[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":f=s[o].t;break;case"m":f==="s"&&(s[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&s[o].v.match(/[Hh]/)&&(C=1),C<2&&s[o].v.match(/[Mm]/)&&(C=2),C<3&&s[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var D="",H;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=SO(s[o].t.charCodeAt(0),s[o].v,d,k),s[o].t="t";break;case"n":case"?":for(H=o+1;s[H]!=null&&((c=s[H].t)==="?"||c==="D"||(c===" "||c==="t")&&s[H+1]!=null&&(s[H+1].t==="?"||s[H+1].t==="t"&&s[H+1].v==="/")||s[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[H].v==="/"||s[H].v===" "&&s[H+1]!=null&&s[H+1].t=="?"));)s[o].v+=s[H].v,s[H]={v:"",t:";"},++H;D+=s[o].v,o=H-1;break;case"G":s[o].t="t",s[o].v=El(e,n);break}var G="",J,I;if(D.length>0){D.charCodeAt(0)==40?(J=e<0&&D.charCodeAt(0)===45?-e:e,I=ua("n",D,J)):(J=e<0&&r>1?-e:e,I=ua("n",D,J),J<0&&s[0]&&s[0].t=="t"&&(I=I.substr(1),s[0].v="-"+s[0].v)),H=I.length-1;var N=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){N=o;break}var b=s.length;if(N===s.length&&I.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(H>=s[o].v.length-1?(H-=s[o].v.length,s[o].v=I.substr(H+1,s[o].v.length)):H<0?s[o].v="":(s[o].v=I.substr(0,H+1),H=-1),s[o].t="t",b=o);H>=0&&b<s.length&&(s[b].v=I.substr(0,H+1)+s[b].v)}else if(N!==s.length&&I.indexOf("E")===-1){for(H=I.indexOf(".")-1,o=N;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(h=s[o].v.indexOf(".")>-1&&o===N?s[o].v.indexOf(".")-1:s[o].v.length-1,G=s[o].v.substr(h+1);h>=0;--h)H>=0&&(s[o].v.charAt(h)==="0"||s[o].v.charAt(h)==="#")&&(G=I.charAt(H--)+G);s[o].v=G,s[o].t="t",b=o}for(H>=0&&b<s.length&&(s[b].v=I.substr(0,H+1)+s[b].v),H=I.indexOf(".")+1,o=N;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==N)){for(h=s[o].v.indexOf(".")>-1&&o===N?s[o].v.indexOf(".")+1:0,G=s[o].v.substr(0,h);h<s[o].v.length;++h)H<I.length&&(G+=I.charAt(H++));s[o].v=G,s[o].t="t",b=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(J=r>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=ua(s[o].t,s[o].v,J),s[o].t="t");var F="";for(o=0;o!==s.length;++o)s[o]!=null&&(F+=s[o].v);return F}var G2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function j2(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function FO(t,e){var n=MO(t),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var i=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,i];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(G2),c=n[1].match(G2);return j2(e,o)?[r,n[0]]:j2(e,c)?[r,n[1]]:[r,n[o!=null&&c!=null?2:1]]}return[r,i]}function qs(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Tt)[t],r==null&&(r=n.table&&n.table[B2[t]]||Tt[B2[t]]),r==null&&(r=vO[t]||"General");break}if(K0(r,0))return El(e,n);e instanceof Date&&(e=Pb(e,n.date1904));var s=FO(r,e);if(K0(s[1]))return El(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return PO(s[1],e,n,s[0])}function ml(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Tt[n]==null){e<0&&(e=n);continue}if(Tt[n]==t){e=n;break}}e<0&&(e=391)}return Tt[e]=t,e}function Gb(){Tt=gO()}var OO={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},jb=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function LO(t){var e=typeof t=="number"?Tt[t]:t;return e=e.replace(jb,"(\\d+)"),new RegExp("^"+e+"$")}function UO(t,e,n){var r=-1,s=-1,i=-1,o=-1,c=-1,f=-1;(e.match(jb)||[]).forEach(function(g,v){var T=parseInt(n[v+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=T;break;case"d":i=T;break;case"h":o=T;break;case"s":f=T;break;case"m":o>=0?c=T:s=T;break}}),f>=0&&c==-1&&s>=0&&(c=s,s=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&c==-1&&f==-1?d:r==-1&&s==-1&&i==-1?h:d+"T"+h}var VO=(function(){var t={};t.version="1.2.0";function e(){for(var I=0,N=new Array(256),b=0;b!=256;++b)I=b,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,N[b]=I;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(I){var N=0,b=0,F=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)O[F]=I[F];for(F=0;F!=256;++F)for(b=I[F],N=256+F;N<4096;N+=256)b=O[N]=b>>>8^I[b&255];var M=[];for(F=1;F!=16;++F)M[F-1]=typeof Int32Array<"u"?O.subarray(F*256,F*256+256):O.slice(F*256,F*256+256);return M}var s=r(n),i=s[0],o=s[1],c=s[2],f=s[3],d=s[4],h=s[5],g=s[6],v=s[7],T=s[8],S=s[9],A=s[10],C=s[11],k=s[12],V=s[13],D=s[14];function H(I,N){for(var b=N^-1,F=0,O=I.length;F<O;)b=b>>>8^n[(b^I.charCodeAt(F++))&255];return~b}function G(I,N){for(var b=N^-1,F=I.length-15,O=0;O<F;)b=D[I[O++]^b&255]^V[I[O++]^b>>8&255]^k[I[O++]^b>>16&255]^C[I[O++]^b>>>24]^A[I[O++]]^S[I[O++]]^T[I[O++]]^v[I[O++]]^g[I[O++]]^h[I[O++]]^d[I[O++]]^f[I[O++]]^c[I[O++]]^o[I[O++]]^i[I[O++]]^n[I[O++]];for(F+=15;O<F;)b=b>>>8^n[(b^I[O++])&255];return~b}function J(I,N){for(var b=N^-1,F=0,O=I.length,M=0,B=0;F<O;)M=I.charCodeAt(F++),M<128?b=b>>>8^n[(b^M)&255]:M<2048?(b=b>>>8^n[(b^(192|M>>6&31))&255],b=b>>>8^n[(b^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,B=I.charCodeAt(F++)&1023,b=b>>>8^n[(b^(240|M>>8&7))&255],b=b>>>8^n[(b^(128|M>>2&63))&255],b=b>>>8^n[(b^(128|B>>6&15|(M&3)<<4))&255],b=b>>>8^n[(b^(128|B&63))&255]):(b=b>>>8^n[(b^(224|M>>12&15))&255],b=b>>>8^n[(b^(128|M>>6&63))&255],b=b>>>8^n[(b^(128|M&63))&255]);return~b}return t.table=n,t.bstr=H,t.buf=G,t.str=J,t})(),Bt=(function(){var e={};e.version="1.2.1";function n(U,Y){for(var j=U.split("/"),K=Y.split("/"),W=0,re=0,xe=Math.min(j.length,K.length);W<xe;++W){if(re=j[W].length-K[W].length)return re;if(j[W]!=K[W])return j[W]<K[W]?-1:1}return j.length-K.length}function r(U){if(U.charAt(U.length-1)=="/")return U.slice(0,-1).indexOf("/")===-1?U:r(U.slice(0,-1));var Y=U.lastIndexOf("/");return Y===-1?U:U.slice(0,Y+1)}function s(U){if(U.charAt(U.length-1)=="/")return s(U.slice(0,-1));var Y=U.lastIndexOf("/");return Y===-1?U:U.slice(Y+1)}function i(U,Y){typeof Y=="string"&&(Y=new Date(Y));var j=Y.getHours();j=j<<6|Y.getMinutes(),j=j<<5|Y.getSeconds()>>>1,U.write_shift(2,j);var K=Y.getFullYear()-1980;K=K<<4|Y.getMonth()+1,K=K<<5|Y.getDate(),U.write_shift(2,K)}function o(U){var Y=U.read_shift(2)&65535,j=U.read_shift(2)&65535,K=new Date,W=j&31;j>>>=5;var re=j&15;j>>>=4,K.setMilliseconds(0),K.setFullYear(j+1980),K.setMonth(re-1),K.setDate(W);var xe=Y&31;Y>>>=5;var Ie=Y&63;return Y>>>=6,K.setHours(Y),K.setMinutes(Ie),K.setSeconds(xe<<1),K}function c(U){_r(U,0);for(var Y={},j=0;U.l<=U.length-4;){var K=U.read_shift(2),W=U.read_shift(2),re=U.l+W,xe={};K===21589&&(j=U.read_shift(1),j&1&&(xe.mtime=U.read_shift(4)),W>5&&(j&2&&(xe.atime=U.read_shift(4)),j&4&&(xe.ctime=U.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3))),U.l=re,Y[K]=xe}return Y}var f;function d(){return f||(f={})}function h(U,Y){if(U[0]==80&&U[1]==75)return Br(U,Y);if((U[0]|32)==109&&(U[1]|32)==105)return Ws(U,Y);if(U.length<512)throw new Error("CFB file size "+U.length+" < 512");var j=3,K=512,W=0,re=0,xe=0,Ie=0,ye=0,ge=[],Ee=U.slice(0,512);_r(Ee,0);var Le=g(Ee);switch(j=Le[0],j){case 3:K=512;break;case 4:K=4096;break;case 0:if(Le[1]==0)return Br(U,Y);default:throw new Error("Major Version: Expected 3 or 4 saw "+j)}K!==512&&(Ee=U.slice(0,K),_r(Ee,28));var He=U.slice(0,K);v(Ee,j);var Ye=Ee.read_shift(4,"i");if(j===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);Ee.l+=4,xe=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Ie=Ee.read_shift(4,"i"),W=Ee.read_shift(4,"i"),ye=Ee.read_shift(4,"i"),re=Ee.read_shift(4,"i");for(var Ve=-1,Ke=0;Ke<109&&(Ve=Ee.read_shift(4,"i"),!(Ve<0));++Ke)ge[Ke]=Ve;var Qe=T(U,K);C(ye,re,Qe,K,ge);var Zt=V(Qe,xe,ge,K);Zt[xe].name="!Directory",W>0&&Ie!==B&&(Zt[Ie].name="!MiniFAT"),Zt[ge[0]].name="!FAT",Zt.fat_addrs=ge,Zt.ssz=K;var Xt={},fn=[],Cr=[],Zs=[];D(xe,Zt,Qe,fn,W,Xt,Cr,Ie),S(Cr,Zs,fn),fn.shift();var Xs={FileIndex:Cr,FullPaths:Zs};return Y&&Y.raw&&(Xs.raw={header:He,sectors:Qe}),Xs}function g(U){if(U[U.l]==80&&U[U.l+1]==75)return[0,0];U.chk(fe,"Header Signature: "),U.l+=16;var Y=U.read_shift(2,"u");return[U.read_shift(2,"u"),Y]}function v(U,Y){var j=9;switch(U.l+=2,j=U.read_shift(2)){case 9:if(Y!=3)throw new Error("Sector Shift: Expected 9 saw "+j);break;case 12:if(Y!=4)throw new Error("Sector Shift: Expected 12 saw "+j);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+j)}U.chk("0600","Mini Sector Shift: "),U.chk("000000000000","Reserved: ")}function T(U,Y){for(var j=Math.ceil(U.length/Y)-1,K=[],W=1;W<j;++W)K[W-1]=U.slice(W*Y,(W+1)*Y);return K[j-1]=U.slice(j*Y),K}function S(U,Y,j){for(var K=0,W=0,re=0,xe=0,Ie=0,ye=j.length,ge=[],Ee=[];K<ye;++K)ge[K]=Ee[K]=K,Y[K]=j[K];for(;Ie<Ee.length;++Ie)K=Ee[Ie],W=U[K].L,re=U[K].R,xe=U[K].C,ge[K]===K&&(W!==-1&&ge[W]!==W&&(ge[K]=ge[W]),re!==-1&&ge[re]!==re&&(ge[K]=ge[re])),xe!==-1&&(ge[xe]=K),W!==-1&&K!=ge[K]&&(ge[W]=ge[K],Ee.lastIndexOf(W)<Ie&&Ee.push(W)),re!==-1&&K!=ge[K]&&(ge[re]=ge[K],Ee.lastIndexOf(re)<Ie&&Ee.push(re));for(K=1;K<ye;++K)ge[K]===K&&(re!==-1&&ge[re]!==re?ge[K]=ge[re]:W!==-1&&ge[W]!==W&&(ge[K]=ge[W]));for(K=1;K<ye;++K)if(U[K].type!==0){if(Ie=K,Ie!=ge[Ie])do Ie=ge[Ie],Y[K]=Y[Ie]+"/"+Y[K];while(Ie!==0&&ge[Ie]!==-1&&Ie!=ge[Ie]);ge[K]=-1}for(Y[0]+="/",K=1;K<ye;++K)U[K].type!==2&&(Y[K]+="/")}function A(U,Y,j){for(var K=U.start,W=U.size,re=[],xe=K;j&&W>0&&xe>=0;)re.push(Y.slice(xe*M,xe*M+M)),W-=M,xe=ll(j,xe*4);return re.length===0?Qn(0):oo(re).slice(0,U.size)}function C(U,Y,j,K,W){var re=B;if(U===B){if(Y!==0)throw new Error("DIFAT chain shorter than expected")}else if(U!==-1){var xe=j[U],Ie=(K>>>2)-1;if(!xe)return;for(var ye=0;ye<Ie&&(re=ll(xe,ye*4))!==B;++ye)W.push(re);C(ll(xe,K-4),Y-1,j,K,W)}}function k(U,Y,j,K,W){var re=[],xe=[];W||(W=[]);var Ie=K-1,ye=0,ge=0;for(ye=Y;ye>=0;){W[ye]=!0,re[re.length]=ye,xe.push(U[ye]);var Ee=j[Math.floor(ye*4/K)];if(ge=ye*4&Ie,K<4+ge)throw new Error("FAT boundary crossed: "+ye+" 4 "+K);if(!U[Ee])break;ye=ll(U[Ee],ge)}return{nodes:re,data:ew([xe])}}function V(U,Y,j,K){var W=U.length,re=[],xe=[],Ie=[],ye=[],ge=K-1,Ee=0,Le=0,He=0,Ye=0;for(Ee=0;Ee<W;++Ee)if(Ie=[],He=Ee+Y,He>=W&&(He-=W),!xe[He]){ye=[];var Ve=[];for(Le=He;Le>=0;){Ve[Le]=!0,xe[Le]=!0,Ie[Ie.length]=Le,ye.push(U[Le]);var Ke=j[Math.floor(Le*4/K)];if(Ye=Le*4&ge,K<4+Ye)throw new Error("FAT boundary crossed: "+Le+" 4 "+K);if(!U[Ke]||(Le=ll(U[Ke],Ye),Ve[Le]))break}re[He]={nodes:Ie,data:ew([ye])}}return re}function D(U,Y,j,K,W,re,xe,Ie){for(var ye=0,ge=K.length?2:0,Ee=Y[U].data,Le=0,He=0,Ye;Le<Ee.length;Le+=128){var Ve=Ee.slice(Le,Le+128);_r(Ve,64),He=Ve.read_shift(2),Ye=p1(Ve,0,He-ge),K.push(Ye);var Ke={name:Ye,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},Qe=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Qe!==0&&(Ke.ct=H(Ve,Ve.l-8));var Zt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Zt!==0&&(Ke.mt=H(Ve,Ve.l-8)),Ke.start=Ve.read_shift(4,"i"),Ke.size=Ve.read_shift(4,"i"),Ke.size<0&&Ke.start<0&&(Ke.size=Ke.type=0,Ke.start=B,Ke.name=""),Ke.type===5?(ye=Ke.start,W>0&&ye!==B&&(Y[ye].name="!StreamData")):Ke.size>=4096?(Ke.storage="fat",Y[Ke.start]===void 0&&(Y[Ke.start]=k(j,Ke.start,Y.fat_addrs,Y.ssz)),Y[Ke.start].name=Ke.name,Ke.content=Y[Ke.start].data.slice(0,Ke.size)):(Ke.storage="minifat",Ke.size<0?Ke.size=0:ye!==B&&Ke.start!==B&&Y[ye]&&(Ke.content=A(Ke,Y[ye].data,(Y[Ie]||{}).data))),Ke.content&&_r(Ke.content,0),re[Ye]=Ke,xe.push(Ke)}}function H(U,Y){return new Date((Ts(U,Y+4)/1e7*Math.pow(2,32)+Ts(U,Y)/1e7-11644473600)*1e3)}function G(U,Y){return d(),h(f.readFileSync(U),Y)}function J(U,Y){var j=Y&&Y.type;switch(j||Lt&&Buffer.isBuffer(U)&&(j="buffer"),j||"base64"){case"file":return G(U,Y);case"base64":return h(ci(As(U)),Y);case"binary":return h(ci(U),Y)}return h(U,Y)}function I(U,Y){var j=Y||{},K=j.root||"Root Entry";if(U.FullPaths||(U.FullPaths=[]),U.FileIndex||(U.FileIndex=[]),U.FullPaths.length!==U.FileIndex.length)throw new Error("inconsistent CFB structure");U.FullPaths.length===0&&(U.FullPaths[0]=K+"/",U.FileIndex[0]={name:K,type:5}),j.CLSID&&(U.FileIndex[0].clsid=j.CLSID),N(U)}function N(U){var Y="Sh33tJ5";if(!Bt.find(U,"/"+Y)){var j=Qn(4);j[0]=55,j[1]=j[3]=50,j[2]=54,U.FileIndex.push({name:Y,type:2,content:j,size:4,L:69,R:69,C:69}),U.FullPaths.push(U.FullPaths[0]+Y),b(U)}}function b(U,Y){I(U);for(var j=!1,K=!1,W=U.FullPaths.length-1;W>=0;--W){var re=U.FileIndex[W];switch(re.type){case 0:K?j=!0:(U.FileIndex.pop(),U.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(re.R*re.L*re.C)&&(j=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(j=!0);break;default:j=!0;break}}if(!(!j&&!Y)){var xe=new Date(1987,1,19),Ie=0,ye=Object.create?Object.create(null):{},ge=[];for(W=0;W<U.FullPaths.length;++W)ye[U.FullPaths[W]]=!0,U.FileIndex[W].type!==0&&ge.push([U.FullPaths[W],U.FileIndex[W]]);for(W=0;W<ge.length;++W){var Ee=r(ge[W][0]);K=ye[Ee],K||(ge.push([Ee,{name:s(Ee).replace("/",""),type:1,clsid:ae,ct:xe,mt:xe,content:null}]),ye[Ee]=!0)}for(ge.sort(function(Ye,Ve){return n(Ye[0],Ve[0])}),U.FullPaths=[],U.FileIndex=[],W=0;W<ge.length;++W)U.FullPaths[W]=ge[W][0],U.FileIndex[W]=ge[W][1];for(W=0;W<ge.length;++W){var Le=U.FileIndex[W],He=U.FullPaths[W];if(Le.name=s(He).replace("/",""),Le.L=Le.R=Le.C=-(Le.color=1),Le.size=Le.content?Le.content.length:0,Le.start=0,Le.clsid=Le.clsid||ae,W===0)Le.C=ge.length>1?1:-1,Le.size=0,Le.type=5;else if(He.slice(-1)=="/"){for(Ie=W+1;Ie<ge.length&&r(U.FullPaths[Ie])!=He;++Ie);for(Le.C=Ie>=ge.length?-1:Ie,Ie=W+1;Ie<ge.length&&r(U.FullPaths[Ie])!=r(He);++Ie);Le.R=Ie>=ge.length?-1:Ie,Le.type=1}else r(U.FullPaths[W+1]||"")==r(He)&&(Le.R=W+1),Le.type=2}}}function F(U,Y){var j=Y||{};if(j.fileType=="mad")return Hi(U,j);if(b(U),j.fileType==="zip")return xn(U,j);var K=(function(Ye){for(var Ve=0,Ke=0,Qe=0;Qe<Ye.FileIndex.length;++Qe){var Zt=Ye.FileIndex[Qe];if(Zt.content){var Xt=Zt.content.length;Xt>0&&(Xt<4096?Ve+=Xt+63>>6:Ke+=Xt+511>>9)}}for(var fn=Ye.FullPaths.length+3>>2,Cr=Ve+7>>3,Zs=Ve+127>>7,Xs=Cr+Ke+fn+Zs,ds=Xs+127>>7,Ca=ds<=109?0:Math.ceil((ds-109)/127);Xs+ds+Ca+127>>7>ds;)Ca=++ds<=109?0:Math.ceil((ds-109)/127);var br=[1,Ca,ds,Zs,fn,Ke,Ve,0];return Ye.FileIndex[0].size=Ve<<6,br[7]=(Ye.FileIndex[0].start=br[0]+br[1]+br[2]+br[3]+br[4]+br[5])+(br[6]+7>>3),br})(U),W=Qn(K[7]<<9),re=0,xe=0;{for(re=0;re<8;++re)W.write_shift(1,pe[re]);for(re=0;re<8;++re)W.write_shift(2,0);for(W.write_shift(2,62),W.write_shift(2,3),W.write_shift(2,65534),W.write_shift(2,9),W.write_shift(2,6),re=0;re<3;++re)W.write_shift(2,0);for(W.write_shift(4,0),W.write_shift(4,K[2]),W.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),W.write_shift(4,0),W.write_shift(4,4096),W.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:B),W.write_shift(4,K[3]),W.write_shift(-4,K[1]?K[0]-1:B),W.write_shift(4,K[1]),re=0;re<109;++re)W.write_shift(-4,re<K[2]?K[1]+re:-1)}if(K[1])for(xe=0;xe<K[1];++xe){for(;re<236+xe*127;++re)W.write_shift(-4,re<K[2]?K[1]+re:-1);W.write_shift(-4,xe===K[1]-1?B:xe+1)}var Ie=function(Ye){for(xe+=Ye;re<xe-1;++re)W.write_shift(-4,re+1);Ye&&(++re,W.write_shift(-4,B))};for(xe=re=0,xe+=K[1];re<xe;++re)W.write_shift(-4,ce.DIFSECT);for(xe+=K[2];re<xe;++re)W.write_shift(-4,ce.FATSECT);Ie(K[3]),Ie(K[4]);for(var ye=0,ge=0,Ee=U.FileIndex[0];ye<U.FileIndex.length;++ye)Ee=U.FileIndex[ye],Ee.content&&(ge=Ee.content.length,!(ge<4096)&&(Ee.start=xe,Ie(ge+511>>9)));for(Ie(K[6]+7>>3);W.l&511;)W.write_shift(-4,ce.ENDOFCHAIN);for(xe=re=0,ye=0;ye<U.FileIndex.length;++ye)Ee=U.FileIndex[ye],Ee.content&&(ge=Ee.content.length,!(!ge||ge>=4096)&&(Ee.start=xe,Ie(ge+63>>6)));for(;W.l&511;)W.write_shift(-4,ce.ENDOFCHAIN);for(re=0;re<K[4]<<2;++re){var Le=U.FullPaths[re];if(!Le||Le.length===0){for(ye=0;ye<17;++ye)W.write_shift(4,0);for(ye=0;ye<3;++ye)W.write_shift(4,-1);for(ye=0;ye<12;++ye)W.write_shift(4,0);continue}Ee=U.FileIndex[re],re===0&&(Ee.start=Ee.size?Ee.start-1:B);var He=re===0&&j.root||Ee.name;if(ge=2*(He.length+1),W.write_shift(64,He,"utf16le"),W.write_shift(2,ge),W.write_shift(1,Ee.type),W.write_shift(1,Ee.color),W.write_shift(-4,Ee.L),W.write_shift(-4,Ee.R),W.write_shift(-4,Ee.C),Ee.clsid)W.write_shift(16,Ee.clsid,"hex");else for(ye=0;ye<4;++ye)W.write_shift(4,0);W.write_shift(4,Ee.state||0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,Ee.start),W.write_shift(4,Ee.size),W.write_shift(4,0)}for(re=1;re<U.FileIndex.length;++re)if(Ee=U.FileIndex[re],Ee.size>=4096)if(W.l=Ee.start+1<<9,Lt&&Buffer.isBuffer(Ee.content))Ee.content.copy(W,W.l,0,Ee.size),W.l+=Ee.size+511&-512;else{for(ye=0;ye<Ee.size;++ye)W.write_shift(1,Ee.content[ye]);for(;ye&511;++ye)W.write_shift(1,0)}for(re=1;re<U.FileIndex.length;++re)if(Ee=U.FileIndex[re],Ee.size>0&&Ee.size<4096)if(Lt&&Buffer.isBuffer(Ee.content))Ee.content.copy(W,W.l,0,Ee.size),W.l+=Ee.size+63&-64;else{for(ye=0;ye<Ee.size;++ye)W.write_shift(1,Ee.content[ye]);for(;ye&63;++ye)W.write_shift(1,0)}if(Lt)W.l=W.length;else for(;W.l<W.length;)W.write_shift(1,0);return W}function O(U,Y){var j=U.FullPaths.map(function(ye){return ye.toUpperCase()}),K=j.map(function(ye){var ge=ye.split("/");return ge[ge.length-(ye.slice(-1)=="/"?2:1)]}),W=!1;Y.charCodeAt(0)===47?(W=!0,Y=j[0].slice(0,-1)+Y):W=Y.indexOf("/")!==-1;var re=Y.toUpperCase(),xe=W===!0?j.indexOf(re):K.indexOf(re);if(xe!==-1)return U.FileIndex[xe];var Ie=!re.match(gf);for(re=re.replace(Jr,""),Ie&&(re=re.replace(gf,"!")),xe=0;xe<j.length;++xe)if((Ie?j[xe].replace(gf,"!"):j[xe]).replace(Jr,"")==re||(Ie?K[xe].replace(gf,"!"):K[xe]).replace(Jr,"")==re)return U.FileIndex[xe];return null}var M=64,B=-2,fe="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",ce={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ee(U,Y,j){d();var K=F(U,j);f.writeFileSync(Y,K)}function ie(U){for(var Y=new Array(U.length),j=0;j<U.length;++j)Y[j]=String.fromCharCode(U[j]);return Y.join("")}function Re(U,Y){var j=F(U,Y);switch(Y&&Y.type||"buffer"){case"file":return d(),f.writeFileSync(Y.filename,j),j;case"binary":return typeof j=="string"?j:ie(j);case"base64":return O2(typeof j=="string"?j:ie(j));case"buffer":if(Lt)return Buffer.isBuffer(j)?j:Il(j);case"array":return typeof j=="string"?ci(j):j}return j}var X;function z(U){try{var Y=U.InflateRaw,j=new Y;if(j._processChunk(new Uint8Array([3,0]),j._finishFlushFlag),j.bytesRead)X=U;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function Q(U,Y){if(!X)return Cs(U,Y);var j=X.InflateRaw,K=new j,W=K._processChunk(U.slice(U.l),K._finishFlushFlag);return U.l+=K.bytesRead,W}function ne(U){return X?X.deflateRawSync(U):rt(U)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ve=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(U){var Y=(U<<1|U<<11)&139536|(U<<5|U<<15)&558144;return(Y>>16|Y>>8|Y)&255}for(var be=typeof Uint8Array<"u",De=be?new Uint8Array(256):[],je=0;je<256;++je)De[je]=Ne(je);function se(U,Y){var j=De[U&255];return Y<=8?j>>>8-Y:(j=j<<8|De[U>>8&255],Y<=16?j>>>16-Y:(j=j<<8|De[U>>16&255],j>>>24-Y))}function ft(U,Y){var j=Y&7,K=Y>>>3;return(U[K]|(j<=6?0:U[K+1]<<8))>>>j&3}function We(U,Y){var j=Y&7,K=Y>>>3;return(U[K]|(j<=5?0:U[K+1]<<8))>>>j&7}function qe(U,Y){var j=Y&7,K=Y>>>3;return(U[K]|(j<=4?0:U[K+1]<<8))>>>j&15}function Ge(U,Y){var j=Y&7,K=Y>>>3;return(U[K]|(j<=3?0:U[K+1]<<8))>>>j&31}function Be(U,Y){var j=Y&7,K=Y>>>3;return(U[K]|(j<=1?0:U[K+1]<<8))>>>j&127}function tt(U,Y,j){var K=Y&7,W=Y>>>3,re=(1<<j)-1,xe=U[W]>>>K;return j<8-K||(xe|=U[W+1]<<8-K,j<16-K)||(xe|=U[W+2]<<16-K,j<24-K)||(xe|=U[W+3]<<24-K),xe&re}function nt(U,Y,j){var K=Y&7,W=Y>>>3;return K<=5?U[W]|=(j&7)<<K:(U[W]|=j<<K&255,U[W+1]=(j&7)>>8-K),Y+3}function ct(U,Y,j){var K=Y&7,W=Y>>>3;return j=(j&1)<<K,U[W]|=j,Y+1}function cn(U,Y,j){var K=Y&7,W=Y>>>3;return j<<=K,U[W]|=j&255,j>>>=8,U[W+1]=j,Y+8}function wn(U,Y,j){var K=Y&7,W=Y>>>3;return j<<=K,U[W]|=j&255,j>>>=8,U[W+1]=j&255,U[W+2]=j>>>8,Y+16}function Bn(U,Y){var j=U.length,K=2*j>Y?2*j:Y+5,W=0;if(j>=Y)return U;if(Lt){var re=L2(K);if(U.copy)U.copy(re);else for(;W<U.length;++W)re[W]=U[W];return re}else if(be){var xe=new Uint8Array(K);if(xe.set)xe.set(U);else for(;W<j;++W)xe[W]=U[W];return xe}return U.length=K,U}function pt(U){for(var Y=new Array(U),j=0;j<U;++j)Y[j]=0;return Y}function It(U,Y,j){var K=1,W=0,re=0,xe=0,Ie=0,ye=U.length,ge=be?new Uint16Array(32):pt(32);for(re=0;re<32;++re)ge[re]=0;for(re=ye;re<j;++re)U[re]=0;ye=U.length;var Ee=be?new Uint16Array(ye):pt(ye);for(re=0;re<ye;++re)ge[W=U[re]]++,K<W&&(K=W),Ee[re]=0;for(ge[0]=0,re=1;re<=K;++re)ge[re+16]=Ie=Ie+ge[re-1]<<1;for(re=0;re<ye;++re)Ie=U[re],Ie!=0&&(Ee[re]=ge[Ie+16]++);var Le=0;for(re=0;re<ye;++re)if(Le=U[re],Le!=0)for(Ie=se(Ee[re],K)>>K-Le,xe=(1<<K+4-Le)-1;xe>=0;--xe)Y[Ie|xe<<Le]=Le&15|re<<4;return K}var St=be?new Uint16Array(512):pt(512),un=be?new Uint16Array(32):pt(32);if(!be){for(var Rt=0;Rt<512;++Rt)St[Rt]=0;for(Rt=0;Rt<32;++Rt)un[Rt]=0}(function(){for(var U=[],Y=0;Y<32;Y++)U.push(5);It(U,un,32);var j=[];for(Y=0;Y<=143;Y++)j.push(8);for(;Y<=255;Y++)j.push(9);for(;Y<=279;Y++)j.push(7);for(;Y<=287;Y++)j.push(8);It(j,St,288)})();var Dn=(function(){for(var Y=be?new Uint8Array(32768):[],j=0,K=0;j<ve.length-1;++j)for(;K<ve[j+1];++K)Y[K]=j;for(;K<32768;++K)Y[K]=29;var W=be?new Uint8Array(259):[];for(j=0,K=0;j<de.length-1;++j)for(;K<de[j+1];++K)W[K]=j;function re(Ie,ye){for(var ge=0;ge<Ie.length;){var Ee=Math.min(65535,Ie.length-ge),Le=ge+Ee==Ie.length;for(ye.write_shift(1,+Le),ye.write_shift(2,Ee),ye.write_shift(2,~Ee&65535);Ee-- >0;)ye[ye.l++]=Ie[ge++]}return ye.l}function xe(Ie,ye){for(var ge=0,Ee=0,Le=be?new Uint16Array(32768):[];Ee<Ie.length;){var He=Math.min(65535,Ie.length-Ee);if(He<10){for(ge=nt(ye,ge,+(Ee+He==Ie.length)),ge&7&&(ge+=8-(ge&7)),ye.l=ge/8|0,ye.write_shift(2,He),ye.write_shift(2,~He&65535);He-- >0;)ye[ye.l++]=Ie[Ee++];ge=ye.l*8;continue}ge=nt(ye,ge,+(Ee+He==Ie.length)+2);for(var Ye=0;He-- >0;){var Ve=Ie[Ee];Ye=(Ye<<5^Ve)&32767;var Ke=-1,Qe=0;if((Ke=Le[Ye])&&(Ke|=Ee&-32768,Ke>Ee&&(Ke-=32768),Ke<Ee))for(;Ie[Ke+Qe]==Ie[Ee+Qe]&&Qe<250;)++Qe;if(Qe>2){Ve=W[Qe],Ve<=22?ge=cn(ye,ge,De[Ve+1]>>1)-1:(cn(ye,ge,3),ge+=5,cn(ye,ge,De[Ve-23]>>5),ge+=3);var Zt=Ve<8?0:Ve-4>>2;Zt>0&&(wn(ye,ge,Qe-de[Ve]),ge+=Zt),Ve=Y[Ee-Ke],ge=cn(ye,ge,De[Ve]>>3),ge-=3;var Xt=Ve<4?0:Ve-2>>1;Xt>0&&(wn(ye,ge,Ee-Ke-ve[Ve]),ge+=Xt);for(var fn=0;fn<Qe;++fn)Le[Ye]=Ee&32767,Ye=(Ye<<5^Ie[Ee])&32767,++Ee;He-=Qe-1}else Ve<=143?Ve=Ve+48:ge=ct(ye,ge,1),ge=cn(ye,ge,De[Ve]),Le[Ye]=Ee&32767,++Ee}ge=cn(ye,ge,0)-1}return ye.l=(ge+7)/8|0,ye.l}return function(ye,ge){return ye.length<8?re(ye,ge):xe(ye,ge)}})();function rt(U){var Y=Qn(50+Math.floor(U.length*1.1)),j=Dn(U,Y);return Y.slice(0,j)}var Ft=be?new Uint16Array(32768):pt(32768),Jt=be?new Uint16Array(32768):pt(32768),At=be?new Uint16Array(128):pt(128),$t=1,dr=1;function pn(U,Y){var j=Ge(U,Y)+257;Y+=5;var K=Ge(U,Y)+1;Y+=5;var W=qe(U,Y)+4;Y+=4;for(var re=0,xe=be?new Uint8Array(19):pt(19),Ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ye=1,ge=be?new Uint8Array(8):pt(8),Ee=be?new Uint8Array(8):pt(8),Le=xe.length,He=0;He<W;++He)xe[te[He]]=re=We(U,Y),ye<re&&(ye=re),ge[re]++,Y+=3;var Ye=0;for(ge[0]=0,He=1;He<=ye;++He)Ee[He]=Ye=Ye+ge[He-1]<<1;for(He=0;He<Le;++He)(Ye=xe[He])!=0&&(Ie[He]=Ee[Ye]++);var Ve=0;for(He=0;He<Le;++He)if(Ve=xe[He],Ve!=0){Ye=De[Ie[He]]>>8-Ve;for(var Ke=(1<<7-Ve)-1;Ke>=0;--Ke)At[Ye|Ke<<Ve]=Ve&7|He<<3}var Qe=[];for(ye=1;Qe.length<j+K;)switch(Ye=At[Be(U,Y)],Y+=Ye&7,Ye>>>=3){case 16:for(re=3+ft(U,Y),Y+=2,Ye=Qe[Qe.length-1];re-- >0;)Qe.push(Ye);break;case 17:for(re=3+We(U,Y),Y+=3;re-- >0;)Qe.push(0);break;case 18:for(re=11+Be(U,Y),Y+=7;re-- >0;)Qe.push(0);break;default:Qe.push(Ye),ye<Ye&&(ye=Ye);break}var Zt=Qe.slice(0,j),Xt=Qe.slice(j);for(He=j;He<286;++He)Zt[He]=0;for(He=K;He<30;++He)Xt[He]=0;return $t=It(Zt,Ft,286),dr=It(Xt,Jt,30),Y}function Sa(U,Y){if(U[0]==3&&!(U[1]&3))return[_o(Y),2];for(var j=0,K=0,W=L2(Y||1<<18),re=0,xe=W.length>>>0,Ie=0,ye=0;(K&1)==0;){if(K=We(U,j),j+=3,K>>>1)K>>1==1?(Ie=9,ye=5):(j=pn(U,j),Ie=$t,ye=dr);else{j&7&&(j+=8-(j&7));var ge=U[j>>>3]|U[(j>>>3)+1]<<8;if(j+=32,ge>0)for(!Y&&xe<re+ge&&(W=Bn(W,re+ge),xe=W.length);ge-- >0;)W[re++]=U[j>>>3],j+=8;continue}for(;;){!Y&&xe<re+32767&&(W=Bn(W,re+32767),xe=W.length);var Ee=tt(U,j,Ie),Le=K>>>1==1?St[Ee]:Ft[Ee];if(j+=Le&15,Le>>>=4,(Le>>>8&255)===0)W[re++]=Le;else{if(Le==256)break;Le-=257;var He=Le<8?0:Le-4>>2;He>5&&(He=0);var Ye=re+de[Le];He>0&&(Ye+=tt(U,j,He),j+=He),Ee=tt(U,j,ye),Le=K>>>1==1?un[Ee]:Jt[Ee],j+=Le&15,Le>>>=4;var Ve=Le<4?0:Le-2>>1,Ke=ve[Le];for(Ve>0&&(Ke+=tt(U,j,Ve),j+=Ve),!Y&&xe<Ye&&(W=Bn(W,Ye+100),xe=W.length);re<Ye;)W[re]=W[re-Ke],++re}}}return Y?[W,j+7>>>3]:[W.slice(0,re),j+7>>>3]}function Cs(U,Y){var j=U.slice(U.l||0),K=Sa(j,Y);return U.l+=K[1],K[0]}function zi(U,Y){if(U)typeof console<"u"&&console.error(Y);else throw new Error(Y)}function Br(U,Y){var j=U;_r(j,0);var K=[],W=[],re={FileIndex:K,FullPaths:W};I(re,{root:Y.root});for(var xe=j.length-4;(j[xe]!=80||j[xe+1]!=75||j[xe+2]!=5||j[xe+3]!=6)&&xe>=0;)--xe;j.l=xe+4,j.l+=4;var Ie=j.read_shift(2);j.l+=6;var ye=j.read_shift(4);for(j.l=ye,xe=0;xe<Ie;++xe){j.l+=20;var ge=j.read_shift(4),Ee=j.read_shift(4),Le=j.read_shift(2),He=j.read_shift(2),Ye=j.read_shift(2);j.l+=8;var Ve=j.read_shift(4),Ke=c(j.slice(j.l+Le,j.l+Le+He));j.l+=Le+He+Ye;var Qe=j.l;j.l=Ve+4,Js(j,ge,Ee,re,Ke),j.l=Qe}return re}function Js(U,Y,j,K,W){U.l+=2;var re=U.read_shift(2),xe=U.read_shift(2),Ie=o(U);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var ye=U.read_shift(4),ge=U.read_shift(4),Ee=U.read_shift(4),Le=U.read_shift(2),He=U.read_shift(2),Ye="",Ve=0;Ve<Le;++Ve)Ye+=String.fromCharCode(U[U.l++]);if(He){var Ke=c(U.slice(U.l,U.l+He));(Ke[21589]||{}).mt&&(Ie=Ke[21589].mt),((W||{})[21589]||{}).mt&&(Ie=W[21589].mt)}U.l+=He;var Qe=U.slice(U.l,U.l+ge);switch(xe){case 8:Qe=Q(U,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var Zt=!1;re&8&&(ye=U.read_shift(4),ye==134695760&&(ye=U.read_shift(4),Zt=!0),ge=U.read_shift(4),Ee=U.read_shift(4)),ge!=Y&&zi(Zt,"Bad compressed size: "+Y+" != "+ge),Ee!=j&&zi(Zt,"Bad uncompressed size: "+j+" != "+Ee),Ct(K,Ye,Qe,{unsafe:!0,mt:Ie})}function xn(U,Y){var j=Y||{},K=[],W=[],re=Qn(1),xe=j.compression?8:0,Ie=0,ye=0,ge=0,Ee=0,Le=0,He=U.FullPaths[0],Ye=He,Ve=U.FileIndex[0],Ke=[],Qe=0;for(ye=1;ye<U.FullPaths.length;++ye)if(Ye=U.FullPaths[ye].slice(He.length),Ve=U.FileIndex[ye],!(!Ve.size||!Ve.content||Ye=="Sh33tJ5")){var Zt=Ee,Xt=Qn(Ye.length);for(ge=0;ge<Ye.length;++ge)Xt.write_shift(1,Ye.charCodeAt(ge)&127);Xt=Xt.slice(0,Xt.l),Ke[Le]=VO.buf(Ve.content,0);var fn=Ve.content;xe==8&&(fn=ne(fn)),re=Qn(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,Ie),re.write_shift(2,xe),Ve.mt?i(re,Ve.mt):re.write_shift(4,0),re.write_shift(-4,Ke[Le]),re.write_shift(4,fn.length),re.write_shift(4,Ve.content.length),re.write_shift(2,Xt.length),re.write_shift(2,0),Ee+=re.length,K.push(re),Ee+=Xt.length,K.push(Xt),Ee+=fn.length,K.push(fn),re=Qn(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,Ie),re.write_shift(2,xe),re.write_shift(4,0),re.write_shift(-4,Ke[Le]),re.write_shift(4,fn.length),re.write_shift(4,Ve.content.length),re.write_shift(2,Xt.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,Zt),Qe+=re.l,W.push(re),Qe+=Xt.length,W.push(Xt),++Le}return re=Qn(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Le),re.write_shift(2,Le),re.write_shift(4,Qe),re.write_shift(4,Ee),re.write_shift(2,0),oo([oo(K),oo(W),re])}var hr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Xr(U,Y){if(U.ctype)return U.ctype;var j=U.name||"",K=j.match(/\.([^\.]+)$/);return K&&hr[K[1]]||Y&&(K=(j=Y).match(/[\.\\]([^\.\\])+$/),K&&hr[K[1]])?hr[K[1]]:"application/octet-stream"}function zr(U){for(var Y=O2(U),j=[],K=0;K<Y.length;K+=76)j.push(Y.slice(K,K+76));return j.join(`\r
`)+`\r
`}function Mo(U){var Y=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var Ee=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});Y=Y.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Y.charAt(0)==`
`&&(Y="=0D"+Y.slice(1)),Y=Y.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var j=[],K=Y.split(`\r
`),W=0;W<K.length;++W){var re=K[W];if(re.length==0){j.push("");continue}for(var xe=0;xe<re.length;){var Ie=76,ye=re.slice(xe,xe+Ie);ye.charAt(Ie-1)=="="?Ie--:ye.charAt(Ie-2)=="="?Ie-=2:ye.charAt(Ie-3)=="="&&(Ie-=3),ye=re.slice(xe,xe+Ie),xe+=Ie,xe<re.length&&(ye+="="),j.push(ye)}}return j.join(`\r
`)}function Aa(U){for(var Y=[],j=0;j<U.length;++j){for(var K=U[j];j<=U.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+U[++j];Y.push(K)}for(var W=0;W<Y.length;++W)Y[W]=Y[W].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return ci(Y.join(`\r
`))}function Qr(U,Y,j){for(var K="",W="",re="",xe,Ie=0;Ie<10;++Ie){var ye=Y[Ie];if(!ye||ye.match(/^\s*$/))break;var ge=ye.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":K=ge[2].trim();break;case"content-type":re=ge[2].trim();break;case"content-transfer-encoding":W=ge[2].trim();break}}switch(++Ie,W.toLowerCase()){case"base64":xe=ci(As(Y.slice(Ie).join("")));break;case"quoted-printable":xe=Aa(Y.slice(Ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+W)}var Ee=Ct(U,K.slice(j.length),xe,{unsafe:!0});re&&(Ee.ctype=re)}function Ws(U,Y){if(ie(U.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var j=Y&&Y.root||"",K=(Lt&&Buffer.isBuffer(U)?U.toString("binary"):ie(U)).split(`\r
`),W=0,re="";for(W=0;W<K.length;++W)if(re=K[W],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),j||(j=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,j.length)!=j))for(;j.length>0&&(j=j.slice(0,j.length-1),j=j.slice(0,j.lastIndexOf("/")+1),re.slice(0,j.length)!=j););var xe=(K[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var Ie="--"+(xe[1]||""),ye=[],ge=[],Ee={FileIndex:ye,FullPaths:ge};I(Ee);var Le,He=0;for(W=0;W<K.length;++W){var Ye=K[W];Ye!==Ie&&Ye!==Ie+"--"||(He++&&Qr(Ee,K.slice(Le,W),j),Le=W)}return Ee}function Hi(U,Y){var j=Y||{},K=j.boundary||"SheetJS";K="------="+K;for(var W=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],re=U.FullPaths[0],xe=re,Ie=U.FileIndex[0],ye=1;ye<U.FullPaths.length;++ye)if(xe=U.FullPaths[ye].slice(re.length),Ie=U.FileIndex[ye],!(!Ie.size||!Ie.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qe){return"_x"+Qe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qe){return"_u"+Qe.charCodeAt(0).toString(16)+"_"});for(var ge=Ie.content,Ee=Lt&&Buffer.isBuffer(ge)?ge.toString("binary"):ie(ge),Le=0,He=Math.min(1024,Ee.length),Ye=0,Ve=0;Ve<=He;++Ve)(Ye=Ee.charCodeAt(Ve))>=32&&Ye<128&&++Le;var Ke=Le>=He*4/5;W.push(K),W.push("Content-Location: "+(j.root||"file:///C:/SheetJS/")+xe),W.push("Content-Transfer-Encoding: "+(Ke?"quoted-printable":"base64")),W.push("Content-Type: "+Xr(Ie,xe)),W.push(""),W.push(Ke?Mo(Ee):zr(Ee))}return W.push(K+`--\r
`),W.join(`\r
`)}function zn(U){var Y={};return I(Y,U),Y}function Ct(U,Y,j,K){var W=K&&K.unsafe;W||I(U);var re=!W&&Bt.find(U,Y);if(!re){var xe=U.FullPaths[0];Y.slice(0,xe.length)==xe?xe=Y:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+Y).replace("//","/")),re={name:s(Y),type:2},U.FileIndex.push(re),U.FullPaths.push(xe),W||Bt.utils.cfb_gc(U)}return re.content=j,re.size=j?j.length:0,K&&(K.CLSID&&(re.clsid=K.CLSID),K.mt&&(re.mt=K.mt),K.ct&&(re.ct=K.ct)),re}function bs(U,Y){I(U);var j=Bt.find(U,Y);if(j){for(var K=0;K<U.FileIndex.length;++K)if(U.FileIndex[K]==j)return U.FileIndex.splice(K,1),U.FullPaths.splice(K,1),!0}return!1}function le(U,Y,j){I(U);var K=Bt.find(U,Y);if(K){for(var W=0;W<U.FileIndex.length;++W)if(U.FileIndex[W]==K)return U.FileIndex[W].name=s(j),U.FullPaths[W]=j,!0}return!1}function ze(U){b(U,!0)}return e.find=O,e.read=J,e.parse=h,e.write=Re,e.writeFile=ee,e.utils={cfb_new:zn,cfb_add:Ct,cfb_del:bs,cfb_mov:le,cfb_gc:ze,ReadShift:bf,CheckField:dN,prep_blob:_r,bconcat:oo,use_zlib:z,_deflateRaw:rt,_inflateRaw:Cs,consts:ce},e})();function BO(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Oi(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function u1(t){for(var e=[],n=Oi(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var J0=new Date(1899,11,30,0,0,0);function Wr(t,e){var n=t.getTime(),r=J0.getTime()+(t.getTimezoneOffset()-J0.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var qb=new Date,zO=J0.getTime()+(qb.getTimezoneOffset()-J0.getTimezoneOffset())*6e4,q2=qb.getTimezoneOffset();function kp(t){var e=new Date;return e.setTime(t*24*60*60*1e3+zO),e.getTimezoneOffset()!==q2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-q2)*6e4),e}function HO(t){var e=0,n=0,r=!1,s=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(n=1,i>3&&(r=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(s[i],10)}return e}var $2=new Date("2017-02-19T19:06:09.000Z"),$b=isNaN($2.getFullYear())?new Date("2/19/17"):$2,GO=$b.getFullYear()==2017;function cr(t,e){var n=new Date(t);if(GO)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if($b.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Tl(t,e){if(Lt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return xf(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return xf(Db(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return xf(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return xf(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return n[i]||i})}catch{}for(var r=[],s=0;s!=t.length;++s)r.push(String.fromCharCode(t[s]));return r.join("")}function Tr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Tr(t[n]));return e}function In(t,e){for(var n="";n.length<e;)n+=t;return n}function hi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,i){return n=-n,i}),!isNaN(e=Number(r)))?e/n:e}var jO=["january","february","march","april","may","june","july","august","september","october","november","december"];function $c(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&jO.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||i>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var qO=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,s){if(t||typeof r=="string")return n.split(r);for(var i=n.split(r),o=[i[0]],c=1;c<i.length;++c)o.push(s),o.push(i[c]);return o}})();function Kb(t){return t?t.content&&t.type?Tl(t.content,!0):t.data?mf(t.data):t.asNodeBuffer&&Lt?mf(t.asNodeBuffer().toString("binary")):t.asBinary?mf(t.asBinary()):t._data&&t._data.getContent?mf(Tl(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Yb(t){if(!t)return null;if(t.data)return P2(t.data);if(t.asNodeBuffer&&Lt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?P2(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function $O(t){return t&&t.name.slice(-4)===".bin"?Yb(t):Kb(t)}function zs(t,e){for(var n=t.FullPaths||Oi(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),s=r.replace(/\\/g,"/"),i=0;i<n.length;++i){var o=n[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||s==o)return t.files?t.files[n[i]]:t.FileIndex[i]}return null}function f1(t,e){var n=zs(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Jn(t,e,n){if(!n)return $O(f1(t,e));if(!e)return null;try{return Jn(t,e)}catch{return null}}function Ss(t,e,n){if(!n)return Kb(f1(t,e));if(!e)return null;try{return Ss(t,e)}catch{return null}}function KO(t,e,n){return Yb(f1(t,e))}function K2(t){for(var e=t.FullPaths||Oi(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function YO(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Lt?r=Il(n):r=hO(n),Bt.utils.cfb_add(t,e,r)}Bt.utils.cfb_add(t,e,n)}else t.file(e,n)}function Jb(t,e){switch(e.type){case"base64":return Bt.read(t,{type:"base64"});case"binary":return Bt.read(t,{type:"binary"});case"buffer":case"array":return Bt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function vf(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var s=r.shift();s===".."?n.pop():s!=="."&&n.push(s)}return n.join("/")}var Wb=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,JO=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Y2=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,WO=/<[^>]*>/g,Vr=Wb.match(Y2)?Y2:WO,ZO=/<\w*:/,XO=/<(\/?)\w+:/;function ht(t,e,n){for(var r={},s=0,i=0;s!==t.length&&!((i=t.charCodeAt(s))===32||i===10||i===13);++s);if(e||(r[0]=t.slice(0,s)),s===t.length)return r;var o=t.match(JO),c=0,f="",d=0,h="",g="",v=1;if(o)for(d=0;d!=o.length;++d){for(g=o[d],i=0;i!=g.length&&g.charCodeAt(i)!==61;++i);for(h=g.slice(0,i).trim();g.charCodeAt(i+1)==32;)++i;for(v=(s=g.charCodeAt(i+1))==34||s==39?1:0,f=g.slice(i+1+v,g.length-v),c=0;c!=h.length&&h.charCodeAt(c)!==58;++c);if(c===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=f,r[h.toLowerCase()]=f;else{var T=(c===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(c+1);if(r[T]&&h.slice(c-3,c)=="ext")continue;r[T]=f,r[T.toLowerCase()]=f}}return r}function Vi(t){return t.replace(XO,"<$1")}var Zb={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},QO=u1(Zb),Ht=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var s=r+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(t,function(c,f){return Zb[c]||String.fromCharCode(parseInt(f,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,f){return String.fromCharCode(parseInt(f,16))});var o=s.indexOf("]]>");return n(s.slice(0,i))+s.slice(i+9,o)+n(s.slice(o+3))}})(),eL=/[&<>'"]/g,tL=/[\u0000-\u001f]/g;function d1(t){var e=t+"";return e.replace(eL,function(n){return QO[n]}).replace(/\n/g,"<br/>").replace(tL,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var J2=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function En(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function av(t){for(var e="",n=0,r=0,s=0,i=0,o=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(s=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(n++),c=((r&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function W2(t){var e=_o(2*t.length),n,r,s=1,i=0,o=0,c;for(r=0;r<t.length;r+=s)s=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),s=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),s=3):(s=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=n%256,e[i++]=n>>>8;return e.slice(0,i).toString("ucs2")}function Z2(t){return Il(t,"binary").toString("utf8")}var Zh="foo bar baz",hn=Lt&&(Z2(Zh)==av(Zh)&&Z2||W2(Zh)==av(Zh)&&W2)||av,xf=Lt?function(t){return Il(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,s=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Jf=(function(){var t={};return function(n,r){var s=n+"|"+(r||"");return t[s]?t[s]:t[s]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),Xb=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)r=r.replace(t[s][0],t[s][1]);return r}})(),nL=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),rL=/<\/?(?:vt:)?variant>/g,sL=/<(?:vt:)([^>]*)>([\s\S]*)</;function X2(t,e){var n=ht(t),r=t.match(nL(n.baseType))||[],s=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return s}return r.forEach(function(i){var o=i.replace(rL,"").match(sL);o&&s.push({v:hn(o[2]),t:o[1]})}),s}var iL=/(^\s|\s$|\n)/;function aL(t){return Oi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function oL(t,e,n){return"<"+t+(n!=null?aL(n):"")+(e!=null?(e.match(iL)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function h1(t){if(Lt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return hn(Rl(o1(t)));throw new Error("Bad input format: expected Buffer or string")}var Wf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,lL={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},cL=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function uL(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return r==2047?s==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}function fL(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=r?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var c=0;c<=5;++c,i/=256)t[n+c]=i&255;t[n+6]=(s&15)<<4|i&15,t[n+7]=s>>4|r}var Q2=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var s=0,i=t[0][r].length;s<i;s+=n)e.push.apply(e,t[0][r].slice(s,s+n));return e},ew=Lt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Il(e)})):Q2(t)}:Q2,tw=function(t,e,n){for(var r=[],s=e;s<n;s+=2)r.push(String.fromCharCode(ca(t,s)));return r.join("").replace(Jr,"")},p1=Lt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Jr,""):tw(t,e,n)}:tw,nw=function(t,e,n){for(var r=[],s=e;s<e+n;++s)r.push(("0"+t[s].toString(16)).slice(-2));return r.join("")},Qb=Lt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):nw(t,e,n)}:nw,rw=function(t,e,n){for(var r=[],s=e;s<n;s++)r.push(String.fromCharCode(Sc(t,s)));return r.join("")},vd=Lt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):rw(e,n,r)}:rw,eN=function(t,e){var n=Ts(t,e);return n>0?vd(t,e+4,e+4+n-1):""},tN=eN,nN=function(t,e){var n=Ts(t,e);return n>0?vd(t,e+4,e+4+n-1):""},rN=nN,sN=function(t,e){var n=2*Ts(t,e);return n>0?vd(t,e+4,e+4+n-1):""},iN=sN,aN=function(e,n){var r=Ts(e,n);return r>0?p1(e,n+4,n+4+r):""},oN=aN,lN=function(t,e){var n=Ts(t,e);return n>0?vd(t,e+4,e+4+n):""},cN=lN,uN=function(t,e){return uL(t,e)},W0=uN,fN=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Lt&&(tN=function(e,n){if(!Buffer.isBuffer(e))return eN(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},rN=function(e,n){if(!Buffer.isBuffer(e))return nN(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},iN=function(e,n){if(!Buffer.isBuffer(e))return sN(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},oN=function(e,n){if(!Buffer.isBuffer(e))return aN(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},cN=function(e,n){if(!Buffer.isBuffer(e))return lN(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},W0=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):uN(e,n)},fN=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Sc=function(t,e){return t[e]},ca=function(t,e){return t[e+1]*256+t[e]},dL=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Ts=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ll=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},hL=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function bf(t,e){var n="",r,s,i=[],o,c,f,d;switch(e){case"dbcs":if(d=this.l,Lt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(ca(this,d)),d+=2;t*=2;break;case"utf8":n=vd(this,this.l,this.l+t);break;case"utf16le":t*=2,n=p1(this,this.l,this.l+t);break;case"wstr":return bf.call(this,t,"dbcs");case"lpstr-ansi":n=tN(this,this.l),t=4+Ts(this,this.l);break;case"lpstr-cp":n=rN(this,this.l),t=4+Ts(this,this.l);break;case"lpwstr":n=iN(this,this.l),t=4+2*Ts(this,this.l);break;case"lpp4":t=4+Ts(this,this.l),n=oN(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Ts(this,this.l),n=cN(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=Sc(this,this.l+t++))!==0;)i.push(Wh(o));n=i.join("");break;case"_wstr":for(t=0,n="";(o=ca(this,this.l+t))!==0;)i.push(Wh(o)),t+=2;t+=2,n=i.join("");break;case"dbcs-cont":for(n="",d=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Sc(this,d),this.l=d+1,c=bf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Wh(ca(this,d))),d+=2}n=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Sc(this,d),this.l=d+1,c=bf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Wh(Sc(this,d))),d+=1}n=i.join("");break;default:switch(t){case 1:return r=Sc(this,this.l),this.l++,r;case 2:return r=(e==="i"?dL:ca)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?ll:hL)(this,this.l),this.l+=4,r):(s=Ts(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=W0(this,this.l):s=W0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:n=Qb(this,this.l,t);break}}return this.l+=t,n}var pL=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},mL=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},gL=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function vL(t,e,n){var r=0,s=0;if(n==="dbcs"){for(s=0;s!=e.length;++s)gL(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(n==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(n==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,pL(this,e,this.l);break;case 8:if(r=8,n==="f"){fL(this,e,this.l);break}case 16:break;case-4:r=4,mL(this,e,this.l);break}return this.l+=r,this}function dN(t,e){var n=Qb(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function _r(t,e){t.l=e,t.read_shift=bf,t.chk=dN,t.write_shift=vL}function Ur(t,e){t.l+=e}function Qn(t){var e=_o(t);return _r(e,0),e}function Ea(t,e,n){if(t){var r,s,i;_r(t,t.l||0);for(var o=t.length,c=0,f=0;t.l<o;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=np[c]||np[65535];for(r=t.read_shift(1),i=r&127,s=1;s<4&&r&128;++s)i+=((r=t.read_shift(1))&127)<<7*s;f=t.l+i;var h=d.f&&d.f(t,i,n);if(t.l=f,e(h,d,c))return}}}function Gv(){var t=[],e=Lt?256:2048,n=function(d){var h=Qn(d);return _r(h,0),h},r=n(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},i=function(d){return r&&d<r.length-r.l?r:(s(),r=n(Math.max(d+1,e)))},o=function(){return s(),oo(t)},c=function(d){s(),r=d,r.l==null&&(r.l=r.length),i(e)};return{next:i,push:c,end:o,_bufs:t}}function Nf(t,e,n){var r=Tr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function sw(t,e,n){var r=Tr(t);return r.s=Nf(r.s,e.s,n),r.e=Nf(r.e,e.s,n),r}function If(t,e){if(t.cRel&&t.c<0)for(t=Tr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Tr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=xt(t);return!t.cRel&&t.cRel!=null&&(n=_L(n)),!t.rRel&&t.rRel!=null&&(n=xL(n)),n}function ov(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+tr(t.s.c)+":"+(t.e.cRel?"":"$")+tr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+wr(t.s.r)+":"+(t.e.rRel?"":"$")+wr(t.e.r):If(t.s,e.biff)+":"+If(t.e,e.biff)}function m1(t){return parseInt(yL(t),10)-1}function wr(t){return""+(t+1)}function xL(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yL(t){return t.replace(/\$(\d+)$/,"$1")}function g1(t){for(var e=EL(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function tr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function _L(t){return t.replace(/^([A-Z])/,"$$$1")}function EL(t){return t.replace(/^\$([A-Z])/,"$1")}function TL(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yr(t){for(var e=0,n=0,r=0;r<t.length;++r){var s=t.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:e-1}}function xt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function tu(t){var e=t.indexOf(":");return e==-1?{s:Yr(t),e:Yr(t)}:{s:Yr(t.slice(0,e)),e:Yr(t.slice(e+1))}}function zt(t,e){return typeof e>"u"||typeof e=="number"?zt(t.s,t.e):(typeof t!="string"&&(t=xt(t)),typeof e!="string"&&(e=xt(e)),t==e?t:t+":"+e)}function kn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,i=t.length;for(n=0;r<i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.s.c=--n,n=0;r<i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(e.s.r=--n,r===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=i&&!((s=t.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(e.e.c=--n,n=0;r!=i&&!((s=t.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return e.e.r=--n,e}function iw(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=qs(t.z,n?Wr(e):e)}catch{}try{return t.w=qs((t.XF||{}).numFmtId||(n?14:0),n?Wr(e):e)}catch{return""+e}}function ga(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Ml[t.v]||t.v:e==null?iw(t,t.v):iw(t,e))}function ko(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function hN(t,e,n){var r=n||{},s=t?Array.isArray(t):r.dense,i=t||(s?[]:{}),o=0,c=0;if(i&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Yr(r.origin):r.origin;o=f.r,c=f.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=kn(i["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(d.e.r=o=h.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[g].length;++v)if(!(typeof e[g][v]>"u")){var T={v:e[g][v]},S=o+g,A=c+v;if(d.s.r>S&&(d.s.r=S),d.s.c>A&&(d.s.c=A),d.e.r<S&&(d.e.r=S),d.e.c<A&&(d.e.c=A),e[g][v]&&typeof e[g][v]=="object"&&!Array.isArray(e[g][v])&&!(e[g][v]instanceof Date))T=e[g][v];else if(Array.isArray(T.v)&&(T.f=e[g][v][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(r.nullError)T.t="e",T.v=0;else if(r.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=r.dateNF||Tt[14],r.cellDates?(T.t="d",T.w=qs(T.z,Wr(T.v))):(T.t="n",T.v=Wr(T.v),T.w=qs(T.z,T.v))):T.t="s";if(s)i[S]||(i[S]=[]),i[S][A]&&i[S][A].z&&(T.z=i[S][A].z),i[S][A]=T;else{var C=xt({c:A,r:S});i[C]&&i[C].z&&(T.z=i[C].z),i[C]=T}}}return d.s.c<1e7&&(i["!ref"]=zt(d)),i}function nu(t,e){return hN(null,t,e)}function wL(t){return t.read_shift(4,"i")}function Lr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function SL(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function v1(t,e){var n=t.l,r=t.read_shift(1),s=Lr(t),i=[],o={t:s,h:s};if((r&1)!==0){for(var c=t.read_shift(4),f=0;f!=c;++f)i.push(SL(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var AL=v1;function Ys(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function kl(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var CL=Lr;function x1(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var bL=Lr,jv=x1;function y1(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var s=r===0?W0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ll(e,0)>>2;return n?s/100:s}function pN(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Dl=pN;function Pr(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function NL(t){var e={},n=t.read_shift(1),r=n>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var d=gl[s];d&&(e.rgb=Xf(d));break;case 2:e.rgb=Xf([o,c,f]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function IL(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function mN(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function RL(t){return mN(t,1)}function kL(t){return mN(t,2)}var _1=2,os=3,Xh=11,aw=12,Z0=19,Qh=64,DL=65,ML=71,PL=4108,FL=4126,or=80,gN=81,OL=[or,gN],LL={1:{n:"CodePage",t:_1},2:{n:"Category",t:or},3:{n:"PresentationFormat",t:or},4:{n:"ByteCount",t:os},5:{n:"LineCount",t:os},6:{n:"ParagraphCount",t:os},7:{n:"SlideCount",t:os},8:{n:"NoteCount",t:os},9:{n:"HiddenCount",t:os},10:{n:"MultimediaClipCount",t:os},11:{n:"ScaleCrop",t:Xh},12:{n:"HeadingPairs",t:PL},13:{n:"TitlesOfParts",t:FL},14:{n:"Manager",t:or},15:{n:"Company",t:or},16:{n:"LinksUpToDate",t:Xh},17:{n:"CharacterCount",t:os},19:{n:"SharedDoc",t:Xh},22:{n:"HyperlinksChanged",t:Xh},23:{n:"AppVersion",t:os,p:"version"},24:{n:"DigSig",t:DL},26:{n:"ContentType",t:or},27:{n:"ContentStatus",t:or},28:{n:"Language",t:or},29:{n:"Version",t:or},255:{},2147483648:{n:"Locale",t:Z0},2147483651:{n:"Behavior",t:Z0},1919054434:{}},UL={1:{n:"CodePage",t:_1},2:{n:"Title",t:or},3:{n:"Subject",t:or},4:{n:"Author",t:or},5:{n:"Keywords",t:or},6:{n:"Comments",t:or},7:{n:"Template",t:or},8:{n:"LastAuthor",t:or},9:{n:"RevNumber",t:or},10:{n:"EditTime",t:Qh},11:{n:"LastPrinted",t:Qh},12:{n:"CreatedDate",t:Qh},13:{n:"ModifiedDate",t:Qh},14:{n:"PageCount",t:os},15:{n:"WordCount",t:os},16:{n:"CharCount",t:os},17:{n:"Thumbnail",t:ML},18:{n:"Application",t:or},19:{n:"DocSecurity",t:os},255:{},2147483648:{n:"Locale",t:Z0},2147483651:{n:"Behavior",t:Z0},1919054434:{}},ow={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},VL=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function BL(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var zL=BL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),gl=Tr(zL),Ml={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},vN={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},lw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function HL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function GL(t){var e=HL();if(!t||!t.match)return e;var n={};if((t.match(Vr)||[]).forEach(function(r){var s=ht(r);switch(s[0].replace(ZO,"<")){case"<?xml":break;case"<Types":e.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[s.Extension]=s.ContentType;break;case"<Override":e[lw[s.ContentType]]!==void 0&&e[lw[s.ContentType]].push(s.PartName);break}}),e.xmlns!==lL.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var kc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function qv(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Rf(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Vr)||[]).forEach(function(s){var i=ht(s);if(i[0]==="<Relationship"){var o={};o.Type=i.Type,o.Target=i.Target,o.Id=i.Id,i.TargetMode&&(o.TargetMode=i.TargetMode);var c=i.TargetMode==="External"?i.Target:vf(i.Target,e);n[c]=o,r[i.Id]=o}}),n["!id"]=r,n}var jL="application/vnd.oasis.opendocument.spreadsheet";function qL(t,e){for(var n=h1(t),r,s;r=Wf.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(s=ht(r[0],!1),s.path=="/"&&s.type!==jL)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var kf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],$L=(function(){for(var t=new Array(kf.length),e=0;e<kf.length;++e){var n=kf[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function xN(t){var e={};t=hn(t);for(var n=0;n<kf.length;++n){var r=kf[n],s=t.match($L[n]);s!=null&&s.length>0&&(e[r[1]]=Ht(s[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=cr(e[r[1]]))}return e}var KL=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function yN(t,e,n,r){var s=[];if(typeof t=="string")s=X2(t,r);else for(var i=0;i<t.length;++i)s=s.concat(t[i].map(function(h){return{v:h}}));var o=typeof e=="string"?X2(e,r).map(function(h){return h.v}):e,c=0,f=0;if(o.length>0)for(var d=0;d!==s.length;d+=2){switch(f=+s[d+1].v,s[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=f,n.SheetNames=o.slice(c,c+f);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=f,n.DefinedNames=o.slice(c,c+f);break;case"Charts":case"Diagramme":n.Chartsheets=f,n.ChartNames=o.slice(c,c+f);break}c+=f}}function YL(t,e,n){var r={};return e||(e={}),t=hn(t),KL.forEach(function(s){var i=(t.match(Jf(s[0]))||[])[1];switch(s[2]){case"string":i&&(e[s[1]]=Ht(i));break;case"bool":e[s[1]]=i==="true";break;case"raw":var o=t.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));o&&o.length>0&&(r[s[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&yN(r.HeadingPairs,r.TitlesOfParts,e,n),e}var JL=/<[^>]+>[^<]*/g;function WL(t,e){var n={},r="",s=t.match(JL);if(s)for(var i=0;i!=s.length;++i){var o=s[i],c=ht(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Ht(c.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var f=o.split(">"),d=f[0].slice(4),h=f[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[r]=Ht(h);break;case"bool":n[r]=En(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(h);break;case"filetime":case"date":n[r]=cr(h);break;case"cy":case"error":n[r]=Ht(h);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,f)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return n}var ZL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},lv;function XL(t,e,n){lv||(lv=u1(ZL)),e=lv[e]||e,t[e]=n}function E1(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function _N(t,e,n){var r=t.l,s=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return s}function EN(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function TN(t,e,n){return e===31?EN(t):_N(t,e,n)}function $v(t,e,n){return TN(t,e,n===!1?0:4)}function QL(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return TN(t,e,0)}function e8(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var s=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Jr,""),t.l-s&2&&(t.l+=2)}return n}function t8(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Jr,"");return n}function n8(t){var e=t.l,n=X0(t,gN);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=X0(t,os);return[n,r]}function r8(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(n8(t));return n}function cw(t,e){for(var n=t.read_shift(4),r={},s=0;s!=n;++s){var i=t.read_shift(4),o=t.read_shift(4);r[i]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(Jr,"").replace(gf,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function wN(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function s8(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function X0(t,e,n){var r=t.read_shift(2),s,i=n||{};if(t.l+=2,e!==aw&&r!==e&&OL.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===aw?r:e){case 2:return s=t.read_shift(2,"i"),i.raw||(t.l+=2),s;case 3:return s=t.read_shift(4,"i"),s;case 11:return t.read_shift(4)!==0;case 19:return s=t.read_shift(4),s;case 30:return _N(t,r,4).replace(Jr,"");case 31:return EN(t);case 64:return E1(t);case 65:return wN(t);case 71:return s8(t);case 80:return $v(t,r,!i.raw).replace(Jr,"");case 81:return QL(t,r).replace(Jr,"");case 4108:return r8(t);case 4126:case 4127:return r==4127?e8(t):t8(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function uw(t,e){var n=t.l,r=t.read_shift(4),s=t.read_shift(4),i=[],o=0,c=0,f=-1,d={};for(o=0;o!=s;++o){var h=t.read_shift(4),g=t.read_shift(4);i[o]=[h,g+n]}i.sort(function(V,D){return V[1]-D[1]});var v={};for(o=0;o!=s;++o){if(t.l!==i[o][1]){var T=!0;if(o>0&&e)switch(e[i[o-1][0]].t){case 2:t.l+2===i[o][1]&&(t.l+=2,T=!1);break;case 80:t.l<=i[o][1]&&(t.l=i[o][1],T=!1);break;case 4108:t.l<=i[o][1]&&(t.l=i[o][1],T=!1);break}if((!e||o==0)&&t.l<=i[o][1]&&(T=!1,t.l=i[o][1]),T)throw new Error("Read Error: Expected address "+i[o][1]+" at "+t.l+" :"+o)}if(e){var S=e[i[o][0]];if(v[S.n]=X0(t,S.t,{raw:!0}),S.p==="version"&&(v[S.n]=String(v[S.n]>>16)+"."+("0000"+String(v[S.n]&65535)).slice(-4)),S.n=="CodePage")switch(v[S.n]){case 0:v[S.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ui(c=v[S.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[S.n])}}else if(i[o][0]===1){if(c=v.CodePage=X0(t,_1),ui(c),f!==-1){var A=t.l;t.l=i[f][1],d=cw(t,c),t.l=A}}else if(i[o][0]===0){if(c===0){f=o,t.l=i[o+1][1];continue}d=cw(t,c)}else{var C=d[i[o][0]],k;switch(t[t.l]){case 65:t.l+=4,k=wN(t);break;case 30:t.l+=4,k=$v(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,k=$v(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,k=t.read_shift(4,"i");break;case 19:t.l+=4,k=t.read_shift(4);break;case 5:t.l+=4,k=t.read_shift(8,"f");break;case 11:t.l+=4,k=On(t,4);break;case 64:t.l+=4,k=cr(E1(t));break;default:throw new Error("unparsed value: "+t[t.l])}v[C]=k}}return t.l=n+r,v}function fw(t,e,n){var r=t.content;if(!r)return{};_r(r,0);var s,i,o,c,f=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),h=r.read_shift(16);if(h!==Bt.utils.consts.HEADER_CLSID&&h!==n)throw new Error("Bad PropertySet CLSID "+h);if(s=r.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=r.read_shift(16),c=r.read_shift(4),s===1&&c!==r.l)throw new Error("Length mismatch: "+c+" !== "+r.l);s===2&&(o=r.read_shift(16),f=r.read_shift(4));var g=uw(r,e),v={SystemIdentifier:d};for(var T in g)v[T]=g[T];if(v.FMTID=i,s===1)return v;if(f-r.l==2&&(r.l+=2),r.l!==f)throw new Error("Length mismatch 2: "+r.l+" !== "+f);var S;try{S=uw(r,null)}catch{}for(T in S)v[T]=S[T];return v.FMTID=[i,o],v}function so(t,e){return t.read_shift(e),null}function i8(t,e,n){for(var r=[],s=t.l+e;t.l<s;)r.push(n(t,s-t.l));if(s!==t.l)throw new Error("Slurp error");return r}function On(t,e){return t.read_shift(e)===1}function Wn(t){return t.read_shift(2,"u")}function SN(t,e){return i8(t,e,Wn)}function a8(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function xd(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else n.biff==12&&(s="wstr");n.biff>=2&&n.biff<=5&&(s="cpstr");var o=r?t.read_shift(r,s):"";return o}function o8(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,s=n&8,i=1+(n&1),o=0,c,f={};s&&(o=t.read_shift(2)),r&&(c=t.read_shift(4));var d=i==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,d);return s&&(t.l+=4*o),r&&(t.l+=c),f.t=h,s||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function wl(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function yd(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):wl(t,r,n)}function Pl(t,e,n){if(n.biff>5)return yd(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function l8(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function c8(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var s=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Jr,"");return r&&(t.l+=24),s}function u8(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=t.read_shift(4);if(s===0)return n+r.replace(/\\/g,"/");var i=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(i>>1,"utf16le").replace(Jr,"");return n+o}function f8(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return c8(t);case"0303000000000000c000000000000046":return u8(t);default:throw new Error("Unsupported Moniker "+n)}}function e0(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Jr,""):"";return n}function d8(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var s=t.read_shift(2);t.l+=2;var i,o,c,f,d="",h,g;s&16&&(i=e0(t,n-t.l)),s&128&&(o=e0(t,n-t.l)),(s&257)===257&&(c=e0(t,n-t.l)),(s&257)===1&&(f=f8(t,n-t.l)),s&8&&(d=e0(t,n-t.l)),s&32&&(h=t.read_shift(16)),s&64&&(g=E1(t)),t.l=n;var v=o||c||f||"";v&&d&&(v+="#"+d),v||(v="#"+d),s&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var T={Target:v};return h&&(T.guid=h),g&&(T.time=g),i&&(T.Tooltip=i),T}function AN(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),s=t.read_shift(1);return[e,n,r,s]}function CN(t,e){var n=AN(t);return n[3]=0,n}function Bi(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function h8(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function p8(t,e,n){return e===0?"":Pl(t,e,n)}function m8(t,e,n){var r=n.biff>8?4:2,s=t.read_shift(r),i=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[s,i,o]}function bN(t){var e=t.read_shift(2),n=y1(t);return[e,n]}function g8(t,e,n){t.l+=4,e-=4;var r=t.l+e,s=xd(t,e,n),i=t.read_shift(2);if(r-=t.l,i!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+i);return t.l+=i,s}function Dp(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:n}}}function NN(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),s=t.read_shift(1);return{s:{c:r,r:e},e:{c:s,r:n}}}var v8=NN;function IN(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function x8(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function y8(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Ir(t){t.l+=2,t.l+=t.read_shift(2)}var _8={0:Ir,4:Ir,5:Ir,6:Ir,7:y8,8:Ir,9:Ir,10:Ir,11:Ir,12:Ir,13:x8,14:Ir,15:Ir,16:Ir,17:Ir,18:Ir,19:Ir,20:Ir,21:IN};function E8(t,e){for(var n=t.l+e,r=[];t.l<n;){var s=t.read_shift(2);t.l-=2;try{r.push(_8[s](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function t0(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function T8(t,e){return e===0||t.read_shift(2),1200}function w8(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,s=Pl(t,0,n);return t.read_shift(e+r-t.l),s}function S8(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function A8(t,e,n){var r=t.read_shift(4),s=t.read_shift(1)&3,i=t.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var o=xd(t,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:s,dt:i,name:o}}function C8(t,e){for(var n=t.l+e,r=t.read_shift(4),s=t.read_shift(4),i=[],o=0;o!=s&&t.l<n;++o)i.push(o8(t));return i.Count=r,i.Unique=s,i}function b8(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function N8(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function I8(t){var e=h8(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function R8(t){return t.read_shift(2),t.read_shift(4)}function dw(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var s=t.read_shift(2);n&&n.biff==2&&(r=1-(s>>15),s&=32767);var i={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[i,s]}function k8(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,n],Dim:[r,s],Flags:i,CurTab:o,FirstTab:c,Selected:f,TabRatio:d}}function D8(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function M8(){}function P8(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=xd(t,0,n),r}function F8(t){var e=Bi(t);return e.isst=t.read_shift(4),e}function O8(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,s=Bi(t);n.biff==2&&t.l++;var i=yd(t,r-t.l,n);return s.val=i,s}function L8(t,e,n){var r=t.read_shift(2),s=Pl(t,0,n);return[r,s]}var U8=Pl;function hw(t,e,n){var r=t.l+e,s=n.biff==8||!n.biff?4:2,i=t.read_shift(s),o=t.read_shift(s),c=t.read_shift(2),f=t.read_shift(2);return t.l=r,{s:{r:i,c},e:{r:o,c:f}}}function V8(t){var e=t.read_shift(2),n=t.read_shift(2),r=bN(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function B8(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),i=[];t.l<n;)i.push(bN(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(i.length!=o-s+1)throw new Error("MulRK length mismatch");return{r,c:s,C:o,rkrec:i}}function z8(t,e){for(var n=t.l+e-2,r=t.read_shift(2),s=t.read_shift(2),i=[];t.l<n;)i.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(i.length!=o-s+1)throw new Error("MulBlank length mismatch");return{r,c:s,C:o,ixfe:i}}function H8(t,e,n,r){var s={},i=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(4),f=t.read_shift(2);return s.patternType=VL[c>>26],r.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=o&15,s.dgRight=o>>4&15,s.dgTop=o>>8&15,s.dgBottom=o>>12&15,s.icvLeft=o>>16&127,s.icvRight=o>>23&127,s.grbitDiag=o>>30&3,s.icvTop=c&127,s.icvBottom=c>>7&127,s.icvDiag=c>>14&127,s.dgDiag=c>>21&15,s.icvFore=f&127,s.icvBack=f>>7&127,s.fsxButton=f>>14&1),s}function G8(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=H8(t,e,r.fStyle,n),r}function j8(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function pw(t,e,n){var r=Bi(t);(n.biff==2||e==9)&&++t.l;var s=a8(t);return r.val=s,r.t=s===!0||s===!1?"b":"e",r}function q8(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Bi(t),s=Pr(t);return r.val=s,r}var mw=p8;function $8(t,e,n){var r=t.l+e,s=t.read_shift(2),i=t.read_shift(2);if(n.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var o=wl(t,i),c=[];r>t.l;)c.push(yd(t));return[i,s,o,c]}function gw(t,e,n){var r=t.read_shift(2),s,i={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(s=g8(t,e-2,n)),i.body=s||t.read_shift(e-2),typeof s=="string"&&(i.Name=s),i}var K8=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function vw(t,e,n){var r=t.l+e,s=t.read_shift(2),i=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(n&&n.biff==2?1:2),f=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),f=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var d=wl(t,o,n);s&32&&(d=K8[d.charCodeAt(0)]);var h=r-t.l;n&&n.biff==2&&--h;var g=r==t.l||c===0||!(h>0)?[]:N7(t,h,n,c);return{chKey:i,Name:d,itab:f,rgce:g}}function RN(t,e,n){if(n.biff<8)return Y8(t,e,n);for(var r=[],s=t.l+e,i=t.read_shift(n.biff>8?4:2);i--!==0;)r.push(m8(t,n.biff>8?12:6,n));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return r}function Y8(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=xd(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function J8(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),s=t.read_shift(2),i=wl(t,r,n),o=wl(t,s,n);return[i,o]}function W8(t,e,n){var r=NN(t);t.l++;var s=t.read_shift(1);return e-=8,[I7(t,e,n),s,r]}function xw(t,e,n){var r=v8(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,C7(t,e,n)]}function Z8(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function X8(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2),o=t.read_shift(2),c=Pl(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:s},c,o,i]}}function Q8(t,e,n){return X8(t,e,n)}function eU(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Dp(t));return n}function tU(t,e,n){if(n&&n.biff<8)return rU(t,e,n);var r=IN(t),s=E8(t,e-22,r[1]);return{cmo:r,ft:s}}var nU={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var s=t.read_shift(1);return t.l+=s,t.l=n,{fmt:r}}};function rU(t,e,n){t.l+=4;var r=t.read_shift(2),s=t.read_shift(2),i=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((nU[r]||Ur)(t,e,n)),{cmo:[s,r,i],ft:o}}function sU(t,e,n){var r=t.l,s="";try{t.l+=4;var i=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(i)==-1?t.l+=6:o=l8(t,6,n);var c=t.read_shift(2);t.read_shift(2),Wn(t,2);var f=t.read_shift(2);t.l+=f;for(var d=1;d<t.lens.length-1;++d){if(t.l-r!=t.lens[d])throw new Error("TxO: bad continue record");var h=t[t.l],g=wl(t,t.lens[d+1]-t.lens[d]-1);if(s+=g,s.length>=(h?c:2*c))break}if(s.length!==c&&s.length!==c*2)throw new Error("cchText: "+c+" != "+s.length);return t.l=r+e,{t:s}}catch{return t.l=r+e,{t:s}}}function iU(t,e){var n=Dp(t);t.l+=16;var r=d8(t,e-24);return[n,r]}function aU(t,e){t.read_shift(2);var n=Dp(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Jr,""),[n,r]}function oU(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=ow[n]||n,n=t.read_shift(2),e[1]=ow[n]||n,e}function lU(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(CN(t));return n}function cU(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(CN(t));return n}function uU(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function kN(t,e,n){if(!n.cellStyles)return Ur(t,e);var r=n&&n.biff>=12?4:2,s=t.read_shift(r),i=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var d={s,e:i,w:o,ixfe:c,flags:f};return(n.biff>=5||!n.biff)&&(d.level=f>>8&7),d}function fU(t,e){var n={};return e<32||(t.l+=16,n.header=Pr(t),n.footer=Pr(t),t.l+=2),n}function dU(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var s=t.read_shift(1);return t.l+=3,s&16&&(r.area=!0),r}var hU=Bi,pU=SN,mU=yd;function gU(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,s}function vU(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Bi(t);++t.l;var s=Pl(t,e-7,n);return r.t="str",r.val=s,r}function xU(t){var e=Bi(t);++t.l;var n=Pr(t);return e.t="n",e.val=n,e}function yU(t){var e=Bi(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function _U(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function EU(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function TU(t,e,n){var r=t.l+e,s=Bi(t),i=t.read_shift(2),o=wl(t,i,n);return t.l=r,s.t="str",s.val=o,s}var wU=[2,3,48,49,131,139,140,245],yw=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=u1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,f){var d=[],h=_o(1);switch(f.type){case"base64":h=ci(As(c));break;case"binary":h=ci(c);break;case"buffer":case"array":h=c;break}_r(h,0);var g=h.read_shift(1),v=!!(g&136),T=!1,S=!1;switch(g){case 2:break;case 3:break;case 48:T=!0,v=!0;break;case 49:T=!0,v=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var A=0,C=521;g==2&&(A=h.read_shift(2)),h.l+=3,g!=2&&(A=h.read_shift(4)),A>1048576&&(A=1e6),g!=2&&(C=h.read_shift(2));var k=h.read_shift(2),V=f.codepage||1252;g!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(V=t[h[h.l]]),h.l+=1,h.l+=2),S&&(h.l+=36);for(var D=[],H={},G=Math.min(h.length,g==2?521:C-10-(T?264:0)),J=S?32:11;h.l<G&&h[h.l]!=13;)switch(H={},H.name=Kf.utils.decode(V,h.slice(h.l,h.l+J)).replace(/[\u0000\r\n].*$/g,""),h.l+=J,H.type=String.fromCharCode(h.read_shift(1)),g!=2&&!S&&(H.offset=h.read_shift(4)),H.len=h.read_shift(1),g==2&&(H.offset=h.read_shift(2)),H.dec=h.read_shift(1),H.name.length&&D.push(H),g!=2&&(h.l+=S?13:14),H.type){case"B":(!T||H.len!=8)&&f.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+H.type)}if(h[h.l]!==13&&(h.l=C-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=C;var I=0,N=0;for(d[0]=[],N=0;N!=D.length;++N)d[0][N]=D[N].name;for(;A-- >0;){if(h[h.l]===42){h.l+=k;continue}for(++h.l,d[++I]=[],N=0,N=0;N!=D.length;++N){var b=h.slice(h.l,h.l+D[N].len);h.l+=D[N].len,_r(b,0);var F=Kf.utils.decode(V,b);switch(D[N].type){case"C":F.trim().length&&(d[I][N]=F.replace(/\s+$/,""));break;case"D":F.length===8?d[I][N]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):d[I][N]=F;break;case"F":d[I][N]=parseFloat(F.trim());break;case"+":case"I":d[I][N]=S?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":d[I][N]=!0;break;case"N":case"F":d[I][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));d[I][N]="##MEMO##"+(S?parseInt(F.trim(),10):b.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(d[I][N]=+F||0);break;case"@":d[I][N]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":d[I][N]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":d[I][N]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[I][N]=-b.read_shift(-8,"f");break;case"B":if(T&&D[N].len==8){d[I][N]=b.read_shift(8,"f");break}case"G":case"P":b.l+=D[N].len;break;case"0":if(D[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+D[N].type)}}}if(g!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),f.DBF=D,d}function r(c,f){var d=f||{};d.dateNF||(d.dateNF="yyyymmdd");var h=nu(n(c,d),d);return h["!cols"]=d.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete d.DBF,h}function s(c,f){try{return ko(r(c,f),f)}catch(d){if(f&&f.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,f){var d=f||{};if(+d.codepage>=0&&ui(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=Gv(),g=Xv(c,{header:1,raw:!0,cellDates:!0}),v=g[0],T=g.slice(1),S=c["!cols"]||[],A=0,C=0,k=0,V=1;for(A=0;A<v.length;++A){if(((S[A]||{}).DBF||{}).name){v[A]=S[A].DBF.name,++k;continue}if(v[A]!=null){if(++k,typeof v[A]=="number"&&(v[A]=v[A].toString(10)),typeof v[A]!="string")throw new Error("DBF Invalid column name "+v[A]+" |"+typeof v[A]+"|");if(v.indexOf(v[A])!==A){for(C=0;C<1024;++C)if(v.indexOf(v[A]+"_"+C)==-1){v[A]+="_"+C;break}}}}var D=kn(c["!ref"]),H=[],G=[],J=[];for(A=0;A<=D.e.c-D.s.c;++A){var I="",N="",b=0,F=[];for(C=0;C<T.length;++C)T[C][A]!=null&&F.push(T[C][A]);if(F.length==0||v[A]==null){H[A]="?";continue}for(C=0;C<F.length;++C){switch(typeof F[C]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=F[C]instanceof Date?"D":"C";break;default:N="C"}b=Math.max(b,String(F[C]).length),I=I&&I!=N?"C":N}b>250&&(b=250),N=((S[A]||{}).DBF||{}).type,N=="C"&&S[A].DBF.len>b&&(b=S[A].DBF.len),I=="B"&&N=="N"&&(I="N",J[A]=S[A].DBF.dec,b=S[A].DBF.len),G[A]=I=="C"||N=="N"?b:i[I]||0,V+=G[A],H[A]=I}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,T.length),O.write_shift(2,296+32*k),O.write_shift(2,V),A=0;A<4;++A)O.write_shift(4,0);for(O.write_shift(4,0|(+e[Rb]||3)<<8),A=0,C=0;A<v.length;++A)if(v[A]!=null){var M=h.next(32),B=(v[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,B,"sbcs"),M.write_shift(1,H[A]=="?"?"C":H[A],"sbcs"),M.write_shift(4,C),M.write_shift(1,G[A]||i[H[A]]||0),M.write_shift(1,J[A]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),C+=G[A]||i[H[A]]||0}var fe=h.next(264);for(fe.write_shift(4,13),A=0;A<65;++A)fe.write_shift(4,0);for(A=0;A<T.length;++A){var pe=h.next(V);for(pe.write_shift(1,0),C=0;C<v.length;++C)if(v[C]!=null)switch(H[C]){case"L":pe.write_shift(1,T[A][C]==null?63:T[A][C]?84:70);break;case"B":pe.write_shift(8,T[A][C]||0,"f");break;case"N":var ae="0";for(typeof T[A][C]=="number"&&(ae=T[A][C].toFixed(J[C]||0)),k=0;k<G[C]-ae.length;++k)pe.write_shift(1,32);pe.write_shift(1,ae,"sbcs");break;case"D":T[A][C]?(pe.write_shift(4,("0000"+T[A][C].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(T[A][C].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+T[A][C].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var ce=String(T[A][C]!=null?T[A][C]:"").slice(0,G[C]);for(pe.write_shift(1,ce,"sbcs"),k=0;k<G[C]-ce.length;++k)pe.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:r,from_sheet:o}})(),SU=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Oi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(v,T){var S=t[T];return typeof S=="number"?F2(S):S},r=function(v,T,S){var A=T.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return A==59?v:F2(A)};t["|"]=254;function s(v,T){switch(T.type){case"base64":return i(As(v),T);case"binary":return i(v,T);case"buffer":return i(Lt&&Buffer.isBuffer(v)?v.toString("binary"):Rl(v),T);case"array":return i(Tl(v),T)}throw new Error("Unrecognized type "+T.type)}function i(v,T){var S=v.split(/[\n\r]+/),A=-1,C=-1,k=0,V=0,D=[],H=[],G=null,J={},I=[],N=[],b=[],F=0,O;for(+T.codepage>=0&&ui(+T.codepage);k!==S.length;++k){F=0;var M=S[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),B=M.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),fe=B[0],pe;if(M.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&H.push(M.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,ce=!1,ee=!1,ie=!1,Re=-1,X=-1;for(V=1;V<B.length;++V)switch(B[V].charAt(0)){case"A":break;case"X":C=parseInt(B[V].slice(1))-1,ce=!0;break;case"Y":for(A=parseInt(B[V].slice(1))-1,ce||(C=0),O=D.length;O<=A;++O)D[O]=[];break;case"K":pe=B[V].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(hi(pe))?isNaN($c(pe).getDate())||(pe=cr(pe)):(pe=hi(pe),G!==null&&eu(G)&&(pe=kp(pe))),ae=!0;break;case"E":ie=!0;var z=Lc(B[V].slice(1),{r:A,c:C});D[A][C]=[D[A][C],z];break;case"S":ee=!0,D[A][C]=[D[A][C],"S5S"];break;case"G":break;case"R":Re=parseInt(B[V].slice(1))-1;break;case"C":X=parseInt(B[V].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+M)}if(ae&&(D[A][C]&&D[A][C].length==2?D[A][C][0]=pe:D[A][C]=pe,G=null),ee){if(ie)throw new Error("SYLK shared formula cannot have own formula");var Q=Re>-1&&D[Re][X];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");D[A][C][1]=zN(Q[1],{r:A-Re,c:C-X})}break;case"F":var ne=0;for(V=1;V<B.length;++V)switch(B[V].charAt(0)){case"X":C=parseInt(B[V].slice(1))-1,++ne;break;case"Y":for(A=parseInt(B[V].slice(1))-1,O=D.length;O<=A;++O)D[O]=[];break;case"M":F=parseInt(B[V].slice(1))/20;break;case"F":break;case"G":break;case"P":G=H[parseInt(B[V].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=B[V].slice(1).split(" "),O=parseInt(b[0],10);O<=parseInt(b[1],10);++O)F=parseInt(b[2],10),N[O-1]=F===0?{hidden:!0}:{wch:F},Kc(N[O-1]);break;case"C":C=parseInt(B[V].slice(1))-1,N[C]||(N[C]={});break;case"R":A=parseInt(B[V].slice(1))-1,I[A]||(I[A]={}),F>0?(I[A].hpt=F,I[A].hpx=Qf(F)):F===0&&(I[A].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+M)}ne<1&&(G=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+M)}}return I.length>0&&(J["!rows"]=I),N.length>0&&(J["!cols"]=N),T&&T.sheetRows&&(D=D.slice(0,T.sheetRows)),[D,J]}function o(v,T){var S=s(v,T),A=S[0],C=S[1],k=nu(A,T);return Oi(C).forEach(function(V){k[V]=C[V]}),k}function c(v,T){return ko(o(v,T),T)}function f(v,T,S,A){var C="C;Y"+(S+1)+";X"+(A+1)+";K";switch(v.t){case"n":C+=v.v||0,v.f&&!v.F&&(C+=";E"+uV(v.f,{r:S,c:A}));break;case"b":C+=v.v?"TRUE":"FALSE";break;case"e":C+=v.w||v.v;break;case"d":C+='"'+(v.w||v.v)+'"';break;case"s":C+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function d(v,T){T.forEach(function(S,A){var C="F;W"+(A+1)+" "+(A+1)+" ";S.hidden?C+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=ep(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=tp(S.wpx)),typeof S.wch=="number"&&(C+=Math.round(S.wch))),C.charAt(C.length-1)!=" "&&v.push(C)})}function h(v,T){T.forEach(function(S,A){var C="F;";S.hidden?C+="M0;":S.hpt?C+="M"+20*S.hpt+";":S.hpx&&(C+="M"+20*UN(S.hpx)+";"),C.length>2&&v.push(C+"R"+(A+1))})}function g(v,T){var S=["ID;PWXL;N;E"],A=[],C=kn(v["!ref"]),k,V=Array.isArray(v),D=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),v["!cols"]&&d(S,v["!cols"]),v["!rows"]&&h(S,v["!rows"]),S.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var H=C.s.r;H<=C.e.r;++H)for(var G=C.s.c;G<=C.e.c;++G){var J=xt({r:H,c:G});k=V?(v[H]||[])[G]:v[J],!(!k||k.v==null&&(!k.f||k.F))&&A.push(f(k,v,H,G))}return S.join(D)+D+A.join(D)+D+"E"+D}return{to_workbook:c,to_sheet:o,from_sheet:g}})(),AU=(function(){function t(i,o){switch(o.type){case"base64":return e(As(i),o);case"binary":return e(i,o);case"buffer":return e(Lt&&Buffer.isBuffer(i)?i.toString("binary"):Rl(i),o);case"array":return e(Tl(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var c=i.split(`
`),f=-1,d=-1,h=0,g=[];h!==c.length;++h){if(c[h].trim()==="BOT"){g[++f]=[],d=0;continue}if(!(f<0)){var v=c[h].trim().split(","),T=v[0],S=v[1];++h;for(var A=c[h]||"";(A.match(/["]/g)||[]).length&1&&h<c.length-1;)A+=`
`+c[++h];switch(A=A.trim(),+T){case-1:if(A==="BOT"){g[++f]=[],d=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?g[f][d]=!0:A==="FALSE"?g[f][d]=!1:isNaN(hi(S))?isNaN($c(S).getDate())?g[f][d]=S:g[f][d]=cr(S):g[f][d]=hi(S),++d;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),g[f][d++]=A!==""?A:null;break}if(A==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(i,o){return nu(t(i,o),o)}function r(i,o){return ko(n(i,o),o)}var s=(function(){var i=function(f,d,h,g,v){f.push(d),f.push(h+","+g),f.push('"'+v.replace(/"/g,'""')+'"')},o=function(f,d,h,g){f.push(d+","+h),f.push(d==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(f){var d=[],h=kn(f["!ref"]),g,v=Array.isArray(f);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,h.e.r-h.s.r+1,""),i(d,"TUPLES",0,h.e.c-h.s.c+1,""),i(d,"DATA",0,0,"");for(var T=h.s.r;T<=h.e.r;++T){o(d,-1,0,"BOT");for(var S=h.s.c;S<=h.e.c;++S){var A=xt({r:T,c:S});if(g=v?(f[T]||[])[S]:f[A],!g){o(d,1,0,"");continue}switch(g.t){case"n":var C=g.w;!C&&g.v!=null&&(C=g.v),C==null?g.f&&!g.F?o(d,1,0,"="+g.f):o(d,1,0,""):o(d,0,C,"V");break;case"b":o(d,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=qs(g.z||Tt[14],Wr(cr(g.v)))),o(d,0,g.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var k=`\r
`,V=d.join(k);return V}})();return{to_workbook:r,to_sheet:n,from_sheet:s}})(),CU=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,v){for(var T=g.split(`
`),S=-1,A=-1,C=0,k=[];C!==T.length;++C){var V=T[C].trim().split(":");if(V[0]==="cell"){var D=Yr(V[1]);if(k.length<=D.r)for(S=k.length;S<=D.r;++S)k[S]||(k[S]=[]);switch(S=D.r,A=D.c,V[2]){case"t":k[S][A]=t(V[3]);break;case"v":k[S][A]=+V[3];break;case"vtf":var H=V[V.length-1];case"vtc":V[3]==="nl"?k[S][A]=!!+V[4]:k[S][A]=+V[4],V[2]=="vtf"&&(k[S][A]=[k[S][A],H])}}}return v&&v.sheetRows&&(k=k.slice(0,v.sheetRows)),k}function r(g,v){return nu(n(g,v),v)}function s(g,v){return ko(r(g,v),v)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function d(g){if(!g||!g["!ref"])return"";for(var v=[],T=[],S,A="",C=tu(g["!ref"]),k=Array.isArray(g),V=C.s.r;V<=C.e.r;++V)for(var D=C.s.c;D<=C.e.c;++D)if(A=xt({r:V,c:D}),S=k?(g[V]||[])[D]:g[A],!(!S||S.v==null||S.t==="z")){switch(T=["cell",A,"t"],S.t){case"s":case"str":T.push(e(S.v));break;case"n":S.f?(T[2]="vtf",T[3]="n",T[4]=S.v,T[5]=e(S.f)):(T[2]="v",T[3]=S.v);break;case"b":T[2]="vt"+(S.f?"f":"c"),T[3]="nl",T[4]=S.v?"1":"0",T[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var H=Wr(cr(S.v));T[2]="vtc",T[3]="nd",T[4]=""+H,T[5]=S.w||qs(S.z||Tt[14],H);break;case"e":continue}v.push(T.join(":"))}return v.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function h(g){return[i,o,c,o,d(g),f].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:h}})(),Zf=(function(){function t(h,g,v,T,S){S.raw?g[v][T]=h:h===""||(h==="TRUE"?g[v][T]=!0:h==="FALSE"?g[v][T]=!1:isNaN(hi(h))?isNaN($c(h).getDate())?g[v][T]=h:g[v][T]=cr(h):g[v][T]=hi(h))}function e(h,g){var v=g||{},T=[];if(!h||h.length===0)return T;for(var S=h.split(/[\r\n]/),A=S.length-1;A>=0&&S[A].length===0;)--A;for(var C=10,k=0,V=0;V<=A;++V)k=S[V].indexOf(" "),k==-1?k=S[V].length:k++,C=Math.max(C,k);for(V=0;V<=A;++V){T[V]=[];var D=0;for(t(S[V].slice(0,C).trim(),T,V,D,v),D=1;D<=(S[V].length-C)/10+1;++D)t(S[V].slice(C+(D-1)*10,C+D*10).trim(),T,V,D,v)}return v.sheetRows&&(T=T.slice(0,v.sheetRows)),T}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(h){for(var g={},v=!1,T=0,S=0;T<h.length;++T)(S=h.charCodeAt(T))==34?v=!v:!v&&S in n&&(g[S]=(g[S]||0)+1);S=[];for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&S.push([g[T],T]);if(!S.length){g=r;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&S.push([g[T],T])}return S.sort(function(A,C){return A[0]-C[0]||r[A[1]]-r[C[1]]}),n[S.pop()[1]]||44}function i(h,g){var v=g||{},T="",S=v.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(T=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(T=h.charAt(4),h=h.slice(6)):T=s(h.slice(0,1024)):v&&v.FS?T=v.FS:T=s(h.slice(0,1024));var C=0,k=0,V=0,D=0,H=0,G=T.charCodeAt(0),J=!1,I=0,N=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var b=v.dateNF!=null?LO(v.dateNF):null;function F(){var O=h.slice(D,H),M={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)M.t="z";else if(v.raw)M.t="s",M.v=O;else if(O.trim().length===0)M.t="s",M.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(M.t="s",M.v=O.slice(2,-1).replace(/""/g,'"')):dV(O)?(M.t="n",M.f=O.slice(1)):(M.t="s",M.v=O);else if(O=="TRUE")M.t="b",M.v=!0;else if(O=="FALSE")M.t="b",M.v=!1;else if(!isNaN(V=hi(O)))M.t="n",v.cellText!==!1&&(M.w=O),M.v=V;else if(!isNaN($c(O).getDate())||b&&O.match(b)){M.z=v.dateNF||Tt[14];var B=0;b&&O.match(b)&&(O=UO(O,v.dateNF,O.match(b)||[]),B=1),v.cellDates?(M.t="d",M.v=cr(O,B)):(M.t="n",M.v=Wr(cr(O,B))),v.cellText!==!1&&(M.w=qs(M.z,M.v instanceof Date?Wr(M.v):M.v)),v.cellNF||delete M.z}else M.t="s",M.v=O;if(M.t=="z"||(v.dense?(S[C]||(S[C]=[]),S[C][k]=M):S[xt({c:k,r:C})]=M),D=H+1,N=h.charCodeAt(D),A.e.c<k&&(A.e.c=k),A.e.r<C&&(A.e.r=C),I==G)++k;else if(k=0,++C,v.sheetRows&&v.sheetRows<=C)return!0}e:for(;H<h.length;++H)switch(I=h.charCodeAt(H)){case 34:N===34&&(J=!J);break;case G:case 10:case 13:if(!J&&F())break e;break}return H-D>0&&F(),S["!ref"]=zt(A),S}function o(h,g){return!(g&&g.PRN)||g.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,g):nu(e(h,g),g)}function c(h,g){var v="",T=g.type=="string"?[0,0,0,0]:I1(h,g);switch(g.type){case"base64":v=As(h);break;case"binary":v=h;break;case"buffer":g.codepage==65001?v=h.toString("utf8"):g.codepage&&typeof Kf<"u"||(v=Lt&&Buffer.isBuffer(h)?h.toString("binary"):Rl(h));break;case"array":v=Tl(h);break;case"string":v=h;break;default:throw new Error("Unrecognized type "+g.type)}return T[0]==239&&T[1]==187&&T[2]==191?v=hn(v.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?v=hn(v):g.type=="binary"&&typeof Kf<"u",v.slice(0,19)=="socialcalc:version:"?CU.to_sheet(g.type=="string"?v:hn(v),g):o(v,g)}function f(h,g){return ko(c(h,g),g)}function d(h){for(var g=[],v=kn(h["!ref"]),T,S=Array.isArray(h),A=v.s.r;A<=v.e.r;++A){for(var C=[],k=v.s.c;k<=v.e.c;++k){var V=xt({r:A,c:k});if(T=S?(h[A]||[])[k]:h[V],!T||T.v==null){C.push("          ");continue}for(var D=(T.w||(ga(T),T.w)||"").slice(0,10);D.length<10;)D+=" ";C.push(D+(k===0?" ":""))}g.push(C.join(""))}return g.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:d}})();function bU(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var s=SU.to_workbook(t,n);return n.WTF=r,s}catch(i){if(n.WTF=r,!i.message.match(/SYLK bad record ID/)&&r)throw i;return Zf.to_workbook(t,e)}}var Df=(function(){function t(z,Q,ne){if(z){_r(z,z.l||0);for(var te=ne.Enum||Re;z.l<z.length;){var de=z.read_shift(2),ve=te[de]||te[65535],Ne=z.read_shift(2),be=z.l+Ne,De=ve.f&&ve.f(z,Ne,ne);if(z.l=be,Q(De,ve,de))return}}}function e(z,Q){switch(Q.type){case"base64":return n(ci(As(z)),Q);case"binary":return n(ci(z),Q);case"buffer":case"array":return n(z,Q)}throw"Unsupported type "+Q.type}function n(z,Q){if(!z)return z;var ne=Q||{},te=ne.dense?[]:{},de="Sheet1",ve="",Ne=0,be={},De=[],je=[],se={s:{r:0,c:0},e:{r:0,c:0}},ft=ne.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)ne.Enum=Re,t(z,function(Be,tt,nt){switch(nt){case 0:ne.vers=Be,Be>=4096&&(ne.qpro=!0);break;case 6:se=Be;break;case 204:Be&&(ve=Be);break;case 222:ve=Be;break;case 15:case 51:ne.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:nt==14&&(Be[2]&112)==112&&(Be[2]&15)>1&&(Be[2]&15)<15&&(Be[1].z=ne.dateNF||Tt[14],ne.cellDates&&(Be[1].t="d",Be[1].v=kp(Be[1].v))),ne.qpro&&Be[3]>Ne&&(te["!ref"]=zt(se),be[de]=te,De.push(de),te=ne.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},Ne=Be[3],de=ve||"Sheet"+(Ne+1),ve="");var ct=ne.dense?(te[Be[0].r]||[])[Be[0].c]:te[xt(Be[0])];if(ct){ct.t=Be[1].t,ct.v=Be[1].v,Be[1].z!=null&&(ct.z=Be[1].z),Be[1].f!=null&&(ct.f=Be[1].f);break}ne.dense?(te[Be[0].r]||(te[Be[0].r]=[]),te[Be[0].r][Be[0].c]=Be[1]):te[xt(Be[0])]=Be[1];break}},ne);else if(z[2]==26||z[2]==14)ne.Enum=X,z[2]==14&&(ne.qpro=!0,z.l=0),t(z,function(Be,tt,nt){switch(nt){case 204:de=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>Ne&&(te["!ref"]=zt(se),be[de]=te,De.push(de),te=ne.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},Ne=Be[3],de="Sheet"+(Ne+1)),ft>0&&Be[0].r>=ft)break;ne.dense?(te[Be[0].r]||(te[Be[0].r]=[]),te[Be[0].r][Be[0].c]=Be[1]):te[xt(Be[0])]=Be[1],se.e.c<Be[0].c&&(se.e.c=Be[0].c),se.e.r<Be[0].r&&(se.e.r=Be[0].r);break;case 27:Be[14e3]&&(je[Be[14e3][0]]=Be[14e3][1]);break;case 1537:je[Be[0]]=Be[1],Be[0]==Ne&&(de=Be[1]);break}},ne);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(te["!ref"]=zt(se),be[ve||de]=te,De.push(ve||de),!je.length)return{SheetNames:De,Sheets:be};for(var We={},qe=[],Ge=0;Ge<je.length;++Ge)be[De[Ge]]?(qe.push(je[Ge]||De[Ge]),We[je[Ge]]=be[je[Ge]]||be[De[Ge]]):(qe.push(je[Ge]),We[je[Ge]]={"!ref":"A1"});return{SheetNames:qe,Sheets:We}}function r(z,Q){var ne=Q||{};if(+ne.codepage>=0&&ui(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK1 to JS string");var te=Gv(),de=kn(z["!ref"]),ve=Array.isArray(z),Ne=[];li(te,0,i(1030)),li(te,6,f(de));for(var be=Math.min(de.e.r,8191),De=de.s.r;De<=be;++De)for(var je=wr(De),se=de.s.c;se<=de.e.c;++se){De===de.s.r&&(Ne[se]=tr(se));var ft=Ne[se]+je,We=ve?(z[De]||[])[se]:z[ft];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?li(te,13,T(De,se,We.v)):li(te,14,A(De,se,We.v));else{var qe=ga(We);li(te,15,g(De,se,qe.slice(0,239)))}}return li(te,1),te.end()}function s(z,Q){var ne=Q||{};if(+ne.codepage>=0&&ui(+ne.codepage),ne.type=="string")throw new Error("Cannot write WK3 to JS string");var te=Gv();li(te,0,o(z));for(var de=0,ve=0;de<z.SheetNames.length;++de)(z.Sheets[z.SheetNames[de]]||{})["!ref"]&&li(te,27,ie(z.SheetNames[de],ve++));var Ne=0;for(de=0;de<z.SheetNames.length;++de){var be=z.Sheets[z.SheetNames[de]];if(!(!be||!be["!ref"])){for(var De=kn(be["!ref"]),je=Array.isArray(be),se=[],ft=Math.min(De.e.r,8191),We=De.s.r;We<=ft;++We)for(var qe=wr(We),Ge=De.s.c;Ge<=De.e.c;++Ge){We===De.s.r&&(se[Ge]=tr(Ge));var Be=se[Ge]+qe,tt=je?(be[We]||[])[Ge]:be[Be];if(!(!tt||tt.t=="z"))if(tt.t=="n")li(te,23,F(We,Ge,Ne,tt.v));else{var nt=ga(tt);li(te,22,I(We,Ge,Ne,nt.slice(0,239)))}}++Ne}}return li(te,1),te.end()}function i(z){var Q=Qn(2);return Q.write_shift(2,z),Q}function o(z){var Q=Qn(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var ne=0,te=0,de=0,ve=0;ve<z.SheetNames.length;++ve){var Ne=z.SheetNames[ve],be=z.Sheets[Ne];if(!(!be||!be["!ref"])){++de;var De=tu(be["!ref"]);ne<De.e.r&&(ne=De.e.r),te<De.e.c&&(te=De.e.c)}}return ne>8191&&(ne=8191),Q.write_shift(2,ne),Q.write_shift(1,de),Q.write_shift(1,te),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function c(z,Q,ne){var te={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&ne.qpro?(te.s.c=z.read_shift(1),z.l++,te.s.r=z.read_shift(2),te.e.c=z.read_shift(1),z.l++,te.e.r=z.read_shift(2),te):(te.s.c=z.read_shift(2),te.s.r=z.read_shift(2),Q==12&&ne.qpro&&(z.l+=2),te.e.c=z.read_shift(2),te.e.r=z.read_shift(2),Q==12&&ne.qpro&&(z.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function f(z){var Q=Qn(8);return Q.write_shift(2,z.s.c),Q.write_shift(2,z.s.r),Q.write_shift(2,z.e.c),Q.write_shift(2,z.e.r),Q}function d(z,Q,ne){var te=[{c:0,r:0},{t:"n",v:0},0,0];return ne.qpro&&ne.vers!=20768?(te[0].c=z.read_shift(1),te[3]=z.read_shift(1),te[0].r=z.read_shift(2),z.l+=2):(te[2]=z.read_shift(1),te[0].c=z.read_shift(2),te[0].r=z.read_shift(2)),te}function h(z,Q,ne){var te=z.l+Q,de=d(z,Q,ne);if(de[1].t="s",ne.vers==20768){z.l++;var ve=z.read_shift(1);return de[1].v=z.read_shift(ve,"utf8"),de}return ne.qpro&&z.l++,de[1].v=z.read_shift(te-z.l,"cstr"),de}function g(z,Q,ne){var te=Qn(7+ne.length);te.write_shift(1,255),te.write_shift(2,Q),te.write_shift(2,z),te.write_shift(1,39);for(var de=0;de<te.length;++de){var ve=ne.charCodeAt(de);te.write_shift(1,ve>=128?95:ve)}return te.write_shift(1,0),te}function v(z,Q,ne){var te=d(z,Q,ne);return te[1].v=z.read_shift(2,"i"),te}function T(z,Q,ne){var te=Qn(7);return te.write_shift(1,255),te.write_shift(2,Q),te.write_shift(2,z),te.write_shift(2,ne,"i"),te}function S(z,Q,ne){var te=d(z,Q,ne);return te[1].v=z.read_shift(8,"f"),te}function A(z,Q,ne){var te=Qn(13);return te.write_shift(1,255),te.write_shift(2,Q),te.write_shift(2,z),te.write_shift(8,ne,"f"),te}function C(z,Q,ne){var te=z.l+Q,de=d(z,Q,ne);if(de[1].v=z.read_shift(8,"f"),ne.qpro)z.l=te;else{var ve=z.read_shift(2);H(z.slice(z.l,z.l+ve),de),z.l+=ve}return de}function k(z,Q,ne){var te=Q&32768;return Q&=-32769,Q=(te?z:0)+(Q>=8192?Q-16384:Q),(te?"":"$")+(ne?tr(Q):wr(Q))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},D=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function H(z,Q){_r(z,0);for(var ne=[],te=0,de="",ve="",Ne="",be="";z.l<z.length;){var De=z[z.l++];switch(De){case 0:ne.push(z.read_shift(8,"f"));break;case 1:ve=k(Q[0].c,z.read_shift(2),!0),de=k(Q[0].r,z.read_shift(2),!1),ne.push(ve+de);break;case 2:{var je=k(Q[0].c,z.read_shift(2),!0),se=k(Q[0].r,z.read_shift(2),!1);ve=k(Q[0].c,z.read_shift(2),!0),de=k(Q[0].r,z.read_shift(2),!1),ne.push(je+se+":"+ve+de)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:ne.push("("+ne.pop()+")");break;case 5:ne.push(z.read_shift(2));break;case 6:{for(var ft="";De=z[z.l++];)ft+=String.fromCharCode(De);ne.push('"'+ft.replace(/"/g,'""')+'"')}break;case 8:ne.push("-"+ne.pop());break;case 23:ne.push("+"+ne.pop());break;case 22:ne.push("NOT("+ne.pop()+")");break;case 20:case 21:be=ne.pop(),Ne=ne.pop(),ne.push(["AND","OR"][De-20]+"("+Ne+","+be+")");break;default:if(De<32&&D[De])be=ne.pop(),Ne=ne.pop(),ne.push(Ne+D[De]+be);else if(V[De]){if(te=V[De][1],te==69&&(te=z[z.l++]),te>ne.length){console.error("WK1 bad formula parse 0x"+De.toString(16)+":|"+ne.join("|")+"|");return}var We=ne.slice(-te);ne.length-=te,ne.push(V[De][0]+"("+We.join(",")+")")}else return De<=7?console.error("WK1 invalid opcode "+De.toString(16)):De<=24?console.error("WK1 unsupported op "+De.toString(16)):De<=30?console.error("WK1 invalid opcode "+De.toString(16)):De<=115?console.error("WK1 unsupported function opcode "+De.toString(16)):console.error("WK1 unrecognized opcode "+De.toString(16))}}ne.length==1?Q[1].f=""+ne[0]:console.error("WK1 bad formula parse |"+ne.join("|")+"|")}function G(z){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=z.read_shift(2),Q[3]=z[z.l++],Q[0].c=z[z.l++],Q}function J(z,Q){var ne=G(z);return ne[1].t="s",ne[1].v=z.read_shift(Q-4,"cstr"),ne}function I(z,Q,ne,te){var de=Qn(6+te.length);de.write_shift(2,z),de.write_shift(1,ne),de.write_shift(1,Q),de.write_shift(1,39);for(var ve=0;ve<te.length;++ve){var Ne=te.charCodeAt(ve);de.write_shift(1,Ne>=128?95:Ne)}return de.write_shift(1,0),de}function N(z,Q){var ne=G(z);ne[1].v=z.read_shift(2);var te=ne[1].v>>1;if(ne[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return ne[1].v=te,ne}function b(z,Q){var ne=G(z),te=z.read_shift(4),de=z.read_shift(4),ve=z.read_shift(2);if(ve==65535)return te===0&&de===3221225472?(ne[1].t="e",ne[1].v=15):te===0&&de===3489660928?(ne[1].t="e",ne[1].v=42):ne[1].v=0,ne;var Ne=ve&32768;return ve=(ve&32767)-16446,ne[1].v=(1-Ne*2)*(de*Math.pow(2,ve+32)+te*Math.pow(2,ve)),ne}function F(z,Q,ne,te){var de=Qn(14);if(de.write_shift(2,z),de.write_shift(1,ne),de.write_shift(1,Q),te==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var ve=0,Ne=0,be=0,De=0;return te<0&&(ve=1,te=-te),Ne=Math.log2(te)|0,te/=Math.pow(2,Ne-31),De=te>>>0,(De&2147483648)==0&&(te/=2,++Ne,De=te>>>0),te-=De,De|=2147483648,De>>>=0,te*=Math.pow(2,32),be=te>>>0,de.write_shift(4,be),de.write_shift(4,De),Ne+=16383+(ve?32768:0),de.write_shift(2,Ne),de}function O(z,Q){var ne=b(z);return z.l+=Q-14,ne}function M(z,Q){var ne=G(z),te=z.read_shift(4);return ne[1].v=te>>6,ne}function B(z,Q){var ne=G(z),te=z.read_shift(8,"f");return ne[1].v=te,ne}function fe(z,Q){var ne=B(z);return z.l+=Q-10,ne}function pe(z,Q){return z[z.l+Q-1]==0?z.read_shift(Q,"cstr"):""}function ae(z,Q){var ne=z[z.l++];ne>Q-1&&(ne=Q-1);for(var te="";te.length<ne;)te+=String.fromCharCode(z[z.l++]);return te}function ce(z,Q,ne){if(!(!ne.qpro||Q<21)){var te=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var de=z.read_shift(Q-21,"cstr");return[te,de]}}function ee(z,Q){for(var ne={},te=z.l+Q;z.l<te;){var de=z.read_shift(2);if(de==14e3){for(ne[de]=[0,""],ne[de][0]=z.read_shift(2);z[z.l];)ne[de][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return ne}function ie(z,Q){var ne=Qn(5+z.length);ne.write_shift(2,14e3),ne.write_shift(2,Q);for(var te=0;te<z.length;++te){var de=z.charCodeAt(te);ne[ne.l++]=de>127?95:de}return ne[ne.l++]=0,ne}var Re={0:{n:"BOF",f:Wn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:J},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ce},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}})();function NU(t){var e={},n=t.match(Vr),r=0,s=!1;if(n)for(;r!=n.length;++r){var i=ht(n[r]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;e.cp=i1[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=i.val;break;case"<sz":e.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":i.rgb&&(e.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return e}var IU=(function(){var t=Jf("t"),e=Jf("rPr");function n(i){var o=i.match(t);if(!o)return{t:"s",v:""};var c={t:"s",v:Ht(o[1])},f=i.match(e);return f&&(c.s=NU(f[1])),c}var r=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(s).map(n).filter(function(c){return c.v})}})(),RU=(function(){var e=/(\r\n|\n)/g;function n(s,i,o){var c=[];s.u&&c.push("text-decoration: underline;"),s.uval&&c.push("text-underline-style:"+s.uval+";"),s.sz&&c.push("font-size:"+s.sz+"pt;"),s.outline&&c.push("text-effect: outline;"),s.shadow&&c.push("text-shadow: auto;"),i.push('<span style="'+c.join("")+'">'),s.b&&(i.push("<b>"),o.push("</b>")),s.i&&(i.push("<i>"),o.push("</i>")),s.strike&&(i.push("<s>"),o.push("</s>"));var f=s.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(i.push("<"+f+">"),o.push("</"+f+">")),o.push("</span>"),s}function r(s){var i=[[],s.v,[]];return s.v?(s.s&&n(s.s,i[0],i[2]),i[0].join("")+i[1].replace(e,"<br/>")+i[2].join("")):""}return function(i){return i.map(r).join("")}})(),kU=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,DU=/<(?:\w+:)?r>/,MU=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function T1(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Ht(hn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=hn(t),n&&(r.h=d1(r.t))):t.match(DU)&&(r.r=hn(t),r.t=Ht(hn((t.replace(MU,"").match(kU)||[]).join("").replace(Vr,""))),n&&(r.h=RU(IU(r.r)))),r):{t:""}}var PU=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,FU=/<(?:\w+:)?(?:si|sstItem)>/g,OU=/<\/(?:\w+:)?(?:si|sstItem)>/;function LU(t,e){var n=[],r="";if(!t)return n;var s=t.match(PU);if(s){r=s[2].replace(FU,"").split(OU);for(var i=0;i!=r.length;++i){var o=T1(r[i].trim(),e);o!=null&&(n[n.length]=o)}s=ht(s[1]),n.Count=s.count,n.Unique=s.uniqueCount}return n}function UU(t){return[t.read_shift(4),t.read_shift(4)]}function VU(t,e){var n=[],r=!1;return Ea(t,function(i,o,c){switch(c){case 159:n.Count=i[0],n.Unique=i[1];break;case 19:n.push(i);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function DN(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function fa(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function BU(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=fa(t,4),e.U=fa(t,4),e.W=fa(t,4),e}function zU(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},s=t.read_shift(4),i=[];s-- >0;)i.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=i,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function HU(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(zU(t));return e}function GU(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function jU(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=fa(t,4),e.U=fa(t,4),e.W=fa(t,4),e}function qU(t){var e=jU(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function MN(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var s=!1;switch(r.AlgID){case 26126:case 26127:case 26128:s=r.Flags==36;break;case 26625:s=r.Flags==4;break;case 0:s=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function PN(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function $U(t){var e=fa(t);switch(e.Minor){case 2:return[e.Minor,KU(t)];case 3:return[e.Minor,YU()];case 4:return[e.Minor,JU(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function KU(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=MN(t,n),s=PN(t,t.length-t.l);return{t:"Std",h:r,v:s}}function YU(){throw new Error("File is password-protected: ECMA-376 Extensible")}function JU(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Vr,function(i){var o=ht(i);switch(Vi(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){r[c]=o[c]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function WU(t,e){var n={},r=n.EncryptionVersionInfo=fa(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var s=t.read_shift(4);return e-=4,n.EncryptionHeader=MN(t,s),e-=s,n.EncryptionVerifier=PN(t,e),n}function ZU(t){var e={},n=e.EncryptionVersionInfo=fa(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function XU(t){var e=0,n,r=DN(t),s=r.length+1,i,o,c,f,d;for(n=_o(s),n[0]=r.length,i=1;i!=s;++i)n[i]=r[i-1];for(i=s-1;i>=0;--i)o=n[i],c=(e&16384)===0?0:1,f=e<<1&32767,d=c|f,e=d^o;return e^52811}var FN=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},s=function(o,c){return r(o^c)},i=function(o){for(var c=e[o.length-1],f=104,d=o.length-1;d>=0;--d)for(var h=o[d],g=0;g!=7;++g)h&64&&(c^=n[f]),h*=2,--f;return c};return function(o){for(var c=DN(o),f=i(c),d=c.length,h=_o(16),g=0;g!=16;++g)h[g]=0;var v,T,S;for((d&1)===1&&(v=f>>8,h[d]=s(t[0],v),--d,v=f&255,T=c[c.length-1],h[d]=s(T,v));d>0;)--d,v=f>>8,h[d]=s(c[d],v),--d,v=f&255,h[d]=s(c[d],v);for(d=15,S=15-c.length;S>0;)v=f>>8,h[d]=s(t[S],v),--d,--S,v=f&255,h[d]=s(c[d],v),--d,--S;return h}})(),QU=function(t,e,n,r,s){s||(s=e),r||(r=FN(t));var i,o;for(i=0;i!=e.length;++i)o=e[i],o^=r[n],o=(o>>5|o<<3)&255,s[i]=o,++n;return[s,n,r]},e9=function(t){var e=0,n=FN(t);return function(r){var s=QU("",r,e,n);return e=s[1],s[0]}};function t9(t,e,n,r){var s={key:Wn(t),verificationBytes:Wn(t)};return n.password&&(s.verifier=XU(n.password)),r.valid=s.verificationBytes===s.verifier,r.valid&&(r.insitu=e9(n.password)),s}function n9(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=ZU(t):r.Data=WU(t,e),r}function r9(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?n9(t,e-2,r):t9(t,n.biff>=8?e:e-2,n,r),r}var s9=(function(){function t(s,i){switch(i.type){case"base64":return e(As(s),i);case"binary":return e(s,i);case"buffer":return e(Lt&&Buffer.isBuffer(s)?s.toString("binary"):Rl(s),i);case"array":return e(Tl(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},c=o.dense?[]:{},f=s.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(h,g){Array.isArray(c)&&(c[g]=[]);for(var v=/\\\w+\b/g,T=0,S,A=-1;S=v.exec(h);){switch(S[0]){case"\\cell":var C=h.slice(T,v.lastIndex-S[0].length);if(C[0]==" "&&(C=C.slice(1)),++A,C.length){var k={v:C,t:"s"};Array.isArray(c)?c[g][A]=k:c[xt({r:g,c:A})]=k}break}T=v.lastIndex}A>d.e.c&&(d.e.c=A)}),c["!ref"]=zt(d),c}function n(s,i){return ko(t(s,i),i)}function r(s){for(var i=["{\\rtf1\\ansi"],o=kn(s["!ref"]),c,f=Array.isArray(s),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var g=xt({r:d,c:h});c=f?(s[d]||[])[h]:s[g],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(ga(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function i9(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Xf(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function a9(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.max(e,n,r),i=Math.min(e,n,r),o=s-i;if(o===0)return[0,0,e];var c=0,f=0,d=s+i;switch(f=o/(d>1?2-d:d),s){case e:c=((n-r)/o+6)%6;break;case n:c=(r-e)/o+2;break;case r:c=(e-n)/o+4;break}return[c/6,f,d/2]}function o9(t){var e=t[0],n=t[1],r=t[2],s=n*2*(r<.5?r:1-r),i=r-s/2,o=[i,i,i],c=6*e,f;if(n!==0)switch(c|0){case 0:case 6:f=s*c,o[0]+=s,o[1]+=f;break;case 1:f=s*(2-c),o[0]+=f,o[1]+=s;break;case 2:f=s*(c-2),o[1]+=s,o[2]+=f;break;case 3:f=s*(4-c),o[1]+=f,o[2]+=s;break;case 4:f=s*(c-4),o[2]+=s,o[0]+=f;break;case 5:f=s*(6-c),o[2]+=f,o[0]+=s;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function Q0(t,e){if(e===0)return t;var n=a9(i9(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Xf(o9(n))}var ON=6,l9=15,c9=1,Kr=ON;function ep(t){return Math.floor((t+Math.round(128/Kr)/256)*Kr)}function tp(t){return Math.floor((t-5)/Kr*100+.5)/100}function Kv(t){return Math.round((t*Kr+5)/Kr*256)/256}function cv(t){return Kv(tp(ep(t)))}function w1(t){var e=Math.abs(t-cv(t)),n=Kr;if(e>.005)for(Kr=c9;Kr<l9;++Kr)Math.abs(t-cv(t))<=e&&(e=Math.abs(t-cv(t)),n=Kr);Kr=n}function Kc(t){t.width?(t.wpx=ep(t.width),t.wch=tp(t.wpx),t.MDW=Kr):t.wpx?(t.wch=tp(t.wpx),t.width=Kv(t.wch),t.MDW=Kr):typeof t.wch=="number"&&(t.width=Kv(t.wch),t.wpx=ep(t.width),t.MDW=Kr),t.customWidth&&delete t.customWidth}var u9=96,LN=u9;function UN(t){return t*96/LN}function Qf(t){return t*LN/96}var f9={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function d9(t,e,n,r){e.Borders=[];var s={},i=!1;(t[0].match(Vr)||[]).forEach(function(o){var c=ht(o);switch(Vi(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},c.diagonalUp&&(s.diagonalUp=En(c.diagonalUp)),c.diagonalDown&&(s.diagonalDown=En(c.diagonalDown)),e.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+c[0]+" in borders")}})}function h9(t,e,n,r){e.Fills=[];var s={},i=!1;(t[0].match(Vr)||[]).forEach(function(o){var c=ht(o);switch(Vi(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},e.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":c.patternType&&(s.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),c.indexed&&(s.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(s.bgColor.theme=parseInt(c.theme,10)),c.tint&&(s.bgColor.tint=parseFloat(c.tint)),c.rgb&&(s.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),c.theme&&(s.fgColor.theme=parseInt(c.theme,10)),c.tint&&(s.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(s.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fills")}})}function p9(t,e,n,r){e.Fonts=[];var s={},i=!1;(t[0].match(Vr)||[]).forEach(function(o){var c=ht(o);switch(Vi(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(s),s={};break;case"<name":c.val&&(s.name=hn(c.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=c.val?En(c.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=c.val?En(c.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(c.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=c.val?En(c.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=c.val?En(c.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=c.val?En(c.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=c.val?En(c.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=c.val?En(c.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":c.val&&(s.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(s.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(s.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(s.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=i1[parseInt(c.val,10)];break;case"<color":if(s.color||(s.color={}),c.auto&&(s.color.auto=En(c.auto)),c.rgb)s.color.rgb=c.rgb.slice(-6);else if(c.indexed){s.color.index=parseInt(c.indexed,10);var f=gl[s.color.index];s.color.index==81&&(f=gl[1]),f||(f=gl[1]),s.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else c.theme&&(s.color.theme=parseInt(c.theme,10),c.tint&&(s.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(s.color.rgb=Q0(n.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+c[0]+" in fonts")}})}function m9(t,e,n){e.NumberFmt=[];for(var r=Oi(Tt),s=0;s<r.length;++s)e.NumberFmt[r[s]]=Tt[r[s]];var i=t[0].match(Vr);if(i)for(s=0;s<i.length;++s){var o=ht(i[s]);switch(Vi(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Ht(hn(o.formatCode)),f=parseInt(o.numFmtId,10);if(e.NumberFmt[f]=c,f>0){if(f>392){for(f=392;f>60&&e.NumberFmt[f]!=null;--f);e.NumberFmt[f]=c}ml(c,f)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var n0=["numFmtId","fillId","fontId","borderId","xfId"],r0=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function g9(t,e,n){e.CellXf=[];var r,s=!1;(t[0].match(Vr)||[]).forEach(function(i){var o=ht(i),c=0;switch(Vi(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],c=0;c<n0.length;++c)r[n0[c]]&&(r[n0[c]]=parseInt(r[n0[c]],10));for(c=0;c<r0.length;++c)r[r0[c]]&&(r[r0[c]]=En(r[r0[c]]));if(e.NumberFmt&&r.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[c]){r.numFmtId=c;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};o.vertical&&(f.vertical=o.vertical),o.horizontal&&(f.horizontal=o.horizontal),o.textRotation!=null&&(f.textRotation=o.textRotation),o.indent&&(f.indent=o.indent),o.wrapText&&(f.wrapText=En(o.wrapText)),r.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var v9=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,f,d){var h={};if(!c)return h;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=c.match(e))&&m9(g,h,d),(g=c.match(s))&&p9(g,h,f,d),(g=c.match(r))&&h9(g,h,f,d),(g=c.match(i))&&d9(g,h,f,d),(g=c.match(n))&&g9(g,h,d),h}})();function x9(t,e){var n=t.read_shift(2),r=Lr(t);return[n,r]}function y9(t,e,n){var r={};r.sz=t.read_shift(2)/20;var s=IL(t);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var i=t.read_shift(2);switch(i===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var c=t.read_shift(1);c>0&&(r.family=c);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=NL(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Lr(t),r}var _9=Ur;function E9(t,e){var n=t.l+e,r=t.read_shift(2),s=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:s}}var T9=Ur;function w9(t,e,n){var r={};r.NumberFmt=[];for(var s in Tt)r.NumberFmt[s]=Tt[s];r.CellXf=[],r.Fonts=[];var i=[],o=!1;return Ea(t,function(f,d,h){switch(h){case 44:r.NumberFmt[f[0]]=f[1],ml(f[1],f[0]);break;case 43:r.Fonts.push(f),f.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(f.color.rgb=Q0(e.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&r.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:i.push(h),o=!0;break;case 38:i.pop(),o=!1;break;default:if(d.T>0)i.push(h);else if(d.T<0)i.pop();else if(!o||n.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}var S9=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function A9(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Vr)||[]).forEach(function(s){var i=ht(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=i.val;break;case"<a:sysClr":r.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(e.themeElements.clrScheme[S9.indexOf(i[0])]=r,r={}):r.name=i[0].slice(3,i[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function C9(){}function b9(){}var N9=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,I9=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,R9=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function k9(t,e,n){e.themeElements={};var r;[["clrScheme",N9,A9],["fontScheme",I9,C9],["fmtScheme",R9,b9]].forEach(function(s){if(!(r=t.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](r,e,n)})}var D9=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function VN(t,e){(!t||t.length===0)&&(t=M9());var n,r={};if(!(n=t.match(D9)))throw new Error("themeElements not found in theme");return k9(n[0],r,e),r.raw=t,r}function M9(t,e){var n=[Wb];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function P9(t,e,n){var r=t.l+e,s=t.read_shift(4);if(s!==124226){if(!n.cellStyles){t.l=r;return}var i=t.slice(t.l);t.l=r;var o;try{o=Jb(i,{type:"array"})}catch{return}var c=Ss(o,"theme/theme/theme1.xml",!0);if(c)return VN(c,n)}}function F9(t){return t.read_shift(4)}function O9(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=L9(t,4);break;case 2:e.xclrValue=AN(t);break;case 3:e.xclrValue=F9(t);break;case 4:t.l+=4;break}return t.l+=8,e}function L9(t,e){return Ur(t,e)}function U9(t,e){return Ur(t,e)}function V9(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=O9(t);break;case 6:r[1]=U9(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function B9(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var s=t.read_shift(2),i=[];s-- >0;)i.push(V9(t,n-t.l));return{ixfe:r,ext:i}}function z9(t,e){e.forEach(function(n){n[0]})}function H9(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Lr(t)}}function G9(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function j9(t){return t.l+=4,t.read_shift(4)!=0}function q9(t,e,n){var r={Types:[],Cell:[],Value:[]},s=n||{},i=[],o=!1,c=2;return Ea(t,function(f,d,h){switch(h){case 335:r.Types.push({name:f.name});break;case 51:f.forEach(function(g){c==1?r.Cell.push({type:r.Types[g[0]-1].name,index:g[1]}):c==0&&r.Value.push({type:r.Types[g[0]-1].name,index:g[1]})});break;case 337:c=f?1:0;break;case 338:c=2;break;case 35:i.push(h),o=!0;break;case 36:i.pop(),o=!1;break;default:if(!d.T){if(!o||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function $9(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var s=!1,i=2,o;return t.replace(Vr,function(c){var f=ht(c);switch(Vi(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==f.name&&(o=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?r.Cell.push({type:r.Types[f.t-1].name,index:+f.v}):i==0&&r.Value.push({type:r.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+f.i);break;default:if(!s&&n.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return c}),r}function K9(t){var e=[];if(!t)return e;var n=1;return(t.match(Vr)||[]).forEach(function(r){var s=ht(r);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?n=s.i:s.i=n,e.push(s);break}}),e}function Y9(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=xt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function J9(t,e,n){var r=[];return Ea(t,function(i,o,c){switch(c){case 63:r.push(i);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function W9(t,e,n,r){if(!t)return t;var s=r||{},i=!1;Ea(t,function(c,f,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!f.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},s)}function Z9(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function _w(t,e,n,r){var s=Array.isArray(t),i;e.forEach(function(o){var c=Yr(o.ref);if(s?(t[c.r]||(t[c.r]=[]),i=t[c.r][c.c]):i=t[o.ref],!i){i={t:"z"},s?t[c.r][c.c]=i:t[o.ref]=i;var f=kn(t["!ref"]||"BDWGO1000001:A1");f.s.r>c.r&&(f.s.r=c.r),f.e.r<c.r&&(f.e.r=c.r),f.s.c>c.c&&(f.s.c=c.c),f.e.c<c.c&&(f.e.c=c.c);var d=zt(f);d!==t["!ref"]&&(t["!ref"]=d)}i.c||(i.c=[]);var h={a:o.author,t:o.t,r:o.r,T:n};o.h&&(h.h=o.h);for(var g=i.c.length-1;g>=0;--g){if(!n&&i.c[g].T)return;n&&!i.c[g].T&&i.c.splice(g,1)}if(n&&r){for(g=0;g<r.length;++g)if(h.a==r[g].id){h.a=r[g].name||h.a;break}}i.c.push(h)})}function X9(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],s=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var i=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var f=ht(c[0]),d={author:f.authorId&&n[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},h=Yr(f.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!g&&!!g[1]&&T1(g[1])||{r:"",t:"",h:""};d.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),d.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=v.h),r.push(d)}}}}),r}function Q9(t,e){var n=[],r=!1,s={},i=0;return t.replace(Vr,function(c,f){var d=ht(c);switch(Vi(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":s.t!=null&&n.push(s);break;case"<text>":case"<text":i=f+c.length;break;case"</text>":s.t=t.slice(i,f).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),n}function eV(t,e){var n=[],r=!1;return t.replace(Vr,function(i){var o=ht(i);switch(Vi(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return i}),n}function tV(t){var e={};e.iauthor=t.read_shift(4);var n=Dl(t);return e.rfx=n.s,e.ref=xt(n.s),t.l+=16,e}var nV=Lr;function rV(t,e){var n=[],r=[],s={},i=!1;return Ea(t,function(c,f,d){switch(d){case 632:r.push(c);break;case 635:s=c;break;case 637:s.t=c.t,s.h=c.h,s.r=c.r;break;case 636:if(s.author=r[s.iauthor],delete s.iauthor,e.sheetRows&&s.rfx&&e.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,n.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!i||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var sV="application/vnd.ms-office.vbaProject";function iV(t){var e=Bt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var s=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Bt.utils.cfb_add(e,s,t.FileIndex[r].content)}}),Bt.write(e)}function aV(){return{"!type":"dialog"}}function oV(){return{"!type":"dialog"}}function lV(){return{"!type":"macro"}}function cV(){return{"!type":"macro"}}var Lc=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,s,i,o){var c=!1,f=!1;i.length==0?f=!0:i.charAt(0)=="["&&(f=!0,i=i.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return c?h+=e.c:--h,f?d+=e.r:--d,s+(c?"":"$")+tr(h)+(f?"":"$")+wr(d)}return function(s,i){return e=i,s.replace(t,n)}})(),BN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,uV=(function(){return function(e,n){return e.replace(BN,function(r,s,i,o,c,f){var d=g1(o)-(i?0:n.c),h=m1(f)-(c?0:n.r),g=h==0?"":c?h+1:"["+h+"]",v=d==0?"":i?d+1:"["+d+"]";return s+"R"+g+"C"+v})}})();function zN(t,e){return t.replace(BN,function(n,r,s,i,o,c){return r+(s=="$"?s+i:tr(g1(i)+e.c))+(o=="$"?o+c:wr(m1(c)+e.r))})}function fV(t,e,n){var r=tu(e),s=r.s,i=Yr(n),o={r:i.r-s.r,c:i.c-s.c};return zN(t,o)}function dV(t){return t.length!=1}function Ew(t){return t.replace(/_xlfn\./g,"")}function Kn(t){t.l+=1}function Eo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function HN(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return GN(t);n.biff==12&&(r=4)}var s=t.read_shift(r),i=t.read_shift(r),o=Eo(t),c=Eo(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function GN(t){var e=Eo(t),n=Eo(t),r=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function hV(t,e,n){if(n.biff<8)return GN(t);var r=t.read_shift(n.biff==12?4:2),s=t.read_shift(n.biff==12?4:2),i=Eo(t),o=Eo(t);return{s:{r,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function jN(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return pV(t);var r=t.read_shift(n&&n.biff==12?4:2),s=Eo(t);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function pV(t){var e=Eo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function mV(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function gV(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return vV(t);var s=t.read_shift(r>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:c}}function vV(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:s,rRel:r}}function xV(t,e,n){var r=(t[t.l++]&96)>>5,s=HN(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,s]}function yV(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=HN(t,i,n);return[r,s,o]}function _V(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function EV(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(n)switch(n.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[r,s]}function TV(t,e,n){var r=(t[t.l++]&96)>>5,s=hV(t,e-1,n);return[r,s]}function wV(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function Tw(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function SV(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),s=[],i=0;i<=r;++i)s.push(t.read_shift(n&&n.biff==2?1:2));return s}function AV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function CV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function bV(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function NV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function qN(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function IV(t){return t.read_shift(2),qN(t)}function RV(t){return t.read_shift(2),qN(t)}function kV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=jN(t,0,n);return[r,s]}function DV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=gV(t,0,n);return[r,s]}function MV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var i=jN(t,0,n);return[r,s,i]}function PV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(n&&n.biff<=3?1:2);return[F7[s],YN[s],r]}function FV(t,e,n){var r=t[t.l++],s=t.read_shift(1),i=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:OV(t);return[s,(i[0]===0?YN:P7)[i[1]]]}function OV(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function LV(t,e,n){t.l+=n&&n.biff==2?3:4}function UV(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function VV(t){return t.l++,Ml[t.read_shift(1)]}function BV(t){return t.l++,t.read_shift(2)}function zV(t){return t.l++,t.read_shift(1)!==0}function HV(t){return t.l++,Pr(t)}function GV(t,e,n){return t.l++,xd(t,e-1,n)}function jV(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=On(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Ml[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Pr(t);break;case 2:n[1]=Pl(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function qV(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),s=[],i=0;i!=r;++i)s.push((n.biff==12?Dl:Dp)(t));return s}function $V(t,e,n){var r=0,s=0;n.biff==12?(r=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--s==0&&(s=256));for(var i=0,o=[];i!=r&&(o[i]=[]);++i)for(var c=0;c!=s;++c)o[i][c]=jV(t,n.biff);return o}function KV(t,e,n){var r=t.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,i=t.read_shift(s);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,i]}function YV(t,e,n){if(n.biff==5)return JV(t);var r=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[r,s,i]}function JV(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function WV(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function ZV(t,e,n){var r=t.read_shift(1)>>>5&3,s=t.read_shift(n&&n.biff==2?1:2);return[r,s]}function XV(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function QV(t,e,n){var r=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(n)switch(n.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[r,s]}var e7=Ur,t7=Ur,n7=Ur;function _d(t,e,n){return t.l+=2,[mV(t)]}function S1(t){return t.l+=6,[]}var r7=_d,s7=S1,i7=S1,a7=_d;function $N(t){return t.l+=2,[Wn(t),t.read_shift(2)&1]}var o7=_d,l7=$N,c7=S1,u7=_d,f7=_d,d7=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function h7(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=d7[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:s,C:i}}function p7(t){return t.l+=2,[t.read_shift(4)]}function m7(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function g7(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function v7(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function x7(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function y7(t){return t.l+=4,[0,0]}var ww={1:{n:"PtgExp",f:UV},2:{n:"PtgTbl",f:n7},3:{n:"PtgAdd",f:Kn},4:{n:"PtgSub",f:Kn},5:{n:"PtgMul",f:Kn},6:{n:"PtgDiv",f:Kn},7:{n:"PtgPower",f:Kn},8:{n:"PtgConcat",f:Kn},9:{n:"PtgLt",f:Kn},10:{n:"PtgLe",f:Kn},11:{n:"PtgEq",f:Kn},12:{n:"PtgGe",f:Kn},13:{n:"PtgGt",f:Kn},14:{n:"PtgNe",f:Kn},15:{n:"PtgIsect",f:Kn},16:{n:"PtgUnion",f:Kn},17:{n:"PtgRange",f:Kn},18:{n:"PtgUplus",f:Kn},19:{n:"PtgUminus",f:Kn},20:{n:"PtgPercent",f:Kn},21:{n:"PtgParen",f:Kn},22:{n:"PtgMissArg",f:Kn},23:{n:"PtgStr",f:GV},26:{n:"PtgSheet",f:m7},27:{n:"PtgEndSheet",f:g7},28:{n:"PtgErr",f:VV},29:{n:"PtgBool",f:zV},30:{n:"PtgInt",f:BV},31:{n:"PtgNum",f:HV},32:{n:"PtgArray",f:wV},33:{n:"PtgFunc",f:PV},34:{n:"PtgFuncVar",f:FV},35:{n:"PtgName",f:KV},36:{n:"PtgRef",f:kV},37:{n:"PtgArea",f:xV},38:{n:"PtgMemArea",f:WV},39:{n:"PtgMemErr",f:e7},40:{n:"PtgMemNoMem",f:t7},41:{n:"PtgMemFunc",f:ZV},42:{n:"PtgRefErr",f:XV},43:{n:"PtgAreaErr",f:_V},44:{n:"PtgRefN",f:DV},45:{n:"PtgAreaN",f:TV},46:{n:"PtgMemAreaN",f:v7},47:{n:"PtgMemNoMemN",f:x7},57:{n:"PtgNameX",f:YV},58:{n:"PtgRef3d",f:MV},59:{n:"PtgArea3d",f:yV},60:{n:"PtgRefErr3d",f:QV},61:{n:"PtgAreaErr3d",f:EV},255:{}},_7={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},E7={1:{n:"PtgElfLel",f:$N},2:{n:"PtgElfRw",f:u7},3:{n:"PtgElfCol",f:r7},6:{n:"PtgElfRwV",f:f7},7:{n:"PtgElfColV",f:a7},10:{n:"PtgElfRadical",f:o7},11:{n:"PtgElfRadicalS",f:c7},13:{n:"PtgElfColS",f:s7},15:{n:"PtgElfColSV",f:i7},16:{n:"PtgElfRadicalLel",f:l7},25:{n:"PtgList",f:h7},29:{n:"PtgSxName",f:p7},255:{}},T7={0:{n:"PtgAttrNoop",f:y7},1:{n:"PtgAttrSemi",f:NV},2:{n:"PtgAttrIf",f:CV},4:{n:"PtgAttrChoose",f:SV},8:{n:"PtgAttrGoto",f:AV},16:{n:"PtgAttrSum",f:LV},32:{n:"PtgAttrBaxcel",f:Tw},33:{n:"PtgAttrBaxcel",f:Tw},64:{n:"PtgAttrSpace",f:IV},65:{n:"PtgAttrSpaceSemi",f:RV},128:{n:"PtgAttrIfError",f:bV},255:{}};function Ed(t,e,n,r){if(r.biff<8)return Ur(t,e);for(var s=t.l+e,i=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=$V(t,0,r),i.push(n[o][1]);break;case"PtgMemArea":n[o][2]=qV(t,n[o][1],r),i.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),i.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=s-t.l,e!==0&&i.push(Ur(t,e)),i}function Td(t,e,n){for(var r=t.l+e,s,i,o=[];r!=t.l;)e=r-t.l,i=t[t.l],s=ww[i]||ww[_7[i]],(i===24||i===25)&&(s=(i===24?E7:T7)[t[t.l+1]]),!s||!s.f?Ur(t,e):o.push([s.n,s.f(t,e,n)]);return o}function w7(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],s=[],i=0;i<r.length;++i){var o=r[i];o?o[0]===2?s.push('"'+o[1].replace(/"/g,'""')+'"'):s.push(o[1]):s.push("")}e.push(s.join(","))}return e.join(";")}var S7={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function A7(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function KN(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(t[r[0]][0]){case 357:return s=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[r[0]][0][3]?(s=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Sw(t,e,n){var r=KN(t,e,n);return r=="#REF"?r:A7(r,n)}function Dr(t,e,n,r,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},c=[],f,d,h,g=0,v=0,T,S="";if(!t[0]||!t[0][0])return"";for(var A=-1,C="",k=0,V=t[0].length;k<V;++k){var D=t[0][k];switch(D[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),d=c.pop(),A>=0){switch(t[0][A][1][0]){case 0:C=In(" ",t[0][A][1][1]);break;case 1:C=In("\r",t[0][A][1][1]);break;default:if(C="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}d=d+C,A=-1}c.push(d+S7[D[0]]+f);break;case"PtgIsect":f=c.pop(),d=c.pop(),c.push(d+" "+f);break;case"PtgUnion":f=c.pop(),d=c.pop(),c.push(d+","+f);break;case"PtgRange":f=c.pop(),d=c.pop(),c.push(d+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Nf(D[1][1],o,s),c.push(If(h,i));break;case"PtgRefN":h=n?Nf(D[1][1],n,s):D[1][1],c.push(If(h,i));break;case"PtgRef3d":g=D[1][1],h=Nf(D[1][2],o,s),S=Sw(r,g,s),c.push(S+"!"+If(h,i));break;case"PtgFunc":case"PtgFuncVar":var H=D[1][0],G=D[1][1];H||(H=0),H&=127;var J=H==0?[]:c.slice(-H);c.length-=H,G==="User"&&(G=J.shift()),c.push(G+"("+J.join(",")+")");break;case"PtgBool":c.push(D[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(D[1]);break;case"PtgNum":c.push(String(D[1]));break;case"PtgStr":c.push('"'+D[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(D[1]);break;case"PtgAreaN":T=sw(D[1][1],n?{s:n}:o,s),c.push(ov(T,s));break;case"PtgArea":T=sw(D[1][1],o,s),c.push(ov(T,s));break;case"PtgArea3d":g=D[1][1],T=D[1][2],S=Sw(r,g,s),c.push(S+"!"+ov(T,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=D[1][2];var I=(r.names||[])[v-1]||(r[0]||[])[v],N=I?I.Name:"SH33TJSNAME"+String(v);N&&N.slice(0,6)=="_xlfn."&&!s.xlfn&&(N=N.slice(6)),c.push(N);break;case"PtgNameX":var b=D[1][1];v=D[1][2];var F;if(s.biff<=5)b<0&&(b=-b),r[b]&&(F=r[b][v]);else{var O="";if(((r[b]||[])[0]||[])[0]==14849||(((r[b]||[])[0]||[])[0]==1025?r[b][v]&&r[b][v].itab>0&&(O=r.SheetNames[r[b][v].itab-1]+"!"):O=r.SheetNames[v-1]+"!"),r[b]&&r[b][v])O+=r[b][v].Name;else if(r[0]&&r[0][v])O+=r[0][v].Name;else{var M=(KN(r,b,s)||"").split(";;");M[v-1]?O=M[v-1]:O+="SH33TJSERRX"}c.push(O);break}F||(F={Name:"SH33TJSERRY"}),c.push(F.Name);break;case"PtgParen":var B="(",fe=")";if(A>=0){switch(C="",t[0][A][1][0]){case 2:B=In(" ",t[0][A][1][1])+B;break;case 3:B=In("\r",t[0][A][1][1])+B;break;case 4:fe=In(" ",t[0][A][1][1])+fe;break;case 5:fe=In("\r",t[0][A][1][1])+fe;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}A=-1}c.push(B+c.pop()+fe);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:D[1][1],r:D[1][0]};var pe={c:n.c,r:n.r};if(r.sharedf[xt(h)]){var ae=r.sharedf[xt(h)];c.push(Dr(ae,o,pe,r,s))}else{var ce=!1;for(f=0;f!=r.arrayf.length;++f)if(d=r.arrayf[f],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){c.push(Dr(d[1],o,pe,r,s)),ce=!0;break}ce||c.push(D[1])}break;case"PtgArray":c.push("{"+w7(D[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+D[1].idx+"[#"+D[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(D));default:throw new Error("Unrecognized Formula Token: "+String(D))}var ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&A>=0&&ee.indexOf(t[0][k][0])==-1){D=t[0][A];var ie=!0;switch(D[1][0]){case 4:ie=!1;case 0:C=In(" ",D[1][1]);break;case 5:ie=!1;case 1:C=In("\r",D[1][1]);break;default:if(C="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+D[1][0])}c.push((ie?C:"")+c.pop()+(ie?"":C)),A=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function C7(t,e,n){var r=t.l+e,s=n.biff==2?1:2,i,o=t.read_shift(s);if(o==65535)return[[],Ur(t,e-2)];var c=Td(t,o,n);return e!==o+s&&(i=Ed(t,e-o-s,c,n)),t.l=r,[c,i]}function b7(t,e,n){var r=t.l+e,s=n.biff==2?1:2,i,o=t.read_shift(s);if(o==65535)return[[],Ur(t,e-2)];var c=Td(t,o,n);return e!==o+s&&(i=Ed(t,e-o-s,c,n)),t.l=r,[c,i]}function N7(t,e,n,r){var s=t.l+e,i=Td(t,r,n),o;return s!==t.l&&(o=Ed(t,s-t.l,i,n)),[i,o]}function I7(t,e,n){var r=t.l+e,s,i=t.read_shift(2),o=Td(t,i,n);return i==65535?[[],Ur(t,e-2)]:(e!==i+2&&(s=Ed(t,r-i-2,o,n)),[o,s])}function R7(t){var e;if(ca(t,t.l+6)!==65535)return[Pr(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function uv(t,e,n){var r=t.l+e,s=Bi(t);n.biff==2&&++t.l;var i=R7(t),o=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var c=b7(t,r-t.l,n);return{cell:s,val:i[0],formula:c,shared:o>>3&1,tt:i[1]}}function Mp(t,e,n){var r=t.read_shift(4),s=Td(t,r,n),i=t.read_shift(4),o=i>0?Ed(t,i,s,n):null;return[s,o]}var k7=Mp,Pp=Mp,D7=Mp,M7=Mp,P7={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},YN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},F7={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Aw(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function fv(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Mf={},Uc={};function Pf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function JN(t,e,n,r,s,i){try{r.cellNF&&(t.z=Tt[e])}catch(c){if(r.WTF)throw c}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=cr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Tt[e]==null&&ml(OO[e]||"General",e),t.t==="e")t.w=t.w||Ml[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Yf(t.v);else if(t.t==="d"){var o=Wr(t.v);(o|0)===o?t.w=o.toString(10):t.w=Yf(o)}else{if(t.v===void 0)return"";t.w=El(t.v,Uc)}else t.t==="d"?t.w=qs(e,Wr(t.v),Uc):t.w=qs(e,t.v,Uc)}catch(c){if(r.WTF)throw c}if(r.cellStyles&&n!=null)try{t.s=i.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Q0(s.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=s.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Q0(s.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=s.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(r.WTF&&i.Fills)throw c}}}function O7(t,e){var n=kn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=zt(n))}var L7=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,U7=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,V7=/<(?:\w:)?hyperlink [^>]*>/mg,B7=/"(\w*:\w*)"/,z7=/<(?:\w:)?col\b[^>]*[\/]?>/g,H7=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,G7=/<(?:\w:)?pageMargins[^>]*\/>/g,WN=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,j7=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,q7=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function $7(t,e,n,r,s,i,o){if(!t)return t;r||(r={"!id":{}});var c=e.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",g=t.match(U7);g?(d=t.slice(0,g.index),h=t.slice(g.index+g[0].length)):d=h=t;var v=d.match(WN);v?A1(v[0],c,s,n):(v=d.match(j7))&&K7(v[0],v[1]||"",c,s,n);var T=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(T>0){var S=d.slice(T,T+50).match(B7);S&&O7(c,S[1])}var A=d.match(q7);A&&A[1]&&Q7(A[1],s);var C=[];if(e.cellStyles){var k=d.match(z7);k&&W7(C,k)}g&&eB(g[1],c,e,f,i,o);var V=h.match(H7);V&&(c["!autofilter"]=Z7(V[0]));var D=[],H=h.match(L7);if(H)for(T=0;T!=H.length;++T)D[T]=kn(H[T].slice(H[T].indexOf('"')+1));var G=h.match(V7);G&&Y7(c,G,r);var J=h.match(G7);if(J&&(c["!margins"]=J7(ht(J[0]))),!c["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(c["!ref"]=zt(f)),e.sheetRows>0&&c["!ref"]){var I=kn(c["!ref"]);e.sheetRows<=+I.e.r&&(I.e.r=e.sheetRows-1,I.e.r>f.e.r&&(I.e.r=f.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>f.e.c&&(I.e.c=f.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),c["!fullref"]=c["!ref"],c["!ref"]=zt(I))}return C.length>0&&(c["!cols"]=C),D.length>0&&(c["!merges"]=D),c}function A1(t,e,n,r){var s=ht(t);n.Sheets[r]||(n.Sheets[r]={}),s.codeName&&(n.Sheets[r].CodeName=Ht(hn(s.codeName)))}function K7(t,e,n,r,s){A1(t.slice(0,t.indexOf(">")),n,r,s)}function Y7(t,e,n){for(var r=Array.isArray(t),s=0;s!=e.length;++s){var i=ht(hn(e[s]),!0);if(!i.ref)return;var o=((n||{})["!id"]||[])[i.id];o?(i.Target=o.Target,i.location&&(i.Target+="#"+Ht(i.location))):(i.Target="#"+Ht(i.location),o={Target:i.Target,TargetMode:"Internal"}),i.Rel=o,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var c=kn(i.ref),f=c.s.r;f<=c.e.r;++f)for(var d=c.s.c;d<=c.e.c;++d){var h=xt({c:d,r:f});r?(t[f]||(t[f]=[]),t[f][d]||(t[f][d]={t:"z",v:void 0}),t[f][d].l=i):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=i)}}}function J7(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function W7(t,e){for(var n=!1,r=0;r!=e.length;++r){var s=ht(e[r],!0);s.hidden&&(s.hidden=En(s.hidden));var i=parseInt(s.min,10)-1,o=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!n&&s.width&&(n=!0,w1(s.width)),Kc(s);i<=o;)t[i++]=Tr(s)}}function Z7(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var X7=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Q7(t,e){e.Views||(e.Views=[{}]),(t.match(X7)||[]).forEach(function(n,r){var s=ht(n);e.Views[r]||(e.Views[r]={}),+s.zoomScale&&(e.Views[r].zoom=+s.zoomScale),En(s.rightToLeft)&&(e.Views[r].RTL=!0)})}var eB=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=Jf("v"),o=Jf("f");return function(f,d,h,g,v,T){for(var S=0,A="",C=[],k=[],V=0,D=0,H=0,G="",J,I,N=0,b=0,F,O,M=0,B=0,fe=Array.isArray(T.CellXf),pe,ae=[],ce=[],ee=Array.isArray(d),ie=[],Re={},X=!1,z=!!h.sheetStubs,Q=f.split(e),ne=0,te=Q.length;ne!=te;++ne){A=Q[ne].trim();var de=A.length;if(de!==0){var ve=0;e:for(S=0;S<de;++S)switch(A[S]){case">":if(A[S-1]!="/"){++S;break e}if(h&&h.cellStyles){if(I=ht(A.slice(ve,S),!0),N=I.r!=null?parseInt(I.r,10):N+1,b=-1,h.sheetRows&&h.sheetRows<N)continue;Re={},X=!1,I.ht&&(X=!0,Re.hpt=parseFloat(I.ht),Re.hpx=Qf(Re.hpt)),I.hidden=="1"&&(X=!0,Re.hidden=!0),I.outlineLevel!=null&&(X=!0,Re.level=+I.outlineLevel),X&&(ie[N-1]=Re)}break;case"<":ve=S;break}if(ve>=S)break;if(I=ht(A.slice(ve,S),!0),N=I.r!=null?parseInt(I.r,10):N+1,b=-1,!(h.sheetRows&&h.sheetRows<N)){g.s.r>N-1&&(g.s.r=N-1),g.e.r<N-1&&(g.e.r=N-1),h&&h.cellStyles&&(Re={},X=!1,I.ht&&(X=!0,Re.hpt=parseFloat(I.ht),Re.hpx=Qf(Re.hpt)),I.hidden=="1"&&(X=!0,Re.hidden=!0),I.outlineLevel!=null&&(X=!0,Re.level=+I.outlineLevel),X&&(ie[N-1]=Re)),C=A.slice(S).split(t);for(var Ne=0;Ne!=C.length&&C[Ne].trim().charAt(0)=="<";++Ne);for(C=C.slice(Ne),S=0;S!=C.length;++S)if(A=C[S].trim(),A.length!==0){if(k=A.match(n),V=S,D=0,H=0,A="<c "+(A.slice(0,1)=="<"?">":"")+A,k!=null&&k.length===2){for(V=0,G=k[1],D=0;D!=G.length&&!((H=G.charCodeAt(D)-64)<1||H>26);++D)V=26*V+H;--V,b=V}else++b;for(D=0;D!=A.length&&A.charCodeAt(D)!==62;++D);if(++D,I=ht(A.slice(0,D),!0),I.r||(I.r=xt({r:N-1,c:b})),G=A.slice(D),J={t:""},(k=G.match(i))!=null&&k[1]!==""&&(J.v=Ht(k[1])),h.cellFormula){if((k=G.match(o))!=null&&k[1]!==""){if(J.f=Ht(hn(k[1])).replace(/\r\n/g,`
`),h.xlfn||(J.f=Ew(J.f)),k[0].indexOf('t="array"')>-1)J.F=(G.match(s)||[])[1],J.F.indexOf(":")>-1&&ae.push([kn(J.F),J.F]);else if(k[0].indexOf('t="shared"')>-1){O=ht(k[0]);var be=Ht(hn(k[1]));h.xlfn||(be=Ew(be)),ce[parseInt(O.si,10)]=[O,be,I.r]}}else(k=G.match(/<f[^>]*\/>/))&&(O=ht(k[0]),ce[O.si]&&(J.f=fV(ce[O.si][1],ce[O.si][2],I.r)));var De=Yr(I.r);for(D=0;D<ae.length;++D)De.r>=ae[D][0].s.r&&De.r<=ae[D][0].e.r&&De.c>=ae[D][0].s.c&&De.c<=ae[D][0].e.c&&(J.F=ae[D][1])}if(I.t==null&&J.v===void 0)if(J.f||J.F)J.v=0,J.t="n";else if(z)J.t="z";else continue;else J.t=I.t||"n";switch(g.s.c>b&&(g.s.c=b),g.e.c<b&&(g.e.c=b),J.t){case"n":if(J.v==""||J.v==null){if(!z)continue;J.t="z"}else J.v=parseFloat(J.v);break;case"s":if(typeof J.v>"u"){if(!z)continue;J.t="z"}else F=Mf[parseInt(J.v,10)],J.v=F.t,J.r=F.r,h.cellHTML&&(J.h=F.h);break;case"str":J.t="s",J.v=J.v!=null?hn(J.v):"",h.cellHTML&&(J.h=d1(J.v));break;case"inlineStr":k=G.match(r),J.t="s",k!=null&&(F=T1(k[1]))?(J.v=F.t,h.cellHTML&&(J.h=F.h)):J.v="";break;case"b":J.v=En(J.v);break;case"d":h.cellDates?J.v=cr(J.v,1):(J.v=Wr(cr(J.v,1)),J.t="n");break;case"e":(!h||h.cellText!==!1)&&(J.w=J.v),J.v=vN[J.v];break}if(M=B=0,pe=null,fe&&I.s!==void 0&&(pe=T.CellXf[I.s],pe!=null&&(pe.numFmtId!=null&&(M=pe.numFmtId),h.cellStyles&&pe.fillId!=null&&(B=pe.fillId))),JN(J,M,B,h,v,T),h.cellDates&&fe&&J.t=="n"&&eu(Tt[M])&&(J.t="d",J.v=kp(J.v)),I.cm&&h.xlmeta){var je=(h.xlmeta.Cell||[])[+I.cm-1];je&&je.type=="XLDAPR"&&(J.D=!0)}if(ee){var se=Yr(I.r);d[se.r]||(d[se.r]=[]),d[se.r][se.c]=J}else d[I.r]=J}}}}ie.length>0&&(d["!rows"]=ie)}})();function tB(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=r,i&7&&(n.level=i&7),i&16&&(n.hidden=!0),i&32&&(n.hpt=s/20),n}var nB=Dl;function rB(){}function sB(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=CL(t),n}function iB(t){var e=Ys(t);return[e]}function aB(t){var e=kl(t);return[e]}function oB(t){var e=Ys(t),n=t.read_shift(1);return[e,n,"b"]}function lB(t){var e=kl(t),n=t.read_shift(1);return[e,n,"b"]}function cB(t){var e=Ys(t),n=t.read_shift(1);return[e,n,"e"]}function uB(t){var e=kl(t),n=t.read_shift(1);return[e,n,"e"]}function fB(t){var e=Ys(t),n=t.read_shift(4);return[e,n,"s"]}function dB(t){var e=kl(t),n=t.read_shift(4);return[e,n,"s"]}function hB(t){var e=Ys(t),n=Pr(t);return[e,n,"n"]}function ZN(t){var e=kl(t),n=Pr(t);return[e,n,"n"]}function pB(t){var e=Ys(t),n=y1(t);return[e,n,"n"]}function mB(t){var e=kl(t),n=y1(t);return[e,n,"n"]}function gB(t){var e=Ys(t),n=v1(t);return[e,n,"is"]}function vB(t){var e=Ys(t),n=Lr(t);return[e,n,"str"]}function xB(t){var e=kl(t),n=Lr(t);return[e,n,"str"]}function yB(t,e,n){var r=t.l+e,s=Ys(t);s.r=n["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(n.cellFormula){t.l+=2;var c=Pp(t,r-t.l,n);o[3]=Dr(c,null,s,n.supbooks,n)}else t.l=r;return o}function _B(t,e,n){var r=t.l+e,s=Ys(t);s.r=n["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(n.cellFormula){t.l+=2;var c=Pp(t,r-t.l,n);o[3]=Dr(c,null,s,n.supbooks,n)}else t.l=r;return o}function EB(t,e,n){var r=t.l+e,s=Ys(t);s.r=n["!row"];var i=Pr(t),o=[s,i,"n"];if(n.cellFormula){t.l+=2;var c=Pp(t,r-t.l,n);o[3]=Dr(c,null,s,n.supbooks,n)}else t.l=r;return o}function TB(t,e,n){var r=t.l+e,s=Ys(t);s.r=n["!row"];var i=Lr(t),o=[s,i,"str"];if(n.cellFormula){t.l+=2;var c=Pp(t,r-t.l,n);o[3]=Dr(c,null,s,n.supbooks,n)}else t.l=r;return o}var wB=Dl;function SB(t,e){var n=t.l+e,r=Dl(t),s=x1(t),i=Lr(t),o=Lr(t),c=Lr(t);t.l=n;var f={rfx:r,relId:s,loc:i,display:c};return o&&(f.Tooltip=o),f}function AB(){}function CB(t,e,n){var r=t.l+e,s=pN(t),i=t.read_shift(1),o=[s];if(o[2]=i,n.cellFormula){var c=k7(t,r-t.l,n);o[1]=c}else t.l=r;return o}function bB(t,e,n){var r=t.l+e,s=Dl(t),i=[s];if(n.cellFormula){var o=M7(t,r-t.l,n);i[1]=o,t.l=r}else t.l=r;return i}var NB=["left","right","top","bottom","header","footer"];function IB(t){var e={};return NB.forEach(function(n){e[n]=Pr(t)}),e}function RB(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function kB(){}function DB(){}function MB(t,e,n,r,s,i,o){if(!t)return t;var c=e||{};r||(r={"!id":{}});var f=c.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,v=!1,T,S,A,C,k,V,D,H,G,J=[];c.biff=12,c["!row"]=0;var I=0,N=!1,b=[],F={},O=c.supbooks||s.supbooks||[[]];if(O.sharedf=F,O.arrayf=b,O.SheetNames=s.SheetNames||s.Sheets.map(function(ee){return ee.name}),!c.supbooks&&(c.supbooks=O,s.Names))for(var M=0;M<s.Names.length;++M)O[0][M+1]=s.Names[M];var B=[],fe=[],pe=!1;np[16]={n:"BrtShortReal",f:ZN};var ae;if(Ea(t,function(ie,Re,X){if(!v)switch(X){case 148:d=ie;break;case 0:T=ie,c.sheetRows&&c.sheetRows<=T.r&&(v=!0),H=wr(C=T.r),c["!row"]=T.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=Qf(ie.hpt)),fe[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(S={t:ie[2]},ie[2]){case"n":S.v=ie[1];break;case"s":D=Mf[ie[1]],S.v=D.t,S.r=D.r;break;case"b":S.v=!!ie[1];break;case"e":S.v=ie[1],c.cellText!==!1&&(S.w=Ml[S.v]);break;case"str":S.t="s",S.v=ie[1];break;case"is":S.t="s",S.v=ie[1].t;break}if((A=o.CellXf[ie[0].iStyleRef])&&JN(S,A.numFmtId,null,c,i,o),k=ie[0].c==-1?k+1:ie[0].c,c.dense?(f[C]||(f[C]=[]),f[C][k]=S):f[tr(k)+H]=S,c.cellFormula){for(N=!1,I=0;I<b.length;++I){var z=b[I];T.r>=z[0].s.r&&T.r<=z[0].e.r&&k>=z[0].s.c&&k<=z[0].e.c&&(S.F=zt(z[0]),N=!0)}!N&&ie.length>3&&(S.f=ie[3])}if(h.s.r>T.r&&(h.s.r=T.r),h.s.c>k&&(h.s.c=k),h.e.r<T.r&&(h.e.r=T.r),h.e.c<k&&(h.e.c=k),c.cellDates&&A&&S.t=="n"&&eu(Tt[A.numFmtId])){var Q=fl(S.v);Q&&(S.t="d",S.v=new Date(Q.y,Q.m-1,Q.d,Q.H,Q.M,Q.S,Q.u))}ae&&(ae.type=="XLDAPR"&&(S.D=!0),ae=void 0);break;case 1:case 12:if(!c.sheetStubs||g)break;S={t:"z",v:void 0},k=ie[0].c==-1?k+1:ie[0].c,c.dense?(f[C]||(f[C]=[]),f[C][k]=S):f[tr(k)+H]=S,h.s.r>T.r&&(h.s.r=T.r),h.s.c>k&&(h.s.c=k),h.e.r<T.r&&(h.e.r=T.r),h.e.c<k&&(h.e.c=k),ae&&(ae.type=="XLDAPR"&&(S.D=!0),ae=void 0);break;case 176:J.push(ie);break;case 49:ae=((c.xlmeta||{}).Cell||[])[ie-1];break;case 494:var ne=r["!id"][ie.relId];for(ne?(ie.Target=ne.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=ne):ie.relId==""&&(ie.Target="#"+ie.loc),C=ie.rfx.s.r;C<=ie.rfx.e.r;++C)for(k=ie.rfx.s.c;k<=ie.rfx.e.c;++k)c.dense?(f[C]||(f[C]=[]),f[C][k]||(f[C][k]={t:"z",v:void 0}),f[C][k].l=ie):(V=xt({c:k,r:C}),f[V]||(f[V]={t:"z",v:void 0}),f[V].l=ie);break;case 426:if(!c.cellFormula)break;b.push(ie),G=c.dense?f[C][k]:f[tr(k)+H],G.f=Dr(ie[1],h,{r:T.r,c:k},O,c),G.F=zt(ie[0]);break;case 427:if(!c.cellFormula)break;F[xt(ie[0].s)]=ie[1],G=c.dense?f[C][k]:f[tr(k)+H],G.f=Dr(ie[1],h,{r:T.r,c:k},O,c);break;case 60:if(!c.cellStyles)break;for(;ie.e>=ie.s;)B[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},pe||(pe=!0,w1(ie.w/256)),Kc(B[ie.e+1]);break;case 161:f["!autofilter"]={ref:zt(ie)};break;case 476:f["!margins"]=ie;break;case 147:s.Sheets[n]||(s.Sheets[n]={}),ie.name&&(s.Sheets[n].CodeName=ie.name),(ie.above||ie.left)&&(f["!outline"]={above:ie.above,left:ie.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),ie.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!Re.T){if(!g||c.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},c),delete c.supbooks,delete c["!row"],!f["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(f["!ref"]=zt(d||h)),c.sheetRows&&f["!ref"]){var ce=kn(f["!ref"]);c.sheetRows<=+ce.e.r&&(ce.e.r=c.sheetRows-1,ce.e.r>h.e.r&&(ce.e.r=h.e.r),ce.e.r<ce.s.r&&(ce.s.r=ce.e.r),ce.e.c>h.e.c&&(ce.e.c=h.e.c),ce.e.c<ce.s.c&&(ce.s.c=ce.e.c),f["!fullref"]=f["!ref"],f["!ref"]=zt(ce))}return J.length>0&&(f["!merges"]=J),B.length>0&&(f["!cols"]=B),fe.length>0&&(f["!rows"]=fe),f}function PB(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var o=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var s=Ht((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){r=i.replace(/<.*?>/g,"")}),[e,s,r]}function FB(t,e,n,r,s,i){var o=i||{"!type":"chart"};if(!t)return i;var c=0,f=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var v=PB(g);h.s.r=h.s.c=0,h.e.c=c,d=tr(c),v[0].forEach(function(T,S){o[d+wr(S)]={t:"n",v:T,z:v[1]},f=S}),h.e.r<f&&(h.e.r=f),++c}),c>0&&(o["!ref"]=zt(h)),o}function OB(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o,c=t.match(WN);return c&&A1(c[0],i,s,n),(o=t.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=o[1]),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}function LB(t,e){t.l+=10;var n=Lr(t);return{name:n}}function UB(t,e,n,r,s){if(!t)return t;r||(r={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Ea(t,function(f,d,h){switch(h){case 550:i["!rel"]=f;break;case 651:s.Sheets[n]||(s.Sheets[n]={}),f.name&&(s.Sheets[n].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][i["!rel"]]&&(i["!drawel"]=r["!id"][i["!rel"]]),i}var XN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],VB=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],BB=[],zB=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Cw(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],s=0;s!=e.length;++s){var i=e[s];if(r[i[0]]==null)r[i[0]]=i[1];else switch(i[2]){case"bool":typeof r[i[0]]=="string"&&(r[i[0]]=En(r[i[0]]));break;case"int":typeof r[i[0]]=="string"&&(r[i[0]]=parseInt(r[i[0]],10));break}}}function bw(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=En(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function QN(t){bw(t.WBProps,XN),bw(t.CalcPr,zB),Cw(t.WBView,VB),Cw(t.Sheets,BB),Uc.date1904=En(t.WBProps.date1904)}var HB="][*?/\\".split("");function GB(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return HB.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var jB=/<\w+:workbook/;function qB(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,s="xmlns",i={},o=0;if(t.replace(Vr,function(f,d){var h=ht(f);switch(Vi(h[0])){case"<?xml":break;case"<workbook":f.match(jB)&&(s="xmlns"+f.match(/<(\w+):/)[1]),n.xmlns=h[s];break;case"</workbook>":break;case"<fileVersion":delete h[0],n.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":XN.forEach(function(g){if(h[g[0]]!=null)switch(g[2]){case"bool":n.WBProps[g[0]]=En(h[g[0]]);break;case"int":n.WBProps[g[0]]=parseInt(h[g[0]],10);break;default:n.WBProps[g[0]]=h[g[0]]}}),h.codeName&&(n.WBProps.CodeName=hn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],n.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Ht(hn(h.name)),delete h[0],n.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":i={},i.Name=hn(h.name),h.comment&&(i.Comment=h.comment),h.localSheetId&&(i.Sheet=+h.localSheetId),En(h.hidden||"0")&&(i.Hidden=!0),o=d+f.length;break;case"</definedName>":i.Ref=Ht(hn(t.slice(o,d))),n.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete h[0],n.CalcPr=h;break;case"<calcPr/>":delete h[0],n.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return f}),cL.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return QN(n),n}function $B(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=jv(t),n.name=Lr(t),n}function KB(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var s=e>8?Lr(t):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function YB(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function JB(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=bL(t),o=D7(t,0,n),c=x1(t);t.l=r;var f={Name:i,Ptg:o};return s<268435455&&(f.Sheet=s),c&&(f.Comment=c),f}function WB(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],s=!1;e||(e={}),e.biff=12;var i=[],o=[[]];return o.SheetNames=[],o.XTI=[],np[16]={n:"BrtFRTArchID$",f:YB},Ea(t,function(f,d,h){switch(h){case 156:o.SheetNames.push(f.name),n.Sheets.push(f);break;case 153:n.WBProps=f;break;case 39:f.Sheet!=null&&(e.SID=f.Sheet),f.Ref=Dr(f.Ptg,null,null,o,e),delete e.SID,delete f.Ptg,i.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([h,f]):o[0]=[h,f],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(f),o.XTI=o.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),s=!0;break;case 36:r.pop(),s=!1;break;case 37:r.push(h),s=!0;break;case 38:r.pop(),s=!1;break;case 16:break;default:if(!d.T){if(!s||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),QN(n),n.Names=i,n.supbooks=o,n}function ZB(t,e,n){return e.slice(-4)===".bin"?WB(t,n):qB(t,n)}function XB(t,e,n,r,s,i,o,c){return e.slice(-4)===".bin"?MB(t,r,n,s,i,o,c):$7(t,r,n,s,i,o,c)}function QB(t,e,n,r,s,i,o,c){return e.slice(-4)===".bin"?UB(t,r,n,s,i):OB(t,r,n,s,i)}function ez(t,e,n,r,s,i,o,c){return e.slice(-4)===".bin"?lV():cV()}function tz(t,e,n,r,s,i,o,c){return e.slice(-4)===".bin"?aV():oV()}function nz(t,e,n,r){return e.slice(-4)===".bin"?w9(t,n,r):v9(t,n,r)}function rz(t,e,n){return VN(t,n)}function sz(t,e,n){return e.slice(-4)===".bin"?VU(t,n):LU(t,n)}function iz(t,e,n){return e.slice(-4)===".bin"?rV(t,n):X9(t,n)}function az(t,e,n){return e.slice(-4)===".bin"?J9(t):K9(t)}function oz(t,e,n,r){return n.slice(-4)===".bin"?W9(t,e,n,r):void 0}function lz(t,e,n){return e.slice(-4)===".bin"?q9(t,e,n):$9(t,e,n)}var eI=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,tI=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function oi(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var s=t.match(eI),i,o,c,f;if(s)for(f=0;f!=s.length;++f)i=s[f].match(tI),(o=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?c="xmlns"+i[1].slice(6):c=i[1].slice(o+1),r[c]=i[2].slice(1,i[2].length-1));return r}function cz(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(eI),s,i,o,c;if(r)for(c=0;c!=r.length;++c)s=r[c].match(tI),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}var Ff;function uz(t,e){var n=Ff[t]||Ht(t);return n==="General"?El(e):qs(n,e)}function fz(t,e,n,r){var s=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=En(r);break;case"i2":case"int":s=parseInt(r,10);break;case"r4":case"float":s=parseFloat(r);break;case"date":case"dateTime.tz":s=cr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Ht(e)]=s}function dz(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Ml[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Yf(t.v):t.w=El(t.v):t.w=uz(e||"General",t.v)}catch(i){if(n.WTF)throw i}try{var r=Ff[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&eu(r)){var s=fl(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(n.WTF)throw i}}}function hz(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=f9[r.Pattern]||r.Pattern)}t[e.ID]=e}function pz(t,e,n,r,s,i,o,c,f,d){var h="General",g=r.StyleID,v={};d=d||{};var T=[],S=0;for(g===void 0&&c&&(g=c.StyleID),g===void 0&&o&&(g=o.StyleID);i[g]!==void 0&&(i[g].nf&&(h=i[g].nf),i[g].Interior&&T.push(i[g].Interior),!!i[g].Parent);)g=i[g].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=En(t);break;case"String":r.t="s",r.r=J2(Ht(t)),r.v=t.indexOf("<")>-1?Ht(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(cr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Ht(t):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=vN[t],d.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=J2(e||t));break}if(dz(r,h,d),d.cellFormula!==!1)if(r.Formula){var A=Ht(r.Formula);A.charCodeAt(0)==61&&(A=A.slice(1)),r.f=Lc(A,s),delete r.Formula,r.ArrayRange=="RC"?r.F=Lc("RC:RC",s):r.ArrayRange&&(r.F=Lc(r.ArrayRange,s),f.push([kn(r.F),r.F]))}else for(S=0;S<f.length;++S)s.r>=f[S][0].s.r&&s.r<=f[S][0].e.r&&s.c>=f[S][0].s.c&&s.c<=f[S][0].e.c&&(r.F=f[S][1]);d.cellStyles&&(T.forEach(function(C){!v.patternType&&C.patternType&&(v.patternType=C.patternType)}),r.s=v),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function mz(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function dv(t,e){var n=e||{};Gb();var r=mf(h1(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=hn(r));var s=r.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var o=Tr(n);return o.type="string",Zf.to_workbook(r,o)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(tt){s.indexOf("<"+tt)>=0&&(i=!0)}),i)return Sz(r,n);Ff={"General Number":"General","General Date":Tt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Tt[15],"Short Date":Tt[14],"Long Time":Tt[19],"Medium Time":Tt[18],"Short Time":Tt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Tt[2],Standard:Tt[4],Percent:Tt[10],Scientific:Tt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,f=[],d,h={},g=[],v=n.dense?[]:{},T="",S={},A={},C=oi('<Data ss:Type="String">'),k=0,V=0,D=0,H={s:{r:2e6,c:2e6},e:{r:0,c:0}},G={},J={},I="",N=0,b=[],F={},O={},M=0,B=[],fe=[],pe={},ae=[],ce,ee=!1,ie=[],Re=[],X={},z=0,Q=0,ne={Sheets:[],WBProps:{date1904:!1}},te={};Wf.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";c=Wf.exec(r);)switch(c[3]=(de=c[3]).toLowerCase()){case"data":if(de=="data"){if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break}if(f[f.length-1][1])break;c[1]==="/"?pz(r.slice(k,c.index),I,C,f[f.length-1][0]=="comment"?pe:S,{c:V,r:D},G,ae[V],A,ie,n):(I="",C=oi(c[0]),k=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(fe.length>0&&(S.c=fe),(!n.sheetRows||n.sheetRows>D)&&S.v!==void 0&&(n.dense?(v[D]||(v[D]=[]),v[D][V]=S):v[tr(V)+wr(D)]=S),S.HRef&&(S.l={Target:Ht(S.HRef)},S.HRefScreenTip&&(S.l.Tooltip=S.HRefScreenTip),delete S.HRef,delete S.HRefScreenTip),(S.MergeAcross||S.MergeDown)&&(z=V+(parseInt(S.MergeAcross,10)|0),Q=D+(parseInt(S.MergeDown,10)|0),b.push({s:{c:V,r:D},e:{c:z,r:Q}})),!n.sheetStubs)S.MergeAcross?V=z+1:++V;else if(S.MergeAcross||S.MergeDown){for(var ve=V;ve<=z;++ve)for(var Ne=D;Ne<=Q;++Ne)(ve>V||Ne>D)&&(n.dense?(v[Ne]||(v[Ne]=[]),v[Ne][ve]={t:"z"}):v[tr(ve)+wr(Ne)]={t:"z"});V=z+1}else++V;else S=cz(c[0]),S.Index&&(V=+S.Index-1),V<H.s.c&&(H.s.c=V),V>H.e.c&&(H.e.c=V),c[0].slice(-2)==="/>"&&++V,fe=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(D<H.s.r&&(H.s.r=D),D>H.e.r&&(H.e.r=D),c[0].slice(-2)==="/>"&&(A=oi(c[0]),A.Index&&(D=+A.Index-1)),V=0,++D):(A=oi(c[0]),A.Index&&(D=+A.Index-1),X={},(A.AutoFitHeight=="0"||A.Height)&&(X.hpx=parseInt(A.Height,10),X.hpt=UN(X.hpx),Re[D]=X),A.Hidden=="1"&&(X.hidden=!0,Re[D]=X));break;case"worksheet":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));g.push(T),H.s.r<=H.e.r&&H.s.c<=H.e.c&&(v["!ref"]=zt(H),n.sheetRows&&n.sheetRows<=H.e.r&&(v["!fullref"]=v["!ref"],H.e.r=n.sheetRows-1,v["!ref"]=zt(H))),b.length&&(v["!merges"]=b),ae.length>0&&(v["!cols"]=ae),Re.length>0&&(v["!rows"]=Re),h[T]=v}else H={s:{r:2e6,c:2e6},e:{r:0,c:0}},D=V=0,f.push([c[3],!1]),d=oi(c[0]),T=Ht(d.Name),v=n.dense?[]:{},b=[],ie=[],Re=[],te={name:T,Hidden:0},ne.Sheets.push(te);break;case"table":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;f.push([c[3],!1]),ae=[],ee=!1}break;case"style":c[1]==="/"?hz(G,J,n):J=oi(c[0]);break;case"numberformat":J.nf=Ht(oi(c[0]).Format||"General"),Ff[J.nf]&&(J.nf=Ff[J.nf]);for(var be=0;be!=392&&Tt[be]!=J.nf;++be);if(be==392){for(be=57;be!=392;++be)if(Tt[be]==null){ml(J.nf,be);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(ce=oi(c[0]),ce.Hidden&&(ce.hidden=!0,delete ce.Hidden),ce.Width&&(ce.wpx=parseInt(ce.Width,10)),!ee&&ce.wpx>10){ee=!0,Kr=ON;for(var De=0;De<ae.length;++De)ae[De]&&Kc(ae[De])}ee&&Kc(ce),ae[ce.Index-1||ae.length]=ce;for(var je=0;je<+ce.Span;++je)ae[ae.length]=Tr(ce);break;case"namedrange":if(c[1]==="/")break;ne.Names||(ne.Names=[]);var se=ht(c[0]),ft={Name:se.Name,Ref:Lc(se.RefersTo.slice(1),{r:0,c:0})};ne.Sheets.length>0&&(ft.Sheet=ne.Sheets.length-1),ne.Names.push(ft);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?I+=r.slice(N,c.index):N=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;J.Interior=oi(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?XL(F,de,r.slice(M,c.index)):M=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else f.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));mz(pe),fe.push(pe)}else f.push([c[3],!1]),d=oi(c[0]),pe={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var We=oi(c[0]);v["!autofilter"]={ref:Lc(We.Range).replace(/\$/g,"")},f.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"null":break;default:if(f.length==0&&c[3]=="document"||f.length==0&&c[3]=="uof")return Mw(r,n);var qe=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:qe=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:qe=!1}break;case"excelworkbook":switch(c[3]){case"date1904":ne.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:qe=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:qe=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(r.slice(M,c.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else M=c.index+c[0].length;break;case"header":v["!margins"]||Pf(v["!margins"]={},"xlml"),isNaN(+ht(c[0]).Margin)||(v["!margins"].header=+ht(c[0]).Margin);break;case"footer":v["!margins"]||Pf(v["!margins"]={},"xlml"),isNaN(+ht(c[0]).Margin)||(v["!margins"].footer=+ht(c[0]).Margin);break;case"pagemargins":var Ge=ht(c[0]);v["!margins"]||Pf(v["!margins"]={},"xlml"),isNaN(+Ge.Top)||(v["!margins"].top=+Ge.Top),isNaN(+Ge.Left)||(v["!margins"].left=+Ge.Left),isNaN(+Ge.Right)||(v["!margins"].right=+Ge.Right),isNaN(+Ge.Bottom)||(v["!margins"].bottom=+Ge.Bottom);break;case"displayrighttoleft":ne.Views||(ne.Views=[]),ne.Views[0]||(ne.Views[0]={}),ne.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:qe=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:qe=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:qe=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:qe=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:qe=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:qe=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:qe=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:qe=!1}break;case"smarttags":break;default:qe=!1;break}if(qe||c[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?fz(O,de,B,r.slice(M,c.index)):(B=c,M=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+f.join("|")}var Be={};return!n.bookSheets&&!n.bookProps&&(Be.Sheets=h),Be.SheetNames=g,Be.Workbook=ne,Be.SSF=Tr(Tt),Be.Props=F,Be.Custprops=O,Be}function Yv(t,e){switch(N1(e=e||{}),e.type||"base64"){case"base64":return dv(As(t),e);case"binary":case"buffer":case"file":return dv(t,e);case"array":return dv(Rl(t),e)}}function gz(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=RL(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=kL(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var vz=[60,1084,2066,2165,2175];function xz(t,e,n,r,s){var i=r,o=[],c=n.slice(n.l,n.l+i);if(s&&s.enc&&s.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(c)}o.push(c),n.l+=i;for(var f=ca(n,n.l),d=Jv[f],h=0;d!=null&&vz.indexOf(f)>-1;)i=ca(n,n.l+2),h=n.l+4,f==2066?h+=4:(f==2165||f==2175)&&(h+=12),c=n.slice(h,n.l+4+i),o.push(c),n.l+=4+i,d=Jv[f=ca(n,n.l)];var g=oo(o);_r(g,0);var v=0;g.lens=[];for(var T=0;T<o.length;++T)g.lens.push(v),v+=o[T].length;if(g.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+g.length+" < "+r;return e.f(g,g.length,s)}function Ii(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Tt[r])}catch(i){if(e.WTF)throw i}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Ml[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Yf(t.v):t.w=El(t.v):t.w=qs(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(i){if(e.WTF)throw i}if(e.cellDates&&r&&t.t=="n"&&eu(Tt[r]||String(r))){var s=fl(t.v);s&&(t.t="d",t.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function s0(t,e,n){return{v:t,ixfe:e,t:n}}function yz(t,e){var n={opts:{}},r={},s=e.dense?[]:{},i={},o={},c=null,f=[],d="",h={},g,v="",T,S,A,C,k={},V=[],D,H,G=[],J=[],I={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},b=function(rt){return rt<8?gl[rt]:rt<64&&J[rt-8]||gl[rt]},F=function(rt,Ft,Jt){var At=Ft.XF.data;if(!(!At||!At.patternType||!Jt||!Jt.cellStyles)){Ft.s={},Ft.s.patternType=At.patternType;var $t;($t=Xf(b(At.icvFore)))&&(Ft.s.fgColor={rgb:$t}),($t=Xf(b(At.icvBack)))&&(Ft.s.bgColor={rgb:$t})}},O=function(rt,Ft,Jt){if(!(X>1)&&!(Jt.sheetRows&&rt.r>=Jt.sheetRows)){if(Jt.cellStyles&&Ft.XF&&Ft.XF.data&&F(rt,Ft,Jt),delete Ft.ixfe,delete Ft.XF,g=rt,v=xt(rt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),rt.r<o.s.r&&(o.s.r=rt.r),rt.c<o.s.c&&(o.s.c=rt.c),rt.r+1>o.e.r&&(o.e.r=rt.r+1),rt.c+1>o.e.c&&(o.e.c=rt.c+1),Jt.cellFormula&&Ft.f){for(var At=0;At<V.length;++At)if(!(V[At][0].s.c>rt.c||V[At][0].s.r>rt.r)&&!(V[At][0].e.c<rt.c||V[At][0].e.r<rt.r)){Ft.F=zt(V[At][0]),(V[At][0].s.c!=rt.c||V[At][0].s.r!=rt.r)&&delete Ft.f,Ft.f&&(Ft.f=""+Dr(V[At][1],o,rt,ie,M));break}}Jt.dense?(s[rt.r]||(s[rt.r]=[]),s[rt.r][rt.c]=Ft):s[v]=Ft}},M={enc:!1,sbcch:0,snames:[],sharedf:k,arrayf:V,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(M.password=e.password);var B,fe=[],pe=[],ae=[],ce=[],ee=!1,ie=[];ie.SheetNames=M.snames,ie.sharedf=M.sharedf,ie.arrayf=M.arrayf,ie.names=[],ie.XTI=[];var Re=0,X=0,z=0,Q=[],ne=[],te;M.codepage=1200,ui(1200);for(var de=!1;t.l<t.length-1;){var ve=t.l,Ne=t.read_shift(2);if(Ne===0&&Re===10)break;var be=t.l===t.length?0:t.read_shift(2),De=Jv[Ne];if(De&&De.f){if(e.bookSheets&&Re===133&&Ne!==133)break;if(Re=Ne,De.r===2||De.r==12){var je=t.read_shift(2);if(be-=2,!M.enc&&je!==Ne&&((je&255)<<8|je>>8)!==Ne)throw new Error("rt mismatch: "+je+"!="+Ne);De.r==12&&(t.l+=10,be-=10)}var se={};if(Ne===10?se=De.f(t,be,M):se=xz(Ne,De,t,be,M),X==0&&[9,521,1033,2057].indexOf(Re)===-1)continue;switch(Ne){case 34:n.opts.Date1904=I.WBProps.date1904=se;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(M.enc||(t.l=0),M.enc=se,!e.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=se;break;case 66:var ft=Number(se);switch(ft){case 21010:ft=1200;break;case 32768:ft=1e4;break;case 32769:ft=1252;break}ui(M.codepage=ft),de=!0;break;case 317:M.rrtabid=se;break;case 25:M.winlocked=se;break;case 439:n.opts.RefreshAll=se;break;case 12:n.opts.CalcCount=se;break;case 16:n.opts.CalcDelta=se;break;case 17:n.opts.CalcIter=se;break;case 13:n.opts.CalcMode=se;break;case 14:n.opts.CalcPrecision=se;break;case 95:n.opts.CalcSaveRecalc=se;break;case 15:M.CalcRefMode=se;break;case 2211:n.opts.FullCalc=se;break;case 129:se.fDialog&&(s["!type"]="dialog"),se.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),se.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:G.push(se);break;case 430:ie.push([se]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(se);break;case 24:case 536:te={Name:se.Name,Ref:Dr(se.rgce,o,null,ie,M)},se.itab>0&&(te.Sheet=se.itab-1),ie.names.push(te),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(ne[se.itab-1]={ref:zt(se.rgce[0][0][1][2])});break;case 22:M.ExternCount=se;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(se),ie.XTI=ie.XTI.concat(se);break;case 2196:if(M.biff<8)break;te!=null&&(te.Comment=se[1]);break;case 18:s["!protect"]=se;break;case 19:se!==0&&M.WTF&&console.error("Password verifier: "+se);break;case 133:i[se.pos]=se,M.snames.push(se.name);break;case 10:{if(--X)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,s["!ref"]=zt(o),e.sheetRows&&e.sheetRows<=o.e.r){var We=o.e.r;o.e.r=e.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=zt(o),o.e.r=We}o.e.r++,o.e.c++}fe.length>0&&(s["!merges"]=fe),pe.length>0&&(s["!objects"]=pe),ae.length>0&&(s["!cols"]=ae),ce.length>0&&(s["!rows"]=ce),I.Sheets.push(N)}d===""?h=s:r[d]=s,s=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[Ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),M.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(M.biff=5,de=!0,ui(M.codepage=28591)),M.biff==8&&se.BIFFVer==0&&se.dt==16&&(M.biff=2),X++)break;if(s=e.dense?[]:{},M.biff<8&&!de&&(de=!0,ui(M.codepage=e.codepage||1252)),M.biff<5||se.BIFFVer==0&&se.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var qe={pos:t.l-be,name:d};i[qe.pos]=qe,M.snames.push(d)}else d=(i[ve]||{name:""}).name;se.dt==32&&(s["!type"]="chart"),se.dt==64&&(s["!type"]="macro"),fe=[],pe=[],M.arrayf=V=[],ae=[],ce=[],ee=!1,N={Hidden:(i[ve]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(e.dense?(s[se.r]||[])[se.c]:s[xt({c:se.c,r:se.r})])&&++se.c,D={ixfe:se.ixfe,XF:G[se.ixfe]||{},v:se.val,t:"n"},z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O({c:se.c,r:se.r},D,e);break;case 5:case 517:D={ixfe:se.ixfe,XF:G[se.ixfe],v:se.val,t:se.t},z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O({c:se.c,r:se.r},D,e);break;case 638:D={ixfe:se.ixfe,XF:G[se.ixfe],v:se.rknum,t:"n"},z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O({c:se.c,r:se.r},D,e);break;case 189:for(var Ge=se.c;Ge<=se.C;++Ge){var Be=se.rkrec[Ge-se.c][0];D={ixfe:Be,XF:G[Be],v:se.rkrec[Ge-se.c][1],t:"n"},z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O({c:Ge,r:se.r},D,e)}break;case 6:case 518:case 1030:{if(se.val=="String"){c=se;break}if(D=s0(se.val,se.cell.ixfe,se.tt),D.XF=G[D.ixfe],e.cellFormula){var tt=se.formula;if(tt&&tt[0]&&tt[0][0]&&tt[0][0][0]=="PtgExp"){var nt=tt[0][0][1][0],ct=tt[0][0][1][1],cn=xt({r:nt,c:ct});k[cn]?D.f=""+Dr(se.formula,o,se.cell,ie,M):D.F=((e.dense?(s[nt]||[])[ct]:s[cn])||{}).F}else D.f=""+Dr(se.formula,o,se.cell,ie,M)}z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O(se.cell,D,e),c=se}break;case 7:case 519:if(c)c.val=se,D=s0(se,c.cell.ixfe,"s"),D.XF=G[D.ixfe],e.cellFormula&&(D.f=""+Dr(c.formula,o,c.cell,ie,M)),z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O(c.cell,D,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{V.push(se);var wn=xt(se[0].s);if(T=e.dense?(s[se[0].s.r]||[])[se[0].s.c]:s[wn],e.cellFormula&&T){if(!c||!wn||!T)break;T.f=""+Dr(se[1],o,se[0],ie,M),T.F=zt(se[0])}}break;case 1212:{if(!e.cellFormula)break;if(v){if(!c)break;k[xt(c.cell)]=se[0],T=e.dense?(s[c.cell.r]||[])[c.cell.c]:s[xt(c.cell)],(T||{}).f=""+Dr(se[0],o,g,ie,M)}}break;case 253:D=s0(f[se.isst].t,se.ixfe,"s"),f[se.isst].h&&(D.h=f[se.isst].h),D.XF=G[D.ixfe],z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O({c:se.c,r:se.r},D,e);break;case 513:e.sheetStubs&&(D={ixfe:se.ixfe,XF:G[se.ixfe],t:"z"},z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O({c:se.c,r:se.r},D,e));break;case 190:if(e.sheetStubs)for(var Bn=se.c;Bn<=se.C;++Bn){var pt=se.ixfe[Bn-se.c];D={ixfe:pt,XF:G[pt],t:"z"},z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O({c:Bn,r:se.r},D,e)}break;case 214:case 516:case 4:D=s0(se.val,se.ixfe,"s"),D.XF=G[D.ixfe],z>0&&(D.z=Q[D.ixfe>>8&63]),Ii(D,e,n.opts.Date1904),O({c:se.c,r:se.r},D,e);break;case 0:case 512:X===1&&(o=se);break;case 252:f=se;break;case 1054:if(M.biff==4){Q[z++]=se[1];for(var It=0;It<z+163&&Tt[It]!=se[1];++It);It>=163&&ml(se[1],z+163)}else ml(se[1],se[0]);break;case 30:{Q[z++]=se;for(var St=0;St<z+163&&Tt[St]!=se;++St);St>=163&&ml(se,z+163)}break;case 229:fe=fe.concat(se);break;case 93:pe[se.cmo[0]]=M.lastobj=se;break;case 438:M.lastobj.TxO=se;break;case 127:M.lastobj.ImData=se;break;case 440:for(C=se[0].s.r;C<=se[0].e.r;++C)for(A=se[0].s.c;A<=se[0].e.c;++A)T=e.dense?(s[C]||[])[A]:s[xt({c:A,r:C})],T&&(T.l=se[1]);break;case 2048:for(C=se[0].s.r;C<=se[0].e.r;++C)for(A=se[0].s.c;A<=se[0].e.c;++A)T=e.dense?(s[C]||[])[A]:s[xt({c:A,r:C})],T&&T.l&&(T.l.Tooltip=se[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;T=e.dense?(s[se[0].r]||[])[se[0].c]:s[xt(se[0])];var un=pe[se[2]];T||(e.dense?(s[se[0].r]||(s[se[0].r]=[]),T=s[se[0].r][se[0].c]={t:"z"}):T=s[xt(se[0])]={t:"z"},o.e.r=Math.max(o.e.r,se[0].r),o.s.r=Math.min(o.s.r,se[0].r),o.e.c=Math.max(o.e.c,se[0].c),o.s.c=Math.min(o.s.c,se[0].c)),T.c||(T.c=[]),S={a:se[1],t:un.TxO.t},T.c.push(S)}break;case 2173:z9(G[se.ixfe],se.ext);break;case 125:{if(!M.cellStyles)break;for(;se.e>=se.s;)ae[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},ee||(ee=!0,w1(se.w/256)),Kc(ae[se.e+1])}break;case 520:{var Rt={};se.level!=null&&(ce[se.r]=Rt,Rt.level=se.level),se.hidden&&(ce[se.r]=Rt,Rt.hidden=!0),se.hpt&&(ce[se.r]=Rt,Rt.hpt=se.hpt,Rt.hpx=Qf(se.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Pf(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ne]]=se;break;case 161:s["!margins"]||Pf(s["!margins"]={}),s["!margins"].header=se.header,s["!margins"].footer=se.footer;break;case 574:se.RTL&&(I.Views[0].RTL=!0);break;case 146:J=se;break;case 2198:B=se;break;case 140:H=se;break;case 442:d?N.CodeName=se||N.name:I.WBProps.CodeName=se||"ThisWorkbook";break}}else De||console.error("Missing Info for XLS Record 0x"+Ne.toString(16)),t.l+=be}return n.SheetNames=Oi(i).sort(function(Dn,rt){return Number(Dn)-Number(rt)}).map(function(Dn){return i[Dn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&h["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=h)):n.Preamble=h,n.Sheets&&ne.forEach(function(Dn,rt){n.Sheets[n.SheetNames[rt]]["!autofilter"]=Dn}),n.Strings=f,n.SSF=Tr(Tt),M.enc&&(n.Encryption=M.enc),B&&(n.Themes=B),n.Metadata={},H!==void 0&&(n.Metadata.Country=H),ie.names.length>0&&(I.Names=ie.names),n.Workbook=I,n}var Nw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _z(t,e,n){var r=Bt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var s=fw(r,LL,Nw.DSI);for(var i in s)e[i]=s[i]}catch(d){if(n.WTF)throw d}var o=Bt.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var c=fw(o,UL,Nw.SI);for(var f in c)e[f]==null&&(e[f]=c[f])}catch(d){if(n.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(yN(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function nI(t,e){e||(e={}),N1(e),kb(),e.codepage&&a1(e.codepage);var n,r;if(t.FullPaths){if(Bt.find(t,"/encryption"))throw new Error("File is password-protected");n=Bt.find(t,"!CompObj"),r=Bt.find(t,"/Workbook")||Bt.find(t,"/Book")}else{switch(e.type){case"base64":t=ci(As(t));break;case"binary":t=ci(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}_r(t,0),r={content:t}}var s,i;if(n&&gz(n),e.bookProps&&!e.bookSheets)s={};else{var o=Lt?"buffer":"array";if(r&&r.content)s=yz(r.content,e);else if((i=Bt.find(t,"PerfectOffice_MAIN"))&&i.content)s=Df.to_workbook(i.content,(e.type=o,e));else if((i=Bt.find(t,"NativeContent_MAIN"))&&i.content)s=Df.to_workbook(i.content,(e.type=o,e));else throw(i=Bt.find(t,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Bt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=iV(t))}var c={};return t.FullPaths&&_z(t,c,e),s.Props=s.Custprops=c,e.bookFiles&&(s.cfb=t),s}var np={0:{f:tB},1:{f:iB},2:{f:pB},3:{f:cB},4:{f:oB},5:{f:hB},6:{f:vB},7:{f:fB},8:{f:TB},9:{f:EB},10:{f:yB},11:{f:_B},12:{f:aB},13:{f:mB},14:{f:uB},15:{f:lB},16:{f:ZN},17:{f:xB},18:{f:dB},19:{f:v1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:JB},40:{},42:{},43:{f:y9},44:{f:x9},45:{f:_9},46:{f:T9},47:{f:E9},48:{},49:{f:wL},50:{},51:{f:G9},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:kN},62:{f:gB},63:{f:Y9},64:{f:kB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ur,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:RB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sB},148:{f:nB,p:16},151:{f:AB},152:{},153:{f:KB},154:{},155:{},156:{f:$B},157:{},158:{},159:{T:1,f:UU},160:{T:-1},161:{T:1,f:Dl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:wB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:H9},336:{T:-1},337:{f:j9,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:jv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:RN},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:CB},427:{f:bB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:IB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:rB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:SB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:jv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nV},633:{T:1},634:{T:-1},635:{T:1,f:tV},636:{T:-1},637:{f:AL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:LB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:DB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Jv={6:{f:uv},10:{f:so},12:{f:Wn},13:{f:Wn},14:{f:On},15:{f:On},16:{f:Pr},17:{f:On},18:{f:On},19:{f:Wn},20:{f:mw},21:{f:mw},23:{f:RN},24:{f:vw},25:{f:On},26:{},27:{},28:{f:Q8},29:{},34:{f:On},35:{f:gw},38:{f:Pr},39:{f:Pr},40:{f:Pr},41:{f:Pr},42:{f:On},43:{f:On},47:{f:r9},49:{f:P8},51:{f:Wn},60:{},61:{f:k8},64:{f:On},65:{f:M8},66:{f:Wn},77:{},80:{},81:{},82:{},85:{f:Wn},89:{},90:{},91:{},92:{f:w8},93:{f:tU},94:{},95:{f:On},96:{},97:{},99:{f:On},125:{f:kN},128:{f:j8},129:{f:S8},130:{f:Wn},131:{f:On},132:{f:On},133:{f:A8},134:{},140:{f:oU},141:{f:Wn},144:{},146:{f:cU},151:{},152:{},153:{},154:{},155:{},156:{f:Wn},157:{},158:{},160:{f:pU},161:{f:fU},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:B8},190:{f:z8},193:{f:so},197:{},198:{},199:{},200:{},201:{},202:{f:On},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Wn},220:{},221:{f:On},222:{},224:{f:G8},225:{f:T8},226:{f:so},227:{},229:{f:eU},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:C8},253:{f:F8},255:{f:b8},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:SN},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:On},353:{f:so},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:$8},431:{f:On},432:{},433:{},434:{},437:{},438:{f:sU},439:{f:On},440:{f:iU},441:{},442:{f:yd},443:{},444:{f:Wn},445:{},446:{},448:{f:so},449:{f:R8,r:2},450:{f:so},512:{f:hw},513:{f:hU},515:{f:q8},516:{f:O8},517:{f:pw},519:{f:mU},520:{f:N8},523:{},545:{f:xw},549:{f:dw},566:{},574:{f:D8},638:{f:V8},659:{},1048:{},1054:{f:L8},1084:{},1212:{f:W8},2048:{f:aU},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:t0},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:so},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:uU,r:12},2173:{f:B9,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:On,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:J8,r:12},2197:{},2198:{f:P9,r:12},2199:{},2200:{},2201:{},2202:{f:Z8,r:12},2203:{f:so},2204:{},2205:{},2206:{},2207:{},2211:{f:I8},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Wn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:dU},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:lU},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:hw},1:{},2:{f:yU},3:{f:xU},4:{f:vU},5:{f:pw},7:{f:_U},8:{},9:{f:t0},11:{},22:{f:Wn},30:{f:U8},31:{},32:{},33:{f:xw},36:{},37:{f:dw},50:{f:EU},62:{},52:{},67:{},68:{f:Wn},69:{},86:{},126:{},127:{f:gU},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:TU},223:{},234:{},354:{},421:{},518:{f:uv},521:{f:t0},536:{f:vw},547:{f:gw},561:{},579:{},1030:{f:uv},1033:{f:t0},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function li(t,e,n,r){var s=e;if(!isNaN(s)){var i=(n||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&fN(n)&&t.push(n)}}function Iw(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var s=t.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=t.match(/<\/table/i),o=s.index,c=i&&i.index||t.length,f=qO(t.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,g=0,v=0,T={s:{r:1e7,c:1e7},e:{r:0,c:0}},S=[];for(o=0;o<f.length;++o){var A=f[o].trim(),C=A.slice(0,3).toLowerCase();if(C=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}h=0;continue}if(!(C!="<td"&&C!="<th")){var k=A.split(/<\/t[dh]>/i);for(c=0;c<k.length;++c){var V=k[c].trim();if(V.match(/<t[dh]/i)){for(var D=V,H=0;D.charAt(0)=="<"&&(H=D.indexOf(">"))>-1;)D=D.slice(H+1);for(var G=0;G<S.length;++G){var J=S[G];J.s.c==h&&J.s.r<d&&d<=J.e.r&&(h=J.e.c+1,G=-1)}var I=ht(V.slice(0,V.indexOf(">")));v=I.colspan?+I.colspan:1,((g=+I.rowspan)>1||v>1)&&S.push({s:{r:d,c:h},e:{r:d+(g||1)-1,c:h+v-1}});var N=I.t||I["data-t"]||"";if(!D.length){h+=v;continue}if(D=Xb(D),T.s.r>d&&(T.s.r=d),T.e.r<d&&(T.e.r=d),T.s.c>h&&(T.s.c=h),T.e.c<h&&(T.e.c=h),!D.length){h+=v;continue}var b={t:"s",v:D};n.raw||!D.trim().length||N=="s"||(D==="TRUE"?b={t:"b",v:!0}:D==="FALSE"?b={t:"b",v:!1}:isNaN(hi(D))?isNaN($c(D).getDate())||(b={t:"d",v:cr(D)},n.cellDates||(b={t:"n",v:Wr(b.v)}),b.z=n.dateNF||Tt[14]):b={t:"n",v:hi(D)}),n.dense?(r[d]||(r[d]=[]),r[d][h]=b):r[xt({r:d,c:h})]=b,h+=v}}}}return r["!ref"]=zt(T),S.length&&(r["!merges"]=S),r}function Ez(t,e,n,r){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,f=0,d=0;d<s.length;++d)if(!(s[d].s.r>n||s[d].s.c>o)&&!(s[d].e.r<n||s[d].e.c<o)){if(s[d].s.r<n||s[d].s.c<o){c=-1;break}c=s[d].e.r-s[d].s.r+1,f=s[d].e.c-s[d].s.c+1;break}if(!(c<0)){var h=xt({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[h],v=g&&g.v!=null&&(g.h||d1(g.w||(ga(g),g.w)||""))||"",T={};c>1&&(T.rowspan=c),f>1&&(T.colspan=f),r.editable?v='<span contenteditable="true">'+v+"</span>":g&&(T["data-t"]=g&&g.t||"z",g.v!=null&&(T["data-v"]=g.v),g.z!=null&&(T["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+g.l.Target+'">'+v+"</a>")),T.id=(r.id||"sjs")+"-"+h,i.push(oL("td",v,T))}}var S="<tr>";return S+i.join("")+"</tr>"}var Tz='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',wz="</body></html>";function Sz(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return ko(Iw(n[0],e),e);var r=R1();return n.forEach(function(s,i){k1(r,Iw(s,e),"Sheet"+(i+1))}),r}function Az(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function Cz(t,e){var n=e||{},r=n.header!=null?n.header:Tz,s=n.footer!=null?n.footer:wz,i=[r],o=tu(t["!ref"]);n.dense=Array.isArray(t),i.push(Az(t,o,n));for(var c=o.s.r;c<=o.e.r;++c)i.push(Ez(t,o,c,n));return i.push("</table>"+s),i.join("")}function rI(t,e,n){var r=n||{},s=0,i=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var o=typeof r.origin=="string"?Yr(r.origin):r.origin;s=o.r,i=o.c}var c=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var h=tu(t["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),s==-1&&(d.e.r=s=h.e.r+1)}var g=[],v=0,T=t["!rows"]||(t["!rows"]=[]),S=0,A=0,C=0,k=0,V=0,D=0;for(t["!cols"]||(t["!cols"]=[]);S<c.length&&A<f;++S){var H=c[S];if(Rw(H)){if(r.display)continue;T[A]={hidden:!0}}var G=H.children;for(C=k=0;C<G.length;++C){var J=G[C];if(!(r.display&&Rw(J))){var I=J.hasAttribute("data-v")?J.getAttribute("data-v"):J.hasAttribute("v")?J.getAttribute("v"):Xb(J.innerHTML),N=J.getAttribute("data-z")||J.getAttribute("z");for(v=0;v<g.length;++v){var b=g[v];b.s.c==k+i&&b.s.r<A+s&&A+s<=b.e.r&&(k=b.e.c+1-i,v=-1)}D=+J.getAttribute("colspan")||1,((V=+J.getAttribute("rowspan")||1)>1||D>1)&&g.push({s:{r:A+s,c:k+i},e:{r:A+s+(V||1)-1,c:k+i+(D||1)-1}});var F={t:"s",v:I},O=J.getAttribute("data-t")||J.getAttribute("t")||"";I!=null&&(I.length==0?F.t=O||"z":r.raw||I.trim().length==0||O=="s"||(I==="TRUE"?F={t:"b",v:!0}:I==="FALSE"?F={t:"b",v:!1}:isNaN(hi(I))?isNaN($c(I).getDate())||(F={t:"d",v:cr(I)},r.cellDates||(F={t:"n",v:Wr(F.v)}),F.z=r.dateNF||Tt[14]):F={t:"n",v:hi(I)})),F.z===void 0&&N!=null&&(F.z=N);var M="",B=J.getElementsByTagName("A");if(B&&B.length)for(var fe=0;fe<B.length&&!(B[fe].hasAttribute("href")&&(M=B[fe].getAttribute("href"),M.charAt(0)!="#"));++fe);M&&M.charAt(0)!="#"&&(F.l={Target:M}),r.dense?(t[A+s]||(t[A+s]=[]),t[A+s][k+i]=F):t[xt({c:k+i,r:A+s})]=F,d.e.c<k+i&&(d.e.c=k+i),k+=D}}++A}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,A-1+s),t["!ref"]=zt(d),A>=f&&(t["!fullref"]=zt((d.e.r=c.length-S+A-1+s,d))),t}function sI(t,e){var n=e||{},r=n.dense?[]:{};return rI(r,t,e)}function bz(t,e){return ko(sI(t,e),e)}function Rw(t){var e="",n=Nz(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Nz(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Iz(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Ht(e.replace(/<[^>]*>/g,""));return[n]}var kw={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function iI(t,e){var n=e||{},r=h1(t),s=[],i,o,c={name:""},f="",d=0,h,g,v={},T=[],S=n.dense?[]:{},A,C,k={value:""},V="",D=0,H=[],G=-1,J=-1,I={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,b={},F=[],O={},M=0,B=0,fe=[],pe=1,ae=1,ce=[],ee={Names:[]},ie={},Re=["",""],X=[],z={},Q="",ne=0,te=!1,de=!1,ve=0;for(Wf.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");A=Wf.exec(r);)switch(A[3]=A[3].replace(/_.*$/,"")){case"table":case"":A[1]==="/"?(I.e.c>=I.s.c&&I.e.r>=I.s.r?S["!ref"]=zt(I):S["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=I.e.r&&(S["!fullref"]=S["!ref"],I.e.r=n.sheetRows-1,S["!ref"]=zt(I)),F.length&&(S["!merges"]=F),fe.length&&(S["!rows"]=fe),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),T.push(h.name),v[h.name]=S,de=!1):A[0].charAt(A[0].length-2)!=="/"&&(h=ht(A[0],!1),G=J=-1,I.s.r=I.s.c=1e7,I.e.r=I.e.c=0,S=n.dense?[]:{},F=[],fe=[],de=!0);break;case"table-row-group":A[1]==="/"?--N:++N;break;case"table-row":case"":if(A[1]==="/"){G+=pe,pe=1;break}if(g=ht(A[0],!1),g.?G=g.-1:G==-1&&(G=0),pe=+g["number-rows-repeated"]||1,pe<10)for(ve=0;ve<pe;++ve)N>0&&(fe[G+ve]={level:N});J=-1;break;case"covered-table-cell":A[1]!=="/"&&++J,n.sheetStubs&&(n.dense?(S[G]||(S[G]=[]),S[G][J]={t:"z"}):S[xt({r:G,c:J})]={t:"z"}),V="",H=[];break;case"table-cell":case"":if(A[0].charAt(A[0].length-2)==="/")++J,k=ht(A[0],!1),ae=parseInt(k["number-columns-repeated"]||"1",10),C={t:"z",v:null},k.formula&&n.cellFormula!=!1&&(C.f=Aw(Ht(k.formula))),(k.||k["value-type"])=="string"&&(C.t="s",C.v=Ht(k["string-value"]||""),n.dense?(S[G]||(S[G]=[]),S[G][J]=C):S[xt({r:G,c:J})]=C),J+=ae-1;else if(A[1]!=="/"){++J,V="",D=0,H=[],ae=1;var Ne=pe?G+pe-1:G;if(J>I.e.c&&(I.e.c=J),J<I.s.c&&(I.s.c=J),G<I.s.r&&(I.s.r=G),Ne>I.e.r&&(I.e.r=Ne),k=ht(A[0],!1),X=[],z={},C={t:k.||k["value-type"],v:null},n.cellFormula)if(k.formula&&(k.formula=Ht(k.formula)),k["number-matrix-columns-spanned"]&&k["number-matrix-rows-spanned"]&&(M=parseInt(k["number-matrix-rows-spanned"],10)||0,B=parseInt(k["number-matrix-columns-spanned"],10)||0,O={s:{r:G,c:J},e:{r:G+M-1,c:J+B-1}},C.F=zt(O),ce.push([O,C.F])),k.formula)C.f=Aw(k.formula);else for(ve=0;ve<ce.length;++ve)G>=ce[ve][0].s.r&&G<=ce[ve][0].e.r&&J>=ce[ve][0].s.c&&J<=ce[ve][0].e.c&&(C.F=ce[ve][1]);switch((k["number-columns-spanned"]||k["number-rows-spanned"])&&(M=parseInt(k["number-rows-spanned"],10)||0,B=parseInt(k["number-columns-spanned"],10)||0,O={s:{r:G,c:J},e:{r:G+M-1,c:J+B-1}},F.push(O)),k["number-columns-repeated"]&&(ae=parseInt(k["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=En(k["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(k.value);break;case"percentage":C.t="n",C.v=parseFloat(k.value);break;case"currency":C.t="n",C.v=parseFloat(k.value);break;case"date":C.t="d",C.v=cr(k["date-value"]),n.cellDates||(C.t="n",C.v=Wr(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=HO(k["time-value"])/86400,n.cellDates&&(C.t="d",C.v=kp(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(k.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",k["string-value"]!=null&&(V=Ht(k["string-value"]),H=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(te=!1,C.t==="s"&&(C.v=V||"",H.length&&(C.R=H),te=D==0),ie.Target&&(C.l=ie),X.length>0&&(C.c=X,X=[]),V&&n.cellText!==!1&&(C.w=V),te&&(C.t="z",delete C.v),(!te||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=G))for(var be=0;be<pe;++be){if(ae=parseInt(k["number-columns-repeated"]||"1",10),n.dense)for(S[G+be]||(S[G+be]=[]),S[G+be][J]=be==0?C:Tr(C);--ae>0;)S[G+be][J+ae]=Tr(C);else for(S[xt({r:G+be,c:J})]=C;--ae>0;)S[xt({r:G+be,c:J+ae})]=Tr(C);I.e.c<=J&&(I.e.c=J)}ae=parseInt(k["number-columns-repeated"]||"1",10),J+=ae-1,ae=0,C={},V="",H=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(A[1]==="/"){if((i=s.pop())[0]!==A[3])throw"Bad state: "+i}else A[0].charAt(A[0].length-2)!=="/"&&s.push([A[3],!0]);break;case"annotation":if(A[1]==="/"){if((i=s.pop())[0]!==A[3])throw"Bad state: "+i;z.t=V,H.length&&(z.R=H),z.a=Q,X.push(z)}else A[0].charAt(A[0].length-2)!=="/"&&s.push([A[3],!1]);Q="",ne=0,V="",D=0,H=[];break;case"creator":A[1]==="/"?Q=r.slice(ne,A.index):ne=A.index+A[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(A[1]==="/"){if((i=s.pop())[0]!==A[3])throw"Bad state: "+i}else A[0].charAt(A[0].length-2)!=="/"&&s.push([A[3],!1]);V="",D=0,H=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(A[1]==="/"){if(b[c.name]=f,(i=s.pop())[0]!==A[3])throw"Bad state: "+i}else A[0].charAt(A[0].length-2)!=="/"&&(f="",c=ht(A[0],!1),s.push([A[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":o=ht(A[0],!1),f+=kw[A[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":o=ht(A[0],!1),f+=kw[A[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(A[0].slice(-2)==="/>")break;if(A[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":f+=r.slice(d,A.index);break}else d=A.index+A[0].length;break;case"named-range":o=ht(A[0],!1),Re=fv(o["cell-range-address"]);var De={Name:o.name,Ref:Re[0]+"!"+Re[1]};de&&(De.Sheet=T.length),ee.Names.push(De);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(A[1]==="/"&&(!k||!k["string-value"])){var je=Iz(r.slice(D,A.index));V=(V.length>0?V+`
`:"")+je[0]}else ht(A[0],!1),D=A.index+A[0].length;break;case"s":break;case"database-range":if(A[1]==="/")break;try{Re=fv(ht(A[0])["target-range-address"]),v[Re[0]]["!autofilter"]={ref:Re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(A[1]!=="/"){if(ie=ht(A[0],!1),!ie.href)break;ie.Target=Ht(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(Re=fv(ie.Target.slice(1)),ie.Target="#"+Re[0]+"!"+Re[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(A[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(A)}}var se={Sheets:v,SheetNames:T,Workbook:ee};return n.bookSheets&&delete se.Sheets,se}function Dw(t,e){e=e||{},zs(t,"META-INF/manifest.xml")&&qL(Jn(t,"META-INF/manifest.xml"),e);var n=Ss(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=iI(hn(n),e);return zs(t,"meta.xml")&&(r.Props=xN(Jn(t,"meta.xml"))),r}function Mw(t,e){return iI(t,e)}function C1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Wv(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):hn(Rl(t))}function Zv(t){var e=t.reduce(function(s,i){return s+i.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(s){n.set(s,r),r+=s.length}),n}function Pw(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Rz(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,s=e+13;s>=e;--s)r=r*256+t[s];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function ed(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function rr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Fr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],s=ed(t,n),i=s&7;s=Math.floor(s/8);var o=0,c;if(s==0)break;switch(i){case 0:{for(var f=n[0];t[n[0]++]>=128;);c=t.slice(f,n[0])}break;case 5:o=4,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=ed(t,n),c=t.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(r))}var d={data:c,type:i};e[s]==null?e[s]=[d]:e[s].push(d)}return e}function b1(t,e){return t?.map(function(n){return e(n.data)})||[]}function kz(t){for(var e,n=[],r=[0];r[0]<t.length;){var s=ed(t,r),i=Fr(t.slice(r[0],r[0]+s));r[0]+=s;var o={id:rr(i[1][0].data),messages:[]};i[2].forEach(function(c){var f=Fr(c.data),d=rr(f[3][0].data);o.messages.push({meta:f,data:t.slice(r[0],r[0]+d)}),r[0]+=d}),(e=i[3])!=null&&e[0]&&(o.merge=rr(i[3][0].data)>>>0>0),n.push(o)}return n}function Dz(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=ed(e,n),s=[];n[0]<e.length;){var i=e[n[0]]&3;if(i==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[n[0]],c>1&&(o|=e[n[0]+1]<<8),c>2&&(o|=e[n[0]+2]<<16),c>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}s.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var f=0,d=0;if(i==1?(d=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(d=(e[n[0]++]>>2)+1,i==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),s=[Zv(s)],f==0)throw new Error("Invalid offset 0");if(f>s[0].length)throw new Error("Invalid offset beyond length");if(d>=f)for(s.push(s[0].slice(-f)),d-=f;d>=s[s.length-1].length;)s.push(s[s.length-1]),d-=s[s.length-1].length;s.push(s[0].slice(-f,-f+d))}}var h=Zv(s);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function Mz(t){for(var e=[],n=0;n<t.length;){var r=t[n++],s=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(Dz(r,t.slice(n,n+s))),n+=s}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Zv(e)}function Pz(t,e,n,r){var s=C1(t),i=s.getUint32(4,!0),o=(r>1?12:8)+Pw(i&(r>1?3470:398))*4,c=-1,f=-1,d=NaN,h=new Date(2001,0,1);i&512&&(c=s.getUint32(o,!0),o+=4),o+=Pw(i&(r>1?12288:4096))*4,i&16&&(f=s.getUint32(o,!0),o+=4),i&32&&(d=s.getFloat64(o,!0),o+=8),i&64&&(h.setTime(h.getTime()+s.getFloat64(o,!0)*1e3),o+=8);var g;switch(t[2]){case 0:break;case 2:g={t:"n",v:d};break;case 3:g={t:"s",v:e[f]};break;case 5:g={t:"d",v:h};break;case 6:g={t:"b",v:d>0};break;case 7:g={t:"n",v:d/86400};break;case 8:g={t:"e",v:0};break;case 9:if(c>-1)g={t:"s",v:n[c]};else if(f>-1)g={t:"s",v:e[f]};else if(!isNaN(d))g={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return g}function Fz(t,e,n){var r=C1(t),s=r.getUint32(8,!0),i=12,o=-1,c=-1,f=NaN,d=NaN,h=new Date(2001,0,1);s&1&&(f=Rz(t,i),i+=16),s&2&&(d=r.getFloat64(i,!0),i+=8),s&4&&(h.setTime(h.getTime()+r.getFloat64(i,!0)*1e3),i+=8),s&8&&(c=r.getUint32(i,!0),i+=4),s&16&&(o=r.getUint32(i,!0),i+=4);var g;switch(t[1]){case 0:break;case 2:g={t:"n",v:f};break;case 3:g={t:"s",v:e[c]};break;case 5:g={t:"d",v:h};break;case 6:g={t:"b",v:d>0};break;case 7:g={t:"n",v:d/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)));break;case 10:g={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(s&31," : ").concat(t.slice(0,4)))}return g}function Oz(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return Pz(t,e,n,t[0]);case 5:return Fz(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function po(t){var e=Fr(t);return ed(e[1][0].data)}function Fw(t,e){var n=Fr(e.data),r=rr(n[1][0].data),s=n[3],i=[];return(s||[]).forEach(function(o){var c=Fr(o.data),f=rr(c[1][0].data)>>>0;switch(r){case 1:i[f]=Wv(c[3][0].data);break;case 8:{var d=t[po(c[9][0].data)][0],h=Fr(d.data),g=t[po(h[1][0].data)][0],v=rr(g.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var T=Fr(g.data);i[f]=T[3].map(function(S){return Wv(S.data)}).join("")}break}}),i}function Lz(t,e){var n,r,s,i,o,c,f,d,h,g,v,T,S,A,C=Fr(t),k=rr(C[1][0].data)>>>0,V=rr(C[2][0].data)>>>0,D=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&rr(C[8][0].data)>0||!1,H,G;if((i=(s=C[7])==null?void 0:s[0])!=null&&i.data&&e!=0)H=(c=(o=C[7])==null?void 0:o[0])==null?void 0:c.data,G=(d=(f=C[6])==null?void 0:f[0])==null?void 0:d.data;else if((g=(h=C[4])==null?void 0:h[0])!=null&&g.data&&e!=1)H=(T=(v=C[4])==null?void 0:v[0])==null?void 0:T.data,G=(A=(S=C[3])==null?void 0:S[0])==null?void 0:A.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var J=D?4:1,I=C1(H),N=[],b=0;b<H.length/2;++b){var F=I.getUint16(b*2,!0);F<65535&&N.push([b,F])}if(N.length!=V)throw"Expected ".concat(V," cells, found ").concat(N.length);var O=[];for(b=0;b<N.length-1;++b)O[N[b][0]]=G.subarray(N[b][1]*J,N[b+1][1]*J);return N.length>=1&&(O[N[N.length-1][0]]=G.subarray(N[N.length-1][1]*J)),{R:k,cells:O}}function Uz(t,e){var n,r=Fr(e.data),s=(n=r?.[7])!=null&&n[0]?rr(r[7][0].data)>>>0>0?1:0:-1,i=b1(r[5],function(o){return Lz(o,s)});return{nrows:rr(r[4][0].data)>>>0,data:i.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(f,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=f}),o},[])}}function Vz(t,e,n){var r,s=Fr(e.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(rr(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(rr(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));n["!ref"]=zt(i);var o=Fr(s[4][0].data),c=Fw(t,t[po(o[4][0].data)][0]),f=(r=o[17])!=null&&r[0]?Fw(t,t[po(o[17][0].data)][0]):[],d=Fr(o[3][0].data),h=0;d[1].forEach(function(g){var v=Fr(g.data),T=t[po(v[2][0].data)][0],S=rr(T.meta[1][0].data);if(S!=6002)throw new Error("6001 unexpected reference to ".concat(S));var A=Uz(t,T);A.data.forEach(function(C,k){C.forEach(function(V,D){var H=xt({r:h+k,c:D}),G=Oz(V,c,f);G&&(n[H]=G)})}),h+=A.nrows})}function Bz(t,e){var n=Fr(e.data),r={"!ref":"A1"},s=t[po(n[2][0].data)],i=rr(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Vz(t,s[0],r),r}function zz(t,e){var n,r=Fr(e.data),s={name:(n=r[1])!=null&&n[0]?Wv(r[1][0].data):"",sheets:[]},i=b1(r[2],po);return i.forEach(function(o){t[o].forEach(function(c){var f=rr(c.meta[1][0].data);f==6e3&&s.sheets.push(Bz(t,c))})}),s}function Hz(t,e){var n=R1(),r=Fr(e.data),s=b1(r[1],po);if(s.forEach(function(i){t[i].forEach(function(o){var c=rr(o.meta[1][0].data);if(c==2){var f=zz(t,o);f.sheets.forEach(function(d,h){k1(n,d,h==0?f.name:f.name+"_"+h,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function hv(t){var e,n,r,s,i={},o=[];if(t.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var d;try{d=Mz(f.content)}catch(g){return console.log("?? "+f.content.length+" "+(g.message||g))}var h;try{h=kz(d)}catch(g){return console.log("## "+(g.message||g))}h.forEach(function(g){i[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var c=((s=(r=(n=(e=i?.[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:s[0].data)&&rr(i[1][0].meta[1][0].data)==1&&i[1][0];if(c||o.forEach(function(f){i[f].forEach(function(d){var h=rr(d.meta[1][0].data)>>>0;if(h==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return Hz(i,c)}function Gz(t){return function(n){for(var r=0;r!=t.length;++r){var s=t[r];n[s[0]]===void 0&&(n[s[0]]=s[1]),s[2]==="n"&&(n[s[0]]=Number(n[s[0]]))}}}function N1(t){Gz([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function jz(t){return kc.WS.indexOf(t)>-1?"sheet":t==kc.CS?"chart":t==kc.DS?"dialog":t==kc.MS?"macro":t&&t.length?t:"sheet"}function qz(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,jz(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function $z(t,e,n,r,s,i,o,c,f,d,h,g){try{i[r]=Rf(Ss(t,n,!0),e);var v=Jn(t,e),T;switch(c){case"sheet":T=XB(v,e,s,f,i[r],d,h,g);break;case"chart":if(T=QB(v,e,s,f,i[r],d,h,g),!T||!T["!drawel"])break;var S=vf(T["!drawel"].Target,e),A=qv(S),C=Z9(Ss(t,S,!0),Rf(Ss(t,A,!0),S)),k=vf(C,S),V=qv(k);T=FB(Ss(t,k,!0),k,f,Rf(Ss(t,V,!0),k),d,T);break;case"macro":T=ez(v,e,s,f,i[r],d,h,g);break;case"dialog":T=tz(v,e,s,f,i[r],d,h,g);break;default:throw new Error("Unrecognized sheet type "+c)}o[r]=T;var D=[];i&&i[r]&&Oi(i[r]).forEach(function(H){var G="";if(i[r][H].Type==kc.CMNT){G=vf(i[r][H].Target,e);var J=iz(Jn(t,G,!0),G,f);if(!J||!J.length)return;_w(T,J,!1)}i[r][H].Type==kc.TCMNT&&(G=vf(i[r][H].Target,e),D=D.concat(Q9(Jn(t,G,!0),f)))}),D&&D.length&&_w(T,D,!0,f.people||[])}catch(H){if(f.WTF)throw H}}function Vs(t){return t.charAt(0)=="/"?t.slice(1):t}function Kz(t,e){if(Gb(),e=e||{},N1(e),zs(t,"META-INF/manifest.xml")||zs(t,"objectdata.xml"))return Dw(t,e);if(zs(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof hv<"u"){if(t.FileIndex)return hv(t);var n=Bt.utils.cfb_new();return K2(t).forEach(function(fe){YO(n,fe,KO(t,fe))}),hv(n)}throw new Error("Unsupported NUMBERS file")}if(!zs(t,"[Content_Types].xml"))throw zs(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):zs(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=K2(t),s=GL(Ss(t,"[Content_Types].xml")),i=!1,o,c;if(s.workbooks.length===0&&(c="xl/workbook.xml",Jn(t,c,!0)&&s.workbooks.push(c)),s.workbooks.length===0){if(c="xl/workbook.bin",!Jn(t,c,!0))throw new Error("Could not find workbook");s.workbooks.push(c),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var f={},d={};if(!e.bookSheets&&!e.bookProps){if(Mf=[],s.sst)try{Mf=sz(Jn(t,Vs(s.sst)),s.sst,e)}catch(fe){if(e.WTF)throw fe}e.cellStyles&&s.themes.length&&(f=rz(Ss(t,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],e)),s.style&&(d=nz(Jn(t,Vs(s.style)),s.style,f,e))}s.links.map(function(fe){try{var pe=Rf(Ss(t,qv(Vs(fe))),fe);return oz(Jn(t,Vs(fe)),pe,fe,e)}catch{}});var h=ZB(Jn(t,Vs(s.workbooks[0])),s.workbooks[0],e),g={},v="";s.coreprops.length&&(v=Jn(t,Vs(s.coreprops[0]),!0),v&&(g=xN(v)),s.extprops.length!==0&&(v=Jn(t,Vs(s.extprops[0]),!0),v&&YL(v,g,e)));var T={};(!e.bookSheets||e.bookProps)&&s.custprops.length!==0&&(v=Ss(t,Vs(s.custprops[0]),!0),v&&(T=WL(v,e)));var S={};if((e.bookSheets||e.bookProps)&&(h.Sheets?o=h.Sheets.map(function(pe){return pe.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),e.bookProps&&(S.Props=g,S.Custprops=T),e.bookSheets&&typeof o<"u"&&(S.SheetNames=o),e.bookSheets?S.SheetNames:e.bookProps))return S;o={};var A={};e.bookDeps&&s.calcchain&&(A=az(Jn(t,Vs(s.calcchain)),s.calcchain));var C=0,k={},V,D;{var H=h.Sheets;g.Worksheets=H.length,g.SheetNames=[];for(var G=0;G!=H.length;++G)g.SheetNames[G]=H[G].name}var J=i?"bin":"xml",I=s.workbooks[0].lastIndexOf("/"),N=(s.workbooks[0].slice(0,I+1)+"_rels/"+s.workbooks[0].slice(I+1)+".rels").replace(/^\//,"");zs(t,N)||(N="xl/_rels/workbook."+J+".rels");var b=Rf(Ss(t,N,!0),N.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(e.xlmeta=lz(Jn(t,Vs(s.metadata[0])),s.metadata[0],e)),(s.people||[]).length>=1&&(e.people=eV(Jn(t,Vs(s.people[0])),e)),b&&(b=qz(b,h.Sheets));var F=Jn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=g.Worksheets;++C){var O="sheet";if(b&&b[C]?(V="xl/"+b[C][1].replace(/[\/]?xl\//,""),zs(t,V)||(V=b[C][1]),zs(t,V)||(V=N.replace(/_rels\/.*$/,"")+b[C][1]),O=b[C][2]):(V="xl/worksheets/sheet"+(C+1-F)+"."+J,V=V.replace(/sheet0\./,"sheet.")),D=V.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(g.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var M=!1,B=0;B!=e.sheets.length;++B)typeof e.sheets[B]=="number"&&e.sheets[B]==C&&(M=1),typeof e.sheets[B]=="string"&&e.sheets[B].toLowerCase()==g.SheetNames[C].toLowerCase()&&(M=1);if(!M)continue e}}$z(t,V,D,g.SheetNames[C],C,k,o,O,e,h,f,d)}return S={Directory:s,Workbook:h,Props:g,Custprops:T,Deps:A,Sheets:o,SheetNames:g.SheetNames,Strings:Mf,Styles:d,Themes:f,SSF:Tr(Tt)},e&&e.bookFiles&&(t.files?(S.keys=r,S.files=t.files):(S.keys=[],S.files={},t.FullPaths.forEach(function(fe,pe){fe=fe.replace(/^Root Entry[\/]/,""),S.keys.push(fe),S.files[fe]=t.FileIndex[pe]}))),e&&e.bookVBA&&(s.vba.length>0?S.vbaraw=Jn(t,Vs(s.vba[0]),!0):s.defaults&&s.defaults.bin===sV&&(S.vbaraw=Jn(t,"xl/vbaProject.bin",!0))),S}function Yz(t,e){var n=e||{},r="Workbook",s=Bt.find(t,r);try{if(r="/!DataSpaces/Version",s=Bt.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(BU(s.content),r="/!DataSpaces/DataSpaceMap",s=Bt.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=HU(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Bt.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=GU(s.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Bt.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);qU(s.content)}catch{}if(r="/EncryptionInfo",s=Bt.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=$U(s.content);if(r="/EncryptedPackage",s=Bt.find(t,r),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],s.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],s.content,n.password||"",n);throw new Error("File is password-protected")}function I1(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=As(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Jz(t,e){return Bt.find(t,"EncryptedPackage")?Yz(t,e):nI(t,e)}function Wz(t,e){var n,r=t,s=e||{};return s.type||(s.type=Lt&&Buffer.isBuffer(t)?"buffer":"base64"),n=Jb(r,s),Kz(n,s)}function aI(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return Yv(t.slice(n),e);default:break e}return Zf.to_workbook(t,e)}function Zz(t,e){var n="",r=I1(t,e);switch(e.type){case"base64":n=As(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Tl(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=hn(n)),e.type="binary",aI(n,e)}function Xz(t,e){var n=t;return e.type=="base64"&&(n=As(n)),n=Kf.utils.decode(1200,n.slice(2),"str"),e.type="binary",aI(n,e)}function Qz(t){return t.match(/[^\x00-\x7F]/)?xf(t):t}function pv(t,e,n,r){return r?(n.type="string",Zf.to_workbook(t,n)):Zf.to_workbook(e,n)}function rp(t,e){kb();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return rp(new Uint8Array(t),(n=Tr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,s=[0,0,0,0],i=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Uc={},n.dateNF&&(Uc.dateNF=n.dateNF),n.type||(n.type=Lt&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Lt?"buffer":"binary",r=BO(t),typeof Uint8Array<"u"&&!Lt&&(n.type="array")),n.type=="string"&&(i=!0,n.type="binary",n.codepage=65001,r=Qz(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return n=Tr(n),n.type="array",rp(o1(r),n)}switch((s=I1(r,n))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return Jz(Bt.read(r,n),n);break;case 9:if(s[1]<=8)return nI(r,n);break;case 60:return Yv(r,n);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return bU(r,n);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return AU.to_workbook(r,n);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?Wz(r,n):pv(t,r,n,i);case 239:return s[3]===60?Yv(r,n):pv(t,r,n,i);case 255:if(s[1]===254)return Xz(r,n);if(s[1]===0&&s[2]===2&&s[3]===0)return Df.to_workbook(r,n);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Df.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return yw.to_workbook(r,n);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return s9.to_workbook(r,n);break;case 10:case 13:case 32:return Zz(r,n);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return wU.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?yw.to_workbook(r,n):pv(t,r,n,i)}function eH(t,e,n,r,s,i,o,c){var f=wr(n),d=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,v=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:n,enumerable:!1})}catch{v.__rowNum__=n}else v.__rowNum__=n;if(!o||t[n])for(var T=e.s.c;T<=e.e.c;++T){var S=o?t[n][T]:t[r[T]+f];if(S===void 0||S.t===void 0){if(d===void 0)continue;i[T]!=null&&(v[i[T]]=d);continue}var A=S.v;switch(S.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(i[T]!=null){if(A==null)if(S.t=="e"&&A===null)v[i[T]]=null;else if(d!==void 0)v[i[T]]=d;else if(h&&A===null)v[i[T]]=null;else continue;else v[i[T]]=h&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?A:ga(S,A,c);A!=null&&(g=!1)}}return{row:v,isempty:g}}function Xv(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,s=1,i=[],o=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},h=d.range!=null?d.range:t["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof h){case"string":f=kn(h);break;case"number":f=kn(t["!ref"]),f.s.r=h;break;default:f=h}r>0&&(s=0);var g=wr(f.s.r),v=[],T=[],S=0,A=0,C=Array.isArray(t),k=f.s.r,V=0,D={};C&&!t[k]&&(t[k]=[]);var H=d.skipHidden&&t["!cols"]||[],G=d.skipHidden&&t["!rows"]||[];for(V=f.s.c;V<=f.e.c;++V)if(!(H[V]||{}).hidden)switch(v[V]=tr(V),n=C?t[k][V]:t[v[V]+g],r){case 1:i[V]=V-f.s.c;break;case 2:i[V]=v[V];break;case 3:i[V]=d.header[V-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=ga(n,null,d),A=D[o]||0,!A)D[o]=1;else{do c=o+"_"+A++;while(D[c]);D[o]=A,D[c]=1}i[V]=c}for(k=f.s.r+s;k<=f.e.r;++k)if(!(G[k]||{}).hidden){var J=eH(t,f,k,v,r,i,C,d);(J.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(T[S++]=J.row)}return T.length=S,T}var Ow=/"/g;function tH(t,e,n,r,s,i,o,c){for(var f=!0,d=[],h="",g=wr(n),v=e.s.c;v<=e.e.c;++v)if(r[v]){var T=c.dense?(t[n]||[])[v]:t[r[v]+g];if(T==null)h="";else if(T.v!=null){f=!1,h=""+(c.rawNumbers&&T.t=="n"?T.v:ga(T,null,c));for(var S=0,A=0;S!==h.length;++S)if((A=h.charCodeAt(S))===s||A===i||A===34||c.forceQuotes){h='"'+h.replace(Ow,'""')+'"';break}h=="ID"&&(h='"ID"')}else T.f!=null&&!T.F?(f=!1,h="="+T.f,h.indexOf(",")>=0&&(h='"'+h.replace(Ow,'""')+'"')):h="";d.push(h)}return c.blankrows===!1&&f?null:d.join(o)}function oI(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var s=kn(t["!ref"]),i=r.FS!==void 0?r.FS:",",o=i.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,f=c.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),h="",g=[];r.dense=Array.isArray(t);for(var v=r.skipHidden&&t["!cols"]||[],T=r.skipHidden&&t["!rows"]||[],S=s.s.c;S<=s.e.c;++S)(v[S]||{}).hidden||(g[S]=tr(S));for(var A=0,C=s.s.r;C<=s.e.r;++C)(T[C]||{}).hidden||(h=tH(t,s,C,g,o,f,i,r),h!=null&&(r.strip&&(h=h.replace(d,"")),(h||r.blankrows!==!1)&&n.push((A++?c:"")+h)));return delete r.dense,n.join("")}function nH(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=oI(t,e);return n}function rH(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var s=kn(t["!ref"]),i="",o=[],c,f=[],d=Array.isArray(t);for(c=s.s.c;c<=s.e.c;++c)o[c]=tr(c);for(var h=s.s.r;h<=s.e.r;++h)for(i=wr(h),c=s.s.c;c<=s.e.c;++c)if(e=o[c]+i,n=d?(t[h]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function lI(t,e,n){var r=n||{},s=+!r.skipHeader,i=t||{},o=0,c=0;if(i&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Yr(r.origin):r.origin;o=f.r,c=f.c}var d,h={s:{c:0,r:0},e:{c,r:o+e.length-1+s}};if(i["!ref"]){var g=kn(i["!ref"]);h.e.c=Math.max(h.e.c,g.e.c),h.e.r=Math.max(h.e.r,g.e.r),o==-1&&(o=g.e.r+1,h.e.r=o+e.length-1+s)}else o==-1&&(o=0,h.e.r=e.length-1+s);var v=r.header||[],T=0;e.forEach(function(A,C){Oi(A).forEach(function(k){(T=v.indexOf(k))==-1&&(v[T=v.length]=k);var V=A[k],D="z",H="",G=xt({c:c+T,r:o+C+s});d=td(i,G),V&&typeof V=="object"&&!(V instanceof Date)?i[G]=V:(typeof V=="number"?D="n":typeof V=="boolean"?D="b":typeof V=="string"?D="s":V instanceof Date?(D="d",r.cellDates||(D="n",V=Wr(V)),H=r.dateNF||Tt[14]):V===null&&r.nullError&&(D="e",V=0),d?(d.t=D,d.v=V,delete d.w,delete d.R,H&&(d.z=H)):i[G]=d={t:D,v:V},H&&(d.z=H))})}),h.e.c=Math.max(h.e.c,c+v.length-1);var S=wr(o);if(s)for(T=0;T<v.length;++T)i[tr(T+c)+S]={t:"s",v:v[T]};return i["!ref"]=zt(h),i}function sH(t,e){return lI(null,t,e)}function td(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Yr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?td(t,xt(e)):td(t,xt({r:e,c:n||0}))}function iH(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function R1(){return{SheetNames:[],Sheets:{}}}function k1(t,e,n,r){var s=1;if(!n)for(;s<=65535&&t.SheetNames.indexOf(n="Sheet"+s)!=-1;++s,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var i=n.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||n;for(++s;s<=65535&&t.SheetNames.indexOf(n=o+s)!=-1;++s);}if(GB(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function aH(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=iH(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function oH(t,e){return t.z=e,t}function cI(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function lH(t,e,n){return cI(t,"#"+e,n)}function cH(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function uH(t,e,n,r){for(var s=typeof e!="string"?e:kn(e),i=typeof e=="string"?e:zt(e),o=s.s.r;o<=s.e.r;++o)for(var c=s.s.c;c<=s.e.c;++c){var f=td(t,o,c);f.t="n",f.F=i,delete f.v,o==s.s.r&&c==s.s.c&&(f.f=n,r&&(f.D=!0))}return t}var yf={encode_col:tr,encode_row:wr,encode_cell:xt,encode_range:zt,decode_col:g1,decode_row:m1,split_cell:TL,decode_cell:Yr,decode_range:tu,format_cell:ga,sheet_add_aoa:hN,sheet_add_json:lI,sheet_add_dom:rI,aoa_to_sheet:nu,json_to_sheet:sH,table_to_sheet:sI,table_to_book:bz,sheet_to_csv:oI,sheet_to_txt:nH,sheet_to_json:Xv,sheet_to_html:Cz,sheet_to_formulae:rH,sheet_to_row_object_array:Xv,sheet_get_cell:td,book_new:R1,book_append_sheet:k1,book_set_sheet_visibility:aH,cell_set_number_format:oH,cell_set_hyperlink:cI,cell_set_internal_link:lH,cell_add_comment:cH,sheet_set_array_formula:uH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const uI=t=>String(t).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),fH=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},Lw=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},dH=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{try{const i=s.target?.result,o=rp(i,{type:"binary"}),c=o.SheetNames[0],f=o.Sheets[c];if(!f["!ref"]){e([]);return}const d=yf.decode_range(f["!ref"]),h=[],g=[],v=d.s.r;for(let T=d.s.c;T<=d.e.c;++T){const S=yf.encode_cell({c:T,r:v}),A=f[S];if(A&&A.v){const C=String(A.v);g.push({index:T,name:C,normalized:uI(C)})}}for(let T=v+1;T<=d.e.r;++T){const S={};let A;if(g.forEach(M=>{const B=yf.encode_cell({c:M.index,r:T}),fe=f[B];fe&&(S[M.normalized]=fe.v,!A&&(M.normalized.includes("endereco")||M.normalized.includes("logradouro")||M.normalized.includes("localizacao")||M.normalized==="rua"||M.normalized==="mapa"||M.normalized==="link")&&fe.l&&fe.l.Target&&(A=fe.l.Target))}),Object.keys(S).length===0)continue;const C=S.endereco||S.logradouro||S.localizacao||S["endereco completo"]||S.rua||S.end||"";let{address:k,link:V,lat:D,lng:H}=q0(C),G=A||V;const J=S.link||S.mapa||S["google maps"]||S.url||S.maps||S.coordenadas||S.geolocalizacao;let I;g.forEach(M=>{if(["link","mapa","google maps","url","maps","coordenadas","geolocalizacao"].includes(M.normalized)){const B=yf.encode_cell({c:M.index,r:T}),fe=f[B];fe&&fe.l&&fe.l.Target&&(I=fe.l.Target)}});const N=I||J;if(N){const M=q0(N);M.link&&(G=M.link),M.lat&&(D=M.lat),M.lng&&(H=M.lng)}const b=S["razao social"]||S.cliente||S["nome fantasia"]||S.empresa||S.nome||S["nome cliente"]||S.parceiro||S.loja||"",F=S["nome do proprietario"]||S.proprietario||S.dono||S["contato principal"]||S.responsavel||S.socio||"",O=String(S.contato||S.telefone||S.celular||S.whatsapp||S.tel||S.fone||"");(b||k||C)&&h.push({companyName:b,ownerName:F,phone:O,address:k,googleMapsLink:G,latitude:D,longitude:H})}e(h)}catch(i){console.error("Excel Parsing Error:",i),n(i)}},r.onerror=s=>n(s),r.readAsBinaryString(t)}),fI=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{try{const i=s.target?.result,o=rp(i,{type:"binary"}),c=o.SheetNames[0],f=o.Sheets[c],d=[];yf.sheet_to_json(f,{defval:""}).forEach(g=>{const v={};Object.keys(g).forEach(G=>{v[uI(G)]=g[G]});const T=String(v["numero do sku"]||v.sku||""),S=v.marca||v.fabricante||"Genrico",A=String(v["cod.fabrica"]||v["cod fabrica"]||v["codigo fabrica"]||""),C=v.descricao||v.nome||v.produto||"",k=fH(v["preco de venda"]||v.preco||0),V=v.categoria||S||"Geral",D=Lw(v.margem||0),H=Lw(v.desconto||v.discount||0);(T||C)&&d.push({category:V,sku:T,brand:S,factoryCode:A,name:C,price:k,margin:D,discount:H})}),e(d)}catch(i){console.error("Product Excel Parsing Error:",i),n(i)}},r.onerror=s=>n(s),r.readAsBinaryString(t)});var hH={};let pH,mH;function gH(){return{geminiUrl:pH,vertexUrl:mH}}function vH(t,e,n,r){var s,i;if(!t?.baseUrl){const o=gH();return e?(s=o.vertexUrl)!==null&&s!==void 0?s:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}class Ta{}function Je(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function x(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];x(h,e.slice(i+1),n[d])}else for(const d of f)x(d,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];x(f[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function xH(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),o=new Set;let c=-1;for(let f=0;f<s.length;f++)if(s[f]==="*"){c=f;break}if(c!==-1&&i.length>c)for(let f=c;f<i.length;f++){const d=i[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}Qv(t,s,i,0,o)}}function Qv(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2),c=t;if(o in c&&Array.isArray(c[o]))for(const f of c[o])Qv(f,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,c=Object.keys(o).filter(d=>!d.startsWith("_")&&!s.has(d)),f={};for(const d of c)f[d]=o[d];for(const[d,h]of Object.entries(f)){const g=[];for(const v of n.slice(r))v==="*"?g.push(d):g.push(v);x(o,g,h)}for(const d of c)delete o[d]}}else{const o=t;i in o&&Qv(o[i],e,n,r+1,s)}}function D1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function yH(t){const e={},n=m(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function _H(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const s=m(t,["done"]);s!=null&&x(e,["done"],s);const i=m(t,["error"]);i!=null&&x(e,["error"],i);const o=m(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],TH(o)),e}function EH(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const s=m(t,["done"]);s!=null&&x(e,["done"],s);const i=m(t,["error"]);i!=null&&x(e,["error"],i);const o=m(t,["response"]);return o!=null&&x(e,["response"],wH(o)),e}function TH(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SH(o))),x(e,["generatedVideos"],i)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&x(e,["raiMediaFilteredReasons"],s),e}function wH(t){const e={},n=m(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>AH(o))),x(e,["generatedVideos"],i)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&x(e,["raiMediaFilteredReasons"],s),e}function SH(t){const e={},n=m(t,["video"]);return n!=null&&x(e,["video"],kH(n)),e}function AH(t){const e={},n=m(t,["_self"]);return n!=null&&x(e,["video"],DH(n)),e}function CH(t){const e={},n=m(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function bH(t){const e={},n=m(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function NH(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const s=m(t,["done"]);s!=null&&x(e,["done"],s);const i=m(t,["error"]);i!=null&&x(e,["error"],i);const o=m(t,["response"]);return o!=null&&x(e,["response"],IH(o)),e}function IH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const s=m(t,["documentName"]);return s!=null&&x(e,["documentName"],s),e}function dI(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const s=m(t,["done"]);s!=null&&x(e,["done"],s);const i=m(t,["error"]);i!=null&&x(e,["error"],i);const o=m(t,["response"]);return o!=null&&x(e,["response"],RH(o)),e}function RH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const s=m(t,["documentName"]);return s!=null&&x(e,["documentName"],s),e}function kH(t){const e={},n=m(t,["uri"]);n!=null&&x(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],D1(r));const s=m(t,["encoding"]);return s!=null&&x(e,["mimeType"],s),e}function DH(t){const e={},n=m(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],D1(r));const s=m(t,["mimeType"]);return s!=null&&x(e,["mimeType"],s),e}var Uw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Uw||(Uw={}));var Vw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Vw||(Vw={}));var Bw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Bw||(Bw={}));var fo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(fo||(fo={}));var zw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(zw||(zw={}));var Hw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Hw||(Hw={}));var Gw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Gw||(Gw={}));var jw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(jw||(jw={}));var qw;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(qw||(qw={}));var $w;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($w||($w={}));var Kw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Kw||(Kw={}));var Yw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Yw||(Yw={}));var Jw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jw||(Jw={}));var Ww;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ww||(Ww={}));var Zw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Zw||(Zw={}));var Xw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Xw||(Xw={}));var Qw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Qw||(Qw={}));var eS;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(eS||(eS={}));var tS;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tS||(tS={}));var nS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(nS||(nS={}));var rS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rS||(rS={}));var sp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(sp||(sp={}));var sS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sS||(sS={}));var iS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(iS||(iS={}));var aS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aS||(aS={}));var ex;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ex||(ex={}));var oS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(oS||(oS={}));var lS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(lS||(lS={}));var tx;(function(t){t.COLLECTION="COLLECTION"})(tx||(tx={}));var cS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cS||(cS={}));var uS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(uS||(uS={}));var fS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(fS||(fS={}));var dS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(dS||(dS={}));var hS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(hS||(hS={}));var pS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pS||(pS={}));var mS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mS||(mS={}));var gS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gS||(gS={}));var vS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(vS||(vS={}));var xS;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(xS||(xS={}));var yS;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(yS||(yS={}));var _S;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(_S||(_S={}));var ES;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ES||(ES={}));var TS;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(TS||(TS={}));var wS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(wS||(wS={}));var SS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(SS||(SS={}));var AS;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(AS||(AS={}));var CS;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(CS||(CS={}));var bS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(bS||(bS={}));var NS;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(NS||(NS={}));var IS;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(IS||(IS={}));var RS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(RS||(RS={}));var kS;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kS||(kS={}));var DS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(DS||(DS={}));var MS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(MS||(MS={}));var PS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(PS||(PS={}));var FS;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(FS||(FS={}));var Dc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Dc||(Dc={}));class nx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class of{get text(){var e,n,r,s,i,o,c,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const g=[];for(const v of(f=(c=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[T,S]of Object.entries(v))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(S!==null||S!==void 0)&&g.push(T);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,s,i,o,c,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const g of(f=(c=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[v,T]of Object.entries(g))v!=="inlineData"&&(T!==null||T!==void 0)&&h.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,s,i,o,c,f;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,r,s,i,o,c,f,d;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(c=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,s,i,o,c,f,d;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(c=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.output}}class OS{}class LS{}class MH{}class PH{}class FH{}class OH{}class US{}class VS{}class BS{}class LH{}class ip{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ip;let s;const i=e;return n?s=EH(i):s=_H(i),Object.assign(r,s),r}}class zS{}class HS{}class GS{}class jS{}class UH{}class VH{}class BH{}class M1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new M1,i=NH(e);return Object.assign(r,i),r}}class zH{}class HH{}class GH{}class jH{}class qS{}class qH{get text(){var e,n,r;let s="",i=!1;const o=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&o.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;i=!0,s+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="inlineData"&&f!==null&&i.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(s+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class $H{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class P1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new P1,i=dI(e);return Object.assign(r,i),r}}function qt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function hI(t,e){const n=qt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function pI(t){return Array.isArray(t)?t.map(e=>ap(e)):[ap(t)]}function ap(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mI(t){const e=ap(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gI(t){const e=ap(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $S(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>$S(e)):[$S(t)]}function rx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function KS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function YS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Or(t){if(t==null)throw new Error("ContentUnion is required");return rx(t)?t:{role:"user",parts:vI(t)}}function F1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Or(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Or(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Or(n)):[Or(e)]}function js(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(KS(t)||YS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Or(t)]}const e=[],n=[],r=rx(t[0]);for(const s of t){const i=rx(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(KS(s)||YS(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:vI(n)}),e}function KH(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(fo).includes(n[0].toUpperCase())?n[0].toUpperCase():fo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(fo).includes(r.toUpperCase())?r.toUpperCase():fo.TYPE_UNSPECIFIED})}}function Vc(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&KH(t.type,e);for(const[o,c]of Object.entries(t))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(fo).includes(c.toUpperCase())?c.toUpperCase():fo.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Vc(c);else if(r.includes(o)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(Vc(d))}e[o]=f}else if(s.includes(o)){const f={};for(const[d,h]of Object.entries(c))f[d]=Vc(h);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=c}return e}function O1(t){return Vc(t)}function L1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function U1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ru(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Vc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Vc(e.response));return t}function su(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function YH(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function wa(t,e){if(typeof e!="string")throw new Error("name must be a string");return YH(t,e,"cachedContents")}function xI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Do(t){return D1(t)}function JH(t){return t!=null&&typeof t=="object"&&"name"in t}function WH(t){return t!=null&&typeof t=="object"&&"video"in t}function ZH(t){return t!=null&&typeof t=="object"&&"uri"in t}function yI(t){var e;let n;if(JH(t)&&(n=t.name),!(ZH(t)&&(n=t.uri,n===void 0))&&!(WH(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _I(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function EI(t){for(const e of["models","tunedModels","publisherModels"])if(XH(t,e))return t[e];return[]}function XH(t,e){return t!==null&&typeof t=="object"&&e in t}function QH(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function eG(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=QH(s,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function TI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function tG(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function wI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const o of s){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function iu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function SI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function nG(t){const e={},n=m(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>OG(o))),x(e,["inlinedResponses"],i)}const s=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["inlinedEmbedContentResponses"],i)}return e}function rG(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const s=m(t,["bigqueryDestination","outputUri"]);return s!=null&&x(e,["bigqueryUri"],s),e}function sG(t){const e={},n=m(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const s=m(t,["bigqueryUri"]);if(s!=null&&x(e,["bigqueryDestination","outputUri"],s),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function _0(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const s=m(t,["metadata","state"]);s!=null&&x(e,["state"],SI(s));const i=m(t,["metadata","createTime"]);i!=null&&x(e,["createTime"],i);const o=m(t,["metadata","endTime"]);o!=null&&x(e,["endTime"],o);const c=m(t,["metadata","updateTime"]);c!=null&&x(e,["updateTime"],c);const f=m(t,["metadata","model"]);f!=null&&x(e,["model"],f);const d=m(t,["metadata","output"]);return d!=null&&x(e,["dest"],nG(wI(d))),e}function sx(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["displayName"]);r!=null&&x(e,["displayName"],r);const s=m(t,["state"]);s!=null&&x(e,["state"],SI(s));const i=m(t,["error"]);i!=null&&x(e,["error"],i);const o=m(t,["createTime"]);o!=null&&x(e,["createTime"],o);const c=m(t,["startTime"]);c!=null&&x(e,["startTime"],c);const f=m(t,["endTime"]);f!=null&&x(e,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const h=m(t,["model"]);h!=null&&x(e,["model"],h);const g=m(t,["inputConfig"]);g!=null&&x(e,["src"],iG(g));const v=m(t,["outputConfig"]);v!=null&&x(e,["dest"],rG(wI(v)));const T=m(t,["completionStats"]);return T!=null&&x(e,["completionStats"],T),e}function iG(t){const e={},n=m(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const s=m(t,["bigquerySource","inputUri"]);return s!=null&&x(e,["bigqueryUri"],s),e}function aG(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&x(n,["fileName"],r);const s=m(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>FG(t,o))),x(n,["requests","requests"],i)}return n}function oG(t){const e={},n=m(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const s=m(t,["bigqueryUri"]);if(s!=null&&x(e,["bigquerySource","inputUri"],s),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function lG(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function cG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function uG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function fG(t){const e={},n=m(t,["content"]);n!=null&&x(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],dG(r));const s=m(t,["tokenCount"]);s!=null&&x(e,["tokenCount"],s);const i=m(t,["finishReason"]);i!=null&&x(e,["finishReason"],i);const o=m(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const c=m(t,["groundingMetadata"]);c!=null&&x(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&x(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const h=m(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["safetyRatings"],v)}const g=m(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function dG(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),x(e,["citations"],r)}return e}function AI(t){const e={},n=m(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>GG(i))),x(e,["parts"],s)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function hG(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function pG(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const s=m(t,["dest"]);return e!==void 0&&s!=null&&x(e,["outputConfig"],sG(tG(s))),n}function JS(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["_url","model"],qt(t,r));const s=m(e,["src"]);s!=null&&x(n,["batch","inputConfig"],aG(t,TI(t,s)));const i=m(e,["config"]);return i!=null&&hG(i,n),n}function mG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],qt(t,r));const s=m(e,["src"]);s!=null&&x(n,["inputConfig"],oG(TI(t,s)));const i=m(e,["config"]);return i!=null&&pG(i,n),n}function gG(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function vG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["_url","model"],qt(t,r));const s=m(e,["src"]);s!=null&&x(n,["batch","inputConfig"],SG(t,s));const i=m(e,["config"]);return i!=null&&gG(i,n),n}function xG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function yG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function _G(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const s=m(t,["done"]);s!=null&&x(e,["done"],s);const i=m(t,["error"]);return i!=null&&x(e,["error"],i),e}function EG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const s=m(t,["done"]);s!=null&&x(e,["done"],s);const i=m(t,["error"]);return i!=null&&x(e,["error"],i),e}function TG(t,e){const n={},r=m(e,["contents"]);if(r!=null){let i=F1(t,r);Array.isArray(i)&&(i=i.map(o=>o)),x(n,["requests[]","request","content"],i)}const s=m(e,["config"]);return s!=null&&(x(n,["_self"],wG(s,n)),xH(n,{"requests[].*":"requests[].request.*"})),n}function wG(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const s=m(t,["title"]);e!==void 0&&s!=null&&x(e,["requests[]","title"],s);const i=m(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&x(e,["requests[]","outputDimensionality"],i),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function SG(t,e){const n={},r=m(e,["fileName"]);r!=null&&x(n,["file_name"],r);const s=m(e,["inlinedRequests"]);return s!=null&&x(n,["requests"],TG(t,s)),n}function AG(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function CG(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const s=m(t,["name"]);if(s!=null&&x(e,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bG(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&x(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function NG(t,e,n){const r={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&x(n,["systemInstruction"],AI(Or(s)));const i=m(e,["temperature"]);i!=null&&x(r,["temperature"],i);const o=m(e,["topP"]);o!=null&&x(r,["topP"],o);const c=m(e,["topK"]);c!=null&&x(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&x(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const g=m(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const v=m(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const T=m(e,["presencePenalty"]);T!=null&&x(r,["presencePenalty"],T);const S=m(e,["frequencyPenalty"]);S!=null&&x(r,["frequencyPenalty"],S);const A=m(e,["seed"]);A!=null&&x(r,["seed"],A);const C=m(e,["responseMimeType"]);C!=null&&x(r,["responseMimeType"],C);const k=m(e,["responseSchema"]);k!=null&&x(r,["responseSchema"],O1(k));const V=m(e,["responseJsonSchema"]);if(V!=null&&x(r,["responseJsonSchema"],V),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=m(e,["safetySettings"]);if(n!==void 0&&D!=null){let B=D;Array.isArray(B)&&(B=B.map(fe=>jG(fe))),x(n,["safetySettings"],B)}const H=m(e,["tools"]);if(n!==void 0&&H!=null){let B=su(H);Array.isArray(B)&&(B=B.map(fe=>$G(ru(fe)))),x(n,["tools"],B)}const G=m(e,["toolConfig"]);if(n!==void 0&&G!=null&&x(n,["toolConfig"],qG(G)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const J=m(e,["cachedContent"]);n!==void 0&&J!=null&&x(n,["cachedContent"],wa(t,J));const I=m(e,["responseModalities"]);I!=null&&x(r,["responseModalities"],I);const N=m(e,["mediaResolution"]);N!=null&&x(r,["mediaResolution"],N);const b=m(e,["speechConfig"]);if(b!=null&&x(r,["speechConfig"],L1(b)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=m(e,["thinkingConfig"]);F!=null&&x(r,["thinkingConfig"],F);const O=m(e,["imageConfig"]);O!=null&&x(r,["imageConfig"],PG(O));const M=m(e,["enableEnhancedCivicAnswers"]);if(M!=null&&x(r,["enableEnhancedCivicAnswers"],M),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function IG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>fG(d))),x(e,["candidates"],f)}const s=m(t,["modelVersion"]);s!=null&&x(e,["modelVersion"],s);const i=m(t,["promptFeedback"]);i!=null&&x(e,["promptFeedback"],i);const o=m(t,["responseId"]);o!=null&&x(e,["responseId"],o);const c=m(t,["usageMetadata"]);return c!=null&&x(e,["usageMetadata"],c),e}function RG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function kG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function DG(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function MG(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function PG(t){const e={},n=m(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function FG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["request","model"],qt(t,r));const s=m(e,["contents"]);if(s!=null){let c=js(s);Array.isArray(c)&&(c=c.map(f=>AI(f))),x(n,["request","contents"],c)}const i=m(e,["metadata"]);i!=null&&x(n,["metadata"],i);const o=m(e,["config"]);return o!=null&&x(n,["request","generationConfig"],NG(t,o,m(n,["request"],{}))),n}function OG(t){const e={},n=m(t,["response"]);n!=null&&x(e,["response"],IG(n));const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const s=m(t,["error"]);return s!=null&&x(e,["error"],s),e}function LG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const s=m(t,["pageToken"]);if(e!==void 0&&s!=null&&x(e,["_query","pageToken"],s),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function UG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&x(e,["_query","pageToken"],s);const i=m(t,["filter"]);return e!==void 0&&i!=null&&x(e,["_query","filter"],i),n}function VG(t){const e={},n=m(t,["config"]);return n!=null&&LG(n,e),e}function BG(t){const e={},n=m(t,["config"]);return n!=null&&UG(n,e),e}function zG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const s=m(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>_0(o))),x(e,["batchJobs"],i)}return e}function HG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const s=m(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>sx(o))),x(e,["batchJobs"],i)}return e}function GG(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const s=m(t,["executableCode"]);s!=null&&x(e,["executableCode"],s);const i=m(t,["fileData"]);i!=null&&x(e,["fileData"],AG(i));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],CG(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],lG(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function jG(t){const e={},n=m(t,["category"]);if(n!=null&&x(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function qG(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],bG(r)),e}function $G(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const s=m(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=m(t,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],DG(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],MG(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}var va;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(va||(va={}));class Fl{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(s=o.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class KG extends Ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fl(va.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=JS(this.apiClient,e),r=n._url,s=Je("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const h of f){const g=Object.assign({},h);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const T=g.request;T.systemInstruction=v,g.request=T}d.push(g)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(o)r.dest=`${o}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=mG(this.apiClient,e);return c=Je("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>sx(h))}else{const d=JS(this.apiClient,e);return c=Je("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_0(h))}}async createEmbeddingsInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vG(this.apiClient,e);return i=Je("{model}:asyncBatchEmbedContent",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>_0(f))}}async get(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=kG(this.apiClient,e);return c=Je("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>sx(h))}else{const d=RG(this.apiClient,e);return c=Je("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>_0(h))}}async cancel(e){var n,r,s,i;let o="",c={};if(this.apiClient.isVertexAI()){const f=uG(this.apiClient,e);o=Je("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=cG(this.apiClient,e);o=Je("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=BG(e);return c=Je("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=HG(h),v=new qS;return Object.assign(v,g),v})}else{const d=VG(e);return c=Je("batches",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=zG(h),v=new qS;return Object.assign(v,g),v})}}async delete(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=yG(this.apiClient,e);return c=Je("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>EG(h))}else{const d=xG(this.apiClient,e);return c=Je("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>_G(h))}}}function YG(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function WS(t){const e={},n=m(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>vj(i))),x(e,["parts"],s)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function JG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const s=m(t,["expireTime"]);e!==void 0&&s!=null&&x(e,["expireTime"],s);const i=m(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const o=m(t,["contents"]);if(e!==void 0&&o!=null){let h=js(o);Array.isArray(h)&&(h=h.map(g=>WS(g))),x(e,["contents"],h)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&x(e,["systemInstruction"],WS(Or(c)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>yj(g))),x(e,["tools"],h)}const d=m(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],xj(d)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function WG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const s=m(t,["expireTime"]);e!==void 0&&s!=null&&x(e,["expireTime"],s);const i=m(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const o=m(t,["contents"]);if(e!==void 0&&o!=null){let g=js(o);Array.isArray(g)&&(g=g.map(v=>v)),x(e,["contents"],g)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&x(e,["systemInstruction"],Or(c));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>_j(v))),x(e,["tools"],g)}const d=m(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const h=m(t,["kmsKeyName"]);return e!==void 0&&h!=null&&x(e,["encryption_spec","kmsKeyName"],h),n}function ZG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],hI(t,r));const s=m(e,["config"]);return s!=null&&JG(s,n),n}function XG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],hI(t,r));const s=m(e,["config"]);return s!=null&&WG(s,n),n}function QG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],wa(t,r)),n}function ej(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],wa(t,r)),n}function tj(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function nj(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function rj(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function sj(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const s=m(t,["name"]);if(s!=null&&x(e,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ij(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&x(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aj(t){const e={},n=m(t,["description"]);n!=null&&x(e,["description"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const s=m(t,["parameters"]);s!=null&&x(e,["parameters"],s);const i=m(t,["parametersJsonSchema"]);i!=null&&x(e,["parametersJsonSchema"],i);const o=m(t,["response"]);o!=null&&x(e,["response"],o);const c=m(t,["responseJsonSchema"]);if(c!=null&&x(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oj(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],wa(t,r)),n}function lj(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],wa(t,r)),n}function cj(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function uj(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function fj(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const s=m(t,["pageToken"]);return e!==void 0&&s!=null&&x(e,["_query","pageToken"],s),n}function dj(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const s=m(t,["pageToken"]);return e!==void 0&&s!=null&&x(e,["_query","pageToken"],s),n}function hj(t){const e={},n=m(t,["config"]);return n!=null&&fj(n,e),e}function pj(t){const e={},n=m(t,["config"]);return n!=null&&dj(n,e),e}function mj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const s=m(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["cachedContents"],i)}return e}function gj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const s=m(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["cachedContents"],i)}return e}function vj(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const s=m(t,["executableCode"]);s!=null&&x(e,["executableCode"],s);const i=m(t,["fileData"]);i!=null&&x(e,["fileData"],rj(i));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],sj(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],YG(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function xj(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],ij(r)),e}function yj(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const s=m(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=m(t,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],cj(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],uj(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function _j(t){const e={},n=m(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=m(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const i=m(t,["enterpriseWebSearch"]);i!=null&&x(e,["enterpriseWebSearch"],i);const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>aj(v))),x(e,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&x(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function Ej(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const s=m(t,["expireTime"]);return e!==void 0&&s!=null&&x(e,["expireTime"],s),n}function Tj(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const s=m(t,["expireTime"]);return e!==void 0&&s!=null&&x(e,["expireTime"],s),n}function wj(t,e){const n={},r=m(e,["name"]);r!=null&&x(n,["_url","name"],wa(t,r));const s=m(e,["config"]);return s!=null&&Ej(s,n),n}function Sj(t,e){const n={},r=m(e,["name"]);r!=null&&x(n,["_url","name"],wa(t,r));const s=m(e,["config"]);return s!=null&&Tj(s,n),n}class Aj extends Ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fl(va.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=XG(this.apiClient,e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=ZG(this.apiClient,e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=lj(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=oj(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=ej(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=nj(h),v=new GS;return Object.assign(v,g),v})}else{const d=QG(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=tj(h),v=new GS;return Object.assign(v,g),v})}}async update(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Sj(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=wj(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async listInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=pj(e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=gj(h),v=new jS;return Object.assign(v,g),v})}else{const d=hj(e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=mj(h),v=new jS;return Object.assign(v,g),v})}}}function op(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mt(t){return this instanceof mt?(this.v=t,this):new mt(t)}function pi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(T){return function(S){return Promise.resolve(S).then(T,g)}}function c(T,S){r[T]&&(s[T]=function(A){return new Promise(function(C,k){i.push([T,A,C,k])>1||f(T,A)})},S&&(s[T]=S(s[T])))}function f(T,S){try{d(r[T](S))}catch(A){v(i[0][3],A)}}function d(T){T.value instanceof mt?Promise.resolve(T.value.v).then(h,g):v(i[0][2],T)}function h(T){f("next",T)}function g(T){f("throw",T)}function v(T,S){T(S),i.shift(),i.length&&f(i[0][0],i[0][1])}}function mi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ZS=="function"?ZS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(c,f){o=t[i](o),s(c,f,o.done,o.value)})}}function s(i,o,c,f){Promise.resolve(f).then(function(d){i({value:d,done:c})},o)}}function Cj(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:CI(n)}function CI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function bj(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function XS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!CI(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class Nj{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ij(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ij{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),bj(i)}async sendMessage(e){var n;await this.sendPromise;const r=Or(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,c;const f=await s,d=(o=(i=f.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,h=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];h!=null&&(v=(c=h.slice(g))!==null&&c!==void 0?c:[]);const T=d?[d]:[];this.recordHistory(r,T,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=Or(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?XS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return pi(this,arguments,function*(){var s,i,o,c,f,d;const h=[];try{for(var g=!0,v=mi(e),T;T=yield mt(v.next()),s=T.done,!s;g=!0){c=T.value,g=!1;const S=c;if(Cj(S)){const A=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;A!==void 0&&h.push(A)}yield yield mt(S)}}catch(S){i={error:S}}finally{try{!g&&!s&&(o=v.return)&&(yield mt(o.call(v)))}finally{if(i)throw i.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...XS(r)):this.history.push(e),this.history.push(...s)}}class nd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,nd.prototype)}}function Rj(t){const e={},n=m(t,["file"]);return n!=null&&x(e,["file"],n),e}function kj(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Dj(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","file"],yI(n)),e}function Mj(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Pj(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","file"],yI(n)),e}function Fj(t){const e={},n=m(t,["uris"]);return n!=null&&x(e,["uris"],n),e}function Oj(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const s=m(t,["pageToken"]);return e!==void 0&&s!=null&&x(e,["_query","pageToken"],s),n}function Lj(t){const e={},n=m(t,["config"]);return n!=null&&Oj(n,e),e}function Uj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const s=m(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["files"],i)}return e}function Vj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),x(e,["files"],s)}return e}class Bj extends Ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fl(va.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Lj(e);return i=Je("files",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const d=Uj(f),h=new zH;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Rj(e);return i=Je("upload/v1beta/files",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const d=kj(f),h=new HH;return Object.assign(h,d),h})}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Pj(e);return i=Je("files/{file}",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Dj(e);return i=Je("files/{file}",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const d=Mj(f),h=new GH;return Object.assign(h,d),h})}}async registerFilesInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Fj(e);return i=Je("files:register",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const d=Vj(f),h=new jH;return Object.assign(h,d),h})}}}function E0(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function zj(t){const e={},n=m(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>rq(i))),x(e,["parts"],s)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function Hj(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Gj(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const s=m(t,["name"]);if(s!=null&&x(e,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jj(t){const e={},n=m(t,["description"]);n!=null&&x(e,["description"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const s=m(t,["parameters"]);s!=null&&x(e,["parameters"],s);const i=m(t,["parametersJsonSchema"]);i!=null&&x(e,["parametersJsonSchema"],i);const o=m(t,["response"]);o!=null&&x(e,["response"],o);const c=m(t,["responseJsonSchema"]);if(c!=null&&x(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function qj(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const s=m(t,["audioTimestamp"]);s!=null&&x(e,["audioTimestamp"],s);const i=m(t,["candidateCount"]);i!=null&&x(e,["candidateCount"],i);const o=m(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const c=m(t,["frequencyPenalty"]);c!=null&&x(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&x(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const h=m(t,["mediaResolution"]);h!=null&&x(e,["mediaResolution"],h);const g=m(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const v=m(t,["responseLogprobs"]);v!=null&&x(e,["responseLogprobs"],v);const T=m(t,["responseMimeType"]);T!=null&&x(e,["responseMimeType"],T);const S=m(t,["responseModalities"]);S!=null&&x(e,["responseModalities"],S);const A=m(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const C=m(t,["routingConfig"]);C!=null&&x(e,["routingConfig"],C);const k=m(t,["seed"]);k!=null&&x(e,["seed"],k);const V=m(t,["speechConfig"]);V!=null&&x(e,["speechConfig"],V);const D=m(t,["stopSequences"]);D!=null&&x(e,["stopSequences"],D);const H=m(t,["temperature"]);H!=null&&x(e,["temperature"],H);const G=m(t,["thinkingConfig"]);G!=null&&x(e,["thinkingConfig"],G);const J=m(t,["topK"]);J!=null&&x(e,["topK"],J);const I=m(t,["topP"]);if(I!=null&&x(e,["topP"],I),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $j(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function Kj(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function Yj(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const s=m(t,["responseModalities"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","responseModalities"],s);const i=m(t,["temperature"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","temperature"],i);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],U1(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],zj(Or(S)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let J=su(A);Array.isArray(J)&&(J=J.map(I=>iq(ru(I)))),x(e,["setup","tools"],J)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],sq(C));const k=m(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&x(e,["setup","inputAudioTranscription"],k);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&x(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&x(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);if(e!==void 0&&G!=null&&x(e,["setup","proactivity"],G),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Jj(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],qj(r));const s=m(t,["responseModalities"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","responseModalities"],s);const i=m(t,["temperature"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","temperature"],i);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],U1(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],Or(S));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let I=su(A);Array.isArray(I)&&(I=I.map(N=>aq(ru(N)))),x(e,["setup","tools"],I)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],C);const k=m(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&x(e,["setup","inputAudioTranscription"],k);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&x(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&x(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);e!==void 0&&G!=null&&x(e,["setup","proactivity"],G);const J=m(t,["explicitVadSignal"]);return e!==void 0&&J!=null&&x(e,["setup","explicitVadSignal"],J),n}function Wj(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],qt(t,r));const s=m(e,["config"]);return s!=null&&x(n,["config"],Yj(s,n)),n}function Zj(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],qt(t,r));const s=m(e,["config"]);return s!=null&&x(n,["config"],Jj(s,n)),n}function Xj(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function Qj(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),x(e,["weightedPrompts"],r)}return e}function eq(t){const e={},n=m(t,["media"]);if(n!=null){let d=pI(n);Array.isArray(d)&&(d=d.map(h=>E0(h))),x(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&x(e,["audio"],E0(gI(r)));const s=m(t,["audioStreamEnd"]);s!=null&&x(e,["audioStreamEnd"],s);const i=m(t,["video"]);i!=null&&x(e,["video"],E0(mI(i)));const o=m(t,["text"]);o!=null&&x(e,["text"],o);const c=m(t,["activityStart"]);c!=null&&x(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&x(e,["activityEnd"],f),e}function tq(t){const e={},n=m(t,["media"]);if(n!=null){let d=pI(n);Array.isArray(d)&&(d=d.map(h=>h)),x(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&x(e,["audio"],gI(r));const s=m(t,["audioStreamEnd"]);s!=null&&x(e,["audioStreamEnd"],s);const i=m(t,["video"]);i!=null&&x(e,["video"],mI(i));const o=m(t,["text"]);o!=null&&x(e,["text"],o);const c=m(t,["activityStart"]);c!=null&&x(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&x(e,["activityEnd"],f),e}function nq(t){const e={},n=m(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const s=m(t,["toolCall"]);s!=null&&x(e,["toolCall"],s);const i=m(t,["toolCallCancellation"]);i!=null&&x(e,["toolCallCancellation"],i);const o=m(t,["usageMetadata"]);o!=null&&x(e,["usageMetadata"],oq(o));const c=m(t,["goAway"]);c!=null&&x(e,["goAway"],c);const f=m(t,["sessionResumptionUpdate"]);f!=null&&x(e,["sessionResumptionUpdate"],f);const d=m(t,["voiceActivityDetectionSignal"]);d!=null&&x(e,["voiceActivityDetectionSignal"],d);const h=m(t,["voiceActivity"]);return h!=null&&x(e,["voiceActivity"],lq(h)),e}function rq(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const s=m(t,["executableCode"]);s!=null&&x(e,["executableCode"],s);const i=m(t,["fileData"]);i!=null&&x(e,["fileData"],Hj(i));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],Gj(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],E0(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function sq(t){const e={},n=m(t,["handle"]);if(n!=null&&x(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function iq(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const s=m(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=m(t,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],$j(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],Kj(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function aq(t){const e={},n=m(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=m(t,["codeExecution"]);s!=null&&x(e,["codeExecution"],s);const i=m(t,["enterpriseWebSearch"]);i!=null&&x(e,["enterpriseWebSearch"],i);const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>jj(v))),x(e,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&x(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function oq(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const s=m(t,["candidatesTokenCount"]);s!=null&&x(e,["responseTokenCount"],s);const i=m(t,["toolUsePromptTokenCount"]);i!=null&&x(e,["toolUsePromptTokenCount"],i);const o=m(t,["thoughtsTokenCount"]);o!=null&&x(e,["thoughtsTokenCount"],o);const c=m(t,["totalTokenCount"]);c!=null&&x(e,["totalTokenCount"],c);const f=m(t,["promptTokensDetails"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["promptTokensDetails"],T)}const d=m(t,["cacheTokensDetails"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["cacheTokensDetails"],T)}const h=m(t,["candidatesTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["responseTokensDetails"],T)}const g=m(t,["toolUsePromptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["toolUsePromptTokensDetails"],T)}const v=m(t,["trafficType"]);return v!=null&&x(e,["trafficType"],v),e}function lq(t){const e={},n=m(t,["type"]);return n!=null&&x(e,["voiceActivityType"],n),e}function cq(t,e){const n={},r=m(t,["data"]);if(r!=null&&x(n,["data"],r),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function uq(t,e){const n={},r=m(t,["content"]);r!=null&&x(n,["content"],r);const s=m(t,["citationMetadata"]);s!=null&&x(n,["citationMetadata"],fq(s));const i=m(t,["tokenCount"]);i!=null&&x(n,["tokenCount"],i);const o=m(t,["finishReason"]);o!=null&&x(n,["finishReason"],o);const c=m(t,["avgLogprobs"]);c!=null&&x(n,["avgLogprobs"],c);const f=m(t,["groundingMetadata"]);f!=null&&x(n,["groundingMetadata"],f);const d=m(t,["index"]);d!=null&&x(n,["index"],d);const h=m(t,["logprobsResult"]);h!=null&&x(n,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),x(n,["safetyRatings"],T)}const v=m(t,["urlContextMetadata"]);return v!=null&&x(n,["urlContextMetadata"],v),n}function fq(t,e){const n={},r=m(t,["citationSources"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),x(n,["citations"],s)}return n}function dq(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["contents"]);if(i!=null){let o=js(i);Array.isArray(o)&&(o=o.map(c=>c)),x(r,["contents"],o)}return r}function hq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["tokensInfo"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["tokensInfo"],i)}return n}function pq(t,e){const n={},r=m(t,["values"]);r!=null&&x(n,["values"],r);const s=m(t,["statistics"]);return s!=null&&x(n,["statistics"],mq(s)),n}function mq(t,e){const n={},r=m(t,["truncated"]);r!=null&&x(n,["truncated"],r);const s=m(t,["token_count"]);return s!=null&&x(n,["tokenCount"],s),n}function Fp(t,e){const n={},r=m(t,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>S$(o))),x(n,["parts"],i)}const s=m(t,["role"]);return s!=null&&x(n,["role"],s),n}function gq(t,e){const n={},r=m(t,["controlType"]);r!=null&&x(n,["controlType"],r);const s=m(t,["enableControlImageComputation"]);return s!=null&&x(n,["computeControl"],s),n}function vq(t,e){const n={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function xq(t,e,n){const r={},s=m(t,["systemInstruction"]);e!==void 0&&s!=null&&x(e,["systemInstruction"],Or(s));const i=m(t,["tools"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>RI(f))),x(e,["tools"],c)}const o=m(t,["generationConfig"]);return e!==void 0&&o!=null&&x(e,["generationConfig"],c$(o)),r}function yq(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["contents"]);if(i!=null){let c=js(i);Array.isArray(c)&&(c=c.map(f=>Fp(f))),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&vq(o),r}function _q(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["contents"]);if(i!=null){let c=js(i);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&xq(o,r),r}function Eq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["totalTokens"]);s!=null&&x(n,["totalTokens"],s);const i=m(t,["cachedContentTokenCount"]);return i!=null&&x(n,["cachedContentTokenCount"],i),n}function Tq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["totalTokens"]);return s!=null&&x(n,["totalTokens"],s),n}function wq(t,e,n){const r={},s=m(e,["model"]);return s!=null&&x(r,["_url","name"],qt(t,s)),r}function Sq(t,e,n){const r={},s=m(e,["model"]);return s!=null&&x(r,["_url","name"],qt(t,s)),r}function Aq(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Cq(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function bq(t,e,n){const r={},s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&x(e,["parameters","storageUri"],s);const i=m(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&x(e,["parameters","sampleCount"],o);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&x(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&x(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&x(e,["parameters","includeSafetyAttributes"],v);const T=m(t,["includeRaiReason"]);e!==void 0&&T!=null&&x(e,["parameters","includeRaiReason"],T);const S=m(t,["language"]);e!==void 0&&S!=null&&x(e,["parameters","language"],S);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&x(e,["parameters","outputOptions","compressionQuality"],C);const k=m(t,["addWatermark"]);e!==void 0&&k!=null&&x(e,["parameters","addWatermark"],k);const V=m(t,["labels"]);e!==void 0&&V!=null&&x(e,["labels"],V);const D=m(t,["editMode"]);e!==void 0&&D!=null&&x(e,["parameters","editMode"],D);const H=m(t,["baseSteps"]);return e!==void 0&&H!=null&&x(e,["parameters","editConfig","baseSteps"],H),r}function Nq(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const o=m(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>R$(d))),x(r,["instances[0]","referenceImages"],f)}const c=m(e,["config"]);return c!=null&&bq(c,r),r}function Iq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["predictions"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Op(o))),x(n,["generatedImages"],i)}return n}function Rq(t,e,n){const r={},s=m(t,["taskType"]);e!==void 0&&s!=null&&x(e,["requests[]","taskType"],s);const i=m(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&x(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function kq(t,e,n){const r={},s=m(t,["taskType"]);e!==void 0&&s!=null&&x(e,["instances[]","task_type"],s);const i=m(t,["title"]);e!==void 0&&i!=null&&x(e,["instances[]","title"],i);const o=m(t,["outputDimensionality"]);e!==void 0&&o!=null&&x(e,["parameters","outputDimensionality"],o);const c=m(t,["mimeType"]);e!==void 0&&c!=null&&x(e,["instances[]","mimeType"],c);const f=m(t,["autoTruncate"]);return e!==void 0&&f!=null&&x(e,["parameters","autoTruncate"],f),r}function Dq(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["contents"]);if(i!=null){let f=F1(t,i);Array.isArray(f)&&(f=f.map(d=>d)),x(r,["requests[]","content"],f)}const o=m(e,["config"]);o!=null&&Rq(o,r);const c=m(e,["model"]);return c!==void 0&&x(r,["requests[]","model"],qt(t,c)),r}function Mq(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["contents"]);if(i!=null){let c=F1(t,i);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["instances[]","content"],c)}const o=m(e,["config"]);return o!=null&&kq(o,r),r}function Pq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["embeddings"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>c)),x(n,["embeddings"],o)}const i=m(t,["metadata"]);return i!=null&&x(n,["metadata"],i),n}function Fq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["predictions[]","embeddings"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>pq(c))),x(n,["embeddings"],o)}const i=m(t,["metadata"]);return i!=null&&x(n,["metadata"],i),n}function Oq(t,e){const n={},r=m(t,["endpoint"]);r!=null&&x(n,["name"],r);const s=m(t,["deployedModelId"]);return s!=null&&x(n,["deployedModelId"],s),n}function Lq(t,e){const n={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["fileUri"]);r!=null&&x(n,["fileUri"],r);const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function Uq(t,e){const n={},r=m(t,["id"]);r!=null&&x(n,["id"],r);const s=m(t,["args"]);s!=null&&x(n,["args"],s);const i=m(t,["name"]);if(i!=null&&x(n,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Vq(t,e){const n={},r=m(t,["allowedFunctionNames"]);r!=null&&x(n,["allowedFunctionNames"],r);const s=m(t,["mode"]);if(s!=null&&x(n,["mode"],s),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Bq(t,e){const n={},r=m(t,["description"]);r!=null&&x(n,["description"],r);const s=m(t,["name"]);s!=null&&x(n,["name"],s);const i=m(t,["parameters"]);i!=null&&x(n,["parameters"],i);const o=m(t,["parametersJsonSchema"]);o!=null&&x(n,["parametersJsonSchema"],o);const c=m(t,["response"]);c!=null&&x(n,["response"],c);const f=m(t,["responseJsonSchema"]);if(f!=null&&x(n,["responseJsonSchema"],f),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function zq(t,e,n,r){const s={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Fp(Or(i)));const o=m(e,["temperature"]);o!=null&&x(s,["temperature"],o);const c=m(e,["topP"]);c!=null&&x(s,["topP"],c);const f=m(e,["topK"]);f!=null&&x(s,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&x(s,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&x(s,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&x(s,["stopSequences"],g);const v=m(e,["responseLogprobs"]);v!=null&&x(s,["responseLogprobs"],v);const T=m(e,["logprobs"]);T!=null&&x(s,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&x(s,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&x(s,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&x(s,["seed"],C);const k=m(e,["responseMimeType"]);k!=null&&x(s,["responseMimeType"],k);const V=m(e,["responseSchema"]);V!=null&&x(s,["responseSchema"],O1(V));const D=m(e,["responseJsonSchema"]);if(D!=null&&x(s,["responseJsonSchema"],D),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=m(e,["safetySettings"]);if(n!==void 0&&H!=null){let fe=H;Array.isArray(fe)&&(fe=fe.map(pe=>k$(pe))),x(n,["safetySettings"],fe)}const G=m(e,["tools"]);if(n!==void 0&&G!=null){let fe=su(G);Array.isArray(fe)&&(fe=fe.map(pe=>U$(ru(pe)))),x(n,["tools"],fe)}const J=m(e,["toolConfig"]);if(n!==void 0&&J!=null&&x(n,["toolConfig"],L$(J)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=m(e,["cachedContent"]);n!==void 0&&I!=null&&x(n,["cachedContent"],wa(t,I));const N=m(e,["responseModalities"]);N!=null&&x(s,["responseModalities"],N);const b=m(e,["mediaResolution"]);b!=null&&x(s,["mediaResolution"],b);const F=m(e,["speechConfig"]);if(F!=null&&x(s,["speechConfig"],L1(F)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=m(e,["thinkingConfig"]);O!=null&&x(s,["thinkingConfig"],O);const M=m(e,["imageConfig"]);M!=null&&x(s,["imageConfig"],p$(M));const B=m(e,["enableEnhancedCivicAnswers"]);if(B!=null&&x(s,["enableEnhancedCivicAnswers"],B),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function Hq(t,e,n,r){const s={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],Or(i));const o=m(e,["temperature"]);o!=null&&x(s,["temperature"],o);const c=m(e,["topP"]);c!=null&&x(s,["topP"],c);const f=m(e,["topK"]);f!=null&&x(s,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&x(s,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&x(s,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&x(s,["stopSequences"],g);const v=m(e,["responseLogprobs"]);v!=null&&x(s,["responseLogprobs"],v);const T=m(e,["logprobs"]);T!=null&&x(s,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&x(s,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&x(s,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&x(s,["seed"],C);const k=m(e,["responseMimeType"]);k!=null&&x(s,["responseMimeType"],k);const V=m(e,["responseSchema"]);V!=null&&x(s,["responseSchema"],O1(V));const D=m(e,["responseJsonSchema"]);D!=null&&x(s,["responseJsonSchema"],D);const H=m(e,["routingConfig"]);H!=null&&x(s,["routingConfig"],H);const G=m(e,["modelSelectionConfig"]);G!=null&&x(s,["modelConfig"],G);const J=m(e,["safetySettings"]);if(n!==void 0&&J!=null){let ee=J;Array.isArray(ee)&&(ee=ee.map(ie=>ie)),x(n,["safetySettings"],ee)}const I=m(e,["tools"]);if(n!==void 0&&I!=null){let ee=su(I);Array.isArray(ee)&&(ee=ee.map(ie=>RI(ru(ie)))),x(n,["tools"],ee)}const N=m(e,["toolConfig"]);n!==void 0&&N!=null&&x(n,["toolConfig"],N);const b=m(e,["labels"]);n!==void 0&&b!=null&&x(n,["labels"],b);const F=m(e,["cachedContent"]);n!==void 0&&F!=null&&x(n,["cachedContent"],wa(t,F));const O=m(e,["responseModalities"]);O!=null&&x(s,["responseModalities"],O);const M=m(e,["mediaResolution"]);M!=null&&x(s,["mediaResolution"],M);const B=m(e,["speechConfig"]);B!=null&&x(s,["speechConfig"],L1(B));const fe=m(e,["audioTimestamp"]);fe!=null&&x(s,["audioTimestamp"],fe);const pe=m(e,["thinkingConfig"]);pe!=null&&x(s,["thinkingConfig"],pe);const ae=m(e,["imageConfig"]);if(ae!=null&&x(s,["imageConfig"],m$(ae)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ce=m(e,["modelArmorConfig"]);return n!==void 0&&ce!=null&&x(n,["modelArmorConfig"],ce),s}function QS(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["contents"]);if(i!=null){let c=js(i);Array.isArray(c)&&(c=c.map(f=>Fp(f))),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&x(r,["generationConfig"],zq(t,o,r)),r}function eA(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["contents"]);if(i!=null){let c=js(i);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&x(r,["generationConfig"],Hq(t,o,r)),r}function tA(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["candidates"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>uq(h))),x(n,["candidates"],d)}const i=m(t,["modelVersion"]);i!=null&&x(n,["modelVersion"],i);const o=m(t,["promptFeedback"]);o!=null&&x(n,["promptFeedback"],o);const c=m(t,["responseId"]);c!=null&&x(n,["responseId"],c);const f=m(t,["usageMetadata"]);return f!=null&&x(n,["usageMetadata"],f),n}function nA(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(n,["candidates"],h)}const i=m(t,["createTime"]);i!=null&&x(n,["createTime"],i);const o=m(t,["modelVersion"]);o!=null&&x(n,["modelVersion"],o);const c=m(t,["promptFeedback"]);c!=null&&x(n,["promptFeedback"],c);const f=m(t,["responseId"]);f!=null&&x(n,["responseId"],f);const d=m(t,["usageMetadata"]);return d!=null&&x(n,["usageMetadata"],d),n}function Gq(t,e,n){const r={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=m(t,["numberOfImages"]);e!==void 0&&s!=null&&x(e,["parameters","sampleCount"],s);const i=m(t,["aspectRatio"]);e!==void 0&&i!=null&&x(e,["parameters","aspectRatio"],i);const o=m(t,["guidanceScale"]);if(e!==void 0&&o!=null&&x(e,["parameters","guidanceScale"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&x(e,["parameters","safetySetting"],c);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const d=m(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&x(e,["parameters","includeSafetyAttributes"],d);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&x(e,["parameters","includeRaiReason"],h);const g=m(t,["language"]);e!==void 0&&g!=null&&x(e,["parameters","language"],g);const v=m(t,["outputMimeType"]);e!==void 0&&v!=null&&x(e,["parameters","outputOptions","mimeType"],v);const T=m(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&x(e,["parameters","outputOptions","compressionQuality"],T),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=m(t,["imageSize"]);if(e!==void 0&&S!=null&&x(e,["parameters","sampleImageSize"],S),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function jq(t,e,n){const r={},s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&x(e,["parameters","storageUri"],s);const i=m(t,["negativePrompt"]);e!==void 0&&i!=null&&x(e,["parameters","negativePrompt"],i);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&x(e,["parameters","sampleCount"],o);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&x(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&x(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&x(e,["parameters","includeSafetyAttributes"],v);const T=m(t,["includeRaiReason"]);e!==void 0&&T!=null&&x(e,["parameters","includeRaiReason"],T);const S=m(t,["language"]);e!==void 0&&S!=null&&x(e,["parameters","language"],S);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&x(e,["parameters","outputOptions","compressionQuality"],C);const k=m(t,["addWatermark"]);e!==void 0&&k!=null&&x(e,["parameters","addWatermark"],k);const V=m(t,["labels"]);e!==void 0&&V!=null&&x(e,["labels"],V);const D=m(t,["imageSize"]);e!==void 0&&D!=null&&x(e,["parameters","sampleImageSize"],D);const H=m(t,["enhancePrompt"]);return e!==void 0&&H!=null&&x(e,["parameters","enhancePrompt"],H),r}function qq(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&Gq(o,r),r}function $q(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const o=m(e,["config"]);return o!=null&&jq(o,r),r}function Kq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>i$(c))),x(n,["generatedImages"],o)}const i=m(t,["positivePromptSafetyAttributes"]);return i!=null&&x(n,["positivePromptSafetyAttributes"],NI(i)),n}function Yq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>Op(c))),x(n,["generatedImages"],o)}const i=m(t,["positivePromptSafetyAttributes"]);return i!=null&&x(n,["positivePromptSafetyAttributes"],II(i)),n}function Jq(t,e,n){const r={},s=m(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&x(e,["parameters","sampleCount"],s),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=m(t,["durationSeconds"]);if(e!==void 0&&i!=null&&x(e,["parameters","durationSeconds"],i),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const c=m(t,["resolution"]);e!==void 0&&c!=null&&x(e,["parameters","resolution"],c);const f=m(t,["personGeneration"]);if(e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(t,["negativePrompt"]);e!==void 0&&d!=null&&x(e,["parameters","negativePrompt"],d);const h=m(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&x(e,["parameters","enhancePrompt"],h),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(t,["lastFrame"]);e!==void 0&&g!=null&&x(e,["instances[0]","lastFrame"],Lp(g));const v=m(t,["referenceImages"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>Z$(S))),x(e,["instances[0]","referenceImages"],T)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Wq(t,e,n){const r={},s=m(t,["numberOfVideos"]);e!==void 0&&s!=null&&x(e,["parameters","sampleCount"],s);const i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const o=m(t,["fps"]);e!==void 0&&o!=null&&x(e,["parameters","fps"],o);const c=m(t,["durationSeconds"]);e!==void 0&&c!=null&&x(e,["parameters","durationSeconds"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&x(e,["parameters","seed"],f);const d=m(t,["aspectRatio"]);e!==void 0&&d!=null&&x(e,["parameters","aspectRatio"],d);const h=m(t,["resolution"]);e!==void 0&&h!=null&&x(e,["parameters","resolution"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["pubsubTopic"]);e!==void 0&&v!=null&&x(e,["parameters","pubsubTopic"],v);const T=m(t,["negativePrompt"]);e!==void 0&&T!=null&&x(e,["parameters","negativePrompt"],T);const S=m(t,["enhancePrompt"]);e!==void 0&&S!=null&&x(e,["parameters","enhancePrompt"],S);const A=m(t,["generateAudio"]);e!==void 0&&A!=null&&x(e,["parameters","generateAudio"],A);const C=m(t,["lastFrame"]);e!==void 0&&C!=null&&x(e,["instances[0]","lastFrame"],vi(C));const k=m(t,["referenceImages"]);if(e!==void 0&&k!=null){let H=k;Array.isArray(H)&&(H=H.map(G=>X$(G))),x(e,["instances[0]","referenceImages"],H)}const V=m(t,["mask"]);e!==void 0&&V!=null&&x(e,["instances[0]","mask"],W$(V));const D=m(t,["compressionQuality"]);return e!==void 0&&D!=null&&x(e,["parameters","compressionQuality"],D),r}function Zq(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const s=m(t,["metadata"]);s!=null&&x(n,["metadata"],s);const i=m(t,["done"]);i!=null&&x(n,["done"],i);const o=m(t,["error"]);o!=null&&x(n,["error"],o);const c=m(t,["response","generateVideoResponse"]);return c!=null&&x(n,["response"],t$(c)),n}function Xq(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const s=m(t,["metadata"]);s!=null&&x(n,["metadata"],s);const i=m(t,["done"]);i!=null&&x(n,["done"],i);const o=m(t,["error"]);o!=null&&x(n,["error"],o);const c=m(t,["response"]);return c!=null&&x(n,["response"],n$(c)),n}function Qq(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&x(r,["instances[0]","image"],Lp(o));const c=m(e,["video"]);c!=null&&x(r,["instances[0]","video"],kI(c));const f=m(e,["source"]);f!=null&&r$(f,r);const d=m(e,["config"]);return d!=null&&Jq(d,r),r}function e$(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["prompt"]);i!=null&&x(r,["instances[0]","prompt"],i);const o=m(e,["image"]);o!=null&&x(r,["instances[0]","image"],vi(o));const c=m(e,["video"]);c!=null&&x(r,["instances[0]","video"],DI(c));const f=m(e,["source"]);f!=null&&s$(f,r);const d=m(e,["config"]);return d!=null&&Wq(d,r),r}function t$(t,e){const n={},r=m(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>o$(c))),x(n,["generatedVideos"],o)}const s=m(t,["raiMediaFilteredCount"]);s!=null&&x(n,["raiMediaFilteredCount"],s);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&x(n,["raiMediaFilteredReasons"],i),n}function n$(t,e){const n={},r=m(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>l$(c))),x(n,["generatedVideos"],o)}const s=m(t,["raiMediaFilteredCount"]);s!=null&&x(n,["raiMediaFilteredCount"],s);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&x(n,["raiMediaFilteredReasons"],i),n}function r$(t,e,n){const r={},s=m(t,["prompt"]);e!==void 0&&s!=null&&x(e,["instances[0]","prompt"],s);const i=m(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],Lp(i));const o=m(t,["video"]);return e!==void 0&&o!=null&&x(e,["instances[0]","video"],kI(o)),r}function s$(t,e,n){const r={},s=m(t,["prompt"]);e!==void 0&&s!=null&&x(e,["instances[0]","prompt"],s);const i=m(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],vi(i));const o=m(t,["video"]);return e!==void 0&&o!=null&&x(e,["instances[0]","video"],DI(o)),r}function i$(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["image"],g$(r));const s=m(t,["raiFilteredReason"]);s!=null&&x(n,["raiFilteredReason"],s);const i=m(t,["_self"]);return i!=null&&x(n,["safetyAttributes"],NI(i)),n}function Op(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["image"],bI(r));const s=m(t,["raiFilteredReason"]);s!=null&&x(n,["raiFilteredReason"],s);const i=m(t,["_self"]);i!=null&&x(n,["safetyAttributes"],II(i));const o=m(t,["prompt"]);return o!=null&&x(n,["enhancedPrompt"],o),n}function a$(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["mask"],bI(r));const s=m(t,["labels"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),x(n,["labels"],i)}return n}function o$(t,e){const n={},r=m(t,["video"]);return r!=null&&x(n,["video"],Y$(r)),n}function l$(t,e){const n={},r=m(t,["_self"]);return r!=null&&x(n,["video"],J$(r)),n}function c$(t,e){const n={},r=m(t,["modelSelectionConfig"]);r!=null&&x(n,["modelConfig"],r);const s=m(t,["responseJsonSchema"]);s!=null&&x(n,["responseJsonSchema"],s);const i=m(t,["audioTimestamp"]);i!=null&&x(n,["audioTimestamp"],i);const o=m(t,["candidateCount"]);o!=null&&x(n,["candidateCount"],o);const c=m(t,["enableAffectiveDialog"]);c!=null&&x(n,["enableAffectiveDialog"],c);const f=m(t,["frequencyPenalty"]);f!=null&&x(n,["frequencyPenalty"],f);const d=m(t,["logprobs"]);d!=null&&x(n,["logprobs"],d);const h=m(t,["maxOutputTokens"]);h!=null&&x(n,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&x(n,["mediaResolution"],g);const v=m(t,["presencePenalty"]);v!=null&&x(n,["presencePenalty"],v);const T=m(t,["responseLogprobs"]);T!=null&&x(n,["responseLogprobs"],T);const S=m(t,["responseMimeType"]);S!=null&&x(n,["responseMimeType"],S);const A=m(t,["responseModalities"]);A!=null&&x(n,["responseModalities"],A);const C=m(t,["responseSchema"]);C!=null&&x(n,["responseSchema"],C);const k=m(t,["routingConfig"]);k!=null&&x(n,["routingConfig"],k);const V=m(t,["seed"]);V!=null&&x(n,["seed"],V);const D=m(t,["speechConfig"]);D!=null&&x(n,["speechConfig"],D);const H=m(t,["stopSequences"]);H!=null&&x(n,["stopSequences"],H);const G=m(t,["temperature"]);G!=null&&x(n,["temperature"],G);const J=m(t,["thinkingConfig"]);J!=null&&x(n,["thinkingConfig"],J);const I=m(t,["topK"]);I!=null&&x(n,["topK"],I);const N=m(t,["topP"]);if(N!=null&&x(n,["topP"],N),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function u$(t,e,n){const r={},s=m(e,["model"]);return s!=null&&x(r,["_url","name"],qt(t,s)),r}function f$(t,e,n){const r={},s=m(e,["model"]);return s!=null&&x(r,["_url","name"],qt(t,s)),r}function d$(t,e){const n={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=m(t,["enableWidget"]);return r!=null&&x(n,["enableWidget"],r),n}function h$(t,e){const n={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=m(t,["timeRangeFilter"]);return r!=null&&x(n,["timeRangeFilter"],r),n}function p$(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const s=m(t,["imageSize"]);if(s!=null&&x(n,["imageSize"],s),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function m$(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const s=m(t,["imageSize"]);s!=null&&x(n,["imageSize"],s);const i=m(t,["personGeneration"]);i!=null&&x(n,["personGeneration"],i);const o=m(t,["outputMimeType"]);o!=null&&x(n,["imageOutputOptions","mimeType"],o);const c=m(t,["outputCompressionQuality"]);return c!=null&&x(n,["imageOutputOptions","compressionQuality"],c),n}function g$(t,e){const n={},r=m(t,["bytesBase64Encoded"]);r!=null&&x(n,["imageBytes"],Do(r));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function bI(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const s=m(t,["bytesBase64Encoded"]);s!=null&&x(n,["imageBytes"],Do(s));const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function Lp(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(t,["imageBytes"]);r!=null&&x(n,["bytesBase64Encoded"],Do(r));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function vi(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const s=m(t,["imageBytes"]);s!=null&&x(n,["bytesBase64Encoded"],Do(s));const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function v$(t,e,n,r){const s={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const c=m(e,["filter"]);n!==void 0&&c!=null&&x(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&x(n,["_url","models_url"],_I(t,f)),s}function x$(t,e,n,r){const s={},i=m(e,["pageSize"]);n!==void 0&&i!=null&&x(n,["_query","pageSize"],i);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const c=m(e,["filter"]);n!==void 0&&c!=null&&x(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&x(n,["_url","models_url"],_I(t,f)),s}function y$(t,e,n){const r={},s=m(e,["config"]);return s!=null&&v$(t,s,r),r}function _$(t,e,n){const r={},s=m(e,["config"]);return s!=null&&x$(t,s,r),r}function E$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["nextPageToken"]);s!=null&&x(n,["nextPageToken"],s);const i=m(t,["_self"]);if(i!=null){let o=EI(i);Array.isArray(o)&&(o=o.map(c=>ix(c))),x(n,["models"],o)}return n}function T$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["nextPageToken"]);s!=null&&x(n,["nextPageToken"],s);const i=m(t,["_self"]);if(i!=null){let o=EI(i);Array.isArray(o)&&(o=o.map(c=>ax(c))),x(n,["models"],o)}return n}function w$(t,e){const n={},r=m(t,["maskMode"]);r!=null&&x(n,["maskMode"],r);const s=m(t,["segmentationClasses"]);s!=null&&x(n,["maskClasses"],s);const i=m(t,["maskDilation"]);return i!=null&&x(n,["dilation"],i),n}function ix(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const s=m(t,["displayName"]);s!=null&&x(n,["displayName"],s);const i=m(t,["description"]);i!=null&&x(n,["description"],i);const o=m(t,["version"]);o!=null&&x(n,["version"],o);const c=m(t,["_self"]);c!=null&&x(n,["tunedModelInfo"],V$(c));const f=m(t,["inputTokenLimit"]);f!=null&&x(n,["inputTokenLimit"],f);const d=m(t,["outputTokenLimit"]);d!=null&&x(n,["outputTokenLimit"],d);const h=m(t,["supportedGenerationMethods"]);h!=null&&x(n,["supportedActions"],h);const g=m(t,["temperature"]);g!=null&&x(n,["temperature"],g);const v=m(t,["maxTemperature"]);v!=null&&x(n,["maxTemperature"],v);const T=m(t,["topP"]);T!=null&&x(n,["topP"],T);const S=m(t,["topK"]);S!=null&&x(n,["topK"],S);const A=m(t,["thinking"]);return A!=null&&x(n,["thinking"],A),n}function ax(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const s=m(t,["displayName"]);s!=null&&x(n,["displayName"],s);const i=m(t,["description"]);i!=null&&x(n,["description"],i);const o=m(t,["versionId"]);o!=null&&x(n,["version"],o);const c=m(t,["deployedModels"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>Oq(T))),x(n,["endpoints"],v)}const f=m(t,["labels"]);f!=null&&x(n,["labels"],f);const d=m(t,["_self"]);d!=null&&x(n,["tunedModelInfo"],B$(d));const h=m(t,["defaultCheckpointId"]);h!=null&&x(n,["defaultCheckpointId"],h);const g=m(t,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>T)),x(n,["checkpoints"],v)}return n}function S$(t,e){const n={},r=m(t,["mediaResolution"]);r!=null&&x(n,["mediaResolution"],r);const s=m(t,["codeExecutionResult"]);s!=null&&x(n,["codeExecutionResult"],s);const i=m(t,["executableCode"]);i!=null&&x(n,["executableCode"],i);const o=m(t,["fileData"]);o!=null&&x(n,["fileData"],Lq(o));const c=m(t,["functionCall"]);c!=null&&x(n,["functionCall"],Uq(c));const f=m(t,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const d=m(t,["inlineData"]);d!=null&&x(n,["inlineData"],cq(d));const h=m(t,["text"]);h!=null&&x(n,["text"],h);const g=m(t,["thought"]);g!=null&&x(n,["thought"],g);const v=m(t,["thoughtSignature"]);v!=null&&x(n,["thoughtSignature"],v);const T=m(t,["videoMetadata"]);return T!=null&&x(n,["videoMetadata"],T),n}function A$(t,e){const n={},r=m(t,["productImage"]);return r!=null&&x(n,["image"],vi(r)),n}function C$(t,e,n){const r={},s=m(t,["numberOfImages"]);e!==void 0&&s!=null&&x(e,["parameters","sampleCount"],s);const i=m(t,["baseSteps"]);e!==void 0&&i!=null&&x(e,["parameters","baseSteps"],i);const o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&x(e,["parameters","storageUri"],o);const c=m(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const f=m(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&x(e,["parameters","personGeneration"],d);const h=m(t,["addWatermark"]);e!==void 0&&h!=null&&x(e,["parameters","addWatermark"],h);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","mimeType"],g);const v=m(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&x(e,["parameters","outputOptions","compressionQuality"],v);const T=m(t,["enhancePrompt"]);e!==void 0&&T!=null&&x(e,["parameters","enhancePrompt"],T);const S=m(t,["labels"]);return e!==void 0&&S!=null&&x(e,["labels"],S),r}function b$(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["source"]);i!=null&&I$(i,r);const o=m(e,["config"]);return o!=null&&C$(o,r),r}function N$(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Op(i))),x(n,["generatedImages"],s)}return n}function I$(t,e,n){const r={},s=m(t,["prompt"]);e!==void 0&&s!=null&&x(e,["instances[0]","prompt"],s);const i=m(t,["personImage"]);e!==void 0&&i!=null&&x(e,["instances[0]","personImage","image"],vi(i));const o=m(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>A$(f))),x(e,["instances[0]","productImages"],c)}return r}function R$(t,e){const n={},r=m(t,["referenceImage"]);r!=null&&x(n,["referenceImage"],vi(r));const s=m(t,["referenceId"]);s!=null&&x(n,["referenceId"],s);const i=m(t,["referenceType"]);i!=null&&x(n,["referenceType"],i);const o=m(t,["maskImageConfig"]);o!=null&&x(n,["maskImageConfig"],w$(o));const c=m(t,["controlImageConfig"]);c!=null&&x(n,["controlImageConfig"],gq(c));const f=m(t,["styleImageConfig"]);f!=null&&x(n,["styleImageConfig"],f);const d=m(t,["subjectImageConfig"]);return d!=null&&x(n,["subjectImageConfig"],d),n}function NI(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const s=m(t,["safetyAttributes","scores"]);s!=null&&x(n,["scores"],s);const i=m(t,["contentType"]);return i!=null&&x(n,["contentType"],i),n}function II(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const s=m(t,["safetyAttributes","scores"]);s!=null&&x(n,["scores"],s);const i=m(t,["contentType"]);return i!=null&&x(n,["contentType"],i),n}function k$(t,e){const n={},r=m(t,["category"]);if(r!=null&&x(n,["category"],r),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=m(t,["threshold"]);return s!=null&&x(n,["threshold"],s),n}function D$(t,e){const n={},r=m(t,["image"]);return r!=null&&x(n,["image"],vi(r)),n}function M$(t,e,n){const r={},s=m(t,["mode"]);e!==void 0&&s!=null&&x(e,["parameters","mode"],s);const i=m(t,["maxPredictions"]);e!==void 0&&i!=null&&x(e,["parameters","maxPredictions"],i);const o=m(t,["confidenceThreshold"]);e!==void 0&&o!=null&&x(e,["parameters","confidenceThreshold"],o);const c=m(t,["maskDilation"]);e!==void 0&&c!=null&&x(e,["parameters","maskDilation"],c);const f=m(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&x(e,["parameters","binaryColorThreshold"],f);const d=m(t,["labels"]);return e!==void 0&&d!=null&&x(e,["labels"],d),r}function P$(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["source"]);i!=null&&O$(i,r);const o=m(e,["config"]);return o!=null&&M$(o,r),r}function F$(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>a$(i))),x(n,["generatedMasks"],s)}return n}function O$(t,e,n){const r={},s=m(t,["prompt"]);e!==void 0&&s!=null&&x(e,["instances[0]","prompt"],s);const i=m(t,["image"]);e!==void 0&&i!=null&&x(e,["instances[0]","image"],vi(i));const o=m(t,["scribbleImage"]);return e!==void 0&&o!=null&&x(e,["instances[0]","scribble"],D$(o)),r}function L$(t,e){const n={},r=m(t,["retrievalConfig"]);r!=null&&x(n,["retrievalConfig"],r);const s=m(t,["functionCallingConfig"]);return s!=null&&x(n,["functionCallingConfig"],Vq(s)),n}function U$(t,e){const n={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["computerUse"]);r!=null&&x(n,["computerUse"],r);const s=m(t,["fileSearch"]);s!=null&&x(n,["fileSearch"],s);const i=m(t,["codeExecution"]);if(i!=null&&x(n,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>v)),x(n,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(n,["googleMaps"],d$(c));const f=m(t,["googleSearch"]);f!=null&&x(n,["googleSearch"],h$(f));const d=m(t,["googleSearchRetrieval"]);d!=null&&x(n,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(n,["urlContext"],h),n}function RI(t,e){const n={},r=m(t,["retrieval"]);r!=null&&x(n,["retrieval"],r);const s=m(t,["computerUse"]);if(s!=null&&x(n,["computerUse"],s),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&x(n,["codeExecution"],i);const o=m(t,["enterpriseWebSearch"]);o!=null&&x(n,["enterpriseWebSearch"],o);const c=m(t,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>Bq(T))),x(n,["functionDeclarations"],v)}const f=m(t,["googleMaps"]);f!=null&&x(n,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&x(n,["googleSearch"],d);const h=m(t,["googleSearchRetrieval"]);h!=null&&x(n,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&x(n,["urlContext"],g),n}function V$(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const s=m(t,["createTime"]);s!=null&&x(n,["createTime"],s);const i=m(t,["updateTime"]);return i!=null&&x(n,["updateTime"],i),n}function B$(t,e){const n={},r=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&x(n,["baseModel"],r);const s=m(t,["createTime"]);s!=null&&x(n,["createTime"],s);const i=m(t,["updateTime"]);return i!=null&&x(n,["updateTime"],i),n}function z$(t,e,n){const r={},s=m(t,["displayName"]);e!==void 0&&s!=null&&x(e,["displayName"],s);const i=m(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&x(e,["defaultCheckpointId"],o),r}function H$(t,e,n){const r={},s=m(t,["displayName"]);e!==void 0&&s!=null&&x(e,["displayName"],s);const i=m(t,["description"]);e!==void 0&&i!=null&&x(e,["description"],i);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&x(e,["defaultCheckpointId"],o),r}function G$(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","name"],qt(t,s));const i=m(e,["config"]);return i!=null&&z$(i,r),r}function j$(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["config"]);return i!=null&&H$(i,r),r}function q$(t,e,n){const r={},s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&x(e,["parameters","storageUri"],s);const i=m(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&x(e,["parameters","safetySetting"],i);const o=m(t,["personGeneration"]);e!==void 0&&o!=null&&x(e,["parameters","personGeneration"],o);const c=m(t,["includeRaiReason"]);e!==void 0&&c!=null&&x(e,["parameters","includeRaiReason"],c);const f=m(t,["outputMimeType"]);e!==void 0&&f!=null&&x(e,["parameters","outputOptions","mimeType"],f);const d=m(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&x(e,["parameters","outputOptions","compressionQuality"],d);const h=m(t,["enhanceInputImage"]);e!==void 0&&h!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=m(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const v=m(t,["labels"]);e!==void 0&&v!=null&&x(e,["labels"],v);const T=m(t,["numberOfImages"]);e!==void 0&&T!=null&&x(e,["parameters","sampleCount"],T);const S=m(t,["mode"]);return e!==void 0&&S!=null&&x(e,["parameters","mode"],S),r}function $$(t,e,n){const r={},s=m(e,["model"]);s!=null&&x(r,["_url","model"],qt(t,s));const i=m(e,["image"]);i!=null&&x(r,["instances[0]","image"],vi(i));const o=m(e,["upscaleFactor"]);o!=null&&x(r,["parameters","upscaleConfig","upscaleFactor"],o);const c=m(e,["config"]);return c!=null&&q$(c,r),r}function K$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["predictions"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>Op(o))),x(n,["generatedImages"],i)}return n}function Y$(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["uri"],r);const s=m(t,["encodedVideo"]);s!=null&&x(n,["videoBytes"],Do(s));const i=m(t,["encoding"]);return i!=null&&x(n,["mimeType"],i),n}function J$(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["uri"],r);const s=m(t,["bytesBase64Encoded"]);s!=null&&x(n,["videoBytes"],Do(s));const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function W$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["_self"],vi(r));const s=m(t,["maskMode"]);return s!=null&&x(n,["maskMode"],s),n}function Z$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["image"],Lp(r));const s=m(t,["referenceType"]);return s!=null&&x(n,["referenceType"],s),n}function X$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["image"],vi(r));const s=m(t,["referenceType"]);return s!=null&&x(n,["referenceType"],s),n}function kI(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["uri"],r);const s=m(t,["videoBytes"]);s!=null&&x(n,["encodedVideo"],Do(s));const i=m(t,["mimeType"]);return i!=null&&x(n,["encoding"],i),n}function DI(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["gcsUri"],r);const s=m(t,["videoBytes"]);s!=null&&x(n,["bytesBase64Encoded"],Do(s));const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function Q$(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function eK(t){const e={},n=m(t,["config"]);return n!=null&&Q$(n,e),e}function tK(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function nK(t){const e={},n=m(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&tK(r,e),e}function rK(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function sK(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["customMetadata"],i)}const s=m(t,["chunkingConfig"]);return e!==void 0&&s!=null&&x(e,["chunkingConfig"],s),n}function iK(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const s=m(t,["done"]);s!=null&&x(e,["done"],s);const i=m(t,["error"]);i!=null&&x(e,["error"],i);const o=m(t,["response"]);return o!=null&&x(e,["response"],oK(o)),e}function aK(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&x(e,["fileName"],r);const s=m(t,["config"]);return s!=null&&sK(s,e),e}function oK(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const s=m(t,["documentName"]);return s!=null&&x(e,["documentName"],s),e}function lK(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const s=m(t,["pageToken"]);return e!==void 0&&s!=null&&x(e,["_query","pageToken"],s),n}function cK(t){const e={},n=m(t,["config"]);return n!=null&&lK(n,e),e}function uK(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const s=m(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["fileSearchStores"],i)}return e}function MI(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const s=m(t,["displayName"]);e!==void 0&&s!=null&&x(e,["displayName"],s);const i=m(t,["customMetadata"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),x(e,["customMetadata"],c)}const o=m(t,["chunkingConfig"]);return e!==void 0&&o!=null&&x(e,["chunkingConfig"],o),n}function fK(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&MI(r,e),e}function dK(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}const hK="Content-Type",pK="X-Server-Timeout",mK="User-Agent",ox="x-goog-api-client",gK="1.40.0",vK=`google-genai-sdk/${gK}`,xK="v1beta1",yK="v1beta";class _K{constructor(e){var n,r,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:xK}else{if(!this.clientOptions.apiKey)throw new nd({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:yK,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===tx.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))s.searchParams.append(o,String(c));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,o=i.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>i.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&EK(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await rA(s),new nx(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await rA(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return pi(this,arguments,function*(){var r;const s=(r=e?.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let o="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield mt(s.read());if(d){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=i.decode(h,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),C=A.status,k=A.code,V=`got status: ${C}. ${JSON.stringify(S)}`;if(k>=400&&k<600)throw new nd({message:V,status:k})}}catch(S){if(S.name==="ApiError")throw S}o+=g;let v=-1,T=0;for(;;){v=-1,T=0;for(const C of f){const k=o.indexOf(C);k!==-1&&(v===-1||k<v)&&(v=k,T=C.length)}if(v===-1)break;const S=o.substring(0,v);o=o.substring(v+T);const A=S.trim();if(A.startsWith(c)){const C=A.substring(c.length).trim();try{const k=new Response(C,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield mt(new nx(k))}catch(k){throw new Error(`exception parsing stream chunk ${C}. ${k}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=vK+" "+this.clientOptions.userAgentExtra;return e[mK]=n,e[ox]=n,e[hK]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(pK,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);s.sizeBytes=String(o.size);const c=(r=n?.mimeType)!==null&&r!==void 0?r:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=c;const f={file:s},d=this.getFileName(e),h=Je("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(h,s.sizeBytes,s.mimeType,d,f,n?.httpOptions);return i.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,o=await i.stat(n),c=String(o.size),f=(s=r?.mimeType)!==null&&s!==void 0?s:o.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),g={};r!=null&&MI(r,g);const v=await this.fetchUploadUrl(d,c,f,h,g,r?.httpOptions);return i.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,o){var c;let f={};o?f=o:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:f});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function rA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new nd({message:s,status:n}):new Error(s)}}function EK(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const c=Object.assign({},i);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const d=o[f],h=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?c[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const s=r(n,e);t.body=JSON.stringify(s)}const TK="mcp_used/unknown";let wK=!1;function PI(t){for(const e of t)if(SK(e)||typeof e=="object"&&"inputSchema"in e)return!0;return wK}function FI(t){var e;const n=(e=t[ox])!==null&&e!==void 0?e:"";t[ox]=(n+` ${TK}`).trimStart()}function SK(t){return t!==null&&typeof t=="object"&&t instanceof V1}function AK(t){return pi(this,arguments,function*(n,r=100){let s,i=0;for(;i<r;){const o=yield mt(n.listTools({cursor:s}));for(const c of o.tools)yield yield mt(c),i++;if(!o.nextCursor)break;s=o.nextCursor}})}class V1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new V1(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},o=[];for(const h of this.mcpClients)try{for(var c=!0,f=(n=void 0,mi(AK(h))),d;d=await f.next(),e=d.done,!e;c=!0){s=d.value,c=!1;const g=s;o.push(g);const v=g.name;if(i[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);i[v]=h}}catch(g){n={error:g}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),eG(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}async function CK(t,e,n){const r=new $H;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class bK{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=RK(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const h=new Promise(D=>{d=D}),g=e.callbacks,v=function(){d({})},T=this.apiClient,S={onopen:v,onmessage:D=>{CK(T,g.onmessage,D)},onerror:(n=g?.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=g?.onclose)!==null&&r!==void 0?r:function(D){}},A=this.webSocketFactory.create(f,IK(o),S);A.connect(),await h;const V={setup:{model:qt(this.apiClient,e.model)}};return A.send(JSON.stringify(V)),new NK(A,this.apiClient)}}class NK{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Qj(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Xj(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Dc.PLAY)}pause(){this.sendPlaybackControl(Dc.PAUSE)}stop(){this.sendPlaybackControl(Dc.STOP)}resetContext(){this.sendPlaybackControl(Dc.RESET_CONTEXT)}close(){this.conn.close()}}function IK(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function RK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const kK="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function DK(t,e,n){const r=new qH;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const o=nq(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class MK{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new bK(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,o,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&PI(e.config.tools)&&FI(g);const v=LK(g);if(this.apiClient.isVertexAI()){const b=this.apiClient.getProject(),F=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),M=!!b&&!!F||!!O;this.apiClient.getCustomBaseUrl()&&!M?h=f:(h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const b=this.apiClient.getApiKey();let F="BidiGenerateContent",O="key";b?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",O="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${O}=${b}`}let T=()=>{};const S=new Promise(b=>{T=b}),A=e.callbacks,C=function(){var b;(b=A?.onopen)===null||b===void 0||b.call(A),T({})},k=this.apiClient,V={onopen:C,onmessage:b=>{DK(k,A.onmessage,b)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=A?.onclose)!==null&&r!==void 0?r:function(b){}},D=this.webSocketFactory.create(h,OK(v),V);D.connect(),await S;let H=qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const b=this.apiClient.getProject(),F=this.apiClient.getLocation();b&&F&&(H=`projects/${b}/locations/${F}/`+H)}let G={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[sp.AUDIO]}:e.config.responseModalities=[sp.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],I=[];for(const b of J)if(this.isCallableTool(b)){const F=b;I.push(await F.tool())}else I.push(b);I.length>0&&(e.config.tools=I);const N={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=Zj(this.apiClient,N):G=Wj(this.apiClient,N),delete G.config,D.send(JSON.stringify(G)),new FK(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const PK={turnComplete:!0};class FK{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=js(n.turns),e.isVertexAI()||(r=r.map(s=>Fp(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(kK)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},PK),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:tq(e)}:n={realtimeInput:eq(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function OK(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function LK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const sA=10;function iA(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const o of(n=t?.tools)!==null&&n!==void 0?n:[])if(Bc(o)){s=!0;break}if(!s)return!0;const i=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Bc(t){return"callTool"in t&&typeof t.callTool=="function"}function UK(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Bc(s)))!==null&&r!==void 0?r:!1}function aA(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(Bc(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function oA(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class VK extends Ta{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,o,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!UK(n)||iA(n.config))return await this.generateContentInternal(f);const d=aA(n);if(d.length>0){const A=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,g;const v=js(f.contents),T=(i=(s=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:sA;let S=0;for(;S<T&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,C=[];for(const k of(c=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Bc(k)){const D=await k.callTool(h.functionCalls);C.push(...D)}S++,g={role:"user",parts:C},f.contents=js(f.contents),f.contents.push(A),f.contents.push(g),oA(f.config)&&(v.push(A),v.push(g))}return oA(f.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,s,i,o,c;if(this.maybeMoveToResponseJsonSchem(n),iA(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=aA(n);if(f.length>0){const g=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(s=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,h=(c=(o=n?.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const o=[];if(r?.generatedImages)for(const f of r.generatedImages)f&&f?.safetyAttributes&&((s=f?.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=f?.safetyAttributes:o.push(f);let c;return i?c={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Fl(va.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,o,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(i=n.source)===null||i===void 0?void 0:i.video)===null||o===void 0)&&o.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async f=>Bc(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&PI(e.config.tools)){const f=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),FI(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Bc(o)){const c=o,f=await c.tool();for(const d of(s=f.functionDeclarations)!==null&&s!==void 0?s:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,c)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:sA;let o=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,h,g){return pi(this,arguments,function*(){for(var v,T,S,A,C,k;c<i;){o&&(c++,o=!1);const G=yield mt(d.processParamsMaybeAddMcpUsage(g)),J=yield mt(d.generateContentStreamInternal(G)),I=[],N=[];try{for(var V=!0,D=(T=void 0,mi(J)),H;H=yield mt(D.next()),v=H.done,!v;V=!0){A=H.value,V=!1;const b=A;if(yield yield mt(b),b.candidates&&(!((C=b.candidates[0])===null||C===void 0)&&C.content)){N.push(b.candidates[0].content);for(const F of(k=b.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(c<i&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const O=yield mt(h.get(F.functionCall.name).callTool([F.functionCall]));I.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(b){T={error:b}}finally{try{!V&&!v&&(S=D.return)&&(yield mt(S.call(D)))}finally{if(T)throw T.error}}if(I.length>0){o=!0;const b=new of;b.candidates=[{content:{role:"user",parts:I}}],yield yield mt(b);const F=[];F.push(...N),F.push({role:"user",parts:I});const O=js(g.contents).concat(F);g.contents=O}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=eA(this.apiClient,e);return c=Je("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=nA(h),v=new of;return Object.assign(v,g),v})}else{const d=QS(this.apiClient,e);return c=Je("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=tA(h),v=new of;return Object.assign(v,g),v})}}async generateContentStreamInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=eA(this.apiClient,e);return c=Je("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return pi(this,arguments,function*(){var v,T,S,A;try{for(var C=!0,k=mi(g),V;V=yield mt(k.next()),v=V.done,!v;C=!0){A=V.value,C=!1;const D=A,H=nA(yield mt(D.json()),e);H.sdkHttpResponse={headers:D.headers};const G=new of;Object.assign(G,H),yield yield mt(G)}}catch(D){T={error:D}}finally{try{!C&&!v&&(S=k.return)&&(yield mt(S.call(k)))}finally{if(T)throw T.error}}})})}else{const d=QS(this.apiClient,e);return c=Je("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(g){return pi(this,arguments,function*(){var v,T,S,A;try{for(var C=!0,k=mi(g),V;V=yield mt(k.next()),v=V.done,!v;C=!0){A=V.value,C=!1;const D=A,H=tA(yield mt(D.json()),e);H.sdkHttpResponse={headers:D.headers};const G=new of;Object.assign(G,H),yield yield mt(G)}}catch(D){T={error:D}}finally{try{!C&&!v&&(S=k.return)&&(yield mt(S.call(k)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Mq(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Fq(h),v=new OS;return Object.assign(v,g),v})}else{const d=Dq(this.apiClient,e);return c=Je("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Pq(h),v=new OS;return Object.assign(v,g),v})}}async generateImagesInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=$q(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Yq(h),v=new LS;return Object.assign(v,g),v})}else{const d=qq(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Kq(h),v=new LS;return Object.assign(v,g),v})}}async editImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const c=Nq(this.apiClient,e);return i=Je("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const d=Iq(f),h=new MH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const c=$$(this.apiClient,e);return i=Je("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const d=K$(f),h=new PH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const c=b$(this.apiClient,e);return i=Je("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const d=N$(f),h=new FH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const c=P$(this.apiClient,e);return i=Je("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const d=F$(f),h=new OH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=f$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>ax(h))}else{const d=u$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>ix(h))}}async listInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=_$(this.apiClient,e);return c=Je("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=T$(h),v=new US;return Object.assign(v,g),v})}else{const d=y$(this.apiClient,e);return c=Je("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=E$(h),v=new US;return Object.assign(v,g),v})}}async update(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=j$(this.apiClient,e);return c=Je("{model}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>ax(h))}else{const d=G$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>ix(h))}}async delete(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Sq(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Cq(h),v=new VS;return Object.assign(v,g),v})}else{const d=wq(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Aq(h),v=new VS;return Object.assign(v,g),v})}}async countTokens(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=_q(this.apiClient,e);return c=Je("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Tq(h),v=new BS;return Object.assign(v,g),v})}else{const d=yq(this.apiClient,e);return c=Je("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Eq(h),v=new BS;return Object.assign(v,g),v})}}async computeTokens(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const c=dq(this.apiClient,e);return i=Je("{model}:computeTokens",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const d=hq(f),h=new LH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=e$(this.apiClient,e);return c=Je("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Xq(h),v=new ip;return Object.assign(v,g),v})}else{const d=Qq(this.apiClient,e);return c=Je("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Zq(h),v=new ip;return Object.assign(v,g),v})}}}class BK extends Ta{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=bH(e);return c=Je("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o}else{const d=CH(e);return c=Je("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const c=yH(e);return i=Je("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}function zK(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function HK(t){const e={},n=m(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>ZK(i))),x(e,["parts"],s)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function GK(t,e,n){const r={},s=m(e,["expireTime"]);n!==void 0&&s!=null&&x(n,["expireTime"],s);const i=m(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&x(n,["newSessionExpireTime"],i);const o=m(e,["uses"]);n!==void 0&&o!=null&&x(n,["uses"],o);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&x(n,["bidiGenerateContentSetup"],WK(t,c));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&x(n,["fieldMask"],f),r}function jK(t,e){const n={},r=m(e,["config"]);return r!=null&&x(n,["config"],GK(t,r,n)),n}function qK(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function $K(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const s=m(t,["name"]);if(s!=null&&x(e,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function KK(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function YK(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function JK(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const s=m(t,["responseModalities"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","responseModalities"],s);const i=m(t,["temperature"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","temperature"],i);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],U1(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],HK(Or(S)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let J=su(A);Array.isArray(J)&&(J=J.map(I=>QK(ru(I)))),x(e,["setup","tools"],J)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],XK(C));const k=m(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&x(e,["setup","inputAudioTranscription"],k);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&x(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&x(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);if(e!==void 0&&G!=null&&x(e,["setup","proactivity"],G),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function WK(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],qt(t,r));const s=m(e,["config"]);return s!=null&&x(n,["config"],JK(s,n)),n}function ZK(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const s=m(t,["executableCode"]);s!=null&&x(e,["executableCode"],s);const i=m(t,["fileData"]);i!=null&&x(e,["fileData"],qK(i));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],$K(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],zK(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function XK(t){const e={},n=m(t,["handle"]);if(n!=null&&x(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function QK(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const s=m(t,["codeExecution"]);if(s!=null&&x(e,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=m(t,["functionDeclarations"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],KK(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],YK(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function eY(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function tY(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=eY(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];s.length>0&&(c=s.map(d=>o.includes(d)?`generationConfig.${d}`:d));const f=[];i&&f.push(i),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class nY extends Ta{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=jK(this.apiClient,e);i=Je("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const f=tY(c,e.config);return s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}}}function rY(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function sY(t){const e={},n=m(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&rY(r,e),e}function iY(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function aY(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const s=m(t,["pageToken"]);return e!==void 0&&s!=null&&x(e,["_query","pageToken"],s),n}function oY(t){const e={},n=m(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&aY(r,e),e}function lY(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const s=m(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),x(e,["documents"],i)}return e}class cY extends Ta{constructor(e){super(),this.apiClient=e,this.list=async n=>new Fl(va.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iY(e);return i=Je("{name}",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sY(e);s=Je("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=oY(e);return i=Je("{parent}/documents",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const d=lY(f),h=new UH;return Object.assign(h,d),h})}}}class uY extends Ta{constructor(e,n=new cY(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Fl(va.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eK(e);return i=Je("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rK(e);return i=Je("{name}",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=nK(e);s=Je("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=cK(e);return i=Je("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const d=uK(f),h=new VH;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=fK(e);return i=Je("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const d=dK(f),h=new BH;return Object.assign(h,d),h})}}async importFile(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=aK(e);return i=Je("{file_search_store_name}:importFile",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const d=iK(f),h=new M1;return Object.assign(h,d),h})}}}let OI=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return OI=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const fY=()=>OI();function lx(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const cx=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class $s extends Error{}class Zr extends $s{constructor(e,n,r,s){super(`${Zr.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new Up({message:r,cause:cx(n)});const i=n;return e===400?new UI(e,i,r,s):e===401?new VI(e,i,r,s):e===403?new BI(e,i,r,s):e===404?new zI(e,i,r,s):e===409?new HI(e,i,r,s):e===422?new GI(e,i,r,s):e===429?new jI(e,i,r,s):e>=500?new qI(e,i,r,s):new Zr(e,i,r,s)}}class ux extends Zr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Up extends Zr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class LI extends Up{constructor({message:e}={}){super({message:e??"Request timed out."})}}class UI extends Zr{}class VI extends Zr{}class BI extends Zr{}class zI extends Zr{}class HI extends Zr{}class GI extends Zr{}class jI extends Zr{}class qI extends Zr{}const dY=/^[a-z][a-z0-9+.-]*:/i,hY=t=>dY.test(t);let fx=t=>(fx=Array.isArray,fx(t));const pY=fx;let mY=pY;const lA=mY;function gY(t){if(!t)return!0;for(const e in t)return!1;return!0}function vY(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const xY=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new $s(`${t} must be an integer`);if(e<0)throw new $s(`${t} must be a positive integer`);return e},yY=t=>{try{return JSON.parse(t)}catch{return}};const _Y=t=>new Promise(e=>setTimeout(e,t));const Ac="0.0.1";function EY(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const TY=()=>{var t,e,n,r,s;const i=EY();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ac,"X-Stainless-OS":uA(Deno.build.os),"X-Stainless-Arch":cA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ac,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ac,"X-Stainless-OS":uA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":cA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const o=wY();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ac,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ac,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function wY(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const cA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",uA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let i0;const SY=()=>i0??(i0=TY());function AY(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $I(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function CY(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return $I({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function KI(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function bY(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),s=r.cancel();r.releaseLock(),await s}const NY=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const YI=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function mv(t,e,n){return YI(),new File(t,e??"unknown_file",n)}function IY(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const RY=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const JI=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",kY=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&JI(t),DY=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function MY(t,e,n){if(YI(),t=await t,kY(t))return t instanceof File?t:mv([await t.arrayBuffer()],t.name);if(DY(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),mv(await dx(s),e,n)}const r=await dx(t);if(e||(e=IY(t)),!n?.type){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return mv(r,e,n)}async function dx(t){var e,n,r,s,i;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(JI(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(RY(t))try{for(var c=!0,f=mi(t),d;d=await f.next(),e=d.done,!e;c=!0){s=d.value,c=!1;const h=s;o.push(...await dx(h))}}catch(h){n={error:h}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(i=t?.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${PY(t)}`)}return o}function PY(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class WI{constructor(e){this._client=e}}WI._key=[];function ZI(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const fA=Object.freeze(Object.create(null)),FY=(t=ZI)=>(function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],o=n.reduce((h,g,v)=>{var T,S,A;/[?#]/.test(g)&&(s=!0);const C=r[v];let k=(s?encodeURIComponent:t)(""+C);return v!==r.length&&(C==null||typeof C=="object"&&C.toString===((A=Object.getPrototypeOf((S=Object.getPrototypeOf((T=C.hasOwnProperty)!==null&&T!==void 0?T:fA))!==null&&S!==void 0?S:fA))===null||A===void 0?void 0:A.toString))&&(k=C+"",i.push({start:h.length+g.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),h+g+(v===r.length?"":k)},""),c=o.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((h,g)=>h.start-g.start),i.length>0){let h=0;const g=i.reduce((v,T)=>{const S=" ".repeat(T.start-h),A="^".repeat(T.length);return h=T.start+T.length,v+S+A},"");throw new $s(`Path parameters result in path with invalid segments:
${i.map(v=>v.error).join(`
`)}
${o}
${g}`)}return o}),a0=FY(ZI);class XI extends WI{create(e,n){var r;const{api_version:s=this._client.apiVersion}=e,i=op(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new $s("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new $s("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(a0`/${s}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(a0`/${s}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(a0`/${s}/interactions/${e}/cancel`,r)}get(e,n={},r){var s;const i=n??{},{api_version:o=this._client.apiVersion}=i,c=op(i,["api_version"]);return this._client.get(a0`/${o}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(s=n?.stream)!==null&&s!==void 0?s:!1}))}}XI._key=Object.freeze(["interactions"]);class QI extends XI{}function OY(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let o0;function B1(t){let e;return(o0??(e=new globalThis.TextEncoder,o0=e.encode.bind(e)))(t)}let l0;function dA(t){let e;return(l0??(e=new globalThis.TextDecoder,l0=e.decode.bind(e)))(t)}class Vp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?B1(e):e;this.buffer=OY([this.buffer,n]);const r=[];let s;for(;(s=LY(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){r.push(dA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,o=dA(this.buffer.subarray(0,i));r.push(o),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Vp.NEWLINE_CHARS=new Set([`
`,"\r"]);Vp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function LY(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function UY(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const lp={off:0,error:200,warn:300,info:400,debug:500},hA=(t,e,n)=>{if(t){if(vY(lp,t))return t;qr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(lp))}`)}};function _f(){}function c0(t,e,n){return!e||lp[t]>lp[n]?_f:e[t].bind(e)}const VY={error:_f,warn:_f,info:_f,debug:_f};let pA=new WeakMap;function qr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return VY;const s=pA.get(n);if(s&&s[0]===r)return s[1];const i={error:c0("error",n,r),warn:c0("warn",n,r),info:c0("info",n,r),debug:c0("debug",n,r)};return pA.set(n,[r,i]),i}const al=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class Mc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let s=!1;const i=r?qr(r):console;function o(){return pi(this,arguments,function*(){var f,d,h,g;if(s)throw new $s("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let v=!1;try{try{for(var T=!0,S=mi(BY(e,n)),A;A=yield mt(S.next()),f=A.done,!f;T=!0){g=A.value,T=!1;const C=g;if(!v)if(C.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield mt(JSON.parse(C.data))}catch(k){throw i.error("Could not parse message into JSON:",C.data),i.error("From chunk:",C.raw),k}}}catch(C){d={error:C}}finally{try{!T&&!f&&(h=S.return)&&(yield mt(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(C){if(lx(C))return yield mt(void 0);throw C}finally{v||n.abort()}})}return new Mc(o,n,r)}static fromReadableStream(e,n,r){let s=!1;function i(){return pi(this,arguments,function*(){var f,d,h,g;const v=new Vp,T=KI(e);try{for(var S=!0,A=mi(T),C;C=yield mt(A.next()),f=C.done,!f;S=!0){g=C.value,S=!1;const k=g;for(const V of v.decode(k))yield yield mt(V)}}catch(k){d={error:k}}finally{try{!S&&!f&&(h=A.return)&&(yield mt(h.call(A)))}finally{if(d)throw d.error}}for(const k of v.flush())yield yield mt(k)})}function o(){return pi(this,arguments,function*(){var f,d,h,g;if(s)throw new $s("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let v=!1;try{try{for(var T=!0,S=mi(i()),A;A=yield mt(S.next()),f=A.done,!f;T=!0){g=A.value,T=!1;const C=g;v||C&&(yield yield mt(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!T&&!f&&(h=S.return)&&(yield mt(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(C){if(lx(C))return yield mt(void 0);throw C}finally{v||n.abort()}})}return new Mc(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new Mc(()=>s(e),this.controller,this.client),new Mc(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return $I({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const o=B1(JSON.stringify(s)+`
`);r.enqueue(o)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function BY(t,e){return pi(this,arguments,function*(){var r,s,i,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $s("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $s("Attempted to iterate over a response with no body");const c=new HY,f=new Vp,d=KI(t.body);try{for(var h=!0,g=mi(zY(d)),v;v=yield mt(g.next()),r=v.done,!r;h=!0){o=v.value,h=!1;const T=o;for(const S of f.decode(T)){const A=c.decode(S);A&&(yield yield mt(A))}}}catch(T){s={error:T}}finally{try{!h&&!r&&(i=g.return)&&(yield mt(i.call(g)))}finally{if(s)throw s.error}}for(const T of f.flush()){const S=c.decode(T);S&&(yield yield mt(S))}})}function zY(t){return pi(this,arguments,function*(){var n,r,s,i;let o=new Uint8Array;try{for(var c=!0,f=mi(t),d;d=yield mt(f.next()),n=d.done,!n;c=!0){i=d.value,c=!1;const h=i;if(h==null)continue;const g=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?B1(h):h;let v=new Uint8Array(o.length+g.length);v.set(o),v.set(g,o.length),o=v;let T;for(;(T=UY(o))!==-1;)yield yield mt(o.slice(0,T)),o=o.slice(T)}}catch(h){r={error:h}}finally{try{!c&&!n&&(s=f.return)&&(yield mt(s.call(f)))}finally{if(r)throw r.error}}o.length>0&&(yield yield mt(o))})}class HY{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=GY(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function GY(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function jY(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,o=await(async()=>{var c;if(e.options.stream)return qr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Mc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(c=f?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return qr(t).debug(`[${r}] response parsed`,al({retryOfRequestLogID:s,url:n.url,status:n.status,body:o,durationMs:Date.now()-i})),o}class z1 extends Promise{constructor(e,n,r=jY){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new z1(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const eR=Symbol("brand.privateNullableHeaders");function*qY(t){if(!t)return;if(eR in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():lA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=lA(r[1])?r[1]:[r[1]];let o=!1;for(const c of i)c!==void 0&&(e&&!o&&(o=!0,yield[s,null]),yield[s,c])}}const lf=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,o]of qY(r)){const c=i.toLowerCase();s.has(c)||(e.delete(i),s.add(c)),o===null?(e.delete(i),n.add(c)):(e.append(i,o),n.delete(c))}}return{[eR]:!0,values:e,nulls:n}};const gv=t=>{var e,n,r,s,i,o;if(typeof globalThis.process<"u")return(r=(n=(e=hH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(i=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||i===void 0?void 0:i.call(s,t))===null||o===void 0?void 0:o.trim()};var tR;class Bp{constructor(e){var n,r,s,i,o,c,f,{baseURL:d=gv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=gv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=e,v=op(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:h,apiVersion:g},v),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(r=T.timeout)!==null&&r!==void 0?r:Bp.DEFAULT_TIMEOUT,this.logger=(s=T.logger)!==null&&s!==void 0?s:console;const S="warn";this.logLevel=S,this.logLevel=(o=(i=hA(T.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:hA(gv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:S,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=T.fetch)!==null&&f!==void 0?f:AY(),this.encoder=NY,this._options=T,this.apiKey=h,this.apiVersion=g,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=lf([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return lf([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return lf([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new $s(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ac}`}defaultIdempotencyKey(){return`stainless-node-retry-${fY()}`}makeStatusError(e,n,r,s){return Zr.generate(e,n,r,s)}buildURL(e,n,r){const s=!this.baseURLOverridden()&&r||this.baseURL,i=hY(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return gY(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new z1(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var s,i,o;const c=await e,f=(s=c.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:d,url:h,timeout:g}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:c});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(qr(this).debug(`[${v}] sending request`,al({retryOfRequestLogID:r,method:c.method,url:h,options:c,headers:d.headers})),!((i=c.signal)===null||i===void 0)&&i.aborted)throw new ux;const A=new AbortController,C=await this.fetchWithTimeout(h,d,g,A).catch(cx),k=Date.now();if(C instanceof globalThis.Error){const D=`retrying, ${n} attempts remaining`;if(!((o=c.signal)===null||o===void 0)&&o.aborted)throw new ux;const H=lx(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return qr(this).info(`[${v}] connection ${H?"timed out":"failed"} - ${D}`),qr(this).debug(`[${v}] connection ${H?"timed out":"failed"} (${D})`,al({retryOfRequestLogID:r,url:h,durationMs:k-S,message:C.message})),this.retryRequest(c,n,r??v);throw qr(this).info(`[${v}] connection ${H?"timed out":"failed"} - error; no more retries left`),qr(this).debug(`[${v}] connection ${H?"timed out":"failed"} (error; no more retries left)`,al({retryOfRequestLogID:r,url:h,durationMs:k-S,message:C.message})),H?new LI:new Up({cause:C})}const V=`[${v}${T}] ${d.method} ${h} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${k-S}ms`;if(!C.ok){const D=await this.shouldRetry(C);if(n&&D){const b=`retrying, ${n} attempts remaining`;return await bY(C.body),qr(this).info(`${V} - ${b}`),qr(this).debug(`[${v}] response error (${b})`,al({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:k-S})),this.retryRequest(c,n,r??v,C.headers)}const H=D?"error; no more retries left":"error; not retryable";qr(this).info(`${V} - ${H}`);const G=await C.text().catch(b=>cx(b).message),J=yY(G),I=J?void 0:G;throw qr(this).debug(`[${v}] response error (${H})`,al({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:I,durationMs:Date.now()-S})),this.makeStatusError(C.status,J,I,C.headers)}return qr(this).info(V),qr(this).debug(`[${v}] response start`,al({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:k-S})),{response:C,options:c,controller:A,requestLogID:v,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,s){const i=n||{},{signal:o,method:c}=i,f=op(i,["signal","method"]),d=s.abort.bind(s);o&&o.addEventListener("abort",d,{once:!0});const h=setTimeout(d,r),g=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v=Object.assign(Object.assign(Object.assign({signal:s.signal},g?{duplex:"half"}:{}),{method:"GET"}),f);c&&(v.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){var i;let o;const c=s?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(o=d)}const f=s?.get("retry-after");if(f&&!o){const d=parseFloat(f);Number.isNaN(d)?o=Date.parse(f)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){const d=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,d)}return await _Y(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,s,i;const o=Object.assign({},e),{method:c,path:f,query:d,defaultBaseURL:h}=o,g=this.buildURL(f,d,h);"timeout"in o&&xY("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:T}=this.buildBody({options:o}),S=await this.buildHeaders({options:e,method:c,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(i=o.fetchOptions)!==null&&i!==void 0?i:{}),url:g,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let c=lf([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),SY()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=lf([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:CY(e)}:this.encoder({body:e,headers:r})}}Bp.DEFAULT_TIMEOUT=6e4;class ur extends Bp{constructor(){super(...arguments),this.interactions=new QI(this)}}tR=ur;ur.GeminiNextGenAPIClient=tR;ur.GeminiNextGenAPIClientError=$s;ur.APIError=Zr;ur.APIConnectionError=Up;ur.APIConnectionTimeoutError=LI;ur.APIUserAbortError=ux;ur.NotFoundError=zI;ur.ConflictError=HI;ur.RateLimitError=jI;ur.BadRequestError=UI;ur.AuthenticationError=VI;ur.InternalServerError=qI;ur.PermissionDeniedError=BI;ur.UnprocessableEntityError=GI;ur.toFile=MY;ur.Interactions=QI;function $Y(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function KY(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function YY(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function JY(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function WY(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=m(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&x(e,["displayName"],s),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=m(t,["epochCount"]);e!==void 0&&i!=null&&x(e,["tuningTask","hyperparameters","epochCount"],i);const o=m(t,["learningRateMultiplier"]);if(o!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(m(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(m(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&x(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&x(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(m(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(m(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(m(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(m(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function ZY(t,e,n){const r={};let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec"],vv(G))}else if(s==="PREFERENCE_TUNING"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec"],vv(G))}else if(s==="DISTILLATION"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["distillationSpec"],vv(G))}const i=m(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&x(e,["tunedModelDisplayName"],i);const o=m(t,["description"]);e!==void 0&&o!=null&&x(e,["description"],o);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],G)}else if(c==="PREFERENCE_TUNING"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],G)}else if(c==="DISTILLATION"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","epochCount"],G)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],G)}else if(f==="PREFERENCE_TUNING"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],G)}else if(f==="DISTILLATION"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","learningRateMultiplier"],G)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],G)}else if(d==="PREFERENCE_TUNING"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],G)}else if(d==="DISTILLATION"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["distillationSpec","exportLastCheckpointOnly"],G)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],G)}else if(h==="PREFERENCE_TUNING"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],G)}else if(h==="DISTILLATION"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","adapterSize"],G)}let g=m(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const G=m(t,["tuningMode"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","tuningMode"],G)}const v=m(t,["customBaseModel"]);e!==void 0&&v!=null&&x(e,["customBaseModel"],v);let T=m(n,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const G=m(t,["batchSize"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","batchSize"],G)}let S=m(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const G=m(t,["learningRate"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRate"],G)}const A=m(t,["labels"]);e!==void 0&&A!=null&&x(e,["labels"],A);const C=m(t,["beta"]);e!==void 0&&C!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],C);const k=m(t,["baseTeacherModel"]);e!==void 0&&k!=null&&x(e,["distillationSpec","baseTeacherModel"],k);const V=m(t,["tunedTeacherModelSource"]);e!==void 0&&V!=null&&x(e,["distillationSpec","tunedTeacherModelSource"],V);const D=m(t,["sftLossWeightMultiplier"]);e!==void 0&&D!=null&&x(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const H=m(t,["outputUri"]);return e!==void 0&&H!=null&&x(e,["outputUri"],H),r}function XY(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const s=m(t,["preTunedModel"]);s!=null&&x(n,["preTunedModel"],s);const i=m(t,["trainingDataset"]);i!=null&&cJ(i);const o=m(t,["config"]);return o!=null&&WY(o,n),n}function QY(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const s=m(t,["preTunedModel"]);s!=null&&x(n,["preTunedModel"],s);const i=m(t,["trainingDataset"]);i!=null&&uJ(i,n,e);const o=m(t,["config"]);return o!=null&&ZY(o,n,e),n}function eJ(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function tJ(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function nJ(t,e,n){const r={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&x(e,["_query","pageSize"],s);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const o=m(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function rJ(t,e,n){const r={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&x(e,["_query","pageSize"],s);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const o=m(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function sJ(t,e){const n={},r=m(t,["config"]);return r!=null&&nJ(r,n),n}function iJ(t,e){const n={},r=m(t,["config"]);return r!=null&&rJ(r,n),n}function aJ(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["nextPageToken"]);s!=null&&x(n,["nextPageToken"],s);const i=m(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>nR(c))),x(n,["tuningJobs"],o)}return n}function oJ(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["nextPageToken"]);s!=null&&x(n,["nextPageToken"],s);const i=m(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>hx(c))),x(n,["tuningJobs"],o)}return n}function lJ(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["model"],r);const s=m(t,["name"]);return s!=null&&x(n,["endpoint"],s),n}function cJ(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),x(n,["examples","examples"],s)}return n}function uJ(t,e,n){const r={};let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(s==="DISTILLATION"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["distillationSpec","promptDatasetUri"],o)}let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(i==="DISTILLATION"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["distillationSpec","promptDatasetUri"],o)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function nR(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["name"]);s!=null&&x(n,["name"],s);const i=m(t,["state"]);i!=null&&x(n,["state"],xI(i));const o=m(t,["createTime"]);o!=null&&x(n,["createTime"],o);const c=m(t,["tuningTask","startTime"]);c!=null&&x(n,["startTime"],c);const f=m(t,["tuningTask","completeTime"]);f!=null&&x(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const h=m(t,["description"]);h!=null&&x(n,["description"],h);const g=m(t,["baseModel"]);g!=null&&x(n,["baseModel"],g);const v=m(t,["_self"]);return v!=null&&x(n,["tunedModel"],lJ(v)),n}function hx(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["name"]);s!=null&&x(n,["name"],s);const i=m(t,["state"]);i!=null&&x(n,["state"],xI(i));const o=m(t,["createTime"]);o!=null&&x(n,["createTime"],o);const c=m(t,["startTime"]);c!=null&&x(n,["startTime"],c);const f=m(t,["endTime"]);f!=null&&x(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const h=m(t,["error"]);h!=null&&x(n,["error"],h);const g=m(t,["description"]);g!=null&&x(n,["description"],g);const v=m(t,["baseModel"]);v!=null&&x(n,["baseModel"],v);const T=m(t,["tunedModel"]);T!=null&&x(n,["tunedModel"],T);const S=m(t,["preTunedModel"]);S!=null&&x(n,["preTunedModel"],S);const A=m(t,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const C=m(t,["preferenceOptimizationSpec"]);C!=null&&x(n,["preferenceOptimizationSpec"],C);const k=m(t,["distillationSpec"]);k!=null&&x(n,["distillationSpec"],k);const V=m(t,["tuningDataStats"]);V!=null&&x(n,["tuningDataStats"],V);const D=m(t,["encryptionSpec"]);D!=null&&x(n,["encryptionSpec"],D);const H=m(t,["partnerModelTuningSpec"]);H!=null&&x(n,["partnerModelTuningSpec"],H);const G=m(t,["customBaseModel"]);G!=null&&x(n,["customBaseModel"],G);const J=m(t,["experiment"]);J!=null&&x(n,["experiment"],J);const I=m(t,["labels"]);I!=null&&x(n,["labels"],I);const N=m(t,["outputUri"]);N!=null&&x(n,["outputUri"],N);const b=m(t,["pipelineJob"]);b!=null&&x(n,["pipelineJob"],b);const F=m(t,["serviceAccount"]);F!=null&&x(n,["serviceAccount"],F);const O=m(t,["tunedModelDisplayName"]);O!=null&&x(n,["tunedModelDisplayName"],O);const M=m(t,["veoTuningSpec"]);return M!=null&&x(n,["veoTuningSpec"],M),n}function fJ(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const s=m(t,["name"]);s!=null&&x(n,["name"],s);const i=m(t,["metadata"]);i!=null&&x(n,["metadata"],i);const o=m(t,["done"]);o!=null&&x(n,["done"],o);const c=m(t,["error"]);return c!=null&&x(n,["error"],c),n}function vv(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const s=m(t,["vertexDatasetResource"]);return s!=null&&x(n,["validationDatasetUri"],s),n}class dJ extends Ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fl(va.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:ex.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=tJ(e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>hx(h))}else{const d=eJ(e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>nR(h))}}async listInternal(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=iJ(e);return c=Je("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=oJ(h),v=new zS;return Object.assign(v,g),v})}else{const d=sJ(e);return c=Je("tunedModels",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=aJ(h),v=new zS;return Object.assign(v,g),v})}}async cancel(e){var n,r,s,i;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=KY(e);return c=Je("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=JY(h),v=new HS;return Object.assign(v,g),v})}else{const d=$Y(e);return c=Je("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=YY(h),v=new HS;return Object.assign(v,g),v})}}async tuneInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const c=QY(e,e);return i=Je("tuningJobs",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>hx(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=XY(e);return i=Je("tunedModels",c._url),o=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>fJ(f))}}}class hJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pJ=1024*1024*8,mJ=3,gJ=1e3,vJ=2,cp="x-goog-upload-status";async function xJ(t,e,n){var r;const s=await rR(t,e,n),i=await s?.json();if(((r=s?.headers)===null||r===void 0?void 0:r[cp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function yJ(t,e,n){var r;const s=await rR(t,e,n),i=await s?.json();if(((r=s?.headers)===null||r===void 0?void 0:r[cp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=dI(i),c=new P1;return Object.assign(c,o),c}async function rR(t,e,n){var r,s;let i=0,o=0,c=new nx(new Response),f="upload";for(i=t.size;o<i;){const d=Math.min(pJ,i-o),h=t.slice(o,o+d);o+d>=i&&(f+=", finalize");let g=0,v=gJ;for(;g<mJ&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=c?.headers)===null||r===void 0)&&r[cp]));)g++,await EJ(v),v=v*vJ;if(o+=d,((s=c?.headers)===null||s===void 0?void 0:s[cp])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function _J(t){return{size:t.size,type:t.type}}function EJ(t){return new Promise(e=>setTimeout(e,t))}class TJ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xJ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _J(e)}}class wJ{create(e,n,r){return new SJ(e,n,r)}}class SJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const mA="x-goog-api-key";class AJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(mA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(mA,this.apiKey)}}}const CJ="gl-node/";class sR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ur({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=vH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new AJ(this.apiKey);this.apiClient=new _K({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:CJ+"web",uploader:new TJ,downloader:new hJ}),this.models=new VK(this.apiClient),this.live=new MK(this.apiClient,s,new wJ),this.batches=new KG(this.apiClient),this.chats=new Nj(this.models,this.apiClient),this.caches=new Aj(this.apiClient),this.files=new Bj(this.apiClient),this.operations=new BK(this.apiClient),this.authTokens=new nY(this.apiClient),this.tunings=new dJ(this.apiClient),this.fileSearchStores=new uY(this.apiClient)}}const iR=async(t,e)=>{if(!t||!e)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${e}`,i=await(await fetch(r)).json();if(i.status==="OK"&&i.results&&i.results.length>0){const o=i.results[0],c=o.geometry.location;return{lat:c.lat,lng:c.lng,formattedAddress:o.formatted_address,locationType:o.geometry.location_type,addressComponents:o.address_components}}else return console.warn(`Geocoding failed for address "${t}":`,i.status,i.error_message),null}catch(n){return console.error(`Geocoding fetch error for address "${t}":`,n),null}},cf=async(t,e,n)=>{if(!t||!e||!n)return null;try{const r=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${t},${e}&key=${n}`,i=await(await fetch(r)).json();return i.status==="OK"&&i.plus_code&&(i.plus_code.compound_code||i.plus_code.global_code)||null}catch(r){return console.error("Reverse geocoding error:",r),null}};class bJ{value;next;constructor(e){this.value=e}}class NJ{#e;#t;#n;constructor(){this.clear()}enqueue(e){const n=new bJ(e);this.#e?(this.#t.next=n,this.#t=n):(this.#e=n,this.#t=n),this.#n++}dequeue(){const e=this.#e;if(e)return this.#e=this.#e.next,this.#n--,this.#e||(this.#t=void 0),e.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}*drain(){for(;this.#e;)yield this.dequeue()}}function IJ(t){let e=!1;if(typeof t=="object"&&({concurrency:t,rejectOnClear:e=!1}=t),gA(t),typeof e!="boolean")throw new TypeError("Expected `rejectOnClear` to be a boolean");const n=new NJ;let r=0;const s=()=>{r<t&&n.size>0&&(r++,n.dequeue().run())},i=()=>{r--,s()},o=async(d,h,g)=>{const v=(async()=>d(...g))();h(v);try{await v}catch{}i()},c=(d,h,g,v)=>{const T={reject:g};new Promise(S=>{T.run=S,n.enqueue(T)}).then(o.bind(void 0,d,h,v)),r<t&&s()},f=(d,...h)=>new Promise((g,v)=>{c(d,g,v,h)});return Object.defineProperties(f,{activeCount:{get:()=>r},pendingCount:{get:()=>n.size},clearQueue:{value(){if(!e){n.clear();return}const d=AbortSignal.abort().reason;for(;n.size>0;)n.dequeue().reject(d)}},concurrency:{get:()=>t,set(d){gA(d),t=d,queueMicrotask(()=>{for(;r<t&&n.size>0;)s()})}},map:{async value(d,h){const g=Array.from(d,(v,T)=>this(h,v,T));return Promise.all(g)}}}),f}function gA(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}var aR={};const px=t=>new Promise(e=>setTimeout(e,t)),RJ=t=>{const e=t.replace(/\D/g,"");if(e.length<5)return"Indefinido";const n=parseInt(e.substring(0,1)),r=parseInt(e.substring(0,2));return n===0||n===1||n===2||n===3?"Sudeste":n===8||n===9?"Sul":n===4||n===5?"Nordeste":n===6?r>=60&&r<=65?"Nordeste":"Norte":n===7?r===77||r===76?"Norte":"Centro-Oeste":"Indefinido"},kJ=t=>{const e=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],n=["AC","AP","AM","PA","RO","RR","TO"],r=["GO","MT","MS","DF"],s=["ES","MG","RJ","SP"],i=["PR","SC","RS"],o=t.toUpperCase().trim();return e.includes(o)?"Nordeste":n.includes(o)?"Norte":r.includes(o)?"Centro-Oeste":s.includes(o)?"Sudeste":i.includes(o)?"Sul":"Indefinido"},DJ=t=>{let e="Desconhecido",n="BR",r="Indefinido";if(Array.isArray(t)){const s=t.find(o=>o.types.includes("administrative_area_level_1"));s&&(n=s.short_name);const i=t.find(o=>o.types.includes("administrative_area_level_2")||o.types.includes("locality"));i&&(e=i.long_name),r=kJ(n)}return{city:e,state:n,region:r}},MJ=async(t,e,n,r,s,i)=>{const o=new sR({apiKey:n||aR.API_KEY}),c=IJ(3),f=t.length;let d=0;const h=s.map(S=>`"${S}"`).join(" | "),g=async(S,A)=>{if(!S)return d++,i&&i(d,f),null;const C=S.address||"",k=bb(C),V=S.companyName||"Empresa Desconhecida",D=S.ownerName||"",H=S.phone||"",G=k.match(/\d{5}[-]?\d{3}/),J=G?G[0]:"",I=`${e}-${Date.now()}-${A}`;if(!k&&V==="Empresa Desconhecida")return d++,i&&i(d,f),null;const N=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${V}" localizada EXATAMENTE em "${k}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${h} | "Outros".

      IMPORTANTE: Use o endereo "${k}" como ncora principal para a busca.

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let b=0;const F=5;let O=null,M=!1,B={},fe="";for(;!M&&b<=F;)try{const pe=await o.models.generateContent({model:"gemini-2.5-flash",contents:N,config:{tools:[{googleMaps:{}}]}});let ae=pe.text||"{}";ae=ae.replace(/```json/g,"").replace(/```/g,"").trim();try{B=JSON.parse(ae)}catch{const ie=ae.match(/\{[\s\S]*\}/);if(ie)try{B=JSON.parse(ie[0])}catch{}}const ce=pe.candidates?.[0]?.groundingMetadata?.groundingChunks;if(ce&&Array.isArray(ce)){const ee=ce.find(ie=>ie.maps?.uri);ee&&(fe=ee.maps.uri)}M=!0}catch(pe){const ae=pe.status===429||pe.code===429||pe.message&&(pe.message.includes("quota")||pe.message.includes("429")),ce=pe.status===503||pe.code===503;if((ae||ce)&&b<F){b++;const ee=2e3*Math.pow(2,b);console.warn(`Retry ${b}/${F} for client ${A}`),await px(ee)}else{console.error(`Failed to process client with AI ${A} (continuing to manual geocode)`,pe);break}}try{let pe=S.latitude||(typeof B.lat=="number"?B.lat:0),ae=S.longitude||(typeof B.lng=="number"?B.lng:0),ce=B.cleanAddress||k,ee=B.city||"Desconhecido",ie=B.state||"BR",Re=B.region||"Indefinido";const X=pe!==0&&ae!==0;if(!X||ee==="Desconhecido"||ie==="BR"){const te=C||ce;if(te&&te.length>5&&r)try{const de=await iR(te,r);if(de){if(X||(pe=de.lat,ae=de.lng),de.addressComponents){const ve=DJ(de.addressComponents);ee=ve.city,ie=ve.state,Re=ve.region}(!Re||Re==="Indefinido")&&J&&(Re=RJ(J)),de.formattedAddress&&(ce=de.formattedAddress)}}catch(de){console.warn(`Geocoding failed for ${V}`,de)}}const Q=te=>Array.isArray(te)?te:typeof te=="string"?[te]:["Outros"];let ne=H;B.phone&&(ne=ne?`${ne} | Maps: ${B.phone}`:B.phone),B.website&&(ne=ne?`${ne} | Site: ${B.website}`:`Site: ${B.website}`),O={id:I,salespersonId:e,companyName:V,ownerName:D,contact:ne,originalAddress:C,cleanAddress:ce,category:Q(B.category),region:Re,state:ie,city:ee,lat:pe,lng:ae,googleMapsUri:S.googleMapsLink||fe}}catch(pe){console.error("Critical error in client finalization",pe),O={id:I,salespersonId:e,companyName:V,ownerName:D,contact:H,originalAddress:C,cleanAddress:C,category:["Outros"],region:"Indefinido",state:"BR",city:"Erro Critico",lat:0,lng:0,googleMapsUri:S.googleMapsLink}}return d++,i&&i(d,f),await px(500),O},v=t.map((S,A)=>c(()=>g(S,A)));return(await Promise.all(v)).filter(S=>S!==null)},PJ=async(t,e,n)=>{const r=new sR({apiKey:e||aR.API_KEY}),s=10,i=t.length;let o=0;const c=[...t];for(let f=0;f<i;f+=s){const d=t.slice(f,f+s),g=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${d.map(v=>`- ID: ${v.sku} | Nome: ${v.name} | Marca: ${v.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let T=(await r.models.generateContent({model:"gemini-2.5-flash",contents:g})).text||"[]";T=T.replace(/```json/g,"").replace(/```/g,"").trim();let S=[];try{S=JSON.parse(T)}catch{console.error("Failed to parse AI response",T);const C=T.match(/\[.*\]/s);if(C)try{S=JSON.parse(C[0])}catch{}}Array.isArray(S)&&S.forEach(A=>{const C=c.findIndex(k=>String(k.sku)===String(A.sku));C!==-1&&(c[C]={...c[C],category:A.category})})}catch(v){console.error("Batch classification failed",v)}o+=d.length,n&&n(o,i),await px(1e3)}return c},FJ=()=>{};var vA={};const oR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},OJ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],c=t[n++],f=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},lR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,c=o?t[s+1]:0,f=s+2<t.length,d=f?t[s+2]:0,h=i>>2,g=(i&3)<<4|c>>4;let v=(c&15)<<2|d>>6,T=d&63;f||(T=64,o||(v=64)),r.push(n[h],n[g],n[v],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||d==null||g==null)throw new LJ;const v=i<<2|c>>4;if(r.push(v),d!==64){const T=c<<4&240|d>>2;if(r.push(T),g!==64){const S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UJ=function(t){const e=oR(t);return lR.encodeByteArray(e,!0)},up=function(t){return UJ(t).replace(/\./g,"")},VJ=function(t){try{return lR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zJ=()=>BJ().__FIREBASE_DEFAULTS__,HJ=()=>{if(typeof process>"u"||typeof vA>"u")return;const t=vA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VJ(t[1]);return e&&JSON.parse(e)},H1=()=>{try{return FJ()||zJ()||HJ()||GJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jJ=t=>H1()?.emulatorHosts?.[t],qJ=t=>{const e=jJ(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cR=()=>H1()?.config;class $J{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function G1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KJ(t){return(await fetch(t,{credentials:"include"})).ok}function YJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[up(JSON.stringify(n)),up(JSON.stringify(o)),""].join(".")}const Of={};function JJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Of))Of[e]?t.emulator.push(e):t.prod.push(e);return t}function WJ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xA=!1;function ZJ(t,e){if(typeof window>"u"||typeof document>"u"||!G1(window.location.host)||Of[t]===e||Of[t]||xA)return;Of[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",i=JJ().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{xA=!0,o()},v}function h(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=WJ(r),T=n("text"),S=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),k=n("preprendIcon"),V=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const D=v.element;c(D),h(C,A);const H=d();f(V,k),D.append(V,S,C,H),document.body.appendChild(D)}i?(S.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function XJ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QJ(){const t=H1()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eW(){return!QJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tW(){try{return typeof indexedDB=="object"}catch{return!1}}function nW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}const rW="FirebaseError";class au extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rW,Object.setPrototypeOf(this,au.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uR.prototype.create)}}class uR{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sW(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new au(s,c,r)}}function sW(t,e){return t.replace(iW,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iW=/\{\$([^}]+)}/g;function fp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(yA(i)&&yA(o)){if(!fp(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function yA(t){return t!==null&&typeof t=="object"}function rd(t){return t&&t._delegate?t._delegate:t}class sd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ol="[DEFAULT]";class aW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $J;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lW(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ol){return this.instances.has(e)}getOptions(e=ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ol){return this.component?this.component.multipleInstances?e:ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oW(t){return t===ol?void 0:t}function lW(t){return t.instantiationMode==="EAGER"}class cW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Vt||(Vt={}));const uW={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},fW=Vt.INFO,dW={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},hW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=dW[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fR{constructor(e){this.name=e,this._logLevel=fW,this._logHandler=hW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...e),this._logHandler(this,Vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...e),this._logHandler(this,Vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...e),this._logHandler(this,Vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...e),this._logHandler(this,Vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...e),this._logHandler(this,Vt.ERROR,...e)}}const pW=(t,e)=>e.some(n=>t instanceof n);let _A,EA;function mW(){return _A||(_A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gW(){return EA||(EA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dR=new WeakMap,mx=new WeakMap,hR=new WeakMap,xv=new WeakMap,j1=new WeakMap;function vW(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(mo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dR.set(n,t)}).catch(()=>{}),j1.set(e,t),e}function xW(t){if(mx.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});mx.set(t,e)}let gx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yW(t){gx=t(gx)}function _W(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yv(this),e,...n);return hR.set(r,e.sort?e.sort():[e]),mo(r)}:gW().includes(t)?function(...e){return t.apply(yv(this),e),mo(dR.get(this))}:function(...e){return mo(t.apply(yv(this),e))}}function EW(t){return typeof t=="function"?_W(t):(t instanceof IDBTransaction&&xW(t),pW(t,mW())?new Proxy(t,gx):t)}function mo(t){if(t instanceof IDBRequest)return vW(t);if(xv.has(t))return xv.get(t);const e=EW(t);return e!==t&&(xv.set(t,e),j1.set(e,t)),e}const yv=t=>j1.get(t);function TW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),c=mo(o);return r&&o.addEventListener("upgradeneeded",f=>{r(mo(o.result),f.oldVersion,f.newVersion,mo(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{i&&f.addEventListener("close",()=>i()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const wW=["get","getKey","getAll","getAllKeys","count"],SW=["put","add","delete","clear"],_v=new Map;function TA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_v.get(e))return _v.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=SW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wW.includes(n)))return;const i=async function(o,...c){const f=this.transaction(o,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&f.done]))[0]};return _v.set(e,i),i}yW(t=>({...t,get:(e,n,r)=>TA(e,n)||t.get(e,n,r),has:(e,n)=>!!TA(e,n)||t.has(e,n)}));class AW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CW(t){return t.getComponent()?.type==="VERSION"}const vx="@firebase/app",wA="0.14.8";const xa=new fR("@firebase/app"),bW="@firebase/app-compat",NW="@firebase/analytics-compat",IW="@firebase/analytics",RW="@firebase/app-check-compat",kW="@firebase/app-check",DW="@firebase/auth",MW="@firebase/auth-compat",PW="@firebase/database",FW="@firebase/data-connect",OW="@firebase/database-compat",LW="@firebase/functions",UW="@firebase/functions-compat",VW="@firebase/installations",BW="@firebase/installations-compat",zW="@firebase/messaging",HW="@firebase/messaging-compat",GW="@firebase/performance",jW="@firebase/performance-compat",qW="@firebase/remote-config",$W="@firebase/remote-config-compat",KW="@firebase/storage",YW="@firebase/storage-compat",JW="@firebase/firestore",WW="@firebase/ai",ZW="@firebase/firestore-compat",XW="firebase",QW="12.9.0";const xx="[DEFAULT]",eZ={[vx]:"fire-core",[bW]:"fire-core-compat",[IW]:"fire-analytics",[NW]:"fire-analytics-compat",[kW]:"fire-app-check",[RW]:"fire-app-check-compat",[DW]:"fire-auth",[MW]:"fire-auth-compat",[PW]:"fire-rtdb",[FW]:"fire-data-connect",[OW]:"fire-rtdb-compat",[LW]:"fire-fn",[UW]:"fire-fn-compat",[VW]:"fire-iid",[BW]:"fire-iid-compat",[zW]:"fire-fcm",[HW]:"fire-fcm-compat",[GW]:"fire-perf",[jW]:"fire-perf-compat",[qW]:"fire-rc",[$W]:"fire-rc-compat",[KW]:"fire-gcs",[YW]:"fire-gcs-compat",[JW]:"fire-fst",[ZW]:"fire-fst-compat",[WW]:"fire-vertex","fire-js":"fire-js",[XW]:"fire-js-all"};const id=new Map,tZ=new Map,yx=new Map;function SA(t,e){try{t.container.addComponent(e)}catch(n){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dp(t){const e=t.name;if(yx.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;yx.set(e,t);for(const n of id.values())SA(n,t);for(const n of tZ.values())SA(n,t);return!0}function nZ(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rZ(t){return t==null?!1:t.settings!==void 0}const sZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new uR("app","Firebase",sZ);class iZ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}const aZ=QW;function pR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:xx,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw go.create("bad-app-name",{appName:String(s)});if(n||(n=cR()),!n)throw go.create("no-options");const i=id.get(s);if(i){if(fp(n,i.options)&&fp(r,i.config))return i;throw go.create("duplicate-app",{appName:s})}const o=new cW(s);for(const f of yx.values())o.addComponent(f);const c=new iZ(n,r,o);return id.set(s,c),c}function mR(t=xx){const e=id.get(t);if(!e&&t===xx&&cR())return pR();if(!e)throw go.create("no-app",{appName:t});return e}function oZ(){return Array.from(id.values())}function zc(t,e,n){let r=eZ[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xa.warn(o.join(" "));return}dp(new sd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const lZ="firebase-heartbeat-database",cZ=1,ad="firebase-heartbeat-store";let Ev=null;function gR(){return Ev||(Ev=TW(lZ,cZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ad)}catch(n){console.warn(n)}}}}).catch(t=>{throw go.create("idb-open",{originalErrorMessage:t.message})})),Ev}async function uZ(t){try{const n=(await gR()).transaction(ad),r=await n.objectStore(ad).get(vR(t));return await n.done,r}catch(e){if(e instanceof au)xa.warn(e.message);else{const n=go.create("idb-get",{originalErrorMessage:e?.message});xa.warn(n.message)}}}async function AA(t,e){try{const r=(await gR()).transaction(ad,"readwrite");await r.objectStore(ad).put(e,vR(t)),await r.done}catch(n){if(n instanceof au)xa.warn(n.message);else{const r=go.create("idb-set",{originalErrorMessage:n?.message});xa.warn(r.message)}}}function vR(t){return`${t.name}!${t.options.appId}`}const fZ=1024,dZ=30;class hZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=CA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>dZ){const s=gZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=CA(),{heartbeatsToSend:n,unsentEntries:r}=pZ(this._heartbeatsCache.heartbeats),s=up(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return xa.warn(e),""}}}function CA(){return new Date().toISOString().substring(0,10)}function pZ(t,e=fZ){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),bA(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),bA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tW()?nW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bA(t){return up(JSON.stringify({version:2,heartbeats:t})).length}function gZ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function vZ(t){dp(new sd("platform-logger",e=>new AW(e),"PRIVATE")),dp(new sd("heartbeat",e=>new hZ(e),"PRIVATE")),zc(vx,wA,t),zc(vx,wA,"esm2020"),zc("fire-js","")}vZ("");var xZ="firebase",yZ="12.9.0";zc(xZ,yZ,"app");var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vo,xR;(function(){var t;function e(I,N){function b(){}b.prototype=N.prototype,I.F=N.prototype,I.prototype=new b,I.prototype.constructor=I,I.D=function(F,O,M){for(var B=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)B[fe-2]=arguments[fe];return N.prototype[O].apply(F,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,N,b){b||(b=0);const F=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)F[O]=N.charCodeAt(b++)|N.charCodeAt(b++)<<8|N.charCodeAt(b++)<<16|N.charCodeAt(b++)<<24;else for(O=0;O<16;++O)F[O]=N[b++]|N[b++]<<8|N[b++]<<16|N[b++]<<24;N=I.g[0],b=I.g[1],O=I.g[2];let M=I.g[3],B;B=N+(M^b&(O^M))+F[0]+3614090360&4294967295,N=b+(B<<7&4294967295|B>>>25),B=M+(O^N&(b^O))+F[1]+3905402710&4294967295,M=N+(B<<12&4294967295|B>>>20),B=O+(b^M&(N^b))+F[2]+606105819&4294967295,O=M+(B<<17&4294967295|B>>>15),B=b+(N^O&(M^N))+F[3]+3250441966&4294967295,b=O+(B<<22&4294967295|B>>>10),B=N+(M^b&(O^M))+F[4]+4118548399&4294967295,N=b+(B<<7&4294967295|B>>>25),B=M+(O^N&(b^O))+F[5]+1200080426&4294967295,M=N+(B<<12&4294967295|B>>>20),B=O+(b^M&(N^b))+F[6]+2821735955&4294967295,O=M+(B<<17&4294967295|B>>>15),B=b+(N^O&(M^N))+F[7]+4249261313&4294967295,b=O+(B<<22&4294967295|B>>>10),B=N+(M^b&(O^M))+F[8]+1770035416&4294967295,N=b+(B<<7&4294967295|B>>>25),B=M+(O^N&(b^O))+F[9]+2336552879&4294967295,M=N+(B<<12&4294967295|B>>>20),B=O+(b^M&(N^b))+F[10]+4294925233&4294967295,O=M+(B<<17&4294967295|B>>>15),B=b+(N^O&(M^N))+F[11]+2304563134&4294967295,b=O+(B<<22&4294967295|B>>>10),B=N+(M^b&(O^M))+F[12]+1804603682&4294967295,N=b+(B<<7&4294967295|B>>>25),B=M+(O^N&(b^O))+F[13]+4254626195&4294967295,M=N+(B<<12&4294967295|B>>>20),B=O+(b^M&(N^b))+F[14]+2792965006&4294967295,O=M+(B<<17&4294967295|B>>>15),B=b+(N^O&(M^N))+F[15]+1236535329&4294967295,b=O+(B<<22&4294967295|B>>>10),B=N+(O^M&(b^O))+F[1]+4129170786&4294967295,N=b+(B<<5&4294967295|B>>>27),B=M+(b^O&(N^b))+F[6]+3225465664&4294967295,M=N+(B<<9&4294967295|B>>>23),B=O+(N^b&(M^N))+F[11]+643717713&4294967295,O=M+(B<<14&4294967295|B>>>18),B=b+(M^N&(O^M))+F[0]+3921069994&4294967295,b=O+(B<<20&4294967295|B>>>12),B=N+(O^M&(b^O))+F[5]+3593408605&4294967295,N=b+(B<<5&4294967295|B>>>27),B=M+(b^O&(N^b))+F[10]+38016083&4294967295,M=N+(B<<9&4294967295|B>>>23),B=O+(N^b&(M^N))+F[15]+3634488961&4294967295,O=M+(B<<14&4294967295|B>>>18),B=b+(M^N&(O^M))+F[4]+3889429448&4294967295,b=O+(B<<20&4294967295|B>>>12),B=N+(O^M&(b^O))+F[9]+568446438&4294967295,N=b+(B<<5&4294967295|B>>>27),B=M+(b^O&(N^b))+F[14]+3275163606&4294967295,M=N+(B<<9&4294967295|B>>>23),B=O+(N^b&(M^N))+F[3]+4107603335&4294967295,O=M+(B<<14&4294967295|B>>>18),B=b+(M^N&(O^M))+F[8]+1163531501&4294967295,b=O+(B<<20&4294967295|B>>>12),B=N+(O^M&(b^O))+F[13]+2850285829&4294967295,N=b+(B<<5&4294967295|B>>>27),B=M+(b^O&(N^b))+F[2]+4243563512&4294967295,M=N+(B<<9&4294967295|B>>>23),B=O+(N^b&(M^N))+F[7]+1735328473&4294967295,O=M+(B<<14&4294967295|B>>>18),B=b+(M^N&(O^M))+F[12]+2368359562&4294967295,b=O+(B<<20&4294967295|B>>>12),B=N+(b^O^M)+F[5]+4294588738&4294967295,N=b+(B<<4&4294967295|B>>>28),B=M+(N^b^O)+F[8]+2272392833&4294967295,M=N+(B<<11&4294967295|B>>>21),B=O+(M^N^b)+F[11]+1839030562&4294967295,O=M+(B<<16&4294967295|B>>>16),B=b+(O^M^N)+F[14]+4259657740&4294967295,b=O+(B<<23&4294967295|B>>>9),B=N+(b^O^M)+F[1]+2763975236&4294967295,N=b+(B<<4&4294967295|B>>>28),B=M+(N^b^O)+F[4]+1272893353&4294967295,M=N+(B<<11&4294967295|B>>>21),B=O+(M^N^b)+F[7]+4139469664&4294967295,O=M+(B<<16&4294967295|B>>>16),B=b+(O^M^N)+F[10]+3200236656&4294967295,b=O+(B<<23&4294967295|B>>>9),B=N+(b^O^M)+F[13]+681279174&4294967295,N=b+(B<<4&4294967295|B>>>28),B=M+(N^b^O)+F[0]+3936430074&4294967295,M=N+(B<<11&4294967295|B>>>21),B=O+(M^N^b)+F[3]+3572445317&4294967295,O=M+(B<<16&4294967295|B>>>16),B=b+(O^M^N)+F[6]+76029189&4294967295,b=O+(B<<23&4294967295|B>>>9),B=N+(b^O^M)+F[9]+3654602809&4294967295,N=b+(B<<4&4294967295|B>>>28),B=M+(N^b^O)+F[12]+3873151461&4294967295,M=N+(B<<11&4294967295|B>>>21),B=O+(M^N^b)+F[15]+530742520&4294967295,O=M+(B<<16&4294967295|B>>>16),B=b+(O^M^N)+F[2]+3299628645&4294967295,b=O+(B<<23&4294967295|B>>>9),B=N+(O^(b|~M))+F[0]+4096336452&4294967295,N=b+(B<<6&4294967295|B>>>26),B=M+(b^(N|~O))+F[7]+1126891415&4294967295,M=N+(B<<10&4294967295|B>>>22),B=O+(N^(M|~b))+F[14]+2878612391&4294967295,O=M+(B<<15&4294967295|B>>>17),B=b+(M^(O|~N))+F[5]+4237533241&4294967295,b=O+(B<<21&4294967295|B>>>11),B=N+(O^(b|~M))+F[12]+1700485571&4294967295,N=b+(B<<6&4294967295|B>>>26),B=M+(b^(N|~O))+F[3]+2399980690&4294967295,M=N+(B<<10&4294967295|B>>>22),B=O+(N^(M|~b))+F[10]+4293915773&4294967295,O=M+(B<<15&4294967295|B>>>17),B=b+(M^(O|~N))+F[1]+2240044497&4294967295,b=O+(B<<21&4294967295|B>>>11),B=N+(O^(b|~M))+F[8]+1873313359&4294967295,N=b+(B<<6&4294967295|B>>>26),B=M+(b^(N|~O))+F[15]+4264355552&4294967295,M=N+(B<<10&4294967295|B>>>22),B=O+(N^(M|~b))+F[6]+2734768916&4294967295,O=M+(B<<15&4294967295|B>>>17),B=b+(M^(O|~N))+F[13]+1309151649&4294967295,b=O+(B<<21&4294967295|B>>>11),B=N+(O^(b|~M))+F[4]+4149444226&4294967295,N=b+(B<<6&4294967295|B>>>26),B=M+(b^(N|~O))+F[11]+3174756917&4294967295,M=N+(B<<10&4294967295|B>>>22),B=O+(N^(M|~b))+F[2]+718787259&4294967295,O=M+(B<<15&4294967295|B>>>17),B=b+(M^(O|~N))+F[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(O+(B<<21&4294967295|B>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,N){N===void 0&&(N=I.length);const b=N-this.blockSize,F=this.C;let O=this.h,M=0;for(;M<N;){if(O==0)for(;M<=b;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<N;)if(F[O++]=I.charCodeAt(M++),O==this.blockSize){s(this,F),O=0;break}}else for(;M<N;)if(F[O++]=I[M++],O==this.blockSize){s(this,F),O=0;break}}this.h=O,this.o+=N},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var b=I.length-8;b<I.length;++b)I[b]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,b=0;b<4;++b)for(let F=0;F<32;F+=8)I[N++]=this.g[b]>>>F&255;return I};function i(I,N){var b=c;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=N(I)}function o(I,N){this.h=N;const b=[];let F=!0;for(let O=I.length-1;O>=0;O--){const M=I[O]|0;F&&M==N||(b[O]=M,F=!1)}this.g=b}var c={};function f(I){return-128<=I&&I<128?i(I,function(N){return new o([N|0],N<0?-1:0)}):new o([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return g;if(I<0)return C(d(-I));const N=[];let b=1;for(let F=0;I>=b;F++)N[F]=I/b|0,b*=4294967296;return new o(N,0)}function h(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return C(h(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=d(Math.pow(N,8));let F=g;for(let M=0;M<I.length;M+=8){var O=Math.min(8,I.length-M);const B=parseInt(I.substring(M,M+O),N);O<8?(O=d(Math.pow(N,O)),F=F.j(O).add(d(B))):(F=F.j(b),F=F.add(d(B)))}return F}var g=f(0),v=f(1),T=f(16777216);t=o.prototype,t.m=function(){if(A(this))return-C(this).m();let I=0,N=1;for(let b=0;b<this.g.length;b++){const F=this.i(b);I+=(F>=0?F:4294967296+F)*N,N*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(A(this))return"-"+C(this).toString(I);const N=d(Math.pow(I,6));var b=this;let F="";for(;;){const O=H(b,N).g;b=k(b,O.j(N));let M=((b.g.length>0?b.g[0]:b.h)>>>0).toString(I);if(b=O,S(b))return M+F;for(;M.length<6;)M="0"+M;F=M+F}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function A(I){return I.h==-1}t.l=function(I){return I=k(this,I),A(I)?-1:S(I)?0:1};function C(I){const N=I.g.length,b=[];for(let F=0;F<N;F++)b[F]=~I.g[F];return new o(b,~I.h).add(v)}t.abs=function(){return A(this)?C(this):this},t.add=function(I){const N=Math.max(this.g.length,I.g.length),b=[];let F=0;for(let O=0;O<=N;O++){let M=F+(this.i(O)&65535)+(I.i(O)&65535),B=(M>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);F=B>>>16,M&=65535,B&=65535,b[O]=B<<16|M}return new o(b,b[b.length-1]&-2147483648?-1:0)};function k(I,N){return I.add(C(N))}t.j=function(I){if(S(this)||S(I))return g;if(A(this))return A(I)?C(this).j(C(I)):C(C(this).j(I));if(A(I))return C(this.j(C(I)));if(this.l(T)<0&&I.l(T)<0)return d(this.m()*I.m());const N=this.g.length+I.g.length,b=[];for(var F=0;F<2*N;F++)b[F]=0;for(F=0;F<this.g.length;F++)for(let O=0;O<I.g.length;O++){const M=this.i(F)>>>16,B=this.i(F)&65535,fe=I.i(O)>>>16,pe=I.i(O)&65535;b[2*F+2*O]+=B*pe,V(b,2*F+2*O),b[2*F+2*O+1]+=M*pe,V(b,2*F+2*O+1),b[2*F+2*O+1]+=B*fe,V(b,2*F+2*O+1),b[2*F+2*O+2]+=M*fe,V(b,2*F+2*O+2)}for(I=0;I<N;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=N;I<2*N;I++)b[I]=0;return new o(b,0)};function V(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function D(I,N){this.g=I,this.h=N}function H(I,N){if(S(N))throw Error("division by zero");if(S(I))return new D(g,g);if(A(I))return N=H(C(I),N),new D(C(N.g),C(N.h));if(A(N))return N=H(I,C(N)),new D(C(N.g),N.h);if(I.g.length>30){if(A(I)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var b=v,F=N;F.l(I)<=0;)b=G(b),F=G(F);var O=J(b,1),M=J(F,1);for(F=J(F,2),b=J(b,2);!S(F);){var B=M.add(F);B.l(I)<=0&&(O=O.add(b),M=B),F=J(F,1),b=J(b,1)}return N=k(I,O.j(N)),new D(O,N)}for(O=g;I.l(N)>=0;){for(b=Math.max(1,Math.floor(I.m()/N.m())),F=Math.ceil(Math.log(b)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),M=d(b),B=M.j(N);A(B)||B.l(I)>0;)b-=F,M=d(b),B=M.j(N);S(M)&&(M=v),O=O.add(M),I=k(I,B)}return new D(O,I)}t.B=function(I){return H(this,I).h},t.and=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)&I.i(F);return new o(b,this.h&I.h)},t.or=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)|I.i(F);return new o(b,this.h|I.h)},t.xor=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)^I.i(F);return new o(b,this.h^I.h)};function G(I){const N=I.g.length+1,b=[];for(let F=0;F<N;F++)b[F]=I.i(F)<<1|I.i(F-1)>>>31;return new o(b,I.h)}function J(I,N){const b=N>>5;N%=32;const F=I.g.length-b,O=[];for(let M=0;M<F;M++)O[M]=N>0?I.i(M+b)>>>N|I.i(M+b+1)<<32-N:I.i(M+b);return new o(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,vo=o}).apply(typeof NA<"u"?NA:typeof self<"u"?self:typeof window<"u"?window:{});var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yR,Ef,_R,T0,_x,ER,TR,wR;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof u0=="object"&&u0];for(var R=0;R<y.length;++R){var L=y[R];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function s(y,R){if(R)e:{var L=r;y=y.split(".");for(var Z=0;Z<y.length-1;Z++){var _e=y[Z];if(!(_e in L))break e;L=L[_e]}y=y[y.length-1],Z=L[y],R=R(Z),R!=Z&&R!=null&&e(L,y,{configurable:!0,writable:!0,value:R})}}s("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(y){return y||function(R){var L=[],Z;for(Z in R)Object.prototype.hasOwnProperty.call(R,Z)&&L.push([Z,R[Z]]);return L}});var i=i||{},o=this||self;function c(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function f(y,R,L){return y.call.apply(y.bind,arguments)}function d(y,R,L){return d=f,d.apply(null,arguments)}function h(y,R){var L=Array.prototype.slice.call(arguments,1);return function(){var Z=L.slice();return Z.push.apply(Z,arguments),y.apply(this,Z)}}function g(y,R){function L(){}L.prototype=R.prototype,y.Z=R.prototype,y.prototype=new L,y.prototype.constructor=y,y.Ob=function(Z,_e,Ae){for(var $e=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)$e[_t-2]=arguments[_t];return R.prototype[_e].apply(Z,$e)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function T(y){const R=y.length;if(R>0){const L=Array(R);for(let Z=0;Z<R;Z++)L[Z]=y[Z];return L}return[]}function S(y,R){for(let Z=1;Z<arguments.length;Z++){const _e=arguments[Z];var L=typeof _e;if(L=L!="object"?L:_e?Array.isArray(_e)?"array":L:"null",L=="array"||L=="object"&&typeof _e.length=="number"){L=y.length||0;const Ae=_e.length||0;y.length=L+Ae;for(let $e=0;$e<Ae;$e++)y[L+$e]=_e[$e]}else y.push(_e)}}class A{constructor(R,L){this.i=R,this.j=L,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function C(y){o.setTimeout(()=>{throw y},0)}function k(){var y=I;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class V{constructor(){this.h=this.g=null}add(R,L){const Z=D.get();Z.set(R,L),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var D=new A(()=>new H,y=>y.reset());class H{constructor(){this.next=this.g=this.h=null}set(R,L){this.h=R,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let G,J=!1,I=new V,N=()=>{const y=Promise.resolve(void 0);G=()=>{y.then(b)}};function b(){for(var y;y=k();){try{y.h.call(y.g)}catch(L){C(L)}var R=D;R.j(y),R.h<100&&(R.h++,y.next=R.g,R.g=y)}J=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const L=()=>{};o.addEventListener("test",L,R),o.removeEventListener("test",L,R)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function fe(y,R){O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,R)}g(fe,O),fe.prototype.init=function(y,R){const L=this.type=y.type,Z=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget,R||(L=="mouseover"?R=y.fromElement:L=="mouseout"&&(R=y.toElement)),this.relatedTarget=R,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),ae=0;function ce(y,R,L,Z,_e){this.listener=y,this.proxy=null,this.src=R,this.type=L,this.capture=!!Z,this.ha=_e,this.key=++ae,this.da=this.fa=!1}function ee(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ie(y,R,L){for(const Z in y)R.call(L,y[Z],Z,y)}function Re(y,R){for(const L in y)R.call(void 0,y[L],L,y)}function X(y){const R={};for(const L in y)R[L]=y[L];return R}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(y,R){let L,Z;for(let _e=1;_e<arguments.length;_e++){Z=arguments[_e];for(L in Z)y[L]=Z[L];for(let Ae=0;Ae<z.length;Ae++)L=z[Ae],Object.prototype.hasOwnProperty.call(Z,L)&&(y[L]=Z[L])}}function ne(y){this.src=y,this.g={},this.h=0}ne.prototype.add=function(y,R,L,Z,_e){const Ae=y.toString();y=this.g[Ae],y||(y=this.g[Ae]=[],this.h++);const $e=de(y,R,Z,_e);return $e>-1?(R=y[$e],L||(R.fa=!1)):(R=new ce(R,this.src,Ae,!!Z,_e),R.fa=L,y.push(R)),R};function te(y,R){const L=R.type;if(L in y.g){var Z=y.g[L],_e=Array.prototype.indexOf.call(Z,R,void 0),Ae;(Ae=_e>=0)&&Array.prototype.splice.call(Z,_e,1),Ae&&(ee(R),y.g[L].length==0&&(delete y.g[L],y.h--))}}function de(y,R,L,Z){for(let _e=0;_e<y.length;++_e){const Ae=y[_e];if(!Ae.da&&Ae.listener==R&&Ae.capture==!!L&&Ae.ha==Z)return _e}return-1}var ve="closure_lm_"+(Math.random()*1e6|0),Ne={};function be(y,R,L,Z,_e){if(Array.isArray(R)){for(let Ae=0;Ae<R.length;Ae++)be(y,R[Ae],L,Z,_e);return null}return L=tt(L),y&&y[pe]?y.J(R,L,c(Z)?!!Z.capture:!1,_e):De(y,R,L,!1,Z,_e)}function De(y,R,L,Z,_e,Ae){if(!R)throw Error("Invalid event type");const $e=c(_e)?!!_e.capture:!!_e;let _t=Ge(y);if(_t||(y[ve]=_t=new ne(y)),L=_t.add(R,L,Z,$e,Ae),L.proxy)return L;if(Z=je(),L.proxy=Z,Z.src=y,Z.listener=L,y.addEventListener)M||(_e=$e),_e===void 0&&(_e=!1),y.addEventListener(R.toString(),Z,_e);else if(y.attachEvent)y.attachEvent(We(R.toString()),Z);else if(y.addListener&&y.removeListener)y.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return L}function je(){function y(L){return R.call(y.src,y.listener,L)}const R=qe;return y}function se(y,R,L,Z,_e){if(Array.isArray(R))for(var Ae=0;Ae<R.length;Ae++)se(y,R[Ae],L,Z,_e);else Z=c(Z)?!!Z.capture:!!Z,L=tt(L),y&&y[pe]?(y=y.i,Ae=String(R).toString(),Ae in y.g&&(R=y.g[Ae],L=de(R,L,Z,_e),L>-1&&(ee(R[L]),Array.prototype.splice.call(R,L,1),R.length==0&&(delete y.g[Ae],y.h--)))):y&&(y=Ge(y))&&(R=y.g[R.toString()],y=-1,R&&(y=de(R,L,Z,_e)),(L=y>-1?R[y]:null)&&ft(L))}function ft(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[pe])te(R.i,y);else{var L=y.type,Z=y.proxy;R.removeEventListener?R.removeEventListener(L,Z,y.capture):R.detachEvent?R.detachEvent(We(L),Z):R.addListener&&R.removeListener&&R.removeListener(Z),(L=Ge(R))?(te(L,y),L.h==0&&(L.src=null,R[ve]=null)):ee(y)}}}function We(y){return y in Ne?Ne[y]:Ne[y]="on"+y}function qe(y,R){if(y.da)y=!0;else{R=new fe(R,this);const L=y.listener,Z=y.ha||y.src;y.fa&&ft(y),y=L.call(Z,R)}return y}function Ge(y){return y=y[ve],y instanceof ne?y:null}var Be="__closure_events_fn_"+(Math.random()*1e9>>>0);function tt(y){return typeof y=="function"?y:(y[Be]||(y[Be]=function(R){return y.handleEvent(R)}),y[Be])}function nt(){F.call(this),this.i=new ne(this),this.M=this,this.G=null}g(nt,F),nt.prototype[pe]=!0,nt.prototype.removeEventListener=function(y,R,L,Z){se(this,y,R,L,Z)};function ct(y,R){var L,Z=y.G;if(Z)for(L=[];Z;Z=Z.G)L.push(Z);if(y=y.M,Z=R.type||R,typeof R=="string")R=new O(R,y);else if(R instanceof O)R.target=R.target||y;else{var _e=R;R=new O(Z,y),Q(R,_e)}_e=!0;let Ae,$e;if(L)for($e=L.length-1;$e>=0;$e--)Ae=R.g=L[$e],_e=cn(Ae,Z,!0,R)&&_e;if(Ae=R.g=y,_e=cn(Ae,Z,!0,R)&&_e,_e=cn(Ae,Z,!1,R)&&_e,L)for($e=0;$e<L.length;$e++)Ae=R.g=L[$e],_e=cn(Ae,Z,!1,R)&&_e}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var y=this.i;for(const R in y.g){const L=y.g[R];for(let Z=0;Z<L.length;Z++)ee(L[Z]);delete y.g[R],y.h--}}this.G=null},nt.prototype.J=function(y,R,L,Z){return this.i.add(String(y),R,!1,L,Z)},nt.prototype.K=function(y,R,L,Z){return this.i.add(String(y),R,!0,L,Z)};function cn(y,R,L,Z){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();let _e=!0;for(let Ae=0;Ae<R.length;++Ae){const $e=R[Ae];if($e&&!$e.da&&$e.capture==L){const _t=$e.listener,Mn=$e.ha||$e.src;$e.fa&&te(y.i,$e),_e=_t.call(Mn,Z)!==!1&&_e}}return _e&&!Z.defaultPrevented}function wn(y,R){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=d(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:o.setTimeout(y,R||0)}function Bn(y){y.g=wn(()=>{y.g=null,y.i&&(y.i=!1,Bn(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class pt extends F{constructor(R,L){super(),this.m=R,this.l=L,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Bn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function It(y){F.call(this),this.h=y,this.g={}}g(It,F);var St=[];function un(y){ie(y.g,function(R,L){this.g.hasOwnProperty(L)&&ft(R)},y),y.g={}}It.prototype.N=function(){It.Z.N.call(this),un(this)},It.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=o.JSON.stringify,Dn=o.JSON.parse,rt=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function Ft(){}function Jt(){}var At={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){O.call(this,"d")}g($t,O);function dr(){O.call(this,"c")}g(dr,O);var pn={},Sa=null;function Cs(){return Sa=Sa||new nt}pn.Ia="serverreachability";function zi(y){O.call(this,pn.Ia,y)}g(zi,O);function Br(y){const R=Cs();ct(R,new zi(R))}pn.STAT_EVENT="statevent";function Js(y,R){O.call(this,pn.STAT_EVENT,y),this.stat=R}g(Js,O);function xn(y){const R=Cs();ct(R,new Js(R,y))}pn.Ja="timingevent";function hr(y,R){O.call(this,pn.Ja,y),this.size=R}g(hr,O);function Xr(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},R)}function zr(){this.g=!0}zr.prototype.ua=function(){this.g=!1};function Mo(y,R,L,Z,_e,Ae){y.info(function(){if(y.g)if(Ae){var $e="",_t=Ae.split("&");for(let Kt=0;Kt<_t.length;Kt++){var Mn=_t[Kt].split("=");if(Mn.length>1){const yn=Mn[0];Mn=Mn[1];const Rs=yn.split("_");$e=Rs.length>=2&&Rs[1]=="type"?$e+(yn+"="+Mn+"&"):$e+(yn+"=redacted&")}}}else $e=null;else $e=Ae;return"XMLHTTP REQ ("+Z+") [attempt "+_e+"]: "+R+`
`+L+`
`+$e})}function Aa(y,R,L,Z,_e,Ae,$e){y.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+_e+"]: "+R+`
`+L+`
`+Ae+" "+$e})}function Qr(y,R,L,Z){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+Hi(y,L)+(Z?" "+Z:"")})}function Ws(y,R){y.info(function(){return"TIMEOUT: "+R})}zr.prototype.info=function(){};function Hi(y,R){if(!y.g)return R;if(!R)return null;try{const Ae=JSON.parse(R);if(Ae){for(y=0;y<Ae.length;y++)if(Array.isArray(Ae[y])){var L=Ae[y];if(!(L.length<2)){var Z=L[1];if(Array.isArray(Z)&&!(Z.length<1)){var _e=Z[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(let $e=1;$e<Z.length;$e++)Z[$e]=""}}}}return Rt(Ae)}catch{return R}}var zn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ct={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bs;function le(){}g(le,Ft),le.prototype.g=function(){return new XMLHttpRequest},bs=new le;function ze(y){return encodeURIComponent(String(y))}function U(y){var R=1;y=y.split(":");const L=[];for(;R>0&&y.length;)L.push(y.shift()),R--;return y.length&&L.push(y.join(":")),L}function Y(y,R,L,Z){this.j=y,this.i=R,this.l=L,this.S=Z||1,this.V=new It(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new j}function j(){this.i=null,this.g="",this.h=!1}var K={},W={};function re(y,R,L){y.M=1,y.A=Po(Hn(R)),y.u=L,y.R=!0,xe(y,null)}function xe(y,R){y.F=Date.now(),Ee(y),y.B=Hn(y.A);var L=y.B,Z=y.S;Array.isArray(Z)||(Z=[String(Z)]),zl(L.i,"t",Z),y.C=0,L=y.j.L,y.h=new j,y.g=Bd(y.j,L?R:null,!y.u),y.P>0&&(y.O=new pt(d(y.Y,y,y.g),y.P)),R=y.V,L=y.g,Z=y.ba;var _e="readystatechange";Array.isArray(_e)||(_e&&(St[0]=_e.toString()),_e=St);for(let Ae=0;Ae<_e.length;Ae++){const $e=be(L,_e[Ae],Z||R.handleEvent,!1,R.h||R);if(!$e)break;R.g[$e.key]=$e}R=y.J?X(y.J):{},y.u?(y.v||(y.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,R)):(y.v="GET",y.g.ea(y.B,y.v,null,R)),Br(),Mo(y.i,y.v,y.B,y.l,y.S,y.u)}Y.prototype.ba=function(y){y=y.target;const R=this.O;R&&ti(y)==3?R.j():this.Y(y)},Y.prototype.Y=function(y){try{if(y==this.g)e:{const _t=ti(this.g),Mn=this.g.ya(),Kt=this.g.ca();if(!(_t<3)&&(_t!=3||this.g&&(this.h.h||this.g.la()||pr(this.g)))){this.K||_t!=4||Mn==7||(Mn==8||Kt<=0?Br(3):Br(2)),He(this);var R=this.g.ca();this.X=R;var L=Ie(this);if(this.o=R==200,Aa(this.i,this.v,this.B,this.l,this.S,_t,R),this.o){if(this.U&&!this.L){t:{if(this.g){var Z,_e=this.g;if((Z=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Z)){var Ae=Z;break t}}Ae=null}if(y=Ae)Qr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ke(this,y);else{this.o=!1,this.m=3,xn(12),Ve(this),Ye(this);break e}}if(this.R){y=!0;let yn;for(;!this.K&&this.C<L.length;)if(yn=ge(this,L),yn==W){_t==4&&(this.m=4,xn(14),y=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==K){this.m=4,xn(15),Qr(this.i,this.l,L,"[Invalid Chunk]"),y=!1;break}else Qr(this.i,this.l,yn,null),Ke(this,yn);if(ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||L.length!=0||this.h.h||(this.m=1,xn(16),y=!1),this.o=this.o&&y,!y)Qr(this.i,this.l,L,"[Invalid Chunked Response]"),Ve(this),Ye(this);else if(L.length>0&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.aa&&!$e.P&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Eu($e),$e.P=!0,xn(11))}}else Qr(this.i,this.l,L,null),Ke(this,L);_t==4&&Ve(this),this.o&&!this.K&&(_t==4?Od(this.j,this):(this.o=!1,Ee(this)))}else ji(this.g),R==400&&L.indexOf("Unknown SID")>0?(this.m=3,xn(12)):(this.m=0,xn(13)),Ve(this),Ye(this)}}}catch{}};function Ie(y){if(!ye(y))return y.g.la();const R=pr(y.g);if(R==="")return"";let L="";const Z=R.length,_e=ti(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ve(y),Ye(y),"";y.h.i=new o.TextDecoder}for(let Ae=0;Ae<Z;Ae++)y.h.h=!0,L+=y.h.i.decode(R[Ae],{stream:!(_e&&Ae==Z-1)});return R.length=0,y.h.g+=L,y.C=0,y.h.g}function ye(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function ge(y,R){var L=y.C,Z=R.indexOf(`
`,L);return Z==-1?W:(L=Number(R.substring(L,Z)),isNaN(L)?K:(Z+=1,Z+L>R.length?W:(R=R.slice(Z,Z+L),y.C=Z+L,R)))}Y.prototype.cancel=function(){this.K=!0,Ve(this)};function Ee(y){y.T=Date.now()+y.H,Le(y,y.H)}function Le(y,R){if(y.D!=null)throw Error("WatchDog timer not null");y.D=Xr(d(y.aa,y),R)}function He(y){y.D&&(o.clearTimeout(y.D),y.D=null)}Y.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ws(this.i,this.B),this.M!=2&&(Br(),xn(17)),Ve(this),this.m=2,Ye(this)):Le(this,this.T-y)};function Ye(y){y.j.I==0||y.K||Od(y.j,y)}function Ve(y){He(y);var R=y.O;R&&typeof R.dispose=="function"&&R.dispose(),y.O=null,un(y.V),y.g&&(R=y.g,y.g=null,R.abort(),R.dispose())}function Ke(y,R){try{var L=y.j;if(L.I!=0&&(L.g==y||Cr(L.h,y))){if(!y.L&&Cr(L.h,y)&&L.I==3){try{var Z=L.Ba.g.parse(R)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var _e=Z;if(_e[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<y.F)$l(L),Pa(L);else break e;zo(L),xn(18)}}else L.xa=_e[1],0<L.xa-L.K&&_e[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=Xr(d(L.Va,L),6e3));fn(L.h)<=1&&L.ta&&(L.ta=void 0)}else wi(L,11)}else if((y.L||L.g==y)&&$l(L),!B(R))for(_e=L.Ba.g.parse(R),R=0;R<_e.length;R++){let Kt=_e[R];const yn=Kt[0];if(!(yn<=L.K))if(L.K=yn,Kt=Kt[1],L.I==2)if(Kt[0]=="c"){L.M=Kt[1],L.ba=Kt[2];const Rs=Kt[3];Rs!=null&&(L.ka=Rs,L.j.info("VER="+L.ka));const Si=Kt[4];Si!=null&&(L.za=Si,L.j.info("SVER="+L.za));const ni=Kt[5];ni!=null&&typeof ni=="number"&&ni>0&&(Z=1.5*ni,L.O=Z,L.j.info("backChannelRequestTimeoutMs_="+Z)),Z=L;const ri=y.g;if(ri){const Ho=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var Ae=Z.h;Ae.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(Zs(Ae,Ae.h),Ae.h=null))}if(Z.G){const Kl=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Kl&&(Z.wa=Kl,Qt(Z.J,Z.G,Kl))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-y.F,L.j.info("Handshake RTT: "+L.T+"ms")),Z=L;var $e=y;if(Z.na=Vd(Z,Z.L?Z.ba:null,Z.W),$e.L){Xs(Z.h,$e);var _t=$e,Mn=Z.O;Mn&&(_t.H=Mn),_t.D&&(He(_t),Ee(_t)),Z.g=$e}else Pd(Z);L.i.length>0&&Ti(L)}else Kt[0]!="stop"&&Kt[0]!="close"||wi(L,7);else L.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?wi(L,7):yu(L):Kt[0]!="noop"&&L.l&&L.l.qa(Kt),L.A=0)}}Br(4)}catch{}}var Qe=class{constructor(y,R){this.g=y,this.map=R}};function Zt(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xt(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function fn(y){return y.h?1:y.g?y.g.size:0}function Cr(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Zs(y,R){y.g?y.g.add(R):y.h=R}function Xs(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}Zt.prototype.cancel=function(){if(this.i=ds(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ds(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const L of y.g.values())R=R.concat(L.G);return R}return T(y.i)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function br(y,R){if(y){y=y.split("&");for(let L=0;L<y.length;L++){const Z=y[L].indexOf("=");let _e,Ae=null;Z>=0?(_e=y[L].substring(0,Z),Ae=y[L].substring(Z+1)):_e=y[L],R(_e,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function hs(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;y instanceof hs?(this.l=y.l,ir(this,y.j),this.o=y.o,this.g=y.g,ba(this,y.u),this.h=y.h,du(this,Dd(y.i)),this.m=y.m):y&&(R=String(y).match(Ca))?(this.l=!1,ir(this,R[1]||"",!0),this.o=xi(R[2]||""),this.g=xi(R[3]||"",!0),ba(this,R[4]),this.h=xi(R[5]||"",!0),du(this,R[6]||"",!0),this.m=xi(R[7]||"")):(this.l=!1,this.i=new Ia(null,this.l))}hs.prototype.toString=function(){const y=[];var R=this.j;R&&y.push(Fo(R,Bl,!0),":");var L=this.g;return(L||R=="file")&&(y.push("//"),(R=this.o)&&y.push(Fo(R,Bl,!0),"@"),y.push(ze(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&y.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&y.push("/"),y.push(Fo(L,L.charAt(0)=="/"?hu:Id,!0))),(L=this.i.toString())&&y.push("?",L),(L=this.m)&&y.push("#",Fo(L,Rd)),y.join("")},hs.prototype.resolve=function(y){const R=Hn(this);let L=!!y.j;L?ir(R,y.j):L=!!y.o,L?R.o=y.o:L=!!y.g,L?R.g=y.g:L=y.u!=null;var Z=y.h;if(L)ba(R,y.u);else if(L=!!y.h){if(Z.charAt(0)!="/")if(this.g&&!this.h)Z="/"+Z;else{var _e=R.h.lastIndexOf("/");_e!=-1&&(Z=R.h.slice(0,_e+1)+Z)}if(_e=Z,_e==".."||_e==".")Z="";else if(_e.indexOf("./")!=-1||_e.indexOf("/.")!=-1){Z=_e.lastIndexOf("/",0)==0,_e=_e.split("/");const Ae=[];for(let $e=0;$e<_e.length;){const _t=_e[$e++];_t=="."?Z&&$e==_e.length&&Ae.push(""):_t==".."?((Ae.length>1||Ae.length==1&&Ae[0]!="")&&Ae.pop(),Z&&$e==_e.length&&Ae.push("")):(Ae.push(_t),Z=!0)}Z=Ae.join("/")}else Z=_e}return L?R.h=Z:L=y.i.toString()!=="",L?du(R,Dd(y.i)):L=!!y.m,L&&(R.m=y.m),R};function Hn(y){return new hs(y)}function ir(y,R,L){y.j=L?xi(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function ba(y,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);y.u=R}else y.u=null}function du(y,R,L){R instanceof Ia?(y.i=R,Hl(y.i,y.l)):(L||(R=Fo(R,Na)),y.i=new Ia(R,y.l))}function Qt(y,R,L){y.i.set(R,L)}function Po(y){return Qt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function xi(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Fo(y,R,L){return typeof y=="string"?(y=encodeURI(y).replace(R,es),L&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function es(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Bl=/[#\/\?@]/g,Id=/[#\?:]/g,hu=/[#\?]/g,Na=/[#\?@]/g,Rd=/#/g;function Ia(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function ts(y){y.g||(y.g=new Map,y.h=0,y.i&&br(y.i,function(R,L){y.add(decodeURIComponent(R.replace(/\+/g," ")),L)}))}t=Ia.prototype,t.add=function(y,R){ts(this),this.i=null,y=Ra(this,y);let L=this.g.get(y);return L||this.g.set(y,L=[]),L.push(R),this.h+=1,this};function kd(y,R){ts(y),R=Ra(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function pu(y,R){return ts(y),R=Ra(y,R),y.g.has(R)}t.forEach=function(y,R){ts(this),this.g.forEach(function(L,Z){L.forEach(function(_e){y.call(R,_e,Z,this)},this)},this)};function mu(y,R){ts(y);let L=[];if(typeof R=="string")pu(y,R)&&(L=L.concat(y.g.get(Ra(y,R))));else for(y=Array.from(y.g.values()),R=0;R<y.length;R++)L=L.concat(y[R]);return L}t.set=function(y,R){return ts(this),this.i=null,y=Ra(this,y),pu(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},t.get=function(y,R){return y?(y=mu(this,y),y.length>0?String(y[0]):R):R};function zl(y,R,L){kd(y,R),L.length>0&&(y.i=null,y.g.set(Ra(y,R),T(L)),y.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(let Z=0;Z<R.length;Z++){var L=R[Z];const _e=ze(L);L=mu(this,L);for(let Ae=0;Ae<L.length;Ae++){let $e=_e;L[Ae]!==""&&($e+="="+ze(L[Ae])),y.push($e)}}return this.i=y.join("&")};function Dd(y){const R=new Ia;return R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),R}function Ra(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function Hl(y,R){R&&!y.j&&(ts(y),y.i=null,y.g.forEach(function(L,Z){const _e=Z.toLowerCase();Z!=_e&&(kd(this,Z),zl(this,_e,L))},y)),y.j=R}function Qs(y,R){const L=new zr;if(o.Image){const Z=new Image;Z.onload=h(Ns,L,"TestLoadImage: loaded",!0,R,Z),Z.onerror=h(Ns,L,"TestLoadImage: error",!1,R,Z),Z.onabort=h(Ns,L,"TestLoadImage: abort",!1,R,Z),Z.ontimeout=h(Ns,L,"TestLoadImage: timeout",!1,R,Z),o.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=y}else R(!1)}function gu(y,R){const L=new zr,Z=new AbortController,_e=setTimeout(()=>{Z.abort(),Ns(L,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:Z.signal}).then(Ae=>{clearTimeout(_e),Ae.ok?Ns(L,"TestPingServer: ok",!0,R):Ns(L,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(_e),Ns(L,"TestPingServer: error",!1,R)})}function Ns(y,R,L,Z,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),Z(L)}catch{}}function ka(){this.g=new rt}function yi(y){this.i=y.Sb||null,this.h=y.ab||!1}g(yi,Ft),yi.prototype.g=function(){return new Oo(this.i,this.h)};function Oo(y,R){nt.call(this),this.H=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Oo,nt),t=Oo.prototype,t.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=R,this.readyState=1,ei(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(R.body=y),(this.H||o).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Da(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gl(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gl(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?Da(this):ei(this),this.readyState==3&&Gl(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Da(this))},t.Na=function(y){this.g&&(this.response=y,Da(this))},t.ga=function(){this.g&&Da(this)};function Da(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ei(y)}t.setRequestHeader=function(y,R){this.A.append(y,R)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var L=R.next();!L.done;)L=L.value,y.push(L[0]+": "+L[1]),L=R.next();return y.join(`\r
`)};function ei(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Is(y){let R="";return ie(y,function(L,Z){R+=Z,R+=":",R+=L,R+=`\r
`}),R}function Lo(y,R,L){e:{for(Z in L){var Z=!1;break e}Z=!0}Z||(L=Is(L),typeof y=="string"?L!=null&&ze(L):Qt(y,R,L))}function rn(y){nt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(rn,nt);var _i=/^https?$/i,vu=["POST","PUT"];t=rn.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,R,L,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bs.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(Ae){Uo(this,Ae);return}if(y=L||"",L=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var _e in Z)L.set(_e,Z[_e]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Ae of Z.keys())L.set(Ae,Z.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(L.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),_e=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(vu,R,void 0)>=0)||Z||_e||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,$e]of L)this.g.setRequestHeader(Ae,$e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(Ae){Uo(this,Ae)}};function Uo(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.o=5,xu(y),Gi(y)}function xu(y){y.A||(y.A=!0,ct(y,"complete"),ct(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,ct(this,"complete"),ct(this,"abort"),Gi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),rn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Vo(this):this.Xa())},t.Xa=function(){Vo(this)};function Vo(y){if(y.h&&typeof i<"u"){if(y.v&&ti(y)==4)setTimeout(y.Ca.bind(y),0);else if(ct(y,"readystatechange"),ti(y)==4){y.h=!1;try{const Ae=y.ca();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var L;if(!(L=R)){var Z;if(Z=Ae===0){let $e=String(y.D).match(Ca)[1]||null;!$e&&o.self&&o.self.location&&($e=o.self.location.protocol.slice(0,-1)),Z=!_i.test($e?$e.toLowerCase():"")}L=Z}if(L)ct(y,"complete"),ct(y,"success");else{y.o=6;try{var _e=ti(y)>2?y.g.statusText:""}catch{_e=""}y.l=_e+" ["+y.ca()+"]",xu(y)}}finally{Gi(y)}}}}function Gi(y,R){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const L=y.g;y.g=null,R||ct(y,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ti(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),Dn(R)}};function pr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(y){const R={};y=(y.g&&ti(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<y.length;Z++){if(B(y[Z]))continue;var L=U(y[Z]);const _e=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Ae=R[_e]||[];R[_e]=Ae,Ae.push(L)}Re(R,function(Z){return Z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(y,R,L){return L&&L.internalChannelParams&&L.internalChannelParams[y]||R}function Ma(y){this.za=0,this.i=[],this.j=new zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,y),this.Za=Ei("retryDelaySeedMs",1e4,y),this.Ta=Ei("forwardChannelMaxRetries",2,y),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Zt(y&&y.concurrentRequestLimit),this.Ba=new ka,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ma.prototype,t.ka=8,t.I=1,t.connect=function(y,R,L,Z){xn(0),this.W=y,this.H=R||{},L&&Z!==void 0&&(this.H.OSID=L,this.H.OAID=Z),this.F=this.X,this.J=Vd(this,null,this.W),Ti(this)};function yu(y){if(jl(y),y.I==3){var R=y.V++,L=Hn(y.J);if(Qt(L,"SID",y.M),Qt(L,"RID",R),Qt(L,"TYPE","terminate"),Bo(y,L),R=new Y(y,y.j,R),R.M=2,R.A=Po(Hn(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(R.A.toString(),"")}catch{}!L&&o.Image&&(new Image().src=R.A,L=!0),L||(R.g=Bd(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Ee(R)}Ud(y)}function Pa(y){y.g&&(Eu(y),y.g.cancel(),y.g=null)}function jl(y){Pa(y),y.v&&(o.clearTimeout(y.v),y.v=null),$l(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Ti(y){if(!Xt(y.h)&&!y.m){y.m=!0;var R=y.Ea;G||N(),J||(G(),J=!0),I.add(R,y),y.D=0}}function ql(y,R){return fn(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=R.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=Xr(d(y.Ea,y,R),Ld(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const _e=new Y(this,this.j,y);let Ae=this.o;if(this.U&&(Ae?(Ae=X(Ae),Q(Ae,this.U)):Ae=this.U),this.u!==null||this.R||(_e.J=Ae,Ae=null),this.S)e:{for(var R=0,L=0;L<this.i.length;L++){t:{var Z=this.i[L];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(R+=Z,R>4096){R=L;break e}if(R===4096||L===this.i.length-1){R=L+1;break e}}R=1e3}else R=1e3;R=Md(this,_e,R),L=Hn(this.J),Qt(L,"RID",y),Qt(L,"CVER",22),this.G&&Qt(L,"X-HTTP-Session-Id",this.G),Bo(this,L),Ae&&(this.R?R="headers="+ze(Is(Ae))+"&"+R:this.u&&Lo(L,this.u,Ae)),Zs(this.h,_e),this.Ra&&Qt(L,"TYPE","init"),this.S?(Qt(L,"$req",R),Qt(L,"SID","null"),_e.U=!0,re(_e,L,null)):re(_e,L,R),this.I=2}}else this.I==3&&(y?_u(this,y):this.i.length==0||Xt(this.h)||_u(this))};function _u(y,R){var L;R?L=R.l:L=y.V++;const Z=Hn(y.J);Qt(Z,"SID",y.M),Qt(Z,"RID",L),Qt(Z,"AID",y.K),Bo(y,Z),y.u&&y.o&&Lo(Z,y.u,y.o),L=new Y(y,y.j,L,y.D+1),y.u===null&&(L.J=y.o),R&&(y.i=R.G.concat(y.i)),R=Md(y,L,1e3),L.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Zs(y.h,L),re(L,Z,R)}function Bo(y,R){y.H&&ie(y.H,function(L,Z){Qt(R,Z,L)}),y.l&&ie({},function(L,Z){Qt(R,Z,L)})}function Md(y,R,L){L=Math.min(y.i.length,L);const Z=y.l?d(y.l.Ka,y.l,y):null;e:{var _e=y.i;let _t=-1;for(;;){const Mn=["count="+L];_t==-1?L>0?(_t=_e[0].g,Mn.push("ofs="+_t)):_t=0:Mn.push("ofs="+_t);let Kt=!0;for(let yn=0;yn<L;yn++){var Ae=_e[yn].g;const Rs=_e[yn].map;if(Ae-=_t,Ae<0)_t=Math.max(0,_e[yn].g-100),Kt=!1;else try{Ae="req"+Ae+"_"||"";try{var $e=Rs instanceof Map?Rs:Object.entries(Rs);for(const[Si,ni]of $e){let ri=ni;c(ni)&&(ri=Rt(ni)),Mn.push(Ae+Si+"="+encodeURIComponent(ri))}}catch(Si){throw Mn.push(Ae+"type="+encodeURIComponent("_badmap")),Si}}catch{Z&&Z(Rs)}}if(Kt){$e=Mn.join("&");break e}}$e=void 0}return y=y.i.splice(0,L),R.G=y,$e}function Pd(y){if(!y.g&&!y.v){y.Y=1;var R=y.Da;G||N(),J||(G(),J=!0),I.add(R,y),y.A=0}}function zo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=Xr(d(y.Da,y),Ld(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Fd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=Xr(d(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xn(10),Pa(this),Fd(this))};function Eu(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function Fd(y){y.g=new Y(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var R=Hn(y.na);Qt(R,"RID","rpc"),Qt(R,"SID",y.M),Qt(R,"AID",y.K),Qt(R,"CI",y.F?"0":"1"),!y.F&&y.ia&&Qt(R,"TO",y.ia),Qt(R,"TYPE","xmlhttp"),Bo(y,R),y.u&&y.o&&Lo(R,y.u,y.o),y.O&&(y.g.H=y.O);var L=y.g;y=y.ba,L.M=1,L.A=Po(Hn(R)),L.u=null,L.R=!0,xe(L,y)}t.Va=function(){this.C!=null&&(this.C=null,Pa(this),zo(this),xn(19))};function $l(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function Od(y,R){var L=null;if(y.g==R){$l(y),Eu(y),y.g=null;var Z=2}else if(Cr(y.h,R))L=R.G,Xs(y.h,R),Z=1;else return;if(y.I!=0){if(R.o)if(Z==1){L=R.u?R.u.length:0,R=Date.now()-R.F;var _e=y.D;Z=Cs(),ct(Z,new hr(Z,L)),Ti(y)}else Pd(y);else if(_e=R.m,_e==3||_e==0&&R.X>0||!(Z==1&&ql(y,R)||Z==2&&zo(y)))switch(L&&L.length>0&&(R=y.h,R.i=R.i.concat(L)),_e){case 1:wi(y,5);break;case 4:wi(y,10);break;case 3:wi(y,6);break;default:wi(y,2)}}}function Ld(y,R){let L=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(L*=2),L*R}function wi(y,R){if(y.j.info("Error code "+R),R==2){var L=d(y.bb,y),Z=y.Ua;const _e=!Z;Z=new hs(Z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ir(Z,"https"),Po(Z),_e?Qs(Z.toString(),L):gu(Z.toString(),L)}else xn(2);y.I=0,y.l&&y.l.pa(R),Ud(y),jl(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function Ud(y){if(y.I=0,y.ja=[],y.l){const R=ds(y.h);(R.length!=0||y.i.length!=0)&&(S(y.ja,R),S(y.ja,y.i),y.h.i.length=0,T(y.i),y.i.length=0),y.l.oa()}}function Vd(y,R,L){var Z=L instanceof hs?Hn(L):new hs(L);if(Z.g!="")R&&(Z.g=R+"."+Z.g),ba(Z,Z.u);else{var _e=o.location;Z=_e.protocol,R=R?R+"."+_e.hostname:_e.hostname,_e=+_e.port;const Ae=new hs(null);Z&&ir(Ae,Z),R&&(Ae.g=R),_e&&ba(Ae,_e),L&&(Ae.h=L),Z=Ae}return L=y.G,R=y.wa,L&&R&&Qt(Z,L,R),Qt(Z,"VER",y.ka),Bo(y,Z),Z}function Bd(y,R,L){if(R&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Aa&&!y.ma?new rn(new yi({ab:L})):new rn(y.ma),R.Fa(y.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zd(){}t=zd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Fa(){}Fa.prototype.g=function(y,R){return new Hr(y,R)};function Hr(y,R){nt.call(this),this.g=new Ma(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(y?y["X-WebChannel-Client-Profile"]=R.sa:y={"X-WebChannel-Client-Profile":R.sa}),this.g.U=y,(y=R&&R.Qb)&&!B(y)&&(this.g.u=y),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!B(R)&&(this.g.G=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new qi(this)}g(Hr,nt),Hr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Hr.prototype.close=function(){yu(this.g)},Hr.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var L={};L.__data__=y,y=L}else this.v&&(L={},L.__data__=Rt(y),y=L);R.i.push(new Qe(R.Ya++,y)),R.I==3&&Ti(R)},Hr.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,Hr.Z.N.call(this)};function Hd(y){$t.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const L in R){y=L;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}g(Hd,$t);function Gd(){dr.call(this),this.status=1}g(Gd,dr);function qi(y){this.g=y}g(qi,zd),qi.prototype.ra=function(){ct(this.g,"a")},qi.prototype.qa=function(y){ct(this.g,new Hd(y))},qi.prototype.pa=function(y){ct(this.g,new Gd)},qi.prototype.oa=function(){ct(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,Hr.prototype.send=Hr.prototype.o,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,wR=function(){return new Fa},TR=function(){return Cs()},ER=pn,_x={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zn.NO_ERROR=0,zn.TIMEOUT=8,zn.HTTP_ERROR=6,T0=zn,Ct.COMPLETE="complete",_R=Ct,Jt.EventType=At,At.OPEN="a",At.CLOSE="b",At.ERROR="c",At.MESSAGE="d",nt.prototype.listen=nt.prototype.J,Ef=Jt,rn.prototype.listenOnce=rn.prototype.K,rn.prototype.getLastError=rn.prototype.Ha,rn.prototype.getLastErrorCode=rn.prototype.ya,rn.prototype.getStatus=rn.prototype.ca,rn.prototype.getResponseJson=rn.prototype.La,rn.prototype.getResponseText=rn.prototype.la,rn.prototype.send=rn.prototype.ea,rn.prototype.setWithCredentials=rn.prototype.Fa,yR=rn}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});class kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let ou="12.9.0";function _Z(t){ou=t}const Sl=new fR("@firebase/firestore");function Cc(){return Sl.logLevel}function Ze(t,...e){if(Sl.logLevel<=Vt.DEBUG){const n=e.map(q1);Sl.debug(`Firestore (${ou}): ${t}`,...n)}}function ya(t,...e){if(Sl.logLevel<=Vt.ERROR){const n=e.map(q1);Sl.error(`Firestore (${ou}): ${t}`,...n)}}function Al(t,...e){if(Sl.logLevel<=Vt.WARN){const n=e.map(q1);Sl.warn(`Firestore (${ou}): ${t}`,...n)}}function q1(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function dt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SR(t,r,n)}function SR(t,e,n){let r=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ya(r),new Error(r)}function Wt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||SR(e,s,r)}function yt(t,e){return t}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends au{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class AR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(kr.UNAUTHENTICATED)))}shutdown(){}}class TZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class wZ{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Wt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let i=new xo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xo,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const f=i;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new AR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new kr(e)}}class SZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class AZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new SZ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(kr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CZ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rZ(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Wt(this.o===void 0,3512);const r=i=>{i.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class $1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=bZ(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function Ex(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Tv(s)===Tv(i)?Mt(s,i):Tv(s)?1:-1}return Mt(t.length,e.length)}const NZ=55296,IZ=57343;function Tv(t){const e=t.charCodeAt(0);return e>=NZ&&e<=IZ}function Yc(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}const RA="__name__";class Di{constructor(e,n,r){n===void 0?n=0:n>e.length&&dt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&dt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Di.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Mt(e.length,n.length)}static compareSegments(e,n){const r=Di.isNumericId(e),s=Di.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Ex(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vo.fromString(e.substring(4,e.length-2))}}class Sn extends Di{construct(e,n,r){return new Sn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(Ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Sn(n)}static emptyPath(){return new Sn([])}}const RZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Di{construct(e,n,r){return new Er(e,n,r)}static isValidIdentifier(e){return RZ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RA}static keyField(){return new Er([RA])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new st(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new st(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new st(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new st(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Er(n)}static emptyPath(){return new Er([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(Sn.fromString(e))}static fromName(e){return new lt(Sn.fromString(e).popFirst(5))}static empty(){return new lt(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Sn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new Sn(e.slice()))}}function kZ(t,e,n){if(!n)throw new st(Ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DZ(t,e,n,r){if(e===!0&&r===!0)throw new st(Ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kA(t){if(!lt.isDocumentKey(t))throw new st(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function CR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function K1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt(12329,{type:typeof t})}function yo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=K1(t);throw new st(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Zn(t,e){const n={typeString:t};return e&&(n.value=e),n}function wd(t,e){if(!CR(t))throw new st(Ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new st(Ue.INVALID_ARGUMENT,n);return!0}const DA=-62135596800,MA=1e6;class vn{static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MA);return new vn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DA)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MA}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wd(e,vn._jsonSchema))return new vn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vn._jsonSchemaVersion="firestore/timestamp/1.0",vn._jsonSchema={type:Zn("string",vn._jsonSchemaVersion),seconds:Zn("number"),nanoseconds:Zn("number")};class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new vn(0,0))}static max(){return new gt(new vn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const od=-1;function MZ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=gt.fromTimestamp(r===1e9?new vn(n+1,0):new vn(n,r));return new To(s,lt.empty(),e)}function PZ(t){return new To(t.readTime,t.key,od)}class To{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new To(gt.min(),lt.empty(),od)}static max(){return new To(gt.max(),lt.empty(),od)}}function FZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=lt.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}const OZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function lu(t){if(t.code!==Ue.FAILED_PRECONDITION||t.message!==OZ)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Oe.reject(n)}static resolve(e){return new Oe(((n,r)=>{n(e)}))}static reject(e){return new Oe(((n,r)=>{r(e)}))}static waitFor(e){return new Oe(((n,r)=>{let s=0,i=0,o=!1;e.forEach((c=>{++s,c.next((()=>{++i,o&&i===s&&n()}),(f=>r(f)))})),o=!0,i===s&&n()}))}static or(e){let n=Oe.resolve(!1);for(const r of e)n=n.next((s=>s?Oe.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new Oe(((r,s)=>{const i=e.length,o=new Array(i);let c=0;for(let f=0;f<i;f++){const d=f;n(e[d]).next((h=>{o[d]=h,++c,c===i&&r(o)}),(h=>s(h)))}}))}static doWhile(e,n){return new Oe(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function UZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(t){return t.name==="IndexedDbTransactionError"}class zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zp.ce=-1;const Y1=-1;function Hp(t){return t==null}function hp(t){return t===0&&1/t==-1/0}function VZ(t){return typeof t=="number"&&Number.isInteger(t)&&!hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const bR="";function BZ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PA(e)),e=zZ(t.get(n),e);return PA(e)}function zZ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case bR:n+="";break;default:n+=i}}return n}function PA(t){return t+bR+""}function FA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ol(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class An{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new An(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new An(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new f0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new f0(this.root,e,this.comparator,!1)}getReverseIterator(){return new f0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new f0(this.root,e,this.comparator,!0)}}class f0{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yr.RED,this.left=s??yr.EMPTY,this.right=i??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new yr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sr{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OA(this.data.getIterator())}getIteratorFrom(e){return new OA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new sr(this.comparator);return n.data=e,n}}class OA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(Er.comparator)}static empty(){return new di([])}unionWith(e){let n=new sr(Er.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class IR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IR("Invalid base64 string: "+i):i}})(e);return new Ar(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new Ar(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const HZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(Wt(!!t,39018),typeof t=="string"){let e=0;const n=HZ.exec(t);if(Wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function So(t){return typeof t=="string"?Ar.fromBase64String(t):Ar.fromUint8Array(t)}const RR="server_timestamp",kR="__type__",DR="__previous_value__",MR="__local_write_time__";function J1(t){return(t?.mapValue?.fields||{})[kR]?.stringValue===RR}function Gp(t){const e=t.mapValue.fields[DR];return J1(e)?Gp(e):e}function ld(t){const e=wo(t.mapValue.fields[MR].timestampValue);return new vn(e.seconds,e.nanos)}class GZ{constructor(e,n,r,s,i,o,c,f,d,h,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=g}}const pp="(default)";class cd{constructor(e,n){this.projectId=e,this.database=n||pp}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===pp}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}function jZ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new st(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(t.options.projectId,e)}const PR="__type__",qZ="__max__",d0={mapValue:{}},FR="__vector__",mp="value";function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J1(t)?4:KZ(t)?9007199254740991:$Z(t)?10:11:dt(28295,{value:t})}function Li(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=wo(s.timestampValue),c=wo(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return So(s.bytesValue).isEqual(So(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Ln(s.geoPointValue.latitude)===Ln(i.geoPointValue.latitude)&&Ln(s.geoPointValue.longitude)===Ln(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Ln(s.integerValue)===Ln(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ln(s.doubleValue),c=Ln(i.doubleValue);return o===c?hp(o)===hp(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Yc(t.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(FA(o)!==FA(c))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(c[f]===void 0||!Li(o[f],c[f])))return!1;return!0})(t,e);default:return dt(52216,{left:t})}}function ud(t,e){return(t.values||[]).find((n=>Li(n,e)))!==void 0}function Jc(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=Ln(i.integerValue||i.doubleValue),f=Ln(o.integerValue||o.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return LA(t.timestampValue,e.timestampValue);case 4:return LA(ld(t),ld(e));case 5:return Ex(t.stringValue,e.stringValue);case 6:return(function(i,o){const c=So(i),f=So(o);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),f=o.split("/");for(let d=0;d<c.length&&d<f.length;d++){const h=Mt(c[d],f[d]);if(h!==0)return h}return Mt(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=Mt(Ln(i.latitude),Ln(o.latitude));return c!==0?c:Mt(Ln(i.longitude),Ln(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return UA(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const c=i.fields||{},f=o.fields||{},d=c[mp]?.arrayValue,h=f[mp]?.arrayValue,g=Mt(d?.values?.length||0,h?.values?.length||0);return g!==0?g:UA(d,h)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===d0.mapValue&&o===d0.mapValue)return 0;if(i===d0.mapValue)return 1;if(o===d0.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),d=o.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let g=0;g<f.length&&g<h.length;++g){const v=Ex(f[g],h[g]);if(v!==0)return v;const T=Jc(c[f[g]],d[h[g]]);if(T!==0)return T}return Mt(f.length,h.length)})(t.mapValue,e.mapValue);default:throw dt(23264,{he:n})}}function LA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=wo(t),r=wo(e),s=Mt(n.seconds,r.seconds);return s!==0?s:Mt(n.nanos,r.nanos)}function UA(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Jc(n[s],r[s]);if(i)return i}return Mt(n.length,r.length)}function Wc(t){return Tx(t)}function Tx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return So(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return lt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Tx(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Tx(n.fields[o])}`;return s+"}"})(t.mapValue):dt(61005,{value:t})}function w0(t){switch(Ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gp(t);return e?16+w0(e):16;case 5:return 2*t.stringValue.length;case 6:return So(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+w0(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Ol(r.fields,((i,o)=>{s+=i.length+w0(o)})),s})(t.mapValue);default:throw dt(13486,{value:t})}}function wx(t){return!!t&&"integerValue"in t}function W1(t){return!!t&&"arrayValue"in t}function VA(t){return!!t&&"nullValue"in t}function BA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function S0(t){return!!t&&"mapValue"in t}function $Z(t){return(t?.mapValue?.fields||{})[PR]?.stringValue===FR}function Lf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ol(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Lf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lf(t.arrayValue.values[n]);return e}return{...t}}function KZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qZ}class Hs{constructor(e){this.value=e}static empty(){return new Hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!S0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lf(n)}setAll(e){let n=Er.emptyPath(),r={},s=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=Lf(o):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());S0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];S0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ol(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Hs(Lf(this.value))}}function OR(t){const e=[];return Ol(t.fields,((n,r)=>{const s=new Er([n]);if(S0(r)){const i=OR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new di(e)}class Mr{constructor(e,n,r,s,i,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Mr(e,0,gt.min(),gt.min(),gt.min(),Hs.empty(),0)}static newFoundDocument(e,n,r,s){return new Mr(e,1,n,gt.min(),r,s,0)}static newNoDocument(e,n){return new Mr(e,2,n,gt.min(),gt.min(),Hs.empty(),0)}static newUnknownDocument(e,n){return new Mr(e,3,n,gt.min(),gt.min(),Hs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gp{constructor(e,n){this.position=e,this.inclusive=n}}function zA(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=lt.comparator(lt.fromName(o.referenceValue),n.key):r=Jc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function HA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Li(t.position[n],e.position[n]))return!1;return!0}class vp{constructor(e,n="asc"){this.field=e,this.dir=n}}function YZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class LR{}class er extends LR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WZ(e,n,r):n==="array-contains"?new QZ(e,r):n==="in"?new eX(e,r):n==="not-in"?new tX(e,r):n==="array-contains-any"?new nX(e,r):new er(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZZ(e,r):new XZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jc(n,this.value)):n!==null&&Ao(this.value)===Ao(n)&&this.matchesComparison(Jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends LR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return UR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UR(t){return t.op==="and"}function VR(t){return JZ(t)&&UR(t)}function JZ(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function Sx(t){if(t instanceof er)return t.field.canonicalString()+t.op.toString()+Wc(t.value);if(VR(t))return t.filters.map((e=>Sx(e))).join(",");{const e=t.filters.map((n=>Sx(n))).join(",");return`${t.op}(${e})`}}function BR(t,e){return t instanceof er?(function(r,s){return s instanceof er&&r.op===s.op&&r.field.isEqual(s.field)&&Li(r.value,s.value)})(t,e):t instanceof Ui?(function(r,s){return s instanceof Ui&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,c)=>i&&BR(o,s.filters[c])),!0):!1})(t,e):void dt(19439)}function zR(t){return t instanceof er?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wc(n.value)}`})(t):t instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(zR).join(" ,")+"}"})(t):"Filter"}class WZ extends er{constructor(e,n,r){super(e,n,r),this.key=lt.fromName(r.referenceValue)}matches(e){const n=lt.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZZ extends er{constructor(e,n){super(e,"in",n),this.keys=HR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XZ extends er{constructor(e,n){super(e,"not-in",n),this.keys=HR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HR(t,e){return(e.arrayValue?.values||[]).map((n=>lt.fromName(n.referenceValue)))}class QZ extends er{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W1(n)&&ud(n.arrayValue,this.value)}}class eX extends er{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ud(this.value.arrayValue,n)}}class tX extends er{constructor(e,n){super(e,"not-in",n)}matches(e){if(ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ud(this.value.arrayValue,n)}}class nX extends er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ud(this.value.arrayValue,r)))}}class rX{constructor(e,n=null,r=[],s=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function GA(t,e=null,n=[],r=[],s=null,i=null,o=null){return new rX(t,e,n,r,s,i,o)}function Z1(t){const e=yt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Sx(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wc(r))).join(",")),e.Te=n}return e.Te}function X1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HA(t.startAt,e.startAt)&&HA(t.endAt,e.endAt)}function Ax(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class jp{constructor(e,n=null,r=[],s=[],i=null,o="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function sX(t,e,n,r,s,i,o,c){return new jp(t,e,n,r,s,i,o,c)}function qp(t){return new jp(t)}function jA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iX(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function aX(t){return t.collectionGroup!==null}function Uf(t){const e=yt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new sr(Er.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new vp(i,r))})),n.has(Er.keyField().canonicalString())||e.Ie.push(new vp(Er.keyField(),r))}return e.Ie}function Mi(t){const e=yt(t);return e.Ee||(e.Ee=oX(e,Uf(t))),e.Ee}function oX(t,e){if(t.limitType==="F")return GA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new vp(s.field,i)}));const n=t.endAt?new gp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gp(t.startAt.position,t.startAt.inclusive):null;return GA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cx(t,e,n){return new jp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $p(t,e){return X1(Mi(t),Mi(e))&&t.limitType===e.limitType}function GR(t){return`${Z1(Mi(t))}|lt:${t.limitType}`}function bc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>zR(s))).join(", ")}]`),Hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Wc(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Wc(s))).join(",")),`Target(${r})`})(Mi(t))}; limitType=${t.limitType})`}function Kp(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):lt.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of Uf(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(o,c,f){const d=zA(o,c,f);return o.inclusive?d<=0:d<0})(r.startAt,Uf(r),s)||r.endAt&&!(function(o,c,f){const d=zA(o,c,f);return o.inclusive?d>=0:d>0})(r.endAt,Uf(r),s))})(t,e)}function lX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jR(t){return(e,n)=>{let r=!1;for(const s of Uf(t)){const i=cX(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function cX(t,e,n){const r=t.field.isKeyField()?lt.comparator(e.key,n.key):(function(i,o,c){const f=o.data.field(i),d=c.data.field(i);return f!==null&&d!==null?Jc(f,d):dt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:t.dir})}}class Ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ol(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return NR(this.inner)}size(){return this.innerSize}}const uX=new An(lt.comparator);function _a(){return uX}const qR=new An(lt.comparator);function Tf(...t){let e=qR;for(const n of t)e=e.insert(n.key,n);return e}function $R(t){let e=qR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function dl(){return Vf()}function KR(){return Vf()}function Vf(){return new Ll((t=>t.toString()),((t,e)=>t.isEqual(e)))}const fX=new An(lt.comparator),dX=new sr(lt.comparator);function Pt(...t){let e=dX;for(const n of t)e=e.add(n);return e}const hX=new sr(Mt);function pX(){return hX}function Q1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(e)?"-0":e}}function YR(t){return{integerValue:""+t}}function mX(t,e){return VZ(e)?YR(e):Q1(t,e)}class Yp{constructor(){this._=void 0}}function gX(t,e,n){return t instanceof xp?(function(s,i){const o={fields:{[kR]:{stringValue:RR},[MR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&J1(i)&&(i=Gp(i)),i&&(o.fields[DR]=i),{mapValue:o}})(n,e):t instanceof fd?WR(t,e):t instanceof dd?ZR(t,e):(function(s,i){const o=JR(s,i),c=qA(o)+qA(s.Ae);return wx(o)&&wx(s.Ae)?YR(c):Q1(s.serializer,c)})(t,e)}function vX(t,e,n){return t instanceof fd?WR(t,e):t instanceof dd?ZR(t,e):n}function JR(t,e){return t instanceof yp?(function(r){return wx(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class xp extends Yp{}class fd extends Yp{constructor(e){super(),this.elements=e}}function WR(t,e){const n=XR(e);for(const r of t.elements)n.some((s=>Li(s,r)))||n.push(r);return{arrayValue:{values:n}}}class dd extends Yp{constructor(e){super(),this.elements=e}}function ZR(t,e){let n=XR(e);for(const r of t.elements)n=n.filter((s=>!Li(s,r)));return{arrayValue:{values:n}}}class yp extends Yp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function qA(t){return Ln(t.integerValue||t.doubleValue)}function XR(t){return W1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xX(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof fd&&s instanceof fd||r instanceof dd&&s instanceof dd?Yc(r.elements,s.elements,Li):r instanceof yp&&s instanceof yp?Li(r.Ae,s.Ae):r instanceof xp&&s instanceof xp})(t.transform,e.transform)}class yX{constructor(e,n){this.version=e,this.transformResults=n}}class da{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new da}static exists(e){return new da(void 0,e)}static updateTime(e){return new da(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jp{}function QR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tk(t.key,da.none()):new Sd(t.key,t.data,da.none());{const n=t.data,r=Hs.empty();let s=new sr(Er.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ul(t.key,r,new di(s.toArray()),da.none())}}function _X(t,e,n){t instanceof Sd?(function(s,i,o){const c=s.value.clone(),f=KA(s.fieldTransforms,i,o.transformResults);c.setAll(f),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ul?(function(s,i,o){if(!A0(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=KA(s.fieldTransforms,i,o.transformResults),f=i.data;f.setAll(ek(s)),f.setAll(c),i.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Bf(t,e,n,r){return t instanceof Sd?(function(i,o,c,f){if(!A0(i.precondition,o))return c;const d=i.value.clone(),h=YA(i.fieldTransforms,f,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ul?(function(i,o,c,f){if(!A0(i.precondition,o))return c;const d=YA(i.fieldTransforms,f,o),h=o.data;return h.setAll(ek(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(i,o,c){return A0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function EX(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=JR(r.transform,s||null);i!=null&&(n===null&&(n=Hs.empty()),n.set(r.field,i))}return n||null}function $A(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Yc(r,s,((i,o)=>xX(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends Jp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ul extends Jp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ek(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KA(t,e,n){const r=new Map;Wt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,c=e.data.field(i.field);r.set(i.field,vX(o,c,n[s]))}return r}function YA(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,gX(i,o,e))}return r}class tk extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TX extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wX{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_X(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KR();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(s.key)?null:c;const f=QR(o,c);f!==null&&r.set(s.key,f),o.isValidDocument()||o.convertToNoDocument(gt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pt())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,((n,r)=>$A(n,r)))&&Yc(this.baseMutations,e.baseMutations,((n,r)=>$A(n,r)))}}class ey{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return fX})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ey(e,n,r,s)}}class SX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AX{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yn,Ut;function CX(t){switch(t){case Ue.OK:return dt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return dt(15467,{code:t})}}function nk(t){if(t===void 0)return ya("GRPC error has no .code"),Ue.UNKNOWN;switch(t){case Yn.OK:return Ue.OK;case Yn.CANCELLED:return Ue.CANCELLED;case Yn.UNKNOWN:return Ue.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return Ue.INTERNAL;case Yn.UNAVAILABLE:return Ue.UNAVAILABLE;case Yn.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Yn.NOT_FOUND:return Ue.NOT_FOUND;case Yn.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Yn.ABORTED:return Ue.ABORTED;case Yn.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Yn.DATA_LOSS:return Ue.DATA_LOSS;default:return dt(39323,{code:t})}}(Ut=Yn||(Yn={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function bX(){return new TextEncoder}const NX=new vo([4294967295,4294967295],0);function JA(t){const e=bX().encode(t),n=new xR;return n.update(e),new Uint8Array(n.digest())}function WA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vo([n,r],0),new vo([s,i],0)]}class ty{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wf(`Invalid padding: ${n}`);if(r<0)throw new wf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vo.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(vo.fromNumber(r)));return s.compare(NX)===1&&(s=new vo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JA(e),[r,s]=WA(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ty(i,s,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=JA(e),[r,s]=WA(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ad.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wp(gt.min(),s,new An(Mt),_a(),Pt())}}class Ad{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ad(r,n,Pt(),Pt(),Pt())}}class C0{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class rk{constructor(e,n){this.targetId=e,this.Ce=n}}class sk{constructor(e,n,r=Ar.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class ZA{constructor(){this.ve=0,this.Fe=XA(),this.Me=Ar.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pt(),n=Pt(),r=Pt();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:dt(38017,{changeType:i})}})),new Ad(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=XA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class IX{constructor(e){this.Ge=e,this.ze=new Map,this.je=_a(),this.He=h0(),this.Je=h0(),this.Ze=new An(Mt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ax(i))if(r===0){const o=new lt(i.path);this.et(n,o,Mr.newNoDocument(o,gt.min()))}else Wt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),f=c?this.ct(c,e,o):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,c;try{o=So(r).toUint8Array()}catch(f){if(f instanceof IR)return Al("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new ty(o,s,i)}catch(f){return Al(f instanceof wf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&Ax(c.target)){const f=new lt(c.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Mr.newNoDocument(f,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}}));let r=Pt();this.Je.forEach(((i,o)=>{let c=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const s=new Wp(e,n,this.Ze,this.je,r);return this.je=_a(),this.He=h0(),this.Je=h0(),this.Ze=new An(Mt),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new ZA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new sr(Mt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new sr(Mt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ZA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function h0(){return new An(lt.comparator)}function XA(){return new An(lt.comparator)}const RX={asc:"ASCENDING",desc:"DESCENDING"},kX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DX={and:"AND",or:"OR"};class MX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bx(t,e){return t.useProto3Json||Hp(e)?e:{value:e}}function _p(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ik(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PX(t,e){return _p(t,e.toTimestamp())}function Pi(t){return Wt(!!t,49232),gt.fromTimestamp((function(n){const r=wo(n);return new vn(r.seconds,r.nanos)})(t))}function ny(t,e){return Nx(t,e).canonicalString()}function Nx(t,e){const n=(function(s){return new Sn(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ak(t){const e=Sn.fromString(t);return Wt(fk(e),10190,{key:e.toString()}),e}function Ix(t,e){return ny(t.databaseId,e.path)}function wv(t,e){const n=ak(e);if(n.get(1)!==t.databaseId.projectId)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new st(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new lt(lk(n))}function ok(t,e){return ny(t.databaseId,e)}function FX(t){const e=ak(t);return e.length===4?Sn.emptyPath():lk(e)}function Rx(t){return new Sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lk(t){return Wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QA(t,e,n){return{name:Ix(t,e),fields:n.value.mapValue.fields}}function OX(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:dt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(d,h){return d.useProto3Json?(Wt(h===void 0||typeof h=="string",58123),Ar.fromBase64String(h||"")):(Wt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ar.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(d){const h=d.code===void 0?Ue.UNKNOWN:nk(d.code);return new st(h,d.message||"")})(o);n=new sk(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=wv(t,r.document.name),i=Pi(r.document.updateTime),o=r.document.createTime?Pi(r.document.createTime):gt.min(),c=new Hs({mapValue:{fields:r.document.fields}}),f=Mr.newFoundDocument(s,i,o,c),d=r.targetIds||[],h=r.removedTargetIds||[];n=new C0(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=wv(t,r.document),i=r.readTime?Pi(r.readTime):gt.min(),o=Mr.newNoDocument(s,i),c=r.removedTargetIds||[];n=new C0([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=wv(t,r.document),i=r.removedTargetIds||[];n=new C0([],i,s,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new AX(s,i),c=r.targetId;n=new rk(c,o)}}return n}function LX(t,e){let n;if(e instanceof Sd)n={update:QA(t,e.key,e.value)};else if(e instanceof tk)n={delete:Ix(t,e.key)};else if(e instanceof Ul)n={update:QA(t,e.key,e.data),updateMask:$X(e.fieldMask)};else{if(!(e instanceof TX))return dt(16599,{dt:e.type});n={verify:Ix(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,o){const c=o.transform;if(c instanceof xp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof dd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yp)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw dt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:PX(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:dt(27497)})(t,e.precondition)),n}function UX(t,e){return t&&t.length>0?(Wt(e!==void 0,14353),t.map((n=>(function(s,i){let o=s.updateTime?Pi(s.updateTime):Pi(i);return o.isEqual(gt.min())&&(o=Pi(i)),new yX(o,s.transformResults||[])})(n,e)))):[]}function VX(t,e){return{documents:[ok(t,e.path)]}}function BX(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ok(t,s);const i=(function(d){if(d.length!==0)return uk(Ui.create(d,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(d){if(d.length!==0)return d.map((h=>(function(v){return{field:Nc(v.field),direction:GX(v.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=bx(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:s}}function zX(t){let e=FX(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Wt(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=(function(g){const v=ck(g);return v instanceof Ui&&VR(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((v=>(function(S){return new vp(Ic(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,Hp(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(g){const v=!!g.before,T=g.values||[];return new gp(T,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const v=!g.before,T=g.values||[];return new gp(T,v)})(n.endAt)),sX(e,s,o,i,c,"F",f,d)}function HX(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ck(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ic(n.unaryFilter.field);return er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ic(n.unaryFilter.field);return er.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ic(n.unaryFilter.field);return er.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ic(n.unaryFilter.field);return er.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return er.create(Ic(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((r=>ck(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(n.compositeFilter.op))})(t):dt(30097,{filter:t})}function GX(t){return RX[t]}function jX(t){return kX[t]}function qX(t){return DX[t]}function Nc(t){return{fieldPath:t.canonicalString()}}function Ic(t){return Er.fromServerFormat(t.fieldPath)}function uk(t){return t instanceof er?(function(n){if(n.op==="=="){if(BA(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NAN"}};if(VA(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BA(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NAN"}};if(VA(n.value))return{unaryFilter:{field:Nc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(n.field),op:jX(n.op),value:n.value}}})(t):t instanceof Ui?(function(n){const r=n.getFilters().map((s=>uk(s)));return r.length===1?r[0]:{compositeFilter:{op:qX(n.op),filters:r}}})(t):dt(54877,{filter:t})}function $X(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function dk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ho{constructor(e,n,r,s,i=gt.min(),o=gt.min(),c=Ar.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class KX{constructor(e){this.yt=e}}function YX(t){const e=zX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cx(e,e.limit,"L"):e}class JX{constructor(){this.Sn=new WX}addToCollectionParentIndex(e,n){return this.Sn.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(To.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(To.min())}updateCollectionGroup(e,n,r){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class WX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new sr(Sn.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new sr(Sn.comparator)).toArray()}}const eC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hk=41943040;class ls{static withCacheSize(e){return new ls(e,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(hk,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);class Zc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zc(0)}static ar(){return new Zc(-1)}}const tC="LruGarbageCollector",ZX=1048576;function nC([t,e],[n,r]){const s=Mt(t,n);return s===0?Mt(e,r):s}class XX{constructor(e){this.Pr=e,this.buffer=new sr(nC),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ze(tC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cu(n)?Ze(tC,"Ignoring IndexedDB error during garbage collection: ",n):await lu(n)}await this.Ar(3e5)}))}}class eQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Oe.resolve(zp.ce);const r=new XX(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(eC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eC):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,c,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Cc()<=Vt.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function tQ(t,e){return new eQ(t,e)}class nQ{constructor(){this.changes=new Ll((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class sQ{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Bf(r.mutation,s,di.empty(),vn.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pt()){const s=dl();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let o=Tf();return i.forEach(((c,f)=>{o=o.insert(c,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=dl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pt())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,s){let i=_a();const o=Vf(),c=(function(){return Vf()})();return n.forEach(((f,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ul)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Bf(h.mutation,d,h.mutation.getFieldMask(),vn.now())):o.set(d.key,di.empty())})),this.recalculateAndSaveOverlays(e,i).next((f=>(f.forEach(((d,h)=>o.set(d,h))),n.forEach(((d,h)=>c.set(d,new rQ(h,o.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Vf();let s=new An(((o,c)=>o-c)),i=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||di.empty();h=c.applyToLocalView(d,h),r.set(f,h);const g=(s.get(c.batchId)||Pt()).add(f);s=s.insert(c.batchId,g)}))})).next((()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,h=f.value,g=KR();h.forEach((v=>{if(!i.has(v)){const T=QR(n.get(v),r.get(v));T!==null&&g.set(v,T),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Oe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return iX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aX(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Oe.resolve(dl());let c=od,f=i;return o.next((d=>Oe.forEach(d,((h,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(h)?Oe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{f=f.insert(h,v)}))))).next((()=>this.populateOverlays(e,d,i))).next((()=>this.computeViews(e,f,d,Pt()))).next((h=>({batchId:c,changes:$R(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new lt(n)).next((r=>{let s=Tf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Tf();return this.indexManager.getCollectionParents(e,i).next((c=>Oe.forEach(c,(f=>{const d=(function(g,v){return new jp(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((h=>{h.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((o=>{i.forEach(((f,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Mr.newInvalidDocument(h)))}));let c=Tf();return o.forEach(((f,d)=>{const h=i.get(f);h!==void 0&&Bf(h.mutation,d,di.empty(),vn.now()),Kp(n,d)&&(c=c.insert(f,d))})),c}))}}class iQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:Pi(s.createTime)}})(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:YX(s.bundledQuery),readTime:Pi(s.readTime)}})(n)),Oe.resolve()}}class aQ{constructor(){this.overlays=new An(lt.comparator),this.Lr=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dl();return Oe.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.bt(e,n,i)})),Oe.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Lr.delete(r)),Oe.resolve()}getOverlaysForCollection(e,n,r){const s=dl(),i=n.length+1,o=new lt(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Oe.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new An(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=dl(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const c=dl(),f=i.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>c.set(d,h))),!(c.size()>=s)););return Oe.resolve(c)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SX(n,r));let i=this.Lr.get(n);i===void 0&&(i=Pt(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}class oQ{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}class ry{constructor(){this.kr=new sr(lr.Kr),this.qr=new sr(lr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new lr(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new lt(new Sn([])),r=new lr(n,e),s=new lr(n,e+1),i=[];return this.qr.forEachInRange([r,s],(o=>{this.Wr(o),i.push(o.key)})),i}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new lt(new Sn([])),r=new lr(n,e),s=new lr(n,e+1);let i=Pt();return this.qr.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new lr(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return lt.comparator(e.key,n.key)||Mt(e.Hr,n.Hr)}static Ur(e,n){return Mt(e.Hr,n.Hr)||lt.comparator(e.key,n.key)}}class lQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new sr(lr.Kr)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wX(i,n,r,s);this.mutationQueue.push(o);for(const c of s)this.Jr=this.Jr.add(new lr(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(e,n){return Oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return Oe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?Y1:this.Yn-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),s=new lr(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],(o=>{const c=this.Zr(o.Hr);i.push(c)})),Oe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sr(Mt);return n.forEach((s=>{const i=new lr(s,0),o=new lr(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],(c=>{r=r.add(c.Hr)}))})),Oe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;lt.isDocumentKey(i)||(i=i.child(""));const o=new lr(new lt(i),0);let c=new sr(Mt);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Hr)),!0)}),o),Oe.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Wt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Oe.forEach(n.mutations,(s=>{const i=new lr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new lr(n,0),s=this.Jr.firstAfterOrEqual(r);return Oe.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class cQ{constructor(e){this.ti=e,this.docs=(function(){return new An(lt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Oe.resolve(r?r.document.mutableCopy():Mr.newInvalidDocument(n))}getEntries(e,n){let r=_a();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mr.newInvalidDocument(s))})),Oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=_a();const o=n.path,c=new lt(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||FZ(PZ(h),r)<=0||(s.has(h.key)||Kp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return Oe.resolve(i)}getAllFromCollectionGroup(e,n,r,s){dt(9500)}ni(e,n){return Oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new uQ(this)}getSize(e){return Oe.resolve(this.size)}}class uQ extends nQ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),Oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class fQ{constructor(e){this.persistence=e,this.ri=new Ll((n=>Z1(n)),X1),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.ii=0,this.si=new ry,this.targetCount=0,this.oi=Zc._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Zc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.lr(n),Oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Oe.waitFor(i).next((()=>s))}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Oe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Oe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Oe.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Oe.resolve(r)}containsKey(e,n){return Oe.resolve(this.si.containsKey(n))}}class pk{constructor(e,n){this._i={},this.overlays={},this.ai=new zp(0),this.ui=!1,this.ui=!0,this.ci=new oQ,this.referenceDelegate=e(this),this.li=new fQ(this),this.indexManager=new JX,this.remoteDocumentCache=(function(s){return new cQ(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new KX(n),this.Pi=new iQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new lQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const s=new dQ(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((i=>this.referenceDelegate.Ii(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ei(e,n){return Oe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class dQ extends LZ{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.Ri=new ry,this.Ai=null}static Vi(e){return new sy(e)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.di.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.di,(r=>{const s=lt.fromPath(r);return this.mi(e,s).next((i=>{i||n.removeEntry(s,gt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Oe.or([()=>Oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ep{constructor(e,n){this.persistence=e,this.fi=new Ll((r=>BZ(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=tQ(this,n)}static Vi(e,n){return new Ep(e,n)}Ti(){}Ii(e){return Oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Oe.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((i=>i?Oe.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,(o=>this.wr(e,o,n).next((c=>{c||(r++,i.removeEntry(o,gt.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Oe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=w0(e.data.value)),n}wr(e,n,r){return Oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return Oe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class iy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=Pt(),s=Pt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new iy(e,n.fromCache,r,s)}}class hQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eW()?8:UZ(XJ())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ps(e,n,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new hQ;return this.ys(e,n,o).next((c=>{if(i.result=c,this.As)return this.ws(e,n,o,c.size)}))})).next((()=>i.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Cc()<=Vt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",bc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Oe.resolve()):(Cc()<=Vt.DEBUG&&Ze("QueryEngine","Query:",bc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Cc()<=Vt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",bc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):Oe.resolve())}gs(e,n){if(jA(n))return Oe.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Cx(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const o=Pt(...i);return this.fs.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,c);return this.Ss(n,d,o,f.readTime)?this.gs(e,Cx(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,s){return jA(n)||s.isEqual(gt.min())?Oe.resolve(null):this.fs.getDocuments(e,r).next((i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?Oe.resolve(null):(Cc()<=Vt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bc(n)),this.Ds(e,o,n,MZ(s,od)).next((c=>c)))}))}bs(e,n){let r=new sr(jR(e));return n.forEach(((s,i)=>{Kp(e,i)&&(r=r.add(i))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Cc()<=Vt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",bc(n)),this.fs.getDocumentsMatchingQuery(e,n,To.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}const ay="LocalStore",mQ=3e8;class gQ{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new An(Mt),this.Fs=new Ll((i=>Z1(i)),X1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function vQ(t,e,n,r){return new gQ(t,e,n,r)}async function mk(t,e){const n=yt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],c=[];let f=Pt();for(const d of s){o.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of i){c.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:o,addedBatchIds:c})))}))}))}function xQ(t,e){const n=yt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,h){const g=d.batch,v=g.keys();let T=Oe.resolve();return v.forEach((S=>{T=T.next((()=>h.getEntry(f,S))).next((A=>{const C=d.docVersions.get(S);Wt(C!==null,48541),A.version.compareTo(C)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),h.addEntry(A)))}))})),T.next((()=>c.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Pt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function gk(t){const e=yt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function yQ(t,e){const n=yt(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const c=[];e.targetChanges.forEach(((h,g)=>{const v=s.get(g);if(!v)return;c.push(n.li.removeMatchingKeys(i,h.removedDocuments,g).next((()=>n.li.addMatchingKeys(i,h.addedDocuments,g))));let T=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Ar.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),s=s.insert(g,T),(function(A,C,k){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=mQ?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(v,T,h)&&c.push(n.li.updateTargetData(i,T))}));let f=_a(),d=Pt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))})),c.push(_Q(i,o,e.documentUpdates).next((h=>{f=h.Bs,d=h.Ls}))),!r.isEqual(gt.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next((g=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(h)}return Oe.waitFor(c).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,f,d))).next((()=>f))})).then((i=>(n.vs=s,i)))}function _Q(t,e,n){let r=Pt(),s=Pt();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let o=_a();return n.forEach(((c,f)=>{const d=i.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(gt.min())?(e.removeEntry(c,f.readTime),o=o.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(c,f)):Ze(ay,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:o,Ls:s}}))}function EQ(t,e){const n=yt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Y1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function TQ(t,e){const n=yt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((i=>i?(s=i,Oe.resolve(s)):n.li.allocateTargetId(r).next((o=>(s=new ho(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function kx(t,e,n){const r=yt(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!cu(o))throw o;Ze(ay,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function rC(t,e,n){const r=yt(t);let s=gt.min(),i=Pt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,h){const g=yt(f),v=g.Fs.get(h);return v!==void 0?Oe.resolve(g.vs.get(v)):g.li.getTargetData(d,h)})(r,o,Mi(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,c.targetId).next((f=>{i=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:gt.min(),n?i:Pt()))).next((c=>(wQ(r,lX(e),c),{documents:c,ks:i})))))}function wQ(t,e,n){let r=t.Ms.get(e)||gt.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Ms.set(e,r)}class sC{constructor(){this.activeTargetIds=pX()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SQ{constructor(){this.vo=new sC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new sC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AQ{Mo(e){}shutdown(){}}const iC="ConnectivityMonitor";class aC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ze(iC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ze(iC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let p0=null;function Dx(){return p0===null?p0=(function(){return 268435456+Math.round(2147483648*Math.random())})():p0++,"0x"+p0.toString(16)}const Sv="RestConnection",CQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class bQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===pp?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Dx(),c=this.Qo(e,n.toUriEncodedString());Ze(Sv,`Sending RPC '${e}' ${o}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,i);const{host:d}=new URL(c),h=G1(d);return this.zo(e,c,f,r,h).then((g=>(Ze(Sv,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw Al(Sv,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g}))}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ou})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}Qo(e,n){const r=CQ[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class NQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Rr="WebChannelConnection",uf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Hc extends bQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Hc.c_){const e=TR();uf(e,ER.STAT_EVENT,(n=>{n.stat===_x.PROXY?Ze(Rr,"STAT_EVENT: detected buffering proxy"):n.stat===_x.NOPROXY&&Ze(Rr,"STAT_EVENT: detected no buffering proxy")})),Hc.c_=!0}}zo(e,n,r,s,i){const o=Dx();return new Promise(((c,f)=>{const d=new yR;d.setWithCredentials(!0),d.listenOnce(_R.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case T0.NO_ERROR:const g=d.getResponseJson();Ze(Rr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case T0.TIMEOUT:Ze(Rr,`RPC '${e}' ${o} timed out`),f(new st(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case T0.HTTP_ERROR:const v=d.getStatus();if(Ze(Rr,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const A=(function(k){const V=k.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(V)>=0?V:Ue.UNKNOWN})(S.status);f(new st(A,S.message))}else f(new st(Ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new st(Ue.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ze(Rr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(s);Ze(Rr,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const s=Dx(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Ze(Rr,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let g=!1,v=!1;const T=new NQ({Ho:S=>{v?Ze(Rr,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(g||(Ze(Rr,`Opening RPC '${e}' stream ${s} transport.`),h.open(),g=!0),Ze(Rr,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},Jo:()=>h.close()});return uf(h,Ef.EventType.OPEN,(()=>{v||(Ze(Rr,`RPC '${e}' stream ${s} transport opened.`),T.i_())})),uf(h,Ef.EventType.CLOSE,(()=>{v||(v=!0,Ze(Rr,`RPC '${e}' stream ${s} transport closed`),T.o_(),this.E_(h))})),uf(h,Ef.EventType.ERROR,(S=>{v||(v=!0,Al(Rr,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),T.o_(new st(Ue.UNAVAILABLE,"The operation could not be completed")))})),uf(h,Ef.EventType.MESSAGE,(S=>{if(!v){const A=S.data[0];Wt(!!A,16349);const C=A,k=C?.error||C[0]?.error;if(k){Ze(Rr,`RPC '${e}' stream ${s} received error:`,k);const V=k.status;let D=(function(J){const I=Yn[J];if(I!==void 0)return nk(I)})(V),H=k.message;V==="NOT_FOUND"&&H.includes("database")&&H.includes("does not exist")&&H.includes(this.databaseId.database)&&Al(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=Ue.INTERNAL,H="Unknown error status: "+V+" with message "+k.message),v=!0,T.o_(new st(D,H)),h.close()}else Ze(Rr,`RPC '${e}' stream ${s} received:`,A),T.__(A)}})),Hc.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wR()}}function IQ(t){return new Hc(t)}function Av(){return typeof document<"u"?document:null}function Zp(t){return new MX(t,!0)}Hc.c_=!1;class vk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const oC="PersistentStream";class xk{constructor(e,n,r,s,i,o,c,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ue.RESOURCE_EXHAUSTED?(ya(n.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new st(Ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ze(oC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Ze(oC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RQ extends xk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=OX(this.serializer,e),r=(function(i){if(!("targetChange"in i))return gt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?gt.min():o.readTime?Pi(o.readTime):gt.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Rx(this.serializer),n.addTarget=(function(i,o){let c;const f=o.target;if(c=Ax(f)?{documents:VX(i,f)}:{query:BX(i,f).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=ik(i,o.resumeToken);const d=bx(i,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(gt.min())>0){c.readTime=_p(i,o.snapshotVersion.toTimestamp());const d=bx(i,o.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=HX(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Rx(this.serializer),n.removeTarget=e,this.K_(n)}}class kQ extends xk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UX(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Rx(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>LX(this.serializer,r)))};this.K_(n)}}class DQ{}class MQ extends DQ{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Wo(e,Nx(n,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new st(Ue.UNKNOWN,i.toString())}))}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.jo(e,Nx(n,r),s,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Ue.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PQ(t,e,n,r){return new MQ(t,e,n,r)}class FQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ya(n),this.aa=!1):Ze("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Cl="RemoteStore";class OQ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo((o=>{r.enqueueAndForget((async()=>{Vl(this)&&(Ze(Cl,"Restarting streams for network reachability change."),await(async function(f){const d=yt(f);d.Ea.add(4),await Cd(d),d.Va.set("Unknown"),d.Ea.delete(4),await Xp(d)})(this))}))})),this.Va=new FQ(r,s)}}async function Xp(t){if(Vl(t))for(const e of t.Ra)await e(!0)}async function Cd(t){for(const e of t.Ra)await e(!1)}function yk(t,e){const n=yt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),uy(n)?cy(n):uu(n).O_()&&ly(n,e))}function oy(t,e){const n=yt(t),r=uu(n);n.Ia.delete(e),r.O_()&&_k(n,e),n.Ia.size===0&&(r.O_()?r.L_():Vl(n)&&n.Va.set("Unknown"))}function ly(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uu(t).Z_(e)}function _k(t,e){t.da.$e(e),uu(t).X_(e)}function cy(t){t.da=new IX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uu(t).start(),t.Va.ua()}function uy(t){return Vl(t)&&!uu(t).x_()&&t.Ia.size>0}function Vl(t){return yt(t).Ea.size===0}function Ek(t){t.da=void 0}async function LQ(t){t.Va.set("Online")}async function UQ(t){t.Ia.forEach(((e,n)=>{ly(t,e)}))}async function VQ(t,e){Ek(t),uy(t)?(t.Va.ha(e),cy(t)):t.Va.set("Unknown")}async function BQ(t,e,n){if(t.Va.set("Online"),e instanceof sk&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.da.removeTarget(c))})(t,e)}catch(r){Ze(Cl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tp(t,r)}else if(e instanceof C0?t.da.Xe(e):e instanceof rk?t.da.st(e):t.da.tt(e),!n.isEqual(gt.min()))try{const r=await gk(t.localStore);n.compareTo(r)>=0&&await(function(i,o){const c=i.da.Tt(o);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(f.resumeToken,o))}})),c.targetMismatches.forEach(((f,d)=>{const h=i.Ia.get(f);if(!h)return;i.Ia.set(f,h.withResumeToken(Ar.EMPTY_BYTE_STRING,h.snapshotVersion)),_k(i,f);const g=new ho(h.target,f,d,h.sequenceNumber);ly(i,g)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Ze(Cl,"Failed to raise snapshot:",r),await Tp(t,r)}}async function Tp(t,e,n){if(!cu(e))throw e;t.Ea.add(1),await Cd(t),t.Va.set("Offline"),n||(n=()=>gk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ze(Cl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xp(t)}))}function Tk(t,e){return e().catch((n=>Tp(t,n,e)))}async function Qp(t){const e=yt(t),n=Co(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Y1;for(;zQ(e);)try{const s=await EQ(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,HQ(e,s)}catch(s){await Tp(e,s)}wk(e)&&Sk(e)}function zQ(t){return Vl(t)&&t.Ta.length<10}function HQ(t,e){t.Ta.push(e);const n=Co(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function wk(t){return Vl(t)&&!Co(t).x_()&&t.Ta.length>0}function Sk(t){Co(t).start()}async function GQ(t){Co(t).ra()}async function jQ(t){const e=Co(t);for(const n of t.Ta)e.ea(n.mutations)}async function qQ(t,e,n){const r=t.Ta.shift(),s=ey.from(r,e,n);await Tk(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Qp(t)}async function $Q(t,e){e&&Co(t).Y_&&await(async function(r,s){if((function(o){return CX(o)&&o!==Ue.ABORTED})(s.code)){const i=r.Ta.shift();Co(r).B_(),await Tk(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Qp(r)}})(t,e),wk(t)&&Sk(t)}async function lC(t,e){const n=yt(t);n.asyncQueue.verifyOperationInProgress(),Ze(Cl,"RemoteStore received new credentials");const r=Vl(n);n.Ea.add(3),await Cd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xp(n)}async function KQ(t,e){const n=yt(t);e?(n.Ea.delete(2),await Xp(n)):e||(n.Ea.add(2),await Cd(n),n.Va.set("Unknown"))}function uu(t){return t.ma||(t.ma=(function(n,r,s){const i=yt(n);return i.sa(),new RQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Zo:LQ.bind(null,t),Yo:UQ.bind(null,t),t_:VQ.bind(null,t),J_:BQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),uy(t)?cy(t):t.Va.set("Unknown")):(await t.ma.stop(),Ek(t))}))),t.ma}function Co(t){return t.fa||(t.fa=(function(n,r,s){const i=yt(n);return i.sa(),new kQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:GQ.bind(null,t),t_:$Q.bind(null,t),ta:jQ.bind(null,t),na:qQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Qp(t)):(await t.fa.stop(),t.Ta.length>0&&(Ze(Cl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class fy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,c=new fy(e,n,o,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(ya("AsyncQueue",`${e}: ${t}`),cu(t))return new st(Ue.UNAVAILABLE,`${e}: ${t}`);throw t}class Gc{static emptySet(e){return new Gc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||lt.comparator(n.key,r.key):(n,r)=>lt.comparator(n.key,r.key),this.keyedMap=Tf(),this.sortedSet=new An(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class cC{constructor(){this.ga=new An(lt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):dt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xc{constructor(e,n,r,s,i,o,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Xc(e,n,Gc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}class YQ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class JQ{constructor(){this.queries=uC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=yt(n),i=s.queries;s.queries=uC(),i.forEach(((o,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new st(Ue.ABORTED,"Firestore shutting down"))}}function uC(){return new Ll((t=>GR(t)),$p)}async function Ak(t,e){const n=yt(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new YQ,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=dy(o,`Initialization of query '${bc(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&hy(n)}async function Ck(t,e){const n=yt(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WQ(t,e){const n=yt(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const c of o.ba)c.Fa(s)&&(r=!0);o.wa=s}}r&&hy(n)}function ZQ(t,e,n){const r=yt(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function hy(t){t.Ca.forEach((e=>{e.next()}))}var Mx,fC;(fC=Mx||(Mx={})).Ma="default",fC.Cache="cache";class bk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mx.Cache}}class Nk{constructor(e){this.key=e}}class Ik{constructor(e){this.key=e}}class XQ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=jR(e),this.tu=new Gc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cC,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((h,g)=>{const v=s.get(h),T=Kp(this.query,g)?g:null,S=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;v&&T?v.data.isEqual(T.data)?S!==A&&(r.track({type:3,doc:T}),C=!0):this.su(v,T)||(r.track({type:2,doc:T}),C=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(c=!0)):!v&&T?(r.track({type:0,doc:T}),C=!0):v&&!T&&(r.track({type:1,doc:v}),C=!0,(f||d)&&(c=!0)),C&&(T?(o=o.add(T),i=A?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,g)=>(function(T,S){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:C})}};return A(T)-A(S)})(h.type,g.type)||this.eu(h.doc,g.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,o.length!==0||d?{snapshot:new Xc(this.query,e.tu,i,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Ik(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Nk(r))})),n}cu(e){this.Za=e.ks,this.Ya=Pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const py="SyncEngine";class QQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eee{constructor(e){this.key=e,this.hu=!1}}class tee{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ll((c=>GR(c)),$p),this.Iu=new Map,this.Eu=new Set,this.Ru=new An(lt.comparator),this.Au=new Map,this.Vu=new ry,this.du={},this.mu=new Map,this.fu=Zc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nee(t,e,n=!0){const r=Fk(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Rk(r,e,n,!0),s}async function ree(t,e){const n=Fk(t);await Rk(n,e,!0,!1)}async function Rk(t,e,n,r){const s=await TQ(t.localStore,Mi(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await see(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&yk(t.remoteStore,s),c}async function see(t,e,n,r,s){t.pu=(g,v,T)=>(async function(A,C,k,V){let D=C.view.ru(k);D.Ss&&(D=await rC(A.localStore,C.query,!1).then((({documents:I})=>C.view.ru(I,D))));const H=V&&V.targetChanges.get(C.targetId),G=V&&V.targetMismatches.get(C.targetId)!=null,J=C.view.applyChanges(D,A.isPrimaryClient,H,G);return hC(A,C.targetId,J.au),J.snapshot})(t,g,v,T);const i=await rC(t.localStore,e,!0),o=new XQ(e,i.ks),c=o.ru(i.documents),f=Ad.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(c,t.isPrimaryClient,f);hC(t,n,d.au);const h=new QQ(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function iee(t,e,n){const r=yt(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!$p(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await kx(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&oy(r.remoteStore,s.targetId),Px(r,s.targetId)})).catch(lu)):(Px(r,s.targetId),await kx(r.localStore,s.targetId,!0))}async function aee(t,e){const n=yt(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oy(n.remoteStore,r.targetId))}async function oee(t,e,n){const r=pee(t);try{const s=await(function(o,c){const f=yt(o),d=vn.now(),h=c.reduce(((T,S)=>T.add(S.key)),Pt());let g,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let S=_a(),A=Pt();return f.xs.getEntries(T,h).next((C=>{S=C,S.forEach(((k,V)=>{V.isValidDocument()||(A=A.add(k))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,S))).next((C=>{g=C;const k=[];for(const V of c){const D=EX(V,g.get(V.key).overlayedDocument);D!=null&&k.push(new Ul(V.key,D,OR(D.value.mapValue),da.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,k,c)})).next((C=>{v=C;const k=C.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(T,C.batchId,k)}))})).then((()=>({batchId:v.batchId,changes:$R(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(o,c,f){let d=o.du[o.currentUser.toKey()];d||(d=new An(Mt)),d=d.insert(c,f),o.du[o.currentUser.toKey()]=d})(r,s.batchId,n),await bd(r,s.changes),await Qp(r.remoteStore)}catch(s){const i=dy(s,"Failed to persist write");n.reject(i)}}async function kk(t,e){const n=yt(t);try{const r=await yQ(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=n.Au.get(i);o&&(Wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Wt(o.hu,14607):s.removedDocuments.size>0&&(Wt(o.hu,42227),o.hu=!1))})),await bd(n,r,e)}catch(r){await lu(r)}}function dC(t,e,n){const r=yt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(o,c){const f=yt(o);f.onlineState=c;let d=!1;f.queries.forEach(((h,g)=>{for(const v of g.ba)v.va(c)&&(d=!0)})),d&&hy(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lee(t,e,n){const r=yt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new An(lt.comparator);o=o.insert(i,Mr.newNoDocument(i,gt.min()));const c=Pt().add(i),f=new Wp(gt.min(),new Map,new An(Mt),o,c);await kk(r,f),r.Ru=r.Ru.remove(i),r.Au.delete(e),my(r)}else await kx(r.localStore,e,!1).then((()=>Px(r,e,n))).catch(lu)}async function cee(t,e){const n=yt(t),r=e.batch.batchId;try{const s=await xQ(n.localStore,e);Mk(n,r,null),Dk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bd(n,s)}catch(s){await lu(s)}}async function uee(t,e,n){const r=yt(t);try{const s=await(function(o,c){const f=yt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,c).next((g=>(Wt(g!==null,37113),h=g.keys(),f.mutationQueue.removeMutationBatch(d,g)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);Mk(r,e,n),Dk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bd(r,s)}catch(s){await lu(s)}}function Dk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Mk(t,e,n){const r=yt(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Px(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||Pk(t,r)}))}function Pk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(oy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),my(t))}function hC(t,e,n){for(const r of n)r instanceof Nk?(t.Vu.addReference(r.key,e),fee(t,r)):r instanceof Ik?(Ze(py,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Pk(t,r.key)):dt(19791,{wu:r})}function fee(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Ze(py,"New document in limbo: "+n),t.Eu.add(r),my(t))}function my(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new lt(Sn.fromString(e)),r=t.fu.next();t.Au.set(r,new eee(n)),t.Ru=t.Ru.insert(n,r),yk(t.remoteStore,new ho(Mi(qp(n.path)),r,"TargetPurposeLimboResolution",zp.ce))}}async function bd(t,e,n){const r=yt(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{o.push(r.pu(f,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,h?"current":"not-current")}if(d){s.push(d);const h=iy.Es(f.targetId,d);i.push(h)}})))})),await Promise.all(o),r.Pu.J_(s),await(async function(f,d){const h=yt(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Oe.forEach(d,(v=>Oe.forEach(v.Ts,(T=>h.persistence.referenceDelegate.addReference(g,v.targetId,T))).next((()=>Oe.forEach(v.Is,(T=>h.persistence.referenceDelegate.removeReference(g,v.targetId,T)))))))))}catch(g){if(!cu(g))throw g;Ze(ay,"Failed to update sequence numbers: "+g)}for(const g of d){const v=g.targetId;if(!g.fromCache){const T=h.vs.get(v),S=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(v,A)}}})(r.localStore,i))}async function dee(t,e){const n=yt(t);if(!n.currentUser.isEqual(e)){Ze(py,"User change. New user:",e.toKey());const r=await mk(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((f=>{f.reject(new st(Ue.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bd(n,r.Ns)}}function hee(t,e){const n=yt(t),r=n.Au.get(e);if(r&&r.hu)return Pt().add(r.key);{let s=Pt();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const c=n.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}function Fk(t){const e=yt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lee.bind(null,e),e.Pu.J_=WQ.bind(null,e.eventManager),e.Pu.yu=ZQ.bind(null,e.eventManager),e}function pee(t){const e=yt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uee.bind(null,e),e}class wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vQ(this.persistence,new pQ,e.initialUser,this.serializer)}Cu(e){return new pk(sy.Vi,this.serializer)}Du(e){return new SQ}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wp.provider={build:()=>new wp};class mee extends wp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Wt(this.persistence.referenceDelegate instanceof Ep,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new pk((r=>Ep.Vi(r,n)),this.serializer)}}class Fx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dee.bind(null,this.syncEngine),await KQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JQ})()}createDatastore(e){const n=Zp(e.databaseInfo.databaseId),r=IQ(e.databaseInfo);return PQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,o,c){return new OQ(r,s,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>dC(this.syncEngine,n,0)),(function(){return aC.v()?new aC:new AQ})())}createSyncEngine(e,n){return(function(s,i,o,c,f,d,h){const g=new tee(s,i,o,c,f,d);return h&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=yt(n);Ze(Cl,"RemoteStore shutting down."),r.Ea.add(5),await Cd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fx.provider={build:()=>new Fx};class Ok{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const bo="FirestoreClient";class gee{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=kr.UNAUTHENTICATED,this.clientId=$1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{Ze(bo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ze(bo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cv(t,e){t.asyncQueue.verifyOperationInProgress(),Ze(bo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await mk(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vee(t);Ze(bo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>lC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>lC(e.remoteStore,s))),t._onlineComponents=e}async function vee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze(bo,"Using user provided OfflineComponentProvider");try{await Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ue.FAILED_PRECONDITION||s.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await Cv(t,new wp)}}else Ze(bo,"Using default OfflineComponentProvider"),await Cv(t,new mee(void 0));return t._offlineComponents}async function Lk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze(bo,"Using user provided OnlineComponentProvider"),await pC(t,t._uninitializedComponentsProvider._online)):(Ze(bo,"Using default OnlineComponentProvider"),await pC(t,new Fx))),t._onlineComponents}function xee(t){return Lk(t).then((e=>e.syncEngine))}async function Ox(t){const e=await Lk(t),n=e.eventManager;return n.onListen=nee.bind(null,e.syncEngine),n.onUnlisten=iee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ree.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aee.bind(null,e.syncEngine),n}function yee(t,e,n,r){const s=new Ok(r),i=new bk(e,s,n);return t.asyncQueue.enqueueAndForget((async()=>Ak(await Ox(t),i))),()=>{s.Nu(),t.asyncQueue.enqueueAndForget((async()=>Ck(await Ox(t),i)))}}function _ee(t,e,n={}){const r=new xo;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,f,d){const h=new Ok({next:v=>{h.Nu(),o.enqueueAndForget((()=>Ck(i,g)));const T=v.docs.has(c);!T&&v.fromCache?d.reject(new st(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new st(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new bk(qp(c.path),h,{includeMetadataChanges:!0,Ka:!0});return Ak(i,g)})(await Ox(t),t.asyncQueue,e,n,r))),r.promise}function Eee(t,e){const n=new xo;return t.asyncQueue.enqueueAndForget((async()=>oee(await xee(t),e,n))),n.promise}function Uk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Tee="ComponentProvider",mC=new Map;function wee(t,e,n,r,s){return new GZ(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,Uk(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const Vk="firestore.googleapis.com",gC=!0;class vC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vk,this.ssl=gC}else this.host=e.host,this.ssl=e.ssl??gC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZX)throw new st(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Uk(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new EZ;switch(r.type){case"firstParty":return new AZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mC.get(n);r&&(Ze(Tee,"Removing Datastore"),mC.delete(n),r.terminate())})(this),Promise.resolve()}}function See(t,e,n,r={}){t=yo(t,gy);const s=G1(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(KJ(`https://${c}`),ZJ("Firestore",!0)),i.host!==Vk&&i.host!==c&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...i,host:c,ssl:s,emulatorOptions:r};if(!fp(f,o)&&(t._setSettings(f),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=kr.MOCK_USER;else{d=YJ(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new st(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new kr(g)}t._authCredentials=new TZ(new AR(d,h))}}class em{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new em(this.firestore,e,this._query)}}class nr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}toJSON(){return{type:nr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wd(n,nr._jsonSchema))return new nr(e,r||null,new lt(Sn.fromString(n.referencePath)))}}nr._jsonSchemaVersion="firestore/documentReference/1.0",nr._jsonSchema={type:Zn("string",nr._jsonSchemaVersion),referencePath:Zn("string")};class hd extends em{constructor(e,n,r){super(e,n,qp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new lt(e))}withConverter(e){return new hd(this.firestore,e,this._path)}}function vy(t,e,...n){if(t=rd(t),arguments.length===1&&(e=$1.newId()),kZ("doc","path",e),t instanceof gy){const r=Sn.fromString(e,...n);return kA(r),new nr(t,null,new lt(r))}{if(!(t instanceof nr||t instanceof hd))throw new st(Ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Sn.fromString(e,...n));return kA(r),new nr(t.firestore,t instanceof hd?t.converter:null,new lt(r))}}const xC="AsyncQueue";class yC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vk(this,"async_queue_retry"),this._c=()=>{const r=Av();r&&Ze(xC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new xo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!cu(e))throw e;Ze(xC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ya("INTERNAL UNHANDLED ERROR: ",_C(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=fy.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&dt(47125,{Pc:_C(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _C(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pd extends gy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new yC,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yC(e),this._firestoreClient=void 0,await e}}}function Aee(t,e){const n=typeof t=="object"?t:mR(),r=typeof t=="string"?t:pp,s=nZ(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=qJ("firestore");i&&See(s,...i)}return s}function xy(t){if(t._terminated)throw new st(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Cee(t),t._firestoreClient}function Cee(t){const e=t._freezeSettings(),n=wee(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new gee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(t._componentsProvider))}class Gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gs(Ar.fromBase64String(e))}catch(n){throw new st(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gs(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wd(e,Gs._jsonSchema))return Gs.fromBase64String(e.bytes)}}Gs._jsonSchemaVersion="firestore/bytes/1.0",Gs._jsonSchema={type:Zn("string",Gs._jsonSchemaVersion),bytes:Zn("string")};class Bk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new st(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zk{constructor(e){this._methodName=e}}class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(wd(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Zn("string",Fi._jsonSchemaVersion),latitude:Zn("number"),longitude:Zn("number")};class gi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wd(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gi(e.vectorValues);throw new st(Ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Zn("string",gi._jsonSchemaVersion),vectorValues:Zn("object")};const bee=/^__.*__$/;class Nee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ul(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sd(e,this.data,n,this.fieldTransforms)}}function Hk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:t})}}class yy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new yy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Sp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Hk(this.dataSource)&&bee.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Iee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zp(e)}createContext(e,n,r,s=!1){return new yy({dataSource:e,methodName:n,targetDoc:r,path:Er.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ree(t){const e=t._freezeSettings(),n=Zp(t._databaseId);return new Iee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kee(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);$k("Data must be an object, but it was:",o,r);const c=jk(r,o);let f,d;if(i.merge)f=new di(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const g of i.mergeFields){const v=_y(e,g,n);if(!o.contains(v))throw new st(Ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Pee(h,v)||h.push(v)}f=new di(h),d=o.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,d=o.fieldTransforms;return new Nee(new Hs(c),f,d)}function Gk(t,e){if(qk(t=rd(t)))return $k("Unsupported field value:",e,t),jk(t,e);if(t instanceof zk)return(function(r,s){if(!Hk(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const c of r){let f=Gk(c,s.childContextForArray(o));f==null&&(f={nullValue:"NULL_VALUE"}),i.push(f),o++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=rd(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mX(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=vn.fromDate(r);return{timestampValue:_p(s.serializer,i)}}if(r instanceof vn){const i=new vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_p(s.serializer,i)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gs)return{bytesValue:ik(s.serializer,r._byteString)};if(r instanceof nr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ny(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gi)return(function(o,c){const f=o instanceof gi?o.toArray():o;return{mapValue:{fields:{[PR]:{stringValue:FR},[mp]:{arrayValue:{values:f.map((h=>{if(typeof h!="number")throw c.createError("VectorValues must only contain numeric values.");return Q1(c.serializer,h)}))}}}}}})(r,s);if(dk(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${K1(r)}`)})(t,e)}function jk(t,e){const n={};return NR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ol(t,((r,s)=>{const i=Gk(s,e.childContextForField(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function qk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vn||t instanceof Fi||t instanceof Gs||t instanceof nr||t instanceof zk||t instanceof gi||dk(t))}function $k(t,e,n){if(!qk(n)||!CR(n)){const r=K1(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function _y(t,e,n){if((e=rd(e))instanceof Bk)return e._internalPath;if(typeof e=="string")return Mee(t,e);throw Sp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dee=new RegExp("[~\\*/\\[\\]]");function Mee(t,e,n){if(e.search(Dee)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bk(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(i||o)&&(f+=" (found",i&&(f+=` in field ${r}`),o&&(f+=` in document ${s}`),f+=")"),new st(Ue.INVALID_ARGUMENT,c+t+f)}function Pee(t,e){return t.some((n=>n.isEqual(e)))}class Fee{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ol(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){const n=e.fields?.[mp].arrayValue?.values?.map((r=>Ln(r.doubleValue)));return new gi(n)}convertGeoPoint(e){return new Fi(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){const n=wo(e);return new vn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Sn.fromString(e);Wt(fk(r),9688,{name:e});const s=new cd(r.get(1),r.get(3)),i=new lt(r.popFirst(5));return s.isEqual(n)||ya(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Kk extends Fee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,n)}}const EC="@firebase/firestore",TC="4.11.0";function wC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class Yk{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Oee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(_y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Oee extends Yk{data(){return super.data()}}function Lee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new st(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Uee(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Sf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends Yk{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new b0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",vl._jsonSchema={type:Zn("string",vl._jsonSchemaVersion),bundleSource:Zn("string","DocumentSnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class b0 extends vl{data(e={}){return super.data(e)}}class jc{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Sf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new b0(this._firestore,this._userDataWriter,r.key,r,new Sf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((c=>{const f=new b0(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Sf(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const f=new b0(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Sf(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:Vee(c.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Vee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:t})}}jc._jsonSchemaVersion="firestore/querySnapshot/1.0",jc._jsonSchema={type:Zn("string",jc._jsonSchemaVersion),bundleSource:Zn("string","QuerySnapshot"),bundleName:Zn("string"),bundle:Zn("string")};function Bee(t){t=yo(t,nr);const e=yo(t.firestore,pd),n=xy(e);return _ee(n,t._key).then((r=>Jk(e,t,r)))}function zee(t,e,n){t=yo(t,nr);const r=yo(t.firestore,pd),s=Uee(t.converter,e),i=Ree(r);return Gee(r,[kee(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,da.none())])}function Hee(t,...e){t=rd(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wC(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let i,o,c;if(t instanceof nr)o=yo(t.firestore,pd),c=qp(t._key.path),i={next:d=>{e[r]&&e[r](Jk(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=yo(t,em);o=yo(d.firestore,pd),c=d._query;const h=new Kk(o);i={next:g=>{e[r]&&e[r](new jc(o,h,d,g))},error:e[r+1],complete:e[r+2]},Lee(t._query)}const f=xy(o);return yee(f,c,s,i)}function Gee(t,e){const n=xy(t);return Eee(n,e)}function Jk(t,e,n){const r=n.docs.get(e._key),s=new Kk(t);return new vl(t,s,e._key,r,new Sf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){_Z(aZ),dp(new sd("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new pd(new wZ(r.getProvider("auth-internal")),new CZ(o,r.getProvider("app-check-internal")),jZ(o,s),o);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),zc(EC,TC,e),zc(EC,TC,"esm2020")})();const Wk=()=>{const t=localStorage.getItem("firebase_config");return t?JSON.parse(t):{apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"}},jee=t=>{localStorage.setItem("firebase_config",JSON.stringify(t))},qee=()=>{localStorage.removeItem("firebase_config")};let bv,No;const Ey=async t=>{try{const e=t||Wk();return e?(oZ().length>0?bv=mR():bv=pR(e),No=Aee(bv),!0):!1}catch(e){return console.error("Error initializing Firebase:",e),!1}},$ee=()=>!!No,cl=t=>{if(t==null)return null;if(Array.isArray(t))return t.map(cl);if(typeof t!="object")return t;const e={};for(const n in t){const r=t[n];r===void 0?e[n]=null:r!==null&&typeof r=="object"?e[n]=cl(r):e[n]=r}return e},Ap=async(t,e,n,r,s=[])=>{if(No)try{const i={clients:cl(t),products:cl(e),categories:cl(n),users:cl(r),uploadedFiles:cl(s),lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await zee(vy(No,"rota-vendas","master-data"),i),console.log(" Data saved to cloud successfully")}catch(i){throw console.error("Error saving to cloud:",i),i}},Zk=async()=>{if(!No)return null;try{const t=vy(No,"rota-vendas","master-data"),e=await Bee(t);return e.exists()?e.data():null}catch(t){return console.error("Error loading from cloud:",t),null}},Kee=t=>No?Hee(vy(No,"rota-vendas","master-data"),e=>{e.exists()&&t(e.data())}):()=>{},Yee=Object.freeze(Object.defineProperty({__proto__:null,initializeFirebase:Ey,isFirebaseInitialized:$ee,loadFromCloud:Zk,saveToCloud:Ap,subscribeToCloudChanges:Kee},Symbol.toStringTag,{value:"Module"}));var Lx=HC(),Nv,SC;function Jee(){return SC||(SC=1,Nv=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),Nv}var Wee=Jee();const Ux=bp(Wee);function Zee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Xee(t){var e=Zee(t,"string");return typeof e=="symbol"?e:String(e)}function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ha.apply(this,arguments)}function bl(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}const oa={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},Qee="https://maps.googleapis.com/maps/api/js";class md{static async load(e,n){var r;const s=e.libraries?e.libraries.split(","):[],i=this.serializeParams(e);this.listeners.push(n),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=oa.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=i,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==i&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const o=["maps",...s];await Promise.all(o.map(c=>google.maps.importLibrary(c)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((s,i)=>{var o;const c=document.createElement("script"),f=new URLSearchParams;for(const[d,h]of Object.entries(e)){const g=d.replace(/[A-Z]/g,v=>"_"+v[0].toLowerCase());f.set(g,h)}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),c.async=!0,c.src=Qee+"?"+f.toString(),c.nonce=((o=document.querySelector("script[nonce]"))==null?void 0:o.nonce)||"",c.onerror=()=>{this.loadingStatus=oa.FAILED,this.notifyLoadingStatusListeners(),i(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=oa.LOADED,this.notifyLoadingStatusListeners(),s()},window.gm_authFailure=()=>{this.loadingStatus=oa.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=oa.LOADING,this.notifyLoadingStatusListeners(),document.head.append(c)}),n);google.maps.importLibrary=s=>r().then(()=>google.maps.importLibrary(s))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}md.loadingStatus=oa.NOT_LOADED;md.serializedApiParams=void 0;md.listeners=[];const ete=["onLoad","apiKey","version","libraries"],tte=["children"],nte="GMP_visgl_rgmlibrary_v1_default",Nd=Rn.createContext(null);function rte(){const[t,e]=he.useState({});return{mapInstances:t,addMapInstance:(i,o="default")=>{e(c=>ha({},c,{[o]:i}))},removeMapInstance:(i="default")=>{e(o=>bl(o,[i].map(Xee)))},clearMapInstances:()=>{e({})}}}function ste(t){const{onLoad:e,apiKey:n,version:r,libraries:s=[]}=t,i=bl(t,ete),[o,c]=he.useState(md.loadingStatus),[f,d]=he.useReducer((T,S)=>ha({},T,{[S.name]:S.value}),{}),h=he.useMemo(()=>s?.join(","),[s]),g=he.useMemo(()=>JSON.stringify(ha({apiKey:n,version:r},i)),[n,r,i]),v=he.useCallback(async T=>{var S;if(f[T])return f[T];if(!((S=google)!=null&&(S=S.maps)!=null&&S.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const A=await window.google.maps.importLibrary(T);return d({name:T,value:A}),A},[f]);return he.useEffect(()=>{(async()=>{try{const T=ha({key:n},i);r&&(T.v=r),h?.length>0&&(T.libraries=h),T.solutionChannel===void 0?T.solutionChannel=nte:T.solutionChannel===""&&delete T.solutionChannel,await md.load(T,S=>c(S));for(const S of["core","maps",...s])await v(S);e&&e()}catch(T){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",T)}})()},[n,h,g]),{status:o,loadedLibraries:f,importLibrary:v}}const ite=t=>{const{children:e}=t,n=bl(t,tte),{mapInstances:r,addMapInstance:s,removeMapInstance:i,clearMapInstances:o}=rte(),{status:c,loadedLibraries:f,importLibrary:d}=ste(n),h=he.useMemo(()=>({mapInstances:r,addMapInstance:s,removeMapInstance:i,clearMapInstances:o,status:c,loadedLibraries:f,importLibrary:d}),[r,s,i,o,c,f,d]);return Rn.createElement(Nd.Provider,{value:h},e)};function ate(t,e){for(const n of ute){const r=e[n],s=Xk[n];he.useEffect(()=>{if(!t||!r)return;const i=google.maps.event.addListener(t,s,o=>{r(ote(s,t,o))});return()=>i.remove()},[t,s,r])}}function ote(t,e,n){const r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(lte.includes(t)){const i=r,o=e.getCenter(),c=e.getZoom(),f=e.getHeading()||0,d=e.getTilt()||0,h=e.getBounds();return(!o||!h||!Number.isFinite(c))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),i.detail={center:o?.toJSON()||{lat:0,lng:0},zoom:c||0,heading:f,tilt:d,bounds:h?.toJSON()||{north:90,east:180,south:-90,west:-180}},i}else if(cte.includes(t)){var s;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const i=r;return i.domEvent=n.domEvent,i.stoppable=!0,i.stop=()=>n.stop(),i.detail={latLng:((s=n.latLng)==null?void 0:s.toJSON())||null,placeId:n.placeId},i}return r}const Xk={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},lte=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],cte=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],ute=Object.keys(Xk);function Qk(t,e){const n=he.useRef(void 0);(!n.current||!Ux(e,n.current))&&(n.current=e),he.useEffect(t,n.current)}const fte=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function dte(t,e){const n={},r=Object.keys(e);for(const s of r)fte.has(s)&&(n[s]=e[s]);Qk(()=>{t&&t.setOptions(n)},[n])}function e4(){var t;return((t=he.useContext(Nd))==null?void 0:t.status)||oa.NOT_LOADED}function hte(t,e){const{viewport:n,viewState:r}=e,s=!!n;return he.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:i,longitude:o,bearing:c,pitch:f,zoom:d}=r;t.moveCamera({center:{lat:i,lng:o},heading:c,tilt:f,zoom:d+1})},[t,r]),s}function pte(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function t4(t){return pte(t)?t:t.toJSON()}function mte(t,e,n){const r=n.center?t4(n.center):null;let s=null,i=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(s=r.lat,i=r.lng);const o=Number.isFinite(n.zoom)?n.zoom:null,c=Number.isFinite(n.heading)?n.heading:null,f=Number.isFinite(n.tilt)?n.tilt:null;he.useLayoutEffect(()=>{if(!t)return;const d={};let h=!1;s!==null&&i!==null&&(e.current.center.lat!==s||e.current.center.lng!==i)&&(d.center={lat:s,lng:i},h=!0),o!==null&&e.current.zoom!==o&&(d.zoom=o,h=!0),c!==null&&e.current.heading!==c&&(d.heading=c,h=!0),f!==null&&e.current.tilt!==f&&(d.tilt=f,h=!0),h&&t.moveCamera(d)})}const gte=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Rn.createElement("div",{style:t},Rn.createElement("h2",null,"Error: AuthFailure"),Rn.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Rn.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function vte(){const[t,e]=he.useState(null),n=he.useCallback(r=>e(r),[e]);return[t,n]}function n4(){return e4()===oa.LOADED}function xte(){const[,t]=he.useReducer(e=>e+1,0);return t}function yte(t,e){const n=t.getCenter(),r=t.getZoom(),s=t.getHeading()||0,i=t.getTilt()||0,o=t.getBounds();(!n||!o||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:n?.toJSON()||{lat:0,lng:0},zoom:r||0,heading:s,tilt:i})}function _te(t){const e=xte(),n=he.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return he.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{yte(t,n),e()});return()=>r.remove()},[t,e]),n}const Ete=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],Tte=["padding"];class N0{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}N0.entries={};function wte(t,e){const n=n4(),[r,s]=he.useState(null),[i,o]=vte(),c=_te(r),{id:f,defaultBounds:d,defaultCenter:h,defaultZoom:g,defaultHeading:v,defaultTilt:T,reuseMaps:S}=t,A=bl(t,Ete),C=t.zoom!==void 0||t.defaultZoom!==void 0,k=t.center!==void 0||t.defaultCenter!==void 0;!d&&(!C||!k)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!A.center&&h&&(A.center=h),!A.zoom&&Number.isFinite(g)&&(A.zoom=g),!A.heading&&Number.isFinite(v)&&(A.heading=v),!A.tilt&&Number.isFinite(T)&&(A.tilt=T);for(const D of Object.keys(A))A[D]===void 0&&delete A[D];const V=he.useRef();return he.useEffect(()=>{if(!i||!n)return;const{addMapInstance:D,removeMapInstance:H}=e,G=t.mapId,J=G||"default";let I,N;if(S&&N0.has(J)?(N=N0.pop(J),I=N.getDiv(),i.appendChild(I),N.setOptions(A),setTimeout(()=>N.setCenter(N.getCenter()),0)):(I=document.createElement("div"),I.style.height="100%",i.appendChild(I),N=new google.maps.Map(I,A)),s(N),D(N,f),d){const{padding:b}=d,F=bl(d,Tte);N.fitBounds(F,b)}else(!C||!k)&&N.fitBounds({east:180,west:-180,south:-90,north:90});if(V.current){const{mapId:b,cameraState:F}=V.current;b!==G&&N.setOptions(F)}return()=>{V.current={mapId:G,cameraState:c.current},I.remove(),S?N0.push(J,N):google.maps.event.clearInstanceListeners(N),s(null),H(f)}},[i,n,f,t.mapId]),[r,o,c]}const r4=Rn.createContext(null),s4=t=>{const{children:e,id:n,className:r,style:s}=t,i=he.useContext(Nd),o=e4();if(!i)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[c,f,d]=wte(t,i);mte(c,d,t),ate(c,t),dte(c,t);const h=hte(c,t),g=!!t.controlled;he.useEffect(()=>{if(c)return h&&c.setOptions({disableDefaultUI:!0}),(h||g)&&c.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{c.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[c,h,g,t.gestureHandling,t.keyboardShortcuts]);const v=t.center?t4(t.center):null;let T=null,S=null;v&&Number.isFinite(v.lat)&&Number.isFinite(v.lng)&&(T=v.lat,S=v.lng);const A=he.useMemo(()=>{var V,D,H,G,J;return{center:{lat:(V=T)!=null?V:0,lng:(D=S)!=null?D:0},zoom:(H=t.zoom)!=null?H:0,heading:(G=t.heading)!=null?G:0,tilt:(J=t.tilt)!=null?J:0}},[T,S,t.zoom,t.heading,t.tilt]);he.useLayoutEffect(()=>{if(!c||!g)return;c.moveCamera(A);const V=c.addListener("bounds_changed",()=>{c.moveCamera(A)});return()=>V.remove()},[c,g,A]);const C=he.useMemo(()=>ha({width:"100%",height:"100%",position:"relative",zIndex:h?-1:0},s),[s,h]),k=he.useMemo(()=>({map:c}),[c]);return o===oa.AUTH_FAILURE?Rn.createElement("div",{style:ha({position:"relative"},r?{}:C),className:r},Rn.createElement(gte,null)):Rn.createElement("div",ha({ref:f,"data-testid":"map",style:r?void 0:C,className:r},n?{id:n}:{}),c?Rn.createElement(r4.Provider,{value:k},e):null)};s4.deckGLViewProps=!0;const AC=new Set;function Ste(...t){const e=JSON.stringify(t);AC.has(e)||(AC.add(e),console.error(...t))}const fu=(t=null)=>{const e=he.useContext(Nd),{map:n}=he.useContext(r4)||{};if(e===null)return Ste("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function i4(t){const e=n4(),n=he.useContext(Nd);return he.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),n?.loadedLibraries[t]||null}function a4(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=t.style;if(n==null){if(e==null)return;for(const s in e)e.hasOwnProperty(s)&&CC(r,s,e[s]);return}for(const s in n)n.hasOwnProperty(s)&&(e==null||!e.hasOwnProperty(s))&&(s.indexOf("--")===0?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="");if(e!=null)for(const s in e){const i=e[s];e.hasOwnProperty(s)&&n[s]!==i&&CC(r,s,i)}}function CC(t,e,n){const r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n=="number"&&n!==0&&!Cte(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const Ate=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function Cte(t){return Ate.has(t)}function Pc(t,e,n){he.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function ff(t,e,n){he.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}const bte=Rn.createContext(null);function Nte(t){const[e,n]=he.useState(null),[r,s]=he.useState(null),i=he.useRef(null),o=fu(),c=i4("marker"),{children:f,className:d,style:h,onClick:g,onDrag:v,onDragStart:T,onDragEnd:S,collisionBehavior:A,clickable:C,draggable:k,position:V,title:D,zIndex:H}=t,G=he.Children.count(f);return he.useEffect(()=>{if(!o||!c)return;const J=new c.AdvancedMarkerElement;J.map=o,n(J);let I=null;return G>0&&(I=document.createElement("div"),J.content=I,s(I)),()=>{var N;J.map=null,(N=I)==null||N.remove(),n(null),s(null)}},[o,c,G]),he.useEffect(()=>{!e||!e.content||(e.content.className=d||"")},[e,d]),ff(r,"className",d??""),he.useEffect(()=>{r&&(a4(r,h||null,i.current),i.current=h||null)},[r,d,h]),ff(e,"position",V),ff(e,"title",D??""),ff(e,"zIndex",H),ff(e,"collisionBehavior",A),he.useEffect(()=>{e&&(k!==void 0?e.gmpDraggable=k:v||T||S?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,k,v,S,T]),he.useEffect(()=>{e&&(C!==void 0?e.gmpClickable=C:g?e.gmpClickable=!0:e.gmpClickable=!1)},[e,C,g]),Pc(e,"click",g),Pc(e,"drag",v),Pc(e,"dragstart",T),Pc(e,"dragend",S),[e,r]}he.forwardRef((t,e)=>{const{children:n}=t,[r,s]=Nte(t),i=he.useMemo(()=>r?{marker:r}:null,[r]);return he.useImperativeHandle(e,()=>r,[r]),s?Rn.createElement(bte.Provider,{value:i},Lx.createPortal(n,s)):null});const Ite=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],Rte=t=>{const{children:e,headerContent:n,style:r,className:s,pixelOffset:i,anchor:o,shouldFocus:c,onClose:f,onCloseClick:d}=t,h=bl(t,Ite),g=i4("maps"),[v,T]=he.useState(null),S=he.useRef(null),A=he.useRef(null);he.useEffect(()=>{if(!g)return;S.current=document.createElement("div"),A.current=document.createElement("div");const V=h;i&&(V.pixelOffset=new google.maps.Size(i[0],i[1])),n&&(V.headerContent=typeof n=="string"?n:A.current);const D=new google.maps.InfoWindow(h);return D.setContent(S.current),T(D),()=>{var H,G;D.setContent(null),(H=S.current)==null||H.remove(),(G=A.current)==null||G.remove(),S.current=null,A.current=null,T(null)}},[g]);const C=he.useRef(null);he.useEffect(()=>{!v||!S.current||(a4(S.current,r||null,C.current),C.current=r||null,s!==S.current.className&&(S.current.className=s||""))},[v,s,r]),Qk(()=>{if(!v)return;const V=h;i?V.pixelOffset=new google.maps.Size(i[0],i[1]):V.pixelOffset=null,n?V.headerContent=typeof n=="string"?n:A.current:V.headerContent=null,v.setOptions(h)},[h,i,n]),Pc(v,"close",f),Pc(v,"closeclick",d);const k=fu();return he.useEffect(()=>{if(!k||!v||o===null)return;const V=!!o,D={map:k};return o&&(D.anchor=o),c!==void 0&&(D.shouldFocus=c),v.open(D),()=>{V&&v.set("anchor",null),v.close()}},[v,o,k,c]),Rn.createElement(Rn.Fragment,null,S.current&&Lx.createPortal(e,S.current),A.current!==null&&Lx.createPortal(n,A.current))},kte=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function Dte(t){const[e,n]=he.useState(null),r=fu(),{onClick:s,onDrag:i,onDragStart:o,onDragEnd:c,onMouseOver:f,onMouseOut:d}=t,h=bl(t,kte),{position:g,draggable:v}=h;return he.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const T=new google.maps.Marker(h);return T.setMap(r),n(T),()=>{T.setMap(null),n(null)}},[r]),he.useEffect(()=>{if(!e)return;const T=e,S=google.maps.event;return s&&S.addListener(T,"click",s),i&&S.addListener(T,"drag",i),o&&S.addListener(T,"dragstart",o),c&&S.addListener(T,"dragend",c),f&&S.addListener(T,"mouseover",f),d&&S.addListener(T,"mouseout",d),e.setDraggable(!!v),()=>{S.clearInstanceListeners(T)}},[e,v,s,i,o,c,f,d]),he.useEffect(()=>{e&&h&&e.setOptions(h)},[e,h]),he.useEffect(()=>{v||!g||!e||e.setPosition(g)},[v,g,e]),e}he.forwardRef((t,e)=>{const n=Dte(t);return he.useImperativeHandle(e,()=>n,[n]),Rn.createElement(Rn.Fragment,null)});const bC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Iv=1,df=8;class Ty{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const s=r>>4;if(s!==Iv)throw new Error(`Got v${s} data when expected v${Iv}.`);const i=bC[r&15];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new Ty(c,o,i,e)}constructor(e,n=64,r=Float64Array,s){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=bC.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-c%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${r}.`);s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,df,e),this.coords=new this.ArrayType(this.data,df+c+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(df+o+c+f),this.ids=new this.IndexArrayType(this.data,df,e),this.coords=new this.ArrayType(this.data,df+c+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Iv<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Vx(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:c}=this,f=[0,i.length-1,0],d=[];for(;f.length;){const h=f.pop()||0,g=f.pop()||0,v=f.pop()||0;if(g-v<=c){for(let C=v;C<=g;C++){const k=o[2*C],V=o[2*C+1];k>=e&&k<=r&&V>=n&&V<=s&&d.push(i[C])}continue}const T=v+g>>1,S=o[2*T],A=o[2*T+1];S>=e&&S<=r&&A>=n&&A<=s&&d.push(i[T]),(h===0?e<=S:n<=A)&&(f.push(v),f.push(T-1),f.push(1-h)),(h===0?r>=S:s>=A)&&(f.push(T+1),f.push(g),f.push(1-h))}return d}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:i,nodeSize:o}=this,c=[0,s.length-1,0],f=[],d=r*r;for(;c.length;){const h=c.pop()||0,g=c.pop()||0,v=c.pop()||0;if(g-v<=o){for(let C=v;C<=g;C++)NC(i[2*C],i[2*C+1],e,n)<=d&&f.push(s[C]);continue}const T=v+g>>1,S=i[2*T],A=i[2*T+1];NC(S,A,e,n)<=d&&f.push(s[T]),(h===0?e-r<=S:n-r<=A)&&(c.push(v),c.push(T-1),c.push(1-h)),(h===0?e+r>=S:n+r>=A)&&(c.push(T+1),c.push(g),c.push(1-h))}return f}}function Vx(t,e,n,r,s,i){if(s-r<=n)return;const o=r+s>>1;o4(t,e,o,r,s,i),Vx(t,e,n,r,o-1,1-i),Vx(t,e,n,o+1,s,1-i)}function o4(t,e,n,r,s,i){for(;s>r;){if(s-r>600){const d=s-r+1,h=n-r+1,g=Math.log(d),v=.5*Math.exp(2*g/3),T=.5*Math.sqrt(g*v*(d-v)/d)*(h-d/2<0?-1:1),S=Math.max(r,Math.floor(n-h*v/d+T)),A=Math.min(s,Math.floor(n+(d-h)*v/d+T));o4(t,e,n,S,A,i)}const o=e[2*n+i];let c=r,f=s;for(hf(t,e,r,n),e[2*s+i]>o&&hf(t,e,r,s);c<f;){for(hf(t,e,c,f),c++,f--;e[2*c+i]<o;)c++;for(;e[2*f+i]>o;)f--}e[2*r+i]===o?hf(t,e,r,f):(f++,hf(t,e,f,s)),f<=n&&(r=f+1),n<=f&&(s=f-1)}}function hf(t,e,n,r){Rv(t,n,r),Rv(e,2*n,2*r),Rv(e,2*n+1,2*r+1)}function Rv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function NC(t,e,n,r){const s=t-n,i=e-r;return s*s+i*i}const Mte={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},IC=Math.fround||(t=>(e=>(t[0]=+e,t[0])))(new Float32Array(1)),sl=2,ao=3,kv=4,io=5,l4=6;class Pte{constructor(e){this.options=Object.assign(Object.create(Mte),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");const i=`prepare ${e.length} points`;n&&console.time(i),this.points=e;const o=[];for(let f=0;f<e.length;f++){const d=e[f];if(!d.geometry)continue;const[h,g]=d.geometry.coordinates,v=IC(m0(h)),T=IC(g0(g));o.push(v,T,1/0,f,-1,1),this.options.reduce&&o.push(0)}let c=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(i);for(let f=s;f>=r;f--){const d=+Date.now();c=this.trees[f]=this._createTree(this._cluster(c,f)),n&&console.log("z%d: %d clusters in %dms",f,c.numItems,+Date.now()-d)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[1]));let i=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const g=this.getClusters([r,s,180,o],n),v=this.getClusters([-180,s,i,o],n);return g.concat(v)}const c=this.trees[this._limitZoom(n)],f=c.range(m0(r),g0(o),m0(i),g0(s)),d=c.data,h=[];for(const g of f){const v=this.stride*g;h.push(d[v+io]>1?RC(d,v,this.clusterProps):this.points[d[v+ao]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);const o=i.data;if(n*this.stride>=o.length)throw new Error(s);const c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),f=o[n*this.stride],d=o[n*this.stride+1],h=i.within(f,d,c),g=[];for(const v of h){const T=v*this.stride;o[T+kv]===e&&g.push(o[T+io]>1?RC(o,T,this.clusterProps):this.points[o[T+ao]])}if(g.length===0)throw new Error(s);return g}getLeaves(e,n,r){n=n||10,r=r||0;const s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){const s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:c}=this.options,f=c/o,d=(r-f)/i,h=(r+1+f)/i,g={features:[]};return this._addTileFeatures(s.range((n-f)/i,d,(n+1+f)/i,h),s.data,n,r,i,g),n===0&&this._addTileFeatures(s.range(1-f/i,d,1,h),s.data,i,r,i,g),n===i-1&&this._addTileFeatures(s.range(0,d,f/i,h),s.data,-1,r,i,g),g.features.length?g:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){const o=this.getChildren(n);for(const c of o){const f=c.properties;if(f&&f.cluster?i+f.point_count<=s?i+=f.point_count:i=this._appendLeaves(e,f.cluster_id,r,s,i):i<s?i++:e.push(c),e.length===r)break}return i}_createTree(e){const n=new Ty(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,o){for(const c of e){const f=c*this.stride,d=n[f+io]>1;let h,g,v;if(d)h=c4(n,f,this.clusterProps),g=n[f],v=n[f+1];else{const A=this.points[n[f+ao]];h=A.properties;const[C,k]=A.geometry.coordinates;g=m0(C),v=g0(k)}const T={type:1,geometry:[[Math.round(this.options.extent*(g*i-r)),Math.round(this.options.extent*(v*i-s))]],tags:h};let S;d||this.options.generateId?S=n[f+ao]:S=this.points[n[f+ao]].id,S!==void 0&&(T.id=S),o.features.push(T)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:s,reduce:i,minPoints:o}=this.options,c=r/(s*Math.pow(2,n)),f=e.data,d=[],h=this.stride;for(let g=0;g<f.length;g+=h){if(f[g+sl]<=n)continue;f[g+sl]=n;const v=f[g],T=f[g+1],S=e.within(f[g],f[g+1],c),A=f[g+io];let C=A;for(const k of S){const V=k*h;f[V+sl]>n&&(C+=f[V+io])}if(C>A&&C>=o){let k=v*A,V=T*A,D,H=-1;const G=((g/h|0)<<5)+(n+1)+this.points.length;for(const J of S){const I=J*h;if(f[I+sl]<=n)continue;f[I+sl]=n;const N=f[I+io];k+=f[I]*N,V+=f[I+1]*N,f[I+kv]=G,i&&(D||(D=this._map(f,g,!0),H=this.clusterProps.length,this.clusterProps.push(D)),i(D,this._map(f,I)))}f[g+kv]=G,d.push(k/C,V/C,1/0,G,-1,C),i&&d.push(H)}else{for(let k=0;k<h;k++)d.push(f[g+k]);if(C>1)for(const k of S){const V=k*h;if(!(f[V+sl]<=n)){f[V+sl]=n;for(let D=0;D<h;D++)d.push(f[V+D])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+io]>1){const o=this.clusterProps[e[n+l4]];return r?Object.assign({},o):o}const s=this.points[e[n+ao]].properties,i=this.options.map(s);return r&&i===s?Object.assign({},i):i}}function RC(t,e,n){return{type:"Feature",id:t[e+ao],properties:c4(t,e,n),geometry:{type:"Point",coordinates:[Fte(t[e]),Ote(t[e+1])]}}}function c4(t,e,n){const r=t[e+io],s=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,i=t[e+l4],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:t[e+ao],point_count:r,point_count_abbreviated:s})}function m0(t){return t/360+.5}function g0(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Fte(t){return(t-.5)*360}function Ote(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function Lte(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class ws{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Bx{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(ws.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>ws.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(ws.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Ute{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Vte(e)}}const Vte=t=>t.map(n=>new Bx({position:ws.getPosition(n),markers:[n]}));class Bte extends Ute{constructor(e){var{maxZoom:n,radius:r=60}=e,s=Lte(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Pte(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!Ux(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const s=this.markers.map(i=>{const o=ws.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Ux(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Bx({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:n,lng:e}});const s=r.marker;return new Bx({markers:[s],position:ws.getPosition(s)})}}class zte{constructor(e,n){this.markers={sum:e.length};const r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class Hte{render({count:e,position:n},r,s){const o=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,c=`Cluster of ${e} markers`,f=Number(google.maps.Marker.MAX_ZINDEX)+e;if(ws.isAdvancedMarkerAvailable(s)){const g=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");const v={map:s,position:n,zIndex:f,title:c,content:g};return new google.maps.marker.AdvancedMarkerElement(v)}const d={position:n,zIndex:f,title:c,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}function Gte(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class wy{constructor(){Gte(wy,google.maps.OverlayView)}}var zf;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(zf||(zf={}));const jte=(t,e,n)=>{n.fitBounds(e.bounds)};class qte extends wy{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:s=new Bte(r),renderer:i=new Hte,onClusterClick:o=jte}){super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=i,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(ws.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,zf.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const s=new Set;for(const o of n)o.markers.length==1&&s.add(o.markers[0]);const i=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?s.has(o.marker)||ws.setMap(o.marker,null):i.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>i.forEach(o=>ws.setMap(o,null)))}google.maps.event.trigger(this,zf.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>ws.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new zte(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>ws.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,zf.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),ws.setMap(r.marker,n)})}}const $te=({clients:t})=>{const e=fu(),n=he.useRef(0);return he.useEffect(()=>{if(!e||!window.google||t.length===0)return;if(Math.abs(t.length-n.current)>0){const s=new google.maps.LatLngBounds;let i=!1;if(t.forEach(o=>{o.lat&&o.lng&&(s.extend({lat:o.lat,lng:o.lng}),i=!0)}),i){e.fitBounds(s);const o=google.maps.event.addListenerOnce(e,"idle",()=>{e.getZoom()>16&&e.setZoom(16)});return n.current=t.length,()=>google.maps.event.removeListener(o)}}},[e,t]),null},Kte=()=>{const t=fu();return t?_.jsxs("div",{className:"absolute bottom-6 right-4 flex flex-col gap-2 z-10 shadow-lg bg-transparent",children:[_.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)+1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom In",children:_.jsx(Jx,{className:"w-5 h-5"})}),_.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)-1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom Out",children:_.jsx(ZD,{className:"w-5 h-5"})})]}):null},Yte=t=>{switch(t){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},kC=t=>{let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);const n=(e&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n},Jte=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,Wte=({clients:t,onClientSelect:e,productFilterActive:n,users:r,isClusteringEnabled:s})=>{const i=fu(),o=he.useRef(null),c=he.useRef([]),f=he.useMemo(()=>{const h=document.createElement("div");return h.innerHTML=Jte,h.style.display="flex",h.style.alignItems="center",h.style.justifyContent="center",h},[]),d=he.useMemo(()=>{const h=new Map;return r&&r.forEach(g=>{let v={bg:"#6B7280",border:"#374151",glyph:"#fff"};g.color?v={bg:g.color,border:"black",glyph:"#fff"}:v={bg:kC(g.id+g.name),border:"black",glyph:"#fff"},h.set(g.id,v)}),h},[r]);return he.useEffect(()=>{if(!i)return;if(!google.maps.marker){console.warn("Google Maps Marker library not loaded. Likely an invalid API Key.");return}o.current&&(o.current.clearMarkers(),o.current.setMap(null)),c.current.forEach(S=>{S.map=null,google.maps.event.clearInstanceListeners(S)}),c.current=[],s?o.current=new qte({map:i,markers:[]}):o.current=null;let h=!0,g=0;const v=200,T=()=>{if(!h||!google.maps.marker)return;const S=t.slice(g,g+v);if(S.length===0)return;const A=S.filter(C=>{const k=Number(C.lat),V=Number(C.lng);return!isNaN(k)&&!isNaN(V)&&k!==0&&V!==0}).map(C=>{let k={bg:"#6B7280",border:"#374151",glyph:"#fff"};if(n)k={bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};else{const J=d.get(C.salespersonId);J?k=J:C.ownerName?k={bg:kC(C.ownerName),border:"black",glyph:"#fff"}:k=Yte(C.region)}let V=null;n&&(V=f.cloneNode(!0),V.style.color=k.glyph);const D={background:k.bg,borderColor:k.border,glyphColor:k.glyph,scale:1};V&&(D.glyph=V);const H=new google.maps.marker.PinElement(D),G=new google.maps.marker.AdvancedMarkerElement({position:{lat:C.lat,lng:C.lng},content:H.element,map:s?null:i,title:C.companyName});return G.addListener("click",()=>{e(C.id)}),G});h&&(s&&o.current&&o.current.addMarkers(A),c.current.push(...A)),g+=v,g<t.length&&requestAnimationFrame(T)};return T(),()=>{h=!1,o.current&&(o.current.clearMarkers(),o.current.setMap(null)),c.current.forEach(S=>{S.map=null})}},[i,t,n,e,f,d,s]),_.jsx($te,{clients:t})},Zte=({clients:t,apiKey:e,onInvalidKey:n,productFilterActive:r,highlightProductTerm:s,activeProductCategory:i,users:o,filterContent:c})=>{const f={lat:-14.235,lng:-51.9253},[d,h]=he.useState(null),[g,v]=he.useState(!1),[T,S]=he.useState(!1),[A,C]=he.useState(!0),k=t.find(G=>G.id===d);he.useEffect(()=>(e&&v(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),v(!0)},()=>{window.gm_authFailure=()=>{};const G=document.getElementsByTagName("script");for(let J=G.length-1;J>=0;J--){const I=G[J];I.src&&I.src.includes("maps.googleapis.com/maps/api/js")&&I.parentNode?.removeChild(I)}}),[e]);const V=he.useMemo(()=>{if(!k?.purchasedProducts)return[];const G=!!s,J=i&&i!=="Todos";if(!G&&!J)return k.purchasedProducts;const I=s?s.toLowerCase():"",N=i||"";return[...k.purchasedProducts].sort((b,F)=>{let O=0,M=0;return J&&b.category===N&&(O+=2),J&&F.category===N&&(M+=2),G&&((b.name.toLowerCase().includes(I)||b.sku.toLowerCase().includes(I)||b.brand.toLowerCase().includes(I)||b.factoryCode.toLowerCase().includes(I))&&(O+=1),(F.name.toLowerCase().includes(I)||F.sku.toLowerCase().includes(I)||F.brand.toLowerCase().includes(I)||F.factoryCode.toLowerCase().includes(I))&&(M+=1)),M-O})},[k,s,i]),D=()=>{S(!T)};if(!e)return _.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:_.jsx(ev,{className:"w-8 h-8"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),_.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[_.jsx(ev,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(g)return _.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:_.jsx(pa,{className:"w-8 h-8"})}),_.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),_.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),_.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[_.jsx(ev,{className:"w-4 h-4"})," Trocar API Key"]})]});const H=T?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-lg overflow-hidden shadow-sm border border-gray-200 relative z-0";return _.jsx("div",{className:H,children:_.jsx(ite,{apiKey:e,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:_.jsxs(s4,{defaultCenter:f,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[_.jsx(Wte,{clients:t,onClientSelect:h,productFilterActive:r,users:o,isClusteringEnabled:A}),_.jsx(Kte,{}),T&&c&&_.jsxs("div",{className:"absolute top-0 left-0 right-0 z-30 bg-white/95 backdrop-blur-sm shadow-md border-b border-gray-200",children:[c,_.jsxs("div",{className:"flex justify-end gap-2 px-3 py-1.5 border-t border-gray-100 bg-gray-50/80",children:[_.jsx("button",{onClick:()=>C(!A),className:`p-1.5 px-3 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${A?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:A?"Desativar Agrupamento":"Ativar Agrupamento",children:A?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex -space-x-1",children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):_.jsxs(_.Fragment,{children:[_.jsx(la,{className:"w-3 h-3"}),"Solto"]})}),_.jsxs("button",{onClick:D,className:"bg-white p-1.5 px-3 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold",title:"Sair da Tela Cheia",children:[_.jsx(s2,{className:"w-4 h-4"}),"Sair"]})]})]}),!T&&_.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[_.jsx("button",{onClick:()=>C(!A),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${A?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:A?"Desativar Agrupamento":"Ativar Agrupamento",children:A?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex -space-x-1",children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):_.jsxs(_.Fragment,{children:[_.jsx(la,{className:"w-3 h-3"}),"Solto"]})}),_.jsx("button",{onClick:D,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Tela Cheia",children:_.jsx($D,{className:"w-5 h-5"})})]}),T&&!c&&_.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[_.jsx("button",{onClick:()=>C(!A),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${A?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:A?"Desativar Agrupamento":"Ativar Agrupamento",children:A?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex -space-x-1",children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):_.jsxs(_.Fragment,{children:[_.jsx(la,{className:"w-3 h-3"}),"Solto"]})}),_.jsx("button",{onClick:D,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Sair da Tela Cheia",children:_.jsx(s2,{className:"w-5 h-5"})})]}),k&&_.jsx(Rte,{position:{lat:k.lat,lng:k.lng},onCloseClick:()=>h(null),headerContent:_.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[_.jsx(Hf,{className:"w-4 h-4 text-blue-600"}),k.companyName]}),children:_.jsx("div",{className:"min-w-[200px] max-w-[280px] p-1",children:_.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[_.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[_.jsx(Yx,{className:"w-3 h-3"}),k.city," - ",k.state," (",k.region,")"]}),_.jsxs("p",{className:"flex items-center gap-2",children:[_.jsx(us,{className:"w-3 h-3 text-gray-400"}),_.jsx("span",{className:"font-medium text-gray-700",children:k.ownerName||"No informado"})]}),_.jsxs("p",{className:"flex items-center gap-2",children:[_.jsx(rM,{className:"w-3 h-3 text-gray-400"}),_.jsx("span",{className:"font-medium text-gray-700",children:k.contact||"Sem contato"})]}),k.purchasedProducts&&k.purchasedProducts.length>0&&_.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-1 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit",children:[_.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[_.jsx("span",{className:"font-bold text-gray-800",children:k.purchasedProducts.length})," Prod."]}),_.jsx("div",{className:"h-3 w-px bg-gray-300"}),_.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[_.jsx("span",{className:"font-bold text-gray-800",children:new Set(k.purchasedProducts.map(G=>G.sku)).size})," SKUs"]})]}),_.jsxs("p",{className:"flex items-start gap-2",children:[_.jsx(la,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),_.jsx("span",{className:"leading-tight",children:k.cleanAddress})]}),r&&V.length>0&&_.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[_.jsxs("p",{className:"text-[10px] uppercase font-bold text-rose-600 mb-1 flex items-center gap-1",children:[_.jsx(lo,{className:"w-3 h-3"}),"Produtos Vendidos (Filtro)"]}),_.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1 pr-1 custom-scrollbar",children:[V.slice(0,3).map((G,J)=>{const I=s?.toLowerCase()||"",N=I&&(G.name.toLowerCase().includes(I)||G.sku.toLowerCase().includes(I)||G.brand.toLowerCase().includes(I)||G.factoryCode.toLowerCase().includes(I));return _.jsxs("div",{className:`${N?"bg-rose-100 border-rose-300":"bg-rose-50 border-rose-100"} p-1.5 rounded border flex justify-between items-center transition-colors`,children:[_.jsxs("div",{className:"flex flex-col overflow-hidden max-w-[120px]",children:[_.jsx("span",{className:`truncate font-medium ${N?"text-rose-950 font-bold":"text-rose-900"}`,title:G.name,children:G.name}),_.jsxs("span",{className:"text-[9px] text-gray-500 truncate",children:[G.sku,"  ",G.brand]})]}),_.jsx("span",{className:"text-rose-700 font-bold",children:G.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},J)}),V.length>3&&_.jsxs("p",{className:"text-[10px] text-center text-gray-400 italic",children:["e mais ",V.length-3," itens..."]})]})]}),_.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[_.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[_.jsx(Wx,{className:"w-3 h-3 mr-1"}),k.category.join(", ")]}),_.jsx("a",{href:k.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${k.lat},${k.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},Xte=({client:t,isOpen:e,onClose:n,onSave:r,users:s=[],uploadedFiles:i=[]})=>{const[o,c]=he.useState(()=>({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]}));if(Rn.useEffect(()=>{c({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]})},[t]),!e)return null;const f=s.find(A=>A.id===t.salespersonId),d=f?.name||"No atribudo",h=f?.role==="sales_internal"?"Interno":f?.role==="sales_external"||f?.role==="salesperson"?"Externo":f?.role?"Equipe":"",g=f?.salesCategory||"",v=i.find(A=>A.id===t.sourceFileId),T=A=>{A.preventDefault(),r(o),n()},S=A=>{const{name:C,value:k}=A.target;c(V=>{const D={[C]:k};return C==="state"&&(D.region=Zx(k)),{...V,...D}})};return _.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(Hf,{className:"w-5 h-5 text-primary"}),_.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),_.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),_.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:t.id})]}),_.jsx("button",{onClick:n,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar modal",children:_.jsx(ma,{className:"w-6 h-6"})})]}),_.jsxs("div",{className:"mx-6 mb-2 flex flex-wrap items-center gap-3 px-4 py-2.5 bg-purple-50 border border-purple-200 rounded-xl",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(us,{className:"w-4 h-4 text-purple-600"}),_.jsx("span",{className:"text-xs font-bold text-purple-800",children:"Vendedor Responsvel:"}),_.jsx("span",{className:"text-sm font-semibold text-purple-900",children:d})]}),h&&_.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full ${h==="Interno"?"bg-blue-100 text-blue-700":h==="Externo"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:h}),g&&g!=="N/A"&&_.jsxs("span",{className:"text-[10px] font-medium uppercase tracking-wider px-2 py-0.5 rounded-full bg-purple-100 text-purple-700",children:[_.jsx(U0,{className:"w-3 h-3 inline mr-1"}),g]}),v&&_.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[_.jsx(Pv,{className:"w-3.5 h-3.5 text-gray-500"}),_.jsxs("span",{className:"text-[10px] text-gray-600 font-medium",children:["Origem: ",_.jsx("span",{className:"font-bold",children:v.fileName})]})]})]}),_.jsxs("form",{onSubmit:T,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),_.jsx("input",{type:"text",name:"companyName",value:o.companyName,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Razo Social",placeholder:"Razo Social"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),_.jsx("input",{type:"text",name:"ownerName",value:o.ownerName,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Responsvel / Proprietrio",placeholder:"Responsvel / Proprietrio"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Contato"}),_.jsx("input",{type:"text",name:"contact",value:o.contact,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Contato (Telefone/WhatsApp)",placeholder:"Contato (Telefone/WhatsApp)"})]}),_.jsxs("div",{className:"md:col-span-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),_.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:jf.filter(A=>A!=="Todos").map(A=>{const C=o.category.includes(A);return _.jsx("button",{type:"button",onClick:()=>{c(k=>{const V=k.category||[];return V.includes(A)?V.length===1?k:{...k,category:V.filter(D=>D!==A)}:{...k,category:[...V,A]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${C?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,title:`Selecionar/desselecionar segmento: ${A}`,children:A},A)})})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{name:"region",value:o.region,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",title:"Regio",children:[_.jsx("option",{value:"Indefinido",children:"Indefinido"}),Gf.map(A=>_.jsx("option",{value:A,children:A},A))]}),_.jsx(Yx,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Municpio"}),_.jsx("input",{type:"text",name:"city",value:o.city,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Municpio",placeholder:"Municpio"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"UF"}),_.jsx("input",{type:"text",name:"state",maxLength:2,value:o.state,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all uppercase",title:"UF",placeholder:"UF"})]})]}),_.jsxs("div",{className:"space-y-1 pt-2",children:[_.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),_.jsx("input",{type:"text",name:"cleanAddress",value:o.cleanAddress,onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Endereo Limpo"})]}),_.jsxs("div",{className:"space-y-1 pt-2",children:[_.jsxs("label",{className:"text-xs font-medium text-on-surface-variant ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",_.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),_.jsx("input",{type:"text",name:"plusCode",value:o.plusCode||"",onChange:S,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),_.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso nos pinos."})]})]}),_.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[_.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),_.jsxs("button",{type:"submit",onClick:T,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[_.jsx(gd,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},Qte=({isOpen:t,onClose:e,onAdd:n,salespersonId:r,ownerName:s,users:i=[]})=>{const[o,c]=he.useState(r),[f,d]=he.useState({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:"",plusCode:""}),[h,g]=he.useState(""),[v,T]=he.useState(!1);if(he.useEffect(()=>{t&&(d({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:"",plusCode:""}),c(r),g(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async k=>{},k=>{console.warn("Location access denied or error:",k)}))},[t]),!t)return null;const S=(k,V)=>{d(D=>{const H={[k]:V};return k==="state"&&(H.region=Zx(V)),{...D,...H}}),h&&g("")},A=k=>{d(V=>{const D=V.category;return D.includes(k)?D.length===1?V:{...V,category:D.filter(H=>H!==k)}:{...V,category:[...D,k]}})},C=k=>{if(k.preventDefault(),!f.companyName||!f.originalAddress||!f.city||!f.state||!f.contact){g("Por favor, preencha todos os campos obrigatrios (*).");return}T(!0);const V=`${f.originalAddress}, ${f.city} - ${f.state}`;n({companyName:f.companyName,ownerName:f.ownerName||"No Informado",contact:f.contact,category:f.category,region:f.region,state:f.state,city:f.city,originalAddress:V,cleanAddress:V,plusCode:f.plusCode,salespersonId:o,googleMapsUri:""}),T(!1),e()};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(Hf,{className:"w-5 h-5 text-primary"}),_.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),_.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),_.jsx("button",{onClick:e,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:_.jsx(ma,{className:"w-6 h-6"})})]}),_.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:_.jsxs("form",{id:"add-client-form",onSubmit:C,className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),_.jsx("input",{type:"text",required:!0,value:f.companyName,onChange:k=>S("companyName",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),_.jsx("input",{type:"text",value:f.ownerName,onChange:k=>S("ownerName",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),i.length>0&&_.jsxs("div",{children:[_.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:[_.jsx(us,{className:"w-3 h-3 inline mr-1"}),"Vendedor Responsvel"]}),_.jsx("select",{value:o,onChange:k=>c(k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Vendedor Responsvel",children:i.filter(k=>k.role==="salesperson"||k.role==="sales_external"||k.role==="sales_internal").map(k=>_.jsxs("option",{value:k.id,children:[k.name,k.salesCategory?` (${k.salesCategory})`:""]},k.id))})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),_.jsx("input",{type:"text",required:!0,value:f.contact,onChange:k=>S("contact",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000",title:"Contato"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),_.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:jf.filter(k=>k!=="Todos").map(k=>{const V=f.category.includes(k);return _.jsx("button",{type:"button",onClick:()=>A(k),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${V?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:k},k)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{value:f.region,onChange:k=>S("region",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Regio",children:Gf.map(k=>_.jsx("option",{value:k,children:k},k))}),_.jsx(Yx,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),_.jsx("input",{type:"text",required:!0,value:f.city,onChange:k=>S("city",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{required:!0,value:f.state,onChange:k=>S("state",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"UF",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(k=>_.jsx("option",{value:k,children:k},k))}),_.jsx(la,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),_.jsx("textarea",{rows:2,required:!0,value:f.originalAddress,onChange:k=>S("originalAddress",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors resize-none",placeholder:"Rua, Nmero, Bairro, CEP...",title:"Endereo Completo"}),_.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",_.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),_.jsx("input",{type:"text",value:f.plusCode,onChange:k=>S("plusCode",k.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),_.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso."})]}),_.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:_.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[_.jsx(la,{className:"w-4 h-4 shrink-0"}),_.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})}),h&&_.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[_.jsx(pa,{className:"w-5 h-5"}),h]})]})}),_.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[_.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),_.jsx("button",{type:"submit",disabled:v,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:v?"Salvando...":_.jsxs(_.Fragment,{children:[_.jsx(gd,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},ene=({isOpen:t,onClose:e,client:n,products:r,onSave:s,productCategories:i})=>{const[o,c]=he.useState(""),[f,d]=he.useState("Todos"),[h,g]=he.useState([]);Rn.useEffect(()=>{n&&n.purchasedProducts?g(n.purchasedProducts.map(A=>A.sku)):g([])},[n]);const v=he.useMemo(()=>r.filter(A=>{const C=A.name.toLowerCase().includes(o.toLowerCase())||A.sku.toLowerCase().includes(o.toLowerCase())||A.brand.toLowerCase().includes(o.toLowerCase()),k=f==="Todos"||A.category===f;return C&&k}),[r,o,f]),T=A=>{g(C=>C.includes(A)?C.filter(k=>k!==A):[...C,A])},S=()=>{if(!n)return;const A=r.filter(C=>h.includes(C.sku));s(n.id,A),e()};return!t||!n?null:_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",children:[_.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[_.jsx(lo,{className:"w-5 h-5 text-blue-600"}),"Atribuir Produtos"]}),_.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",_.jsx("span",{className:"font-semibold text-gray-700",children:n.companyName})]})]}),_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:_.jsx(ma,{className:"w-5 h-5 text-gray-500"})})]}),_.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-3 bg-white z-10",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsx("input",{type:"text",placeholder:"Buscar por nome, SKU, marca...",value:o,onChange:A=>c(A.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),_.jsxs("select",{value:f,onChange:A=>d(A.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[_.jsx("option",{value:"Todos",children:"Todas Categorias"}),i.map(A=>_.jsx("option",{value:A,children:A},A))]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:v.length===0?_.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:_.jsx("p",{children:"Nenhum produto encontrado."})}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:v.map(A=>{const C=h.includes(A.sku);return _.jsx("div",{onClick:()=>T(A.sku),className:`
                      relative p-3 rounded-xl border cursor-pointer transition-all duration-200 group
                      ${C?"bg-blue-50 border-blue-500 shadow-sm":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}
                    `,children:_.jsxs("div",{className:"flex justify-between items-start gap-2",children:[_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:`text-sm font-medium truncate ${C?"text-blue-800":"text-gray-800"}`,children:A.name}),_.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["SKU: ",A.sku,"  ",A.brand]}),_.jsx("p",{className:"text-xs font-bold text-gray-700 mt-1",children:A.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),_.jsx("div",{className:`
                        w-5 h-5 rounded-full border flex items-center justify-center transition-colors
                        ${C?"bg-blue-500 border-blue-500":"border-gray-300 group-hover:border-blue-400"}
                      `,children:C&&_.jsx(hl,{className:"w-3.5 h-3.5 text-white"})})]})},A.sku)})})}),_.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex justify-between items-center",children:[_.jsxs("div",{className:"text-sm text-gray-600",children:[_.jsx("span",{className:"font-bold text-blue-600",children:h.length})," produtos selecionados"]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),_.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition-transform active:scale-95",children:[_.jsx(gd,{className:"w-4 h-4"}),"Salvar Atribuio"]})]})]})]})})},tne=({clients:t,onUpdateClient:e,onAddClient:n,currentUserRole:r,currentUserId:s,currentUserName:i,products:o=[],productCategories:c=[],users:f=[],uploadedFiles:d=[],onGeneratePlusCodes:h})=>{const[g,v]=he.useState(""),[T,S]=he.useState("Todos"),[A,C]=he.useState("Todos"),[k,V]=he.useState(null),[D,H]=he.useState(!1),[G,J]=he.useState(!1),[I,N]=he.useState(!1),[b,F]=he.useState(null),O=he.useMemo(()=>t.filter(ee=>{const ie=ee.companyName.toLowerCase().includes(g.toLowerCase())||ee.ownerName.toLowerCase().includes(g.toLowerCase()),Re=T==="Todos"||ee.region===T,X=A==="Todos"||Array.isArray(ee.category)&&ee.category.some(z=>z.trim()===A.trim());return ie&&Re&&X}),[t,g,T,A]),M=()=>{const ee=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","Produtos Comprados","Link Maps"],ie=O.map(te=>[te.id,te.companyName,te.ownerName,te.contact,te.cleanAddress,te.city,te.state,te.region,te.category.join("; "),te.purchasedProducts?te.purchasedProducts.map(de=>de.sku).join("; "):"",te.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${te.lat},${te.lng}`]),Re=te=>{if(te==null)return"";const de=String(te);return de.includes('"')||de.includes(",")||de.includes(`
`)?`"${de.replace(/"/g,'""')}"`:de},X=[ee.join(","),...ie.map(te=>te.map(Re).join(","))].join(`
`),z=new Blob([`\uFEFF${X}`],{type:"text/csv;charset=utf-8;"}),Q=URL.createObjectURL(z),ne=document.createElement("a");ne.setAttribute("href",Q),ne.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ne),ne.click(),document.body.removeChild(ne)},B=ee=>{V(ee),H(!0)},fe=ee=>{F(ee),N(!0)},pe=(ee,ie)=>{const Re=t.find(X=>X.id===ee);if(Re){const X={...Re,purchasedProducts:ie};e(X)}},ae=({client:ee,style:ie})=>_.jsx("div",{style:ie,className:"p-1",children:_.jsxs("div",{className:"h-full bg-surface-container-low border border-outline-variant/30 rounded-lg p-3 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden flex flex-col",children:[_.jsx("div",{className:"absolute top-0 right-0 p-0",children:_.jsx("span",{className:`px-3 py-1 rounded-bl-lg text-[10px] font-bold uppercase tracking-wider
                        ${ee.region==="Nordeste"?"bg-orange-100 text-orange-800":ee.region==="Sudeste"?"bg-blue-100 text-blue-800":ee.region==="Sul"?"bg-purple-100 text-purple-800":ee.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:ee.region})}),_.jsxs("div",{className:"flex items-start gap-4 pr-12 mb-2",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:ee.companyName.charAt(0).toUpperCase()}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",title:ee.companyName,children:ee.companyName}),_.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant mt-0.5",children:[_.jsx(Wx,{className:"w-3 h-3"}),_.jsx("span",{className:"truncate",children:ee.category.join(", ")})]}),ee.purchasedProducts&&ee.purchasedProducts.length>0&&_.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-md border border-gray-100 w-fit",children:[_.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[" ",_.jsx("span",{className:"font-bold text-gray-800",children:ee.purchasedProducts.length})," Prod."]}),_.jsx("div",{className:"h-3 w-px bg-gray-300"}),_.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[" ",_.jsx("span",{className:"font-bold text-gray-800",children:new Set(ee.purchasedProducts.map(Re=>Re.sku)).size})," SKUs"]})]}),ee.purchasedProducts&&ee.purchasedProducts.length>0&&_.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[ee.purchasedProducts.slice(0,2).map((Re,X)=>_.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:Re.name,children:Re.sku},X)),ee.purchasedProducts.length>2&&_.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",ee.purchasedProducts.length-2]})]})]})]}),_.jsxs("div",{className:"space-y-2 flex-grow",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[_.jsx(Hf,{className:"w-4 h-4 shrink-0"}),_.jsx("span",{className:"truncate",children:ee.ownerName})]}),_.jsxs("div",{className:"flex items-start gap-2 text-sm text-on-surface-variant group/link",children:[_.jsx(la,{className:"w-4 h-4 shrink-0 mt-0.5"}),_.jsx("span",{className:"line-clamp-2",children:ee.cleanAddress})]})]}),_.jsxs("div",{className:"mt-4 pt-3 border-t border-outline-variant/30 flex items-center justify-between",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>fe(ee),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Atribuir Produtos",children:_.jsx(lo,{className:"w-4 h-4"})}),_.jsx("a",{title:`Abrir localizao de ${ee.companyName} no Google Maps`,href:ee.googleMapsUri||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(ee.companyName+" "+ee.cleanAddress)}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",onClick:Re=>Re.stopPropagation(),children:_.jsx(n2,{className:"w-4 h-4"})})]}),_.jsxs("button",{onClick:()=>B(ee),className:"flex items-center gap-1.5 text-xs font-bold text-primary hover:text-primary/80 transition-colors px-3 py-1.5 rounded-lg active:bg-surface-container-highest",title:`Editar cliente ${ee.companyName}`,children:[_.jsx(eM,{className:"w-3 h-3"})," Editar"]})]})]})}),ce=({client:ee})=>_.jsxs("div",{className:"p-4 border-b border-gray-100 last:border-0 bg-white",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-gray-900",children:ee.companyName}),_.jsx("p",{className:"text-xs text-gray-500",children:ee.category.join(", ")}),ee.purchasedProducts&&ee.purchasedProducts.length>0&&_.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[ee.purchasedProducts.slice(0,3).map((ie,Re)=>_.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:ie.name,children:ie.sku},Re)),ee.purchasedProducts.length>3&&_.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",ee.purchasedProducts.length-3]})]})]}),_.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase
              ${ee.region==="Nordeste"?"bg-orange-100 text-orange-800":ee.region==="Sudeste"?"bg-blue-100 text-blue-800":ee.region==="Sul"?"bg-purple-100 text-purple-800":ee.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
           `,children:ee.region})]}),_.jsxs("div",{className:"space-y-1 mb-3",children:[_.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[_.jsx(Hf,{className:"w-4 h-4 text-gray-400"})," ",ee.ownerName]}),_.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[_.jsx(la,{className:"w-4 h-4 text-gray-400"})," ",_.jsx("span",{className:"truncate",children:ee.cleanAddress})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>B(ee),className:"flex-1 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg text-center",title:`Editar cliente ${ee.companyName}`,children:"Editar"}),_.jsxs("button",{onClick:()=>fe(ee),className:"flex-1 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg text-center flex items-center justify-center gap-1",title:"Atribuir Produtos",children:[_.jsx(lo,{className:"w-4 h-4"})," Produtos"]}),_.jsx("a",{href:ee.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${ee.lat},${ee.lng}`,target:"_blank",className:"flex-none p-2 text-gray-600 bg-gray-100 rounded-lg flex items-center justify-center",title:"Ver rota no Google Maps",children:_.jsx(n2,{className:"w-5 h-5"})})]})]});return _.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[_.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-200 flex flex-col md:flex-row gap-3 items-center justify-between bg-white z-10 sticky top-0 md:relative shadow-sm md:shadow-none",children:[_.jsxs("div",{className:"relative w-full md:max-w-xs group",children:[_.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-primary transition-colors"}),_.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",className:"w-full pl-10 pr-4 py-1.5 bg-surface-container-highest border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all placeholder:text-on-surface-variant/50",value:g,onChange:ee=>v(ee.target.value),title:"Buscar por razo social ou proprietrio"})]}),_.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:[_.jsxs("select",{value:T,onChange:ee=>S(ee.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Regio",children:[_.jsx("option",{value:"Todos",children:"Todas Regies"}),Gf.map(ee=>_.jsx("option",{value:ee,children:ee},ee))]}),_.jsxs("select",{value:A,onChange:ee=>C(ee.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Categoria",children:[_.jsx("option",{value:"Todos",children:"Todos Segmentos"}),jf.filter(ee=>ee!=="Todos").map(ee=>_.jsx("option",{value:ee,children:ee},ee))]}),_.jsxs("div",{className:"md:ml-auto flex items-center gap-2 pl-2 border-l border-gray-200",children:[r&&Cf(r)&&n&&_.jsxs("button",{onClick:()=>J(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95 whitespace-nowrap",children:[_.jsx(Jx,{className:"w-4 h-4"})," Novo"]}),_.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-outline-variant/30 text-on-surface hover:bg-surface-container-highest rounded-lg text-xs font-bold transition-colors shadow-sm whitespace-nowrap",children:[_.jsx(CD,{className:"w-4 h-4"})," Exportar"]}),h&&r&&il(r)&&_.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-1.5 bg-tertiary text-white text-xs font-bold rounded-lg hover:bg-tertiary/90 transition-all shadow-md shadow-tertiary/20 active:scale-95 whitespace-nowrap",title:"Gerar Plus Codes para clientes sem localizao exata",children:[_.jsx(la,{className:"w-4 h-4"})," Plus Code"]})]})]})]}),_.jsxs("div",{className:"px-3 py-1.5 bg-gray-50 border-b border-gray-200 text-xs text-gray-500",children:["Exibindo ",O.length," de ",t.length," clientes"]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar bg-gray-50",children:[_.jsx("div",{className:"md:hidden flex flex-col gap-0 bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:O.map(ee=>_.jsx(ce,{client:ee},ee.id))}),_.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2",children:O.map(ee=>_.jsx(ae,{client:ee,style:{}},ee.id))}),O.length===0&&_.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[_.jsx(jC,{className:"w-12 h-12 mb-2 opacity-20"}),_.jsx("p",{className:"text-lg font-medium",children:"Nenhum cliente encontrado"}),_.jsx("p",{className:"text-sm",children:"Tente ajustar seus filtros de busca"})]})]}),k&&D&&_.jsx(Xte,{isOpen:D,onClose:()=>H(!1),client:k,onSave:ee=>{e(ee),H(!1)},users:f,uploadedFiles:d}),G&&n&&_.jsx(Qte,{isOpen:G,onClose:()=>J(!1),onAdd:ee=>{n(ee),J(!1)},salespersonId:s||"",ownerName:i||"",users:f}),_.jsx(ene,{isOpen:I,onClose:()=>N(!1),client:b,products:o,productCategories:c,onSave:pe})]})},nne="modulepreload",rne=function(t){return"/Rota-de-Vendas/"+t},DC={},zx=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");s=d(n.map(h=>{if(h=rne(h),h in DC)return;DC[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":nne,g||(T.as="script"),T.crossOrigin="",T.href=h,f&&T.setAttribute("nonce",f),document.head.appendChild(T),g)return new Promise((S,A)=>{T.addEventListener("load",S),T.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return s.then(c=>{for(const f of c||[])f.status==="rejected"&&i(f.reason);return e().catch(i)})};var Hx=function(){return Hx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Hx.apply(this,arguments)},Gx,sne=function(t){var e;t?(function(n){if(n)for(;n.lastChild;)n.lastChild.remove()})(typeof t=="string"?document.getElementById(t):t):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},ine=function(t,e){sne(e),window.___grecaptcha_cfg=void 0;var n=document.querySelector("#"+t);n&&n.remove(),(function(){var r=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');r&&r.remove()})()},ane=function(t){var e=t.render,n=t.onLoadCallbackName,r=t.language,s=t.onLoad,i=t.useRecaptchaNet,o=t.useEnterprise,c=t.scriptProps,f=c===void 0?{}:c,d=f.nonce,h=d===void 0?"":d,g=f.defer,v=g!==void 0&&g,T=f.async,S=T!==void 0&&T,A=f.id,C=A===void 0?"":A,k=f.appendTo,V=C||"google-recaptcha-v3";if((function(G){return!!document.querySelector("#"+G)})(V))s();else{var D=(function(G){return"https://www."+(G.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(G.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:o,useRecaptchaNet:i}),H=document.createElement("script");H.id=V,H.src=D+"?render="+e+(e==="explicit"?"&onload="+n:"")+(r?"&hl="+r:""),h&&(H.nonce=h),H.defer=!!v,H.async=!!S,H.onload=s,(k==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(H)}},MC=function(t){console.warn(t)};(function(t){t.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Gx||(Gx={}));var Sy=he.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});Sy.Consumer;function PC(t){var e=t.reCaptchaKey,n=t.useEnterprise,r=n!==void 0&&n,s=t.useRecaptchaNet,i=s!==void 0&&s,o=t.scriptProps,c=t.language,f=t.container,d=t.children,h=he.useState(null),g=h[0],v=h[1],T=he.useRef(e),S=JSON.stringify(o),A=JSON.stringify(f?.parameters);he.useEffect((function(){if(e){var V=o?.id||"google-recaptcha-v3",D=o?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[D]=function(){var H=r?window.grecaptcha.enterprise:window.grecaptcha,G=Hx({badge:"inline",size:"invisible",sitekey:e},f?.parameters||{});T.current=H.render(f?.element,G)},ane({render:f?.element?"explicit":e,onLoadCallbackName:D,useEnterprise:r,useRecaptchaNet:i,scriptProps:o,language:c,onLoad:function(){if(window&&window.grecaptcha){var H=r?window.grecaptcha.enterprise:window.grecaptcha;H.ready((function(){v(H)}))}else MC("<GoogleRecaptchaProvider /> "+Gx.SCRIPT_NOT_AVAILABLE)}}),function(){ine(V,f?.element)}}MC("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[r,i,S,A,c,e,f?.element]);var C=he.useCallback((function(V){if(!g||!g.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return g.execute(T.current,{action:V})}),[g,T]),k=he.useMemo((function(){return{executeRecaptcha:g?C:void 0,container:f?.element}}),[C,g,f?.element]);return Rn.createElement(Sy.Provider,{value:k},d)}var one=function(){return he.useContext(Sy)};function u4(t,e){return t(e={exports:{}},e.exports),e.exports;}var fr=typeof Symbol=="function"&&Symbol.for,jx=fr?Symbol.for("react.element"):60103,qx=fr?Symbol.for("react.portal"):60106,I0=fr?Symbol.for("react.fragment"):60107,R0=fr?Symbol.for("react.strict_mode"):60108,k0=fr?Symbol.for("react.profiler"):60114,D0=fr?Symbol.for("react.provider"):60109,M0=fr?Symbol.for("react.context"):60110,$x=fr?Symbol.for("react.async_mode"):60111,Cp=fr?Symbol.for("react.concurrent_mode"):60111,P0=fr?Symbol.for("react.forward_ref"):60112,F0=fr?Symbol.for("react.suspense"):60113,lne=fr?Symbol.for("react.suspense_list"):60120,O0=fr?Symbol.for("react.memo"):60115,L0=fr?Symbol.for("react.lazy"):60116,cne=fr?Symbol.for("react.block"):60121,une=fr?Symbol.for("react.fundamental"):60117,fne=fr?Symbol.for("react.responder"):60118,dne=fr?Symbol.for("react.scope"):60119;function Es(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case jx:switch(t=t.type){case $x:case Cp:case I0:case k0:case R0:case F0:return t;default:switch(t=t&&t.$$typeof){case M0:case P0:case L0:case O0:case D0:return t;default:return e}}case qx:return e}}}function FC(t){return Es(t)===Cp}var hne={AsyncMode:$x,ConcurrentMode:Cp,ContextConsumer:M0,ContextProvider:D0,Element:jx,ForwardRef:P0,Fragment:I0,Lazy:L0,Memo:O0,Portal:qx,Profiler:k0,StrictMode:R0,Suspense:F0,isAsyncMode:function(t){return FC(t)||Es(t)===$x},isConcurrentMode:FC,isContextConsumer:function(t){return Es(t)===M0},isContextProvider:function(t){return Es(t)===D0},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===jx},isForwardRef:function(t){return Es(t)===P0},isFragment:function(t){return Es(t)===I0},isLazy:function(t){return Es(t)===L0},isMemo:function(t){return Es(t)===O0},isPortal:function(t){return Es(t)===qx},isProfiler:function(t){return Es(t)===k0},isStrictMode:function(t){return Es(t)===R0},isSuspense:function(t){return Es(t)===F0},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===I0||t===Cp||t===k0||t===R0||t===F0||t===lne||typeof t=="object"&&t!==null&&(t.$$typeof===L0||t.$$typeof===O0||t.$$typeof===D0||t.$$typeof===M0||t.$$typeof===P0||t.$$typeof===une||t.$$typeof===fne||t.$$typeof===dne||t.$$typeof===cne)},typeOf:Es},ln=u4((function(t,e){})),OC=(ln.AsyncMode,ln.ConcurrentMode,ln.ContextConsumer,ln.ContextProvider,ln.Element,ln.ForwardRef,ln.Fragment,ln.Lazy,ln.Memo,ln.Portal,ln.Profiler,ln.StrictMode,ln.Suspense,ln.isAsyncMode,ln.isConcurrentMode,ln.isContextConsumer,ln.isContextProvider,ln.isElement,ln.isForwardRef,ln.isFragment,ln.isLazy,ln.isMemo,ln.isPortal,ln.isProfiler,ln.isStrictMode,ln.isSuspense,ln.isValidElementType,ln.typeOf,u4((function(t){t.exports=hne}))),pne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LC={};LC[OC.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},LC[OC.Memo]=pne;const mne=({users:t,onLogin:e})=>{const[n,r]=he.useState("login"),[s,i]=he.useState(""),[o,c]=he.useState(""),[f,d]=he.useState(""),[h,g]=he.useState(""),[v,T]=he.useState(""),[S,A]=he.useState(""),[C,k]=he.useState(!1),{executeRecaptcha:V}=one(),[D,H]=he.useState(!1),G=async F=>{if(F.preventDefault(),d(""),console.log("[CAPTCHA] Key configured:","MISSING"),console.log("[CAPTCHA] executeRecaptcha available:",!!V),!V){console.error("[CAPTCHA] executeRecaptcha not available - Provider may not be loaded"),d(" Sistema de segurana no carregado. Recarregue a pgina.");return}H(!0);try{console.log("[CAPTCHA] Executing reCAPTCHA verification...");const O=await V("login");if(console.log("[CAPTCHA] Token received:",O?"Success ":"Failed "),console.log("[CAPTCHA] Token length:",O?.length||0),!O)throw new Error("reCAPTCHA token is empty");console.log("[AUTH] CAPTCHA passed, validating credentials...");let M=t;try{const{loadFromCloud:fe}=await zx(async()=>{const{loadFromCloud:ae}=await Promise.resolve().then(()=>Yee);return{loadFromCloud:ae}},void 0),pe=await fe();pe&&pe.users&&(console.log("[AUTH] Fetched fresh users from cloud for validation"),M=pe.users)}catch(fe){console.warn("[AUTH] Failed to fetch fresh users, using prop users",fe)}const B=M.find(fe=>fe.username.toLowerCase()===s.toLowerCase());B&&B.password===o?(console.log("[AUTH] Login successful "),e(B)):(console.warn("[AUTH] Invalid credentials"),d(" Credenciais invlidas. Verifique usurio e senha."))}catch(O){console.error("[CAPTCHA] Error details:",{message:O?.message,name:O?.name,stack:O?.stack,error:O}),O?.message?.includes("Invalid site key")?d(" Erro de configurao: Chave reCAPTCHA invlida. Contate o administrador."):O?.message?.includes("network")?d(" Erro de rede. Verifique sua conexo e tente novamente."):d(` Falha na verificao de segurana: ${O?.message||"Erro desconhecido"}. Tente novamente.`)}finally{H(!1)}},J=()=>{d(""),A(""),g(""),T("")},I=F=>{J(),r(F)},N=async F=>{F.preventDefault(),d(""),k(!0),await new Promise(M=>setTimeout(M,1500));const O=t.find(M=>M.email?.toLowerCase()===h.toLowerCase());A(O?`Seu usurio foi enviado para: ${h}`:"Se este e-mail estiver cadastrado, voc receber seu usurio em breve."),k(!1)},b=async F=>{F.preventDefault(),d(""),k(!0),await new Promise(M=>setTimeout(M,1500));const O=t.find(M=>M.username.toLowerCase()===v.toLowerCase()||M.email?.toLowerCase()===v.toLowerCase());O&&O.email?A(`Instrues de redefinio enviadas para: ${O.email}`):A("Se os dados estiverem corretos, enviamos as instrues para o seu e-mail de cadastro."),k(!1)};return _.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[_.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),_.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[_.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[n!=="login"&&_.jsx("button",{onClick:()=>I("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:_.jsx(oD,{className:"w-6 h-6"})}),_.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:_.jsx(cM,{className:"w-7 h-7 text-white"})}),_.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),_.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),_.jsxs("div",{className:"p-8 space-y-6",children:[n==="login"&&_.jsxs("form",{onSubmit:G,className:"space-y-6 pt-2 animate-fade-in",children:[_.jsx("div",{className:"text-center pb-2",children:_.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),_.jsxs("div",{className:"relative",children:[_.jsx(us,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),_.jsx("input",{type:"text",value:s,onChange:F=>i(F.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),_.jsx("div",{className:"text-right mt-1",children:_.jsx("button",{type:"button",onClick:()=>I("forgot_user"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci o usurio"})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),_.jsxs("div",{className:"relative",children:[_.jsx(Fv,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),_.jsx("input",{type:"password",value:o,onChange:F=>c(F.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),_.jsx("div",{className:"text-right mt-1",children:_.jsx("button",{type:"button",onClick:()=>I("forgot_pass"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci a senha"})})]})]}),f&&_.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[_.jsx(pa,{className:"w-4 h-4 flex-shrink-0"}),f]}),_.jsx("button",{type:"submit",disabled:D,className:"w-full bg-slate-800 hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-wait text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:D?_.jsxs(_.Fragment,{children:[_.jsx(Ov,{className:"w-4 h-4 animate-pulse"}),"Verificando segurana..."]}):_.jsxs(_.Fragment,{children:["Entrar ",_.jsx(cD,{className:"w-4 h-4"})]})})]}),n==="forgot_user"&&_.jsxs("div",{className:"animate-fade-in space-y-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(us,{className:"w-8 h-8 text-blue-600"})}),_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recuperar Usurio"}),_.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu e-mail cadastrado. Enviaremos seu nome de usurio para ele."})]}),S?_.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[_.jsx(V0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),_.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"E-mail Enviado!"}),_.jsx("p",{className:"text-sm text-green-700",children:S}),_.jsx("button",{onClick:()=>I("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):_.jsxs("form",{onSubmit:N,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"E-mail Cadastrado"}),_.jsxs("div",{className:"relative",children:[_.jsx(zD,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),_.jsx("input",{type:"email",required:!0,value:h,onChange:F=>g(F.target.value),placeholder:"exemplo@empresa.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),_.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Recuperar Usurio",!C&&_.jsx(i2,{className:"w-4 h-4"})]})]})]}),n==="forgot_pass"&&_.jsxs("div",{className:"animate-fade-in space-y-6",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"bg-orange-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx(Fv,{className:"w-8 h-8 text-orange-600"})}),_.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Redefinir Senha"}),_.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu usurio ou e-mail. Enviaremos as instrues de redefinio."})]}),S?_.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[_.jsx(V0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),_.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"Sucesso!"}),_.jsx("p",{className:"text-sm text-green-700",children:S}),_.jsx("button",{onClick:()=>I("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):_.jsxs("form",{onSubmit:b,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio ou E-mail"}),_.jsxs("div",{className:"relative",children:[_.jsx(us,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),_.jsx("input",{type:"text",required:!0,value:v,onChange:F=>T(F.target.value),placeholder:"Digite seu usurio ou email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),_.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Enviar Instrues",!C&&_.jsx(i2,{className:"w-4 h-4"})]})]})]})]})]})]})},gne=(t,e=200,n=200,r=.7)=>new Promise((s,i)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=c=>{const f=new Image;f.src=c.target?.result,f.onload=()=>{const d=document.createElement("canvas");let h=f.width,g=f.height;h>g?h>e&&(g=Math.round(g*=e/h),h=e):g>n&&(h=Math.round(h*=n/g),g=n),d.width=h,d.height=g;const v=d.getContext("2d");if(!v){i(new Error("Could not get canvas context"));return}v.drawImage(f,0,0,h,g);const T=d.toDataURL("image/jpeg",r);s(T)},f.onerror=d=>i(d)},o.onerror=c=>i(c)}),vne=({currentUser:t,users:e,onAddUser:n,onUpdateUser:r,onDeleteUser:s,onCleanupDuplicates:i,totalClients:o})=>{const[c,f]=he.useState(null),[d,h]=he.useState(""),[g,v]=he.useState(""),[T,S]=he.useState(""),A=AM(t.role),C=A.includes("sales_external")?"sales_external":A[0],[k,V]=he.useState(C),[D,H]=he.useState("Externo"),[G,J]=he.useState("#3B82F6"),[I,N]=he.useState(void 0),b=he.useRef(null),[F,O]=he.useState("Todos"),M=()=>{f(null),h(""),v(""),S(""),V(C),H("Externo"),J("#3B82F6"),N(void 0),b.current&&(b.current.value="")},B=ee=>{if(!nv(t.role,ee.role)){alert("Voc no tem permisso para editar este usurio (Nvel Hierrquico Superior ou Igual).");return}f(ee.id),h(ee.name),v(ee.username),S(ee.password||""),V(SM(ee.role)),H(ee.salesCategory||"N/A"),J(ee.color||"#3B82F6"),N(ee.photoURL),window.scrollTo({top:0,behavior:"smooth"})},fe=async ee=>{const ie=ee.target.files?.[0];if(ie){if(!["image/jpeg","image/png"].includes(ie.type)){alert("Apenas imagens JPEG ou PNG so permitidas.");return}if(ie.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB.");return}try{const Re=await gne(ie);N(Re)}catch(Re){console.error("Erro ao processar imagem:",Re),alert("Erro ao processar a imagem. Tente novamente.")}}},pe=ee=>{if(ee.preventDefault(),!d||!g||!T)return;const ie=cs[k]>=4,Re={id:c||Date.now().toString(),name:d,username:g,role:k,password:T,salesCategory:ie?D:"N/A",color:ie?G:void 0,photoURL:I};c?r(Re):n(Re),M()},ae=e.filter(ee=>F==="Todos"||F==="N/A"&&cs[ee.role]<=2?!0:ee.salesCategory===F),ce=["Todos","Externo","Interno","Mercado Livre"];return _.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[_.jsxs("div",{className:`bg-white rounded-[28px] shadow-elevation-1 p-6 transition-all border ${c?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${c?"text-primary":"text-on-surface"}`,children:[c?_.jsx(tv,{className:"w-5 h-5"}):_.jsx(o2,{className:"w-5 h-5 text-primary"}),c?"Editar Usurio":"Cadastrar Novo Usurio"]}),c&&_.jsxs("button",{onClick:M,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[_.jsx(ma,{className:"w-4 h-4"})," Cancelar Edio"]})]}),_.jsxs("form",{onSubmit:pe,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"lg:col-span-3 flex justify-center mb-4",children:[_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:`w-24 h-24 rounded-full overflow-hidden border-2 flex items-center justify-center bg-surface-container-highest ${I?"border-primary":"border-dashed border-outline-variant"}`,children:I?_.jsx("img",{src:I,alt:"Profile",className:"w-full h-full object-cover"}):_.jsx(us,{className:"w-10 h-10 text-on-surface-variant/50"})}),_.jsxs("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 p-1.5 bg-primary text-on-primary rounded-full shadow-md cursor-pointer hover:bg-primary/90 transition-colors",title:"Alterar foto",children:[_.jsx(gD,{className:"w-4 h-4"}),_.jsx("input",{id:"photo-upload",type:"file",accept:"image/jpeg, image/png",onChange:fe,className:"hidden",ref:b})]}),I&&_.jsx("button",{type:"button",onClick:()=>{N(void 0),b.current&&(b.current.value="")},className:"absolute -top-1 -right-1 p-1 bg-error text-white rounded-full shadow-md hover:bg-error/90 transition-colors",title:"Remover foto",children:_.jsx(ma,{className:"w-3 h-3"})})]}),_.jsxs("div",{className:"ml-4 flex flex-col justify-center",children:[_.jsx("span",{className:"text-sm font-medium text-on-surface",children:"Foto de Perfil"}),_.jsx("span",{className:"text-xs text-on-surface-variant",children:"JPG ou PNG at 2MB."})]})]}),_.jsxs("div",{className:"lg:col-span-2",children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),_.jsx("input",{type:"text",value:d,onChange:ee=>h(ee.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),_.jsx("input",{type:"text",value:g,onChange:ee=>v(ee.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),_.jsx("input",{type:"text",value:T,onChange:ee=>S(ee.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),_.jsx("select",{value:k,onChange:ee=>V(ee.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:A.map(ee=>_.jsx("option",{value:ee,children:$C[ee]||ee},ee))}),_.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 pl-1",children:"* Voc s pode criar nveis abaixo do seu."})]}),cs[k]>=4&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"animate-fade-in",children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),_.jsxs("select",{value:D,onChange:ee=>H(ee.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[_.jsx("option",{value:"Externo",children:"Externo"}),_.jsx("option",{value:"Interno",children:"Interno"}),_.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),_.jsxs("div",{className:"animate-fade-in",children:[_.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"color",value:G,onChange:ee=>J(ee.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),_.jsx("input",{type:"text",value:G,onChange:ee=>J(ee.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),_.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:_.jsxs("button",{type:"submit",disabled:!d||!g||!T,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${c?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[c?_.jsx(gd,{className:"w-4 h-4"}):_.jsx(o2,{className:"w-4 h-4"}),c?"Salvar Alteraes":"Criar Acesso"]})})]})]}),_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 overflow-hidden",children:[_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[_.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[_.jsx(us,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",ae.length,")"]}),_.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[_.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[_.jsx(pa,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),_.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",_.jsx("strong",{children:o}),o>143&&_.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),_.jsxs("button",{onClick:i,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[_.jsx(pa,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),_.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:ce.map(ee=>_.jsx("button",{onClick:()=>O(ee),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${F===ee?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:ee},ee))})]}),_.jsx("div",{className:"hidden md:block overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),_.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),_.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),_.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),_.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),_.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),_.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[ae.map(ee=>_.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${c===ee.id?"bg-primary-container/30":""}`,children:[_.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30",children:ee.photoURL?_.jsx("img",{src:ee.photoURL,alt:ee.name,className:"w-full h-full object-cover"}):_.jsx(us,{className:"w-4 h-4 text-primary"})}),ee.name]})}),_.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:ee.username}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${cs[ee.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:l2(ee.role)})}),_.jsx("td",{className:"px-6 py-4",children:cs[ee.role]>=4?_.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[_.jsx(U0,{className:"w-3.5 h-3.5"}),ee.salesCategory||"N/A"]}):_.jsx("span",{className:"text-outline-variant",children:"-"})}),_.jsx("td",{className:"px-6 py-4",children:cs[ee.role]>=4&&ee.color?_.jsx("div",{className:"flex items-center gap-2",title:ee.color,children:_.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:ee.color}})}):_.jsx("span",{className:"text-outline-variant",children:"-"})}),_.jsx("td",{className:"px-6 py-4 text-right",children:_.jsx("div",{className:"flex items-center justify-end gap-2",children:nv(t.role,ee.role)?_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>B(ee),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:_.jsx(tv,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>s(ee.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:_.jsx(xl,{className:"w-4 h-4"})})]}):_.jsx("div",{className:"flex items-center gap-2 opacity-30 cursor-not-allowed",children:_.jsx("span",{className:"text-xs italic",children:"Sem permisso"})})})})]},ee.id)),ae.length===0&&_.jsx("tr",{children:_.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),_.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[ae.map(ee=>_.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${c===ee.id?"bg-primary-container/30 border-primary/30":""}`,children:[_.jsxs("div",{className:"flex justify-between items-start mb-3",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30 flex-shrink-0",children:ee.photoURL?_.jsx("img",{src:ee.photoURL,alt:ee.name,className:"w-full h-full object-cover"}):_.jsx(us,{className:"w-5 h-5 text-primary"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-bold text-on-surface",children:ee.name}),_.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",ee.username]})]})]}),_.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${cs[ee.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:l2(ee.role)})]}),_.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[_.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[_.jsx("span",{children:"Categoria:"}),_.jsx("span",{className:"font-medium text-on-surface",children:ee.salesCategory||"-"})]}),_.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[_.jsx("span",{children:"Senha:"}),_.jsx("span",{className:"font-mono",children:ee.password||"***"})]})]}),_.jsx("div",{className:"flex justify-end gap-2 pt-2",children:nv(t.role,ee.role)&&_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>B(ee),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[_.jsx(tv,{className:"w-3.5 h-3.5"})," Editar"]}),_.jsxs("button",{onClick:()=>s(ee.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[_.jsx(xl,{className:"w-3.5 h-3.5"})," Remover"]})]})})]},ee.id)),ae.length===0&&_.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},xne=({categories:t,onAddCategory:e,onDeleteCategory:n})=>{const[r,s]=he.useState(""),i=o=>{o.preventDefault(),r.trim()&&(e(r.trim()),s(""))};return _.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[_.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[_.jsx(qC,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),_.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),_.jsxs("form",{onSubmit:i,className:"flex gap-3 mb-8",children:[_.jsxs("div",{className:"relative flex-1",children:[_.jsx(Wx,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),_.jsx("input",{type:"text",value:r,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),_.jsxs("button",{type:"submit",disabled:!r.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[_.jsx(Jx,{className:"w-4 h-4"})," Adicionar"]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[t.map(o=>_.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[_.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[_.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o]}),_.jsx("button",{onClick:()=>n(o),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:_.jsx(xl,{className:"w-4 h-4"})})]},o)),t.length===0&&_.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},yne=({products:t,onUploadProducts:e,onClearProducts:n,onSaveProducts:r,apiKey:s})=>{const[i,o]=he.useState(!1),[c,f]=he.useState(""),[d,h]=he.useState(!1),[g,v]=he.useState({current:0,total:0}),[T,S]=he.useState([]),[A,C]=he.useState(null),[k,V]=he.useState(!1);he.useEffect(()=>{S(t),V(!1)},[t]);const D=async M=>{const B=M.target.files?.[0];if(B){o(!0);try{let fe=[];const pe=B.name.toLowerCase();if(pe.endsWith(".csv"))fe=await Ib(B);else if(pe.endsWith(".xlsx")||pe.endsWith(".xls"))fe=await fI(B);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");e(fe),M.target.value=""}catch(fe){console.error("Error parsing products:",fe),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{o(!1)}}},H=()=>{r&&(r(T),V(!1),alert("Alteraes salvas com sucesso!"))},G=async()=>{if(!s){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(T.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${T.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){h(!0),v({current:0,total:T.length});try{const M=await PJ(T,s,(B,fe)=>{v({current:B,total:fe})});S(M),V(!0),alert(` ${M.length} produtos foram categorizados pela IA!`)}catch(M){console.error("AI Categorization failed",M),alert(`Erro ao categorizar produtos: ${M.message||"Erro desconhecido"}`)}finally{h(!1),v({current:0,total:0})}}},J=(M,B,fe)=>{const pe=[...T];pe[M]={...pe[M],[B]:fe},S(pe),V(!0)},I=M=>{let B="asc";A&&A.key===M&&A.direction==="asc"&&(B="desc"),C({key:M,direction:B})},N=M=>A?[...M].sort((B,fe)=>{let pe=B[A.key],ae=fe[A.key];return A.key==="price"||A.key==="discount"?(pe=Number(pe||0),ae=Number(ae||0)):(pe=String(pe||"").toLowerCase(),ae=String(ae||"").toLowerCase()),pe<ae?A.direction==="asc"?-1:1:pe>ae?A.direction==="asc"?1:-1:0}):M,b=T.map((M,B)=>({...M,originalIndex:B})).filter(M=>M.name.toLowerCase().includes(c.toLowerCase())||M.sku.toLowerCase().includes(c.toLowerCase())||M.brand.toLowerCase().includes(c.toLowerCase())||M.factoryCode.toLowerCase().includes(c.toLowerCase())),F=N(b),O=({column:M})=>A?.key!==M?_.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):A.direction==="asc"?_.jsx(fD,{className:"w-3 h-3 ml-1 inline-block text-primary"}):_.jsx(iD,{className:"w-3 h-3 ml-1 inline-block text-primary"});return _.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[_.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[_.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[_.jsx(pl,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),_.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),_.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[k&&_.jsxs("button",{onClick:H,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[_.jsx(gd,{className:"w-4 h-4"})," Salvar Alteraes"]}),t.length>0&&_.jsxs("button",{onClick:G,disabled:d,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?_.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):_.jsx(a2,{className:"w-4 h-4"}),d?"Processando...":"IA Classificar"]}),t.length>0&&_.jsxs("button",{onClick:n,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[_.jsx(xl,{className:"w-4 h-4"})," Limpar"]}),_.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${i?"opacity-50 pointer-events-none":""}`,children:[i?_.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):_.jsx(yM,{className:"w-4 h-4"}),i?"Processando...":"Importar CSV",_.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:D})]})]})]}),t.length===0?_.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[_.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:_.jsx(x0,{className:"w-8 h-8 text-outline"})}),_.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),_.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):_.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[_.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[_.jsx(ul,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),_.jsx("input",{type:"text",value:c,onChange:M=>f(M.target.value),placeholder:"Filtrar por SKU, Marca, Cdigo ou Descrio...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),_.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:_.jsxs("table",{className:"w-full text-sm text-left",children:[_.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:_.jsxs("tr",{children:[_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>I("sku"),children:["SKU ",_.jsx(O,{column:"sku"})]}),_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("brand"),children:["Marca ",_.jsx(O,{column:"brand"})]}),_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("factoryCode"),children:["Cd. Fbrica ",_.jsx(O,{column:"factoryCode"})]}),_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>I("name"),children:["Descrio ",_.jsx(O,{column:"name"})]}),_.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>I("category"),children:["Categoria ",_.jsx(O,{column:"category"})]}),_.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("price"),children:["Preo (R$) ",_.jsx(O,{column:"price"})]}),_.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>I("discount"),children:["Desc. (%) ",_.jsx(O,{column:"discount"})]})]})}),_.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:F.map(M=>_.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[_.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:M.sku}),_.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs",children:M.brand}),_.jsx("td",{className:"px-4 py-2 font-mono text-xs text-on-surface-variant",children:M.factoryCode}),_.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:M.name,children:M.name}),_.jsx("td",{className:"px-2 py-2",children:_.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:M.category,onChange:B=>J(M.originalIndex,"category",B.target.value)})}),_.jsx("td",{className:"px-2 py-2 text-right",children:_.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:M.price,onChange:B=>J(M.originalIndex,"price",parseFloat(B.target.value)||0)})}),_.jsx("td",{className:"px-2 py-2 text-right",children:_.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:M.discount||0,onChange:B=>J(M.originalIndex,"discount",parseFloat(B.target.value)||0)})})]},`${M.sku}-${M.originalIndex}`))})]})}),_.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[F.map(M=>_.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:M.sku}),_.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:M.name}),_.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:M.brand})]}),_.jsx("div",{className:"text-right",children:_.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:M.factoryCode})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Categoria"}),_.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:M.category,onChange:B=>J(M.originalIndex,"category",B.target.value)})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),_.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:M.discount||0,onChange:B=>J(M.originalIndex,"discount",parseFloat(B.target.value)||0)})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),_.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:M.price,onChange:B=>J(M.originalIndex,"price",parseFloat(B.target.value)||0)})]})]},`${M.sku}-${M.originalIndex}`)),F.length===0&&_.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),_.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[_.jsxs("span",{children:["Total de Produtos: ",_.jsx("strong",{children:T.length})]}),_.jsxs("span",{children:["Exibindo: ",_.jsx("strong",{children:F.length})]})]})]})]}),d&&_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[_.jsx(a2,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),_.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&h(!1)},className:"text-on-surface-variant hover:text-on-surface",children:_.jsx(ma,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[_.jsx("span",{children:"Processando produtos..."}),_.jsxs("span",{className:"font-mono font-bold text-primary",children:[g.current," / ",g.total]})]}),_.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})}),_.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},_ne=({isOpen:t,onClose:e,onSaveToCloud:n,onClearDatabase:r,isFirebaseConnected:s=!1})=>{const[i,o]=he.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[c,f]=he.useState("idle"),[d,h]=he.useState("");he.useEffect(()=>{if(t){const S=Wk();S&&(o(S),f("success"),h("Configurao salva encontrada."))}},[t]);const g=S=>{o({...i,[S.target.name]:S.target.value}),f("idle"),h("")},v=async()=>{if(f("testing"),h("Testando conexo..."),!i.apiKey||!i.projectId){f("error"),h("Campos obrigatrios faltando.");return}try{await Ey(i)?(jee(i),f("success"),h("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(f("error"),h("Falha ao conectar. Verifique as credenciais."))}catch(S){f("error"),h("Erro: "+S.message)}},T=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(qee(),o({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),f("idle"),h("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return t?_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:_.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[_.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:_.jsx(Mv,{className:"w-5 h-5"})}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-xl font-bold",children:"Configurao de Nuvem"}),_.jsx("p",{className:"text-xs text-slate-400",children:"Sincronizao via Firebase Firestore"})]})]}),_.jsx("button",{onClick:e,className:"text-white/50 hover:text-white",children:""})]}),_.jsxs("div",{className:"p-6 space-y-4",children:[_.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-blue-50 p-3 rounded border border-blue-100",children:["Insira os dados do seu projeto Firebase. Voc pode encontrar isso no Console do Firebase ",">"," Configuraes do Projeto ",">"," Seus aplicativos."]}),_.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[_.jsx("input",{type:"text",name:"apiKey",placeholder:"apiKey",value:i.apiKey,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"authDomain",placeholder:"authDomain",value:i.authDomain,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"projectId",placeholder:"projectId",value:i.projectId,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"storageBucket",placeholder:"storageBucket",value:i.storageBucket,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"messagingSenderId",placeholder:"messagingSenderId",value:i.messagingSenderId,onChange:g,className:"text-xs p-2 border rounded"}),_.jsx("input",{type:"text",name:"appId",placeholder:"appId",value:i.appId,onChange:g,className:"text-xs p-2 border rounded"})]}),d&&_.jsxs("div",{className:`text-xs p-2 rounded flex items-center gap-2 ${c==="error"?"bg-red-50 text-red-600":c==="success"?"bg-green-50 text-green-600":"bg-gray-50 text-gray-600"}`,children:[c==="testing"&&_.jsx(Af,{className:"w-3 h-3 animate-spin"}),c==="success"&&_.jsx(V0,{className:"w-3 h-3"}),d]})]}),s&&n&&r&&_.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[_.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-3",children:"Aes da Nuvem"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[_.jsx(Mv,{className:"w-4 h-4"}),"Salvar na Nuvem"]}),_.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[_.jsx(xl,{className:"w-4 h-4"}),"Limpar Base"]})]})]}),_.jsxs("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-2",children:[c==="success"&&_.jsxs("button",{onClick:T,className:"px-4 py-2 text-red-500 text-xs font-bold hover:bg-red-50 rounded transition-colors mr-auto flex items-center gap-1",children:[_.jsx(xl,{className:"w-3 h-3"})," Desconectar"]}),_.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 font-medium text-sm hover:bg-gray-200 rounded-lg",children:"Cancelar"}),_.jsx("button",{onClick:v,disabled:c==="testing",className:"px-6 py-2 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:c==="testing"?"Verificando...":"Salvar e Conectar"})]})]})}):null},Ene=({onAccept:t,onDecline:e})=>{const[n,r]=he.useState(!1);he.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const c=setTimeout(()=>r(!0),1500);return()=>clearTimeout(c)}},[]);const s=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),r(!1),t()},i=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),r(!1),e()};return n?_.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 animate-slide-up",children:_.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-xl p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[_.jsxs("div",{className:"flex items-start gap-4",children:[_.jsx("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600 shrink-0",children:_.jsx(SD,{className:"w-6 h-6"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Este site utiliza cookies e armazenamento local"}),_.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Ns armazenamos dados no seu navegador para garantir que o sistema carregue instantaneamente na prxima vez que voc acessar (cache offline). Isso permite que voc trabalhe mais rpido e at mesmo sem internet."})]})]}),_.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[_.jsx("button",{onClick:i,className:"flex-1 md:flex-none px-4 py-2.5 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Agora no"}),_.jsxs("button",{onClick:s,className:"flex-1 md:flex-none px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[_.jsx(V0,{className:"w-4 h-4"}),"Permitir Cache Rpido"]})]})]})}):null},Tne=({users:t,uploadedFiles:e,onUploadClients:n,onUploadProducts:r,onDeleteFile:s,onReassignSalesperson:i,procState:o={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,f]=he.useState("clients"),[d,h]=he.useState(""),[g,v]=he.useState([]),T=D=>{if(D.target.files&&D.target.files.length>0){const H=Array.from(D.target.files).map(G=>({file:G,targetUserId:d||""}));v(G=>[...G,...H]),D.target.value=""}},S=D=>{v(H=>H.filter((G,J)=>J!==D))},A=(D,H)=>{v(G=>{const J=[...G];return J[D].targetUserId=H,J})},C=async()=>{const D=g.filter(H=>H.targetUserId);if(D.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const H of D)await n(H.file,H.targetUserId,!0);v([])},k=D=>{const H=D.target.files?.[0];H&&(r(H),D.target.value="")},V=e.filter(D=>D.type===c);return _.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[_.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:_.jsxs("div",{children:[_.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[_.jsx(B0,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),_.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),_.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[_.jsxs("button",{onClick:()=>f("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[_.jsx(Lv,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&_.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),_.jsxs("button",{onClick:()=>f("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[_.jsx(pl,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&_.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),o?.isActive&&_.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${o.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[o.status==="processing"||o.status==="reading"?_.jsx(Af,{className:"w-5 h-5 animate-spin"}):o.status==="completed"?_.jsx(hl,{className:"w-5 h-5"}):_.jsx(pa,{className:"w-5 h-5"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-sm",children:o.status==="reading"?"Lendo arquivo...":o.status==="processing"?"Processando dados...":o.status==="completed"?"Importao Concluda!":"Erro na Importao"}),o.errorMessage&&_.jsx("p",{className:"text-xs mt-1 opacity-80",children:o.errorMessage})]})]}),_.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[_.jsx("div",{className:"lg:col-span-4",children:_.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[_.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[_.jsx(Sne,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?_.jsxs("div",{className:"space-y-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:D=>h(D.target.value),children:[_.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),t.filter(D=>Cf(D.role)).map(D=>_.jsx("option",{value:D.id,children:D.name},D.id))]}),_.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:_.jsx(wne,{className:"w-4 h-4"})})]})]}),g.length>0&&_.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[_.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[_.jsxs("span",{children:["Arquivos na Fila (",g.length,")"]}),_.jsx("button",{onClick:()=>v([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),_.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:g.map((D,H)=>_.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[_.jsx(x0,{className:"w-4 h-4 text-primary shrink-0"}),_.jsx("span",{className:"truncate flex-1 font-medium",title:D.file.name,children:D.file.name}),_.jsxs("select",{value:D.targetUserId,onChange:G=>A(H,G.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${D.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[_.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),t.filter(G=>Cf(G.role)).map(G=>_.jsx("option",{value:G.id,children:G.name},G.id))]}),_.jsx("button",{onClick:()=>S(H),className:"text-on-surface-variant hover:text-error p-1",children:_.jsx(ma,{className:"w-3 h-3"})})]},H))}),_.jsx("button",{onClick:C,disabled:o?.isActive||g.some(D=>!D.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:o?.isActive?_.jsxs(_.Fragment,{children:[_.jsx(Af,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):_.jsxs(_.Fragment,{children:[_.jsx(hl,{className:"w-3 h-3"}),"Processar ",g.length," Arquivos"]})})]}),_.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[_.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[_.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:_.jsx(B0,{className:"w-6 h-6"})}),_.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),_.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:T,disabled:o?.isActive&&o.status==="processing"})]}),_.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant",children:[_.jsx(Pv,{className:"w-3 h-3"}),_.jsx("span",{children:"Suporta .csv, .xlsx, .xls (Mltiplos arquivos)"})]})]}):_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[_.jsx(pl,{className:"w-5 h-5 shrink-0"}),_.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),_.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[_.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:_.jsx(pl,{className:"w-6 h-6"})}),_.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),_.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:k,disabled:o?.isActive&&o.status==="processing"})]})]})]})}),_.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[_.jsx("div",{className:"flex items-center justify-between mb-2",children:_.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[_.jsx(x0,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",_.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:V.length})]})}),V.length===0?_.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[_.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:_.jsx(Pv,{className:"w-10 h-10 text-outline"})}),_.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),_.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):_.jsx("div",{className:"space-y-3",children:V.map(D=>_.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[_.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[_.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${D.status==="error"?"bg-error-container text-error":D.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:D.status==="processing"?_.jsx(Af,{className:"w-5 h-5 animate-spin"}):D.status==="error"?_.jsx(pa,{className:"w-5 h-5"}):_.jsx(x0,{className:"w-5 h-5"})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:D.fileName,children:D.fileName}),_.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(pD,{className:"w-3 h-3"}),new Date(D.uploadDate).toLocaleDateString(),_.jsx("span",{className:"opacity-60 ml-1",children:new Date(D.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(hl,{className:"w-3 h-3"}),D.itemCount," registros"]})]}),D.status==="error"&&_.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:D.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&_.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:t.find(G=>G.id===D.salespersonId)?.name?.charAt(0)||"?"}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsxs("select",{value:D.salespersonId,onChange:H=>i?.(D.id,H.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:D.status==="processing",children:[_.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),t.filter(H=>Cf(H.role)).map(H=>_.jsx("option",{value:H.id,className:"bg-surface text-on-surface",children:H.name},H.id))]}),_.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),_.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:D.status==="processing"?_.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):_.jsxs("button",{onClick:()=>s(D.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[_.jsx(xl,{className:"w-4 h-4"}),_.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},D.id))})]})]})]})};function wne(t){return _.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),_.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function Sne(t){return _.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),_.jsx("circle",{cx:"12",cy:"10",r:"5"}),_.jsx("path",{d:"M12 15V3"}),_.jsx("path",{d:"m9 6 3-3 3 3"})]})}const Ane=[{id:"admin",name:"Admin DEV",username:"admin",email:"admin@vendas.ai",role:"admin_dev",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"sales_external",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"sales_internal",password:"123",salesCategory:"Interno",color:"#3B82F6"}],f4=()=>{const[t,e]=he.useState([]),[n,r]=he.useState(null);return{users:t,setUsers:e,currentUser:n,login:d=>{r(d)},logout:()=>{r(null)},addUser:d=>{e([...t,d])},updateUser:d=>{e(t.map(h=>h.id===d.id?d:h))},deleteUser:d=>{e(t.filter(h=>h.id!==d))}}},UC=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_USERS:Ane,useAuth:f4},Symbol.toStringTag,{value:"Module"})),Dv=()=>{try{const t=localStorage.getItem("vendas_ai_clients");if(t)return JSON.parse(t).map(n=>({...n,category:Array.isArray(n.category)?n.category:typeof n.category=="string"?[n.category]:["Outros"],region:Zx(n.state)}))}catch(t){console.error("Failed to load clients",t)}return[]},VC=()=>{try{const t=localStorage.getItem("vendas_ai_products");return t?JSON.parse(t):[]}catch{return[]}},BC=()=>{try{const t=localStorage.getItem("vendas_ai_categories");return t?JSON.parse(t):jf.filter(e=>e!=="Todos")}catch{return jf.filter(e=>e!=="Todos")}},zC=()=>{try{const t=localStorage.getItem("vendas_ai_files");return t?JSON.parse(t):[]}catch{return[]}},v0=t=>t.map(e=>e.id==="admin"||e.username==="admin"?{...e,role:"admin_dev",name:"Admin DEV",salesCategory:"N/A"}:e.role==="admin"?{...e,role:"admin_dev"}:e.role==="salesperson"?{...e,role:"sales_external"}:e),Cne=(t,e)=>{const[n,r]=he.useState([]),[s,i]=he.useState(VC),[o,c]=he.useState(BC),[f,d]=he.useState(zC),[h,g]=he.useState(!1),[v,T]=he.useState(!1);return he.useEffect(()=>{(async()=>{const A=await Ey();if(g(A),A){console.log("Loading data from Cloud...");try{const k=await Zk();if(k&&(k.clients?.length>0||k.products?.length>0||k.users?.length>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),k.clients&&r(k.clients),k.products&&i(k.products),k.categories&&c(k.categories),k.users&&e&&e(v0(k.users)),k.uploadedFiles&&d(k.uploadedFiles),T(!0);return}else{console.log("Cloud is empty. Checking localStorage for migration...");const V=localStorage.getItem("vendas_ai_users");let D=V?JSON.parse(V):null;if(!D||D.length===0){console.log("No users in localStorage. Using INITIAL_USERS.");const{INITIAL_USERS:H}=await zx(async()=>{const{INITIAL_USERS:G}=await Promise.resolve().then(()=>UC);return{INITIAL_USERS:G}},void 0);D=H}D=v0(D),e&&e(D),r(Dv()),console.log("Saving initial data to cloud..."),await Ap(Dv(),VC(),BC(),D,zC()),T(!0);return}}catch(k){console.error("Cloud load error",k)}}console.log("Loading data from LocalStorage..."),r(Dv());const C=localStorage.getItem("vendas_ai_users");if(C&&e)e(v0(JSON.parse(C)));else if(e){const{INITIAL_USERS:k}=await zx(async()=>{const{INITIAL_USERS:V}=await Promise.resolve().then(()=>UC);return{INITIAL_USERS:V}},void 0);e(v0(k))}T(!0)})()},[]),he.useEffect(()=>{if(h&&v&&(n.length>0||t.length>0||f.length>0)){const S=setTimeout(()=>{Ap(n,s,o,t,f).catch(A=>console.error("Auto-save failed",A))},2e3);return()=>clearTimeout(S)}},[n,s,o,t,f,h,v]),he.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(n))},[n]),he.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(o))},[o]),he.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(s))},[s]),he.useEffect(()=>{localStorage.setItem("vendas_ai_files",JSON.stringify(f))},[f]),he.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(t))},[t]),{masterClientList:n,setMasterClientList:r,products:s,setProducts:i,categories:o,setCategories:c,uploadedFiles:f,setUploadedFiles:d,isFirebaseConnected:h,isDataLoaded:v}},bne=(t,e,n,r)=>{const[s,i]=he.useState(""),[o,c]=he.useState("Todas"),[f,d]=he.useState("Todos"),[h,g]=he.useState("Todas"),[v,T]=he.useState("Todos"),[S,A]=he.useState("Todos"),[C,k]=he.useState("Todos"),[V,D]=he.useState("Todos"),[H,G]=he.useState("Todos"),[J,I]=he.useState(""),N=he.useMemo(()=>{if(!n)return[];let fe=[];return Uv(n.role)?S!=="Todos"?fe=t.filter(pe=>pe.salespersonId===S):fe=t:fe=t.filter(pe=>pe.salespersonId===n.id),fe},[n,t,S]),b=he.useMemo(()=>N.filter(fe=>{const pe=o==="Todas"||fe.region===o,ae=f==="Todos"||fe.state===f,ce=h==="Todas"||fe.city===h,ee=v==="Todos"||Array.isArray(fe.category)&&fe.category.includes(v);let ie=!0;if(n&&Uv(n.role)&&C!=="Todos"){const ne=e.find(te=>te.id===fe.salespersonId);(!ne||ne.salesCategory!==C)&&(ie=!1)}const Re=s.toLowerCase(),X=s===""||fe.companyName.toLowerCase().includes(Re)||fe.ownerName&&fe.ownerName.toLowerCase().includes(Re);let z=!0;const Q=J.toLowerCase();if(V!=="Todos"||H!=="Todos"||Q!=="")if(!fe.purchasedProducts||fe.purchasedProducts.length===0)z=!1;else{const ne=V==="Todos"||fe.purchasedProducts.some(ve=>ve.category===V),te=H==="Todos"||fe.purchasedProducts.some(ve=>ve.sku===H),de=Q===""||fe.purchasedProducts.some(ve=>ve.name.toLowerCase().includes(Q)||ve.sku.toLowerCase().includes(Q)||ve.brand.toLowerCase().includes(Q)||ve.factoryCode.toLowerCase().includes(Q)||ve.price.toString().includes(Q));z=ne&&te&&de}return pe&&ae&&ce&&ee&&X&&z&&ie}),[N,o,f,h,v,s,V,H,J,C,e,n]),F=he.useMemo(()=>{let fe=N;o!=="Todas"&&(fe=fe.filter(ae=>ae.region===o));const pe=new Set(fe.map(ae=>ae.state).filter(Boolean));return Array.from(pe).sort()},[N,o]),O=he.useMemo(()=>{let fe=N;if(o!=="Todas"&&(fe=fe.filter(ae=>ae.region===o)),f!=="Todos")fe=fe.filter(ae=>ae.state===f);else return[];const pe=new Set(fe.map(ae=>ae.city).filter(Boolean));return Array.from(pe).sort()},[N,o,f]),M=he.useMemo(()=>{const fe=new Set(r.map(pe=>pe.category));return Array.from(fe).sort()},[r]);return{searchQuery:s,setSearchQuery:i,filterRegion:o,setFilterRegion:c,filterState:f,setFilterState:d,filterCity:h,setFilterCity:g,filterCategory:v,setFilterCategory:T,filterSalespersonId:S,setFilterSalespersonId:A,filterSalesCategory:C,setFilterSalesCategory:k,filterProductCategory:V,setFilterProductCategory:D,filterProductSku:H,setFilterProductSku:G,searchProductQuery:J,setSearchProductQuery:I,filteredClients:b,visibleClients:N,availableStates:F,availableCities:O,productCategories:M,resetFilters:()=>{i(""),c("Todas"),d("Todos"),g("Todas"),A("Todos"),k("Todos"),D("Todos"),G("Todos"),I("")}}},Nne=()=>{const{users:t,setUsers:e,currentUser:n,login:r,logout:s,addUser:i,updateUser:o,deleteUser:c}=f4(),{masterClientList:f,setMasterClientList:d,products:h,setProducts:g,categories:v,setCategories:T,uploadedFiles:S,setUploadedFiles:A,isFirebaseConnected:C}=Cne(t,e),{searchQuery:k,setSearchQuery:V,filterRegion:D,setFilterRegion:H,filterState:G,setFilterState:J,filterCity:I,setFilterCity:N,filterCategory:b,setFilterCategory:F,filterSalespersonId:O,setFilterSalespersonId:M,filterSalesCategory:B,setFilterSalesCategory:fe,filterProductCategory:pe,setFilterProductCategory:ae,filterProductSku:ce,setFilterProductSku:ee,searchProductQuery:ie,setSearchProductQuery:Re,filteredClients:X,visibleClients:z,availableStates:Q,availableCities:ne,productCategories:te,resetFilters:de}=bne(f,t,n,h),[ve,Ne]=he.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[be,De]=he.useState(()=>{const le="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Gemini API Key Source:","FOUND","(first 10 chars):",le?.substring(0,10)+"..."),le}),[je,se]=he.useState(()=>{const le="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Maps API Key Source:","FOUND","(first 10 chars):",le?.substring(0,10)+"..."),le}),[ft,We]=he.useState(0),[qe,Ge]=he.useState("map"),[Be,tt]=he.useState(!1),[nt,ct]=he.useState(!1),[cn,wn]=he.useState(!1),[Bn,pt]=he.useState(void 0),It=he.useRef(!1),St=le=>{if(ve.isActive&&ve.status==="processing")if(window.confirm(`Gostaria de Parar de Enviar o Arquivo?

Clique em OK para PARAR o envio.
Clique em Cancelar para CONTINUAR o envio.`))It.current=!0,Ge(le);else return;else Ge(le)},[un,Rt]=he.useState(""),[Dn,rt]=he.useState(!1),Ft=()=>{if(!window.confirm(` Remover Clientes Duplicados?

Esta ao ir:
 Identificar clientes com mesmo nome e endereo
 Manter apenas 1 registro de cada
 Atualizar a contagem total

Deseja continuar?`))return;const ze=new Map,U=[];let Y=0;if(f.forEach(j=>{const K=`${j.companyName}-${j.cleanAddress}`.toLowerCase().trim();ze.has(K)?Y++:(ze.set(K,j),U.push(j))}),Y===0){alert(" Nenhum cliente duplicado encontrado!");return}d(U),alert(` Limpeza Concluda!

${Y} clientes duplicados removidos
Total anterior: ${f.length}
Total atual: ${U.length}`)},Jt=le=>{v.includes(le)||T([...v,le])},At=le=>{T(v.filter(ze=>ze!==le))},$t=le=>{g(ze=>{const U=[...ze,...le];return xn(f,U),U})},dr=le=>{g(le)},pn=()=>{g([]),d(le=>le.map(ze=>({...ze,purchasedProducts:[]})))},Sa=()=>{window.confirm(` ATENO: Limpar TODOS os Clientes?

Esta ao ir:
 Remover TODOS os clientes do sistema
 Limpar a listagem de arquivos
 Resetar contadores

Os vendedores, produtos e categorias no sero afetados.

Deseja continuar?`)&&(d([]),A(le=>le.filter(ze=>ze.type!=="clients")),alert(` Base de Clientes Limpa!

Voc pode agora fazer upload de novas planilhas de clientes.`))},Cs=async le=>{for(const ze of le){const U=ze?.trim();if(U)try{const Y=await iR(U,je||"");if(Y)return Y}catch(Y){console.warn(`Geocoding failed for ${U}:`,Y)}}return null},zi=async()=>{const le=f.filter(j=>!j.plusCode&&j.lat&&j.lng&&j.lat!==0);if(le.length===0){alert(" Todos os clientes com coordenadas j possuem Plus Code!");return}if(!window.confirm(`Deseja gerar Plus Codes para ${le.length} clientes? 
Isso utilizar a cota da API de Geocoding do Google.`))return;Ne({isActive:!0,current:0,total:le.length,status:"processing",fileName:"Gerao de Plus Codes",ownerName:n?.name||"Sistema"});let U=0;const Y=[...f];for(let j=0;j<le.length&&!It.current;j++){const K=le[j];try{const W=await cf(K.lat,K.lng,je||"");if(W){const re=Y.findIndex(xe=>xe.id===K.id);re!==-1&&(Y[re]={...Y[re],plusCode:W},U++)}}catch(W){console.error(`Error generating Plus Code for ${K.companyName}:`,W)}Ne(W=>({...W,current:j+1}))}d(Y),Ne(j=>({...j,status:"completed",isActive:!0})),It.current=!1,alert(` Processo concludo! ${U} Plus Codes gerados.`)},Br=async le=>{const ze=f.find(W=>W.id===le.id);let U={...le};const Y=ze&&ze.cleanAddress!==le.cleanAddress,j=ze&&ze.plusCode!==le.plusCode,K=le.lat===0||le.lng===0;if(Y||j||K){const W=await Cs([le.plusCode,le.cleanAddress,le.originalAddress]);if(W&&(U.lat=W.lat,U.lng=W.lng,W.formattedAddress&&(U.cleanAddress=W.formattedAddress),!U.plusCode)){const re=await cf(U.lat,U.lng,je||"");re&&(U.plusCode=re)}}else if(!U.plusCode&&U.lat&&U.lng){const W=await cf(U.lat,U.lng,je||"");W&&(U.plusCode=W)}d(W=>W.map(re=>re.id===U.id?U:re))},Js=async le=>{let ze={...le,id:le.id||crypto.randomUUID(),lat:le.lat||0,lng:le.lng||0};if(!ze.lat||!ze.lng||ze.lat===0){const U=await Cs([ze.plusCode,ze.cleanAddress,ze.originalAddress]);if(U){if(ze.lat=U.lat,ze.lng=U.lng,U.formattedAddress&&(ze.cleanAddress=U.formattedAddress),console.log(`[APP] Geocoding for manual client successful: ${ze.lat}, ${ze.lng}`),!ze.plusCode){const Y=await cf(ze.lat,ze.lng,je||"");Y&&(ze.plusCode=Y)}}else console.warn(`[APP] Geocoding for manual client FAILED: ${ze.companyName}`)}else if(!ze.plusCode&&ze.lat&&ze.lng){const U=await cf(ze.lat,ze.lng,je||"");U&&(ze.plusCode=U)}d(U=>[...U,ze]),setTimeout(()=>{const U=document.querySelector(".overflow-y-auto");U&&(U.scrollTop=U.scrollHeight)},100)},xn=(le,ze)=>{if(ze.length===0)return;const U=le.map(Y=>{if(Y.purchasedProducts&&Y.purchasedProducts.length>0)return Y;let j=ze.filter(xe=>Y.category.some(Ie=>xe.category.toLowerCase().includes(Ie.toLowerCase())||Ie.toLowerCase().includes(xe.category.toLowerCase())));j.length===0&&(j=ze);const K=Math.floor(Math.random()*5)+1,re=[...j].sort(()=>.5-Math.random()).slice(0,K);return{...Y,purchasedProducts:re}});d(U)},hr=async()=>{const le=prompt("Digite sua Chave de API do Google Maps:");le&&le.trim()&&(se(le.trim()),localStorage.setItem("google_maps_api_key",le.trim()),We(ze=>ze+1))},Xr=le=>{if(r(le),de(),St("map"),rt(!1),il(le.role)){const ze=t.find(U=>Cf(U.role));ze&&Rt(ze.id)}},zr=()=>{if(ve.isActive&&ve.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))It.current=!0;else return;s(),de()},Mo=async(le,ze,U=!1)=>{const Y=t.find(W=>W.id===ze),j=Y?Y.name:"Desconhecido";if(f.length>0&&!U&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const K=crypto.randomUUID();Ne({isActive:!0,total:0,current:0,fileName:le.name,ownerName:j,status:"reading"}),It.current=!1;try{let W=[];const re=le.name.toLowerCase();if(console.log(`Processing file: ${le.name}, Lower: ${re}`),re.endsWith(".csv"))console.log("Selected Parser: CSV"),W=await cO(le);else if(re.endsWith(".xlsx")||re.endsWith(".xls"))console.log("Selected Parser: Excel"),W=await dH(le);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",W.length),W.length>0&&console.log("Sample Parsed Item:",W[0]),W.length===0)throw new Error("Arquivo vazio.");const xe={id:K,fileName:le.name,uploadDate:new Date().toISOString(),salespersonId:ze,salespersonName:j,type:"clients",itemCount:W.length,status:"processing"};A(ge=>[xe,...ge]),Ne(ge=>({...ge,total:W.length,status:"processing"}));const ye=(await MJ(W,ze,be,je,v,(ge,Ee)=>{if(It.current)throw new Error("CANCELLED_BY_USER");Ne(Le=>({...Le,current:ge,total:Ee}))})).map(ge=>({...ge,sourceFileId:K}));d(ge=>[...ge,...ye]),Ne(ge=>({...ge,status:"completed"})),A(ge=>ge.map(Ee=>Ee.id===K?{...Ee,status:"completed"}:Ee)),setTimeout(()=>{Ne(ge=>ge.status==="completed"?{...ge,isActive:!1}:ge)},5e3)}catch(W){console.error(W);const re=W.message==="CANCELLED_BY_USER",xe=re?"Cancelado pelo usurio.":W.message||"Erro desconhecido",Ie=re;Ne(ye=>({...ye,status:"error",errorMessage:xe,isActive:!Ie})),A(ye=>ye.map(ge=>ge.id===K?{...ge,status:"error",errorMessage:xe}:ge))}},Aa=le=>{const ze=S.find(U=>U.id===le);ze&&window.confirm(`Tem certeza que deseja excluir o arquivo "${ze.fileName}"?

Isso remover todos os ${ze.itemCount} registros associados.`)&&(ze.type==="clients"?d(U=>U.filter(Y=>Y.sourceFileId!==le)):ze.type==="products"&&g(U=>U.filter(Y=>Y.sourceFileId!==le)),A(U=>U.filter(Y=>Y.id!==le)))},Qr=(le,ze)=>{const Y=t.find(j=>j.id===ze)?.name||"None";A(j=>j.map(K=>K.id===le?{...K,salespersonId:ze,salespersonName:Y}:K)),d(j=>j.map(K=>K.sourceFileId===le?{...K,salespersonId:ze}:K)),ze?(St("map"),M(ze),alert(`Arquivo e ${X.filter(j=>j.sourceFileId===le).length} clientes reatribudos para: ${Y}

Mapa filtrado automaticamente.`)):(M("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},Ws=async le=>{const ze=crypto.randomUUID();Ne({isActive:!0,total:0,current:0,fileName:le.name,ownerName:"Sistema",status:"reading"});try{let U=[];const Y=le.name.toLowerCase();if(Y.endsWith(".csv"))U=await Ib(le);else if(Y.endsWith(".xlsx")||Y.endsWith(".xls"))U=await fI(le);else throw new Error("Formato no suportado.");if(U.length===0)throw new Error("Arquivo vazio.");U=U.map(K=>({...K,sourceFileId:ze}));const j={id:ze,fileName:le.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:U.length,status:"completed"};A(K=>[j,...K]),$t(U),Ne({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${U.length} produtos importados com sucesso.`)}catch(U){console.error(U),Ne(Y=>({...Y,status:"error",errorMessage:U.message})),A(Y=>Y.map(j=>j.id===ze?{...j,status:"error",errorMessage:U.message}:j))}},Hi="6LcyKmUsAAAAAC-uUPRRD2ZMZRJu_dBPUH5Gp4gm";if(console.log("[APP] reCAPTCHA Key Source:","FALLBACK"),console.log("[APP] reCAPTCHA Key (first 10 chars):",Hi.substring(0,10)+"..."),console.log("[APP] Environment:","production"),!n)return _.jsx(PC,{reCaptchaKey:Hi,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:_.jsx(mne,{users:t,onLogin:Xr})});const zn=il(n.role),Ct=Uv(n.role),bs=pe!=="Todos"||ce!=="Todos"||ie!=="";return _.jsx(PC,{reCaptchaKey:Hi,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:_.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[Dn&&_.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>rt(!1),role:"button",tabIndex:0,"aria-label":"Fechar menu",onKeyDown:le=>le.key==="Escape"&&rt(!1)}),_.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${Dn?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[_.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[_.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[_.jsx(r2,{className:"w-6 h-6"}),"Rota de Vendas"]}),_.jsx("button",{onClick:()=>rt(!1),className:"md:hidden text-on-surface-variant hover:text-primary",title:"Fechar menu lateral",children:_.jsx(ma,{className:"w-6 h-6"})})]}),_.jsx("div",{className:"px-6 py-2",children:_.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:zn?"Painel Administrativo":"Portal do Vendedor"})}),_.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[_.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),_.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),_.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[_.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md overflow-hidden ${zn?"bg-tertiary":"bg-secondary"}`,children:n.photoURL?_.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):_.jsx("span",{children:n.name.charAt(0)})}),_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:n.name}),_.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:n.email})]})]})]}),_.jsxs("nav",{className:"space-y-1 mb-8",children:[_.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),_.jsxs("button",{onClick:()=>{Ge("map"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${qe==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(jD,{className:`w-5 h-5 ${qe==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),_.jsxs("button",{onClick:()=>{Ge("table"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${qe==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(mM,{className:`w-5 h-5 ${qe==="table"?"fill-current":""}`}),"Listagem de Dados"]})]}),zn&&_.jsxs("nav",{className:"space-y-1 mb-8",children:[_.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),_.jsxs("button",{onClick:()=>{St("admin_users"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${qe==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(Lv,{className:`w-5 h-5 ${qe==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),_.jsxs("button",{onClick:()=>{St("admin_categories"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${qe==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(qC,{className:`w-5 h-5 ${qe==="admin_categories"?"fill-current":""}`}),"Categorias"]}),_.jsxs("button",{onClick:()=>{St("admin_products"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${qe==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(pl,{className:`w-5 h-5 ${qe==="admin_products"?"fill-current":""}`}),"Produtos"]}),_.jsxs("button",{onClick:()=>{St("admin_files"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${qe==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[_.jsx(B0,{className:`w-5 h-5 ${qe==="admin_files"?"fill-current":""}`}),"Arquivos"]}),_.jsxs("button",{onClick:()=>{wn(!0),rt(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[_.jsx(Mv,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),_.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[_.jsxs("button",{onClick:zr,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",title:"Encerrar sesso e sair do sistema",children:[_.jsx(VD,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),_.jsx("div",{className:"text-center mt-4",children:_.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),_.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[_.jsx("button",{onClick:()=>rt(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",title:"Abrir menu",children:_.jsx(YD,{className:"w-6 h-6"})}),_.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[_.jsx(r2,{className:"w-5 h-5"})," Rota de Vendas"]}),_.jsx("div",{className:"w-10"})," "]}),_.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!il&&qe==="table"&&_.jsx("button",{onClick:()=>tt(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",children:_.jsx(Lv,{className:"w-6 h-6"})}),_.jsx(_ne,{isOpen:cn,onClose:()=>wn(!1),onSaveToCloud:()=>{Ap(f,h,v,t),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:Sa,isFirebaseConnected:C}),_.jsx(Ene,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),_.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[_.jsx("span",{children:"Portal"}),_.jsx(yD,{className:"w-4 h-4"}),_.jsx("span",{className:"font-semibold text-blue-600",children:qe==="map"?"Mapa da Carteira":qe==="table"?"Listagem de Clientes":qe==="admin_categories"?"Categorias de Clientes":qe==="admin_products"?"Catlogo de Produtos":"Gesto de Usurios"})]}),_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsxs("div",{className:"text-right",children:[_.jsx("p",{className:"text-xs text-gray-400",children:il?"Clientes Visualizados":"Meus Clientes"}),_.jsx("p",{className:"text-lg font-bold leading-none",children:z.length})]}),il&&_.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[_.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),_.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:f.length})]})]})]}),qe==="admin_users"&&zn?_.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:_.jsx(vne,{currentUser:n,users:t,onAddUser:i,onUpdateUser:o,onDeleteUser:c,onCleanupDuplicates:Ft,totalClients:f.length})}):qe==="admin_categories"&&zn?_.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:_.jsx(xne,{categories:v,onAddCategory:Jt,onDeleteCategory:At})}):qe==="admin_products"&&zn?_.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:_.jsx(yne,{products:h,onUploadProducts:$t,onClearProducts:pn,onSaveProducts:dr,apiKey:be})}):qe==="admin_files"&&zn?_.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:_.jsx(Tne,{users:t,uploadedFiles:S,onUploadClients:(le,ze)=>Mo(le,ze),onUploadProducts:Ws,onDeleteFile:Aa,onReassignSalesperson:Qr,procState:ve})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"bg-gray-100 px-3 py-2.5 border-b border-gray-200 flex flex-col gap-2",children:[_.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_.jsxs("div",{className:"relative",children:[_.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsx("input",{type:"text",value:k,onChange:le=>V(le.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-3 py-1.5 text-sm border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-52 border outline-none"})]}),_.jsx("div",{className:"h-5 w-px bg-gray-300 mx-1 hidden sm:block"}),_.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[_.jsx(jC,{className:"w-4 h-4"}),_.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"Filtros:"})]}),_.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${Ct?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[_.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${Ct?"text-purple-600":"text-gray-500"}`,title:zn?"Perfil Administrador":Ct?"Perfil Gestor":"Perfil Vendedor",children:[Ct?_.jsx(Ov,{className:"w-3 h-3"}):_.jsx(us,{className:"w-3 h-3"}),zn?"Admin":Ct?"Gesto":"Vendedor"]}),_.jsxs("div",{className:"relative",children:[_.jsx(us,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${Ct?"text-purple-400":"text-gray-400"}`}),_.jsxs("select",{value:Ct?O:n?.id||"",onChange:le=>Ct&&M(le.target.value),disabled:!Ct,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${Ct?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:Ct?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[Ct&&_.jsx("option",{value:"Todos",children:"Todos Vendedores"}),Ct?t.filter(le=>le.role==="salesperson"||le.role==="sales_external"||le.role==="sales_internal").map(le=>_.jsx("option",{value:le.id,children:le.name},le.id)):_.jsx("option",{value:n?.id,children:n?.name})]})]}),Ct&&_.jsxs("div",{className:"relative animate-fade-in",children:[_.jsx(U0,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),_.jsxs("select",{value:B,onChange:le=>fe(le.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[_.jsx("option",{value:"Todos",children:"Todas Equipes"}),_.jsx("option",{value:"Externo",children:"Externo"}),_.jsx("option",{value:"Interno",children:"Interno"}),_.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),_.jsxs("select",{value:D,onChange:le=>{H(le.target.value),J("Todos"),N("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio geogrfica",children:[_.jsx("option",{value:"Todas",children:"Todas Regies"}),Gf.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("select",{value:G,onChange:le=>{J(le.target.value),N("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:Q.length===0,title:"Filtrar por estado (UF)",children:[_.jsxs("option",{value:"Todos",children:["Todos Estados ",D!=="Todas"?`(${D})`:""]}),Q.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("select",{value:I,onChange:le=>N(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5 min-w-[100px]",disabled:G==="Todos"||ne.length===0,children:[_.jsx("option",{value:"Todas",children:"Todas Cidades"}),ne.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("div",{className:"flex items-center gap-1 relative",children:[_.jsx(lo,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),_.jsxs("select",{value:b,onChange:le=>F(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",children:[_.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),v.map(le=>_.jsx("option",{value:le,children:le},le))]})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[_.jsx(pl,{className:"w-4 h-4"}),"Vendas:"]}),_.jsxs("select",{value:pe,onChange:le=>ae(le.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${pe!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[_.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),te.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("div",{className:"relative animate-fade-in",children:[_.jsx(lo,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${ce!=="Todos"?"text-green-600":"text-gray-400"}`}),_.jsxs("select",{value:ce,onChange:le=>ee(le.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${ce!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por produto especfico",children:[_.jsx("option",{value:"Todos",children:"Todos Produtos"}),h.filter(le=>pe==="Todos"||le.category===pe).sort((le,ze)=>le.name.localeCompare(ze.name)).map(le=>_.jsxs("option",{value:le.sku,children:[le.name.substring(0,30),"... (",le.sku,")"]},le.sku))]})]}),_.jsxs("div",{className:"relative",children:[_.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),_.jsx("input",{type:"text",value:ie,onChange:le=>Re(le.target.value),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-56 transition-colors ${ie?"bg-green-50 border-green-300":"border-gray-300"}`,title:"Buscar produtos por SKU, Marca, Cdigo ou Descrio"})]}),bs&&_.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[_.jsx(hl,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!bs&&_.jsx("span",{className:"ml-auto text-xs text-gray-400",children:h.length===0?"Nenhum produto cadastrado no admin.":`${h.length} produtos no catlogo.`})]}),_.jsx("div",{className:"flex justify-end",children:_.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-lg",children:[X.length," resultados encontrados"]})})]}),_.jsx("div",{className:"flex-1 overflow-hidden p-1.5 bg-gray-100",children:z.length===0&&!ve.isActive?_.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:il?_.jsxs(_.Fragment,{children:[_.jsx(B0,{className:"w-12 h-12 mb-2 opacity-20"}),_.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),_.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):_.jsxs(_.Fragment,{children:[_.jsx(Fv,{className:"w-12 h-12 mb-2 opacity-20"}),_.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),_.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):_.jsx("div",{className:"h-full bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden relative",children:qe==="map"?_.jsx(Zte,{clients:X,apiKey:je,onInvalidKey:hr,productFilterActive:bs,highlightProductTerm:ie,activeProductCategory:pe,users:t,filterContent:_.jsxs("div",{className:"bg-gray-100/95 backdrop-blur-sm px-3 py-2 flex flex-col gap-1.5",children:[_.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[_.jsxs("div",{className:"relative",children:[_.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsx("input",{type:"text",value:k,onChange:le=>V(le.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-3 py-1.5 text-sm border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-48 border outline-none",title:"Buscar cliente ou empresa"})]}),_.jsx("div",{className:"h-5 w-px bg-gray-300 mx-0.5 hidden sm:block"}),_.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${Ct?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[_.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${Ct?"text-purple-600":"text-gray-500"}`,children:[Ct?_.jsx(Ov,{className:"w-3 h-3"}):_.jsx(us,{className:"w-3 h-3"}),zn?"Admin":Ct?"Gesto":"Vendedor"]}),_.jsxs("div",{className:"relative",children:[_.jsx(us,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${Ct?"text-purple-400":"text-gray-400"}`}),_.jsxs("select",{value:Ct?O:n?.id||"",onChange:le=>Ct&&M(le.target.value),disabled:!Ct,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${Ct?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:Ct?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[Ct&&_.jsx("option",{value:"Todos",children:"Todos Vendedores"}),Ct?t.filter(le=>le.role==="salesperson"||le.role==="sales_external"||le.role==="sales_internal").map(le=>_.jsx("option",{value:le.id,children:le.name},le.id)):_.jsx("option",{value:n?.id,children:n?.name})]})]}),Ct&&_.jsxs("div",{className:"relative animate-fade-in",children:[_.jsx(U0,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),_.jsxs("select",{value:B,onChange:le=>fe(le.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[_.jsx("option",{value:"Todos",children:"Todas Equipes"}),_.jsx("option",{value:"Externo",children:"Externo"}),_.jsx("option",{value:"Interno",children:"Interno"}),_.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),_.jsxs("select",{value:D,onChange:le=>{H(le.target.value),J("Todos"),N("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio",children:[_.jsx("option",{value:"Todas",children:"Todas Regies"}),Gf.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("select",{value:G,onChange:le=>{J(le.target.value),N("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:Q.length===0,title:"Filtrar por estado",children:[_.jsx("option",{value:"Todos",children:"Todos Estados"}),Q.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("select",{value:I,onChange:le=>N(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:G==="Todos"||ne.length===0,children:[_.jsx("option",{value:"Todas",children:"Todas Cidades"}),ne.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("div",{className:"flex items-center gap-1 relative",children:[_.jsx(lo,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),_.jsxs("select",{value:b,onChange:le=>F(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",children:[_.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),v.map(le=>_.jsx("option",{value:le,children:le},le))]})]}),_.jsxs("span",{className:"ml-auto text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-lg",children:[X.length," resultados"]})]}),_.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[_.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[_.jsx(pl,{className:"w-4 h-4"}),"Vendas:"]}),_.jsxs("select",{value:pe,onChange:le=>ae(le.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${pe!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[_.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),te.map(le=>_.jsx("option",{value:le,children:le},le))]}),_.jsxs("div",{className:"relative animate-fade-in",children:[_.jsx(lo,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${ce!=="Todos"?"text-green-600":"text-gray-400"}`}),_.jsxs("select",{value:ce,onChange:le=>ee(le.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${ce!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[_.jsx("option",{value:"Todos",children:"Todos Produtos"}),h.filter(le=>pe==="Todos"||le.category===pe).sort((le,ze)=>le.name.localeCompare(ze.name)).map(le=>_.jsxs("option",{value:le.sku,children:[le.name.substring(0,30),"... (",le.sku,")"]},le.sku))]})]}),_.jsxs("div",{className:"relative",children:[_.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),_.jsx("input",{type:"text",value:ie,onChange:le=>Re(le.target.value),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-52 transition-colors ${ie?"bg-green-50 border-green-300":"border-gray-300"}`})]}),bs&&_.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[_.jsx(hl,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]})]})]})},`${be}-${ft}`):_.jsx(tne,{clients:X,onUpdateClient:Br,onAddClient:Js,currentUserRole:n?.role,currentUserId:n?.id,currentUserName:n?.name,products:h,productCategories:te,users:t,uploadedFiles:S,onGeneratePlusCodes:zi})})})]}),ve.isActive&&_.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[_.jsx("div",{className:`h-1.5 w-full ${ve.status==="error"?"bg-red-200":"bg-blue-100"}`,children:_.jsx("div",{className:`h-full transition-all duration-300 ${ve.status==="completed"?"bg-green-500 w-full":ve.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:ve.total>0?`${ve.current/ve.total*100}%`:"0%"}})}),_.jsxs("div",{className:"p-4",children:[_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{children:[_.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[ve.status==="completed"&&_.jsx(hl,{className:"w-4 h-4 text-green-500"}),ve.status==="processing"&&_.jsx(Af,{className:"w-4 h-4 text-blue-500 animate-spin"}),ve.status==="error"&&_.jsx(pa,{className:"w-4 h-4 text-red-500"}),ve.status==="reading"?"Lendo Arquivo...":ve.status==="processing"?"Processando Planilha":ve.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),_.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ve.fileName," ",_.jsx("span",{className:"mx-1",children:""})," ",ve.ownerName]})]}),_.jsx("button",{onClick:()=>{ve.isActive&&ve.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(It.current=!0,Ne(le=>({...le,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):Ne(le=>({...le,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",children:_.jsx(ma,{className:"w-4 h-4"})})]}),ve.status==="processing"&&_.jsxs("div",{className:"mt-3",children:[_.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[_.jsx("span",{children:"Progresso (IA + Maps)"}),_.jsxs("span",{className:"font-mono",children:[ve.current," / ",ve.total]})]}),_.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),ve.status==="error"&&_.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:ve.errorMessage})]})]})]})]})})};class Ine extends Rn.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:_.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[_.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[_.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:_.jsx(pa,{className:"w-8 h-8"})}),_.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),_.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:this.state.error?.toString()}),_.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const d4=document.getElementById("root");if(!d4)throw new Error("Could not find root element to mount to");const Rne=X3.createRoot(d4);Rne.render(_.jsx(Rn.StrictMode,{children:_.jsx(Ine,{children:_.jsx(Nne,{})})}));
