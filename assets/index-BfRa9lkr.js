function cY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Ns(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bw={exports:{}},R0={};var SO;function uY(){if(SO)return R0;SO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:e,type:n,key:s,ref:i!==void 0?i:null,props:a}}return R0.Fragment=t,R0.jsx=r,R0.jsxs=r,R0}var AO;function fY(){return AO||(AO=1,Bw.exports=uY()),Bw.exports}var g=fY(),Vw={exports:{}},Pt={};var CO;function dY(){if(CO)return Pt;CO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(J){return J===null||typeof J!="object"?null:(J=m&&J[m]||J["@@iterator"],typeof J=="function"?J:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function A(J,V,ee){this.props=J,this.context=V,this.refs=E,this.updater=ee||_}A.prototype.isReactComponent={},A.prototype.setState=function(J,V){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,V,"setState")},A.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function L(){}L.prototype=A.prototype;function I(J,V,ee){this.props=J,this.context=V,this.refs=E,this.updater=ee||_}var O=I.prototype=new L;O.constructor=I,b(O,A.prototype),O.isPureReactComponent=!0;var D=Array.isArray;function M(){}var N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function P(J,V,ee){var X=ee.ref;return{$$typeof:e,type:J,key:V,ref:X!==void 0?X:null,props:ee}}function U(J,V){return P(J.type,V,J.props)}function B(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function F(J){var V={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(ee){return V[ee]})}var H=/\/+/g;function fe(J,V){return typeof J=="object"&&J!==null&&J.key!=null?F(""+J.key):V.toString(36)}function pe(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(M,M):(J.status="pending",J.then(function(V){J.status==="pending"&&(J.status="fulfilled",J.value=V)},function(V){J.status==="pending"&&(J.status="rejected",J.reason=V)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function re(J,V,ee,X,q){var he=typeof J;(he==="undefined"||he==="boolean")&&(J=null);var ye=!1;if(J===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(J.$$typeof){case e:case t:ye=!0;break;case d:return ye=J._init,re(ye(J._payload),V,ee,X,q)}}if(ye)return q=q(J),ye=X===""?"."+fe(J,0):X,D(q)?(ee="",ye!=null&&(ee=ye.replace(H,"$&/")+"/"),re(q,V,ee,"",function(ge){return ge})):q!=null&&(B(q)&&(q=U(q,ee+(q.key==null||J&&J.key===q.key?"":(""+q.key).replace(H,"$&/")+"/")+ye)),V.push(q)),1;ye=0;var ke=X===""?".":X+":";if(D(J))for(var le=0;le<J.length;le++)X=J[le],he=ke+fe(X,le),ye+=re(X,V,ee,he,q);else if(le=y(J),typeof le=="function")for(J=le.call(J),le=0;!(X=J.next()).done;)X=X.value,he=ke+fe(X,le++),ye+=re(X,V,ee,he,q);else if(he==="object"){if(typeof J.then=="function")return re(pe(J),V,ee,X,q);throw V=String(J),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ue(J,V,ee){if(J==null)return J;var X=[],q=0;return re(J,X,"","",function(he){return V.call(ee,he,q++)}),X}function ce(J){if(J._status===-1){var V=J._result;V=V(),V.then(function(ee){(J._status===0||J._status===-1)&&(J._status=1,J._result=ee)},function(ee){(J._status===0||J._status===-1)&&(J._status=2,J._result=ee)}),J._status===-1&&(J._status=0,J._result=V)}if(J._status===1)return J._result.default;throw J._result}var ie=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},xe={map:ue,forEach:function(J,V,ee){ue(J,function(){V.apply(this,arguments)},ee)},count:function(J){var V=0;return ue(J,function(){V++}),V},toArray:function(J){return ue(J,function(V){return V})||[]},only:function(J){if(!B(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Pt.Activity=p,Pt.Children=xe,Pt.Component=A,Pt.Fragment=r,Pt.Profiler=i,Pt.PureComponent=I,Pt.StrictMode=n,Pt.Suspense=c,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(J){return N.H.useMemoCache(J)}},Pt.cache=function(J){return function(){return J.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(J,V,ee){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var X=b({},J.props),q=J.key;if(V!=null)for(he in V.key!==void 0&&(q=""+V.key),V)!k.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(X[he]=V[he]);var he=arguments.length-2;if(he===1)X.children=ee;else if(1<he){for(var ye=Array(he),ke=0;ke<he;ke++)ye[ke]=arguments[ke+2];X.children=ye}return P(J.type,q,X)},Pt.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},Pt.createElement=function(J,V,ee){var X,q={},he=null;if(V!=null)for(X in V.key!==void 0&&(he=""+V.key),V)k.call(V,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(q[X]=V[X]);var ye=arguments.length-2;if(ye===1)q.children=ee;else if(1<ye){for(var ke=Array(ye),le=0;le<ye;le++)ke[le]=arguments[le+2];q.children=ke}if(J&&J.defaultProps)for(X in ye=J.defaultProps,ye)q[X]===void 0&&(q[X]=ye[X]);return P(J,he,q)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(J){return{$$typeof:o,render:J}},Pt.isValidElement=B,Pt.lazy=function(J){return{$$typeof:d,_payload:{_status:-1,_result:J},_init:ce}},Pt.memo=function(J,V){return{$$typeof:u,type:J,compare:V===void 0?null:V}},Pt.startTransition=function(J){var V=N.T,ee={};N.T=ee;try{var X=J(),q=N.S;q!==null&&q(ee,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(M,ie)}catch(he){ie(he)}finally{V!==null&&ee.types!==null&&(V.types=ee.types),N.T=V}},Pt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Pt.use=function(J){return N.H.use(J)},Pt.useActionState=function(J,V,ee){return N.H.useActionState(J,V,ee)},Pt.useCallback=function(J,V){return N.H.useCallback(J,V)},Pt.useContext=function(J){return N.H.useContext(J)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(J,V){return N.H.useDeferredValue(J,V)},Pt.useEffect=function(J,V){return N.H.useEffect(J,V)},Pt.useEffectEvent=function(J){return N.H.useEffectEvent(J)},Pt.useId=function(){return N.H.useId()},Pt.useImperativeHandle=function(J,V,ee){return N.H.useImperativeHandle(J,V,ee)},Pt.useInsertionEffect=function(J,V){return N.H.useInsertionEffect(J,V)},Pt.useLayoutEffect=function(J,V){return N.H.useLayoutEffect(J,V)},Pt.useMemo=function(J,V){return N.H.useMemo(J,V)},Pt.useOptimistic=function(J,V){return N.H.useOptimistic(J,V)},Pt.useReducer=function(J,V,ee){return N.H.useReducer(J,V,ee)},Pt.useRef=function(J){return N.H.useRef(J)},Pt.useState=function(J){return N.H.useState(J)},Pt.useSyncExternalStore=function(J,V,ee){return N.H.useSyncExternalStore(J,V,ee)},Pt.useTransition=function(){return N.H.useTransition()},Pt.version="19.2.4",Pt}var NO;function bh(){return NO||(NO=1,Vw.exports=dY()),Vw.exports}var R=bh();const Nr=Ns(R),hY=cY({__proto__:null,default:Nr},[R]);var zw={exports:{}},O0={},$w={exports:{}},Hw={};var kO;function pY(){return kO||(kO=1,(function(e){function t(re,ue){var ce=re.length;re.push(ue);e:for(;0<ce;){var ie=ce-1>>>1,xe=re[ie];if(0<i(xe,ue))re[ie]=ue,re[ce]=xe,ce=ie;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var ue=re[0],ce=re.pop();if(ce!==ue){re[0]=ce;e:for(var ie=0,xe=re.length,J=xe>>>1;ie<J;){var V=2*(ie+1)-1,ee=re[V],X=V+1,q=re[X];if(0>i(ee,ce))X<xe&&0>i(q,ee)?(re[ie]=q,re[X]=ce,ie=X):(re[ie]=ee,re[V]=ce,ie=V);else if(X<xe&&0>i(q,ce))re[ie]=q,re[X]=ce,ie=X;else break e}}return ue}function i(re,ue){var ce=re.sortIndex-ue.sortIndex;return ce!==0?ce:re.id-ue.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,p=null,m=3,y=!1,_=!1,b=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function O(re){for(var ue=r(u);ue!==null;){if(ue.callback===null)n(u);else if(ue.startTime<=re)n(u),ue.sortIndex=ue.expirationTime,t(c,ue);else break;ue=r(u)}}function D(re){if(b=!1,O(re),!_)if(r(c)!==null)_=!0,M||(M=!0,F());else{var ue=r(u);ue!==null&&pe(D,ue.startTime-re)}}var M=!1,N=-1,k=5,P=-1;function U(){return E?!0:!(e.unstable_now()-P<k)}function B(){if(E=!1,M){var re=e.unstable_now();P=re;var ue=!0;try{e:{_=!1,b&&(b=!1,L(N),N=-1),y=!0;var ce=m;try{t:{for(O(re),p=r(c);p!==null&&!(p.expirationTime>re&&U());){var ie=p.callback;if(typeof ie=="function"){p.callback=null,m=p.priorityLevel;var xe=ie(p.expirationTime<=re);if(re=e.unstable_now(),typeof xe=="function"){p.callback=xe,O(re),ue=!0;break t}p===r(c)&&n(c),O(re)}else n(c);p=r(c)}if(p!==null)ue=!0;else{var J=r(u);J!==null&&pe(D,J.startTime-re),ue=!1}}break e}finally{p=null,m=ce,y=!1}ue=void 0}}finally{ue?F():M=!1}}}var F;if(typeof I=="function")F=function(){I(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,fe=H.port2;H.port1.onmessage=B,F=function(){fe.postMessage(null)}}else F=function(){A(B,0)};function pe(re,ue){N=A(function(){re(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(re){switch(m){case 1:case 2:case 3:var ue=3;break;default:ue=m}var ce=m;m=ue;try{return re()}finally{m=ce}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=m;m=re;try{return ue()}finally{m=ce}},e.unstable_scheduleCallback=function(re,ue,ce){var ie=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ie+ce:ie):ce=ie,re){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ce+xe,re={id:d++,callback:ue,priorityLevel:re,startTime:ce,expirationTime:xe,sortIndex:-1},ce>ie?(re.sortIndex=ce,t(u,re),r(c)===null&&re===r(u)&&(b?(L(N),N=-1):b=!0,pe(D,ce-ie))):(re.sortIndex=xe,t(c,re),_||y||(_=!0,M||(M=!0,F()))),re},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(re){var ue=m;return function(){var ce=m;m=ue;try{return re.apply(this,arguments)}finally{m=ce}}}})(Hw)),Hw}var IO;function mY(){return IO||(IO=1,$w.exports=pY()),$w.exports}var Gw={exports:{}},Di={};var PO;function gY(){if(PO)return Di;PO=1;var e=bh();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,u,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:u,implementation:d}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Di.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return a(c,u,null,d)},Di.flushSync=function(c){var u=s.T,d=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=u,n.p=d,n.d.f()}},Di.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Di.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Di.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):d==="script"&&n.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Di.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Di.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin);n.d.L(c,d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Di.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Di.requestFormReset=function(c){n.d.r(c)},Di.unstable_batchedUpdates=function(c,u){return c(u)},Di.useFormState=function(c,u,d){return s.H.useFormState(c,u,d)},Di.useFormStatus=function(){return s.H.useHostTransitionStatus()},Di.version="19.2.4",Di}var RO;function N8(){if(RO)return Gw.exports;RO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gw.exports=gY(),Gw.exports}var OO;function vY(){if(OO)return O0;OO=1;var e=mY(),t=bh(),r=N8();function n(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var f=l,h=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(h=f.return),l=f.return;while(l)}return f.tag===3?h:null}function s(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function u(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(n(188));return f!==l?null:l}for(var h=l,v=f;;){var S=h.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===h)return c(S),l;if(C===v)return c(S),f;C=C.sibling}throw Error(n(188))}if(h.return!==v.return)h=S,v=C;else{for(var z=!1,Y=S.child;Y;){if(Y===h){z=!0,h=S,v=C;break}if(Y===v){z=!0,v=S,h=C;break}Y=Y.sibling}if(!z){for(Y=C.child;Y;){if(Y===h){z=!0,h=C,v=S;break}if(Y===v){z=!0,v=C,h=S;break}Y=Y.sibling}if(!z)throw Error(n(189))}}if(h.alternate!==v)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?l:f}function d(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=d(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=B&&l[B]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function fe(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case P:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case I:return l.displayName||"Context";case L:return(l._context.displayName||"Context")+".Consumer";case O:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return f=l.displayName||null,f!==null?f:fe(l.type)||"Memo";case k:f=l._payload,l=l._init;try{return fe(l(f))}catch{}}return null}var pe=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ie=[],xe=-1;function J(l){return{current:l}}function V(l){0>xe||(l.current=ie[xe],ie[xe]=null,xe--)}function ee(l,f){xe++,ie[xe]=l.current,l.current=f}var X=J(null),q=J(null),he=J(null),ye=J(null);function ke(l,f){switch(ee(he,f),ee(q,l),ee(X,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?WR(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=WR(f),l=YR(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}V(X),ee(X,l)}function le(){V(X),V(q),V(he)}function ge(l){l.memoizedState!==null&&ee(ye,l);var f=X.current,h=YR(f,l.type);f!==h&&(ee(q,l),ee(X,h))}function De(l){q.current===l&&(V(X),V(q)),ye.current===l&&(V(ye),N0._currentValue=ce)}var K,Ye;function je(l){if(K===void 0)try{throw Error()}catch(h){var f=h.stack.trim().match(/\n( *(at )?)/);K=f&&f[1]||"",Ye=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+l+Ye}var Ke=!1;function Ve(l,f){if(!l||Ke)return"";Ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(f){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Pe){var Ne=Pe}Reflect.construct(l,[],Ue)}else{try{Ue.call()}catch(Pe){Ne=Pe}l.call(Ue.prototype)}}else{try{throw Error()}catch(Pe){Ne=Pe}(Ue=l())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Pe){if(Pe&&Ne&&typeof Pe.stack=="string")return[Pe.stack,Ne.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),z=C[0],Y=C[1];if(z&&Y){var de=z.split(`
`),Ae=Y.split(`
`);for(S=v=0;v<de.length&&!de[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Ae.length&&!Ae[S].includes("DetermineComponentFrameRoot");)S++;if(v===de.length||S===Ae.length)for(v=de.length-1,S=Ae.length-1;1<=v&&0<=S&&de[v]!==Ae[S];)S--;for(;1<=v&&0<=S;v--,S--)if(de[v]!==Ae[S]){if(v!==1||S!==1)do if(v--,S--,0>S||de[v]!==Ae[S]){var Me=`
`+de[v].replace(" at new "," at ");return l.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",l.displayName)),Me}while(1<=v&&0<=S);break}}}finally{Ke=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?je(h):""}function Le(l,f){switch(l.tag){case 26:case 27:case 5:return je(l.type);case 16:return je("Lazy");case 13:return l.child!==f&&f!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Ve(l.type,!1);case 11:return Ve(l.type.render,!1);case 1:return Ve(l.type,!0);case 31:return je("Activity");default:return""}}function Je(l){try{var f="",h=null;do f+=Le(l,h),h=l,l=l.return;while(l);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var tt=Object.prototype.hasOwnProperty,ht=e.unstable_scheduleCallback,at=e.unstable_cancelCallback,At=e.unstable_shouldYield,Br=e.unstable_requestPaint,wt=e.unstable_now,$t=e.unstable_getCurrentPriorityLevel,Zt=e.unstable_ImmediatePriority,Ir=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,Et=e.unstable_LowPriority,xt=e.unstable_IdlePriority,rr=e.log,xr=e.unstable_setDisableYieldValue,Vt=null,wr=null;function gi(l){if(typeof rr=="function"&&xr(l),wr&&typeof wr.setStrictMode=="function")try{wr.setStrictMode(Vt,l)}catch{}}var Vr=Math.clz32?Math.clz32:qo,cu=Math.log,co=Math.LN2;function qo(l){return l>>>=0,l===0?32:31-(cu(l)/co|0)|0}var vi=256,Rs=262144,Fr=4194304;function yi(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function In(l,f,h){var v=l.pendingLanes;if(v===0)return 0;var S=0,C=l.suspendedLanes,z=l.pingedLanes;l=l.warmLanes;var Y=v&134217727;return Y!==0?(v=Y&~C,v!==0?S=yi(v):(z&=Y,z!==0?S=yi(z):h||(h=Y&~l,h!==0&&(S=yi(h))))):(Y=v&~C,Y!==0?S=yi(Y):z!==0?S=yi(z):h||(h=v&~l,h!==0&&(S=yi(h)))),S===0?0:f!==0&&f!==S&&(f&C)===0&&(C=S&-S,h=f&-f,C>=h||C===32&&(h&4194048)!==0)?f:S}function xi(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function ma(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Za(){var l=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),l}function _n(l){for(var f=[],h=0;31>h;h++)f.push(l);return f}function _i(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Bf(l,f,h,v,S,C){var z=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var Y=l.entanglements,de=l.expirationTimes,Ae=l.hiddenUpdates;for(h=z&~h;0<h;){var Me=31-Vr(h),Ue=1<<Me;Y[Me]=0,de[Me]=-1;var Ne=Ae[Me];if(Ne!==null)for(Ae[Me]=null,Me=0;Me<Ne.length;Me++){var Pe=Ne[Me];Pe!==null&&(Pe.lane&=-536870913)}h&=~Ue}v!==0&&Os(l,v,0),C!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=C&~(z&~f))}function Os(l,f,h){l.pendingLanes|=f,l.suspendedLanes&=~f;var v=31-Vr(f);l.entangledLanes|=f,l.entanglements[v]=l.entanglements[v]|1073741824|h&261930}function Qa(l,f){var h=l.entangledLanes|=f;for(l=l.entanglements;h;){var v=31-Vr(h),S=1<<v;S&f|l[v]&f&&(l[v]|=f),h&=~S}}function on(l,f){var h=f&-f;return h=(h&42)!==0?1:Ms(h),(h&(l.suspendedLanes|f))!==0?0:h}function Ms(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ga(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function W(){var l=ue.p;return l!==0?l:(l=window.event,l===void 0?32:yO(l.type))}function ae(l,f){var h=ue.p;try{return ue.p=l,f()}finally{ue.p=h}}var Z=Math.random().toString(36).slice(2),te="__reactFiber$"+Z,ne="__reactProps$"+Z,oe="__reactContainer$"+Z,we="__reactEvents$"+Z,Oe="__reactListeners$"+Z,Ee="__reactHandles$"+Z,Ce="__reactResources$"+Z,Se="__reactMarker$"+Z;function qe(l){delete l[te],delete l[ne],delete l[we],delete l[Oe],delete l[Ee]}function We(l){var f=l[te];if(f)return f;for(var h=l.parentNode;h;){if(f=h[oe]||h[te]){if(h=f.alternate,f.child!==null||h!==null&&h.child!==null)for(l=rO(l);l!==null;){if(h=l[te])return h;l=rO(l)}return f}l=h,h=l.parentNode}return null}function Qe(l){if(l=l[te]||l[oe]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function He(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(n(33))}function Xe(l){var f=l[Ce];return f||(f=l[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function lt(l){l[Se]=!0}var pr=new Set,mr={};function Er(l,f){ri(l,f),ri(l+"Capture",f)}function ri(l,f){for(mr[l]=f,l=0;l<f.length;l++)pr.add(f[l])}var Zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gr={},Dt={};function Oa(l){return tt.call(Dt,l)?!0:tt.call(gr,l)?!1:Zi.test(l)?Dt[l]=!0:(gr[l]=!0,!1)}function se(l,f,h){if(Oa(f))if(h===null)l.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var v=f.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+h)}}function Re(l,f,h){if(h===null)l.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+h)}}function $e(l,f,h,v){if(v===null)l.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(f,h,""+v)}}function et(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function mt(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Mt(l,f,h){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,C=v.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return S.call(this)},set:function(z){h=""+z,C.call(this,z)}}),Object.defineProperty(l,f,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(z){h=""+z},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function nt(l){if(!l._valueTracker){var f=mt(l)?"checked":"value";l._valueTracker=Mt(l,f,""+l[f])}}function gt(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var h=f.getValue(),v="";return l&&(v=mt(l)?l.checked?"true":"false":l.value),l=v,l!==h?(f.setValue(l),!0):!1}function Tt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var zt=/[\n"\\]/g;function Nt(l){return l.replace(zt,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ht(l,f,h,v,S,C,z,Y){l.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.type=z:l.removeAttribute("type"),f!=null?z==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+et(f)):l.value!==""+et(f)&&(l.value=""+et(f)):z!=="submit"&&z!=="reset"||l.removeAttribute("value"),f!=null?Qt(l,z,et(f)):h!=null?Qt(l,z,et(h)):v!=null&&l.removeAttribute("value"),S==null&&C!=null&&(l.defaultChecked=!!C),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?l.name=""+et(Y):l.removeAttribute("name")}function Gn(l,f,h,v,S,C,z,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),f!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||f!=null)){nt(l);return}h=h!=null?""+et(h):"",f=f!=null?""+et(f):h,Y||f===l.value||(l.value=f),l.defaultValue=f}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=Y?l.checked:!!v,l.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(l.name=z),nt(l)}function Qt(l,f,h){f==="number"&&Tt(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function Pn(l,f,h,v){if(l=l.options,f){f={};for(var S=0;S<h.length;S++)f["$"+h[S]]=!0;for(h=0;h<l.length;h++)S=f.hasOwnProperty("$"+l[h].value),l[h].selected!==S&&(l[h].selected=S),S&&v&&(l[h].defaultSelected=!0)}else{for(h=""+et(h),f=null,S=0;S<l.length;S++){if(l[S].value===h){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}f!==null||l[S].disabled||(f=l[S])}f!==null&&(f.selected=!0)}}function Qi(l,f,h){if(f!=null&&(f=""+et(f),f!==l.value&&(l.value=f),h==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=h!=null?""+et(h):""}function Tr(l,f,h,v){if(f==null){if(v!=null){if(h!=null)throw Error(n(92));if(pe(v)){if(1<v.length)throw Error(n(93));v=v[0]}h=v}h==null&&(h=""),f=h}h=et(f),l.defaultValue=h,v=l.textContent,v===h&&v!==""&&v!==null&&(l.value=v),nt(l)}function bn(l,f){if(f){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=f;return}}l.textContent=f}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ln(l,f,h){var v=f.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":v?l.setProperty(f,h):typeof h!="number"||h===0||uu.has(f)?f==="float"?l.cssFloat=h:l[f]=(""+h).trim():l[f]=h+"px"}function Ds(l,f,h){if(f!=null&&typeof f!="object")throw Error(n(62));if(l=l.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||f!=null&&f.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var S in f)v=f[S],f.hasOwnProperty(S)&&h[S]!==v&&ln(l,S,v)}else for(var C in f)f.hasOwnProperty(C)&&ln(l,C,f[C])}function uo(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vf(l){return Kl.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Ls(){}var Hh=null;function es(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Wl=null,fo=null;function fu(l){var f=Qe(l);if(f&&(l=f.stateNode)){var h=l[ne]||null;e:switch(l=f.stateNode,f.type){case"input":if(Ht(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),f=h.name,h.type==="radio"&&f!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Nt(""+f)+'"][type="radio"]'),f=0;f<h.length;f++){var v=h[f];if(v!==l&&v.form===l.form){var S=v[ne]||null;if(!S)throw Error(n(90));Ht(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(f=0;f<h.length;f++)v=h[f],v.form===l.form&&gt(v)}break e;case"textarea":Qi(l,h.value,h.defaultValue);break e;case"select":f=h.value,f!=null&&Pn(l,!!h.multiple,f,!1)}}}var zf=!1;function Yl(l,f,h){if(zf)return l(f,h);zf=!0;try{var v=l(f);return v}finally{if(zf=!1,(Wl!==null||fo!==null)&&(tv(),Wl&&(f=Wl,l=fo,fo=Wl=null,fu(f),l)))for(f=0;f<l.length;f++)fu(l[f])}}function Fs(l,f){var h=l.stateNode;if(h===null)return null;var v=h[ne]||null;if(v===null)return null;h=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(n(231,f,typeof h));return h}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=!1;if(ts)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){du=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{du=!1}var ho=null,Gh=null,hu=null;function qh(){if(hu)return hu;var l,f=Gh,h=f.length,v,S="value"in ho?ho.value:ho.textContent,C=S.length;for(l=0;l<h&&f[l]===S[l];l++);var z=h-l;for(v=1;v<=z&&f[h-v]===S[C-v];v++);return hu=S.slice(l,1<v?1-v:void 0)}function pu(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Ko(){return!0}function js(){return!1}function bi(l){function f(h,v,S,C,z){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=z,this.currentTarget=null;for(var Y in l)l.hasOwnProperty(Y)&&(h=l[Y],this[Y]=h?h(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Ko:js,this.isPropagationStopped=js,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),f}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=bi(Wo),Jl=p({},Wo,{view:0,detail:0}),Kh=bi(Jl),Xl,$f,mo,Hf=p({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==mo&&(mo&&l.type==="mousemove"?(Xl=l.screenX-mo.screenX,$f=l.screenY-mo.screenY):$f=Xl=0,mo=l),Xl)},movementY:function(l){return"movementY"in l?l.movementY:$f}}),Wh=bi(Hf),mu=p({},Hf,{dataTransfer:0}),cg=bi(mu),ug=p({},Jl,{relatedTarget:0}),gu=bi(ug),Yh=p({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),fg=bi(Yh),Gf=p({},Wo,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),dg=bi(Gf),hg=p({},Wo,{data:0}),go=bi(hg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vg(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=gg[l])?!!f[l]:!1}function Zl(){return vg}var ea=p({},Jl,{key:function(l){if(l.key){var f=pg[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=pu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?mg[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(l){return l.type==="keypress"?pu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?pu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),yg=bi(ea),xg=p({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=bi(xg),T=p({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),j=bi(T),G=p({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=bi(G),_e=p({},Hf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=bi(_e),Ze=p({},Wo,{newState:0,oldState:0}),Lt=bi(Ze),wn=[9,13,27,32],vr=ts&&"CompositionEvent"in window,Jr=null;ts&&"documentMode"in document&&(Jr=document.documentMode);var rs=ts&&"TextEvent"in window&&!Jr,vo=ts&&(!vr||Jr&&8<Jr&&11>=Jr),Us=" ",Bs=!1;function vu(l,f){switch(l){case"keyup":return wn.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Kf=!1;function OK(l,f){switch(l){case"compositionend":return qf(f);case"keypress":return f.which!==32?null:(Bs=!0,Us);case"textInput":return l=f.data,l===Us&&Bs?null:l;default:return null}}function MK(l,f){if(Kf)return l==="compositionend"||!vr&&vu(l,f)?(l=qh(),hu=Gh=ho=null,Kf=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return vo&&f.locale!=="ko"?null:f.data;default:return null}}var DK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aI(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!DK[l.type]:f==="textarea"}function sI(l,f,h,v){Wl?fo?fo.push(v):fo=[v]:Wl=v,f=lv(f,"onChange"),0<f.length&&(h=new po("onChange","change",null,h,v),l.push({event:h,listeners:f}))}var Jh=null,Xh=null;function LK(l){zR(l,0)}function _g(l){var f=He(l);if(gt(f))return l}function oI(l,f){if(l==="change")return f}var lI=!1;if(ts){var K_;if(ts){var W_="oninput"in document;if(!W_){var cI=document.createElement("div");cI.setAttribute("oninput","return;"),W_=typeof cI.oninput=="function"}K_=W_}else K_=!1;lI=K_&&(!document.documentMode||9<document.documentMode)}function uI(){Jh&&(Jh.detachEvent("onpropertychange",fI),Xh=Jh=null)}function fI(l){if(l.propertyName==="value"&&_g(Xh)){var f=[];sI(f,Xh,l,es(l)),Yl(LK,f)}}function FK(l,f,h){l==="focusin"?(uI(),Jh=f,Xh=h,Jh.attachEvent("onpropertychange",fI)):l==="focusout"&&uI()}function jK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return _g(Xh)}function UK(l,f){if(l==="click")return _g(f)}function BK(l,f){if(l==="input"||l==="change")return _g(f)}function VK(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Ma=typeof Object.is=="function"?Object.is:VK;function Zh(l,f){if(Ma(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var h=Object.keys(l),v=Object.keys(f);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!tt.call(f,S)||!Ma(l[S],f[S]))return!1}return!0}function dI(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function hI(l,f){var h=dI(l);l=0;for(var v;h;){if(h.nodeType===3){if(v=l+h.textContent.length,l<=f&&v>=f)return{node:h,offset:f-l};l=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=dI(h)}}function pI(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?pI(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function mI(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Tt(l.document);f instanceof l.HTMLIFrameElement;){try{var h=typeof f.contentWindow.location.href=="string"}catch{h=!1}if(h)l=f.contentWindow;else break;f=Tt(l.document)}return f}function Y_(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var zK=ts&&"documentMode"in document&&11>=document.documentMode,Wf=null,J_=null,Qh=null,X_=!1;function gI(l,f,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;X_||Wf==null||Wf!==Tt(v)||(v=Wf,"selectionStart"in v&&Y_(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Qh&&Zh(Qh,v)||(Qh=v,v=lv(J_,"onSelect"),0<v.length&&(f=new po("onSelect","select",null,f,h),l.push({event:f,listeners:v}),f.target=Wf)))}function yu(l,f){var h={};return h[l.toLowerCase()]=f.toLowerCase(),h["Webkit"+l]="webkit"+f,h["Moz"+l]="moz"+f,h}var Yf={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionrun:yu("Transition","TransitionRun"),transitionstart:yu("Transition","TransitionStart"),transitioncancel:yu("Transition","TransitionCancel"),transitionend:yu("Transition","TransitionEnd")},Z_={},vI={};ts&&(vI=document.createElement("div").style,"AnimationEvent"in window||(delete Yf.animationend.animation,delete Yf.animationiteration.animation,delete Yf.animationstart.animation),"TransitionEvent"in window||delete Yf.transitionend.transition);function xu(l){if(Z_[l])return Z_[l];if(!Yf[l])return l;var f=Yf[l],h;for(h in f)if(f.hasOwnProperty(h)&&h in vI)return Z_[l]=f[h];return l}var yI=xu("animationend"),xI=xu("animationiteration"),_I=xu("animationstart"),$K=xu("transitionrun"),HK=xu("transitionstart"),GK=xu("transitioncancel"),bI=xu("transitionend"),wI=new Map,Q_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Q_.push("scrollEnd");function Vs(l,f){wI.set(l,f),Er(f,[l])}var bg=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ns=[],Jf=0,eb=0;function wg(){for(var l=Jf,f=eb=Jf=0;f<l;){var h=ns[f];ns[f++]=null;var v=ns[f];ns[f++]=null;var S=ns[f];ns[f++]=null;var C=ns[f];if(ns[f++]=null,v!==null&&S!==null){var z=v.pending;z===null?S.next=S:(S.next=z.next,z.next=S),v.pending=S}C!==0&&EI(h,S,C)}}function Eg(l,f,h,v){ns[Jf++]=l,ns[Jf++]=f,ns[Jf++]=h,ns[Jf++]=v,eb|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function tb(l,f,h,v){return Eg(l,f,h,v),Tg(l)}function _u(l,f){return Eg(l,null,null,f),Tg(l)}function EI(l,f,h){l.lanes|=h;var v=l.alternate;v!==null&&(v.lanes|=h);for(var S=!1,C=l.return;C!==null;)C.childLanes|=h,v=C.alternate,v!==null&&(v.childLanes|=h),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(S=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,S&&f!==null&&(S=31-Vr(h),l=C.hiddenUpdates,v=l[S],v===null?l[S]=[f]:v.push(f),f.lane=h|536870912),C):null}function Tg(l){if(50<b0)throw b0=0,uw=null,Error(n(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var Xf={};function qK(l,f,h,v){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Da(l,f,h,v){return new qK(l,f,h,v)}function rb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Jo(l,f){var h=l.alternate;return h===null?(h=Da(l.tag,f,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=f,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,f=l.dependencies,h.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function TI(l,f){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,f=h.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Sg(l,f,h,v,S,C){var z=0;if(v=l,typeof l=="function")rb(l)&&(z=1);else if(typeof l=="string")z=XW(l,h,X.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case P:return l=Da(31,h,f,S),l.elementType=P,l.lanes=C,l;case b:return bu(h.children,S,C,f);case E:z=8,S|=24;break;case A:return l=Da(12,h,f,S|2),l.elementType=A,l.lanes=C,l;case D:return l=Da(13,h,f,S),l.elementType=D,l.lanes=C,l;case M:return l=Da(19,h,f,S),l.elementType=M,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case I:z=10;break e;case L:z=9;break e;case O:z=11;break e;case N:z=14;break e;case k:z=16,v=null;break e}z=29,h=Error(n(130,l===null?"null":typeof l,"")),v=null}return f=Da(z,h,f,S),f.elementType=l,f.type=v,f.lanes=C,f}function bu(l,f,h,v){return l=Da(7,l,v,f),l.lanes=h,l}function nb(l,f,h){return l=Da(6,l,null,f),l.lanes=h,l}function SI(l){var f=Da(18,null,null,0);return f.stateNode=l,f}function ib(l,f,h){return f=Da(4,l.children!==null?l.children:[],l.key,f),f.lanes=h,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var AI=new WeakMap;function is(l,f){if(typeof l=="object"&&l!==null){var h=AI.get(l);return h!==void 0?h:(f={value:l,source:f,stack:Je(f)},AI.set(l,f),f)}return{value:l,source:f,stack:Je(f)}}var Zf=[],Qf=0,Ag=null,e0=0,as=[],ss=0,Ql=null,yo=1,xo="";function Xo(l,f){Zf[Qf++]=e0,Zf[Qf++]=Ag,Ag=l,e0=f}function CI(l,f,h){as[ss++]=yo,as[ss++]=xo,as[ss++]=Ql,Ql=l;var v=yo;l=xo;var S=32-Vr(v)-1;v&=~(1<<S),h+=1;var C=32-Vr(f)+S;if(30<C){var z=S-S%5;C=(v&(1<<z)-1).toString(32),v>>=z,S-=z,yo=1<<32-Vr(f)+S|h<<S|v,xo=C+l}else yo=1<<C|h<<S|v,xo=l}function ab(l){l.return!==null&&(Xo(l,1),CI(l,1,0))}function sb(l){for(;l===Ag;)Ag=Zf[--Qf],Zf[Qf]=null,e0=Zf[--Qf],Zf[Qf]=null;for(;l===Ql;)Ql=as[--ss],as[ss]=null,xo=as[--ss],as[ss]=null,yo=as[--ss],as[ss]=null}function NI(l,f){as[ss++]=yo,as[ss++]=xo,as[ss++]=Ql,yo=f.id,xo=f.overflow,Ql=l}var wi=null,Gr=null,er=!1,ec=null,os=!1,ob=Error(n(519));function tc(l){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw t0(is(f,l)),ob}function kI(l){var f=l.stateNode,h=l.type,v=l.memoizedProps;switch(f[te]=l,f[ne]=v,h){case"dialog":qt("cancel",f),qt("close",f);break;case"iframe":case"object":case"embed":qt("load",f);break;case"video":case"audio":for(h=0;h<E0.length;h++)qt(E0[h],f);break;case"source":qt("error",f);break;case"img":case"image":case"link":qt("error",f),qt("load",f);break;case"details":qt("toggle",f);break;case"input":qt("invalid",f),Gn(f,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":qt("invalid",f);break;case"textarea":qt("invalid",f),Tr(f,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||f.textContent===""+h||v.suppressHydrationWarning===!0||qR(f.textContent,h)?(v.popover!=null&&(qt("beforetoggle",f),qt("toggle",f)),v.onScroll!=null&&qt("scroll",f),v.onScrollEnd!=null&&qt("scrollend",f),v.onClick!=null&&(f.onclick=Ls),f=!0):f=!1,f||tc(l,!0)}function II(l){for(wi=l.return;wi;)switch(wi.tag){case 5:case 31:case 13:os=!1;return;case 27:case 3:os=!0;return;default:wi=wi.return}}function ed(l){if(l!==wi)return!1;if(!er)return II(l),er=!0,!1;var f=l.tag,h;if((h=f!==3&&f!==27)&&((h=f===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||Sw(l.type,l.memoizedProps)),h=!h),h&&Gr&&tc(l),II(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Gr=tO(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Gr=tO(l)}else f===27?(f=Gr,mc(l.type)?(l=Iw,Iw=null,Gr=l):Gr=f):Gr=wi?cs(l.stateNode.nextSibling):null;return!0}function wu(){Gr=wi=null,er=!1}function lb(){var l=ec;return l!==null&&(_a===null?_a=l:_a.push.apply(_a,l),ec=null),l}function t0(l){ec===null?ec=[l]:ec.push(l)}var cb=J(null),Eu=null,Zo=null;function rc(l,f,h){ee(cb,f._currentValue),f._currentValue=h}function Qo(l){l._currentValue=cb.current,V(cb)}function ub(l,f,h){for(;l!==null;){var v=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),l===h)break;l=l.return}}function fb(l,f,h,v){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var C=S.dependencies;if(C!==null){var z=S.child;C=C.firstContext;e:for(;C!==null;){var Y=C;C=S;for(var de=0;de<f.length;de++)if(Y.context===f[de]){C.lanes|=h,Y=C.alternate,Y!==null&&(Y.lanes|=h),ub(C.return,h,l),v||(z=null);break e}C=Y.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(n(341));z.lanes|=h,C=z.alternate,C!==null&&(C.lanes|=h),ub(z,h,l),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===l){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function td(l,f,h,v){l=null;for(var S=f,C=!1;S!==null;){if(!C){if((S.flags&524288)!==0)C=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var Y=S.type;Ma(S.pendingProps.value,z.value)||(l!==null?l.push(Y):l=[Y])}}else if(S===ye.current){if(z=S.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(N0):l=[N0])}S=S.return}l!==null&&fb(f,l,h,v),f.flags|=262144}function Cg(l){for(l=l.firstContext;l!==null;){if(!Ma(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Tu(l){Eu=l,Zo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ei(l){return PI(Eu,l)}function Ng(l,f){return Eu===null&&Tu(l),PI(l,f)}function PI(l,f){var h=f._currentValue;if(f={context:f,memoizedValue:h,next:null},Zo===null){if(l===null)throw Error(n(308));Zo=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else Zo=Zo.next=f;return h}var KK=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(h,v){l.push(v)}};this.abort=function(){f.aborted=!0,l.forEach(function(h){return h()})}},WK=e.unstable_scheduleCallback,YK=e.unstable_NormalPriority,Rn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function db(){return{controller:new KK,data:new Map,refCount:0}}function r0(l){l.refCount--,l.refCount===0&&WK(YK,function(){l.controller.abort()})}var n0=null,hb=0,rd=0,nd=null;function JK(l,f){if(n0===null){var h=n0=[];hb=0,rd=gw(),nd={status:"pending",value:void 0,then:function(v){h.push(v)}}}return hb++,f.then(RI,RI),f}function RI(){if(--hb===0&&n0!==null){nd!==null&&(nd.status="fulfilled");var l=n0;n0=null,rd=0,nd=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function XK(l,f){var h=[],v={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return l.then(function(){v.status="fulfilled",v.value=f;for(var S=0;S<h.length;S++)(0,h[S])(f)},function(S){for(v.status="rejected",v.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),v}var OI=re.S;re.S=function(l,f){gR=wt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&JK(l,f),OI!==null&&OI(l,f)};var Su=J(null);function pb(){var l=Su.current;return l!==null?l:jr.pooledCache}function kg(l,f){f===null?ee(Su,Su.current):ee(Su,f.pool)}function MI(){var l=pb();return l===null?null:{parent:Rn._currentValue,pool:l}}var id=Error(n(460)),mb=Error(n(474)),Ig=Error(n(542)),Pg={then:function(){}};function DI(l){return l=l.status,l==="fulfilled"||l==="rejected"}function LI(l,f,h){switch(h=l[h],h===void 0?l.push(f):h!==f&&(f.then(Ls,Ls),f=h),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,jI(l),l;default:if(typeof f.status=="string")f.then(Ls,Ls);else{if(l=jr,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=f,l.status="pending",l.then(function(v){if(f.status==="pending"){var S=f;S.status="fulfilled",S.value=v}},function(v){if(f.status==="pending"){var S=f;S.status="rejected",S.reason=v}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,jI(l),l}throw Cu=f,id}}function Au(l){try{var f=l._init;return f(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Cu=h,id):h}}var Cu=null;function FI(){if(Cu===null)throw Error(n(459));var l=Cu;return Cu=null,l}function jI(l){if(l===id||l===Ig)throw Error(n(483))}var ad=null,i0=0;function Rg(l){var f=i0;return i0+=1,ad===null&&(ad=[]),LI(ad,l,f)}function a0(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Og(l,f){throw f.$$typeof===m?Error(n(525)):(l=Object.prototype.toString.call(f),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function UI(l){function f(ve,me){if(l){var Te=ve.deletions;Te===null?(ve.deletions=[me],ve.flags|=16):Te.push(me)}}function h(ve,me){if(!l)return null;for(;me!==null;)f(ve,me),me=me.sibling;return null}function v(ve){for(var me=new Map;ve!==null;)ve.key!==null?me.set(ve.key,ve):me.set(ve.index,ve),ve=ve.sibling;return me}function S(ve,me){return ve=Jo(ve,me),ve.index=0,ve.sibling=null,ve}function C(ve,me,Te){return ve.index=Te,l?(Te=ve.alternate,Te!==null?(Te=Te.index,Te<me?(ve.flags|=67108866,me):Te):(ve.flags|=67108866,me)):(ve.flags|=1048576,me)}function z(ve){return l&&ve.alternate===null&&(ve.flags|=67108866),ve}function Y(ve,me,Te,Fe){return me===null||me.tag!==6?(me=nb(Te,ve.mode,Fe),me.return=ve,me):(me=S(me,Te),me.return=ve,me)}function de(ve,me,Te,Fe){var vt=Te.type;return vt===b?Me(ve,me,Te.props.children,Fe,Te.key):me!==null&&(me.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===k&&Au(vt)===me.type)?(me=S(me,Te.props),a0(me,Te),me.return=ve,me):(me=Sg(Te.type,Te.key,Te.props,null,ve.mode,Fe),a0(me,Te),me.return=ve,me)}function Ae(ve,me,Te,Fe){return me===null||me.tag!==4||me.stateNode.containerInfo!==Te.containerInfo||me.stateNode.implementation!==Te.implementation?(me=ib(Te,ve.mode,Fe),me.return=ve,me):(me=S(me,Te.children||[]),me.return=ve,me)}function Me(ve,me,Te,Fe,vt){return me===null||me.tag!==7?(me=bu(Te,ve.mode,Fe,vt),me.return=ve,me):(me=S(me,Te),me.return=ve,me)}function Ue(ve,me,Te){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=nb(""+me,ve.mode,Te),me.return=ve,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case y:return Te=Sg(me.type,me.key,me.props,null,ve.mode,Te),a0(Te,me),Te.return=ve,Te;case _:return me=ib(me,ve.mode,Te),me.return=ve,me;case k:return me=Au(me),Ue(ve,me,Te)}if(pe(me)||F(me))return me=bu(me,ve.mode,Te,null),me.return=ve,me;if(typeof me.then=="function")return Ue(ve,Rg(me),Te);if(me.$$typeof===I)return Ue(ve,Ng(ve,me),Te);Og(ve,me)}return null}function Ne(ve,me,Te,Fe){var vt=me!==null?me.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return vt!==null?null:Y(ve,me,""+Te,Fe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return Te.key===vt?de(ve,me,Te,Fe):null;case _:return Te.key===vt?Ae(ve,me,Te,Fe):null;case k:return Te=Au(Te),Ne(ve,me,Te,Fe)}if(pe(Te)||F(Te))return vt!==null?null:Me(ve,me,Te,Fe,null);if(typeof Te.then=="function")return Ne(ve,me,Rg(Te),Fe);if(Te.$$typeof===I)return Ne(ve,me,Ng(ve,Te),Fe);Og(ve,Te)}return null}function Pe(ve,me,Te,Fe,vt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return ve=ve.get(Te)||null,Y(me,ve,""+Fe,vt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:return ve=ve.get(Fe.key===null?Te:Fe.key)||null,de(me,ve,Fe,vt);case _:return ve=ve.get(Fe.key===null?Te:Fe.key)||null,Ae(me,ve,Fe,vt);case k:return Fe=Au(Fe),Pe(ve,me,Te,Fe,vt)}if(pe(Fe)||F(Fe))return ve=ve.get(Te)||null,Me(me,ve,Fe,vt,null);if(typeof Fe.then=="function")return Pe(ve,me,Te,Rg(Fe),vt);if(Fe.$$typeof===I)return Pe(ve,me,Te,Ng(me,Fe),vt);Og(me,Fe)}return null}function ut(ve,me,Te,Fe){for(var vt=null,cr=null,dt=me,Ut=me=0,Yt=null;dt!==null&&Ut<Te.length;Ut++){dt.index>Ut?(Yt=dt,dt=null):Yt=dt.sibling;var ur=Ne(ve,dt,Te[Ut],Fe);if(ur===null){dt===null&&(dt=Yt);break}l&&dt&&ur.alternate===null&&f(ve,dt),me=C(ur,me,Ut),cr===null?vt=ur:cr.sibling=ur,cr=ur,dt=Yt}if(Ut===Te.length)return h(ve,dt),er&&Xo(ve,Ut),vt;if(dt===null){for(;Ut<Te.length;Ut++)dt=Ue(ve,Te[Ut],Fe),dt!==null&&(me=C(dt,me,Ut),cr===null?vt=dt:cr.sibling=dt,cr=dt);return er&&Xo(ve,Ut),vt}for(dt=v(dt);Ut<Te.length;Ut++)Yt=Pe(dt,ve,Ut,Te[Ut],Fe),Yt!==null&&(l&&Yt.alternate!==null&&dt.delete(Yt.key===null?Ut:Yt.key),me=C(Yt,me,Ut),cr===null?vt=Yt:cr.sibling=Yt,cr=Yt);return l&&dt.forEach(function(_c){return f(ve,_c)}),er&&Xo(ve,Ut),vt}function bt(ve,me,Te,Fe){if(Te==null)throw Error(n(151));for(var vt=null,cr=null,dt=me,Ut=me=0,Yt=null,ur=Te.next();dt!==null&&!ur.done;Ut++,ur=Te.next()){dt.index>Ut?(Yt=dt,dt=null):Yt=dt.sibling;var _c=Ne(ve,dt,ur.value,Fe);if(_c===null){dt===null&&(dt=Yt);break}l&&dt&&_c.alternate===null&&f(ve,dt),me=C(_c,me,Ut),cr===null?vt=_c:cr.sibling=_c,cr=_c,dt=Yt}if(ur.done)return h(ve,dt),er&&Xo(ve,Ut),vt;if(dt===null){for(;!ur.done;Ut++,ur=Te.next())ur=Ue(ve,ur.value,Fe),ur!==null&&(me=C(ur,me,Ut),cr===null?vt=ur:cr.sibling=ur,cr=ur);return er&&Xo(ve,Ut),vt}for(dt=v(dt);!ur.done;Ut++,ur=Te.next())ur=Pe(dt,ve,Ut,ur.value,Fe),ur!==null&&(l&&ur.alternate!==null&&dt.delete(ur.key===null?Ut:ur.key),me=C(ur,me,Ut),cr===null?vt=ur:cr.sibling=ur,cr=ur);return l&&dt.forEach(function(lY){return f(ve,lY)}),er&&Xo(ve,Ut),vt}function Mr(ve,me,Te,Fe){if(typeof Te=="object"&&Te!==null&&Te.type===b&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:e:{for(var vt=Te.key;me!==null;){if(me.key===vt){if(vt=Te.type,vt===b){if(me.tag===7){h(ve,me.sibling),Fe=S(me,Te.props.children),Fe.return=ve,ve=Fe;break e}}else if(me.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===k&&Au(vt)===me.type){h(ve,me.sibling),Fe=S(me,Te.props),a0(Fe,Te),Fe.return=ve,ve=Fe;break e}h(ve,me);break}else f(ve,me);me=me.sibling}Te.type===b?(Fe=bu(Te.props.children,ve.mode,Fe,Te.key),Fe.return=ve,ve=Fe):(Fe=Sg(Te.type,Te.key,Te.props,null,ve.mode,Fe),a0(Fe,Te),Fe.return=ve,ve=Fe)}return z(ve);case _:e:{for(vt=Te.key;me!==null;){if(me.key===vt)if(me.tag===4&&me.stateNode.containerInfo===Te.containerInfo&&me.stateNode.implementation===Te.implementation){h(ve,me.sibling),Fe=S(me,Te.children||[]),Fe.return=ve,ve=Fe;break e}else{h(ve,me);break}else f(ve,me);me=me.sibling}Fe=ib(Te,ve.mode,Fe),Fe.return=ve,ve=Fe}return z(ve);case k:return Te=Au(Te),Mr(ve,me,Te,Fe)}if(pe(Te))return ut(ve,me,Te,Fe);if(F(Te)){if(vt=F(Te),typeof vt!="function")throw Error(n(150));return Te=vt.call(Te),bt(ve,me,Te,Fe)}if(typeof Te.then=="function")return Mr(ve,me,Rg(Te),Fe);if(Te.$$typeof===I)return Mr(ve,me,Ng(ve,Te),Fe);Og(ve,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,me!==null&&me.tag===6?(h(ve,me.sibling),Fe=S(me,Te),Fe.return=ve,ve=Fe):(h(ve,me),Fe=nb(Te,ve.mode,Fe),Fe.return=ve,ve=Fe),z(ve)):h(ve,me)}return function(ve,me,Te,Fe){try{i0=0;var vt=Mr(ve,me,Te,Fe);return ad=null,vt}catch(dt){if(dt===id||dt===Ig)throw dt;var cr=Da(29,dt,null,ve.mode);return cr.lanes=Fe,cr.return=ve,cr}}}var Nu=UI(!0),BI=UI(!1),nc=!1;function gb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vb(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ic(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function ac(l,f,h){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(yr&2)!==0){var S=v.pending;return S===null?f.next=f:(f.next=S.next,S.next=f),v.pending=f,f=Tg(l),EI(l,null,h),f}return Eg(l,v,f,h),Tg(l)}function s0(l,f,h){if(f=f.updateQueue,f!==null&&(f=f.shared,(h&4194048)!==0)){var v=f.lanes;v&=l.pendingLanes,h|=v,f.lanes=h,Qa(l,h)}}function yb(l,f){var h=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?S=C=z:C=C.next=z,h=h.next}while(h!==null);C===null?S=C=f:C=C.next=f}else S=C=f;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=f}var xb=!1;function o0(){if(xb){var l=nd;if(l!==null)throw l}}function l0(l,f,h,v){xb=!1;var S=l.updateQueue;nc=!1;var C=S.firstBaseUpdate,z=S.lastBaseUpdate,Y=S.shared.pending;if(Y!==null){S.shared.pending=null;var de=Y,Ae=de.next;de.next=null,z===null?C=Ae:z.next=Ae,z=de;var Me=l.alternate;Me!==null&&(Me=Me.updateQueue,Y=Me.lastBaseUpdate,Y!==z&&(Y===null?Me.firstBaseUpdate=Ae:Y.next=Ae,Me.lastBaseUpdate=de))}if(C!==null){var Ue=S.baseState;z=0,Me=Ae=de=null,Y=C;do{var Ne=Y.lane&-536870913,Pe=Ne!==Y.lane;if(Pe?(Wt&Ne)===Ne:(v&Ne)===Ne){Ne!==0&&Ne===rd&&(xb=!0),Me!==null&&(Me=Me.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var ut=l,bt=Y;Ne=f;var Mr=h;switch(bt.tag){case 1:if(ut=bt.payload,typeof ut=="function"){Ue=ut.call(Mr,Ue,Ne);break e}Ue=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=bt.payload,Ne=typeof ut=="function"?ut.call(Mr,Ue,Ne):ut,Ne==null)break e;Ue=p({},Ue,Ne);break e;case 2:nc=!0}}Ne=Y.callback,Ne!==null&&(l.flags|=64,Pe&&(l.flags|=8192),Pe=S.callbacks,Pe===null?S.callbacks=[Ne]:Pe.push(Ne))}else Pe={lane:Ne,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Me===null?(Ae=Me=Pe,de=Ue):Me=Me.next=Pe,z|=Ne;if(Y=Y.next,Y===null){if(Y=S.shared.pending,Y===null)break;Pe=Y,Y=Pe.next,Pe.next=null,S.lastBaseUpdate=Pe,S.shared.pending=null}}while(!0);Me===null&&(de=Ue),S.baseState=de,S.firstBaseUpdate=Ae,S.lastBaseUpdate=Me,C===null&&(S.shared.lanes=0),uc|=z,l.lanes=z,l.memoizedState=Ue}}function VI(l,f){if(typeof l!="function")throw Error(n(191,l));l.call(f)}function zI(l,f){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)VI(h[l],f)}var sd=J(null),Mg=J(0);function $I(l,f){l=ll,ee(Mg,l),ee(sd,f),ll=l|f.baseLanes}function _b(){ee(Mg,ll),ee(sd,sd.current)}function bb(){ll=Mg.current,V(sd),V(Mg)}var La=J(null),ls=null;function sc(l){var f=l.alternate;ee(En,En.current&1),ee(La,l),ls===null&&(f===null||sd.current!==null||f.memoizedState!==null)&&(ls=l)}function wb(l){ee(En,En.current),ee(La,l),ls===null&&(ls=l)}function HI(l){l.tag===22?(ee(En,En.current),ee(La,l),ls===null&&(ls=l)):oc()}function oc(){ee(En,En.current),ee(La,La.current)}function Fa(l){V(La),ls===l&&(ls=null),V(En)}var En=J(0);function Dg(l){for(var f=l;f!==null;){if(f.tag===13){var h=f.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Nw(h)||kw(h)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var el=0,Ft=null,Rr=null,On=null,Lg=!1,od=!1,ku=!1,Fg=0,c0=0,ld=null,ZK=0;function cn(){throw Error(n(321))}function Eb(l,f){if(f===null)return!1;for(var h=0;h<f.length&&h<l.length;h++)if(!Ma(l[h],f[h]))return!1;return!0}function Tb(l,f,h,v,S,C){return el=C,Ft=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,re.H=l===null||l.memoizedState===null?CP:Ub,ku=!1,C=h(v,S),ku=!1,od&&(C=qI(f,h,v,S)),GI(l),C}function GI(l){re.H=d0;var f=Rr!==null&&Rr.next!==null;if(el=0,On=Rr=Ft=null,Lg=!1,c0=0,ld=null,f)throw Error(n(300));l===null||Mn||(l=l.dependencies,l!==null&&Cg(l)&&(Mn=!0))}function qI(l,f,h,v){Ft=l;var S=0;do{if(od&&(ld=null),c0=0,od=!1,25<=S)throw Error(n(301));if(S+=1,On=Rr=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}re.H=NP,C=f(h,v)}while(od);return C}function QK(){var l=re.H,f=l.useState()[0];return f=typeof f.then=="function"?u0(f):f,l=l.useState()[0],(Rr!==null?Rr.memoizedState:null)!==l&&(Ft.flags|=1024),f}function Sb(){var l=Fg!==0;return Fg=0,l}function Ab(l,f,h){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~h}function Cb(l){if(Lg){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Lg=!1}el=0,On=Rr=Ft=null,od=!1,c0=Fg=0,ld=null}function ta(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Ft.memoizedState=On=l:On=On.next=l,On}function Tn(){if(Rr===null){var l=Ft.alternate;l=l!==null?l.memoizedState:null}else l=Rr.next;var f=On===null?Ft.memoizedState:On.next;if(f!==null)On=f,Rr=l;else{if(l===null)throw Ft.alternate===null?Error(n(467)):Error(n(310));Rr=l,l={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},On===null?Ft.memoizedState=On=l:On=On.next=l}return On}function jg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function u0(l){var f=c0;return c0+=1,ld===null&&(ld=[]),l=LI(ld,l,f),f=Ft,(On===null?f.memoizedState:On.next)===null&&(f=f.alternate,re.H=f===null||f.memoizedState===null?CP:Ub),l}function Ug(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return u0(l);if(l.$$typeof===I)return Ei(l)}throw Error(n(438,String(l)))}function Nb(l){var f=null,h=Ft.updateQueue;if(h!==null&&(f=h.memoCache),f==null){var v=Ft.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(f={data:v.data.map(function(S){return S.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),h===null&&(h=jg(),Ft.updateQueue=h),h.memoCache=f,h=f.data[f.index],h===void 0)for(h=f.data[f.index]=Array(l),v=0;v<l;v++)h[v]=U;return f.index++,h}function tl(l,f){return typeof f=="function"?f(l):f}function Bg(l){var f=Tn();return kb(f,Rr,l)}function kb(l,f,h){var v=l.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=h;var S=l.baseQueue,C=v.pending;if(C!==null){if(S!==null){var z=S.next;S.next=C.next,C.next=z}f.baseQueue=S=C,v.pending=null}if(C=l.baseState,S===null)l.memoizedState=C;else{f=S.next;var Y=z=null,de=null,Ae=f,Me=!1;do{var Ue=Ae.lane&-536870913;if(Ue!==Ae.lane?(Wt&Ue)===Ue:(el&Ue)===Ue){var Ne=Ae.revertLane;if(Ne===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),Ue===rd&&(Me=!0);else if((el&Ne)===Ne){Ae=Ae.next,Ne===rd&&(Me=!0);continue}else Ue={lane:0,revertLane:Ae.revertLane,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},de===null?(Y=de=Ue,z=C):de=de.next=Ue,Ft.lanes|=Ne,uc|=Ne;Ue=Ae.action,ku&&h(C,Ue),C=Ae.hasEagerState?Ae.eagerState:h(C,Ue)}else Ne={lane:Ue,revertLane:Ae.revertLane,gesture:Ae.gesture,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},de===null?(Y=de=Ne,z=C):de=de.next=Ne,Ft.lanes|=Ue,uc|=Ue;Ae=Ae.next}while(Ae!==null&&Ae!==f);if(de===null?z=C:de.next=Y,!Ma(C,l.memoizedState)&&(Mn=!0,Me&&(h=nd,h!==null)))throw h;l.memoizedState=C,l.baseState=z,l.baseQueue=de,v.lastRenderedState=C}return S===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Ib(l){var f=Tn(),h=f.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var v=h.dispatch,S=h.pending,C=f.memoizedState;if(S!==null){h.pending=null;var z=S=S.next;do C=l(C,z.action),z=z.next;while(z!==S);Ma(C,f.memoizedState)||(Mn=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),h.lastRenderedState=C}return[C,v]}function KI(l,f,h){var v=Ft,S=Tn(),C=er;if(C){if(h===void 0)throw Error(n(407));h=h()}else h=f();var z=!Ma((Rr||S).memoizedState,h);if(z&&(S.memoizedState=h,Mn=!0),S=S.queue,Ob(JI.bind(null,v,S,l),[l]),S.getSnapshot!==f||z||On!==null&&On.memoizedState.tag&1){if(v.flags|=2048,cd(9,{destroy:void 0},YI.bind(null,v,S,h,f),null),jr===null)throw Error(n(349));C||(el&127)!==0||WI(v,f,h)}return h}function WI(l,f,h){l.flags|=16384,l={getSnapshot:f,value:h},f=Ft.updateQueue,f===null?(f=jg(),Ft.updateQueue=f,f.stores=[l]):(h=f.stores,h===null?f.stores=[l]:h.push(l))}function YI(l,f,h,v){f.value=h,f.getSnapshot=v,XI(f)&&ZI(l)}function JI(l,f,h){return h(function(){XI(f)&&ZI(l)})}function XI(l){var f=l.getSnapshot;l=l.value;try{var h=f();return!Ma(l,h)}catch{return!0}}function ZI(l){var f=_u(l,2);f!==null&&ba(f,l,2)}function Pb(l){var f=ta();if(typeof l=="function"){var h=l;if(l=h(),ku){gi(!0);try{h()}finally{gi(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:l},f}function QI(l,f,h,v){return l.baseState=h,kb(l,Rr,typeof v=="function"?v:tl)}function eW(l,f,h,v,S){if($g(l))throw Error(n(485));if(l=f.action,l!==null){var C={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){C.listeners.push(z)}};re.T!==null?h(!0):C.isTransition=!1,v(C),h=f.pending,h===null?(C.next=f.pending=C,eP(f,C)):(C.next=h.next,f.pending=h.next=C)}}function eP(l,f){var h=f.action,v=f.payload,S=l.state;if(f.isTransition){var C=re.T,z={};re.T=z;try{var Y=h(S,v),de=re.S;de!==null&&de(z,Y),tP(l,f,Y)}catch(Ae){Rb(l,f,Ae)}finally{C!==null&&z.types!==null&&(C.types=z.types),re.T=C}}else try{C=h(S,v),tP(l,f,C)}catch(Ae){Rb(l,f,Ae)}}function tP(l,f,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){rP(l,f,v)},function(v){return Rb(l,f,v)}):rP(l,f,h)}function rP(l,f,h){f.status="fulfilled",f.value=h,nP(f),l.state=h,f=l.pending,f!==null&&(h=f.next,h===f?l.pending=null:(h=h.next,f.next=h,eP(l,h)))}function Rb(l,f,h){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do f.status="rejected",f.reason=h,nP(f),f=f.next;while(f!==v)}l.action=null}function nP(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function iP(l,f){return f}function aP(l,f){if(er){var h=jr.formState;if(h!==null){e:{var v=Ft;if(er){if(Gr){t:{for(var S=Gr,C=os;S.nodeType!==8;){if(!C){S=null;break t}if(S=cs(S.nextSibling),S===null){S=null;break t}}C=S.data,S=C==="F!"||C==="F"?S:null}if(S){Gr=cs(S.nextSibling),v=S.data==="F!";break e}}tc(v)}v=!1}v&&(f=h[0])}}return h=ta(),h.memoizedState=h.baseState=f,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iP,lastRenderedState:f},h.queue=v,h=TP.bind(null,Ft,v),v.dispatch=h,v=Pb(!1),C=jb.bind(null,Ft,!1,v.queue),v=ta(),S={state:f,dispatch:null,action:l,pending:null},v.queue=S,h=eW.bind(null,Ft,S,C,h),S.dispatch=h,v.memoizedState=l,[f,h,!1]}function sP(l){var f=Tn();return oP(f,Rr,l)}function oP(l,f,h){if(f=kb(l,f,iP)[0],l=Bg(tl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var v=u0(f)}catch(z){throw z===id?Ig:z}else v=f;f=Tn();var S=f.queue,C=S.dispatch;return h!==f.memoizedState&&(Ft.flags|=2048,cd(9,{destroy:void 0},tW.bind(null,S,h),null)),[v,C,l]}function tW(l,f){l.action=f}function lP(l){var f=Tn(),h=Rr;if(h!==null)return oP(f,h,l);Tn(),f=f.memoizedState,h=Tn();var v=h.queue.dispatch;return h.memoizedState=l,[f,v,!1]}function cd(l,f,h,v){return l={tag:l,create:h,deps:v,inst:f,next:null},f=Ft.updateQueue,f===null&&(f=jg(),Ft.updateQueue=f),h=f.lastEffect,h===null?f.lastEffect=l.next=l:(v=h.next,h.next=l,l.next=v,f.lastEffect=l),l}function cP(){return Tn().memoizedState}function Vg(l,f,h,v){var S=ta();Ft.flags|=l,S.memoizedState=cd(1|f,{destroy:void 0},h,v===void 0?null:v)}function zg(l,f,h,v){var S=Tn();v=v===void 0?null:v;var C=S.memoizedState.inst;Rr!==null&&v!==null&&Eb(v,Rr.memoizedState.deps)?S.memoizedState=cd(f,C,h,v):(Ft.flags|=l,S.memoizedState=cd(1|f,C,h,v))}function uP(l,f){Vg(8390656,8,l,f)}function Ob(l,f){zg(2048,8,l,f)}function rW(l){Ft.flags|=4;var f=Ft.updateQueue;if(f===null)f=jg(),Ft.updateQueue=f,f.events=[l];else{var h=f.events;h===null?f.events=[l]:h.push(l)}}function fP(l){var f=Tn().memoizedState;return rW({ref:f,nextImpl:l}),function(){if((yr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function dP(l,f){return zg(4,2,l,f)}function hP(l,f){return zg(4,4,l,f)}function pP(l,f){if(typeof f=="function"){l=l();var h=f(l);return function(){typeof h=="function"?h():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function mP(l,f,h){h=h!=null?h.concat([l]):null,zg(4,4,pP.bind(null,f,l),h)}function Mb(){}function gP(l,f){var h=Tn();f=f===void 0?null:f;var v=h.memoizedState;return f!==null&&Eb(f,v[1])?v[0]:(h.memoizedState=[l,f],l)}function vP(l,f){var h=Tn();f=f===void 0?null:f;var v=h.memoizedState;if(f!==null&&Eb(f,v[1]))return v[0];if(v=l(),ku){gi(!0);try{l()}finally{gi(!1)}}return h.memoizedState=[v,f],v}function Db(l,f,h){return h===void 0||(el&1073741824)!==0&&(Wt&261930)===0?l.memoizedState=f:(l.memoizedState=h,l=yR(),Ft.lanes|=l,uc|=l,h)}function yP(l,f,h,v){return Ma(h,f)?h:sd.current!==null?(l=Db(l,h,v),Ma(l,f)||(Mn=!0),l):(el&42)===0||(el&1073741824)!==0&&(Wt&261930)===0?(Mn=!0,l.memoizedState=h):(l=yR(),Ft.lanes|=l,uc|=l,f)}function xP(l,f,h,v,S){var C=ue.p;ue.p=C!==0&&8>C?C:8;var z=re.T,Y={};re.T=Y,jb(l,!1,f,h);try{var de=S(),Ae=re.S;if(Ae!==null&&Ae(Y,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Me=XK(de,v);f0(l,f,Me,Ba(l))}else f0(l,f,v,Ba(l))}catch(Ue){f0(l,f,{then:function(){},status:"rejected",reason:Ue},Ba())}finally{ue.p=C,z!==null&&Y.types!==null&&(z.types=Y.types),re.T=z}}function nW(){}function Lb(l,f,h,v){if(l.tag!==5)throw Error(n(476));var S=_P(l).queue;xP(l,S,f,ce,h===null?nW:function(){return bP(l),h(v)})}function _P(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:ce},next:null};var h={};return f.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:h},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function bP(l){var f=_P(l);f.next===null&&(f=l.alternate.memoizedState),f0(l,f.next.queue,{},Ba())}function Fb(){return Ei(N0)}function wP(){return Tn().memoizedState}function EP(){return Tn().memoizedState}function iW(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var h=Ba();l=ic(h);var v=ac(f,l,h);v!==null&&(ba(v,f,h),s0(v,f,h)),f={cache:db()},l.payload=f;return}f=f.return}}function aW(l,f,h){var v=Ba();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},$g(l)?SP(f,h):(h=tb(l,f,h,v),h!==null&&(ba(h,l,v),AP(h,f,v)))}function TP(l,f,h){var v=Ba();f0(l,f,h,v)}function f0(l,f,h,v){var S={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if($g(l))SP(f,S);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var z=f.lastRenderedState,Y=C(z,h);if(S.hasEagerState=!0,S.eagerState=Y,Ma(Y,z))return Eg(l,f,S,0),jr===null&&wg(),!1}catch{}if(h=tb(l,f,S,v),h!==null)return ba(h,l,v),AP(h,f,v),!0}return!1}function jb(l,f,h,v){if(v={lane:2,revertLane:gw(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},$g(l)){if(f)throw Error(n(479))}else f=tb(l,h,v,2),f!==null&&ba(f,l,2)}function $g(l){var f=l.alternate;return l===Ft||f!==null&&f===Ft}function SP(l,f){od=Lg=!0;var h=l.pending;h===null?f.next=f:(f.next=h.next,h.next=f),l.pending=f}function AP(l,f,h){if((h&4194048)!==0){var v=f.lanes;v&=l.pendingLanes,h|=v,f.lanes=h,Qa(l,h)}}var d0={readContext:Ei,use:Ug,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};d0.useEffectEvent=cn;var CP={readContext:Ei,use:Ug,useCallback:function(l,f){return ta().memoizedState=[l,f===void 0?null:f],l},useContext:Ei,useEffect:uP,useImperativeHandle:function(l,f,h){h=h!=null?h.concat([l]):null,Vg(4194308,4,pP.bind(null,f,l),h)},useLayoutEffect:function(l,f){return Vg(4194308,4,l,f)},useInsertionEffect:function(l,f){Vg(4,2,l,f)},useMemo:function(l,f){var h=ta();f=f===void 0?null:f;var v=l();if(ku){gi(!0);try{l()}finally{gi(!1)}}return h.memoizedState=[v,f],v},useReducer:function(l,f,h){var v=ta();if(h!==void 0){var S=h(f);if(ku){gi(!0);try{h(f)}finally{gi(!1)}}}else S=f;return v.memoizedState=v.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},v.queue=l,l=l.dispatch=aW.bind(null,Ft,l),[v.memoizedState,l]},useRef:function(l){var f=ta();return l={current:l},f.memoizedState=l},useState:function(l){l=Pb(l);var f=l.queue,h=TP.bind(null,Ft,f);return f.dispatch=h,[l.memoizedState,h]},useDebugValue:Mb,useDeferredValue:function(l,f){var h=ta();return Db(h,l,f)},useTransition:function(){var l=Pb(!1);return l=xP.bind(null,Ft,l.queue,!0,!1),ta().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,h){var v=Ft,S=ta();if(er){if(h===void 0)throw Error(n(407));h=h()}else{if(h=f(),jr===null)throw Error(n(349));(Wt&127)!==0||WI(v,f,h)}S.memoizedState=h;var C={value:h,getSnapshot:f};return S.queue=C,uP(JI.bind(null,v,C,l),[l]),v.flags|=2048,cd(9,{destroy:void 0},YI.bind(null,v,C,h,f),null),h},useId:function(){var l=ta(),f=jr.identifierPrefix;if(er){var h=xo,v=yo;h=(v&~(1<<32-Vr(v)-1)).toString(32)+h,f="_"+f+"R_"+h,h=Fg++,0<h&&(f+="H"+h.toString(32)),f+="_"}else h=ZK++,f="_"+f+"r_"+h.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:Fb,useFormState:aP,useActionState:aP,useOptimistic:function(l){var f=ta();f.memoizedState=f.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=h,f=jb.bind(null,Ft,!0,h),h.dispatch=f,[l,f]},useMemoCache:Nb,useCacheRefresh:function(){return ta().memoizedState=iW.bind(null,Ft)},useEffectEvent:function(l){var f=ta(),h={impl:l};return f.memoizedState=h,function(){if((yr&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},Ub={readContext:Ei,use:Ug,useCallback:gP,useContext:Ei,useEffect:Ob,useImperativeHandle:mP,useInsertionEffect:dP,useLayoutEffect:hP,useMemo:vP,useReducer:Bg,useRef:cP,useState:function(){return Bg(tl)},useDebugValue:Mb,useDeferredValue:function(l,f){var h=Tn();return yP(h,Rr.memoizedState,l,f)},useTransition:function(){var l=Bg(tl)[0],f=Tn().memoizedState;return[typeof l=="boolean"?l:u0(l),f]},useSyncExternalStore:KI,useId:wP,useHostTransitionStatus:Fb,useFormState:sP,useActionState:sP,useOptimistic:function(l,f){var h=Tn();return QI(h,Rr,l,f)},useMemoCache:Nb,useCacheRefresh:EP};Ub.useEffectEvent=fP;var NP={readContext:Ei,use:Ug,useCallback:gP,useContext:Ei,useEffect:Ob,useImperativeHandle:mP,useInsertionEffect:dP,useLayoutEffect:hP,useMemo:vP,useReducer:Ib,useRef:cP,useState:function(){return Ib(tl)},useDebugValue:Mb,useDeferredValue:function(l,f){var h=Tn();return Rr===null?Db(h,l,f):yP(h,Rr.memoizedState,l,f)},useTransition:function(){var l=Ib(tl)[0],f=Tn().memoizedState;return[typeof l=="boolean"?l:u0(l),f]},useSyncExternalStore:KI,useId:wP,useHostTransitionStatus:Fb,useFormState:lP,useActionState:lP,useOptimistic:function(l,f){var h=Tn();return Rr!==null?QI(h,Rr,l,f):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Nb,useCacheRefresh:EP};NP.useEffectEvent=fP;function Bb(l,f,h,v){f=l.memoizedState,h=h(v,f),h=h==null?f:p({},f,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Vb={enqueueSetState:function(l,f,h){l=l._reactInternals;var v=Ba(),S=ic(v);S.payload=f,h!=null&&(S.callback=h),f=ac(l,S,v),f!==null&&(ba(f,l,v),s0(f,l,v))},enqueueReplaceState:function(l,f,h){l=l._reactInternals;var v=Ba(),S=ic(v);S.tag=1,S.payload=f,h!=null&&(S.callback=h),f=ac(l,S,v),f!==null&&(ba(f,l,v),s0(f,l,v))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var h=Ba(),v=ic(h);v.tag=2,f!=null&&(v.callback=f),f=ac(l,v,h),f!==null&&(ba(f,l,h),s0(f,l,h))}};function kP(l,f,h,v,S,C,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,z):f.prototype&&f.prototype.isPureReactComponent?!Zh(h,v)||!Zh(S,C):!0}function IP(l,f,h,v){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(h,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(h,v),f.state!==l&&Vb.enqueueReplaceState(f,f.state,null)}function Iu(l,f){var h=f;if("ref"in f){h={};for(var v in f)v!=="ref"&&(h[v]=f[v])}if(l=l.defaultProps){h===f&&(h=p({},h));for(var S in l)h[S]===void 0&&(h[S]=l[S])}return h}function PP(l){bg(l)}function RP(l){console.error(l)}function OP(l){bg(l)}function Hg(l,f){try{var h=l.onUncaughtError;h(f.value,{componentStack:f.stack})}catch(v){setTimeout(function(){throw v})}}function MP(l,f,h){try{var v=l.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function zb(l,f,h){return h=ic(h),h.tag=3,h.payload={element:null},h.callback=function(){Hg(l,f)},h}function DP(l){return l=ic(l),l.tag=3,l}function LP(l,f,h,v){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var C=v.value;l.payload=function(){return S(C)},l.callback=function(){MP(f,h,v)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(l.callback=function(){MP(f,h,v),typeof S!="function"&&(fc===null?fc=new Set([this]):fc.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})})}function sW(l,f,h,v,S){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(f=h.alternate,f!==null&&td(f,h,S,!0),h=La.current,h!==null){switch(h.tag){case 31:case 13:return ls===null?rv():h.alternate===null&&un===0&&(un=3),h.flags&=-257,h.flags|=65536,h.lanes=S,v===Pg?h.flags|=16384:(f=h.updateQueue,f===null?h.updateQueue=new Set([v]):f.add(v),hw(l,v,S)),!1;case 22:return h.flags|=65536,v===Pg?h.flags|=16384:(f=h.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=f):(h=f.retryQueue,h===null?f.retryQueue=new Set([v]):h.add(v)),hw(l,v,S)),!1}throw Error(n(435,h.tag))}return hw(l,v,S),rv(),!1}if(er)return f=La.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=S,v!==ob&&(l=Error(n(422),{cause:v}),t0(is(l,h)))):(v!==ob&&(f=Error(n(423),{cause:v}),t0(is(f,h))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,v=is(v,h),S=zb(l.stateNode,v,S),yb(l,S),un!==4&&(un=2)),!1;var C=Error(n(520),{cause:v});if(C=is(C,h),_0===null?_0=[C]:_0.push(C),un!==4&&(un=2),f===null)return!0;v=is(v,h),h=f;do{switch(h.tag){case 3:return h.flags|=65536,l=S&-S,h.lanes|=l,l=zb(h.stateNode,v,l),yb(h,l),!1;case 1:if(f=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(fc===null||!fc.has(C))))return h.flags|=65536,S&=-S,h.lanes|=S,S=DP(S),LP(S,l,h,v),yb(h,S),!1}h=h.return}while(h!==null);return!1}var $b=Error(n(461)),Mn=!1;function Ti(l,f,h,v){f.child=l===null?BI(f,null,h,v):Nu(f,l.child,h,v)}function FP(l,f,h,v,S){h=h.render;var C=f.ref;if("ref"in v){var z={};for(var Y in v)Y!=="ref"&&(z[Y]=v[Y])}else z=v;return Tu(f),v=Tb(l,f,h,z,C,S),Y=Sb(),l!==null&&!Mn?(Ab(l,f,S),rl(l,f,S)):(er&&Y&&ab(f),f.flags|=1,Ti(l,f,v,S),f.child)}function jP(l,f,h,v,S){if(l===null){var C=h.type;return typeof C=="function"&&!rb(C)&&C.defaultProps===void 0&&h.compare===null?(f.tag=15,f.type=C,UP(l,f,C,v,S)):(l=Sg(h.type,null,v,f,f.mode,S),l.ref=f.ref,l.return=f,f.child=l)}if(C=l.child,!Xb(l,S)){var z=C.memoizedProps;if(h=h.compare,h=h!==null?h:Zh,h(z,v)&&l.ref===f.ref)return rl(l,f,S)}return f.flags|=1,l=Jo(C,v),l.ref=f.ref,l.return=f,f.child=l}function UP(l,f,h,v,S){if(l!==null){var C=l.memoizedProps;if(Zh(C,v)&&l.ref===f.ref)if(Mn=!1,f.pendingProps=v=C,Xb(l,S))(l.flags&131072)!==0&&(Mn=!0);else return f.lanes=l.lanes,rl(l,f,S)}return Hb(l,f,h,v,S)}function BP(l,f,h,v){var S=v.children,C=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((f.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,l!==null){for(v=f.child=l.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~C}else v=0,f.child=null;return VP(l,f,C,h,v)}if((h&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&kg(f,C!==null?C.cachePool:null),C!==null?$I(f,C):_b(),HI(f);else return v=f.lanes=536870912,VP(l,f,C!==null?C.baseLanes|h:h,h,v)}else C!==null?(kg(f,C.cachePool),$I(f,C),oc(),f.memoizedState=null):(l!==null&&kg(f,null),_b(),oc());return Ti(l,f,S,h),f.child}function h0(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function VP(l,f,h,v,S){var C=pb();return C=C===null?null:{parent:Rn._currentValue,pool:C},f.memoizedState={baseLanes:h,cachePool:C},l!==null&&kg(f,null),_b(),HI(f),l!==null&&td(l,f,v,!0),f.childLanes=S,null}function Gg(l,f){return f=Kg({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function zP(l,f,h){return Nu(f,l.child,null,h),l=Gg(f,f.pendingProps),l.flags|=2,Fa(f),f.memoizedState=null,l}function oW(l,f,h){var v=f.pendingProps,S=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(er){if(v.mode==="hidden")return l=Gg(f,v),f.lanes=536870912,h0(null,l);if(wb(f),(l=Gr)?(l=eO(l,os),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Ql!==null?{id:yo,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},h=SI(l),h.return=f,f.child=h,wi=f,Gr=null)):l=null,l===null)throw tc(f);return f.lanes=536870912,null}return Gg(f,v)}var C=l.memoizedState;if(C!==null){var z=C.dehydrated;if(wb(f),S)if(f.flags&256)f.flags&=-257,f=zP(l,f,h);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(n(558));else if(Mn||td(l,f,h,!1),S=(h&l.childLanes)!==0,Mn||S){if(v=jr,v!==null&&(z=on(v,h),z!==0&&z!==C.retryLane))throw C.retryLane=z,_u(l,z),ba(v,l,z),$b;rv(),f=zP(l,f,h)}else l=C.treeContext,Gr=cs(z.nextSibling),wi=f,er=!0,ec=null,os=!1,l!==null&&NI(f,l),f=Gg(f,v),f.flags|=4096;return f}return l=Jo(l.child,{mode:v.mode,children:v.children}),l.ref=f.ref,f.child=l,l.return=f,l}function qg(l,f){var h=f.ref;if(h===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(l===null||l.ref!==h)&&(f.flags|=4194816)}}function Hb(l,f,h,v,S){return Tu(f),h=Tb(l,f,h,v,void 0,S),v=Sb(),l!==null&&!Mn?(Ab(l,f,S),rl(l,f,S)):(er&&v&&ab(f),f.flags|=1,Ti(l,f,h,S),f.child)}function $P(l,f,h,v,S,C){return Tu(f),f.updateQueue=null,h=qI(f,v,h,S),GI(l),v=Sb(),l!==null&&!Mn?(Ab(l,f,C),rl(l,f,C)):(er&&v&&ab(f),f.flags|=1,Ti(l,f,h,C),f.child)}function HP(l,f,h,v,S){if(Tu(f),f.stateNode===null){var C=Xf,z=h.contextType;typeof z=="object"&&z!==null&&(C=Ei(z)),C=new h(v,C),f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Vb,f.stateNode=C,C._reactInternals=f,C=f.stateNode,C.props=v,C.state=f.memoizedState,C.refs={},gb(f),z=h.contextType,C.context=typeof z=="object"&&z!==null?Ei(z):Xf,C.state=f.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(Bb(f,h,z,v),C.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(z=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),z!==C.state&&Vb.enqueueReplaceState(C,C.state,null),l0(f,v,C,S),o0(),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308),v=!0}else if(l===null){C=f.stateNode;var Y=f.memoizedProps,de=Iu(h,Y);C.props=de;var Ae=C.context,Me=h.contextType;z=Xf,typeof Me=="object"&&Me!==null&&(z=Ei(Me));var Ue=h.getDerivedStateFromProps;Me=typeof Ue=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=f.pendingProps!==Y,Me||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||Ae!==z)&&IP(f,C,v,z),nc=!1;var Ne=f.memoizedState;C.state=Ne,l0(f,v,C,S),o0(),Ae=f.memoizedState,Y||Ne!==Ae||nc?(typeof Ue=="function"&&(Bb(f,h,Ue,v),Ae=f.memoizedState),(de=nc||kP(f,h,de,v,Ne,Ae,z))?(Me||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(f.flags|=4194308)):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=Ae),C.props=v,C.state=Ae,C.context=z,v=de):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{C=f.stateNode,vb(l,f),z=f.memoizedProps,Me=Iu(h,z),C.props=Me,Ue=f.pendingProps,Ne=C.context,Ae=h.contextType,de=Xf,typeof Ae=="object"&&Ae!==null&&(de=Ei(Ae)),Y=h.getDerivedStateFromProps,(Ae=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z!==Ue||Ne!==de)&&IP(f,C,v,de),nc=!1,Ne=f.memoizedState,C.state=Ne,l0(f,v,C,S),o0();var Pe=f.memoizedState;z!==Ue||Ne!==Pe||nc||l!==null&&l.dependencies!==null&&Cg(l.dependencies)?(typeof Y=="function"&&(Bb(f,h,Y,v),Pe=f.memoizedState),(Me=nc||kP(f,h,Me,v,Ne,Pe,de)||l!==null&&l.dependencies!==null&&Cg(l.dependencies))?(Ae||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,Pe,de),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,Pe,de)),typeof C.componentDidUpdate=="function"&&(f.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof C.componentDidUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=Pe),C.props=v,C.state=Pe,C.context=de,v=Me):(typeof C.componentDidUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=1024),v=!1)}return C=v,qg(l,f),v=(f.flags&128)!==0,C||v?(C=f.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:C.render(),f.flags|=1,l!==null&&v?(f.child=Nu(f,l.child,null,S),f.child=Nu(f,null,h,S)):Ti(l,f,h,S),f.memoizedState=C.state,l=f.child):l=rl(l,f,S),l}function GP(l,f,h,v){return wu(),f.flags|=256,Ti(l,f,h,v),f.child}var Gb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qb(l){return{baseLanes:l,cachePool:MI()}}function Kb(l,f,h){return l=l!==null?l.childLanes&~h:0,f&&(l|=Ua),l}function qP(l,f,h){var v=f.pendingProps,S=!1,C=(f.flags&128)!==0,z;if((z=C)||(z=l!==null&&l.memoizedState===null?!1:(En.current&2)!==0),z&&(S=!0,f.flags&=-129),z=(f.flags&32)!==0,f.flags&=-33,l===null){if(er){if(S?sc(f):oc(),(l=Gr)?(l=eO(l,os),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:Ql!==null?{id:yo,overflow:xo}:null,retryLane:536870912,hydrationErrors:null},h=SI(l),h.return=f,f.child=h,wi=f,Gr=null)):l=null,l===null)throw tc(f);return kw(l)?f.lanes=32:f.lanes=536870912,null}var Y=v.children;return v=v.fallback,S?(oc(),S=f.mode,Y=Kg({mode:"hidden",children:Y},S),v=bu(v,S,h,null),Y.return=f,v.return=f,Y.sibling=v,f.child=Y,v=f.child,v.memoizedState=qb(h),v.childLanes=Kb(l,z,h),f.memoizedState=Gb,h0(null,v)):(sc(f),Wb(f,Y))}var de=l.memoizedState;if(de!==null&&(Y=de.dehydrated,Y!==null)){if(C)f.flags&256?(sc(f),f.flags&=-257,f=Yb(l,f,h)):f.memoizedState!==null?(oc(),f.child=l.child,f.flags|=128,f=null):(oc(),Y=v.fallback,S=f.mode,v=Kg({mode:"visible",children:v.children},S),Y=bu(Y,S,h,null),Y.flags|=2,v.return=f,Y.return=f,v.sibling=Y,f.child=v,Nu(f,l.child,null,h),v=f.child,v.memoizedState=qb(h),v.childLanes=Kb(l,z,h),f.memoizedState=Gb,f=h0(null,v));else if(sc(f),kw(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var Ae=z.dgst;z=Ae,v=Error(n(419)),v.stack="",v.digest=z,t0({value:v,source:null,stack:null}),f=Yb(l,f,h)}else if(Mn||td(l,f,h,!1),z=(h&l.childLanes)!==0,Mn||z){if(z=jr,z!==null&&(v=on(z,h),v!==0&&v!==de.retryLane))throw de.retryLane=v,_u(l,v),ba(z,l,v),$b;Nw(Y)||rv(),f=Yb(l,f,h)}else Nw(Y)?(f.flags|=192,f.child=l.child,f=null):(l=de.treeContext,Gr=cs(Y.nextSibling),wi=f,er=!0,ec=null,os=!1,l!==null&&NI(f,l),f=Wb(f,v.children),f.flags|=4096);return f}return S?(oc(),Y=v.fallback,S=f.mode,de=l.child,Ae=de.sibling,v=Jo(de,{mode:"hidden",children:v.children}),v.subtreeFlags=de.subtreeFlags&65011712,Ae!==null?Y=Jo(Ae,Y):(Y=bu(Y,S,h,null),Y.flags|=2),Y.return=f,v.return=f,v.sibling=Y,f.child=v,h0(null,v),v=f.child,Y=l.child.memoizedState,Y===null?Y=qb(h):(S=Y.cachePool,S!==null?(de=Rn._currentValue,S=S.parent!==de?{parent:de,pool:de}:S):S=MI(),Y={baseLanes:Y.baseLanes|h,cachePool:S}),v.memoizedState=Y,v.childLanes=Kb(l,z,h),f.memoizedState=Gb,h0(l.child,v)):(sc(f),h=l.child,l=h.sibling,h=Jo(h,{mode:"visible",children:v.children}),h.return=f,h.sibling=null,l!==null&&(z=f.deletions,z===null?(f.deletions=[l],f.flags|=16):z.push(l)),f.child=h,f.memoizedState=null,h)}function Wb(l,f){return f=Kg({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function Kg(l,f){return l=Da(22,l,null,f),l.lanes=0,l}function Yb(l,f,h){return Nu(f,l.child,null,h),l=Wb(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function KP(l,f,h){l.lanes|=f;var v=l.alternate;v!==null&&(v.lanes|=f),ub(l.return,f,h)}function Jb(l,f,h,v,S,C){var z=l.memoizedState;z===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S,treeForkCount:C}:(z.isBackwards=f,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=h,z.tailMode=S,z.treeForkCount=C)}function WP(l,f,h){var v=f.pendingProps,S=v.revealOrder,C=v.tail;v=v.children;var z=En.current,Y=(z&2)!==0;if(Y?(z=z&1|2,f.flags|=128):z&=1,ee(En,z),Ti(l,f,v,h),v=er?e0:0,!Y&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&KP(l,h,f);else if(l.tag===19)KP(l,h,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(h=f.child,S=null;h!==null;)l=h.alternate,l!==null&&Dg(l)===null&&(S=h),h=h.sibling;h=S,h===null?(S=f.child,f.child=null):(S=h.sibling,h.sibling=null),Jb(f,!1,S,h,C,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=f.child,f.child=null;S!==null;){if(l=S.alternate,l!==null&&Dg(l)===null){f.child=S;break}l=S.sibling,S.sibling=h,h=S,S=l}Jb(f,!0,h,null,C,v);break;case"together":Jb(f,!1,null,null,void 0,v);break;default:f.memoizedState=null}return f.child}function rl(l,f,h){if(l!==null&&(f.dependencies=l.dependencies),uc|=f.lanes,(h&f.childLanes)===0)if(l!==null){if(td(l,f,h,!1),(h&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(n(153));if(f.child!==null){for(l=f.child,h=Jo(l,l.pendingProps),f.child=h,h.return=f;l.sibling!==null;)l=l.sibling,h=h.sibling=Jo(l,l.pendingProps),h.return=f;h.sibling=null}return f.child}function Xb(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Cg(l)))}function lW(l,f,h){switch(f.tag){case 3:ke(f,f.stateNode.containerInfo),rc(f,Rn,l.memoizedState.cache),wu();break;case 27:case 5:ge(f);break;case 4:ke(f,f.stateNode.containerInfo);break;case 10:rc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,wb(f),null;break;case 13:var v=f.memoizedState;if(v!==null)return v.dehydrated!==null?(sc(f),f.flags|=128,null):(h&f.child.childLanes)!==0?qP(l,f,h):(sc(f),l=rl(l,f,h),l!==null?l.sibling:null);sc(f);break;case 19:var S=(l.flags&128)!==0;if(v=(h&f.childLanes)!==0,v||(td(l,f,h,!1),v=(h&f.childLanes)!==0),S){if(v)return WP(l,f,h);f.flags|=128}if(S=f.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ee(En,En.current),v)break;return null;case 22:return f.lanes=0,BP(l,f,h,f.pendingProps);case 24:rc(f,Rn,l.memoizedState.cache)}return rl(l,f,h)}function YP(l,f,h){if(l!==null)if(l.memoizedProps!==f.pendingProps)Mn=!0;else{if(!Xb(l,h)&&(f.flags&128)===0)return Mn=!1,lW(l,f,h);Mn=(l.flags&131072)!==0}else Mn=!1,er&&(f.flags&1048576)!==0&&CI(f,e0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var v=f.pendingProps;if(l=Au(f.elementType),f.type=l,typeof l=="function")rb(l)?(v=Iu(l,v),f.tag=1,f=HP(null,f,l,v,h)):(f.tag=0,f=Hb(null,f,l,v,h));else{if(l!=null){var S=l.$$typeof;if(S===O){f.tag=11,f=FP(null,f,l,v,h);break e}else if(S===N){f.tag=14,f=jP(null,f,l,v,h);break e}}throw f=fe(l)||l,Error(n(306,f,""))}}return f;case 0:return Hb(l,f,f.type,f.pendingProps,h);case 1:return v=f.type,S=Iu(v,f.pendingProps),HP(l,f,v,S,h);case 3:e:{if(ke(f,f.stateNode.containerInfo),l===null)throw Error(n(387));v=f.pendingProps;var C=f.memoizedState;S=C.element,vb(l,f),l0(f,v,null,h);var z=f.memoizedState;if(v=z.cache,rc(f,Rn,v),v!==C.cache&&fb(f,[Rn],h,!0),o0(),v=z.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:z.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=GP(l,f,v,h);break e}else if(v!==S){S=is(Error(n(424)),f),t0(S),f=GP(l,f,v,h);break e}else for(l=f.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,Gr=cs(l.firstChild),wi=f,er=!0,ec=null,os=!0,h=BI(f,null,v,h),f.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(wu(),v===S){f=rl(l,f,h);break e}Ti(l,f,v,h)}f=f.child}return f;case 26:return qg(l,f),l===null?(h=sO(f.type,null,f.pendingProps,null))?f.memoizedState=h:er||(h=f.type,l=f.pendingProps,v=cv(he.current).createElement(h),v[te]=f,v[ne]=l,Si(v,h,l),lt(v),f.stateNode=v):f.memoizedState=sO(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return ge(f),l===null&&er&&(v=f.stateNode=nO(f.type,f.pendingProps,he.current),wi=f,os=!0,S=Gr,mc(f.type)?(Iw=S,Gr=cs(v.firstChild)):Gr=S),Ti(l,f,f.pendingProps.children,h),qg(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&er&&((S=v=Gr)&&(v=jW(v,f.type,f.pendingProps,os),v!==null?(f.stateNode=v,wi=f,Gr=cs(v.firstChild),os=!1,S=!0):S=!1),S||tc(f)),ge(f),S=f.type,C=f.pendingProps,z=l!==null?l.memoizedProps:null,v=C.children,Sw(S,C)?v=null:z!==null&&Sw(S,z)&&(f.flags|=32),f.memoizedState!==null&&(S=Tb(l,f,QK,null,null,h),N0._currentValue=S),qg(l,f),Ti(l,f,v,h),f.child;case 6:return l===null&&er&&((l=h=Gr)&&(h=UW(h,f.pendingProps,os),h!==null?(f.stateNode=h,wi=f,Gr=null,l=!0):l=!1),l||tc(f)),null;case 13:return qP(l,f,h);case 4:return ke(f,f.stateNode.containerInfo),v=f.pendingProps,l===null?f.child=Nu(f,null,v,h):Ti(l,f,v,h),f.child;case 11:return FP(l,f,f.type,f.pendingProps,h);case 7:return Ti(l,f,f.pendingProps,h),f.child;case 8:return Ti(l,f,f.pendingProps.children,h),f.child;case 12:return Ti(l,f,f.pendingProps.children,h),f.child;case 10:return v=f.pendingProps,rc(f,f.type,v.value),Ti(l,f,v.children,h),f.child;case 9:return S=f.type._context,v=f.pendingProps.children,Tu(f),S=Ei(S),v=v(S),f.flags|=1,Ti(l,f,v,h),f.child;case 14:return jP(l,f,f.type,f.pendingProps,h);case 15:return UP(l,f,f.type,f.pendingProps,h);case 19:return WP(l,f,h);case 31:return oW(l,f,h);case 22:return BP(l,f,h,f.pendingProps);case 24:return Tu(f),v=Ei(Rn),l===null?(S=pb(),S===null&&(S=jr,C=db(),S.pooledCache=C,C.refCount++,C!==null&&(S.pooledCacheLanes|=h),S=C),f.memoizedState={parent:v,cache:S},gb(f),rc(f,Rn,S)):((l.lanes&h)!==0&&(vb(l,f),l0(f,null,null,h),o0()),S=l.memoizedState,C=f.memoizedState,S.parent!==v?(S={parent:v,cache:v},f.memoizedState=S,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=S),rc(f,Rn,v)):(v=C.cache,rc(f,Rn,v),v!==S.cache&&fb(f,[Rn],h,!0))),Ti(l,f,f.pendingProps.children,h),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function nl(l){l.flags|=4}function Zb(l,f,h,v,S){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(wR())l.flags|=8192;else throw Cu=Pg,mb}else l.flags&=-16777217}function JP(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!fO(f))if(wR())l.flags|=8192;else throw Cu=Pg,mb}function Wg(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?Za():536870912,l.lanes|=f,hd|=f)}function p0(l,f){if(!er)switch(l.tailMode){case"hidden":f=l.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function qr(l){var f=l.alternate!==null&&l.alternate.child===l.child,h=0,v=0;if(f)for(var S=l.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=h,f}function cW(l,f,h){var v=f.pendingProps;switch(sb(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(f),null;case 1:return qr(f),null;case 3:return h=f.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),Qo(Rn),le(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(ed(f)?nl(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,lb())),qr(f),null;case 26:var S=f.type,C=f.memoizedState;return l===null?(nl(f),C!==null?(qr(f),JP(f,C)):(qr(f),Zb(f,S,null,v,h))):C?C!==l.memoizedState?(nl(f),qr(f),JP(f,C)):(qr(f),f.flags&=-16777217):(l=l.memoizedProps,l!==v&&nl(f),qr(f),Zb(f,S,l,v,h)),null;case 27:if(De(f),h=he.current,S=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&nl(f);else{if(!v){if(f.stateNode===null)throw Error(n(166));return qr(f),null}l=X.current,ed(f)?kI(f):(l=nO(S,v,h),f.stateNode=l,nl(f))}return qr(f),null;case 5:if(De(f),S=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&nl(f);else{if(!v){if(f.stateNode===null)throw Error(n(166));return qr(f),null}if(C=X.current,ed(f))kI(f);else{var z=cv(he.current);switch(C){case 1:C=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:C=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":C=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":C=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":C=z.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?z.createElement(S,{is:v.is}):z.createElement(S)}}C[te]=f,C[ne]=v;e:for(z=f.child;z!==null;){if(z.tag===5||z.tag===6)C.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===f)break e;for(;z.sibling===null;){if(z.return===null||z.return===f)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}f.stateNode=C;e:switch(Si(C,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&nl(f)}}return qr(f),Zb(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,h),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==v&&nl(f);else{if(typeof v!="string"&&f.stateNode===null)throw Error(n(166));if(l=he.current,ed(f)){if(l=f.stateNode,h=f.memoizedProps,v=null,S=wi,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}l[te]=f,l=!!(l.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||qR(l.nodeValue,h)),l||tc(f,!0)}else l=cv(l).createTextNode(v),l[te]=f,f.stateNode=l}return qr(f),null;case 31:if(h=f.memoizedState,l===null||l.memoizedState!==null){if(v=ed(f),h!==null){if(l===null){if(!v)throw Error(n(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[te]=f}else wu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;qr(f),l=!1}else h=lb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return f.flags&256?(Fa(f),f):(Fa(f),null);if((f.flags&128)!==0)throw Error(n(558))}return qr(f),null;case 13:if(v=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=ed(f),v!==null&&v.dehydrated!==null){if(l===null){if(!S)throw Error(n(318));if(S=f.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[te]=f}else wu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;qr(f),S=!1}else S=lb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return f.flags&256?(Fa(f),f):(Fa(f),null)}return Fa(f),(f.flags&128)!==0?(f.lanes=h,f):(h=v!==null,l=l!==null&&l.memoizedState!==null,h&&(v=f.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==S&&(v.flags|=2048)),h!==l&&h&&(f.child.flags|=8192),Wg(f,f.updateQueue),qr(f),null);case 4:return le(),l===null&&_w(f.stateNode.containerInfo),qr(f),null;case 10:return Qo(f.type),qr(f),null;case 19:if(V(En),v=f.memoizedState,v===null)return qr(f),null;if(S=(f.flags&128)!==0,C=v.rendering,C===null)if(S)p0(v,!1);else{if(un!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(C=Dg(l),C!==null){for(f.flags|=128,p0(v,!1),l=C.updateQueue,f.updateQueue=l,Wg(f,l),f.subtreeFlags=0,l=h,h=f.child;h!==null;)TI(h,l),h=h.sibling;return ee(En,En.current&1|2),er&&Xo(f,v.treeForkCount),f.child}l=l.sibling}v.tail!==null&&wt()>Qg&&(f.flags|=128,S=!0,p0(v,!1),f.lanes=4194304)}else{if(!S)if(l=Dg(C),l!==null){if(f.flags|=128,S=!0,l=l.updateQueue,f.updateQueue=l,Wg(f,l),p0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!er)return qr(f),null}else 2*wt()-v.renderingStartTime>Qg&&h!==536870912&&(f.flags|=128,S=!0,p0(v,!1),f.lanes=4194304);v.isBackwards?(C.sibling=f.child,f.child=C):(l=v.last,l!==null?l.sibling=C:f.child=C,v.last=C)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=wt(),l.sibling=null,h=En.current,ee(En,S?h&1|2:h&1),er&&Xo(f,v.treeForkCount),l):(qr(f),null);case 22:case 23:return Fa(f),bb(),v=f.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(f.flags|=8192):v&&(f.flags|=8192),v?(h&536870912)!==0&&(f.flags&128)===0&&(qr(f),f.subtreeFlags&6&&(f.flags|=8192)):qr(f),h=f.updateQueue,h!==null&&Wg(f,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==h&&(f.flags|=2048),l!==null&&V(Su),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),f.memoizedState.cache!==h&&(f.flags|=2048),Qo(Rn),qr(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function uW(l,f){switch(sb(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return Qo(Rn),le(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return De(f),null;case 31:if(f.memoizedState!==null){if(Fa(f),f.alternate===null)throw Error(n(340));wu()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(Fa(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(n(340));wu()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return V(En),null;case 4:return le(),null;case 10:return Qo(f.type),null;case 22:case 23:return Fa(f),bb(),l!==null&&V(Su),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return Qo(Rn),null;case 25:return null;default:return null}}function XP(l,f){switch(sb(f),f.tag){case 3:Qo(Rn),le();break;case 26:case 27:case 5:De(f);break;case 4:le();break;case 31:f.memoizedState!==null&&Fa(f);break;case 13:Fa(f);break;case 19:V(En);break;case 10:Qo(f.type);break;case 22:case 23:Fa(f),bb(),l!==null&&V(Su);break;case 24:Qo(Rn)}}function m0(l,f){try{var h=f.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var S=v.next;h=S;do{if((h.tag&l)===l){v=void 0;var C=h.create,z=h.inst;v=C(),z.destroy=v}h=h.next}while(h!==S)}}catch(Y){Ar(f,f.return,Y)}}function lc(l,f,h){try{var v=f.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var C=S.next;v=C;do{if((v.tag&l)===l){var z=v.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,S=f;var de=h,Ae=Y;try{Ae()}catch(Me){Ar(S,de,Me)}}}v=v.next}while(v!==C)}}catch(Me){Ar(f,f.return,Me)}}function ZP(l){var f=l.updateQueue;if(f!==null){var h=l.stateNode;try{zI(f,h)}catch(v){Ar(l,l.return,v)}}}function QP(l,f,h){h.props=Iu(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(v){Ar(l,f,v)}}function g0(l,f){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof h=="function"?l.refCleanup=h(v):h.current=v}}catch(S){Ar(l,f,S)}}function _o(l,f){var h=l.ref,v=l.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(S){Ar(l,f,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Ar(l,f,S)}else h.current=null}function eR(l){var f=l.type,h=l.memoizedProps,v=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(S){Ar(l,l.return,S)}}function Qb(l,f,h){try{var v=l.stateNode;RW(v,l.type,h,f),v[ne]=f}catch(S){Ar(l,l.return,S)}}function tR(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&mc(l.type)||l.tag===4}function ew(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||tR(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&mc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function tw(l,f,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,f):(f=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,f.appendChild(l),h=h._reactRootContainer,h!=null||f.onclick!==null||(f.onclick=Ls));else if(v!==4&&(v===27&&mc(l.type)&&(h=l.stateNode,f=null),l=l.child,l!==null))for(tw(l,f,h),l=l.sibling;l!==null;)tw(l,f,h),l=l.sibling}function Yg(l,f,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?h.insertBefore(l,f):h.appendChild(l);else if(v!==4&&(v===27&&mc(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Yg(l,f,h),l=l.sibling;l!==null;)Yg(l,f,h),l=l.sibling}function rR(l){var f=l.stateNode,h=l.memoizedProps;try{for(var v=l.type,S=f.attributes;S.length;)f.removeAttributeNode(S[0]);Si(f,v,h),f[te]=l,f[ne]=h}catch(C){Ar(l,l.return,C)}}var il=!1,Dn=!1,rw=!1,nR=typeof WeakSet=="function"?WeakSet:Set,ni=null;function fW(l,f){if(l=l.containerInfo,Ew=gv,l=mI(l),Y_(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var z=0,Y=-1,de=-1,Ae=0,Me=0,Ue=l,Ne=null;t:for(;;){for(var Pe;Ue!==h||S!==0&&Ue.nodeType!==3||(Y=z+S),Ue!==C||v!==0&&Ue.nodeType!==3||(de=z+v),Ue.nodeType===3&&(z+=Ue.nodeValue.length),(Pe=Ue.firstChild)!==null;)Ne=Ue,Ue=Pe;for(;;){if(Ue===l)break t;if(Ne===h&&++Ae===S&&(Y=z),Ne===C&&++Me===v&&(de=z),(Pe=Ue.nextSibling)!==null)break;Ue=Ne,Ne=Ue.parentNode}Ue=Pe}h=Y===-1||de===-1?null:{start:Y,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(Tw={focusedElem:l,selectionRange:h},gv=!1,ni=f;ni!==null;)if(f=ni,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,ni=l;else for(;ni!==null;){switch(f=ni,C=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)S=l[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,h=f,S=C.memoizedProps,C=C.memoizedState,v=h.stateNode;try{var ut=Iu(h.type,S);l=v.getSnapshotBeforeUpdate(ut,C),v.__reactInternalSnapshotBeforeUpdate=l}catch(bt){Ar(h,h.return,bt)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,h=l.nodeType,h===9)Cw(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Cw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=f.sibling,l!==null){l.return=f.return,ni=l;break}ni=f.return}}function iR(l,f,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:sl(l,h),v&4&&m0(5,h);break;case 1:if(sl(l,h),v&4)if(l=h.stateNode,f===null)try{l.componentDidMount()}catch(z){Ar(h,h.return,z)}else{var S=Iu(h.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(S,f,l.__reactInternalSnapshotBeforeUpdate)}catch(z){Ar(h,h.return,z)}}v&64&&ZP(h),v&512&&g0(h,h.return);break;case 3:if(sl(l,h),v&64&&(l=h.updateQueue,l!==null)){if(f=null,h.child!==null)switch(h.child.tag){case 27:case 5:f=h.child.stateNode;break;case 1:f=h.child.stateNode}try{zI(l,f)}catch(z){Ar(h,h.return,z)}}break;case 27:f===null&&v&4&&rR(h);case 26:case 5:sl(l,h),f===null&&v&4&&eR(h),v&512&&g0(h,h.return);break;case 12:sl(l,h);break;case 31:sl(l,h),v&4&&oR(l,h);break;case 13:sl(l,h),v&4&&lR(l,h),v&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=_W.bind(null,h),BW(l,h))));break;case 22:if(v=h.memoizedState!==null||il,!v){f=f!==null&&f.memoizedState!==null||Dn,S=il;var C=Dn;il=v,(Dn=f)&&!C?ol(l,h,(h.subtreeFlags&8772)!==0):sl(l,h),il=S,Dn=C}break;case 30:break;default:sl(l,h)}}function aR(l){var f=l.alternate;f!==null&&(l.alternate=null,aR(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&qe(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Xr=null,va=!1;function al(l,f,h){for(h=h.child;h!==null;)sR(l,f,h),h=h.sibling}function sR(l,f,h){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Vt,h)}catch{}switch(h.tag){case 26:Dn||_o(h,f),al(l,f,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Dn||_o(h,f);var v=Xr,S=va;mc(h.type)&&(Xr=h.stateNode,va=!1),al(l,f,h),S0(h.stateNode),Xr=v,va=S;break;case 5:Dn||_o(h,f);case 6:if(v=Xr,S=va,Xr=null,al(l,f,h),Xr=v,va=S,Xr!==null)if(va)try{(Xr.nodeType===9?Xr.body:Xr.nodeName==="HTML"?Xr.ownerDocument.body:Xr).removeChild(h.stateNode)}catch(C){Ar(h,f,C)}else try{Xr.removeChild(h.stateNode)}catch(C){Ar(h,f,C)}break;case 18:Xr!==null&&(va?(l=Xr,ZR(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),bd(l)):ZR(Xr,h.stateNode));break;case 4:v=Xr,S=va,Xr=h.stateNode.containerInfo,va=!0,al(l,f,h),Xr=v,va=S;break;case 0:case 11:case 14:case 15:lc(2,h,f),Dn||lc(4,h,f),al(l,f,h);break;case 1:Dn||(_o(h,f),v=h.stateNode,typeof v.componentWillUnmount=="function"&&QP(h,f,v)),al(l,f,h);break;case 21:al(l,f,h);break;case 22:Dn=(v=Dn)||h.memoizedState!==null,al(l,f,h),Dn=v;break;default:al(l,f,h)}}function oR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{bd(l)}catch(h){Ar(f,f.return,h)}}}function lR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{bd(l)}catch(h){Ar(f,f.return,h)}}function dW(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new nR),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new nR),f;default:throw Error(n(435,l.tag))}}function Jg(l,f){var h=dW(l);f.forEach(function(v){if(!h.has(v)){h.add(v);var S=bW.bind(null,l,v);v.then(S,S)}})}function ya(l,f){var h=f.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v],C=l,z=f,Y=z;e:for(;Y!==null;){switch(Y.tag){case 27:if(mc(Y.type)){Xr=Y.stateNode,va=!1;break e}break;case 5:Xr=Y.stateNode,va=!1;break e;case 3:case 4:Xr=Y.stateNode.containerInfo,va=!0;break e}Y=Y.return}if(Xr===null)throw Error(n(160));sR(C,z,S),Xr=null,va=!1,C=S.alternate,C!==null&&(C.return=null),S.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)cR(f,l),f=f.sibling}var zs=null;function cR(l,f){var h=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ya(f,l),xa(l),v&4&&(lc(3,l,l.return),m0(3,l),lc(5,l,l.return));break;case 1:ya(f,l),xa(l),v&512&&(Dn||h===null||_o(h,h.return)),v&64&&il&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var S=zs;if(ya(f,l),xa(l),v&512&&(Dn||h===null||_o(h,h.return)),v&4){var C=h!==null?h.memoizedState:null;if(v=l.memoizedState,h===null)if(v===null)if(l.stateNode===null){e:{v=l.type,h=l.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":C=S.getElementsByTagName("title")[0],(!C||C[Se]||C[te]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=S.createElement(v),S.head.insertBefore(C,S.querySelector("head > title"))),Si(C,v,h),C[te]=l,lt(C),v=C;break e;case"link":var z=cO("link","href",S).get(v+(h.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(C=z[Y],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(Y,1);break t}}C=S.createElement(v),Si(C,v,h),S.head.appendChild(C);break;case"meta":if(z=cO("meta","content",S).get(v+(h.content||""))){for(Y=0;Y<z.length;Y++)if(C=z[Y],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(Y,1);break t}}C=S.createElement(v),Si(C,v,h),S.head.appendChild(C);break;default:throw Error(n(468,v))}C[te]=l,lt(C),v=C}l.stateNode=v}else uO(S,l.type,l.stateNode);else l.stateNode=lO(S,v,l.memoizedProps);else C!==v?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,v===null?uO(S,l.type,l.stateNode):lO(S,v,l.memoizedProps)):v===null&&l.stateNode!==null&&Qb(l,l.memoizedProps,h.memoizedProps)}break;case 27:ya(f,l),xa(l),v&512&&(Dn||h===null||_o(h,h.return)),h!==null&&v&4&&Qb(l,l.memoizedProps,h.memoizedProps);break;case 5:if(ya(f,l),xa(l),v&512&&(Dn||h===null||_o(h,h.return)),l.flags&32){S=l.stateNode;try{bn(S,"")}catch(ut){Ar(l,l.return,ut)}}v&4&&l.stateNode!=null&&(S=l.memoizedProps,Qb(l,S,h!==null?h.memoizedProps:S)),v&1024&&(rw=!0);break;case 6:if(ya(f,l),xa(l),v&4){if(l.stateNode===null)throw Error(n(162));v=l.memoizedProps,h=l.stateNode;try{h.nodeValue=v}catch(ut){Ar(l,l.return,ut)}}break;case 3:if(dv=null,S=zs,zs=uv(f.containerInfo),ya(f,l),zs=S,xa(l),v&4&&h!==null&&h.memoizedState.isDehydrated)try{bd(f.containerInfo)}catch(ut){Ar(l,l.return,ut)}rw&&(rw=!1,uR(l));break;case 4:v=zs,zs=uv(l.stateNode.containerInfo),ya(f,l),xa(l),zs=v;break;case 12:ya(f,l),xa(l);break;case 31:ya(f,l),xa(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Jg(l,v)));break;case 13:ya(f,l),xa(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Zg=wt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Jg(l,v)));break;case 22:S=l.memoizedState!==null;var de=h!==null&&h.memoizedState!==null,Ae=il,Me=Dn;if(il=Ae||S,Dn=Me||de,ya(f,l),Dn=Me,il=Ae,xa(l),v&8192)e:for(f=l.stateNode,f._visibility=S?f._visibility&-2:f._visibility|1,S&&(h===null||de||il||Dn||Pu(l)),h=null,f=l;;){if(f.tag===5||f.tag===26){if(h===null){de=h=f;try{if(C=de.stateNode,S)z=C.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Y=de.stateNode;var Ue=de.memoizedProps.style,Ne=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null;Y.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(ut){Ar(de,de.return,ut)}}}else if(f.tag===6){if(h===null){de=f;try{de.stateNode.nodeValue=S?"":de.memoizedProps}catch(ut){Ar(de,de.return,ut)}}}else if(f.tag===18){if(h===null){de=f;try{var Pe=de.stateNode;S?QR(Pe,!0):QR(de.stateNode,!1)}catch(ut){Ar(de,de.return,ut)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}v&4&&(v=l.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,Jg(l,h))));break;case 19:ya(f,l),xa(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Jg(l,v)));break;case 30:break;case 21:break;default:ya(f,l),xa(l)}}function xa(l){var f=l.flags;if(f&2){try{for(var h,v=l.return;v!==null;){if(tR(v)){h=v;break}v=v.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var S=h.stateNode,C=ew(l);Yg(l,C,S);break;case 5:var z=h.stateNode;h.flags&32&&(bn(z,""),h.flags&=-33);var Y=ew(l);Yg(l,Y,z);break;case 3:case 4:var de=h.stateNode.containerInfo,Ae=ew(l);tw(l,Ae,de);break;default:throw Error(n(161))}}catch(Me){Ar(l,l.return,Me)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function uR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;uR(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function sl(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)iR(l,f.alternate,f),f=f.sibling}function Pu(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:lc(4,f,f.return),Pu(f);break;case 1:_o(f,f.return);var h=f.stateNode;typeof h.componentWillUnmount=="function"&&QP(f,f.return,h),Pu(f);break;case 27:S0(f.stateNode);case 26:case 5:_o(f,f.return),Pu(f);break;case 22:f.memoizedState===null&&Pu(f);break;case 30:Pu(f);break;default:Pu(f)}l=l.sibling}}function ol(l,f,h){for(h=h&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var v=f.alternate,S=l,C=f,z=C.flags;switch(C.tag){case 0:case 11:case 15:ol(S,C,h),m0(4,C);break;case 1:if(ol(S,C,h),v=C,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ae){Ar(v,v.return,Ae)}if(v=C,S=v.updateQueue,S!==null){var Y=v.stateNode;try{var de=S.shared.hiddenCallbacks;if(de!==null)for(S.shared.hiddenCallbacks=null,S=0;S<de.length;S++)VI(de[S],Y)}catch(Ae){Ar(v,v.return,Ae)}}h&&z&64&&ZP(C),g0(C,C.return);break;case 27:rR(C);case 26:case 5:ol(S,C,h),h&&v===null&&z&4&&eR(C),g0(C,C.return);break;case 12:ol(S,C,h);break;case 31:ol(S,C,h),h&&z&4&&oR(S,C);break;case 13:ol(S,C,h),h&&z&4&&lR(S,C);break;case 22:C.memoizedState===null&&ol(S,C,h),g0(C,C.return);break;case 30:break;default:ol(S,C,h)}f=f.sibling}}function nw(l,f){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&r0(h))}function iw(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&r0(l))}function $s(l,f,h,v){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)fR(l,f,h,v),f=f.sibling}function fR(l,f,h,v){var S=f.flags;switch(f.tag){case 0:case 11:case 15:$s(l,f,h,v),S&2048&&m0(9,f);break;case 1:$s(l,f,h,v);break;case 3:$s(l,f,h,v),S&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&r0(l)));break;case 12:if(S&2048){$s(l,f,h,v),l=f.stateNode;try{var C=f.memoizedProps,z=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(z,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(de){Ar(f,f.return,de)}}else $s(l,f,h,v);break;case 31:$s(l,f,h,v);break;case 13:$s(l,f,h,v);break;case 23:break;case 22:C=f.stateNode,z=f.alternate,f.memoizedState!==null?C._visibility&2?$s(l,f,h,v):v0(l,f):C._visibility&2?$s(l,f,h,v):(C._visibility|=2,ud(l,f,h,v,(f.subtreeFlags&10256)!==0||!1)),S&2048&&nw(z,f);break;case 24:$s(l,f,h,v),S&2048&&iw(f.alternate,f);break;default:$s(l,f,h,v)}}function ud(l,f,h,v,S){for(S=S&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var C=l,z=f,Y=h,de=v,Ae=z.flags;switch(z.tag){case 0:case 11:case 15:ud(C,z,Y,de,S),m0(8,z);break;case 23:break;case 22:var Me=z.stateNode;z.memoizedState!==null?Me._visibility&2?ud(C,z,Y,de,S):v0(C,z):(Me._visibility|=2,ud(C,z,Y,de,S)),S&&Ae&2048&&nw(z.alternate,z);break;case 24:ud(C,z,Y,de,S),S&&Ae&2048&&iw(z.alternate,z);break;default:ud(C,z,Y,de,S)}f=f.sibling}}function v0(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var h=l,v=f,S=v.flags;switch(v.tag){case 22:v0(h,v),S&2048&&nw(v.alternate,v);break;case 24:v0(h,v),S&2048&&iw(v.alternate,v);break;default:v0(h,v)}f=f.sibling}}var y0=8192;function fd(l,f,h){if(l.subtreeFlags&y0)for(l=l.child;l!==null;)dR(l,f,h),l=l.sibling}function dR(l,f,h){switch(l.tag){case 26:fd(l,f,h),l.flags&y0&&l.memoizedState!==null&&ZW(h,zs,l.memoizedState,l.memoizedProps);break;case 5:fd(l,f,h);break;case 3:case 4:var v=zs;zs=uv(l.stateNode.containerInfo),fd(l,f,h),zs=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=y0,y0=16777216,fd(l,f,h),y0=v):fd(l,f,h));break;default:fd(l,f,h)}}function hR(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function x0(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var h=0;h<f.length;h++){var v=f[h];ni=v,mR(v,l)}hR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)pR(l),l=l.sibling}function pR(l){switch(l.tag){case 0:case 11:case 15:x0(l),l.flags&2048&&lc(9,l,l.return);break;case 3:x0(l);break;case 12:x0(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,Xg(l)):x0(l);break;default:x0(l)}}function Xg(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var h=0;h<f.length;h++){var v=f[h];ni=v,mR(v,l)}hR(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:lc(8,f,f.return),Xg(f);break;case 22:h=f.stateNode,h._visibility&2&&(h._visibility&=-3,Xg(f));break;default:Xg(f)}l=l.sibling}}function mR(l,f){for(;ni!==null;){var h=ni;switch(h.tag){case 0:case 11:case 15:lc(8,h,f);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:r0(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,ni=v;else e:for(h=l;ni!==null;){v=ni;var S=v.sibling,C=v.return;if(aR(v),v===h){ni=null;break e}if(S!==null){S.return=C,ni=S;break e}ni=C}}}var hW={getCacheForType:function(l){var f=Ei(Rn),h=f.data.get(l);return h===void 0&&(h=l(),f.data.set(l,h)),h},cacheSignal:function(){return Ei(Rn).controller.signal}},pW=typeof WeakMap=="function"?WeakMap:Map,yr=0,jr=null,Gt=null,Wt=0,Sr=0,ja=null,cc=!1,dd=!1,aw=!1,ll=0,un=0,uc=0,Ru=0,sw=0,Ua=0,hd=0,_0=null,_a=null,ow=!1,Zg=0,gR=0,Qg=1/0,ev=null,fc=null,qn=0,dc=null,pd=null,cl=0,lw=0,cw=null,vR=null,b0=0,uw=null;function Ba(){return(yr&2)!==0&&Wt!==0?Wt&-Wt:re.T!==null?gw():W()}function yR(){if(Ua===0)if((Wt&536870912)===0||er){var l=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),Ua=l}else Ua=536870912;return l=La.current,l!==null&&(l.flags|=32),Ua}function ba(l,f,h){(l===jr&&(Sr===2||Sr===9)||l.cancelPendingCommit!==null)&&(md(l,0),hc(l,Wt,Ua,!1)),_i(l,h),((yr&2)===0||l!==jr)&&(l===jr&&((yr&2)===0&&(Ru|=h),un===4&&hc(l,Wt,Ua,!1)),bo(l))}function xR(l,f,h){if((yr&6)!==0)throw Error(n(327));var v=!h&&(f&127)===0&&(f&l.expiredLanes)===0||xi(l,f),S=v?vW(l,f):dw(l,f,!0),C=v;do{if(S===0){dd&&!v&&hc(l,f,0,!1);break}else{if(h=l.current.alternate,C&&!mW(h)){S=dw(l,f,!1),C=!1;continue}if(S===2){if(C=f,l.errorRecoveryDisabledLanes&C)var z=0;else z=l.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){f=z;e:{var Y=l;S=_0;var de=Y.current.memoizedState.isDehydrated;if(de&&(md(Y,z).flags|=256),z=dw(Y,z,!1),z!==2){if(aw&&!de){Y.errorRecoveryDisabledLanes|=C,Ru|=C,S=4;break e}C=_a,_a=S,C!==null&&(_a===null?_a=C:_a.push.apply(_a,C))}S=z}if(C=!1,S!==2)continue}}if(S===1){md(l,0),hc(l,f,0,!0);break}e:{switch(v=l,C=S,C){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:hc(v,f,Ua,!cc);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(S=Zg+300-wt(),10<S)){if(hc(v,f,Ua,!cc),In(v,0,!0)!==0)break e;cl=f,v.timeoutHandle=JR(_R.bind(null,v,h,_a,ev,ow,f,Ua,Ru,hd,cc,C,"Throttled",-0,0),S);break e}_R(v,h,_a,ev,ow,f,Ua,Ru,hd,cc,C,null,-0,0)}}break}while(!0);bo(l)}function _R(l,f,h,v,S,C,z,Y,de,Ae,Me,Ue,Ne,Pe){if(l.timeoutHandle=-1,Ue=f.subtreeFlags,Ue&8192||(Ue&16785408)===16785408){Ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ls},dR(f,C,Ue);var ut=(C&62914560)===C?Zg-wt():(C&4194048)===C?gR-wt():0;if(ut=QW(Ue,ut),ut!==null){cl=C,l.cancelPendingCommit=ut(NR.bind(null,l,f,C,h,v,S,z,Y,de,Me,Ue,null,Ne,Pe)),hc(l,C,z,!Ae);return}}NR(l,f,C,h,v,S,z,Y,de)}function mW(l){for(var f=l;;){var h=f.tag;if((h===0||h===11||h===15)&&f.flags&16384&&(h=f.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var S=h[v],C=S.getSnapshot;S=S.value;try{if(!Ma(C(),S))return!1}catch{return!1}}if(h=f.child,f.subtreeFlags&16384&&h!==null)h.return=f,f=h;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function hc(l,f,h,v){f&=~sw,f&=~Ru,l.suspendedLanes|=f,l.pingedLanes&=~f,v&&(l.warmLanes|=f),v=l.expirationTimes;for(var S=f;0<S;){var C=31-Vr(S),z=1<<C;v[C]=-1,S&=~z}h!==0&&Os(l,h,f)}function tv(){return(yr&6)===0?(w0(0),!1):!0}function fw(){if(Gt!==null){if(Sr===0)var l=Gt.return;else l=Gt,Zo=Eu=null,Cb(l),ad=null,i0=0,l=Gt;for(;l!==null;)XP(l.alternate,l),l=l.return;Gt=null}}function md(l,f){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,DW(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),cl=0,fw(),jr=l,Gt=h=Jo(l.current,null),Wt=f,Sr=0,ja=null,cc=!1,dd=xi(l,f),aw=!1,hd=Ua=sw=Ru=uc=un=0,_a=_0=null,ow=!1,(f&8)!==0&&(f|=f&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=f;0<v;){var S=31-Vr(v),C=1<<S;f|=l[S],v&=~C}return ll=f,wg(),h}function bR(l,f){Ft=null,re.H=d0,f===id||f===Ig?(f=FI(),Sr=3):f===mb?(f=FI(),Sr=4):Sr=f===$b?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ja=f,Gt===null&&(un=1,Hg(l,is(f,l.current)))}function wR(){var l=La.current;return l===null?!0:(Wt&4194048)===Wt?ls===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?l===ls:!1}function ER(){var l=re.H;return re.H=d0,l===null?d0:l}function TR(){var l=re.A;return re.A=hW,l}function rv(){un=4,cc||(Wt&4194048)!==Wt&&La.current!==null||(dd=!0),(uc&134217727)===0&&(Ru&134217727)===0||jr===null||hc(jr,Wt,Ua,!1)}function dw(l,f,h){var v=yr;yr|=2;var S=ER(),C=TR();(jr!==l||Wt!==f)&&(ev=null,md(l,f)),f=!1;var z=un;e:do try{if(Sr!==0&&Gt!==null){var Y=Gt,de=ja;switch(Sr){case 8:fw(),z=6;break e;case 3:case 2:case 9:case 6:La.current===null&&(f=!0);var Ae=Sr;if(Sr=0,ja=null,gd(l,Y,de,Ae),h&&dd){z=0;break e}break;default:Ae=Sr,Sr=0,ja=null,gd(l,Y,de,Ae)}}gW(),z=un;break}catch(Me){bR(l,Me)}while(!0);return f&&l.shellSuspendCounter++,Zo=Eu=null,yr=v,re.H=S,re.A=C,Gt===null&&(jr=null,Wt=0,wg()),z}function gW(){for(;Gt!==null;)SR(Gt)}function vW(l,f){var h=yr;yr|=2;var v=ER(),S=TR();jr!==l||Wt!==f?(ev=null,Qg=wt()+500,md(l,f)):dd=xi(l,f);e:do try{if(Sr!==0&&Gt!==null){f=Gt;var C=ja;t:switch(Sr){case 1:Sr=0,ja=null,gd(l,f,C,1);break;case 2:case 9:if(DI(C)){Sr=0,ja=null,AR(f);break}f=function(){Sr!==2&&Sr!==9||jr!==l||(Sr=7),bo(l)},C.then(f,f);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:DI(C)?(Sr=0,ja=null,AR(f)):(Sr=0,ja=null,gd(l,f,C,7));break;case 5:var z=null;switch(Gt.tag){case 26:z=Gt.memoizedState;case 5:case 27:var Y=Gt;if(z?fO(z):Y.stateNode.complete){Sr=0,ja=null;var de=Y.sibling;if(de!==null)Gt=de;else{var Ae=Y.return;Ae!==null?(Gt=Ae,nv(Ae)):Gt=null}break t}}Sr=0,ja=null,gd(l,f,C,5);break;case 6:Sr=0,ja=null,gd(l,f,C,6);break;case 8:fw(),un=6;break e;default:throw Error(n(462))}}yW();break}catch(Me){bR(l,Me)}while(!0);return Zo=Eu=null,re.H=v,re.A=S,yr=h,Gt!==null?0:(jr=null,Wt=0,wg(),un)}function yW(){for(;Gt!==null&&!At();)SR(Gt)}function SR(l){var f=YP(l.alternate,l,ll);l.memoizedProps=l.pendingProps,f===null?nv(l):Gt=f}function AR(l){var f=l,h=f.alternate;switch(f.tag){case 15:case 0:f=$P(h,f,f.pendingProps,f.type,void 0,Wt);break;case 11:f=$P(h,f,f.pendingProps,f.type.render,f.ref,Wt);break;case 5:Cb(f);default:XP(h,f),f=Gt=TI(f,ll),f=YP(h,f,ll)}l.memoizedProps=l.pendingProps,f===null?nv(l):Gt=f}function gd(l,f,h,v){Zo=Eu=null,Cb(f),ad=null,i0=0;var S=f.return;try{if(sW(l,S,f,h,Wt)){un=1,Hg(l,is(h,l.current)),Gt=null;return}}catch(C){if(S!==null)throw Gt=S,C;un=1,Hg(l,is(h,l.current)),Gt=null;return}f.flags&32768?(er||v===1?l=!0:dd||(Wt&536870912)!==0?l=!1:(cc=l=!0,(v===2||v===9||v===3||v===6)&&(v=La.current,v!==null&&v.tag===13&&(v.flags|=16384))),CR(f,l)):nv(f)}function nv(l){var f=l;do{if((f.flags&32768)!==0){CR(f,cc);return}l=f.return;var h=cW(f.alternate,f,ll);if(h!==null){Gt=h;return}if(f=f.sibling,f!==null){Gt=f;return}Gt=f=l}while(f!==null);un===0&&(un=5)}function CR(l,f){do{var h=uW(l.alternate,l);if(h!==null){h.flags&=32767,Gt=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!f&&(l=l.sibling,l!==null)){Gt=l;return}Gt=l=h}while(l!==null);un=6,Gt=null}function NR(l,f,h,v,S,C,z,Y,de){l.cancelPendingCommit=null;do iv();while(qn!==0);if((yr&6)!==0)throw Error(n(327));if(f!==null){if(f===l.current)throw Error(n(177));if(C=f.lanes|f.childLanes,C|=eb,Bf(l,h,C,z,Y,de),l===jr&&(Gt=jr=null,Wt=0),pd=f,dc=l,cl=h,lw=C,cw=S,vR=v,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,wW(Kt,function(){return OR(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||v){v=re.T,re.T=null,S=ue.p,ue.p=2,z=yr,yr|=4;try{fW(l,f,h)}finally{yr=z,ue.p=S,re.T=v}}qn=1,kR(),IR(),PR()}}function kR(){if(qn===1){qn=0;var l=dc,f=pd,h=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||h){h=re.T,re.T=null;var v=ue.p;ue.p=2;var S=yr;yr|=4;try{cR(f,l);var C=Tw,z=mI(l.containerInfo),Y=C.focusedElem,de=C.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&pI(Y.ownerDocument.documentElement,Y)){if(de!==null&&Y_(Y)){var Ae=de.start,Me=de.end;if(Me===void 0&&(Me=Ae),"selectionStart"in Y)Y.selectionStart=Ae,Y.selectionEnd=Math.min(Me,Y.value.length);else{var Ue=Y.ownerDocument||document,Ne=Ue&&Ue.defaultView||window;if(Ne.getSelection){var Pe=Ne.getSelection(),ut=Y.textContent.length,bt=Math.min(de.start,ut),Mr=de.end===void 0?bt:Math.min(de.end,ut);!Pe.extend&&bt>Mr&&(z=Mr,Mr=bt,bt=z);var ve=hI(Y,bt),me=hI(Y,Mr);if(ve&&me&&(Pe.rangeCount!==1||Pe.anchorNode!==ve.node||Pe.anchorOffset!==ve.offset||Pe.focusNode!==me.node||Pe.focusOffset!==me.offset)){var Te=Ue.createRange();Te.setStart(ve.node,ve.offset),Pe.removeAllRanges(),bt>Mr?(Pe.addRange(Te),Pe.extend(me.node,me.offset)):(Te.setEnd(me.node,me.offset),Pe.addRange(Te))}}}}for(Ue=[],Pe=Y;Pe=Pe.parentNode;)Pe.nodeType===1&&Ue.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ue.length;Y++){var Fe=Ue[Y];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}gv=!!Ew,Tw=Ew=null}finally{yr=S,ue.p=v,re.T=h}}l.current=f,qn=2}}function IR(){if(qn===2){qn=0;var l=dc,f=pd,h=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||h){h=re.T,re.T=null;var v=ue.p;ue.p=2;var S=yr;yr|=4;try{iR(l,f.alternate,f)}finally{yr=S,ue.p=v,re.T=h}}qn=3}}function PR(){if(qn===4||qn===3){qn=0,Br();var l=dc,f=pd,h=cl,v=vR;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?qn=5:(qn=0,pd=dc=null,RR(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(fc=null),ga(h),f=f.stateNode,wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Vt,f,void 0,(f.current.flags&128)===128)}catch{}if(v!==null){f=re.T,S=ue.p,ue.p=2,re.T=null;try{for(var C=l.onRecoverableError,z=0;z<v.length;z++){var Y=v[z];C(Y.value,{componentStack:Y.stack})}}finally{re.T=f,ue.p=S}}(cl&3)!==0&&iv(),bo(l),S=l.pendingLanes,(h&261930)!==0&&(S&42)!==0?l===uw?b0++:(b0=0,uw=l):b0=0,w0(0)}}function RR(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,r0(f)))}function iv(){return kR(),IR(),PR(),OR()}function OR(){if(qn!==5)return!1;var l=dc,f=lw;lw=0;var h=ga(cl),v=re.T,S=ue.p;try{ue.p=32>h?32:h,re.T=null,h=cw,cw=null;var C=dc,z=cl;if(qn=0,pd=dc=null,cl=0,(yr&6)!==0)throw Error(n(331));var Y=yr;if(yr|=4,pR(C.current),fR(C,C.current,z,h),yr=Y,w0(0,!1),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Vt,C)}catch{}return!0}finally{ue.p=S,re.T=v,RR(l,f)}}function MR(l,f,h){f=is(h,f),f=zb(l.stateNode,f,2),l=ac(l,f,2),l!==null&&(_i(l,2),bo(l))}function Ar(l,f,h){if(l.tag===3)MR(l,l,h);else for(;f!==null;){if(f.tag===3){MR(f,l,h);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(fc===null||!fc.has(v))){l=is(h,l),h=DP(2),v=ac(f,h,2),v!==null&&(LP(h,v,f,l),_i(v,2),bo(v));break}}f=f.return}}function hw(l,f,h){var v=l.pingCache;if(v===null){v=l.pingCache=new pW;var S=new Set;v.set(f,S)}else S=v.get(f),S===void 0&&(S=new Set,v.set(f,S));S.has(h)||(aw=!0,S.add(h),l=xW.bind(null,l,f,h),f.then(l,l))}function xW(l,f,h){var v=l.pingCache;v!==null&&v.delete(f),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,jr===l&&(Wt&h)===h&&(un===4||un===3&&(Wt&62914560)===Wt&&300>wt()-Zg?(yr&2)===0&&md(l,0):sw|=h,hd===Wt&&(hd=0)),bo(l)}function DR(l,f){f===0&&(f=Za()),l=_u(l,f),l!==null&&(_i(l,f),bo(l))}function _W(l){var f=l.memoizedState,h=0;f!==null&&(h=f.retryLane),DR(l,h)}function bW(l,f){var h=0;switch(l.tag){case 31:case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(f),DR(l,h)}function wW(l,f){return ht(l,f)}var av=null,vd=null,pw=!1,sv=!1,mw=!1,pc=0;function bo(l){l!==vd&&l.next===null&&(vd===null?av=vd=l:vd=vd.next=l),sv=!0,pw||(pw=!0,TW())}function w0(l,f){if(!mw&&sv){mw=!0;do for(var h=!1,v=av;v!==null;){if(l!==0){var S=v.pendingLanes;if(S===0)var C=0;else{var z=v.suspendedLanes,Y=v.pingedLanes;C=(1<<31-Vr(42|l)+1)-1,C&=S&~(z&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,UR(v,C))}else C=Wt,C=In(v,v===jr?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||xi(v,C)||(h=!0,UR(v,C));v=v.next}while(h);mw=!1}}function EW(){LR()}function LR(){sv=pw=!1;var l=0;pc!==0&&MW()&&(l=pc);for(var f=wt(),h=null,v=av;v!==null;){var S=v.next,C=FR(v,f);C===0?(v.next=null,h===null?av=S:h.next=S,S===null&&(vd=h)):(h=v,(l!==0||(C&3)!==0)&&(sv=!0)),v=S}qn!==0&&qn!==5||w0(l),pc!==0&&(pc=0)}function FR(l,f){for(var h=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var z=31-Vr(C),Y=1<<z,de=S[z];de===-1?((Y&h)===0||(Y&v)!==0)&&(S[z]=ma(Y,f)):de<=f&&(l.expiredLanes|=Y),C&=~Y}if(f=jr,h=Wt,h=In(l,l===f?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,h===0||l===f&&(Sr===2||Sr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&at(v),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||xi(l,h)){if(f=h&-h,f===l.callbackPriority)return f;switch(v!==null&&at(v),ga(h)){case 2:case 8:h=Ir;break;case 32:h=Kt;break;case 268435456:h=xt;break;default:h=Kt}return v=jR.bind(null,l),h=ht(h,v),l.callbackPriority=f,l.callbackNode=h,f}return v!==null&&v!==null&&at(v),l.callbackPriority=2,l.callbackNode=null,2}function jR(l,f){if(qn!==0&&qn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(iv()&&l.callbackNode!==h)return null;var v=Wt;return v=In(l,l===jr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(xR(l,v,f),FR(l,wt()),l.callbackNode!=null&&l.callbackNode===h?jR.bind(null,l):null)}function UR(l,f){if(iv())return null;xR(l,f,!0)}function TW(){LW(function(){(yr&6)!==0?ht(Zt,EW):LR()})}function gw(){if(pc===0){var l=rd;l===0&&(l=vi,vi<<=1,(vi&261888)===0&&(vi=256)),pc=l}return pc}function BR(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Vf(""+l)}function VR(l,f){var h=f.ownerDocument.createElement("input");return h.name=f.name,h.value=f.value,l.id&&h.setAttribute("form",l.id),f.parentNode.insertBefore(h,f),l=new FormData(l),h.parentNode.removeChild(h),l}function SW(l,f,h,v,S){if(f==="submit"&&h&&h.stateNode===S){var C=BR((S[ne]||null).action),z=v.submitter;z&&(f=(f=z[ne]||null)?BR(f.formAction):z.getAttribute("formAction"),f!==null&&(C=f,z=null));var Y=new po("action","action",null,v,S);l.push({event:Y,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(pc!==0){var de=z?VR(S,z):new FormData(S);Lb(h,{pending:!0,data:de,method:S.method,action:C},null,de)}}else typeof C=="function"&&(Y.preventDefault(),de=z?VR(S,z):new FormData(S),Lb(h,{pending:!0,data:de,method:S.method,action:C},C,de))},currentTarget:S}]})}}for(var vw=0;vw<Q_.length;vw++){var yw=Q_[vw],AW=yw.toLowerCase(),CW=yw[0].toUpperCase()+yw.slice(1);Vs(AW,"on"+CW)}Vs(yI,"onAnimationEnd"),Vs(xI,"onAnimationIteration"),Vs(_I,"onAnimationStart"),Vs("dblclick","onDoubleClick"),Vs("focusin","onFocus"),Vs("focusout","onBlur"),Vs($K,"onTransitionRun"),Vs(HK,"onTransitionStart"),Vs(GK,"onTransitionCancel"),Vs(bI,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var E0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(E0));function zR(l,f){f=(f&4)!==0;for(var h=0;h<l.length;h++){var v=l[h],S=v.event;v=v.listeners;e:{var C=void 0;if(f)for(var z=v.length-1;0<=z;z--){var Y=v[z],de=Y.instance,Ae=Y.currentTarget;if(Y=Y.listener,de!==C&&S.isPropagationStopped())break e;C=Y,S.currentTarget=Ae;try{C(S)}catch(Me){bg(Me)}S.currentTarget=null,C=de}else for(z=0;z<v.length;z++){if(Y=v[z],de=Y.instance,Ae=Y.currentTarget,Y=Y.listener,de!==C&&S.isPropagationStopped())break e;C=Y,S.currentTarget=Ae;try{C(S)}catch(Me){bg(Me)}S.currentTarget=null,C=de}}}}function qt(l,f){var h=f[we];h===void 0&&(h=f[we]=new Set);var v=l+"__bubble";h.has(v)||($R(f,l,2,!1),h.add(v))}function xw(l,f,h){var v=0;f&&(v|=4),$R(h,l,v,f)}var ov="_reactListening"+Math.random().toString(36).slice(2);function _w(l){if(!l[ov]){l[ov]=!0,pr.forEach(function(h){h!=="selectionchange"&&(NW.has(h)||xw(h,!1,l),xw(h,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[ov]||(f[ov]=!0,xw("selectionchange",!1,f))}}function $R(l,f,h,v){switch(yO(f)){case 2:var S=rY;break;case 8:S=nY;break;default:S=Dw}h=S.bind(null,f,h,l),S=void 0,!du||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(f,h,{capture:!0,passive:S}):l.addEventListener(f,h,!0):S!==void 0?l.addEventListener(f,h,{passive:S}):l.addEventListener(f,h,!1)}function bw(l,f,h,v,S){var C=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var Y=v.stateNode.containerInfo;if(Y===S)break;if(z===4)for(z=v.return;z!==null;){var de=z.tag;if((de===3||de===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;Y!==null;){if(z=We(Y),z===null)return;if(de=z.tag,de===5||de===6||de===26||de===27){v=C=z;continue e}Y=Y.parentNode}}v=v.return}Yl(function(){var Ae=C,Me=es(h),Ue=[];e:{var Ne=wI.get(l);if(Ne!==void 0){var Pe=po,ut=l;switch(l){case"keypress":if(pu(h)===0)break e;case"keydown":case"keyup":Pe=yg;break;case"focusin":ut="focus",Pe=gu;break;case"focusout":ut="blur",Pe=gu;break;case"beforeblur":case"afterblur":Pe=gu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=j;break;case yI:case xI:case _I:Pe=fg;break;case bI:Pe=Q;break;case"scroll":case"scrollend":Pe=Kh;break;case"wheel":Pe=Ie;break;case"copy":case"cut":case"paste":Pe=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=Yo;break;case"toggle":case"beforetoggle":Pe=Lt}var bt=(f&4)!==0,Mr=!bt&&(l==="scroll"||l==="scrollend"),ve=bt?Ne!==null?Ne+"Capture":null:Ne;bt=[];for(var me=Ae,Te;me!==null;){var Fe=me;if(Te=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Te===null||ve===null||(Fe=Fs(me,ve),Fe!=null&&bt.push(T0(me,Fe,Te))),Mr)break;me=me.return}0<bt.length&&(Ne=new Pe(Ne,ut,null,h,Me),Ue.push({event:Ne,listeners:bt}))}}if((f&7)===0){e:{if(Ne=l==="mouseover"||l==="pointerover",Pe=l==="mouseout"||l==="pointerout",Ne&&h!==Hh&&(ut=h.relatedTarget||h.fromElement)&&(We(ut)||ut[oe]))break e;if((Pe||Ne)&&(Ne=Me.window===Me?Me:(Ne=Me.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Pe?(ut=h.relatedTarget||h.toElement,Pe=Ae,ut=ut?We(ut):null,ut!==null&&(Mr=a(ut),bt=ut.tag,ut!==Mr||bt!==5&&bt!==27&&bt!==6)&&(ut=null)):(Pe=null,ut=Ae),Pe!==ut)){if(bt=Wh,Fe="onMouseLeave",ve="onMouseEnter",me="mouse",(l==="pointerout"||l==="pointerover")&&(bt=Yo,Fe="onPointerLeave",ve="onPointerEnter",me="pointer"),Mr=Pe==null?Ne:He(Pe),Te=ut==null?Ne:He(ut),Ne=new bt(Fe,me+"leave",Pe,h,Me),Ne.target=Mr,Ne.relatedTarget=Te,Fe=null,We(Me)===Ae&&(bt=new bt(ve,me+"enter",ut,h,Me),bt.target=Te,bt.relatedTarget=Mr,Fe=bt),Mr=Fe,Pe&&ut)t:{for(bt=kW,ve=Pe,me=ut,Te=0,Fe=ve;Fe;Fe=bt(Fe))Te++;Fe=0;for(var vt=me;vt;vt=bt(vt))Fe++;for(;0<Te-Fe;)ve=bt(ve),Te--;for(;0<Fe-Te;)me=bt(me),Fe--;for(;Te--;){if(ve===me||me!==null&&ve===me.alternate){bt=ve;break t}ve=bt(ve),me=bt(me)}bt=null}else bt=null;Pe!==null&&HR(Ue,Ne,Pe,bt,!1),ut!==null&&Mr!==null&&HR(Ue,Mr,ut,bt,!0)}}e:{if(Ne=Ae?He(Ae):window,Pe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ne.type==="file")var cr=oI;else if(aI(Ne))if(lI)cr=BK;else{cr=jK;var dt=FK}else Pe=Ne.nodeName,!Pe||Pe.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?Ae&&uo(Ae.elementType)&&(cr=oI):cr=UK;if(cr&&(cr=cr(l,Ae))){sI(Ue,cr,h,Me);break e}dt&&dt(l,Ne,Ae),l==="focusout"&&Ae&&Ne.type==="number"&&Ae.memoizedProps.value!=null&&Qt(Ne,"number",Ne.value)}switch(dt=Ae?He(Ae):window,l){case"focusin":(aI(dt)||dt.contentEditable==="true")&&(Wf=dt,J_=Ae,Qh=null);break;case"focusout":Qh=J_=Wf=null;break;case"mousedown":X_=!0;break;case"contextmenu":case"mouseup":case"dragend":X_=!1,gI(Ue,h,Me);break;case"selectionchange":if(zK)break;case"keydown":case"keyup":gI(Ue,h,Me)}var Ut;if(vr)e:{switch(l){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else Kf?vu(l,h)&&(Yt="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Yt="onCompositionStart");Yt&&(vo&&h.locale!=="ko"&&(Kf||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Kf&&(Ut=qh()):(ho=Me,Gh="value"in ho?ho.value:ho.textContent,Kf=!0)),dt=lv(Ae,Yt),0<dt.length&&(Yt=new go(Yt,l,null,h,Me),Ue.push({event:Yt,listeners:dt}),Ut?Yt.data=Ut:(Ut=qf(h),Ut!==null&&(Yt.data=Ut)))),(Ut=rs?OK(l,h):MK(l,h))&&(Yt=lv(Ae,"onBeforeInput"),0<Yt.length&&(dt=new go("onBeforeInput","beforeinput",null,h,Me),Ue.push({event:dt,listeners:Yt}),dt.data=Ut)),SW(Ue,l,Ae,h,Me)}zR(Ue,f)})}function T0(l,f,h){return{instance:l,listener:f,currentTarget:h}}function lv(l,f){for(var h=f+"Capture",v=[];l!==null;){var S=l,C=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||C===null||(S=Fs(l,h),S!=null&&v.unshift(T0(l,S,C)),S=Fs(l,f),S!=null&&v.push(T0(l,S,C))),l.tag===3)return v;l=l.return}return[]}function kW(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function HR(l,f,h,v,S){for(var C=f._reactName,z=[];h!==null&&h!==v;){var Y=h,de=Y.alternate,Ae=Y.stateNode;if(Y=Y.tag,de!==null&&de===v)break;Y!==5&&Y!==26&&Y!==27||Ae===null||(de=Ae,S?(Ae=Fs(h,C),Ae!=null&&z.unshift(T0(h,Ae,de))):S||(Ae=Fs(h,C),Ae!=null&&z.push(T0(h,Ae,de)))),h=h.return}z.length!==0&&l.push({event:f,listeners:z})}var IW=/\r\n?/g,PW=/\u0000|\uFFFD/g;function GR(l){return(typeof l=="string"?l:""+l).replace(IW,`
`).replace(PW,"")}function qR(l,f){return f=GR(f),GR(l)===f}function Or(l,f,h,v,S,C){switch(h){case"children":typeof v=="string"?f==="body"||f==="textarea"&&v===""||bn(l,v):(typeof v=="number"||typeof v=="bigint")&&f!=="body"&&bn(l,""+v);break;case"className":Re(l,"class",v);break;case"tabIndex":Re(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Re(l,h,v);break;case"style":Ds(l,v,C);break;case"data":if(f!=="object"){Re(l,"data",v);break}case"src":case"href":if(v===""&&(f!=="a"||h!=="href")){l.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=Vf(""+v),l.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(f!=="input"&&Or(l,f,"name",S.name,S,null),Or(l,f,"formEncType",S.formEncType,S,null),Or(l,f,"formMethod",S.formMethod,S,null),Or(l,f,"formTarget",S.formTarget,S,null)):(Or(l,f,"encType",S.encType,S,null),Or(l,f,"method",S.method,S,null),Or(l,f,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=Vf(""+v),l.setAttribute(h,v);break;case"onClick":v!=null&&(l.onclick=Ls);break;case"onScroll":v!=null&&qt("scroll",l);break;case"onScrollEnd":v!=null&&qt("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}h=Vf(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""+v):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":v===!0?l.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,v):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(h,v):l.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(h):l.setAttribute(h,v);break;case"popover":qt("beforetoggle",l),qt("toggle",l),se(l,"popover",v);break;case"xlinkActuate":$e(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":$e(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":$e(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":$e(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":$e(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":$e(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":$e(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":$e(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":$e(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":se(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=lg.get(h)||h,se(l,h,v))}}function ww(l,f,h,v,S,C){switch(h){case"style":Ds(l,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"children":typeof v=="string"?bn(l,v):(typeof v=="number"||typeof v=="bigint")&&bn(l,""+v);break;case"onScroll":v!=null&&qt("scroll",l);break;case"onScrollEnd":v!=null&&qt("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mr.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),f=h.slice(2,S?h.length-7:void 0),C=l[ne]||null,C=C!=null?C[h]:null,typeof C=="function"&&l.removeEventListener(f,C,S),typeof v=="function")){typeof C!="function"&&C!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(f,v,S);break e}h in l?l[h]=v:v===!0?l.setAttribute(h,""):se(l,h,v)}}}function Si(l,f,h){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",l),qt("load",l);var v=!1,S=!1,C;for(C in h)if(h.hasOwnProperty(C)){var z=h[C];if(z!=null)switch(C){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Or(l,f,C,z,h,null)}}S&&Or(l,f,"srcSet",h.srcSet,h,null),v&&Or(l,f,"src",h.src,h,null);return;case"input":qt("invalid",l);var Y=C=z=S=null,de=null,Ae=null;for(v in h)if(h.hasOwnProperty(v)){var Me=h[v];if(Me!=null)switch(v){case"name":S=Me;break;case"type":z=Me;break;case"checked":de=Me;break;case"defaultChecked":Ae=Me;break;case"value":C=Me;break;case"defaultValue":Y=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,f));break;default:Or(l,f,v,Me,h,null)}}Gn(l,C,Y,de,Ae,z,S,!1);return;case"select":qt("invalid",l),v=z=C=null;for(S in h)if(h.hasOwnProperty(S)&&(Y=h[S],Y!=null))switch(S){case"value":C=Y;break;case"defaultValue":z=Y;break;case"multiple":v=Y;default:Or(l,f,S,Y,h,null)}f=C,h=z,l.multiple=!!v,f!=null?Pn(l,!!v,f,!1):h!=null&&Pn(l,!!v,h,!0);return;case"textarea":qt("invalid",l),C=S=v=null;for(z in h)if(h.hasOwnProperty(z)&&(Y=h[z],Y!=null))switch(z){case"value":v=Y;break;case"defaultValue":S=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:Or(l,f,z,Y,h,null)}Tr(l,v,S,C);return;case"option":for(de in h)h.hasOwnProperty(de)&&(v=h[de],v!=null)&&(de==="selected"?l.selected=v&&typeof v!="function"&&typeof v!="symbol":Or(l,f,de,v,h,null));return;case"dialog":qt("beforetoggle",l),qt("toggle",l),qt("cancel",l),qt("close",l);break;case"iframe":case"object":qt("load",l);break;case"video":case"audio":for(v=0;v<E0.length;v++)qt(E0[v],l);break;case"image":qt("error",l),qt("load",l);break;case"details":qt("toggle",l);break;case"embed":case"source":case"link":qt("error",l),qt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in h)if(h.hasOwnProperty(Ae)&&(v=h[Ae],v!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Or(l,f,Ae,v,h,null)}return;default:if(uo(f)){for(Me in h)h.hasOwnProperty(Me)&&(v=h[Me],v!==void 0&&ww(l,f,Me,v,h,void 0));return}}for(Y in h)h.hasOwnProperty(Y)&&(v=h[Y],v!=null&&Or(l,f,Y,v,h,null))}function RW(l,f,h,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,C=null,z=null,Y=null,de=null,Ae=null,Me=null;for(Pe in h){var Ue=h[Pe];if(h.hasOwnProperty(Pe)&&Ue!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":de=Ue;default:v.hasOwnProperty(Pe)||Or(l,f,Pe,null,v,Ue)}}for(var Ne in v){var Pe=v[Ne];if(Ue=h[Ne],v.hasOwnProperty(Ne)&&(Pe!=null||Ue!=null))switch(Ne){case"type":C=Pe;break;case"name":S=Pe;break;case"checked":Ae=Pe;break;case"defaultChecked":Me=Pe;break;case"value":z=Pe;break;case"defaultValue":Y=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,f));break;default:Pe!==Ue&&Or(l,f,Ne,Pe,v,Ue)}}Ht(l,z,Y,de,Ae,Me,C,S);return;case"select":Pe=z=Y=Ne=null;for(C in h)if(de=h[C],h.hasOwnProperty(C)&&de!=null)switch(C){case"value":break;case"multiple":Pe=de;default:v.hasOwnProperty(C)||Or(l,f,C,null,v,de)}for(S in v)if(C=v[S],de=h[S],v.hasOwnProperty(S)&&(C!=null||de!=null))switch(S){case"value":Ne=C;break;case"defaultValue":Y=C;break;case"multiple":z=C;default:C!==de&&Or(l,f,S,C,v,de)}f=Y,h=z,v=Pe,Ne!=null?Pn(l,!!h,Ne,!1):!!v!=!!h&&(f!=null?Pn(l,!!h,f,!0):Pn(l,!!h,h?[]:"",!1));return;case"textarea":Pe=Ne=null;for(Y in h)if(S=h[Y],h.hasOwnProperty(Y)&&S!=null&&!v.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Or(l,f,Y,null,v,S)}for(z in v)if(S=v[z],C=h[z],v.hasOwnProperty(z)&&(S!=null||C!=null))switch(z){case"value":Ne=S;break;case"defaultValue":Pe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==C&&Or(l,f,z,S,v,C)}Qi(l,Ne,Pe);return;case"option":for(var ut in h)Ne=h[ut],h.hasOwnProperty(ut)&&Ne!=null&&!v.hasOwnProperty(ut)&&(ut==="selected"?l.selected=!1:Or(l,f,ut,null,v,Ne));for(de in v)Ne=v[de],Pe=h[de],v.hasOwnProperty(de)&&Ne!==Pe&&(Ne!=null||Pe!=null)&&(de==="selected"?l.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol":Or(l,f,de,Ne,v,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in h)Ne=h[bt],h.hasOwnProperty(bt)&&Ne!=null&&!v.hasOwnProperty(bt)&&Or(l,f,bt,null,v,Ne);for(Ae in v)if(Ne=v[Ae],Pe=h[Ae],v.hasOwnProperty(Ae)&&Ne!==Pe&&(Ne!=null||Pe!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,f));break;default:Or(l,f,Ae,Ne,v,Pe)}return;default:if(uo(f)){for(var Mr in h)Ne=h[Mr],h.hasOwnProperty(Mr)&&Ne!==void 0&&!v.hasOwnProperty(Mr)&&ww(l,f,Mr,void 0,v,Ne);for(Me in v)Ne=v[Me],Pe=h[Me],!v.hasOwnProperty(Me)||Ne===Pe||Ne===void 0&&Pe===void 0||ww(l,f,Me,Ne,v,Pe);return}}for(var ve in h)Ne=h[ve],h.hasOwnProperty(ve)&&Ne!=null&&!v.hasOwnProperty(ve)&&Or(l,f,ve,null,v,Ne);for(Ue in v)Ne=v[Ue],Pe=h[Ue],!v.hasOwnProperty(Ue)||Ne===Pe||Ne==null&&Pe==null||Or(l,f,Ue,Ne,v,Pe)}function KR(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OW(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var S=h[v],C=S.transferSize,z=S.initiatorType,Y=S.duration;if(C&&Y&&KR(z)){for(z=0,Y=S.responseEnd,v+=1;v<h.length;v++){var de=h[v],Ae=de.startTime;if(Ae>Y)break;var Me=de.transferSize,Ue=de.initiatorType;Me&&KR(Ue)&&(de=de.responseEnd,z+=Me*(de<Y?1:(Y-Ae)/(de-Ae)))}if(--v,f+=8*(C+z)/(S.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Ew=null,Tw=null;function cv(l){return l.nodeType===9?l:l.ownerDocument}function WR(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YR(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function Sw(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Aw=null;function MW(){var l=window.event;return l&&l.type==="popstate"?l===Aw?!1:(Aw=l,!0):(Aw=null,!1)}var JR=typeof setTimeout=="function"?setTimeout:void 0,DW=typeof clearTimeout=="function"?clearTimeout:void 0,XR=typeof Promise=="function"?Promise:void 0,LW=typeof queueMicrotask=="function"?queueMicrotask:typeof XR<"u"?function(l){return XR.resolve(null).then(l).catch(FW)}:JR;function FW(l){setTimeout(function(){throw l})}function mc(l){return l==="head"}function ZR(l,f){var h=f,v=0;do{var S=h.nextSibling;if(l.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(v===0){l.removeChild(S),bd(f);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")S0(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,S0(h);for(var C=h.firstChild;C;){var z=C.nextSibling,Y=C.nodeName;C[Se]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=z}}else h==="body"&&S0(l.ownerDocument.body);h=S}while(h);bd(f)}function QR(l,f){var h=l;l=0;do{var v=h.nextSibling;if(h.nodeType===1?f?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(f?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=v}while(h)}function Cw(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var h=f;switch(f=f.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Cw(h),qe(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function jW(l,f,h,v){for(;l.nodeType===1;){var S=h;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Se])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var C=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=cs(l.nextSibling),l===null)break}return null}function UW(l,f,h){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=cs(l.nextSibling),l===null))return null;return l}function eO(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=cs(l.nextSibling),l===null))return null;return l}function Nw(l){return l.data==="$?"||l.data==="$~"}function kw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function BW(l,f){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||h.readyState!=="loading")f();else{var v=function(){f(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function cs(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var Iw=null;function tO(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(f===0)return cs(l.nextSibling);f--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||f++}l=l.nextSibling}return null}function rO(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(f===0)return l;f--}else h!=="/$"&&h!=="/&"||f++}l=l.previousSibling}return null}function nO(l,f,h){switch(f=cv(h),l){case"html":if(l=f.documentElement,!l)throw Error(n(452));return l;case"head":if(l=f.head,!l)throw Error(n(453));return l;case"body":if(l=f.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function S0(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);qe(l)}var us=new Map,iO=new Set;function uv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ul=ue.d;ue.d={f:VW,r:zW,D:$W,C:HW,L:GW,m:qW,X:WW,S:KW,M:YW};function VW(){var l=ul.f(),f=tv();return l||f}function zW(l){var f=Qe(l);f!==null&&f.tag===5&&f.type==="form"?bP(f):ul.r(l)}var yd=typeof document>"u"?null:document;function aO(l,f,h){var v=yd;if(v&&typeof f=="string"&&f){var S=Nt(f);S='link[rel="'+l+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),iO.has(S)||(iO.add(S),l={rel:l,crossOrigin:h,href:f},v.querySelector(S)===null&&(f=v.createElement("link"),Si(f,"link",l),lt(f),v.head.appendChild(f)))}}function $W(l){ul.D(l),aO("dns-prefetch",l,null)}function HW(l,f){ul.C(l,f),aO("preconnect",l,f)}function GW(l,f,h){ul.L(l,f,h);var v=yd;if(v&&l&&f){var S='link[rel="preload"][as="'+Nt(f)+'"]';f==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+Nt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+Nt(h.imageSizes)+'"]')):S+='[href="'+Nt(l)+'"]';var C=S;switch(f){case"style":C=xd(l);break;case"script":C=_d(l)}us.has(C)||(l=p({rel:"preload",href:f==="image"&&h&&h.imageSrcSet?void 0:l,as:f},h),us.set(C,l),v.querySelector(S)!==null||f==="style"&&v.querySelector(A0(C))||f==="script"&&v.querySelector(C0(C))||(f=v.createElement("link"),Si(f,"link",l),lt(f),v.head.appendChild(f)))}}function qW(l,f){ul.m(l,f);var h=yd;if(h&&l){var v=f&&typeof f.as=="string"?f.as:"script",S='link[rel="modulepreload"][as="'+Nt(v)+'"][href="'+Nt(l)+'"]',C=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=_d(l)}if(!us.has(C)&&(l=p({rel:"modulepreload",href:l},f),us.set(C,l),h.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(C0(C)))return}v=h.createElement("link"),Si(v,"link",l),lt(v),h.head.appendChild(v)}}}function KW(l,f,h){ul.S(l,f,h);var v=yd;if(v&&l){var S=Xe(v).hoistableStyles,C=xd(l);f=f||"default";var z=S.get(C);if(!z){var Y={loading:0,preload:null};if(z=v.querySelector(A0(C)))Y.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},h),(h=us.get(C))&&Pw(l,h);var de=z=v.createElement("link");lt(de),Si(de,"link",l),de._p=new Promise(function(Ae,Me){de.onload=Ae,de.onerror=Me}),de.addEventListener("load",function(){Y.loading|=1}),de.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,fv(z,f,v)}z={type:"stylesheet",instance:z,count:1,state:Y},S.set(C,z)}}}function WW(l,f){ul.X(l,f);var h=yd;if(h&&l){var v=Xe(h).hoistableScripts,S=_d(l),C=v.get(S);C||(C=h.querySelector(C0(S)),C||(l=p({src:l,async:!0},f),(f=us.get(S))&&Rw(l,f),C=h.createElement("script"),lt(C),Si(C,"link",l),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(S,C))}}function YW(l,f){ul.M(l,f);var h=yd;if(h&&l){var v=Xe(h).hoistableScripts,S=_d(l),C=v.get(S);C||(C=h.querySelector(C0(S)),C||(l=p({src:l,async:!0,type:"module"},f),(f=us.get(S))&&Rw(l,f),C=h.createElement("script"),lt(C),Si(C,"link",l),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(S,C))}}function sO(l,f,h,v){var S=(S=he.current)?uv(S):null;if(!S)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(f=xd(h.href),h=Xe(S).hoistableStyles,v=h.get(f),v||(v={type:"style",instance:null,count:0,state:null},h.set(f,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=xd(h.href);var C=Xe(S).hoistableStyles,z=C.get(l);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,z),(C=S.querySelector(A0(l)))&&!C._p&&(z.instance=C,z.state.loading=5),us.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},us.set(l,h),C||JW(S,l,h,z.state))),f&&v===null)throw Error(n(528,""));return z}if(f&&v!==null)throw Error(n(529,""));return null;case"script":return f=h.async,h=h.src,typeof h=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=_d(h),h=Xe(S).hoistableScripts,v=h.get(f),v||(v={type:"script",instance:null,count:0,state:null},h.set(f,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function xd(l){return'href="'+Nt(l)+'"'}function A0(l){return'link[rel="stylesheet"]['+l+"]"}function oO(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function JW(l,f,h,v){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?v.loading=1:(f=l.createElement("link"),v.preload=f,f.addEventListener("load",function(){return v.loading|=1}),f.addEventListener("error",function(){return v.loading|=2}),Si(f,"link",h),lt(f),l.head.appendChild(f))}function _d(l){return'[src="'+Nt(l)+'"]'}function C0(l){return"script[async]"+l}function lO(l,f,h){if(f.count++,f.instance===null)switch(f.type){case"style":var v=l.querySelector('style[data-href~="'+Nt(h.href)+'"]');if(v)return f.instance=v,lt(v),v;var S=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),lt(v),Si(v,"style",S),fv(v,h.precedence,l),f.instance=v;case"stylesheet":S=xd(h.href);var C=l.querySelector(A0(S));if(C)return f.state.loading|=4,f.instance=C,lt(C),C;v=oO(h),(S=us.get(S))&&Pw(v,S),C=(l.ownerDocument||l).createElement("link"),lt(C);var z=C;return z._p=new Promise(function(Y,de){z.onload=Y,z.onerror=de}),Si(C,"link",v),f.state.loading|=4,fv(C,h.precedence,l),f.instance=C;case"script":return C=_d(h.src),(S=l.querySelector(C0(C)))?(f.instance=S,lt(S),S):(v=h,(S=us.get(C))&&(v=p({},h),Rw(v,S)),l=l.ownerDocument||l,S=l.createElement("script"),lt(S),Si(S,"link",v),l.head.appendChild(S),f.instance=S);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(v=f.instance,f.state.loading|=4,fv(v,h.precedence,l));return f.instance}function fv(l,f,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,C=S,z=0;z<v.length;z++){var Y=v[z];if(Y.dataset.precedence===f)C=Y;else if(C!==S)break}C?C.parentNode.insertBefore(l,C.nextSibling):(f=h.nodeType===9?h.head:h,f.insertBefore(l,f.firstChild))}function Pw(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function Rw(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var dv=null;function cO(l,f,h){if(dv===null){var v=new Map,S=dv=new Map;S.set(h,v)}else S=dv,v=S.get(h),v||(v=new Map,S.set(h,v));if(v.has(l))return v;for(v.set(l,null),h=h.getElementsByTagName(l),S=0;S<h.length;S++){var C=h[S];if(!(C[Se]||C[te]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var z=C.getAttribute(f)||"";z=l+z;var Y=v.get(z);Y?Y.push(C):v.set(z,[C])}}return v}function uO(l,f,h){l=l.ownerDocument||l,l.head.insertBefore(h,f==="title"?l.querySelector("head > title"):null)}function XW(l,f,h){if(h===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(l=f.disabled,typeof f.precedence=="string"&&l==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function fO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function ZW(l,f,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=xd(v.href),C=f.querySelector(A0(S));if(C){f=C._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=hv.bind(l),f.then(l,l)),h.state.loading|=4,h.instance=C,lt(C);return}C=f.ownerDocument||f,v=oO(v),(S=us.get(S))&&Pw(v,S),C=C.createElement("link"),lt(C);var z=C;z._p=new Promise(function(Y,de){z.onload=Y,z.onerror=de}),Si(C,"link",v),h.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,f),(f=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=hv.bind(l),f.addEventListener("load",h),f.addEventListener("error",h))}}var Ow=0;function QW(l,f){return l.stylesheets&&l.count===0&&mv(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var v=setTimeout(function(){if(l.stylesheets&&mv(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+f);0<l.imgBytes&&Ow===0&&(Ow=62500*OW());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&mv(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>Ow?50:800)+f);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function hv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mv(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var pv=null;function mv(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,pv=new Map,f.forEach(eY,l),pv=null,hv.call(l))}function eY(l,f){if(!(f.state.loading&4)){var h=pv.get(l);if(h)var v=h.get(null);else{h=new Map,pv.set(l,h);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<S.length;C++){var z=S[C];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),v=z)}v&&h.set(null,v)}S=f.instance,z=S.getAttribute("data-precedence"),C=h.get(z)||v,C===v&&h.set(null,S),h.set(z,S),this.count++,v=hv.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),C?C.parentNode.insertBefore(S,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),f.state.loading|=4}}var N0={$$typeof:I,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function tY(l,f,h,v,S,C,z,Y,de){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.hiddenUpdates=_n(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=C,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function dO(l,f,h,v,S,C,z,Y,de,Ae,Me,Ue){return l=new tY(l,f,h,z,de,Ae,Me,Ue,Y),f=1,C===!0&&(f|=24),C=Da(3,null,null,f),l.current=C,C.stateNode=l,f=db(),f.refCount++,l.pooledCache=f,f.refCount++,C.memoizedState={element:v,isDehydrated:h,cache:f},gb(C),l}function hO(l){return l?(l=Xf,l):Xf}function pO(l,f,h,v,S,C){S=hO(S),v.context===null?v.context=S:v.pendingContext=S,v=ic(f),v.payload={element:h},C=C===void 0?null:C,C!==null&&(v.callback=C),h=ac(l,v,f),h!==null&&(ba(h,l,f),s0(h,l,f))}function mO(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<f?h:f}}function Mw(l,f){mO(l,f),(l=l.alternate)&&mO(l,f)}function gO(l){if(l.tag===13||l.tag===31){var f=_u(l,67108864);f!==null&&ba(f,l,67108864),Mw(l,67108864)}}function vO(l){if(l.tag===13||l.tag===31){var f=Ba();f=Ms(f);var h=_u(l,f);h!==null&&ba(h,l,f),Mw(l,f)}}var gv=!0;function rY(l,f,h,v){var S=re.T;re.T=null;var C=ue.p;try{ue.p=2,Dw(l,f,h,v)}finally{ue.p=C,re.T=S}}function nY(l,f,h,v){var S=re.T;re.T=null;var C=ue.p;try{ue.p=8,Dw(l,f,h,v)}finally{ue.p=C,re.T=S}}function Dw(l,f,h,v){if(gv){var S=Lw(v);if(S===null)bw(l,f,v,vv,h),xO(l,v);else if(aY(S,l,f,h,v))v.stopPropagation();else if(xO(l,v),f&4&&-1<iY.indexOf(l)){for(;S!==null;){var C=Qe(S);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var z=yi(C.pendingLanes);if(z!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;z;){var de=1<<31-Vr(z);Y.entanglements[1]|=de,z&=~de}bo(C),(yr&6)===0&&(Qg=wt()+500,w0(0))}}break;case 31:case 13:Y=_u(C,2),Y!==null&&ba(Y,C,2),tv(),Mw(C,2)}if(C=Lw(v),C===null&&bw(l,f,v,vv,h),C===S)break;S=C}S!==null&&v.stopPropagation()}else bw(l,f,v,null,h)}}function Lw(l){return l=es(l),Fw(l)}var vv=null;function Fw(l){if(vv=null,l=We(l),l!==null){var f=a(l);if(f===null)l=null;else{var h=f.tag;if(h===13){if(l=s(f),l!==null)return l;l=null}else if(h===31){if(l=o(f),l!==null)return l;l=null}else if(h===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return vv=l,null}function yO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case Zt:return 2;case Ir:return 8;case Kt:case Et:return 32;case xt:return 268435456;default:return 32}default:return 32}}var jw=!1,gc=null,vc=null,yc=null,k0=new Map,I0=new Map,xc=[],iY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xO(l,f){switch(l){case"focusin":case"focusout":gc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":k0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":I0.delete(f.pointerId)}}function P0(l,f,h,v,S,C){return l===null||l.nativeEvent!==C?(l={blockedOn:f,domEventName:h,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},f!==null&&(f=Qe(f),f!==null&&gO(f)),l):(l.eventSystemFlags|=v,f=l.targetContainers,S!==null&&f.indexOf(S)===-1&&f.push(S),l)}function aY(l,f,h,v,S){switch(f){case"focusin":return gc=P0(gc,l,f,h,v,S),!0;case"dragenter":return vc=P0(vc,l,f,h,v,S),!0;case"mouseover":return yc=P0(yc,l,f,h,v,S),!0;case"pointerover":var C=S.pointerId;return k0.set(C,P0(k0.get(C)||null,l,f,h,v,S)),!0;case"gotpointercapture":return C=S.pointerId,I0.set(C,P0(I0.get(C)||null,l,f,h,v,S)),!0}return!1}function _O(l){var f=We(l.target);if(f!==null){var h=a(f);if(h!==null){if(f=h.tag,f===13){if(f=s(h),f!==null){l.blockedOn=f,ae(l.priority,function(){vO(h)});return}}else if(f===31){if(f=o(h),f!==null){l.blockedOn=f,ae(l.priority,function(){vO(h)});return}}else if(f===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function yv(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var h=Lw(l.nativeEvent);if(h===null){h=l.nativeEvent;var v=new h.constructor(h.type,h);Hh=v,h.target.dispatchEvent(v),Hh=null}else return f=Qe(h),f!==null&&gO(f),l.blockedOn=h,!1;f.shift()}return!0}function bO(l,f,h){yv(l)&&h.delete(f)}function sY(){jw=!1,gc!==null&&yv(gc)&&(gc=null),vc!==null&&yv(vc)&&(vc=null),yc!==null&&yv(yc)&&(yc=null),k0.forEach(bO),I0.forEach(bO)}function xv(l,f){l.blockedOn===f&&(l.blockedOn=null,jw||(jw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sY)))}var _v=null;function wO(l){_v!==l&&(_v=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_v===l&&(_v=null);for(var f=0;f<l.length;f+=3){var h=l[f],v=l[f+1],S=l[f+2];if(typeof v!="function"){if(Fw(v||h)===null)continue;break}var C=Qe(h);C!==null&&(l.splice(f,3),f-=3,Lb(C,{pending:!0,data:S,method:h.method,action:v},v,S))}}))}function bd(l){function f(de){return xv(de,l)}gc!==null&&xv(gc,l),vc!==null&&xv(vc,l),yc!==null&&xv(yc,l),k0.forEach(f),I0.forEach(f);for(var h=0;h<xc.length;h++){var v=xc[h];v.blockedOn===l&&(v.blockedOn=null)}for(;0<xc.length&&(h=xc[0],h.blockedOn===null);)_O(h),h.blockedOn===null&&xc.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var S=h[v],C=h[v+1],z=S[ne]||null;if(typeof C=="function")z||wO(h);else if(z){var Y=null;if(C&&C.hasAttribute("formAction")){if(S=C,z=C[ne]||null)Y=z.formAction;else if(Fw(S)!==null)continue}else Y=z.action;typeof Y=="function"?h[v+1]=Y:(h.splice(v,3),v-=3),wO(h)}}}function EO(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(z){return S=z})},focusReset:"manual",scroll:"manual"})}function f(){S!==null&&(S(),S=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),S!==null&&(S(),S=null)}}}function Uw(l){this._internalRoot=l}bv.prototype.render=Uw.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(n(409));var h=f.current,v=Ba();pO(h,v,l,f,null,null)},bv.prototype.unmount=Uw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;pO(l.current,2,null,l,null,null),tv(),f[oe]=null}};function bv(l){this._internalRoot=l}bv.prototype.unstable_scheduleHydration=function(l){if(l){var f=W();l={blockedOn:null,target:l,priority:f};for(var h=0;h<xc.length&&f!==0&&f<xc[h].priority;h++);xc.splice(h,0,l),h===0&&_O(l)}};var TO=t.version;if(TO!=="19.2.4")throw Error(n(527,TO,"19.2.4"));ue.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=u(f),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var oY={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wv.isDisabled&&wv.supportsFiber)try{Vt=wv.inject(oY),wr=wv}catch{}}return O0.createRoot=function(l,f){if(!i(l))throw Error(n(299));var h=!1,v="",S=PP,C=RP,z=OP;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(S=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError)),f=dO(l,1,!1,null,null,h,v,null,S,C,z,EO),l[oe]=f.current,_w(l),new Uw(f)},O0.hydrateRoot=function(l,f,h){if(!i(l))throw Error(n(299));var v=!1,S="",C=PP,z=RP,Y=OP,de=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError),h.formState!==void 0&&(de=h.formState)),f=dO(l,1,!0,f,h??null,v,S,de,C,z,Y,EO),f.context=hO(null),h=f.current,v=Ba(),v=Ms(v),S=ic(v),S.callback=null,ac(h,S,v),h=v,f.current.lanes=h,_i(f,h),bo(f),l[oe]=f.current,_w(l),new bv(f)},O0.version="19.2.4",O0}var MO;function yY(){if(MO)return zw.exports;MO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zw.exports=vY(),zw.exports}var xY=yY();const _Y=Ns(xY);const k8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const bY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const wY=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const DO=e=>{const t=wY(e);return t.charAt(0).toUpperCase()+t.slice(1)};var EY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TY=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const SY=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>R.createElement("svg",{ref:c,...EY,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:k8("lucide",i),...!a&&!TY(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>R.createElement(u,d)),...Array.isArray(a)?a:[a]]));const st=(e,t)=>{const r=R.forwardRef(({className:n,...i},a)=>R.createElement(SY,{ref:a,iconNode:t,className:k8(`lucide-${bY(DO(e))}`,`lucide-${e}`,n),...i}));return r.displayName=DO(e),r};const AY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],LO=st("activity",AY);const CY=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],NY=st("arrow-down-right",CY);const kY=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],IY=st("arrow-down",kY);const PY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],RY=st("arrow-left",PY);const OY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],MY=st("arrow-right",OY);const DY=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],LY=st("arrow-up-right",DY);const FY=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],jY=st("arrow-up",FY);const UY=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],qa=st("briefcase",UY);const BY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dp=st("calendar",BY);const VY=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],zY=st("camera",VY);const $Y=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],th=st("check",$Y);const HY=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GY=st("chevron-left",HY);const qY=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],I8=st("chevron-right",qY);const KY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qi=st("circle-alert",KY);const WY=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wu=st("circle-check-big",WY);const YY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],P8=st("circle-check",YY);const JY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],XY=st("circle-question-mark",JY);const ZY=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],lS=st("cloud",ZY);const QY=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],eJ=st("cookie",QY);const tJ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rJ=st("copy",tJ);const nJ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],cS=st("database",nJ);const iJ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],R8=st("dollar-sign",iJ);const aJ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sJ=st("download",aJ);const oJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],uS=st("external-link",oJ);const lJ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],O8=st("eye-off",lJ);const cJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M8=st("eye",cJ);const uJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],py=st("file-spreadsheet",uJ);const fJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],my=st("file-text",fJ);const dJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],gp=st("file-up",dJ);const hJ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],T2=st("funnel",hJ);const pJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Lp=st("globe",pJ);const mJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],D8=st("info",mJ);const gJ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$d=st("key",gJ);const vJ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],L8=st("layers",vJ);const yJ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qw=st("layout-dashboard",yJ);const xJ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mc=st("loader-circle",xJ);const _J=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fS=st("lock",_J);const bJ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wJ=st("log-out",bJ);const EJ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],TJ=st("mail",EJ);const SJ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pl=st("map-pin",SJ);const AJ=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],CJ=st("map",AJ);const NJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],kJ=st("maximize-2",NJ);const IJ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],PJ=st("menu",IJ);const RJ=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],FO=st("minimize-2",RJ);const OJ=[["path",{d:"M5 12h14",key:"1ays0h"}]],MJ=st("minus",OJ);const DJ=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Qs=st("package",DJ);const LJ=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],FJ=st("pen-line",LJ);const jJ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],UJ=st("pen",jJ);const BJ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Kw=st("pencil",BJ);const VJ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],F8=st("phone",VJ);const zJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],S2=st("plus",zJ);const $J=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],HJ=st("refresh-ccw",$J);const GJ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Sm=st("save",GJ);const qJ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yl=st("search",qJ);const KJ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],jO=st("send",KJ);const WJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],j8=st("shield-check",WJ);const YJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dS=st("shield",YJ);const JJ=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],xs=st("shopping-bag",JJ);const XJ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],UO=st("sparkles",XJ);const ZJ=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Fp=st("store",ZJ);const QJ=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],eX=st("table",QJ);const tX=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],A2=st("tag",tX);const rX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nf=st("trash-2",rX);const nX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],U8=st("trending-up",nX);const iX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],aX=st("upload",iX);const sX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],BO=st("user-plus",sX);const oX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$i=st("user",oX);const lX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hy=st("users",lX);const cX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Na=st("x",cX),B8={admin_dev:" Admin DEV",admin_general:" Admin Geral",general_manager:" Gerente Geral",sales_manager:" Gerente de Vendas",sales_supervisor:" Supervisor de Vendas",sales_internal:" Vendedor Interno",sales_external:" Vendedor Externo",admin:" Admin (Legado)",salesperson:" Vendedor (Legado)"},Sa={admin_dev:1,admin:1,admin_general:2,general_manager:3,sales_manager:4,sales_supervisor:5,sales_internal:6,sales_external:7,salesperson:7},VO=e=>B8[e]||e,uX=e=>e==="admin"?"admin_dev":e==="salesperson"?"sales_external":e,fX=e=>{const t=Sa[e],r=["admin_dev","admin_general","general_manager","sales_manager","sales_supervisor","sales_internal","sales_external"];return t===1?r:r.filter(n=>Sa[n]>t)},Ww=(e,t)=>{const r=Sa[e],n=Sa[t];return n===1?r===1:r<n},hS=e=>Sa[e]<=2,Md=e=>Sa[e]>=3,pS=e=>Sa[e]<=5,Q0=e=>e.map(t=>t.id==="admin"||t.username==="admin"?{...t,role:"admin_dev",name:"Admin DEV",salesCategory:"N/A"}:t.role==="admin"?{...t,role:"admin_dev"}:t.role==="salesperson"?{...t,role:"sales_external"}:t),rh=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],jp=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],dX={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},Up=e=>{const t=e.toUpperCase().trim();return dX[t]||"Indefinido"};var gy={exports:{}};var hX=gy.exports,zO;function pX(){return zO||(zO=1,(function(e,t){((r,n)=>{e.exports=n()})(hX,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},c=0,u={};function d(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var U=D(P);U.chunkSize=parseInt(U.chunkSize),P.step||P.chunk||(U.chunkSize=null),this._handle=new b(U),(this._handle.streamer=this)._config=U}).call(this,k),this.parseChunk=function(P,U){var B=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<B){let H=this._config.newline;H||(F=this._config.quoteChar||'"',H=this._handle.guessLineEndings(P,F)),P=[...P.split(H).slice(B)].join(H)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(P))!==void 0&&(P=F),this.isFirstChunk=!1,this._halted=!1;var B=this._partialLine+P,F=(this._partialLine="",this._handle.parse(B,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=F.meta.cursor,B=(this._finished||(this._partialLine=B.substring(P-this._baseIndex),this._baseIndex=P),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:F,workerId:u.WORKER_ID,finished:B});else if(N(this._config.chunk)&&!U){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!B||!N(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(P){N(this._config.error)?this._config.error(P):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:P,finished:!1})}}function p(k){var P;(k=k||{}).chunkSize||(k.chunkSize=u.RemoteChunkSize),d.call(this,k),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),a||(P.onload=M(this._chunkLoaded,this),P.onerror=M(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var U,B=this._config.downloadRequestHeaders;for(U in B)P.setRequestHeader(U,B[U])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+F));try{P.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}a&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(U){U=P.statusText||U,this._sendError(new Error(U))}}function m(k){(k=k||{}).chunkSize||(k.chunkSize=u.LocalChunkSize),d.call(this,k);var P,U,B=typeof FileReader<"u";this.stream=function(F){this._input=F,U=F.slice||F.webkitSlice||F.mozSlice,B?((P=new FileReader).onload=M(this._chunkLoaded,this),P.onerror=M(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),F=U.call(F,this._start,H)),P.readAsText(F,this._config.encoding));B||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(P.error)}}function y(k){var P;d.call(this,k=k||{}),this.stream=function(U){return P=U,this._nextChunk()},this._nextChunk=function(){var U,B;if(!this._finished)return U=this._config.chunkSize,P=U?(B=P.substring(0,U),P.substring(U)):(B=P,""),this._finished=!P,this.parseChunk(B)}}function _(k){d.call(this,k=k||{});var P=[],U=!0,B=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){B&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):U=!0},this._streamData=M(function(F){try{P.push(typeof F=="string"?F:F.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(H){this._streamError(H)}},this),this._streamError=M(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=M(function(){this._streamCleanUp(),B=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(k){var P,U,B,F,H=Math.pow(2,53),fe=-H,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,re=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ue=this,ce=0,ie=0,xe=!1,J=!1,V=[],ee={data:[],errors:[],meta:{}};function X(ke){return k.skipEmptyLines==="greedy"?ke.join("").trim()==="":ke.length===1&&ke[0].length===0}function q(){if(ee&&B&&(ye("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),B=!1),k.skipEmptyLines&&(ee.data=ee.data.filter(function(K){return!X(K)})),he()){let K=function(Ye,je){N(k.transformHeader)&&(Ye=k.transformHeader(Ye,je)),V.push(Ye)};var De=K;if(ee)if(Array.isArray(ee.data[0])){for(var ke=0;he()&&ke<ee.data.length;ke++)ee.data[ke].forEach(K);ee.data.splice(0,1)}else ee.data.forEach(K)}function le(K,Ye){for(var je=k.header?{}:[],Ke=0;Ke<K.length;Ke++){var Ve=Ke,Le=K[Ke],Le=((Je,tt)=>(ht=>(k.dynamicTypingFunction&&k.dynamicTyping[ht]===void 0&&(k.dynamicTyping[ht]=k.dynamicTypingFunction(ht)),(k.dynamicTyping[ht]||k.dynamicTyping)===!0))(Je)?tt==="true"||tt==="TRUE"||tt!=="false"&&tt!=="FALSE"&&((ht=>{if(pe.test(ht)&&(ht=parseFloat(ht),fe<ht&&ht<H))return 1})(tt)?parseFloat(tt):re.test(tt)?new Date(tt):tt===""?null:tt):tt)(Ve=k.header?Ke>=V.length?"__parsed_extra":V[Ke]:Ve,Le=k.transform?k.transform(Le,Ve):Le);Ve==="__parsed_extra"?(je[Ve]=je[Ve]||[],je[Ve].push(Le)):je[Ve]=Le}return k.header&&(Ke>V.length?ye("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Ke,ie+Ye):Ke<V.length&&ye("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Ke,ie+Ye)),je}var ge;ee&&(k.header||k.dynamicTyping||k.transform)&&(ge=1,!ee.data.length||Array.isArray(ee.data[0])?(ee.data=ee.data.map(le),ge=ee.data.length):ee.data=le(ee.data,0),k.header&&ee.meta&&(ee.meta.fields=V),ie+=ge)}function he(){return k.header&&V.length===0}function ye(ke,le,ge,De){ke={type:ke,code:le,message:ge},De!==void 0&&(ke.row=De),ee.errors.push(ke)}N(k.step)&&(F=k.step,k.step=function(ke){ee=ke,he()?q():(q(),ee.data.length!==0&&(ce+=ke.data.length,k.preview&&ce>k.preview?U.abort():(ee.data=ee.data[0],F(ee,ue))))}),this.parse=function(ke,le,ge){var De=k.quoteChar||'"',De=(k.newline||(k.newline=this.guessLineEndings(ke,De)),B=!1,k.delimiter?N(k.delimiter)&&(k.delimiter=k.delimiter(ke),ee.meta.delimiter=k.delimiter):((De=((K,Ye,je,Ke,Ve)=>{var Le,Je,tt,ht;Ve=Ve||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var at=0;at<Ve.length;at++){for(var At,Br=Ve[at],wt=0,$t=0,Zt=0,Ir=(tt=void 0,new A({comments:Ke,delimiter:Br,newline:Ye,preview:10}).parse(K)),Kt=0;Kt<Ir.data.length;Kt++)je&&X(Ir.data[Kt])?Zt++:(At=Ir.data[Kt].length,$t+=At,tt===void 0?tt=At:0<At&&(wt+=Math.abs(At-tt),tt=At));0<Ir.data.length&&($t/=Ir.data.length-Zt),(Je===void 0||wt<=Je)&&(ht===void 0||ht<$t)&&1.99<$t&&(Je=wt,Le=Br,ht=$t)}return{successful:!!(k.delimiter=Le),bestDelimiter:Le}})(ke,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=De.bestDelimiter:(B=!0,k.delimiter=u.DefaultDelimiter),ee.meta.delimiter=k.delimiter),D(k));return k.preview&&k.header&&De.preview++,P=ke,U=new A(De),ee=U.parse(P,le,ge),q(),xe?{meta:{paused:!0}}:ee||{meta:{paused:!1}}},this.paused=function(){return xe},this.pause=function(){xe=!0,U.abort(),P=N(k.chunk)?"":P.substring(U.getCharIndex())},this.resume=function(){ue.streamer._halted?(xe=!1,ue.streamer.parseChunk(P,!0)):setTimeout(ue.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,U.abort(),ee.meta.aborted=!0,N(k.complete)&&k.complete(ee),P=""},this.guessLineEndings=function(K,De){K=K.substring(0,1048576);var De=new RegExp(E(De)+"([^]*?)"+E(De),"gm"),ge=(K=K.replace(De,"")).split("\r"),De=K.split(`
`),K=1<De.length&&De[0].length<ge[0].length;if(ge.length===1||K)return`
`;for(var Ye=0,je=0;je<ge.length;je++)ge[je][0]===`
`&&Ye++;return Ye>=ge.length/2?`\r
`:"\r"}}function E(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function A(k){var P=(k=k||{}).delimiter,U=k.newline,B=k.comments,F=k.step,H=k.preview,fe=k.fastMode,pe=null,re=!1,ue=k.quoteChar==null?'"':k.quoteChar,ce=ue;if(k.escapeChar!==void 0&&(ce=k.escapeChar),(typeof P!="string"||-1<u.BAD_DELIMITERS.indexOf(P))&&(P=","),B===P)throw new Error("Comment character same as delimiter");B===!0?B="#":(typeof B!="string"||-1<u.BAD_DELIMITERS.indexOf(B))&&(B=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var ie=0,xe=!1;this.parse=function(J,V,ee){if(typeof J!="string")throw new Error("Input must be a string");var X=J.length,q=P.length,he=U.length,ye=B.length,ke=N(F),le=[],ge=[],De=[],K=ie=0;if(!J)return wt();if(fe||fe!==!1&&J.indexOf(ue)===-1){for(var Ye=J.split(U),je=0;je<Ye.length;je++){if(De=Ye[je],ie+=De.length,je!==Ye.length-1)ie+=U.length;else if(ee)return wt();if(!B||De.substring(0,ye)!==B){if(ke){if(le=[],ht(De.split(P)),$t(),xe)return wt()}else ht(De.split(P));if(H&&H<=je)return le=le.slice(0,H),wt(!0)}}return wt()}for(var Ke=J.indexOf(P,ie),Ve=J.indexOf(U,ie),Le=new RegExp(E(ce)+E(ue),"g"),Je=J.indexOf(ue,ie);;)if(J[ie]===ue)for(Je=ie,ie++;;){if((Je=J.indexOf(ue,Je+1))===-1)return ee||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:le.length,index:ie}),At();if(Je===X-1)return At(J.substring(ie,Je).replace(Le,ue));if(ue===ce&&J[Je+1]===ce)Je++;else if(ue===ce||Je===0||J[Je-1]!==ce){Ke!==-1&&Ke<Je+1&&(Ke=J.indexOf(P,Je+1));var tt=at((Ve=Ve!==-1&&Ve<Je+1?J.indexOf(U,Je+1):Ve)===-1?Ke:Math.min(Ke,Ve));if(J.substr(Je+1+tt,q)===P){De.push(J.substring(ie,Je).replace(Le,ue)),J[ie=Je+1+tt+q]!==ue&&(Je=J.indexOf(ue,ie)),Ke=J.indexOf(P,ie),Ve=J.indexOf(U,ie);break}if(tt=at(Ve),J.substring(Je+1+tt,Je+1+tt+he)===U){if(De.push(J.substring(ie,Je).replace(Le,ue)),Br(Je+1+tt+he),Ke=J.indexOf(P,ie),Je=J.indexOf(ue,ie),ke&&($t(),xe))return wt();if(H&&le.length>=H)return wt(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:le.length,index:ie}),Je++}}else if(B&&De.length===0&&J.substring(ie,ie+ye)===B){if(Ve===-1)return wt();ie=Ve+he,Ve=J.indexOf(U,ie),Ke=J.indexOf(P,ie)}else if(Ke!==-1&&(Ke<Ve||Ve===-1))De.push(J.substring(ie,Ke)),ie=Ke+q,Ke=J.indexOf(P,ie);else{if(Ve===-1)break;if(De.push(J.substring(ie,Ve)),Br(Ve+he),ke&&($t(),xe))return wt();if(H&&le.length>=H)return wt(!0)}return At();function ht(Zt){le.push(Zt),K=ie}function at(Zt){var Ir=0;return Ir=Zt!==-1&&(Zt=J.substring(Je+1,Zt))&&Zt.trim()===""?Zt.length:Ir}function At(Zt){return ee||(Zt===void 0&&(Zt=J.substring(ie)),De.push(Zt),ie=X,ht(De),ke&&$t()),wt()}function Br(Zt){ie=Zt,ht(De),De=[],Ve=J.indexOf(U,ie)}function wt(Zt){if(k.header&&!V&&le.length&&!re){var Ir=le[0],Kt=Object.create(null),Et=new Set(Ir);let xt=!1;for(let rr=0;rr<Ir.length;rr++){let xr=Ir[rr];if(Kt[xr=N(k.transformHeader)?k.transformHeader(xr,rr):xr]){let Vt,wr=Kt[xr];for(;Vt=xr+"_"+wr,wr++,Et.has(Vt););Et.add(Vt),Ir[rr]=Vt,Kt[xr]++,xt=!0,(pe=pe===null?{}:pe)[Vt]=xr}else Kt[xr]=1,Ir[rr]=xr;Et.add(xr)}xt&&console.warn("Duplicate headers found and renamed."),re=!0}return{data:le,errors:ge,meta:{delimiter:P,linebreak:U,aborted:xe,truncated:!!Zt,cursor:K+(V||0),renamedHeaders:pe}}}function $t(){F(wt()),le=[],ge=[]}},this.abort=function(){xe=!0},this.getCharIndex=function(){return ie}}function L(k){var P=k.data,U=o[P.workerId],B=!1;if(P.error)U.userError(P.error,P.file);else if(P.results&&P.results.data){var F={abort:function(){B=!0,I(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(N(U.userStep)){for(var H=0;H<P.results.data.length&&(U.userStep({data:P.results.data[H],errors:P.results.errors,meta:P.results.meta},F),!B);H++);delete P.results}else N(U.userChunk)&&(U.userChunk(P.results,F,P.file),delete P.results)}P.finished&&!B&&I(P.workerId,P.results)}function I(k,P){var U=o[k];N(U.userComplete)&&U.userComplete(P),U.terminate(),delete o[k]}function O(){throw new Error("Not implemented.")}function D(k){if(typeof k!="object"||k===null)return k;var P,U=Array.isArray(k)?[]:{};for(P in k)U[P]=D(k[P]);return U}function M(k,P){return function(){k.apply(P,arguments)}}function N(k){return typeof k=="function"}return u.parse=function(k,P){var U=(P=P||{}).dynamicTyping||!1;if(N(U)&&(P.dynamicTypingFunction=U,U={}),P.dynamicTyping=U,P.transform=!!N(P.transform)&&P.transform,!P.worker||!u.WORKERS_SUPPORTED)return U=null,u.NODE_STREAM_INPUT,typeof k=="string"?(k=(B=>B.charCodeAt(0)!==65279?B:B.slice(1))(k),U=new(P.download?p:y)(P)):k.readable===!0&&N(k.read)&&N(k.on)?U=new _(P):(n.File&&k instanceof File||k instanceof Object)&&(U=new m(P)),U.stream(k);(U=(()=>{var B;return!!u.WORKERS_SUPPORTED&&(B=(()=>{var F=n.URL||n.webkitURL||null,H=r.toString();return u.BLOB_URL||(u.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(B=new n.Worker(B)).onmessage=L,B.id=c++,o[B.id]=B)})()).userStep=P.step,U.userChunk=P.chunk,U.userComplete=P.complete,U.userError=P.error,P.step=N(P.step),P.chunk=N(P.chunk),P.complete=N(P.complete),P.error=N(P.error),delete P.worker,U.postMessage({input:k,config:P,workerId:U.id})},u.unparse=function(k,P){var U=!1,B=!0,F=",",H=`\r
`,fe='"',pe=fe+fe,re=!1,ue=null,ce=!1,ie=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||u.BAD_DELIMITERS.filter(function(V){return P.delimiter.indexOf(V)!==-1}).length||(F=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(U=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(re=P.skipEmptyLines),typeof P.newline=="string"&&(H=P.newline),typeof P.quoteChar=="string"&&(fe=P.quoteChar),typeof P.header=="boolean"&&(B=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");ue=P.columns}P.escapeChar!==void 0&&(pe=P.escapeChar+fe),P.escapeFormulae instanceof RegExp?ce=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(ce=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(fe),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return xe(null,k,re);if(typeof k[0]=="object")return xe(ue||Object.keys(k[0]),k,re)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||ue),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),xe(k.fields||[],k.data||[],re);throw new Error("Unable to serialize unrecognized input");function xe(V,ee,X){var q="",he=(typeof V=="string"&&(V=JSON.parse(V)),typeof ee=="string"&&(ee=JSON.parse(ee)),Array.isArray(V)&&0<V.length),ye=!Array.isArray(ee[0]);if(he&&B){for(var ke=0;ke<V.length;ke++)0<ke&&(q+=F),q+=J(V[ke],ke);0<ee.length&&(q+=H)}for(var le=0;le<ee.length;le++){var ge=(he?V:ee[le]).length,De=!1,K=he?Object.keys(ee[le]).length===0:ee[le].length===0;if(X&&!he&&(De=X==="greedy"?ee[le].join("").trim()==="":ee[le].length===1&&ee[le][0].length===0),X==="greedy"&&he){for(var Ye=[],je=0;je<ge;je++){var Ke=ye?V[je]:je;Ye.push(ee[le][Ke])}De=Ye.join("").trim()===""}if(!De){for(var Ve=0;Ve<ge;Ve++){0<Ve&&!K&&(q+=F);var Le=he&&ye?V[Ve]:Ve;q+=J(ee[le][Le],Ve)}le<ee.length-1&&(!X||0<ge&&!K)&&(q+=H)}}return q}function J(V,ee){var X,q;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(q=!1,ce&&typeof V=="string"&&ce.test(V)&&(V="'"+V,q=!0),X=V.toString().replace(ie,pe),(q=q||U===!0||typeof U=="function"&&U(V,ee)||Array.isArray(U)&&U[ee]||((he,ye)=>{for(var ke=0;ke<ye.length;ke++)if(-1<he.indexOf(ye[ke]))return!0;return!1})(X,u.BAD_DELIMITERS)||-1<X.indexOf(F)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?fe+X+fe:X)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=A,u.ParserHandle=b,u.NetworkStreamer=p,u.FileStreamer=m,u.StringStreamer=y,u.ReadableStreamStreamer=_,n.jQuery&&((i=n.jQuery).fn.parse=function(k){var P=k.config||{},U=[];return this.each(function(H){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var fe=0;fe<this.files.length;fe++)U.push({file:this.files[fe],inputElem:this,instanceConfig:i.extend({},P)})}),B(),this;function B(){if(U.length===0)N(k.complete)&&k.complete();else{var H,fe,pe,re,ue=U[0];if(N(k.before)){var ce=k.before(ue.file,ue.inputElem);if(typeof ce=="object"){if(ce.action==="abort")return H="AbortError",fe=ue.file,pe=ue.inputElem,re=ce.reason,void(N(k.error)&&k.error({name:H},fe,pe,re));if(ce.action==="skip")return void F();typeof ce.config=="object"&&(ue.instanceConfig=i.extend(ue.instanceConfig,ce.config))}else if(ce==="skip")return void F()}var ie=ue.instanceConfig.complete;ue.instanceConfig.complete=function(xe){N(ie)&&ie(xe,ue.file,ue.inputElem),F()},u.parse(ue.file,ue.instanceConfig)}}function F(){U.splice(0,1),B()}}),s&&(n.onmessage=function(k){k=k.data,u.WORKER_ID===void 0&&k&&(u.WORKER_ID=k.workerId),typeof k.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(k.input,k.config),finished:!0}):(n.File&&k.input instanceof File||k.input instanceof Object)&&(k=u.parse(k.input,k.config))&&n.postMessage({workerId:u.WORKER_ID,results:k,finished:!0})}),(p.prototype=Object.create(d.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,(y.prototype=Object.create(y.prototype)).constructor=y,(_.prototype=Object.create(d.prototype)).constructor=_,u})})(gy)),gy.exports}var mX=pX();const C2=Ns(mX);function Be(e,t,r){function n(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,c);const u=s.prototype,d=Object.keys(u);for(let p=0;p<d.length;p++){const m=d[p];m in o||(o[m]=u[m].bind(o))}}const i=r?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function s(o){var c;const u=r?.Parent?new a:this;n(u,o),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class Hd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class V8 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const z8={};function af(e){return z8}function $8(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,i])=>t.indexOf(+n)===-1).map(([n,i])=>i)}function mS(e,t){return typeof t=="bigint"?t.toString():t}function N2(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function k2(e){return e==null}function I2(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function gX(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){const c=n.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}const a=r>i?r:i,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}const $O=Symbol("evaluating");function kr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==$O)return n===void 0&&(n=$O,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Ef(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function ru(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function HO(e){return JSON.stringify(e)}function vX(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const H8="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Gy(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const yX=N2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Bp(e){if(Gy(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Gy(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function G8(e){return Bp(e)?{...e}:Array.isArray(e)?[...e]:e}const xX=new Set(["string","number","symbol"]);function nh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function nu(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function yt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function _X(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const bX={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function wX(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=ru(e._zod.def,{get shape(){const s={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=r.shape[o])}return Ef(this,"shape",s),s},checks:[]});return nu(e,a)}function EX(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=ru(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete s[o]}return Ef(this,"shape",s),s},checks:[]});return nu(e,a)}function TX(e,t){if(!Bp(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const a=e._zod.def.shape;for(const s in t)if(Object.getOwnPropertyDescriptor(a,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=ru(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Ef(this,"shape",a),a}});return nu(e,i)}function SX(e,t){if(!Bp(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=ru(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Ef(this,"shape",n),n}});return nu(e,r)}function AX(e,t){const r=ru(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ef(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return nu(e,r)}function CX(e,t,r){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=ru(t._zod.def,{get shape(){const o=t._zod.def.shape,c={...o};if(r)for(const u in r){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(const u in o)c[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return Ef(this,"shape",c),c},checks:[]});return nu(t,s)}function NX(e,t,r){const n=ru(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(r)for(const s in r){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(a[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)a[s]=new e({type:"nonoptional",innerType:i[s]});return Ef(this,"shape",a),a}});return nu(t,n)}function Dd(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function q8(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Ev(e){return typeof e=="string"?e:e?.message}function sf(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const i=Ev(e.inst?._zod.def?.error?.(e))??Ev(t?.error?.(e))??Ev(r.customError?.(e))??Ev(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function P2(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Vp(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const K8=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,mS,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},W8=Be("$ZodError",K8),Y8=Be("$ZodError",K8,{Parent:Error});function kX(e,t=r=>r.message){const r={},n=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function IX(e,t=r=>r.message){const r={_errors:[]},n=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(s=>n({issues:s}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let s=r,o=0;for(;o<a.path.length;){const c=a.path[o];o===a.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(t(a))):s[c]=s[c]||{_errors:[]},s=s[c],o++}}};return n(e),r}const R2=e=>(t,r,n,i)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new Hd;if(s.issues.length){const o=new(i?.Err??e)(s.issues.map(c=>sf(c,a,af())));throw H8(o,i?.callee),o}return s.value},O2=e=>async(t,r,n,i)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new(i?.Err??e)(s.issues.map(c=>sf(c,a,af())));throw H8(o,i?.callee),o}return s.value},k1=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new Hd;return a.issues.length?{success:!1,error:new(e??W8)(a.issues.map(s=>sf(s,i,af())))}:{success:!0,data:a.value}},PX=k1(Y8),I1=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(s=>sf(s,i,af())))}:{success:!0,data:a.value}},RX=I1(Y8),OX=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return R2(e)(t,r,i)},MX=e=>(t,r,n)=>R2(e)(t,r,n),DX=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return O2(e)(t,r,i)},LX=e=>async(t,r,n)=>O2(e)(t,r,n),FX=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return k1(e)(t,r,i)},jX=e=>(t,r,n)=>k1(e)(t,r,n),UX=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return I1(e)(t,r,i)},BX=e=>async(t,r,n)=>I1(e)(t,r,n),VX=/^[cC][^\s-]{8,}$/,zX=/^[0-9a-z]+$/,$X=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,HX=/^[0-9a-vA-V]{20}$/,GX=/^[A-Za-z0-9]{27}$/,qX=/^[a-zA-Z0-9_-]{21}$/,KX=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,WX=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,GO=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,YX=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,JX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function XX(){return new RegExp(JX,"u")}const ZX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,QX=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,eZ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rZ=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,J8=/^[A-Za-z0-9_-]*$/,nZ=/^\+[1-9]\d{6,14}$/,X8="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",iZ=new RegExp(`^${X8}$`);function Z8(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function aZ(e){return new RegExp(`^${Z8(e)}$`)}function sZ(e){const t=Z8({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${X8}T(?:${n})$`)}const oZ=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},lZ=/^-?\d+$/,cZ=/^-?\d+(?:\.\d+)?$/,uZ=/^[^A-Z]*$/,fZ=/^[^a-z]*$/,Ia=Be("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Q8={number:"number",bigint:"bigint",object:"date"},eU=Be("$ZodCheckLessThan",(e,t)=>{Ia.init(e,t);const r=Q8[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tU=Be("$ZodCheckGreaterThan",(e,t)=>{Ia.init(e,t);const r=Q8[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),dZ=Be("$ZodCheckMultipleOf",(e,t)=>{Ia.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):gX(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),hZ=Be("$ZodCheckNumberFormat",(e,t)=>{Ia.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[i,a]=bX[t.format];e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,o.minimum=i,o.maximum=a,r&&(o.pattern=lZ)}),e._zod.check=s=>{const o=s.value;if(r){if(!Number.isInteger(o)){s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),pZ=Be("$ZodCheckMaxLength",(e,t)=>{var r;Ia.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!k2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const i=n.value;if(i.length<=t.maximum)return;const s=P2(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),mZ=Be("$ZodCheckMinLength",(e,t)=>{var r;Ia.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!k2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const i=n.value;if(i.length>=t.minimum)return;const s=P2(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),gZ=Be("$ZodCheckLengthEquals",(e,t)=>{var r;Ia.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!k2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{const i=n.value,a=i.length;if(a===t.length)return;const s=P2(i),o=a>t.length;n.issues.push({origin:s,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),P1=Be("$ZodCheckStringFormat",(e,t)=>{var r,n;Ia.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),vZ=Be("$ZodCheckRegex",(e,t)=>{P1.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),yZ=Be("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=uZ),P1.init(e,t)}),xZ=Be("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=fZ),P1.init(e,t)}),_Z=Be("$ZodCheckIncludes",(e,t)=>{Ia.init(e,t);const r=nh(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),bZ=Be("$ZodCheckStartsWith",(e,t)=>{Ia.init(e,t);const r=new RegExp(`^${nh(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),wZ=Be("$ZodCheckEndsWith",(e,t)=>{Ia.init(e,t);const r=new RegExp(`.*${nh(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),EZ=Be("$ZodCheckOverwrite",(e,t)=>{Ia.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class TZ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),a=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const t=Function,r=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,i.join(`
`))}}const SZ={major:4,minor:3,patch:6},Nn=Be("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=SZ;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const a of i._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(s,o,c)=>{let u=Dd(s),d;for(const p of o){if(p._zod.def.when){if(!p._zod.def.when(s))continue}else if(u)continue;const m=s.issues.length,y=p._zod.check(s);if(y instanceof Promise&&c?.async===!1)throw new Hd;if(d||y instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await y,s.issues.length!==m&&(u||(u=Dd(s,m)))});else{if(s.issues.length===m)continue;u||(u=Dd(s,m))}}return d?d.then(()=>s):s},a=(s,o,c)=>{if(Dd(s))return s.aborted=!0,s;const u=i(o,n,c);if(u instanceof Promise){if(c.async===!1)throw new Hd;return u.then(d=>e._zod.parse(d,c))}return e._zod.parse(u,c)};e._zod.run=(s,o)=>{if(o.skipChecks)return e._zod.parse(s,o);if(o.direction==="backward"){const u=e._zod.parse({value:s.value,issues:[]},{...o,skipChecks:!0});return u instanceof Promise?u.then(d=>a(d,s,o)):a(u,s,o)}const c=e._zod.parse(s,o);if(c instanceof Promise){if(o.async===!1)throw new Hd;return c.then(u=>i(u,n,o))}return i(c,n,o)}}kr(e,"~standard",()=>({validate:i=>{try{const a=PX(e,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return RX(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),M2=Be("$ZodString",(e,t)=>{Nn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??oZ(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),tn=Be("$ZodStringFormat",(e,t)=>{P1.init(e,t),M2.init(e,t)}),AZ=Be("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=WX),tn.init(e,t)}),CZ=Be("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=GO(n))}else t.pattern??(t.pattern=GO());tn.init(e,t)}),NZ=Be("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=YX),tn.init(e,t)}),kZ=Be("$ZodURL",(e,t)=>{tn.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),IZ=Be("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=XX()),tn.init(e,t)}),PZ=Be("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=qX),tn.init(e,t)}),RZ=Be("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=VX),tn.init(e,t)}),OZ=Be("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=zX),tn.init(e,t)}),MZ=Be("$ZodULID",(e,t)=>{t.pattern??(t.pattern=$X),tn.init(e,t)}),DZ=Be("$ZodXID",(e,t)=>{t.pattern??(t.pattern=HX),tn.init(e,t)}),LZ=Be("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=GX),tn.init(e,t)}),FZ=Be("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=sZ(t)),tn.init(e,t)}),jZ=Be("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=iZ),tn.init(e,t)}),UZ=Be("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=aZ(t)),tn.init(e,t)}),BZ=Be("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=KX),tn.init(e,t)}),VZ=Be("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=ZX),tn.init(e,t),e._zod.bag.format="ipv4"}),zZ=Be("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=QX),tn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),$Z=Be("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=eZ),tn.init(e,t)}),HZ=Be("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=tZ),tn.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[i,a]=n;if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function rU(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const GZ=Be("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=rZ),tn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{rU(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function qZ(e){if(!J8.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return rU(r)}const KZ=Be("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=J8),tn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{qZ(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),WZ=Be("$ZodE164",(e,t)=>{t.pattern??(t.pattern=nZ),tn.init(e,t)});function YZ(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const JZ=Be("$ZodJWT",(e,t)=>{tn.init(e,t),e._zod.check=r=>{YZ(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),nU=Be("$ZodNumber",(e,t)=>{Nn.init(e,t),e._zod.pattern=e._zod.bag.pattern??cZ,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),XZ=Be("$ZodNumberFormat",(e,t)=>{hZ.init(e,t),nU.init(e,t)}),ZZ=Be("$ZodUnknown",(e,t)=>{Nn.init(e,t),e._zod.parse=r=>r}),QZ=Be("$ZodNever",(e,t)=>{Nn.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function qO(e,t,r){e.issues.length&&t.issues.push(...q8(r,e.issues)),t.value[r]=e.value}const eQ=Be("$ZodArray",(e,t)=>{Nn.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const a=[];for(let s=0;s<i.length;s++){const o=i[s],c=t.element._zod.run({value:o,issues:[]},n);c instanceof Promise?a.push(c.then(u=>qO(u,r,s))):qO(c,r,s)}return a.length?Promise.all(a).then(()=>r):r}});function qy(e,t,r,n,i){if(e.issues.length){if(i&&!(r in n))return;t.issues.push(...q8(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function iU(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=_X(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function aU(e,t,r,n,i,a){const s=[],o=i.keySet,c=i.catchall._zod,u=c.def.type,d=c.optout==="optional";for(const p in t){if(o.has(p))continue;if(u==="never"){s.push(p);continue}const m=c.run({value:t[p],issues:[]},n);m instanceof Promise?e.push(m.then(y=>qy(y,r,p,t,d))):qy(m,r,p,t,d)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}const tQ=Be("$ZodObject",(e,t)=>{if(Nn.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...o};return Object.defineProperty(t,"shape",{value:c}),c}})}const n=N2(()=>iU(t));kr(e._zod,"propValues",()=>{const o=t.shape,c={};for(const u in o){const d=o[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const p of d.values)c[u].add(p)}}return c});const i=Gy,a=t.catchall;let s;e._zod.parse=(o,c)=>{s??(s=n.value);const u=o.value;if(!i(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const d=[],p=s.shape;for(const m of s.keys){const y=p[m],_=y._zod.optout==="optional",b=y._zod.run({value:u[m],issues:[]},c);b instanceof Promise?d.push(b.then(E=>qy(E,o,m,u,_))):qy(b,o,m,u,_)}return a?aU(d,u,o,c,n.value,e):d.length?Promise.all(d).then(()=>o):o}}),rQ=Be("$ZodObjectJIT",(e,t)=>{tQ.init(e,t);const r=e._zod.parse,n=N2(()=>iU(t)),i=m=>{const y=new TZ(["shape","payload","ctx"]),_=n.value,b=I=>{const O=HO(I);return`shape[${O}]._zod.run({ value: input[${O}], issues: [] }, ctx)`};y.write("const input = payload.value;");const E=Object.create(null);let A=0;for(const I of _.keys)E[I]=`key_${A++}`;y.write("const newResult = {};");for(const I of _.keys){const O=E[I],D=HO(I),N=m[I]?._zod?.optout==="optional";y.write(`const ${O} = ${b(I)};`),N?y.write(`
        if (${O}.issues.length) {
          if (${D} in input) {
            payload.issues = payload.issues.concat(${O}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${D}, ...iss.path] : [${D}]
            })));
          }
        }
        
        if (${O}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${O}.value;
        }
        
      `):y.write(`
        if (${O}.issues.length) {
          payload.issues = payload.issues.concat(${O}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        if (${O}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${O}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const L=y.compile();return(I,O)=>L(m,I,O)};let a;const s=Gy,o=!z8.jitless,u=o&&yX.value,d=t.catchall;let p;e._zod.parse=(m,y)=>{p??(p=n.value);const _=m.value;return s(_)?o&&u&&y?.async===!1&&y.jitless!==!0?(a||(a=i(t.shape)),m=a(m,y),d?aU([],_,m,y,p,e):m):r(m,y):(m.issues.push({expected:"object",code:"invalid_type",input:_,inst:e}),m)}});function KO(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const i=e.filter(a=>!Dd(a));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(s=>sf(s,n,af())))}),t)}const nQ=Be("$ZodUnion",(e,t)=>{Nn.init(e,t),kr(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),kr(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),kr(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),kr(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>I2(a.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(r)return n(i,a);let s=!1;const o=[];for(const c of t.options){const u=c._zod.run({value:i.value,issues:[]},a);if(u instanceof Promise)o.push(u),s=!0;else{if(u.issues.length===0)return u;o.push(u)}}return s?Promise.all(o).then(c=>KO(c,i,e,a)):KO(o,i,e,a)}}),iQ=Be("$ZodIntersection",(e,t)=>{Nn.init(e,t),e._zod.parse=(r,n)=>{const i=r.value,a=t.left._zod.run({value:i,issues:[]},n),s=t.right._zod.run({value:i,issues:[]},n);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([c,u])=>WO(r,c,u)):WO(r,a,s)}});function gS(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Bp(e)&&Bp(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),i={...e,...t};for(const a of n){const s=gS(e[a],t[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};i[a]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const i=e[n],a=t[n],s=gS(i,a);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function WO(e,t,r){const n=new Map;let i;for(const o of t.issues)if(o.code==="unrecognized_keys"){i??(i=o);for(const c of o.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else e.issues.push(o);for(const o of r.issues)if(o.code==="unrecognized_keys")for(const c of o.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else e.issues.push(o);const a=[...n].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(a.length&&i&&e.issues.push({...i,keys:a}),Dd(e))return e;const s=gS(t.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const aQ=Be("$ZodEnum",(e,t)=>{Nn.init(e,t);const r=$8(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>xX.has(typeof i)).map(i=>typeof i=="string"?nh(i):i.toString()).join("|")})$`),e._zod.parse=(i,a)=>{const s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:e}),i}}),sQ=Be("$ZodLiteral",(e,t)=>{if(Nn.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?nh(n):n?nh(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,i)=>{const a=n.value;return r.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}}),oQ=Be("$ZodTransform",(e,t)=>{Nn.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new V8(e.constructor.name);const i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new Hd;return r.value=i,r}});function YO(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const sU=Be("$ZodOptional",(e,t)=>{Nn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",kr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),kr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${I2(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>YO(a,r.value)):YO(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),lQ=Be("$ZodExactOptional",(e,t)=>{sU.init(e,t),kr(e._zod,"values",()=>t.innerType._zod.values),kr(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),cQ=Be("$ZodNullable",(e,t)=>{Nn.init(e,t),kr(e._zod,"optin",()=>t.innerType._zod.optin),kr(e._zod,"optout",()=>t.innerType._zod.optout),kr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${I2(r.source)}|null)$`):void 0}),kr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),uQ=Be("$ZodDefault",(e,t)=>{Nn.init(e,t),e._zod.optin="optional",kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>JO(a,t)):JO(i,t)}});function JO(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const fQ=Be("$ZodPrefault",(e,t)=>{Nn.init(e,t),e._zod.optin="optional",kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),dQ=Be("$ZodNonOptional",(e,t)=>{Nn.init(e,t),kr(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>XO(a,e)):XO(i,e)}});function XO(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const hQ=Be("$ZodCatch",(e,t)=>{Nn.init(e,t),kr(e._zod,"optin",()=>t.innerType._zod.optin),kr(e._zod,"optout",()=>t.innerType._zod.optout),kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>sf(s,n,af()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(a=>sf(a,n,af()))},input:r.value}),r.issues=[]),r)}}),pQ=Be("$ZodPipe",(e,t)=>{Nn.init(e,t),kr(e._zod,"values",()=>t.in._zod.values),kr(e._zod,"optin",()=>t.in._zod.optin),kr(e._zod,"optout",()=>t.out._zod.optout),kr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const a=t.out._zod.run(r,n);return a instanceof Promise?a.then(s=>Tv(s,t.in,n)):Tv(a,t.in,n)}const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(a=>Tv(a,t.out,n)):Tv(i,t.out,n)}});function Tv(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const mQ=Be("$ZodReadonly",(e,t)=>{Nn.init(e,t),kr(e._zod,"propValues",()=>t.innerType._zod.propValues),kr(e._zod,"values",()=>t.innerType._zod.values),kr(e._zod,"optin",()=>t.innerType?._zod?.optin),kr(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(ZO):ZO(i)}});function ZO(e){return e.value=Object.freeze(e.value),e}const gQ=Be("$ZodCustom",(e,t)=>{Ia.init(e,t),Nn.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(a=>QO(a,r,n,e));QO(i,r,n,e)}});function QO(e,t,r,n){if(!e){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(Vp(i))}}var e4;class vQ{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function yQ(){return new vQ}(e4=globalThis).__zod_globalRegistry??(e4.__zod_globalRegistry=yQ());const ep=globalThis.__zod_globalRegistry;function xQ(e,t){return new e({type:"string",...yt(t)})}function _Q(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...yt(t)})}function t4(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...yt(t)})}function bQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...yt(t)})}function wQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...yt(t)})}function EQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...yt(t)})}function TQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...yt(t)})}function SQ(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...yt(t)})}function AQ(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...yt(t)})}function CQ(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...yt(t)})}function NQ(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...yt(t)})}function kQ(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...yt(t)})}function IQ(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...yt(t)})}function PQ(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...yt(t)})}function RQ(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...yt(t)})}function OQ(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...yt(t)})}function MQ(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...yt(t)})}function DQ(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...yt(t)})}function LQ(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...yt(t)})}function FQ(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...yt(t)})}function jQ(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...yt(t)})}function UQ(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...yt(t)})}function BQ(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...yt(t)})}function VQ(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...yt(t)})}function zQ(e,t){return new e({type:"string",format:"date",check:"string_format",...yt(t)})}function $Q(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...yt(t)})}function HQ(e,t){return new e({type:"string",format:"duration",check:"string_format",...yt(t)})}function GQ(e,t){return new e({type:"number",checks:[],...yt(t)})}function qQ(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...yt(t)})}function KQ(e){return new e({type:"unknown"})}function WQ(e,t){return new e({type:"never",...yt(t)})}function r4(e,t){return new eU({check:"less_than",...yt(t),value:e,inclusive:!1})}function Yw(e,t){return new eU({check:"less_than",...yt(t),value:e,inclusive:!0})}function n4(e,t){return new tU({check:"greater_than",...yt(t),value:e,inclusive:!1})}function Jw(e,t){return new tU({check:"greater_than",...yt(t),value:e,inclusive:!0})}function i4(e,t){return new dZ({check:"multiple_of",...yt(t),value:e})}function oU(e,t){return new pZ({check:"max_length",...yt(t),maximum:e})}function Ky(e,t){return new mZ({check:"min_length",...yt(t),minimum:e})}function lU(e,t){return new gZ({check:"length_equals",...yt(t),length:e})}function YQ(e,t){return new vZ({check:"string_format",format:"regex",...yt(t),pattern:e})}function JQ(e){return new yZ({check:"string_format",format:"lowercase",...yt(e)})}function XQ(e){return new xZ({check:"string_format",format:"uppercase",...yt(e)})}function ZQ(e,t){return new _Z({check:"string_format",format:"includes",...yt(t),includes:e})}function QQ(e,t){return new bZ({check:"string_format",format:"starts_with",...yt(t),prefix:e})}function eee(e,t){return new wZ({check:"string_format",format:"ends_with",...yt(t),suffix:e})}function wh(e){return new EZ({check:"overwrite",tx:e})}function tee(e){return wh(t=>t.normalize(e))}function ree(){return wh(e=>e.trim())}function nee(){return wh(e=>e.toLowerCase())}function iee(){return wh(e=>e.toUpperCase())}function aee(){return wh(e=>vX(e))}function see(e,t,r){return new e({type:"array",element:t,...yt(r)})}function oee(e,t,r){return new e({type:"custom",check:"custom",fn:t,...yt(r)})}function lee(e){const t=cee(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Vp(n,r.value,t._zod.def));else{const i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(Vp(i))}},e(r.value,r)));return t}function cee(e,t){const r=new Ia({check:"custom",...yt(t)});return r._zod.check=e,r}function cU(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??ep,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Oi(e,t,r={path:[],schemaPath:[]}){var n;const i=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;const s={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,s);const o=e._zod.toJSONSchema?.();if(o)s.schema=o;else{const d={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,d);else{const m=s.schema,y=t.processors[i.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);y(e,t,m,d)}const p=e._zod.parent;p&&(s.ref||(s.ref=p),Oi(p,t,d),t.seen.get(p).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),t.io==="input"&&na(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function uU(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const s of e.seen.entries()){const o=e.metadataRegistry.get(s[0])?.id;if(o){const c=n.get(o);if(c&&c!==s[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(o,s[0])}}const i=s=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const p=e.external.registry.get(s[0])?.id,m=e.external.uri??(_=>_);if(p)return{ref:m(p)};const y=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=y,{defId:y,ref:`${m("__shared")}#/${o}/${y}`}}if(s[1]===r)return{ref:"#"};const u=`#/${o}/`,d=s[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:u+d}},a=s=>{if(s[1].schema.$ref)return;const o=s[1],{ref:c,defId:u}=i(s);o.def={...o.schema},u&&(o.defId=u);const d=o.schema;for(const p in d)delete d[p];d.$ref=c};if(e.cycles==="throw")for(const s of e.seen.entries()){const o=s[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const o=s[1];if(t===s[0]){a(s);continue}if(e.external){const u=e.external.registry.get(s[0])?.id;if(t!==s[0]&&u){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(o.cycle){a(s);continue}if(o.count>1&&e.reused==="ref"){a(s);continue}}}function fU(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const o=e.seen.get(s);if(o.ref===null)return;const c=o.def??o.schema,u={...c},d=o.ref;if(o.ref=null,d){n(d);const m=e.seen.get(d),y=m.schema;if(y.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(y)):Object.assign(c,y),Object.assign(c,u),s._zod.parent===d)for(const b in c)b==="$ref"||b==="allOf"||b in u||delete c[b];if(y.$ref&&m.def)for(const b in c)b==="$ref"||b==="allOf"||b in m.def&&JSON.stringify(c[b])===JSON.stringify(m.def[b])&&delete c[b]}const p=s._zod.parent;if(p&&p!==d){n(p);const m=e.seen.get(p);if(m?.schema.$ref&&(c.$ref=m.schema.$ref,m.def))for(const y in c)y==="$ref"||y==="allOf"||y in m.def&&JSON.stringify(c[y])===JSON.stringify(m.def[y])&&delete c[y]}e.override({zodSchema:s,jsonSchema:c,path:o.path??[]})};for(const s of[...e.seen.entries()].reverse())n(s[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const s=e.external.registry.get(t)?.id;if(!s)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(s)}Object.assign(i,r.def??r.schema);const a=e.external?.defs??{};for(const s of e.seen.entries()){const o=s[1];o.def&&o.defId&&(a[o.defId]=o.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?i.$defs=a:i.definitions=a);try{const s=JSON.parse(JSON.stringify(i));return Object.defineProperty(s,"~standard",{value:{...t["~standard"],jsonSchema:{input:Wy(t,"input",e.processors),output:Wy(t,"output",e.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function na(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return na(n.element,r);if(n.type==="set")return na(n.valueType,r);if(n.type==="lazy")return na(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return na(n.innerType,r);if(n.type==="intersection")return na(n.left,r)||na(n.right,r);if(n.type==="record"||n.type==="map")return na(n.keyType,r)||na(n.valueType,r);if(n.type==="pipe")return na(n.in,r)||na(n.out,r);if(n.type==="object"){for(const i in n.shape)if(na(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(const i of n.options)if(na(i,r))return!0;return!1}if(n.type==="tuple"){for(const i of n.items)if(na(i,r))return!0;return!!(n.rest&&na(n.rest,r))}return!1}const uee=(e,t={})=>r=>{const n=cU({...r,processors:t});return Oi(e,n),uU(n,e),fU(n,e)},Wy=(e,t,r={})=>n=>{const{libraryOptions:i,target:a}=n??{},s=cU({...i??{},target:a,io:t,processors:r});return Oi(e,s),uU(s,e),fU(s,e)},fee={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},dee=(e,t,r,n)=>{const i=r;i.type="string";const{minimum:a,maximum:s,format:o,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof a=="number"&&(i.minLength=a),typeof s=="number"&&(i.maxLength=s),o&&(i.format=fee[o]??o,i.format===""&&delete i.format,o==="time"&&delete i.format),u&&(i.contentEncoding=u),c&&c.size>0){const d=[...c];d.length===1?i.pattern=d[0].source:d.length>1&&(i.allOf=[...d.map(p=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},hee=(e,t,r,n)=>{const i=r,{minimum:a,maximum:s,format:o,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:d}=e._zod.bag;typeof o=="string"&&o.includes("int")?i.type="integer":i.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=d,i.exclusiveMinimum=!0):i.exclusiveMinimum=d),typeof a=="number"&&(i.minimum=a,typeof d=="number"&&t.target!=="draft-04"&&(d>=a?delete i.minimum:delete i.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=u,i.exclusiveMaximum=!0):i.exclusiveMaximum=u),typeof s=="number"&&(i.maximum=s,typeof u=="number"&&t.target!=="draft-04"&&(u<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof c=="number"&&(i.multipleOf=c)},pee=(e,t,r,n)=>{r.not={}},mee=(e,t,r,n)=>{},gee=(e,t,r,n)=>{const i=e._zod.def,a=$8(i.entries);a.every(s=>typeof s=="number")&&(r.type="number"),a.every(s=>typeof s=="string")&&(r.type="string"),r.enum=a},vee=(e,t,r,n)=>{const i=e._zod.def,a=[];for(const s of i.values)if(s===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(s))}else a.push(s);if(a.length!==0)if(a.length===1){const s=a[0];r.type=s===null?"null":typeof s,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[s]:r.const=s}else a.every(s=>typeof s=="number")&&(r.type="number"),a.every(s=>typeof s=="string")&&(r.type="string"),a.every(s=>typeof s=="boolean")&&(r.type="boolean"),a.every(s=>s===null)&&(r.type="null"),r.enum=a},yee=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},xee=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},_ee=(e,t,r,n)=>{const i=r,a=e._zod.def,{minimum:s,maximum:o}=e._zod.bag;typeof s=="number"&&(i.minItems=s),typeof o=="number"&&(i.maxItems=o),i.type="array",i.items=Oi(a.element,t,{...n,path:[...n.path,"items"]})},bee=(e,t,r,n)=>{const i=r,a=e._zod.def;i.type="object",i.properties={};const s=a.shape;for(const u in s)i.properties[u]=Oi(s[u],t,{...n,path:[...n.path,"properties",u]});const o=new Set(Object.keys(s)),c=new Set([...o].filter(u=>{const d=a.shape[u]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));c.size>0&&(i.required=Array.from(c)),a.catchall?._zod.def.type==="never"?i.additionalProperties=!1:a.catchall?a.catchall&&(i.additionalProperties=Oi(a.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},wee=(e,t,r,n)=>{const i=e._zod.def,a=i.inclusive===!1,s=i.options.map((o,c)=>Oi(o,t,{...n,path:[...n.path,a?"oneOf":"anyOf",c]}));a?r.oneOf=s:r.anyOf=s},Eee=(e,t,r,n)=>{const i=e._zod.def,a=Oi(i.left,t,{...n,path:[...n.path,"allOf",0]}),s=Oi(i.right,t,{...n,path:[...n.path,"allOf",1]}),o=u=>"allOf"in u&&Object.keys(u).length===1,c=[...o(a)?a.allOf:[a],...o(s)?s.allOf:[s]];r.allOf=c},Tee=(e,t,r,n)=>{const i=e._zod.def,a=Oi(i.innerType,t,n),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=i.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},See=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType},Aee=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},Cee=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},Nee=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=s},kee=(e,t,r,n)=>{const i=e._zod.def,a=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Oi(a,t,n);const s=t.seen.get(e);s.ref=a},Iee=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,r.readOnly=!0},dU=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType},Pee=Be("ZodISODateTime",(e,t)=>{FZ.init(e,t),an.init(e,t)});function Ree(e){return VQ(Pee,e)}const Oee=Be("ZodISODate",(e,t)=>{jZ.init(e,t),an.init(e,t)});function Mee(e){return zQ(Oee,e)}const Dee=Be("ZodISOTime",(e,t)=>{UZ.init(e,t),an.init(e,t)});function Lee(e){return $Q(Dee,e)}const Fee=Be("ZodISODuration",(e,t)=>{BZ.init(e,t),an.init(e,t)});function jee(e){return HQ(Fee,e)}const Uee=(e,t)=>{W8.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>IX(e,r)},flatten:{value:r=>kX(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,mS,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,mS,2)}},isEmpty:{get(){return e.issues.length===0}}})},ks=Be("ZodError",Uee,{Parent:Error}),Bee=R2(ks),Vee=O2(ks),zee=k1(ks),$ee=I1(ks),Hee=OX(ks),Gee=MX(ks),qee=DX(ks),Kee=LX(ks),Wee=FX(ks),Yee=jX(ks),Jee=UX(ks),Xee=BX(ks),kn=Be("ZodType",(e,t)=>(Nn.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Wy(e,"input"),output:Wy(e,"output")}}),e.toJSONSchema=uee(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(ru(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>nu(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>Bee(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>zee(e,r,n),e.parseAsync=async(r,n)=>Vee(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>$ee(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Hee(e,r,n),e.decode=(r,n)=>Gee(e,r,n),e.encodeAsync=async(r,n)=>qee(e,r,n),e.decodeAsync=async(r,n)=>Kee(e,r,n),e.safeEncode=(r,n)=>Wee(e,r,n),e.safeDecode=(r,n)=>Yee(e,r,n),e.safeEncodeAsync=async(r,n)=>Jee(e,r,n),e.safeDecodeAsync=async(r,n)=>Xee(e,r,n),e.refine=(r,n)=>e.check(Hte(r,n)),e.superRefine=r=>e.check(Gte(r)),e.overwrite=r=>e.check(wh(r)),e.optional=()=>l4(e),e.exactOptional=()=>Pte(e),e.nullable=()=>c4(e),e.nullish=()=>l4(c4(e)),e.nonoptional=r=>Fte(e,r),e.array=()=>mU(e),e.or=r=>Ete([e,r]),e.and=r=>Ste(e,r),e.transform=r=>u4(e,kte(r)),e.default=r=>Mte(e,r),e.prefault=r=>Lte(e,r),e.catch=r=>Ute(e,r),e.pipe=r=>u4(e,r),e.readonly=()=>zte(e),e.describe=r=>{const n=e.clone();return ep.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return ep.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return ep.get(e);const n=e.clone();return ep.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),hU=Be("_ZodString",(e,t)=>{M2.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>dee(e,n,i);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(YQ(...n)),e.includes=(...n)=>e.check(ZQ(...n)),e.startsWith=(...n)=>e.check(QQ(...n)),e.endsWith=(...n)=>e.check(eee(...n)),e.min=(...n)=>e.check(Ky(...n)),e.max=(...n)=>e.check(oU(...n)),e.length=(...n)=>e.check(lU(...n)),e.nonempty=(...n)=>e.check(Ky(1,...n)),e.lowercase=n=>e.check(JQ(n)),e.uppercase=n=>e.check(XQ(n)),e.trim=()=>e.check(ree()),e.normalize=(...n)=>e.check(tee(...n)),e.toLowerCase=()=>e.check(nee()),e.toUpperCase=()=>e.check(iee()),e.slugify=()=>e.check(aee())}),Zee=Be("ZodString",(e,t)=>{M2.init(e,t),hU.init(e,t),e.email=r=>e.check(_Q(Qee,r)),e.url=r=>e.check(SQ(ete,r)),e.jwt=r=>e.check(BQ(mte,r)),e.emoji=r=>e.check(AQ(tte,r)),e.guid=r=>e.check(t4(a4,r)),e.uuid=r=>e.check(bQ(Sv,r)),e.uuidv4=r=>e.check(wQ(Sv,r)),e.uuidv6=r=>e.check(EQ(Sv,r)),e.uuidv7=r=>e.check(TQ(Sv,r)),e.nanoid=r=>e.check(CQ(rte,r)),e.guid=r=>e.check(t4(a4,r)),e.cuid=r=>e.check(NQ(nte,r)),e.cuid2=r=>e.check(kQ(ite,r)),e.ulid=r=>e.check(IQ(ate,r)),e.base64=r=>e.check(FQ(dte,r)),e.base64url=r=>e.check(jQ(hte,r)),e.xid=r=>e.check(PQ(ste,r)),e.ksuid=r=>e.check(RQ(ote,r)),e.ipv4=r=>e.check(OQ(lte,r)),e.ipv6=r=>e.check(MQ(cte,r)),e.cidrv4=r=>e.check(DQ(ute,r)),e.cidrv6=r=>e.check(LQ(fte,r)),e.e164=r=>e.check(UQ(pte,r)),e.datetime=r=>e.check(Ree(r)),e.date=r=>e.check(Mee(r)),e.time=r=>e.check(Lee(r)),e.duration=r=>e.check(jee(r))});function ys(e){return xQ(Zee,e)}const an=Be("ZodStringFormat",(e,t)=>{tn.init(e,t),hU.init(e,t)}),Qee=Be("ZodEmail",(e,t)=>{NZ.init(e,t),an.init(e,t)}),a4=Be("ZodGUID",(e,t)=>{AZ.init(e,t),an.init(e,t)}),Sv=Be("ZodUUID",(e,t)=>{CZ.init(e,t),an.init(e,t)}),ete=Be("ZodURL",(e,t)=>{kZ.init(e,t),an.init(e,t)}),tte=Be("ZodEmoji",(e,t)=>{IZ.init(e,t),an.init(e,t)}),rte=Be("ZodNanoID",(e,t)=>{PZ.init(e,t),an.init(e,t)}),nte=Be("ZodCUID",(e,t)=>{RZ.init(e,t),an.init(e,t)}),ite=Be("ZodCUID2",(e,t)=>{OZ.init(e,t),an.init(e,t)}),ate=Be("ZodULID",(e,t)=>{MZ.init(e,t),an.init(e,t)}),ste=Be("ZodXID",(e,t)=>{DZ.init(e,t),an.init(e,t)}),ote=Be("ZodKSUID",(e,t)=>{LZ.init(e,t),an.init(e,t)}),lte=Be("ZodIPv4",(e,t)=>{VZ.init(e,t),an.init(e,t)}),cte=Be("ZodIPv6",(e,t)=>{zZ.init(e,t),an.init(e,t)}),ute=Be("ZodCIDRv4",(e,t)=>{$Z.init(e,t),an.init(e,t)}),fte=Be("ZodCIDRv6",(e,t)=>{HZ.init(e,t),an.init(e,t)}),dte=Be("ZodBase64",(e,t)=>{GZ.init(e,t),an.init(e,t)}),hte=Be("ZodBase64URL",(e,t)=>{KZ.init(e,t),an.init(e,t)}),pte=Be("ZodE164",(e,t)=>{WZ.init(e,t),an.init(e,t)}),mte=Be("ZodJWT",(e,t)=>{JZ.init(e,t),an.init(e,t)}),pU=Be("ZodNumber",(e,t)=>{nU.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>hee(e,n,i),e.gt=(n,i)=>e.check(n4(n,i)),e.gte=(n,i)=>e.check(Jw(n,i)),e.min=(n,i)=>e.check(Jw(n,i)),e.lt=(n,i)=>e.check(r4(n,i)),e.lte=(n,i)=>e.check(Yw(n,i)),e.max=(n,i)=>e.check(Yw(n,i)),e.int=n=>e.check(s4(n)),e.safe=n=>e.check(s4(n)),e.positive=n=>e.check(n4(0,n)),e.nonnegative=n=>e.check(Jw(0,n)),e.negative=n=>e.check(r4(0,n)),e.nonpositive=n=>e.check(Yw(0,n)),e.multipleOf=(n,i)=>e.check(i4(n,i)),e.step=(n,i)=>e.check(i4(n,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function vS(e){return GQ(pU,e)}const gte=Be("ZodNumberFormat",(e,t)=>{XZ.init(e,t),pU.init(e,t)});function s4(e){return qQ(gte,e)}const vte=Be("ZodUnknown",(e,t)=>{ZZ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>mee()});function o4(){return KQ(vte)}const yte=Be("ZodNever",(e,t)=>{QZ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>pee(e,r,n)});function xte(e){return WQ(yte,e)}const _te=Be("ZodArray",(e,t)=>{eQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>_ee(e,r,n,i),e.element=t.element,e.min=(r,n)=>e.check(Ky(r,n)),e.nonempty=r=>e.check(Ky(1,r)),e.max=(r,n)=>e.check(oU(r,n)),e.length=(r,n)=>e.check(lU(r,n)),e.unwrap=()=>e.element});function mU(e,t){return see(_te,e,t)}const bte=Be("ZodObject",(e,t)=>{rQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>bee(e,r,n,i),kr(e,"shape",()=>t.shape),e.keyof=()=>vU(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:o4()}),e.loose=()=>e.clone({...e._zod.def,catchall:o4()}),e.strict=()=>e.clone({...e._zod.def,catchall:xte()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>TX(e,r),e.safeExtend=r=>SX(e,r),e.merge=r=>AX(e,r),e.pick=r=>wX(e,r),e.omit=r=>EX(e,r),e.partial=(...r)=>CX(yU,e,r[0]),e.required=(...r)=>NX(xU,e,r[0])});function gU(e,t){const r={type:"object",shape:e??{},...yt(t)};return new bte(r)}const wte=Be("ZodUnion",(e,t)=>{nQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>wee(e,r,n,i),e.options=t.options});function Ete(e,t){return new wte({type:"union",options:e,...yt(t)})}const Tte=Be("ZodIntersection",(e,t)=>{iQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Eee(e,r,n,i)});function Ste(e,t){return new Tte({type:"intersection",left:e,right:t})}const yS=Be("ZodEnum",(e,t)=>{aQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>gee(e,n,i),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{const a={};for(const s of n)if(r.has(s))a[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new yS({...t,checks:[],...yt(i),entries:a})},e.exclude=(n,i)=>{const a={...t.entries};for(const s of n)if(r.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new yS({...t,checks:[],...yt(i),entries:a})}});function vU(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new yS({type:"enum",entries:r,...yt(t)})}const Ate=Be("ZodLiteral",(e,t)=>{sQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>vee(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Cte(e,t){return new Ate({type:"literal",values:Array.isArray(e)?e:[e],...yt(t)})}const Nte=Be("ZodTransform",(e,t)=>{oQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>xee(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new V8(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(Vp(a,r.value,t));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(Vp(s))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(a=>(r.value=a,r)):(r.value=i,r)}});function kte(e){return new Nte({type:"transform",transform:e})}const yU=Be("ZodOptional",(e,t)=>{sU.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>dU(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function l4(e){return new yU({type:"optional",innerType:e})}const Ite=Be("ZodExactOptional",(e,t)=>{lQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>dU(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function Pte(e){return new Ite({type:"optional",innerType:e})}const Rte=Be("ZodNullable",(e,t)=>{cQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Tee(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function c4(e){return new Rte({type:"nullable",innerType:e})}const Ote=Be("ZodDefault",(e,t)=>{uQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Aee(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Mte(e,t){return new Ote({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():G8(t)}})}const Dte=Be("ZodPrefault",(e,t)=>{fQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Cee(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function Lte(e,t){return new Dte({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():G8(t)}})}const xU=Be("ZodNonOptional",(e,t)=>{dQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>See(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function Fte(e,t){return new xU({type:"nonoptional",innerType:e,...yt(t)})}const jte=Be("ZodCatch",(e,t)=>{hQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Nee(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Ute(e,t){return new jte({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Bte=Be("ZodPipe",(e,t)=>{pQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>kee(e,r,n,i),e.in=t.in,e.out=t.out});function u4(e,t){return new Bte({type:"pipe",in:e,out:t})}const Vte=Be("ZodReadonly",(e,t)=>{mQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Iee(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function zte(e){return new Vte({type:"readonly",innerType:e})}const $te=Be("ZodCustom",(e,t)=>{gQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>yee(e,r)});function Hte(e,t={}){return oee($te,e,t)}function Gte(e){return lee(e)}gU({companyName:ys().min(1,"Nome da empresa  obrigatrio"),cnpj:ys().optional(),address:ys().min(5,"Endereo invlido"),contactName:ys().optional(),phone:ys().optional(),email:ys().email("Email invlido").optional().or(Cte("")),category:ys().or(mU(ys())).optional(),status:vU(["Ativo","Inativo","Prospeccao"]).optional().default("Ativo"),lat:vS().optional(),lng:vS().optional()});const qte=gU({name:ys().min(1),price:vS().positive(),category:ys().min(1),sku:ys().optional(),brand:ys().min(1)}),f4=e=>{if(!e)return null;const t=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(t)return{lat:parseFloat(t[1]),lng:parseFloat(t[2])};const r=e.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return r?{lat:parseFloat(r[1]),lng:parseFloat(r[2])}:null},Kte=e=>{if(!e)return null;try{const t=new URL(e),r=t.searchParams.get("query")||t.searchParams.get("q");if(r&&!r.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return r}catch{const r=e.match(/[?&]query=([^&]+)/)||e.match(/[?&]q=([^&]+)/);if(r)return decodeURIComponent(r[1].replace(/\+/g," "))}return null},Yy=e=>{if(e==null)return{address:""};const t=String(e).trim(),r=t.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(r){const i=r[1].replace(/""/g,'"').trim(),a=r[2].replace(/""/g,'"').trim(),s=f4(i);return{link:i,address:a,...s}}const n=_U(t);if(n.includes("google.com/maps")||n.includes("maps.app.goo.gl")){const i=Kte(n),a=f4(n);return{link:n,address:i||n,...a}}return{address:n}},_U=e=>{if(e==null)return"";const t=String(e),r=t.match(/"([^"]+)"\)$/);return r&&r[1]?r[1].trim():t.startsWith("=")?t.replace(/[="()]/g,"").trim():t.trim()},xS=e=>{if(e==null)return 0;const t=String(e).trim();if(!t)return 0;const r=t.replace(/[R$\s.]/g,"").replace(",","."),n=parseFloat(r);return isNaN(n)?0:n},d4=e=>{if(!e)return 0;const t=String(e).replace(/[%]/g,"").replace(",",".");return parseFloat(t)||0},D2=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),bU=e=>new Promise((t,r)=>{C2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:n=>{const i=n.data,a=[];i.forEach((s,o)=>{const c={};Object.keys(s).forEach(I=>{c[D2(I)]=s[I]});const u=c.departamento||c.categoria||"Geral",d=c["cod.prod / sku"]||c["cod.prod"]||c.sku||c["numero do sku"]||"",p=c["nome do produto"]||c.descricao||c.nome||c.produto||"",m=c.marca||c.fabricante||"Genrico",y=xS(c["preco de venda"]||c.preco||"0"),_=c["cod.fabrica"]||c["cod fabrica"]||c["codigo fabrica"]||"",b=d4(c.margem||"0"),E=d4(c.desconto||c.discount||"0"),A={category:u,sku:d,brand:m,factoryCode:_,name:p,price:y,margin:b,discount:E},L=qte.safeParse(A);L.success?a.push(L.data):console.warn(`Row ${o+1} invalid:`,L.error.issues)}),t(a)},error:n=>r(n)})}),Wte=e=>new Promise((t,r)=>{C2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:n=>n.trim().replace(/^\ufeff/,""),complete:n=>{const i=n.data,a=[];if(i.forEach(s=>{const o={};Object.keys(s).forEach(E=>{o[D2(E)]=s[E]});const c=o.endereco||o["endereco comercial"]||o.logradouro||o.localizacao||o["endereco cobranca"]||o["link google maps"]||"";let{address:u,link:d,lat:p,lng:m}=Yy(c);const y=o.cep||o.zip||o["codigo postal"]||"";y&&u&&!u.toLowerCase().includes(y.toLowerCase())&&(u=`${u}, ${y}`);const _=o.link||o.mapa||o["google maps"]||o.url||o.maps||o.coordenadas||o.geolocalizacao;if(_){const E=Yy(_);E.link&&(d=E.link),E.lat&&(p=E.lat),E.lng&&(m=E.lng)}const b={companyName:o["razao social"]||o.cliente||o["nome fantasia"]||o.fantasia||o.empresa||o["nome comercial"]||"",cnpj:o.cnpj||o.taxid||o.inscricao||"",ownerName:o["nome do proprietario"]||o.proprietario||o.dono||o["contato principal"]||"",phone:o["telefone comercial"]||o.contato||o.telefone||o.celular||"",whatsapp:o.whatsapp||o.whats||o.celular||"",address:o["endereco comercial"]||o["logradouro comercial"]||u||"",street:o.rua||o.logradouro||"",number:o.numero||o.num||"",district:o.bairro||o.distrito||"",city:o["nome da cidade"]||o.cidade||o.municipio||"",state:o.estado||o.uf||"",zip:o.cep||o["codigo postal"]||y||"",country:o.pais||"",googleMapsLink:d,latitude:p,longitude:m};(b.companyName||b.address)&&a.push(b)}),a.length>0){const s=a[0];!s.companyName&&!s.address&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}t(a)},error:n=>{r(n)}})}),Yte=e=>new Promise((t,r)=>{C2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:n=>{const i=n.data,a=[];i.forEach(s=>{const o={};Object.keys(s).forEach(A=>{o[D2(A)]=s[A]});const c=o["razao social"]||o.cliente||o.empresa||"",u=o.cnpj||o["cpf/cnpj"]||o.cpf||"",d=o["cod.prod / sku"]||o["cod.prod"]||o.sku||"",p=o["nome do produto"]||o.produto||o.descricao||"",m=o["data da compra"]||o.data||o.emissao||"",y=parseFloat(o["quantidade de skus / produtos comprados"]||o.quantidade||o.qtd||"1"),_=isNaN(y)?1:y,b=xS(o["valor unitario"]||o.preco||"0"),E=xS(o["valor total"]||o.total||(_*b).toString());c&&(d||p)&&a.push({companyName:String(c).trim(),cnpj:String(u).trim().replace(/[.\-\/]/g,""),sku:String(d).trim(),name:String(p).trim(),brand:o.marca||"N/A",category:o.categoria||o.departamento||"Venda",price:b,purchaseDate:String(m).trim(),quantity:y,totalValue:E,factoryCode:o["cod.fabrica"]||""})}),t(a)},error:n=>r(n)})});var wU=1252,Jte=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],L2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},F2=function(e){Jte.indexOf(e)!=-1&&(wU=L2[0]=e)};function Xte(){F2(1252)}var Js=function(e){F2(e)};function EU(){Js(1200),Xte()}function h4(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Zte(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function TU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var tp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Zte(e.slice(2)):t==254&&r==255?TU(e.slice(2)):t==65279?e.slice(1):e},Av=function(t){return String.fromCharCode(t)},p4=function(t){return String.fromCharCode(t)},zp,kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function m4(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,i=e.charCodeAt(u++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),t+=kc.charAt(a)+kc.charAt(s)+kc.charAt(o)+kc.charAt(c);return t}function Ja(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=kc.indexOf(e.charAt(u++)),s=kc.indexOf(e.charAt(u++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=kc.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=kc.indexOf(e.charAt(u++)),i=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var tr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Tf=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function $c(e){return tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function g4(e){return tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var qs=function(t){return tr?Tf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Sf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function j2(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return j2(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ac=tr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Tf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Qte(e){for(var t=[],r=0,n=e.length+250,i=$c(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=$c(65535),n=65530)}return t.push(i.slice(0,r)),Ac(t)}var ua=/\u0000/g,rp=/[\u0001-\u0006]/g;function Gd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Xs(e,t){var r=""+e;return r.length>=t?r:hn("0",t-r.length)+r}function U2(e,t){var r=""+e;return r.length>=t?r:hn(" ",t-r.length)+r}function Jy(e,t){var r=""+e;return r.length>=t?r:r+hn(" ",t-r.length)}function ere(e,t){var r=""+Math.round(e);return r.length>=t?r:hn("0",t-r.length)+r}function tre(e,t){var r=""+e;return r.length>=t?r:hn("0",t-r.length)+r}var v4=Math.pow(2,32);function wd(e,t){if(e>v4||e<-v4)return ere(e,t);var r=Math.round(e);return tre(r,t)}function Xy(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var y4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Xw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function rre(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},x4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},nre={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Zy(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,c=1,u=0,d=0,p=Math.floor(i);u<t&&(p=Math.floor(i),o=p*s+a,d=p*u+c,!(i-p<5e-8));)i=1/(i-p),a=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=a):(d=u,o=s)),!r)return[0,n*o,d];var m=Math.floor(n*o/d);return[m,n*o-m*d,d]}function zu(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=cre(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var SU=new Date(1899,11,31,0,0,0),ire=SU.getTime(),are=new Date(1900,2,1,0,0,0);function AU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=are&&(r+=1440*60*1e3),(r-(ire+(e.getTimezoneOffset()-SU.getTimezoneOffset())*6e4))/(1440*60*1e3)}function B2(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function sre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ore(e){var t=e<0?12:11,r=B2(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function lre(e){var t=B2(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function $p(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ore(e):t===10?r=e.toFixed(10).substr(0,12):r=lre(e),B2(sre(r.toUpperCase()))}function of(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):$p(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ts(14,AU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function cre(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function ure(e,t,r,n){var i="",a=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Xw[r.m-1][1];case 5:return Xw[r.m-1][0];default:return Xw[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return y4[r.q][0];default:return y4[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Xs(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=Xs(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?Xs(c,u):"";return d}function Ic(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var CU=/%/g;function fre(e,t,r){var n=t.replace(CU,""),i=t.length-n.length;return xl(e,n,r*Math.pow(10,2*i))+hn("%",i)}function dre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return xl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function NU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+NU(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var kU=/# (\?+)( ?)\/( ?)(\d+)/;function hre(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?hn(" ",e[1].length+1+e[4].length):U2(s,e[1].length)+e[2]+"/"+e[3]+Xs(o,e[4].length))}function pre(e,t,r){return r+(t===0?"":""+t)+hn(" ",e[1].length+2+e[4].length)}var IU=/^#*0*\.([0#]+)/,PU=/\).*[0#]/,RU=/\(###\) ###\\?-####/;function aa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function _4(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function b4(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function mre(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function gre(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ps(e,t,r){if(e.charCodeAt(0)===40&&!t.match(PU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ps("n",n,r):"("+ps("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return dre(e,t,r);if(t.indexOf("%")!==-1)return fre(e,t,r);if(t.indexOf("E")!==-1)return NU(t,r);if(t.charCodeAt(0)===36)return"$"+ps(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+wd(c,t.length);if(t.match(/^[#?]+$/))return i=wd(r,0),i==="0"&&(i=""),i.length>t.length?i:aa(t.substr(0,t.length-i.length))+i;if(a=t.match(kU))return hre(a,c,u);if(t.match(/^#+0+$/))return u+wd(c,t.length-t.indexOf("0"));if(a=t.match(IU))return i=_4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+aa(a[1])).replace(/\.$/,"."+aa(a[1])).replace(/\.(\d*)$/,function(_,b){return"."+b+hn("0",aa(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+_4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Ic(wd(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ps(e,t,-r):Ic(""+(Math.floor(r)+mre(r,a[1].length)))+"."+Xs(b4(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return ps(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Gd(ps(e,t.replace(/[\\-]/g,""),r)),s=0,Gd(Gd(t.replace(/\\/g,"")).replace(/[0#]/g,function(_){return s<i.length?i.charAt(s++):_==="0"?"0":""}));if(t.match(RU))return i=ps(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=Zy(c,Math.pow(10,s)-1,!1),i=""+u,d=xl("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=Jy(o[2],s),d.length<a[4].length&&(d=aa(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=Zy(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?U2(o[1],s)+a[2]+"/"+a[3]+Jy(o[2],s):hn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=wd(r,0),t.length<=i.length?i:aa(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=t.indexOf(".")-s,m=t.length-i.length-p;return aa(t.substr(0,p)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=b4(r,a[1].length),r<0?"-"+ps(e,t,-r):Ic(gre(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Xs(0,3-_.length):"")+_})+"."+Xs(s,a[1].length);switch(t){case"###,##0.00":return ps(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=Ic(wd(c,0));return y!=="0"?u+y:"";case"###,###.00":return ps(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ps(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function vre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return xl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function yre(e,t,r){var n=t.replace(CU,""),i=t.length-n.length;return xl(e,n,r*Math.pow(10,2*i))+hn("%",i)}function OU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+OU(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ao(e,t,r){if(e.charCodeAt(0)===40&&!t.match(PU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ao("n",n,r):"("+Ao("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return vre(e,t,r);if(t.indexOf("%")!==-1)return yre(e,t,r);if(t.indexOf("E")!==-1)return OU(t,r);if(t.charCodeAt(0)===36)return"$"+Ao(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Xs(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:aa(t.substr(0,t.length-i.length))+i;if(a=t.match(kU))return pre(a,c,u);if(t.match(/^#+0+$/))return u+Xs(c,t.length-t.indexOf("0"));if(a=t.match(IU))return i=(""+r).replace(/^([^\.]+)$/,"$1."+aa(a[1])).replace(/\.$/,"."+aa(a[1])),i=i.replace(/\.(\d*)$/,function(_,b){return"."+b+hn("0",aa(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Ic(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ao(e,t,-r):Ic(""+r)+"."+hn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Ao(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Gd(Ao(e,t.replace(/[\\-]/g,""),r)),s=0,Gd(Gd(t.replace(/\\/g,"")).replace(/[0#]/g,function(_){return s<i.length?i.charAt(s++):_==="0"?"0":""}));if(t.match(RU))return i=Ao(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=Zy(c,Math.pow(10,s)-1,!1),i=""+u,d=xl("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=Jy(o[2],s),d.length<a[4].length&&(d=aa(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=Zy(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?U2(o[1],s)+a[2]+"/"+a[3]+Jy(o[2],s):hn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:aa(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=t.indexOf(".")-s,m=t.length-i.length-p;return aa(t.substr(0,p)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ao(e,t,-r):Ic(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Xs(0,3-_.length):"")+_})+"."+Xs(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=Ic(""+c);return y!=="0"?u+y:"";default:if(t.match(/\.[0#?]*$/))return Ao(e,t.slice(0,t.lastIndexOf(".")),r)+aa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function xl(e,t,r){return(r|0)===r?Ao(e,t,r):ps(e,t,r)}function xre(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var MU=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Eh(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Xy(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(MU))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function _re(e,t,r,n){for(var i=[],a="",s=0,o="",c="t",u,d,p,m="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Xy(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(p=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(p);i[i.length]={t:"t",v:a},++s;break;case"\\":var y=e.charAt(++s),_=y==="("||y===")"?y:"t";i[i.length]={t:_,v:y},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=zu(t,r,e.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=zu(t,r),u==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var b={t:o,v:o};if(u==null&&(u=zu(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",m="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",s+=5,m="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",s+=5,m="h"):(b.t="t",++s),u==null&&b.t==="T")return"";i[i.length]=b,c=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(MU)){if(u==null&&(u=zu(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Eh(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var E=0,A=0,L;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=m,c="h",E<1&&(E=1);break;case"s":(L=i[s].v.match(/\.0+$/))&&(A=Math.max(A,L[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[s].v.match(/[Hh]/)&&(E=1),E<2&&i[s].v.match(/[Mm]/)&&(E=2),E<3&&i[s].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var I="",O;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=ure(i[s].t.charCodeAt(0),i[s].v,u,A),i[s].t="t";break;case"n":case"?":for(O=s+1;i[O]!=null&&((o=i[O].t)==="?"||o==="D"||(o===" "||o==="t")&&i[O+1]!=null&&(i[O+1].t==="?"||i[O+1].t==="t"&&i[O+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[O].v==="/"||i[O].v===" "&&i[O+1]!=null&&i[O+1].t=="?"));)i[s].v+=i[O].v,i[O]={v:"",t:";"},++O;I+=i[s].v,s=O-1;break;case"G":i[s].t="t",i[s].v=of(t,r);break}var D="",M,N;if(I.length>0){I.charCodeAt(0)==40?(M=t<0&&I.charCodeAt(0)===45?-t:t,N=xl("n",I,M)):(M=t<0&&n>1?-t:t,N=xl("n",I,M),M<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),O=N.length-1;var k=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){k=s;break}var P=i.length;if(k===i.length&&N.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(O>=i[s].v.length-1?(O-=i[s].v.length,i[s].v=N.substr(O+1,i[s].v.length)):O<0?i[s].v="":(i[s].v=N.substr(0,O+1),O=-1),i[s].t="t",P=s);O>=0&&P<i.length&&(i[P].v=N.substr(0,O+1)+i[P].v)}else if(k!==i.length&&N.indexOf("E")===-1){for(O=N.indexOf(".")-1,s=k;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(d=i[s].v.indexOf(".")>-1&&s===k?i[s].v.indexOf(".")-1:i[s].v.length-1,D=i[s].v.substr(d+1);d>=0;--d)O>=0&&(i[s].v.charAt(d)==="0"||i[s].v.charAt(d)==="#")&&(D=N.charAt(O--)+D);i[s].v=D,i[s].t="t",P=s}for(O>=0&&P<i.length&&(i[P].v=N.substr(0,O+1)+i[P].v),O=N.indexOf(".")+1,s=k;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==k)){for(d=i[s].v.indexOf(".")>-1&&s===k?i[s].v.indexOf(".")+1:0,D=i[s].v.substr(0,d);d<i[s].v.length;++d)O<N.length&&(D+=N.charAt(O++));i[s].v=D,i[s].t="t",P=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(M=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=xl(i[s].t,i[s].v,M),i[s].t="t");var U="";for(s=0;s!==i.length;++s)i[s]!=null&&(U+=i[s].v);return U}var w4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function E4(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function bre(e,t){var r=xre(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(w4),o=r[1].match(w4);return E4(t,s)?[n,r[0]]:E4(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Ts(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:jt)[e],n==null&&(n=r.table&&r.table[x4[e]]||jt[x4[e]]),n==null&&(n=nre[e]||"General");break}if(Xy(n,0))return of(t,r);t instanceof Date&&(t=AU(t,r.date1904));var i=bre(n,t);if(Xy(i[1]))return of(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return _re(i[1],t,r,i[0])}function Yu(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(jt[r]==null){t<0&&(t=r);continue}if(jt[r]==e){t=r;break}}t<0&&(t=391)}return jt[t]=e,t}function DU(){jt=rre()}var wre={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},LU=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Ere(e){var t=typeof e=="number"?jt[e]:e;return t=t.replace(LU,"(\\d+)"),new RegExp("^"+t+"$")}function Tre(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(t.match(LU)||[]).forEach(function(p,m){var y=parseInt(r[m+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=y;break;case"d":a=y;break;case"h":s=y;break;case"s":c=y;break;case"m":s>=0?o=y:i=y;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&i==-1&&a==-1?d:u+"T"+d}var Sre=(function(){var e={};e.version="1.2.0";function t(){for(var N=0,k=new Array(256),P=0;P!=256;++P)N=P,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,k[P]=N;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(N){var k=0,P=0,U=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)B[U]=N[U];for(U=0;U!=256;++U)for(P=N[U],k=256+U;k<4096;k+=256)P=B[k]=P>>>8^N[P&255];var F=[];for(U=1;U!=16;++U)F[U-1]=typeof Int32Array<"u"?B.subarray(U*256,U*256+256):B.slice(U*256,U*256+256);return F}var i=n(r),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],d=i[5],p=i[6],m=i[7],y=i[8],_=i[9],b=i[10],E=i[11],A=i[12],L=i[13],I=i[14];function O(N,k){for(var P=k^-1,U=0,B=N.length;U<B;)P=P>>>8^r[(P^N.charCodeAt(U++))&255];return~P}function D(N,k){for(var P=k^-1,U=N.length-15,B=0;B<U;)P=I[N[B++]^P&255]^L[N[B++]^P>>8&255]^A[N[B++]^P>>16&255]^E[N[B++]^P>>>24]^b[N[B++]]^_[N[B++]]^y[N[B++]]^m[N[B++]]^p[N[B++]]^d[N[B++]]^u[N[B++]]^c[N[B++]]^o[N[B++]]^s[N[B++]]^a[N[B++]]^r[N[B++]];for(U+=15;B<U;)P=P>>>8^r[(P^N[B++])&255];return~P}function M(N,k){for(var P=k^-1,U=0,B=N.length,F=0,H=0;U<B;)F=N.charCodeAt(U++),F<128?P=P>>>8^r[(P^F)&255]:F<2048?(P=P>>>8^r[(P^(192|F>>6&31))&255],P=P>>>8^r[(P^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,H=N.charCodeAt(U++)&1023,P=P>>>8^r[(P^(240|F>>8&7))&255],P=P>>>8^r[(P^(128|F>>2&63))&255],P=P>>>8^r[(P^(128|H>>6&15|(F&3)<<4))&255],P=P>>>8^r[(P^(128|H&63))&255]):(P=P>>>8^r[(P^(224|F>>12&15))&255],P=P>>>8^r[(P^(128|F>>6&63))&255],P=P>>>8^r[(P^(128|F&63))&255]);return~P}return e.table=r,e.bstr=O,e.buf=D,e.str=M,e})(),ar=(function(){var t={};t.version="1.2.1";function r(W,ae){for(var Z=W.split("/"),te=ae.split("/"),ne=0,oe=0,we=Math.min(Z.length,te.length);ne<we;++ne){if(oe=Z[ne].length-te[ne].length)return oe;if(Z[ne]!=te[ne])return Z[ne]<te[ne]?-1:1}return Z.length-te.length}function n(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:n(W.slice(0,-1));var ae=W.lastIndexOf("/");return ae===-1?W:W.slice(0,ae+1)}function i(W){if(W.charAt(W.length-1)=="/")return i(W.slice(0,-1));var ae=W.lastIndexOf("/");return ae===-1?W:W.slice(ae+1)}function a(W,ae){typeof ae=="string"&&(ae=new Date(ae));var Z=ae.getHours();Z=Z<<6|ae.getMinutes(),Z=Z<<5|ae.getSeconds()>>>1,W.write_shift(2,Z);var te=ae.getFullYear()-1980;te=te<<4|ae.getMonth()+1,te=te<<5|ae.getDate(),W.write_shift(2,te)}function s(W){var ae=W.read_shift(2)&65535,Z=W.read_shift(2)&65535,te=new Date,ne=Z&31;Z>>>=5;var oe=Z&15;Z>>>=4,te.setMilliseconds(0),te.setFullYear(Z+1980),te.setMonth(oe-1),te.setDate(ne);var we=ae&31;ae>>>=5;var Oe=ae&63;return ae>>>=6,te.setHours(ae),te.setMinutes(Oe),te.setSeconds(we<<1),te}function o(W){ki(W,0);for(var ae={},Z=0;W.l<=W.length-4;){var te=W.read_shift(2),ne=W.read_shift(2),oe=W.l+ne,we={};te===21589&&(Z=W.read_shift(1),Z&1&&(we.mtime=W.read_shift(4)),ne>5&&(Z&2&&(we.atime=W.read_shift(4)),Z&4&&(we.ctime=W.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3))),W.l=oe,ae[te]=we}return ae}var c;function u(){return c||(c={})}function d(W,ae){if(W[0]==80&&W[1]==75)return vi(W,ae);if((W[0]|32)==109&&(W[1]|32)==105)return _i(W,ae);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var Z=3,te=512,ne=0,oe=0,we=0,Oe=0,Ee=0,Ce=[],Se=W.slice(0,512);ki(Se,0);var qe=p(Se);switch(Z=qe[0],Z){case 3:te=512;break;case 4:te=4096;break;case 0:if(qe[1]==0)return vi(W,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}te!==512&&(Se=W.slice(0,te),ki(Se,28));var We=W.slice(0,te);m(Se,Z);var Qe=Se.read_shift(4,"i");if(Z===3&&Qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qe);Se.l+=4,we=Se.read_shift(4,"i"),Se.l+=4,Se.chk("00100000","Mini Stream Cutoff Size: "),Oe=Se.read_shift(4,"i"),ne=Se.read_shift(4,"i"),Ee=Se.read_shift(4,"i"),oe=Se.read_shift(4,"i");for(var He=-1,Xe=0;Xe<109&&(He=Se.read_shift(4,"i"),!(He<0));++Xe)Ce[Xe]=He;var lt=y(W,te);E(Ee,oe,lt,te,Ce);var pr=L(lt,we,Ce,te);pr[we].name="!Directory",ne>0&&Oe!==H&&(pr[Oe].name="!MiniFAT"),pr[Ce[0]].name="!FAT",pr.fat_addrs=Ce,pr.ssz=te;var mr={},Er=[],ri=[],Zi=[];I(we,pr,lt,Er,ne,mr,ri,Oe),_(ri,Zi,Er),Er.shift();var gr={FileIndex:ri,FullPaths:Zi};return ae&&ae.raw&&(gr.raw={header:We,sectors:lt}),gr}function p(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(fe,"Header Signature: "),W.l+=16;var ae=W.read_shift(2,"u");return[W.read_shift(2,"u"),ae]}function m(W,ae){var Z=9;switch(W.l+=2,Z=W.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function y(W,ae){for(var Z=Math.ceil(W.length/ae)-1,te=[],ne=1;ne<Z;++ne)te[ne-1]=W.slice(ne*ae,(ne+1)*ae);return te[Z-1]=W.slice(Z*ae),te}function _(W,ae,Z){for(var te=0,ne=0,oe=0,we=0,Oe=0,Ee=Z.length,Ce=[],Se=[];te<Ee;++te)Ce[te]=Se[te]=te,ae[te]=Z[te];for(;Oe<Se.length;++Oe)te=Se[Oe],ne=W[te].L,oe=W[te].R,we=W[te].C,Ce[te]===te&&(ne!==-1&&Ce[ne]!==ne&&(Ce[te]=Ce[ne]),oe!==-1&&Ce[oe]!==oe&&(Ce[te]=Ce[oe])),we!==-1&&(Ce[we]=te),ne!==-1&&te!=Ce[te]&&(Ce[ne]=Ce[te],Se.lastIndexOf(ne)<Oe&&Se.push(ne)),oe!==-1&&te!=Ce[te]&&(Ce[oe]=Ce[te],Se.lastIndexOf(oe)<Oe&&Se.push(oe));for(te=1;te<Ee;++te)Ce[te]===te&&(oe!==-1&&Ce[oe]!==oe?Ce[te]=Ce[oe]:ne!==-1&&Ce[ne]!==ne&&(Ce[te]=Ce[ne]));for(te=1;te<Ee;++te)if(W[te].type!==0){if(Oe=te,Oe!=Ce[Oe])do Oe=Ce[Oe],ae[te]=ae[Oe]+"/"+ae[te];while(Oe!==0&&Ce[Oe]!==-1&&Oe!=Ce[Oe]);Ce[te]=-1}for(ae[0]+="/",te=1;te<Ee;++te)W[te].type!==2&&(ae[te]+="/")}function b(W,ae,Z){for(var te=W.start,ne=W.size,oe=[],we=te;Z&&ne>0&&we>=0;)oe.push(ae.slice(we*F,we*F+F)),ne-=F,we=Bu(Z,we*4);return oe.length===0?Kn(0):Ac(oe).slice(0,W.size)}function E(W,ae,Z,te,ne){var oe=H;if(W===H){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var we=Z[W],Oe=(te>>>2)-1;if(!we)return;for(var Ee=0;Ee<Oe&&(oe=Bu(we,Ee*4))!==H;++Ee)ne.push(oe);E(Bu(we,te-4),ae-1,Z,te,ne)}}function A(W,ae,Z,te,ne){var oe=[],we=[];ne||(ne=[]);var Oe=te-1,Ee=0,Ce=0;for(Ee=ae;Ee>=0;){ne[Ee]=!0,oe[oe.length]=Ee,we.push(W[Ee]);var Se=Z[Math.floor(Ee*4/te)];if(Ce=Ee*4&Oe,te<4+Ce)throw new Error("FAT boundary crossed: "+Ee+" 4 "+te);if(!W[Se])break;Ee=Bu(W[Se],Ce)}return{nodes:oe,data:O4([we])}}function L(W,ae,Z,te){var ne=W.length,oe=[],we=[],Oe=[],Ee=[],Ce=te-1,Se=0,qe=0,We=0,Qe=0;for(Se=0;Se<ne;++Se)if(Oe=[],We=Se+ae,We>=ne&&(We-=ne),!we[We]){Ee=[];var He=[];for(qe=We;qe>=0;){He[qe]=!0,we[qe]=!0,Oe[Oe.length]=qe,Ee.push(W[qe]);var Xe=Z[Math.floor(qe*4/te)];if(Qe=qe*4&Ce,te<4+Qe)throw new Error("FAT boundary crossed: "+qe+" 4 "+te);if(!W[Xe]||(qe=Bu(W[Xe],Qe),He[qe]))break}oe[We]={nodes:Oe,data:O4([Ee])}}return oe}function I(W,ae,Z,te,ne,oe,we,Oe){for(var Ee=0,Ce=te.length?2:0,Se=ae[W].data,qe=0,We=0,Qe;qe<Se.length;qe+=128){var He=Se.slice(qe,qe+128);ki(He,64),We=He.read_shift(2),Qe=G2(He,0,We-Ce),te.push(Qe);var Xe={name:Qe,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},lt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);lt!==0&&(Xe.ct=O(He,He.l-8));var pr=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);pr!==0&&(Xe.mt=O(He,He.l-8)),Xe.start=He.read_shift(4,"i"),Xe.size=He.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=H,Xe.name=""),Xe.type===5?(Ee=Xe.start,ne>0&&Ee!==H&&(ae[Ee].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",ae[Xe.start]===void 0&&(ae[Xe.start]=A(Z,Xe.start,ae.fat_addrs,ae.ssz)),ae[Xe.start].name=Xe.name,Xe.content=ae[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:Ee!==H&&Xe.start!==H&&ae[Ee]&&(Xe.content=b(Xe,ae[Ee].data,(ae[Oe]||{}).data))),Xe.content&&ki(Xe.content,0),oe[Qe]=Xe,we.push(Xe)}}function O(W,ae){return new Date((za(W,ae+4)/1e7*Math.pow(2,32)+za(W,ae)/1e7-11644473600)*1e3)}function D(W,ae){return u(),d(c.readFileSync(W),ae)}function M(W,ae){var Z=ae&&ae.type;switch(Z||tr&&Buffer.isBuffer(W)&&(Z="buffer"),Z||"base64"){case"file":return D(W,ae);case"base64":return d(qs(Ja(W)),ae);case"binary":return d(qs(W),ae)}return d(W,ae)}function N(W,ae){var Z=ae||{},te=Z.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=te+"/",W.FileIndex[0]={name:te,type:5}),Z.CLSID&&(W.FileIndex[0].clsid=Z.CLSID),k(W)}function k(W){var ae="Sh33tJ5";if(!ar.find(W,"/"+ae)){var Z=Kn(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,W.FileIndex.push({name:ae,type:2,content:Z,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+ae),P(W)}}function P(W,ae){N(W);for(var Z=!1,te=!1,ne=W.FullPaths.length-1;ne>=0;--ne){var oe=W.FileIndex[ne];switch(oe.type){case 0:te?Z=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(oe.R*oe.L*oe.C)&&(Z=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!ae)){var we=new Date(1987,1,19),Oe=0,Ee=Object.create?Object.create(null):{},Ce=[];for(ne=0;ne<W.FullPaths.length;++ne)Ee[W.FullPaths[ne]]=!0,W.FileIndex[ne].type!==0&&Ce.push([W.FullPaths[ne],W.FileIndex[ne]]);for(ne=0;ne<Ce.length;++ne){var Se=n(Ce[ne][0]);te=Ee[Se],te||(Ce.push([Se,{name:i(Se).replace("/",""),type:1,clsid:re,ct:we,mt:we,content:null}]),Ee[Se]=!0)}for(Ce.sort(function(Qe,He){return r(Qe[0],He[0])}),W.FullPaths=[],W.FileIndex=[],ne=0;ne<Ce.length;++ne)W.FullPaths[ne]=Ce[ne][0],W.FileIndex[ne]=Ce[ne][1];for(ne=0;ne<Ce.length;++ne){var qe=W.FileIndex[ne],We=W.FullPaths[ne];if(qe.name=i(We).replace("/",""),qe.L=qe.R=qe.C=-(qe.color=1),qe.size=qe.content?qe.content.length:0,qe.start=0,qe.clsid=qe.clsid||re,ne===0)qe.C=Ce.length>1?1:-1,qe.size=0,qe.type=5;else if(We.slice(-1)=="/"){for(Oe=ne+1;Oe<Ce.length&&n(W.FullPaths[Oe])!=We;++Oe);for(qe.C=Oe>=Ce.length?-1:Oe,Oe=ne+1;Oe<Ce.length&&n(W.FullPaths[Oe])!=n(We);++Oe);qe.R=Oe>=Ce.length?-1:Oe,qe.type=1}else n(W.FullPaths[ne+1]||"")==n(We)&&(qe.R=ne+1),qe.type=2}}}function U(W,ae){var Z=ae||{};if(Z.fileType=="mad")return Bf(W,Z);if(P(W),Z.fileType==="zip")return Fr(W,Z);var te=(function(Qe){for(var He=0,Xe=0,lt=0;lt<Qe.FileIndex.length;++lt){var pr=Qe.FileIndex[lt];if(pr.content){var mr=pr.content.length;mr>0&&(mr<4096?He+=mr+63>>6:Xe+=mr+511>>9)}}for(var Er=Qe.FullPaths.length+3>>2,ri=He+7>>3,Zi=He+127>>7,gr=ri+Xe+Er+Zi,Dt=gr+127>>7,Oa=Dt<=109?0:Math.ceil((Dt-109)/127);gr+Dt+Oa+127>>7>Dt;)Oa=++Dt<=109?0:Math.ceil((Dt-109)/127);var se=[1,Oa,Dt,Zi,Er,Xe,He,0];return Qe.FileIndex[0].size=He<<6,se[7]=(Qe.FileIndex[0].start=se[0]+se[1]+se[2]+se[3]+se[4]+se[5])+(se[6]+7>>3),se})(W),ne=Kn(te[7]<<9),oe=0,we=0;{for(oe=0;oe<8;++oe)ne.write_shift(1,pe[oe]);for(oe=0;oe<8;++oe)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),oe=0;oe<3;++oe)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,te[2]),ne.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:H),ne.write_shift(4,te[3]),ne.write_shift(-4,te[1]?te[0]-1:H),ne.write_shift(4,te[1]),oe=0;oe<109;++oe)ne.write_shift(-4,oe<te[2]?te[1]+oe:-1)}if(te[1])for(we=0;we<te[1];++we){for(;oe<236+we*127;++oe)ne.write_shift(-4,oe<te[2]?te[1]+oe:-1);ne.write_shift(-4,we===te[1]-1?H:we+1)}var Oe=function(Qe){for(we+=Qe;oe<we-1;++oe)ne.write_shift(-4,oe+1);Qe&&(++oe,ne.write_shift(-4,H))};for(we=oe=0,we+=te[1];oe<we;++oe)ne.write_shift(-4,ue.DIFSECT);for(we+=te[2];oe<we;++oe)ne.write_shift(-4,ue.FATSECT);Oe(te[3]),Oe(te[4]);for(var Ee=0,Ce=0,Se=W.FileIndex[0];Ee<W.FileIndex.length;++Ee)Se=W.FileIndex[Ee],Se.content&&(Ce=Se.content.length,!(Ce<4096)&&(Se.start=we,Oe(Ce+511>>9)));for(Oe(te[6]+7>>3);ne.l&511;)ne.write_shift(-4,ue.ENDOFCHAIN);for(we=oe=0,Ee=0;Ee<W.FileIndex.length;++Ee)Se=W.FileIndex[Ee],Se.content&&(Ce=Se.content.length,!(!Ce||Ce>=4096)&&(Se.start=we,Oe(Ce+63>>6)));for(;ne.l&511;)ne.write_shift(-4,ue.ENDOFCHAIN);for(oe=0;oe<te[4]<<2;++oe){var qe=W.FullPaths[oe];if(!qe||qe.length===0){for(Ee=0;Ee<17;++Ee)ne.write_shift(4,0);for(Ee=0;Ee<3;++Ee)ne.write_shift(4,-1);for(Ee=0;Ee<12;++Ee)ne.write_shift(4,0);continue}Se=W.FileIndex[oe],oe===0&&(Se.start=Se.size?Se.start-1:H);var We=oe===0&&Z.root||Se.name;if(Ce=2*(We.length+1),ne.write_shift(64,We,"utf16le"),ne.write_shift(2,Ce),ne.write_shift(1,Se.type),ne.write_shift(1,Se.color),ne.write_shift(-4,Se.L),ne.write_shift(-4,Se.R),ne.write_shift(-4,Se.C),Se.clsid)ne.write_shift(16,Se.clsid,"hex");else for(Ee=0;Ee<4;++Ee)ne.write_shift(4,0);ne.write_shift(4,Se.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Se.start),ne.write_shift(4,Se.size),ne.write_shift(4,0)}for(oe=1;oe<W.FileIndex.length;++oe)if(Se=W.FileIndex[oe],Se.size>=4096)if(ne.l=Se.start+1<<9,tr&&Buffer.isBuffer(Se.content))Se.content.copy(ne,ne.l,0,Se.size),ne.l+=Se.size+511&-512;else{for(Ee=0;Ee<Se.size;++Ee)ne.write_shift(1,Se.content[Ee]);for(;Ee&511;++Ee)ne.write_shift(1,0)}for(oe=1;oe<W.FileIndex.length;++oe)if(Se=W.FileIndex[oe],Se.size>0&&Se.size<4096)if(tr&&Buffer.isBuffer(Se.content))Se.content.copy(ne,ne.l,0,Se.size),ne.l+=Se.size+63&-64;else{for(Ee=0;Ee<Se.size;++Ee)ne.write_shift(1,Se.content[Ee]);for(;Ee&63;++Ee)ne.write_shift(1,0)}if(tr)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function B(W,ae){var Z=W.FullPaths.map(function(Ee){return Ee.toUpperCase()}),te=Z.map(function(Ee){var Ce=Ee.split("/");return Ce[Ce.length-(Ee.slice(-1)=="/"?2:1)]}),ne=!1;ae.charCodeAt(0)===47?(ne=!0,ae=Z[0].slice(0,-1)+ae):ne=ae.indexOf("/")!==-1;var oe=ae.toUpperCase(),we=ne===!0?Z.indexOf(oe):te.indexOf(oe);if(we!==-1)return W.FileIndex[we];var Oe=!oe.match(rp);for(oe=oe.replace(ua,""),Oe&&(oe=oe.replace(rp,"!")),we=0;we<Z.length;++we)if((Oe?Z[we].replace(rp,"!"):Z[we]).replace(ua,"")==oe||(Oe?te[we].replace(rp,"!"):te[we]).replace(ua,"")==oe)return W.FileIndex[we];return null}var F=64,H=-2,fe="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(W,ae,Z){u();var te=U(W,Z);c.writeFileSync(ae,te)}function ie(W){for(var ae=new Array(W.length),Z=0;Z<W.length;++Z)ae[Z]=String.fromCharCode(W[Z]);return ae.join("")}function xe(W,ae){var Z=U(W,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),c.writeFileSync(ae.filename,Z),Z;case"binary":return typeof Z=="string"?Z:ie(Z);case"base64":return m4(typeof Z=="string"?Z:ie(Z));case"buffer":if(tr)return Buffer.isBuffer(Z)?Z:Tf(Z);case"array":return typeof Z=="string"?qs(Z):Z}return Z}var J;function V(W){try{var ae=W.InflateRaw,Z=new ae;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)J=W;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function ee(W,ae){if(!J)return co(W,ae);var Z=J.InflateRaw,te=new Z,ne=te._processChunk(W.slice(W.l),te._finishFlushFlag);return W.l+=te.bytesRead,ne}function X(W){return J?J.deflateRawSync(W):xt(W)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(W){var ae=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var le=typeof Uint8Array<"u",ge=le?new Uint8Array(256):[],De=0;De<256;++De)ge[De]=ke(De);function K(W,ae){var Z=ge[W&255];return ae<=8?Z>>>8-ae:(Z=Z<<8|ge[W>>8&255],ae<=16?Z>>>16-ae:(Z=Z<<8|ge[W>>16&255],Z>>>24-ae))}function Ye(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=6?0:W[te+1]<<8))>>>Z&3}function je(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=5?0:W[te+1]<<8))>>>Z&7}function Ke(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=4?0:W[te+1]<<8))>>>Z&15}function Ve(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=3?0:W[te+1]<<8))>>>Z&31}function Le(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=1?0:W[te+1]<<8))>>>Z&127}function Je(W,ae,Z){var te=ae&7,ne=ae>>>3,oe=(1<<Z)-1,we=W[ne]>>>te;return Z<8-te||(we|=W[ne+1]<<8-te,Z<16-te)||(we|=W[ne+2]<<16-te,Z<24-te)||(we|=W[ne+3]<<24-te),we&oe}function tt(W,ae,Z){var te=ae&7,ne=ae>>>3;return te<=5?W[ne]|=(Z&7)<<te:(W[ne]|=Z<<te&255,W[ne+1]=(Z&7)>>8-te),ae+3}function ht(W,ae,Z){var te=ae&7,ne=ae>>>3;return Z=(Z&1)<<te,W[ne]|=Z,ae+1}function at(W,ae,Z){var te=ae&7,ne=ae>>>3;return Z<<=te,W[ne]|=Z&255,Z>>>=8,W[ne+1]=Z,ae+8}function At(W,ae,Z){var te=ae&7,ne=ae>>>3;return Z<<=te,W[ne]|=Z&255,Z>>>=8,W[ne+1]=Z&255,W[ne+2]=Z>>>8,ae+16}function Br(W,ae){var Z=W.length,te=2*Z>ae?2*Z:ae+5,ne=0;if(Z>=ae)return W;if(tr){var oe=g4(te);if(W.copy)W.copy(oe);else for(;ne<W.length;++ne)oe[ne]=W[ne];return oe}else if(le){var we=new Uint8Array(te);if(we.set)we.set(W);else for(;ne<Z;++ne)we[ne]=W[ne];return we}return W.length=te,W}function wt(W){for(var ae=new Array(W),Z=0;Z<W;++Z)ae[Z]=0;return ae}function $t(W,ae,Z){var te=1,ne=0,oe=0,we=0,Oe=0,Ee=W.length,Ce=le?new Uint16Array(32):wt(32);for(oe=0;oe<32;++oe)Ce[oe]=0;for(oe=Ee;oe<Z;++oe)W[oe]=0;Ee=W.length;var Se=le?new Uint16Array(Ee):wt(Ee);for(oe=0;oe<Ee;++oe)Ce[ne=W[oe]]++,te<ne&&(te=ne),Se[oe]=0;for(Ce[0]=0,oe=1;oe<=te;++oe)Ce[oe+16]=Oe=Oe+Ce[oe-1]<<1;for(oe=0;oe<Ee;++oe)Oe=W[oe],Oe!=0&&(Se[oe]=Ce[Oe+16]++);var qe=0;for(oe=0;oe<Ee;++oe)if(qe=W[oe],qe!=0)for(Oe=K(Se[oe],te)>>te-qe,we=(1<<te+4-qe)-1;we>=0;--we)ae[Oe|we<<qe]=qe&15|oe<<4;return te}var Zt=le?new Uint16Array(512):wt(512),Ir=le?new Uint16Array(32):wt(32);if(!le){for(var Kt=0;Kt<512;++Kt)Zt[Kt]=0;for(Kt=0;Kt<32;++Kt)Ir[Kt]=0}(function(){for(var W=[],ae=0;ae<32;ae++)W.push(5);$t(W,Ir,32);var Z=[];for(ae=0;ae<=143;ae++)Z.push(8);for(;ae<=255;ae++)Z.push(9);for(;ae<=279;ae++)Z.push(7);for(;ae<=287;ae++)Z.push(8);$t(Z,Zt,288)})();var Et=(function(){for(var ae=le?new Uint8Array(32768):[],Z=0,te=0;Z<ye.length-1;++Z)for(;te<ye[Z+1];++te)ae[te]=Z;for(;te<32768;++te)ae[te]=29;var ne=le?new Uint8Array(259):[];for(Z=0,te=0;Z<he.length-1;++Z)for(;te<he[Z+1];++te)ne[te]=Z;function oe(Oe,Ee){for(var Ce=0;Ce<Oe.length;){var Se=Math.min(65535,Oe.length-Ce),qe=Ce+Se==Oe.length;for(Ee.write_shift(1,+qe),Ee.write_shift(2,Se),Ee.write_shift(2,~Se&65535);Se-- >0;)Ee[Ee.l++]=Oe[Ce++]}return Ee.l}function we(Oe,Ee){for(var Ce=0,Se=0,qe=le?new Uint16Array(32768):[];Se<Oe.length;){var We=Math.min(65535,Oe.length-Se);if(We<10){for(Ce=tt(Ee,Ce,+(Se+We==Oe.length)),Ce&7&&(Ce+=8-(Ce&7)),Ee.l=Ce/8|0,Ee.write_shift(2,We),Ee.write_shift(2,~We&65535);We-- >0;)Ee[Ee.l++]=Oe[Se++];Ce=Ee.l*8;continue}Ce=tt(Ee,Ce,+(Se+We==Oe.length)+2);for(var Qe=0;We-- >0;){var He=Oe[Se];Qe=(Qe<<5^He)&32767;var Xe=-1,lt=0;if((Xe=qe[Qe])&&(Xe|=Se&-32768,Xe>Se&&(Xe-=32768),Xe<Se))for(;Oe[Xe+lt]==Oe[Se+lt]&&lt<250;)++lt;if(lt>2){He=ne[lt],He<=22?Ce=at(Ee,Ce,ge[He+1]>>1)-1:(at(Ee,Ce,3),Ce+=5,at(Ee,Ce,ge[He-23]>>5),Ce+=3);var pr=He<8?0:He-4>>2;pr>0&&(At(Ee,Ce,lt-he[He]),Ce+=pr),He=ae[Se-Xe],Ce=at(Ee,Ce,ge[He]>>3),Ce-=3;var mr=He<4?0:He-2>>1;mr>0&&(At(Ee,Ce,Se-Xe-ye[He]),Ce+=mr);for(var Er=0;Er<lt;++Er)qe[Qe]=Se&32767,Qe=(Qe<<5^Oe[Se])&32767,++Se;We-=lt-1}else He<=143?He=He+48:Ce=ht(Ee,Ce,1),Ce=at(Ee,Ce,ge[He]),qe[Qe]=Se&32767,++Se}Ce=at(Ee,Ce,0)-1}return Ee.l=(Ce+7)/8|0,Ee.l}return function(Ee,Ce){return Ee.length<8?oe(Ee,Ce):we(Ee,Ce)}})();function xt(W){var ae=Kn(50+Math.floor(W.length*1.1)),Z=Et(W,ae);return ae.slice(0,Z)}var rr=le?new Uint16Array(32768):wt(32768),xr=le?new Uint16Array(32768):wt(32768),Vt=le?new Uint16Array(128):wt(128),wr=1,gi=1;function Vr(W,ae){var Z=Ve(W,ae)+257;ae+=5;var te=Ve(W,ae)+1;ae+=5;var ne=Ke(W,ae)+4;ae+=4;for(var oe=0,we=le?new Uint8Array(19):wt(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=1,Ce=le?new Uint8Array(8):wt(8),Se=le?new Uint8Array(8):wt(8),qe=we.length,We=0;We<ne;++We)we[q[We]]=oe=je(W,ae),Ee<oe&&(Ee=oe),Ce[oe]++,ae+=3;var Qe=0;for(Ce[0]=0,We=1;We<=Ee;++We)Se[We]=Qe=Qe+Ce[We-1]<<1;for(We=0;We<qe;++We)(Qe=we[We])!=0&&(Oe[We]=Se[Qe]++);var He=0;for(We=0;We<qe;++We)if(He=we[We],He!=0){Qe=ge[Oe[We]]>>8-He;for(var Xe=(1<<7-He)-1;Xe>=0;--Xe)Vt[Qe|Xe<<He]=He&7|We<<3}var lt=[];for(Ee=1;lt.length<Z+te;)switch(Qe=Vt[Le(W,ae)],ae+=Qe&7,Qe>>>=3){case 16:for(oe=3+Ye(W,ae),ae+=2,Qe=lt[lt.length-1];oe-- >0;)lt.push(Qe);break;case 17:for(oe=3+je(W,ae),ae+=3;oe-- >0;)lt.push(0);break;case 18:for(oe=11+Le(W,ae),ae+=7;oe-- >0;)lt.push(0);break;default:lt.push(Qe),Ee<Qe&&(Ee=Qe);break}var pr=lt.slice(0,Z),mr=lt.slice(Z);for(We=Z;We<286;++We)pr[We]=0;for(We=te;We<30;++We)mr[We]=0;return wr=$t(pr,rr,286),gi=$t(mr,xr,30),ae}function cu(W,ae){if(W[0]==3&&!(W[1]&3))return[$c(ae),2];for(var Z=0,te=0,ne=g4(ae||1<<18),oe=0,we=ne.length>>>0,Oe=0,Ee=0;(te&1)==0;){if(te=je(W,Z),Z+=3,te>>>1)te>>1==1?(Oe=9,Ee=5):(Z=Vr(W,Z),Oe=wr,Ee=gi);else{Z&7&&(Z+=8-(Z&7));var Ce=W[Z>>>3]|W[(Z>>>3)+1]<<8;if(Z+=32,Ce>0)for(!ae&&we<oe+Ce&&(ne=Br(ne,oe+Ce),we=ne.length);Ce-- >0;)ne[oe++]=W[Z>>>3],Z+=8;continue}for(;;){!ae&&we<oe+32767&&(ne=Br(ne,oe+32767),we=ne.length);var Se=Je(W,Z,Oe),qe=te>>>1==1?Zt[Se]:rr[Se];if(Z+=qe&15,qe>>>=4,(qe>>>8&255)===0)ne[oe++]=qe;else{if(qe==256)break;qe-=257;var We=qe<8?0:qe-4>>2;We>5&&(We=0);var Qe=oe+he[qe];We>0&&(Qe+=Je(W,Z,We),Z+=We),Se=Je(W,Z,Ee),qe=te>>>1==1?Ir[Se]:xr[Se],Z+=qe&15,qe>>>=4;var He=qe<4?0:qe-2>>1,Xe=ye[qe];for(He>0&&(Xe+=Je(W,Z,He),Z+=He),!ae&&we<Qe&&(ne=Br(ne,Qe+100),we=ne.length);oe<Qe;)ne[oe]=ne[oe-Xe],++oe}}}return ae?[ne,Z+7>>>3]:[ne.slice(0,oe),Z+7>>>3]}function co(W,ae){var Z=W.slice(W.l||0),te=cu(Z,ae);return W.l+=te[1],te[0]}function qo(W,ae){if(W)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function vi(W,ae){var Z=W;ki(Z,0);var te=[],ne=[],oe={FileIndex:te,FullPaths:ne};N(oe,{root:ae.root});for(var we=Z.length-4;(Z[we]!=80||Z[we+1]!=75||Z[we+2]!=5||Z[we+3]!=6)&&we>=0;)--we;Z.l=we+4,Z.l+=4;var Oe=Z.read_shift(2);Z.l+=6;var Ee=Z.read_shift(4);for(Z.l=Ee,we=0;we<Oe;++we){Z.l+=20;var Ce=Z.read_shift(4),Se=Z.read_shift(4),qe=Z.read_shift(2),We=Z.read_shift(2),Qe=Z.read_shift(2);Z.l+=8;var He=Z.read_shift(4),Xe=o(Z.slice(Z.l+qe,Z.l+qe+We));Z.l+=qe+We+Qe;var lt=Z.l;Z.l=He+4,Rs(Z,Ce,Se,oe,Xe),Z.l=lt}return oe}function Rs(W,ae,Z,te,ne){W.l+=2;var oe=W.read_shift(2),we=W.read_shift(2),Oe=s(W);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var Ee=W.read_shift(4),Ce=W.read_shift(4),Se=W.read_shift(4),qe=W.read_shift(2),We=W.read_shift(2),Qe="",He=0;He<qe;++He)Qe+=String.fromCharCode(W[W.l++]);if(We){var Xe=o(W.slice(W.l,W.l+We));(Xe[21589]||{}).mt&&(Oe=Xe[21589].mt),((ne||{})[21589]||{}).mt&&(Oe=ne[21589].mt)}W.l+=We;var lt=W.slice(W.l,W.l+Ce);switch(we){case 8:lt=ee(W,Se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var pr=!1;oe&8&&(Ee=W.read_shift(4),Ee==134695760&&(Ee=W.read_shift(4),pr=!0),Ce=W.read_shift(4),Se=W.read_shift(4)),Ce!=ae&&qo(pr,"Bad compressed size: "+ae+" != "+Ce),Se!=Z&&qo(pr,"Bad uncompressed size: "+Z+" != "+Se),Qa(te,Qe,lt,{unsafe:!0,mt:Oe})}function Fr(W,ae){var Z=ae||{},te=[],ne=[],oe=Kn(1),we=Z.compression?8:0,Oe=0,Ee=0,Ce=0,Se=0,qe=0,We=W.FullPaths[0],Qe=We,He=W.FileIndex[0],Xe=[],lt=0;for(Ee=1;Ee<W.FullPaths.length;++Ee)if(Qe=W.FullPaths[Ee].slice(We.length),He=W.FileIndex[Ee],!(!He.size||!He.content||Qe=="Sh33tJ5")){var pr=Se,mr=Kn(Qe.length);for(Ce=0;Ce<Qe.length;++Ce)mr.write_shift(1,Qe.charCodeAt(Ce)&127);mr=mr.slice(0,mr.l),Xe[qe]=Sre.buf(He.content,0);var Er=He.content;we==8&&(Er=X(Er)),oe=Kn(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Oe),oe.write_shift(2,we),He.mt?a(oe,He.mt):oe.write_shift(4,0),oe.write_shift(-4,Xe[qe]),oe.write_shift(4,Er.length),oe.write_shift(4,He.content.length),oe.write_shift(2,mr.length),oe.write_shift(2,0),Se+=oe.length,te.push(oe),Se+=mr.length,te.push(mr),Se+=Er.length,te.push(Er),oe=Kn(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Oe),oe.write_shift(2,we),oe.write_shift(4,0),oe.write_shift(-4,Xe[qe]),oe.write_shift(4,Er.length),oe.write_shift(4,He.content.length),oe.write_shift(2,mr.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,pr),lt+=oe.l,ne.push(oe),lt+=mr.length,ne.push(mr),++qe}return oe=Kn(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,qe),oe.write_shift(2,qe),oe.write_shift(4,lt),oe.write_shift(4,Se),oe.write_shift(2,0),Ac([Ac(te),Ac(ne),oe])}var yi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function In(W,ae){if(W.ctype)return W.ctype;var Z=W.name||"",te=Z.match(/\.([^\.]+)$/);return te&&yi[te[1]]||ae&&(te=(Z=ae).match(/[\.\\]([^\.\\])+$/),te&&yi[te[1]])?yi[te[1]]:"application/octet-stream"}function xi(W){for(var ae=m4(W),Z=[],te=0;te<ae.length;te+=76)Z.push(ae.slice(te,te+76));return Z.join(`\r
`)+`\r
`}function ma(W){var ae=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Se=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Se.length==1?"0"+Se:Se)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],te=ae.split(`\r
`),ne=0;ne<te.length;++ne){var oe=te[ne];if(oe.length==0){Z.push("");continue}for(var we=0;we<oe.length;){var Oe=76,Ee=oe.slice(we,we+Oe);Ee.charAt(Oe-1)=="="?Oe--:Ee.charAt(Oe-2)=="="?Oe-=2:Ee.charAt(Oe-3)=="="&&(Oe-=3),Ee=oe.slice(we,we+Oe),we+=Oe,we<oe.length&&(Ee+="="),Z.push(Ee)}}return Z.join(`\r
`)}function Za(W){for(var ae=[],Z=0;Z<W.length;++Z){for(var te=W[Z];Z<=W.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+W[++Z];ae.push(te)}for(var ne=0;ne<ae.length;++ne)ae[ne]=ae[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return qs(ae.join(`\r
`))}function _n(W,ae,Z){for(var te="",ne="",oe="",we,Oe=0;Oe<10;++Oe){var Ee=ae[Oe];if(!Ee||Ee.match(/^\s*$/))break;var Ce=Ee.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":te=Ce[2].trim();break;case"content-type":oe=Ce[2].trim();break;case"content-transfer-encoding":ne=Ce[2].trim();break}}switch(++Oe,ne.toLowerCase()){case"base64":we=qs(Ja(ae.slice(Oe).join("")));break;case"quoted-printable":we=Za(ae.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Se=Qa(W,te.slice(Z.length),we,{unsafe:!0});oe&&(Se.ctype=oe)}function _i(W,ae){if(ie(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=ae&&ae.root||"",te=(tr&&Buffer.isBuffer(W)?W.toString("binary"):ie(W)).split(`\r
`),ne=0,oe="";for(ne=0;ne<te.length;++ne)if(oe=te[ne],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Z||(Z=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),oe.slice(0,Z.length)!=Z););var we=(te[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var Oe="--"+(we[1]||""),Ee=[],Ce=[],Se={FileIndex:Ee,FullPaths:Ce};N(Se);var qe,We=0;for(ne=0;ne<te.length;++ne){var Qe=te[ne];Qe!==Oe&&Qe!==Oe+"--"||(We++&&_n(Se,te.slice(qe,ne),Z),qe=ne)}return Se}function Bf(W,ae){var Z=ae||{},te=Z.boundary||"SheetJS";te="------="+te;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],oe=W.FullPaths[0],we=oe,Oe=W.FileIndex[0],Ee=1;Ee<W.FullPaths.length;++Ee)if(we=W.FullPaths[Ee].slice(oe.length),Oe=W.FileIndex[Ee],!(!Oe.size||!Oe.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(lt){return"_x"+lt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(lt){return"_u"+lt.charCodeAt(0).toString(16)+"_"});for(var Ce=Oe.content,Se=tr&&Buffer.isBuffer(Ce)?Ce.toString("binary"):ie(Ce),qe=0,We=Math.min(1024,Se.length),Qe=0,He=0;He<=We;++He)(Qe=Se.charCodeAt(He))>=32&&Qe<128&&++qe;var Xe=qe>=We*4/5;ne.push(te),ne.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+we),ne.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),ne.push("Content-Type: "+In(Oe,we)),ne.push(""),ne.push(Xe?ma(Se):xi(Se))}return ne.push(te+`--\r
`),ne.join(`\r
`)}function Os(W){var ae={};return N(ae,W),ae}function Qa(W,ae,Z,te){var ne=te&&te.unsafe;ne||N(W);var oe=!ne&&ar.find(W,ae);if(!oe){var we=W.FullPaths[0];ae.slice(0,we.length)==we?we=ae:(we.slice(-1)!="/"&&(we+="/"),we=(we+ae).replace("//","/")),oe={name:i(ae),type:2},W.FileIndex.push(oe),W.FullPaths.push(we),ne||ar.utils.cfb_gc(W)}return oe.content=Z,oe.size=Z?Z.length:0,te&&(te.CLSID&&(oe.clsid=te.CLSID),te.mt&&(oe.mt=te.mt),te.ct&&(oe.ct=te.ct)),oe}function on(W,ae){N(W);var Z=ar.find(W,ae);if(Z){for(var te=0;te<W.FileIndex.length;++te)if(W.FileIndex[te]==Z)return W.FileIndex.splice(te,1),W.FullPaths.splice(te,1),!0}return!1}function Ms(W,ae,Z){N(W);var te=ar.find(W,ae);if(te){for(var ne=0;ne<W.FileIndex.length;++ne)if(W.FileIndex[ne]==te)return W.FileIndex[ne].name=i(Z),W.FullPaths[ne]=Z,!0}return!1}function ga(W){P(W,!0)}return t.find=B,t.read=M,t.parse=d,t.write=xe,t.writeFile=ce,t.utils={cfb_new:Os,cfb_add:Qa,cfb_del:on,cfb_mov:Ms,cfb_gc:ga,ReadShift:vp,CheckField:i9,prep_blob:ki,bconcat:Ac,use_zlib:V,_deflateRaw:xt,_inflateRaw:co,consts:ue},t})();function Are(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Do(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function V2(e){for(var t=[],r=Do(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Qy=new Date(1899,11,30,0,0,0);function fa(e,t){var r=e.getTime(),n=Qy.getTime()+(e.getTimezoneOffset()-Qy.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var FU=new Date,Cre=Qy.getTime()+(FU.getTimezoneOffset()-Qy.getTimezoneOffset())*6e4,T4=FU.getTimezoneOffset();function R1(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Cre),t.getTimezoneOffset()!==T4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-T4)*6e4),t}function Nre(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var S4=new Date("2017-02-19T19:06:09.000Z"),jU=isNaN(S4.getFullYear())?new Date("2/19/17"):S4,kre=jU.getFullYear()==2017;function fi(e,t){var r=new Date(e);if(kre)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(jU.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function lf(e,t){if(tr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ip(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ip(TU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ip(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ip(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function Pi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Pi(e[r]));return t}function hn(e,t){for(var r="";r.length<t;)r+=e;return r}function eo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var Ire=["january","february","march","april","may","june","july","august","september","october","november","december"];function ih(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Ire.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Pre=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function UU(e){return e?e.content&&e.type?lf(e.content,!0):e.data?tp(e.data):e.asNodeBuffer&&tr?tp(e.asNodeBuffer().toString("binary")):e.asBinary?tp(e.asBinary()):e._data&&e._data.getContent?tp(lf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function BU(e){if(!e)return null;if(e.data)return h4(e.data);if(e.asNodeBuffer&&tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?h4(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Rre(e){return e&&e.name.slice(-4)===".bin"?BU(e):UU(e)}function vs(e,t){for(var r=e.FullPaths||Do(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function z2(e,t){var r=vs(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function jn(e,t,r){if(!r)return Rre(z2(e,t));if(!t)return null;try{return jn(e,t)}catch{return null}}function Ha(e,t,r){if(!r)return UU(z2(e,t));if(!t)return null;try{return Ha(e,t)}catch{return null}}function Ore(e,t,r){return BU(z2(e,t))}function A4(e){for(var t=e.FullPaths||Do(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Mre(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return tr?n=Tf(r):n=Qte(r),ar.utils.cfb_add(e,t,n)}ar.utils.cfb_add(e,t,r)}else e.file(t,r)}function VU(e,t){switch(t.type){case"base64":return ar.read(e,{type:"base64"});case"binary":return ar.read(e,{type:"binary"});case"buffer":case"array":return ar.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function np(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var zU=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Dre=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,C4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Lre=/<[^>]*>/g,Ji=zU.match(C4)?C4:Lre,Fre=/<\w*:/,jre=/<(\/?)\w+:/;function Ct(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var s=e.match(Dre),o=0,c="",u=0,d="",p="",m=1;if(s)for(u=0;u!=s.length;++u){for(p=s[u],a=0;a!=p.length&&p.charCodeAt(a)!==61;++a);for(d=p.slice(0,a).trim();p.charCodeAt(a+1)==32;)++a;for(m=(i=p.charCodeAt(a+1))==34||i==39?1:0,c=p.slice(a+1+m,p.length-m),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var y=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[y]&&d.slice(o-3,o)=="ext")continue;n[y]=c,n[y.toLowerCase()]=c}}return n}function Vo(e){return e.replace(jre,"<$1")}var $U={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ure=V2($U),or=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(o,c){return $U[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}})(),Bre=/[&<>'"]/g,Vre=/[\u0000-\u001f]/g;function $2(e){var t=e+"";return t.replace(Bre,function(r){return Ure[r]}).replace(/\n/g,"<br/>").replace(Vre,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var N4=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function Qr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Zw(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function k4(e){var t=$c(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function I4(e){return Tf(e,"binary").toString("utf8")}var Cv="foo bar baz",$r=tr&&(I4(Cv)==Zw(Cv)&&I4||k4(Cv)==Zw(Cv)&&k4)||Zw,ip=tr?function(e){return Tf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Hp=(function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),HU=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}})(),zre=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),$re=/<\/?(?:vt:)?variant>/g,Hre=/<(?:vt:)([^>]*)>([\s\S]*)</;function P4(e,t){var r=Ct(e),n=e.match(zre(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace($re,"").match(Hre);s&&i.push({v:$r(s[2]),t:s[1]})}),i}var Gre=/(^\s|\s$|\n)/;function qre(e){return Do(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Kre(e,t,r){return"<"+e+(r!=null?qre(r):"")+(t!=null?(t.match(Gre)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function H2(e){if(tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return $r(Sf(j2(e)));throw new Error("Bad input format: expected Buffer or string")}var Gp=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Wre={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Yre=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Jre(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function Xre(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var R4=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},O4=tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Tf(t)})):R4(e)}:R4,M4=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(ml(e,i)));return n.join("").replace(ua,"")},G2=tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(ua,""):M4(e,t,r)}:M4,D4=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},GU=tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):D4(e,t,r)}:D4,L4=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Cd(e,i)));return n.join("")},Am=tr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):L4(t,r,n)}:L4,qU=function(e,t){var r=za(e,t);return r>0?Am(e,t+4,t+4+r-1):""},KU=qU,WU=function(e,t){var r=za(e,t);return r>0?Am(e,t+4,t+4+r-1):""},YU=WU,JU=function(e,t){var r=2*za(e,t);return r>0?Am(e,t+4,t+4+r-1):""},XU=JU,ZU=function(t,r){var n=za(t,r);return n>0?G2(t,r+4,r+4+n):""},QU=ZU,e9=function(e,t){var r=za(e,t);return r>0?Am(e,t+4,t+4+r):""},t9=e9,r9=function(e,t){return Jre(e,t)},ex=r9,n9=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};tr&&(KU=function(t,r){if(!Buffer.isBuffer(t))return qU(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},YU=function(t,r){if(!Buffer.isBuffer(t))return WU(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},XU=function(t,r){if(!Buffer.isBuffer(t))return JU(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},QU=function(t,r){if(!Buffer.isBuffer(t))return ZU(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},t9=function(t,r){if(!Buffer.isBuffer(t))return e9(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ex=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):r9(t,r)},n9=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Cd=function(e,t){return e[t]},ml=function(e,t){return e[t+1]*256+e[t]},Zre=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},za=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Bu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Qre=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function vp(e,t){var r="",n,i,a=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,tr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ml(this,u)),u+=2;e*=2;break;case"utf8":r=Am(this,this.l,this.l+e);break;case"utf16le":e*=2,r=G2(this,this.l,this.l+e);break;case"wstr":return vp.call(this,e,"dbcs");case"lpstr-ansi":r=KU(this,this.l),e=4+za(this,this.l);break;case"lpstr-cp":r=YU(this,this.l),e=4+za(this,this.l);break;case"lpwstr":r=XU(this,this.l),e=4+2*za(this,this.l);break;case"lpp4":e=4+za(this,this.l),r=QU(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+za(this,this.l),r=t9(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Cd(this,this.l+e++))!==0;)a.push(Av(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=ml(this,this.l+e))!==0;)a.push(Av(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Cd(this,u),this.l=u+1,o=vp.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Av(ml(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Cd(this,u),this.l=u+1,o=vp.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Av(Cd(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Cd(this,this.l),this.l++,n;case 2:return n=(t==="i"?Zre:ml)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Bu:Qre)(this,this.l),this.l+=4,n):(i=za(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=ex(this,this.l):i=ex([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=GU(this,this.l,e);break}}return this.l+=e,r}var ene=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},tne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},rne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function nne(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)rne(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,ene(this,t,this.l);break;case 8:if(n=8,r==="f"){Xre(this,t,this.l);break}case 16:break;case-4:n=4,tne(this,t,this.l);break}return this.l+=n,this}function i9(e,t){var r=GU(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ki(e,t){e.l=t,e.read_shift=vp,e.chk=i9,e.write_shift=nne}function Yi(e,t){e.l+=t}function Kn(e){var t=$c(e);return ki(t,0),t}function Fl(e,t,r){if(e){var n,i,a;ki(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=sx[o]||sx[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;c=e.l+a;var d=u.f&&u.f(e,a,r);if(e.l=c,t(d,u,o))return}}}function _S(){var e=[],t=tr?256:2048,r=function(u){var d=Kn(u);return ki(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},s=function(){return i(),Ac(e)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function yp(e,t,r){var n=Pi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function F4(e,t,r){var n=Pi(e);return n.s=yp(n.s,t.s,r),n.e=yp(n.e,t.s,r),n}function xp(e,t){if(e.cRel&&e.c<0)for(e=Pi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Pi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Rt(e);return!e.cRel&&e.cRel!=null&&(r=sne(r)),!e.rRel&&e.rRel!=null&&(r=ine(r)),r}function Qw(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Jn(e.s.c)+":"+(e.e.cRel?"":"$")+Jn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ri(e.s.r)+":"+(e.e.rRel?"":"$")+Ri(e.e.r):xp(e.s,t.biff)+":"+xp(e.e,t.biff)}function q2(e){return parseInt(ane(e),10)-1}function Ri(e){return""+(e+1)}function ine(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ane(e){return e.replace(/\$(\d+)$/,"$1")}function K2(e){for(var t=one(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Jn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function sne(e){return e.replace(/^([A-Z])/,"$$$1")}function one(e){return e.replace(/^\$([A-Z])/,"$1")}function lne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function la(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Rt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Th(e){var t=e.indexOf(":");return t==-1?{s:la(e),e:la(e)}:{s:la(e.slice(0,t)),e:la(e.slice(t+1))}}function sr(e,t){return typeof t>"u"||typeof t=="number"?sr(e.s,e.e):(typeof e!="string"&&(e=Rt(e)),typeof t!="string"&&(t=Rt(t)),e==t?e:e+":"+t)}function mn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function j4(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ts(e.z,r?fa(t):t)}catch{}try{return e.w=Ts((e.XF||{}).numFmtId||(r?14:0),r?fa(t):t)}catch{return""+t}}function Sl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Nf[e.v]||e.v:t==null?j4(e,e.v):j4(e,t))}function iu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function a9(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?la(n.origin):n.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=mn(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[p].length;++m)if(!(typeof t[p][m]>"u")){var y={v:t[p][m]},_=s+p,b=o+m;if(u.s.r>_&&(u.s.r=_),u.s.c>b&&(u.s.c=b),u.e.r<_&&(u.e.r=_),u.e.c<b&&(u.e.c=b),t[p][m]&&typeof t[p][m]=="object"&&!Array.isArray(t[p][m])&&!(t[p][m]instanceof Date))y=t[p][m];else if(Array.isArray(y.v)&&(y.f=t[p][m][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||jt[14],n.cellDates?(y.t="d",y.w=Ts(y.z,fa(y.v))):(y.t="n",y.v=fa(y.v),y.w=Ts(y.z,y.v))):y.t="s";if(i)a[_]||(a[_]=[]),a[_][b]&&a[_][b].z&&(y.z=a[_][b].z),a[_][b]=y;else{var E=Rt({c:b,r:_});a[E]&&a[E].z&&(y.z=a[E].z),a[E]=y}}}return u.s.c<1e7&&(a["!ref"]=sr(u)),a}function Sh(e,t){return a9(null,e,t)}function cne(e){return e.read_shift(4,"i")}function Ki(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function une(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function W2(e,t){var r=e.l,n=e.read_shift(1),i=Ki(e),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(une(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var fne=W2;function Is(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Af(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var dne=Ki;function Y2(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var hne=Ki,bS=Y2;function J2(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?ex([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Bu(t,0)>>2;return r?i/100:i}function s9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Cf=s9;function zi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function pne(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=Ju[i];u&&(t.rgb=Kp(u));break;case 2:t.rgb=Kp([s,o,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function mne(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function o9(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function gne(e){return o9(e,1)}function vne(e){return o9(e,2)}var X2=2,wa=3,Nv=11,U4=12,tx=19,kv=64,yne=65,xne=71,_ne=4108,bne=4126,si=80,l9=81,wne=[si,l9],Ene={1:{n:"CodePage",t:X2},2:{n:"Category",t:si},3:{n:"PresentationFormat",t:si},4:{n:"ByteCount",t:wa},5:{n:"LineCount",t:wa},6:{n:"ParagraphCount",t:wa},7:{n:"SlideCount",t:wa},8:{n:"NoteCount",t:wa},9:{n:"HiddenCount",t:wa},10:{n:"MultimediaClipCount",t:wa},11:{n:"ScaleCrop",t:Nv},12:{n:"HeadingPairs",t:_ne},13:{n:"TitlesOfParts",t:bne},14:{n:"Manager",t:si},15:{n:"Company",t:si},16:{n:"LinksUpToDate",t:Nv},17:{n:"CharacterCount",t:wa},19:{n:"SharedDoc",t:Nv},22:{n:"HyperlinksChanged",t:Nv},23:{n:"AppVersion",t:wa,p:"version"},24:{n:"DigSig",t:yne},26:{n:"ContentType",t:si},27:{n:"ContentStatus",t:si},28:{n:"Language",t:si},29:{n:"Version",t:si},255:{},2147483648:{n:"Locale",t:tx},2147483651:{n:"Behavior",t:tx},1919054434:{}},Tne={1:{n:"CodePage",t:X2},2:{n:"Title",t:si},3:{n:"Subject",t:si},4:{n:"Author",t:si},5:{n:"Keywords",t:si},6:{n:"Comments",t:si},7:{n:"Template",t:si},8:{n:"LastAuthor",t:si},9:{n:"RevNumber",t:si},10:{n:"EditTime",t:kv},11:{n:"LastPrinted",t:kv},12:{n:"CreatedDate",t:kv},13:{n:"ModifiedDate",t:kv},14:{n:"PageCount",t:wa},15:{n:"WordCount",t:wa},16:{n:"CharCount",t:wa},17:{n:"Thumbnail",t:xne},18:{n:"Application",t:si},19:{n:"DocSecurity",t:wa},255:{},2147483648:{n:"Locale",t:tx},2147483651:{n:"Behavior",t:tx},1919054434:{}},B4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Sne=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ane(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Cne=Ane([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ju=Pi(Cne),Nf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},c9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},V4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Nne(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function kne(e){var t=Nne();if(!e||!e.match)return t;var r={};if((e.match(Ji)||[]).forEach(function(n){var i=Ct(n);switch(i[0].replace(Fre,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[V4[i.ContentType]]!==void 0&&t[V4[i.ContentType]].push(i.PartName);break}}),t.xmlns!==Wre.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Ld={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wS(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function _p(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ji)||[]).forEach(function(i){var a=Ct(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:np(a.Target,t);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}var Ine="application/vnd.oasis.opendocument.spreadsheet";function Pne(e,t){for(var r=H2(e),n,i;n=Gp.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Ct(n[0],!1),i.path=="/"&&i.type!==Ine)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var bp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Rne=(function(){for(var e=new Array(bp.length),t=0;t<bp.length;++t){var r=bp[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function u9(e){var t={};e=$r(e);for(var r=0;r<bp.length;++r){var n=bp[r],i=e.match(Rne[r]);i!=null&&i.length>0&&(t[n[1]]=or(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=fi(t[n[1]]))}return t}var One=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function f9(e,t,r,n){var i=[];if(typeof e=="string")i=P4(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(d){return{v:d}}));var s=typeof t=="string"?P4(t,n).map(function(d){return d.v}):t,o=0,c=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function Mne(e,t,r){var n={};return t||(t={}),e=$r(e),One.forEach(function(i){var a=(e.match(Hp(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=or(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var s=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&f9(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Dne=/<[^>]+>[^<]*/g;function Lne(e,t){var r={},n="",i=e.match(Dne);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=Ct(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=or(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=or(d);break;case"bool":r[n]=Qr(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=fi(d);break;case"cy":case"error":r[n]=or(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Fne={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},eE;function jne(e,t,r){eE||(eE=V2(Fne)),t=eE[t]||t,e[t]=r}function Z2(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function d9(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function h9(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function p9(e,t,r){return t===31?h9(e):d9(e,t,r)}function ES(e,t,r){return p9(e,t,r===!1?0:4)}function Une(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return p9(e,t,0)}function Bne(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(ua,""),e.l-i&2&&(e.l+=2)}return r}function Vne(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(ua,"");return r}function zne(e){var t=e.l,r=rx(e,l9);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=rx(e,wa);return[r,n]}function $ne(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(zne(e));return r}function z4(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),s=e.read_shift(4);n[a]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(ua,"").replace(rp,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function m9(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Hne(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function rx(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==U4&&n!==t&&wne.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===U4?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return d9(e,n,4).replace(ua,"");case 31:return h9(e);case 64:return Z2(e);case 65:return m9(e);case 71:return Hne(e);case 80:return ES(e,n,!a.raw).replace(ua,"");case 81:return Une(e,n).replace(ua,"");case 4108:return $ne(e);case 4126:case 4127:return n==4127?Bne(e):Vne(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function $4(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0,o=0,c=-1,u={};for(s=0;s!=i;++s){var d=e.read_shift(4),p=e.read_shift(4);a[s]=[d,p+r]}a.sort(function(L,I){return L[1]-I[1]});var m={};for(s=0;s!=i;++s){if(e.l!==a[s][1]){var y=!0;if(s>0&&t)switch(t[a[s-1][0]].t){case 2:e.l+2===a[s][1]&&(e.l+=2,y=!1);break;case 80:e.l<=a[s][1]&&(e.l=a[s][1],y=!1);break;case 4108:e.l<=a[s][1]&&(e.l=a[s][1],y=!1);break}if((!t||s==0)&&e.l<=a[s][1]&&(y=!1,e.l=a[s][1]),y)throw new Error("Read Error: Expected address "+a[s][1]+" at "+e.l+" :"+s)}if(t){var _=t[a[s][0]];if(m[_.n]=rx(e,_.t,{raw:!0}),_.p==="version"&&(m[_.n]=String(m[_.n]>>16)+"."+("0000"+String(m[_.n]&65535)).slice(-4)),_.n=="CodePage")switch(m[_.n]){case 0:m[_.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Js(o=m[_.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[_.n])}}else if(a[s][0]===1){if(o=m.CodePage=rx(e,X2),Js(o),c!==-1){var b=e.l;e.l=a[c][1],u=z4(e,o),e.l=b}}else if(a[s][0]===0){if(o===0){c=s,e.l=a[s+1][1];continue}u=z4(e,o)}else{var E=u[a[s][0]],A;switch(e[e.l]){case 65:e.l+=4,A=m9(e);break;case 30:e.l+=4,A=ES(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,A=ES(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,A=e.read_shift(4,"i");break;case 19:e.l+=4,A=e.read_shift(4);break;case 5:e.l+=4,A=e.read_shift(8,"f");break;case 11:e.l+=4,A=Sn(e,4);break;case 64:e.l+=4,A=fi(Z2(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[E]=A}}return e.l=r+n,m}function H4(e,t,r){var n=e.content;if(!n)return{};ki(n,0);var i,a,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==ar.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),c=n.read_shift(4));var p=$4(n,t),m={SystemIdentifier:u};for(var y in p)m[y]=p[y];if(m.FMTID=a,i===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var _;try{_=$4(n,null)}catch{}for(y in _)m[y]=_[y];return m.FMTID=[a,s],m}function bc(e,t){return e.read_shift(t),null}function Gne(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Sn(e,t){return e.read_shift(t)===1}function Un(e){return e.read_shift(2,"u")}function g9(e,t){return Gne(e,t,Un)}function qne(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Cm(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function Kne(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,c={};i&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*s),n&&(e.l+=o),c.t=d,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function cf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Nm(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):cf(e,n,r)}function kf(e,t,r){if(r.biff>5)return Nm(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Wne(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Yne(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(ua,"");return n&&(e.l+=24),i}function Jne(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(a>>1,"utf16le").replace(ua,"");return r+s}function Xne(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Yne(e);case"0303000000000000c000000000000046":return Jne(e);default:throw new Error("Unsupported Moniker "+r)}}function Iv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(ua,""):"";return r}function Zne(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,s,o,c,u="",d,p;i&16&&(a=Iv(e,r-e.l)),i&128&&(s=Iv(e,r-e.l)),(i&257)===257&&(o=Iv(e,r-e.l)),(i&257)===1&&(c=Xne(e,r-e.l)),i&8&&(u=Iv(e,r-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(p=Z2(e)),e.l=r;var m=s||o||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),i&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var y={Target:m};return d&&(y.guid=d),p&&(y.time=p),a&&(y.Tooltip=a),y}function v9(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function y9(e,t){var r=v9(e);return r[3]=0,r}function zo(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Qne(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function eie(e,t,r){return t===0?"":kf(e,t,r)}function tie(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function x9(e){var t=e.read_shift(2),r=J2(e);return[t,r]}function rie(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=Cm(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function O1(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function _9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var nie=_9;function b9(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function iie(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function aie(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Li(e){e.l+=2,e.l+=e.read_shift(2)}var sie={0:Li,4:Li,5:Li,6:Li,7:aie,8:Li,9:Li,10:Li,11:Li,12:Li,13:iie,14:Li,15:Li,16:Li,17:Li,18:Li,19:Li,20:Li,21:b9};function oie(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(sie[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Pv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function lie(e,t){return t===0||e.read_shift(2),1200}function cie(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=kf(e,0,r);return e.read_shift(t+n-e.l),i}function uie(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function fie(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Cm(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function die(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0;s!=i&&e.l<r;++s)a.push(Kne(e));return a.Count=n,a.Unique=i,a}function hie(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function pie(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function mie(e){var t=Qne(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function gie(e){return e.read_shift(2),e.read_shift(4)}function G4(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function vie(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function yie(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function xie(){}function _ie(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Cm(e,0,r),n}function bie(e){var t=zo(e);return t.isst=e.read_shift(4),t}function wie(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=zo(e);r.biff==2&&e.l++;var a=Nm(e,n-e.l,r);return i.val=a,i}function Eie(e,t,r){var n=e.read_shift(2),i=kf(e,0,r);return[n,i]}var Tie=kf;function q4(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:s,c}}}function Sie(e){var t=e.read_shift(2),r=e.read_shift(2),n=x9(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Aie(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(x9(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function Cie(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function Nie(e,t,r,n){var i={},a=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return i.patternType=Sne[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function kie(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Nie(e,t,n.fStyle,r),n}function Iie(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function K4(e,t,r){var n=zo(e);(r.biff==2||t==9)&&++e.l;var i=qne(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function Pie(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=zo(e),i=zi(e);return n.val=i,n}var W4=eie;function Rie(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=cf(e,a),o=[];n>e.l;)o.push(Nm(e));return[a,i,s,o]}function Y4(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=rie(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var Oie=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function J4(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=cf(e,s,r);i&32&&(u=Oie[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var p=n==e.l||o===0||!(d>0)?[]:ple(e,d,r,o);return{chKey:a,Name:u,itab:c,rgce:p}}function w9(e,t,r){if(r.biff<8)return Mie(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(tie(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function Mie(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Cm(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Die(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=cf(e,n,r),s=cf(e,i,r);return[a,s]}function Lie(e,t,r){var n=_9(e);e.l++;var i=e.read_shift(1);return t-=8,[mle(e,t,r),i,n]}function X4(e,t,r){var n=nie(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,dle(e,t,r)]}function Fie(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function jie(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=kf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},o,s,a]}}function Uie(e,t,r){return jie(e,t,r)}function Bie(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(O1(e));return r}function Vie(e,t,r){if(r&&r.biff<8)return $ie(e,t,r);var n=b9(e),i=oie(e,t-22,n[1]);return{cmo:n,ft:i}}var zie={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function $ie(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((zie[n]||Yi)(e,t,r)),{cmo:[i,n,a],ft:s}}function Hie(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:s=Wne(e,6,r);var o=e.read_shift(2);e.read_shift(2),Un(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],p=cf(e,e.lens[u+1]-e.lens[u]-1);if(i+=p,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function Gie(e,t){var r=O1(e);e.l+=16;var n=Zne(e,t-24);return[r,n]}function qie(e,t){e.read_shift(2);var r=O1(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(ua,""),[r,n]}function Kie(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=B4[r]||r,r=e.read_shift(2),t[1]=B4[r]||r,t}function Wie(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(y9(e));return r}function Yie(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(y9(e));return r}function Jie(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function E9(e,t,r){if(!r.cellStyles)return Yi(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Xie(e,t){var r={};return t<32||(e.l+=16,r.header=zi(e),r.footer=zi(e),e.l+=2),r}function Zie(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var Qie=zo,eae=g9,tae=Nm;function rae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function nae(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=zo(e);++e.l;var i=kf(e,t-7,r);return n.t="str",n.val=i,n}function iae(e){var t=zo(e);++e.l;var r=zi(e);return t.t="n",t.val=r,t}function aae(e){var t=zo(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function sae(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function oae(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function lae(e,t,r){var n=e.l+t,i=zo(e),a=e.read_shift(2),s=cf(e,a,r);return e.l=n,i.t="str",i.val=s,i}var cae=[2,3,48,49,131,139,140,245],Z4=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=V2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=$c(1);switch(c.type){case"base64":d=qs(Ja(o));break;case"binary":d=qs(o);break;case"buffer":case"array":d=o;break}ki(d,0);var p=d.read_shift(1),m=!!(p&136),y=!1,_=!1;switch(p){case 2:break;case 3:break;case 48:y=!0,m=!0;break;case 49:y=!0,m=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,E=521;p==2&&(b=d.read_shift(2)),d.l+=3,p!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(E=d.read_shift(2));var A=d.read_shift(2),L=c.codepage||1252;p!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(L=e[d[d.l]]),d.l+=1,d.l+=2),_&&(d.l+=36);for(var I=[],O={},D=Math.min(d.length,p==2?521:E-10-(y?264:0)),M=_?32:11;d.l<D&&d[d.l]!=13;)switch(O={},O.name=zp.utils.decode(L,d.slice(d.l,d.l+M)).replace(/[\u0000\r\n].*$/g,""),d.l+=M,O.type=String.fromCharCode(d.read_shift(1)),p!=2&&!_&&(O.offset=d.read_shift(4)),O.len=d.read_shift(1),p==2&&(O.offset=d.read_shift(2)),O.dec=d.read_shift(1),O.name.length&&I.push(O),p!=2&&(d.l+=_?13:14),O.type){case"B":(!y||O.len!=8)&&c.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(d[d.l]!==13&&(d.l=E-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=E;var N=0,k=0;for(u[0]=[],k=0;k!=I.length;++k)u[0][k]=I[k].name;for(;b-- >0;){if(d[d.l]===42){d.l+=A;continue}for(++d.l,u[++N]=[],k=0,k=0;k!=I.length;++k){var P=d.slice(d.l,d.l+I[k].len);d.l+=I[k].len,ki(P,0);var U=zp.utils.decode(L,P);switch(I[k].type){case"C":U.trim().length&&(u[N][k]=U.replace(/\s+$/,""));break;case"D":U.length===8?u[N][k]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):u[N][k]=U;break;case"F":u[N][k]=parseFloat(U.trim());break;case"+":case"I":u[N][k]=_?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":u[N][k]=!0;break;case"N":case"F":u[N][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[N][k]="##MEMO##"+(_?parseInt(U.trim(),10):P.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(u[N][k]=+U||0);break;case"@":u[N][k]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[N][k]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[N][k]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][k]=-P.read_shift(-8,"f");break;case"B":if(y&&I[k].len==8){u[N][k]=P.read_shift(8,"f");break}case"G":case"P":P.l+=I[k].len;break;case"0":if(I[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[k].type)}}}if(p!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=I,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Sh(r(o,u),u);return d["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,d}function i(o,c){try{return iu(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&Js(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=_S(),p=kS(o,{header:1,raw:!0,cellDates:!0}),m=p[0],y=p.slice(1),_=o["!cols"]||[],b=0,E=0,A=0,L=1;for(b=0;b<m.length;++b){if(((_[b]||{}).DBF||{}).name){m[b]=_[b].DBF.name,++A;continue}if(m[b]!=null){if(++A,typeof m[b]=="number"&&(m[b]=m[b].toString(10)),typeof m[b]!="string")throw new Error("DBF Invalid column name "+m[b]+" |"+typeof m[b]+"|");if(m.indexOf(m[b])!==b){for(E=0;E<1024;++E)if(m.indexOf(m[b]+"_"+E)==-1){m[b]+="_"+E;break}}}}var I=mn(o["!ref"]),O=[],D=[],M=[];for(b=0;b<=I.e.c-I.s.c;++b){var N="",k="",P=0,U=[];for(E=0;E<y.length;++E)y[E][b]!=null&&U.push(y[E][b]);if(U.length==0||m[b]==null){O[b]="?";continue}for(E=0;E<U.length;++E){switch(typeof U[E]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=U[E]instanceof Date?"D":"C";break;default:k="C"}P=Math.max(P,String(U[E]).length),N=N&&N!=k?"C":k}P>250&&(P=250),k=((_[b]||{}).DBF||{}).type,k=="C"&&_[b].DBF.len>P&&(P=_[b].DBF.len),N=="B"&&k=="N"&&(N="N",M[b]=_[b].DBF.dec,P=_[b].DBF.len),D[b]=N=="C"||k=="N"?P:a[N]||0,L+=D[b],O[b]=N}var B=d.next(32);for(B.write_shift(4,318902576),B.write_shift(4,y.length),B.write_shift(2,296+32*A),B.write_shift(2,L),b=0;b<4;++b)B.write_shift(4,0);for(B.write_shift(4,0|(+t[wU]||3)<<8),b=0,E=0;b<m.length;++b)if(m[b]!=null){var F=d.next(32),H=(m[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,H,"sbcs"),F.write_shift(1,O[b]=="?"?"C":O[b],"sbcs"),F.write_shift(4,E),F.write_shift(1,D[b]||a[O[b]]||0),F.write_shift(1,M[b]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),E+=D[b]||a[O[b]]||0}var fe=d.next(264);for(fe.write_shift(4,13),b=0;b<65;++b)fe.write_shift(4,0);for(b=0;b<y.length;++b){var pe=d.next(L);for(pe.write_shift(1,0),E=0;E<m.length;++E)if(m[E]!=null)switch(O[E]){case"L":pe.write_shift(1,y[b][E]==null?63:y[b][E]?84:70);break;case"B":pe.write_shift(8,y[b][E]||0,"f");break;case"N":var re="0";for(typeof y[b][E]=="number"&&(re=y[b][E].toFixed(M[E]||0)),A=0;A<D[E]-re.length;++A)pe.write_shift(1,32);pe.write_shift(1,re,"sbcs");break;case"D":y[b][E]?(pe.write_shift(4,("0000"+y[b][E].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(y[b][E].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+y[b][E].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(y[b][E]!=null?y[b][E]:"").slice(0,D[E]);for(pe.write_shift(1,ue,"sbcs"),A=0;A<D[E]-ue.length;++A)pe.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),uae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Do(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,y){var _=e[y];return typeof _=="number"?p4(_):_},n=function(m,y,_){var b=y.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return b==59?m:p4(b)};e["|"]=254;function i(m,y){switch(y.type){case"base64":return a(Ja(m),y);case"binary":return a(m,y);case"buffer":return a(tr&&Buffer.isBuffer(m)?m.toString("binary"):Sf(m),y);case"array":return a(lf(m),y)}throw new Error("Unrecognized type "+y.type)}function a(m,y){var _=m.split(/[\n\r]+/),b=-1,E=-1,A=0,L=0,I=[],O=[],D=null,M={},N=[],k=[],P=[],U=0,B;for(+y.codepage>=0&&Js(+y.codepage);A!==_.length;++A){U=0;var F=_[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=F.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),fe=H[0],pe;if(F.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&O.push(F.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,ue=!1,ce=!1,ie=!1,xe=-1,J=-1;for(L=1;L<H.length;++L)switch(H[L].charAt(0)){case"A":break;case"X":E=parseInt(H[L].slice(1))-1,ue=!0;break;case"Y":for(b=parseInt(H[L].slice(1))-1,ue||(E=0),B=I.length;B<=b;++B)I[B]=[];break;case"K":pe=H[L].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(eo(pe))?isNaN(ih(pe).getDate())||(pe=fi(pe)):(pe=eo(pe),D!==null&&Eh(D)&&(pe=R1(pe))),re=!0;break;case"E":ie=!0;var V=qd(H[L].slice(1),{r:b,c:E});I[b][E]=[I[b][E],V];break;case"S":ce=!0,I[b][E]=[I[b][E],"S5S"];break;case"G":break;case"R":xe=parseInt(H[L].slice(1))-1;break;case"C":J=parseInt(H[L].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+F)}if(re&&(I[b][E]&&I[b][E].length==2?I[b][E][0]=pe:I[b][E]=pe,D=null),ce){if(ie)throw new Error("SYLK shared formula cannot have own formula");var ee=xe>-1&&I[xe][J];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");I[b][E][1]=O9(ee[1],{r:b-xe,c:E-J})}break;case"F":var X=0;for(L=1;L<H.length;++L)switch(H[L].charAt(0)){case"X":E=parseInt(H[L].slice(1))-1,++X;break;case"Y":for(b=parseInt(H[L].slice(1))-1,B=I.length;B<=b;++B)I[B]=[];break;case"M":U=parseInt(H[L].slice(1))/20;break;case"F":break;case"G":break;case"P":D=O[parseInt(H[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=H[L].slice(1).split(" "),B=parseInt(P[0],10);B<=parseInt(P[1],10);++B)U=parseInt(P[2],10),k[B-1]=U===0?{hidden:!0}:{wch:U},ah(k[B-1]);break;case"C":E=parseInt(H[L].slice(1))-1,k[E]||(k[E]={});break;case"R":b=parseInt(H[L].slice(1))-1,N[b]||(N[b]={}),U>0?(N[b].hpt=U,N[b].hpx=Wp(U)):U===0&&(N[b].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+F)}X<1&&(D=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+F)}}return N.length>0&&(M["!rows"]=N),k.length>0&&(M["!cols"]=k),y&&y.sheetRows&&(I=I.slice(0,y.sheetRows)),[I,M]}function s(m,y){var _=i(m,y),b=_[0],E=_[1],A=Sh(b,y);return Do(E).forEach(function(L){A[L]=E[L]}),A}function o(m,y){return iu(s(m,y),y)}function c(m,y,_,b){var E="C;Y"+(_+1)+";X"+(b+1)+";K";switch(m.t){case"n":E+=m.v||0,m.f&&!m.F&&(E+=";E"+Jse(m.f,{r:_,c:b}));break;case"b":E+=m.v?"TRUE":"FALSE";break;case"e":E+=m.w||m.v;break;case"d":E+='"'+(m.w||m.v)+'"';break;case"s":E+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function u(m,y){y.forEach(function(_,b){var E="F;W"+(b+1)+" "+(b+1)+" ";_.hidden?E+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=ix(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=ax(_.wpx)),typeof _.wch=="number"&&(E+=Math.round(_.wch))),E.charAt(E.length-1)!=" "&&m.push(E)})}function d(m,y){y.forEach(function(_,b){var E="F;";_.hidden?E+="M0;":_.hpt?E+="M"+20*_.hpt+";":_.hpx&&(E+="M"+20*I9(_.hpx)+";"),E.length>2&&m.push(E+"R"+(b+1))})}function p(m,y){var _=["ID;PWXL;N;E"],b=[],E=mn(m["!ref"]),A,L=Array.isArray(m),I=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),m["!cols"]&&u(_,m["!cols"]),m["!rows"]&&d(_,m["!rows"]),_.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var O=E.s.r;O<=E.e.r;++O)for(var D=E.s.c;D<=E.e.c;++D){var M=Rt({r:O,c:D});A=L?(m[O]||[])[D]:m[M],!(!A||A.v==null&&(!A.f||A.F))&&b.push(c(A,m,O,D))}return _.join(I)+I+b.join(I)+I+"E"+I}return{to_workbook:o,to_sheet:s,from_sheet:p}})(),fae=(function(){function e(a,s){switch(s.type){case"base64":return t(Ja(a),s);case"binary":return t(a,s);case"buffer":return t(tr&&Buffer.isBuffer(a)?a.toString("binary"):Sf(a),s);case"array":return t(lf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),c=-1,u=-1,d=0,p=[];d!==o.length;++d){if(o[d].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var m=o[d].trim().split(","),y=m[0],_=m[1];++d;for(var b=o[d]||"";(b.match(/["]/g)||[]).length&1&&d<o.length-1;)b+=`
`+o[++d];switch(b=b.trim(),+y){case-1:if(b==="BOT"){p[++c]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[c][u]=!0:b==="FALSE"?p[c][u]=!1:isNaN(eo(_))?isNaN(ih(_).getDate())?p[c][u]=_:p[c][u]=fi(_):p[c][u]=eo(_),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[c][u++]=b!==""?b:null;break}if(b==="EOD")break}}return s&&s.sheetRows&&(p=p.slice(0,s.sheetRows)),p}function r(a,s){return Sh(e(a,s),s)}function n(a,s){return iu(r(a,s),s)}var i=(function(){var a=function(c,u,d,p,m){c.push(u),c.push(d+","+p),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,d,p){c.push(u+","+d),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],d=mn(c["!ref"]),p,m=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var y=d.s.r;y<=d.e.r;++y){s(u,-1,0,"BOT");for(var _=d.s.c;_<=d.e.c;++_){var b=Rt({r:y,c:_});if(p=m?(c[y]||[])[_]:c[b],!p){s(u,1,0,"");continue}switch(p.t){case"n":var E=p.w;!E&&p.v!=null&&(E=p.v),E==null?p.f&&!p.F?s(u,1,0,"="+p.f):s(u,1,0,""):s(u,0,E,"V");break;case"b":s(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Ts(p.z||jt[14],fa(fi(p.v)))),s(u,0,p.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var A=`\r
`,L=u.join(A);return L}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),dae=(function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,m){for(var y=p.split(`
`),_=-1,b=-1,E=0,A=[];E!==y.length;++E){var L=y[E].trim().split(":");if(L[0]==="cell"){var I=la(L[1]);if(A.length<=I.r)for(_=A.length;_<=I.r;++_)A[_]||(A[_]=[]);switch(_=I.r,b=I.c,L[2]){case"t":A[_][b]=e(L[3]);break;case"v":A[_][b]=+L[3];break;case"vtf":var O=L[L.length-1];case"vtc":L[3]==="nl"?A[_][b]=!!+L[4]:A[_][b]=+L[4],L[2]=="vtf"&&(A[_][b]=[A[_][b],O])}}}return m&&m.sheetRows&&(A=A.slice(0,m.sheetRows)),A}function n(p,m){return Sh(r(p,m),m)}function i(p,m){return iu(n(p,m),m)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var m=[],y=[],_,b="",E=Th(p["!ref"]),A=Array.isArray(p),L=E.s.r;L<=E.e.r;++L)for(var I=E.s.c;I<=E.e.c;++I)if(b=Rt({r:L,c:I}),_=A?(p[L]||[])[I]:p[b],!(!_||_.v==null||_.t==="z")){switch(y=["cell",b,"t"],_.t){case"s":case"str":y.push(t(_.v));break;case"n":_.f?(y[2]="vtf",y[3]="n",y[4]=_.v,y[5]=t(_.f)):(y[2]="v",y[3]=_.v);break;case"b":y[2]="vt"+(_.f?"f":"c"),y[3]="nl",y[4]=_.v?"1":"0",y[5]=t(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var O=fa(fi(_.v));y[2]="vtc",y[3]="nd",y[4]=""+O,y[5]=_.w||Ts(_.z||jt[14],O);break;case"e":continue}m.push(y.join(":"))}return m.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(p){return[a,s,o,s,u(p),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),qp=(function(){function e(d,p,m,y,_){_.raw?p[m][y]=d:d===""||(d==="TRUE"?p[m][y]=!0:d==="FALSE"?p[m][y]=!1:isNaN(eo(d))?isNaN(ih(d).getDate())?p[m][y]=d:p[m][y]=fi(d):p[m][y]=eo(d))}function t(d,p){var m=p||{},y=[];if(!d||d.length===0)return y;for(var _=d.split(/[\r\n]/),b=_.length-1;b>=0&&_[b].length===0;)--b;for(var E=10,A=0,L=0;L<=b;++L)A=_[L].indexOf(" "),A==-1?A=_[L].length:A++,E=Math.max(E,A);for(L=0;L<=b;++L){y[L]=[];var I=0;for(e(_[L].slice(0,E).trim(),y,L,I,m),I=1;I<=(_[L].length-E)/10+1;++I)e(_[L].slice(E+(I-1)*10,E+I*10).trim(),y,L,I,m)}return m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var p={},m=!1,y=0,_=0;y<d.length;++y)(_=d.charCodeAt(y))==34?m=!m:!m&&_ in r&&(p[_]=(p[_]||0)+1);_=[];for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&_.push([p[y],y]);if(!_.length){p=n;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&_.push([p[y],y])}return _.sort(function(b,E){return b[0]-E[0]||n[b[1]]-n[E[1]]}),r[_.pop()[1]]||44}function a(d,p){var m=p||{},y="",_=m.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(y=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(y=d.charAt(4),d=d.slice(6)):y=i(d.slice(0,1024)):m&&m.FS?y=m.FS:y=i(d.slice(0,1024));var E=0,A=0,L=0,I=0,O=0,D=y.charCodeAt(0),M=!1,N=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=m.dateNF!=null?Ere(m.dateNF):null;function U(){var B=d.slice(I,O),F={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)F.t="z";else if(m.raw)F.t="s",F.v=B;else if(B.trim().length===0)F.t="s",F.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(F.t="s",F.v=B.slice(2,-1).replace(/""/g,'"')):Zse(B)?(F.t="n",F.f=B.slice(1)):(F.t="s",F.v=B);else if(B=="TRUE")F.t="b",F.v=!0;else if(B=="FALSE")F.t="b",F.v=!1;else if(!isNaN(L=eo(B)))F.t="n",m.cellText!==!1&&(F.w=B),F.v=L;else if(!isNaN(ih(B).getDate())||P&&B.match(P)){F.z=m.dateNF||jt[14];var H=0;P&&B.match(P)&&(B=Tre(B,m.dateNF,B.match(P)||[]),H=1),m.cellDates?(F.t="d",F.v=fi(B,H)):(F.t="n",F.v=fa(fi(B,H))),m.cellText!==!1&&(F.w=Ts(F.z,F.v instanceof Date?fa(F.v):F.v)),m.cellNF||delete F.z}else F.t="s",F.v=B;if(F.t=="z"||(m.dense?(_[E]||(_[E]=[]),_[E][A]=F):_[Rt({c:A,r:E})]=F),I=O+1,k=d.charCodeAt(I),b.e.c<A&&(b.e.c=A),b.e.r<E&&(b.e.r=E),N==D)++A;else if(A=0,++E,m.sheetRows&&m.sheetRows<=E)return!0}e:for(;O<d.length;++O)switch(N=d.charCodeAt(O)){case 34:k===34&&(M=!M);break;case D:case 10:case 13:if(!M&&U())break e;break}return O-I>0&&U(),_["!ref"]=sr(b),_}function s(d,p){return!(p&&p.PRN)||p.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,p):Sh(t(d,p),p)}function o(d,p){var m="",y=p.type=="string"?[0,0,0,0]:sC(d,p);switch(p.type){case"base64":m=Ja(d);break;case"binary":m=d;break;case"buffer":p.codepage==65001?m=d.toString("utf8"):p.codepage&&typeof zp<"u"||(m=tr&&Buffer.isBuffer(d)?d.toString("binary"):Sf(d));break;case"array":m=lf(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+p.type)}return y[0]==239&&y[1]==187&&y[2]==191?m=$r(m.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?m=$r(m):p.type=="binary"&&typeof zp<"u",m.slice(0,19)=="socialcalc:version:"?dae.to_sheet(p.type=="string"?m:$r(m),p):s(m,p)}function c(d,p){return iu(o(d,p),p)}function u(d){for(var p=[],m=mn(d["!ref"]),y,_=Array.isArray(d),b=m.s.r;b<=m.e.r;++b){for(var E=[],A=m.s.c;A<=m.e.c;++A){var L=Rt({r:b,c:A});if(y=_?(d[b]||[])[A]:d[L],!y||y.v==null){E.push("          ");continue}for(var I=(y.w||(Sl(y),y.w)||"").slice(0,10);I.length<10;)I+=" ";E.push(I+(A===0?" ":""))}p.push(E.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})();function hae(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=uae.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return qp.to_workbook(e,t)}}var wp=(function(){function e(V,ee,X){if(V){ki(V,V.l||0);for(var q=X.Enum||xe;V.l<V.length;){var he=V.read_shift(2),ye=q[he]||q[65535],ke=V.read_shift(2),le=V.l+ke,ge=ye.f&&ye.f(V,ke,X);if(V.l=le,ee(ge,ye,he))return}}}function t(V,ee){switch(ee.type){case"base64":return r(qs(Ja(V)),ee);case"binary":return r(qs(V),ee);case"buffer":case"array":return r(V,ee)}throw"Unsupported type "+ee.type}function r(V,ee){if(!V)return V;var X=ee||{},q=X.dense?[]:{},he="Sheet1",ye="",ke=0,le={},ge=[],De=[],K={s:{r:0,c:0},e:{r:0,c:0}},Ye=X.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)X.Enum=xe,e(V,function(Le,Je,tt){switch(tt){case 0:X.vers=Le,Le>=4096&&(X.qpro=!0);break;case 6:K=Le;break;case 204:Le&&(ye=Le);break;case 222:ye=Le;break;case 15:case 51:X.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:tt==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=X.dateNF||jt[14],X.cellDates&&(Le[1].t="d",Le[1].v=R1(Le[1].v))),X.qpro&&Le[3]>ke&&(q["!ref"]=sr(K),le[he]=q,ge.push(he),q=X.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},ke=Le[3],he=ye||"Sheet"+(ke+1),ye="");var ht=X.dense?(q[Le[0].r]||[])[Le[0].c]:q[Rt(Le[0])];if(ht){ht.t=Le[1].t,ht.v=Le[1].v,Le[1].z!=null&&(ht.z=Le[1].z),Le[1].f!=null&&(ht.f=Le[1].f);break}X.dense?(q[Le[0].r]||(q[Le[0].r]=[]),q[Le[0].r][Le[0].c]=Le[1]):q[Rt(Le[0])]=Le[1];break}},X);else if(V[2]==26||V[2]==14)X.Enum=J,V[2]==14&&(X.qpro=!0,V.l=0),e(V,function(Le,Je,tt){switch(tt){case 204:he=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>ke&&(q["!ref"]=sr(K),le[he]=q,ge.push(he),q=X.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},ke=Le[3],he="Sheet"+(ke+1)),Ye>0&&Le[0].r>=Ye)break;X.dense?(q[Le[0].r]||(q[Le[0].r]=[]),q[Le[0].r][Le[0].c]=Le[1]):q[Rt(Le[0])]=Le[1],K.e.c<Le[0].c&&(K.e.c=Le[0].c),K.e.r<Le[0].r&&(K.e.r=Le[0].r);break;case 27:Le[14e3]&&(De[Le[14e3][0]]=Le[14e3][1]);break;case 1537:De[Le[0]]=Le[1],Le[0]==ke&&(he=Le[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(q["!ref"]=sr(K),le[ye||he]=q,ge.push(ye||he),!De.length)return{SheetNames:ge,Sheets:le};for(var je={},Ke=[],Ve=0;Ve<De.length;++Ve)le[ge[Ve]]?(Ke.push(De[Ve]||ge[Ve]),je[De[Ve]]=le[De[Ve]]||le[ge[Ve]]):(Ke.push(De[Ve]),je[De[Ve]]={"!ref":"A1"});return{SheetNames:Ke,Sheets:je}}function n(V,ee){var X=ee||{};if(+X.codepage>=0&&Js(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var q=_S(),he=mn(V["!ref"]),ye=Array.isArray(V),ke=[];Gs(q,0,a(1030)),Gs(q,6,c(he));for(var le=Math.min(he.e.r,8191),ge=he.s.r;ge<=le;++ge)for(var De=Ri(ge),K=he.s.c;K<=he.e.c;++K){ge===he.s.r&&(ke[K]=Jn(K));var Ye=ke[K]+De,je=ye?(V[ge]||[])[K]:V[Ye];if(!(!je||je.t=="z"))if(je.t=="n")(je.v|0)==je.v&&je.v>=-32768&&je.v<=32767?Gs(q,13,y(ge,K,je.v)):Gs(q,14,b(ge,K,je.v));else{var Ke=Sl(je);Gs(q,15,p(ge,K,Ke.slice(0,239)))}}return Gs(q,1),q.end()}function i(V,ee){var X=ee||{};if(+X.codepage>=0&&Js(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var q=_S();Gs(q,0,s(V));for(var he=0,ye=0;he<V.SheetNames.length;++he)(V.Sheets[V.SheetNames[he]]||{})["!ref"]&&Gs(q,27,ie(V.SheetNames[he],ye++));var ke=0;for(he=0;he<V.SheetNames.length;++he){var le=V.Sheets[V.SheetNames[he]];if(!(!le||!le["!ref"])){for(var ge=mn(le["!ref"]),De=Array.isArray(le),K=[],Ye=Math.min(ge.e.r,8191),je=ge.s.r;je<=Ye;++je)for(var Ke=Ri(je),Ve=ge.s.c;Ve<=ge.e.c;++Ve){je===ge.s.r&&(K[Ve]=Jn(Ve));var Le=K[Ve]+Ke,Je=De?(le[je]||[])[Ve]:le[Le];if(!(!Je||Je.t=="z"))if(Je.t=="n")Gs(q,23,U(je,Ve,ke,Je.v));else{var tt=Sl(Je);Gs(q,22,N(je,Ve,ke,tt.slice(0,239)))}}++ke}}return Gs(q,1),q.end()}function a(V){var ee=Kn(2);return ee.write_shift(2,V),ee}function s(V){var ee=Kn(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var X=0,q=0,he=0,ye=0;ye<V.SheetNames.length;++ye){var ke=V.SheetNames[ye],le=V.Sheets[ke];if(!(!le||!le["!ref"])){++he;var ge=Th(le["!ref"]);X<ge.e.r&&(X=ge.e.r),q<ge.e.c&&(q=ge.e.c)}}return X>8191&&(X=8191),ee.write_shift(2,X),ee.write_shift(1,he),ee.write_shift(1,q),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function o(V,ee,X){var q={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&X.qpro?(q.s.c=V.read_shift(1),V.l++,q.s.r=V.read_shift(2),q.e.c=V.read_shift(1),V.l++,q.e.r=V.read_shift(2),q):(q.s.c=V.read_shift(2),q.s.r=V.read_shift(2),ee==12&&X.qpro&&(V.l+=2),q.e.c=V.read_shift(2),q.e.r=V.read_shift(2),ee==12&&X.qpro&&(V.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(V){var ee=Kn(8);return ee.write_shift(2,V.s.c),ee.write_shift(2,V.s.r),ee.write_shift(2,V.e.c),ee.write_shift(2,V.e.r),ee}function u(V,ee,X){var q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(q[0].c=V.read_shift(1),q[3]=V.read_shift(1),q[0].r=V.read_shift(2),V.l+=2):(q[2]=V.read_shift(1),q[0].c=V.read_shift(2),q[0].r=V.read_shift(2)),q}function d(V,ee,X){var q=V.l+ee,he=u(V,ee,X);if(he[1].t="s",X.vers==20768){V.l++;var ye=V.read_shift(1);return he[1].v=V.read_shift(ye,"utf8"),he}return X.qpro&&V.l++,he[1].v=V.read_shift(q-V.l,"cstr"),he}function p(V,ee,X){var q=Kn(7+X.length);q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(1,39);for(var he=0;he<q.length;++he){var ye=X.charCodeAt(he);q.write_shift(1,ye>=128?95:ye)}return q.write_shift(1,0),q}function m(V,ee,X){var q=u(V,ee,X);return q[1].v=V.read_shift(2,"i"),q}function y(V,ee,X){var q=Kn(7);return q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(2,X,"i"),q}function _(V,ee,X){var q=u(V,ee,X);return q[1].v=V.read_shift(8,"f"),q}function b(V,ee,X){var q=Kn(13);return q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(8,X,"f"),q}function E(V,ee,X){var q=V.l+ee,he=u(V,ee,X);if(he[1].v=V.read_shift(8,"f"),X.qpro)V.l=q;else{var ye=V.read_shift(2);O(V.slice(V.l,V.l+ye),he),V.l+=ye}return he}function A(V,ee,X){var q=ee&32768;return ee&=-32769,ee=(q?V:0)+(ee>=8192?ee-16384:ee),(q?"":"$")+(X?Jn(ee):Ri(ee))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(V,ee){ki(V,0);for(var X=[],q=0,he="",ye="",ke="",le="";V.l<V.length;){var ge=V[V.l++];switch(ge){case 0:X.push(V.read_shift(8,"f"));break;case 1:ye=A(ee[0].c,V.read_shift(2),!0),he=A(ee[0].r,V.read_shift(2),!1),X.push(ye+he);break;case 2:{var De=A(ee[0].c,V.read_shift(2),!0),K=A(ee[0].r,V.read_shift(2),!1);ye=A(ee[0].c,V.read_shift(2),!0),he=A(ee[0].r,V.read_shift(2),!1),X.push(De+K+":"+ye+he)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(V.read_shift(2));break;case 6:{for(var Ye="";ge=V[V.l++];)Ye+=String.fromCharCode(ge);X.push('"'+Ye.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:le=X.pop(),ke=X.pop(),X.push(["AND","OR"][ge-20]+"("+ke+","+le+")");break;default:if(ge<32&&I[ge])le=X.pop(),ke=X.pop(),X.push(ke+I[ge]+le);else if(L[ge]){if(q=L[ge][1],q==69&&(q=V[V.l++]),q>X.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+X.join("|")+"|");return}var je=X.slice(-q);X.length-=q,X.push(L[ge][0]+"("+je.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}X.length==1?ee[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function D(V){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=V.read_shift(2),ee[3]=V[V.l++],ee[0].c=V[V.l++],ee}function M(V,ee){var X=D(V);return X[1].t="s",X[1].v=V.read_shift(ee-4,"cstr"),X}function N(V,ee,X,q){var he=Kn(6+q.length);he.write_shift(2,V),he.write_shift(1,X),he.write_shift(1,ee),he.write_shift(1,39);for(var ye=0;ye<q.length;++ye){var ke=q.charCodeAt(ye);he.write_shift(1,ke>=128?95:ke)}return he.write_shift(1,0),he}function k(V,ee){var X=D(V);X[1].v=V.read_shift(2);var q=X[1].v>>1;if(X[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return X[1].v=q,X}function P(V,ee){var X=D(V),q=V.read_shift(4),he=V.read_shift(4),ye=V.read_shift(2);if(ye==65535)return q===0&&he===3221225472?(X[1].t="e",X[1].v=15):q===0&&he===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var ke=ye&32768;return ye=(ye&32767)-16446,X[1].v=(1-ke*2)*(he*Math.pow(2,ye+32)+q*Math.pow(2,ye)),X}function U(V,ee,X,q){var he=Kn(14);if(he.write_shift(2,V),he.write_shift(1,X),he.write_shift(1,ee),q==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var ye=0,ke=0,le=0,ge=0;return q<0&&(ye=1,q=-q),ke=Math.log2(q)|0,q/=Math.pow(2,ke-31),ge=q>>>0,(ge&2147483648)==0&&(q/=2,++ke,ge=q>>>0),q-=ge,ge|=2147483648,ge>>>=0,q*=Math.pow(2,32),le=q>>>0,he.write_shift(4,le),he.write_shift(4,ge),ke+=16383+(ye?32768:0),he.write_shift(2,ke),he}function B(V,ee){var X=P(V);return V.l+=ee-14,X}function F(V,ee){var X=D(V),q=V.read_shift(4);return X[1].v=q>>6,X}function H(V,ee){var X=D(V),q=V.read_shift(8,"f");return X[1].v=q,X}function fe(V,ee){var X=H(V);return V.l+=ee-10,X}function pe(V,ee){return V[V.l+ee-1]==0?V.read_shift(ee,"cstr"):""}function re(V,ee){var X=V[V.l++];X>ee-1&&(X=ee-1);for(var q="";q.length<X;)q+=String.fromCharCode(V[V.l++]);return q}function ue(V,ee,X){if(!(!X.qpro||ee<21)){var q=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var he=V.read_shift(ee-21,"cstr");return[q,he]}}function ce(V,ee){for(var X={},q=V.l+ee;V.l<q;){var he=V.read_shift(2);if(he==14e3){for(X[he]=[0,""],X[he][0]=V.read_shift(2);V[V.l];)X[he][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return X}function ie(V,ee){var X=Kn(5+V.length);X.write_shift(2,14e3),X.write_shift(2,ee);for(var q=0;q<V.length;++q){var he=V.charCodeAt(q);X[X.l++]=he>127?95:he}return X[X.l++]=0,X}var xe={0:{n:"BOF",f:Un},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}})();function pae(e){var t={},r=e.match(Ji),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=Ct(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=L2[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var mae=(function(){var e=Hp("t"),t=Hp("rPr");function r(a){var s=a.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:or(s[1])},c=a.match(t);return c&&(o.s=pae(c[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),gae=(function(){var t=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),vae=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,yae=/<(?:\w+:)?r>/,xae=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Q2(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=or($r(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=$r(e),r&&(n.h=$2(n.t))):e.match(yae)&&(n.r=$r(e),n.t=or($r((e.replace(xae,"").match(vae)||[]).join("").replace(Ji,""))),r&&(n.h=gae(mae(n.r)))),n):{t:""}}var _ae=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,bae=/<(?:\w+:)?(?:si|sstItem)>/g,wae=/<\/(?:\w+:)?(?:si|sstItem)>/;function Eae(e,t){var r=[],n="";if(!e)return r;var i=e.match(_ae);if(i){n=i[2].replace(bae,"").split(wae);for(var a=0;a!=n.length;++a){var s=Q2(n[a].trim(),t);s!=null&&(r[r.length]=s)}i=Ct(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function Tae(e){return[e.read_shift(4),e.read_shift(4)]}function Sae(e,t){var r=[],n=!1;return Fl(e,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function T9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function _l(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Aae(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=_l(e,4),t.U=_l(e,4),t.W=_l(e,4),t}function Cae(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Nae(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Cae(e));return t}function kae(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Iae(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=_l(e,4),t.U=_l(e,4),t.W=_l(e,4),t}function Pae(e){var t=Iae(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function S9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function A9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Rae(e){var t=_l(e);switch(t.Minor){case 2:return[t.Minor,Oae(e)];case 3:return[t.Minor,Mae()];case 4:return[t.Minor,Dae(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Oae(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=S9(e,r),i=A9(e,e.length-e.l);return{t:"Std",h:n,v:i}}function Mae(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Dae(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ji,function(a){var s=Ct(a);switch(Vo(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Lae(e,t){var r={},n=r.EncryptionVersionInfo=_l(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=S9(e,i),t-=i,r.EncryptionVerifier=A9(e,t),r}function Fae(e){var t={},r=t.EncryptionVersionInfo=_l(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function jae(e){var t=0,r,n=T9(e),i=n.length+1,a,s,o,c,u;for(r=$c(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=(t&16384)===0?0:1,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var C9=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],p=0;p!=7;++p)d&64&&(o^=r[c]),d*=2,--c;return o};return function(s){for(var o=T9(s),c=a(o),u=o.length,d=$c(16),p=0;p!=16;++p)d[p]=0;var m,y,_;for((u&1)===1&&(m=c>>8,d[u]=i(e[0],m),--u,m=c&255,y=o[o.length-1],d[u]=i(y,m));u>0;)--u,m=c>>8,d[u]=i(o[u],m),--u,m=c&255,d[u]=i(o[u],m);for(u=15,_=15-o.length;_>0;)m=c>>8,d[u]=i(e[_],m),--u,--_,m=c&255,d[u]=i(o[u],m),--u,--_;return d}})(),Uae=function(e,t,r,n,i){i||(i=t),n||(n=C9(e));var a,s;for(a=0;a!=t.length;++a)s=t[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},Bae=function(e){var t=0,r=C9(e);return function(n){var i=Uae("",n,t,r);return t=i[1],i[0]}};function Vae(e,t,r,n){var i={key:Un(e),verificationBytes:Un(e)};return r.password&&(i.verifier=jae(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=Bae(r.password)),i}function zae(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Fae(e):n.Data=Lae(e,t),n}function $ae(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?zae(e,t-2,n):Vae(e,r.biff>=8?t:t-2,r,n),n}var Hae=(function(){function e(i,a){switch(a.type){case"base64":return t(Ja(i),a);case"binary":return t(i,a);case"buffer":return t(tr&&Buffer.isBuffer(i)?i.toString("binary"):Sf(i),a);case"array":return t(lf(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,p){Array.isArray(o)&&(o[p]=[]);for(var m=/\\\w+\b/g,y=0,_,b=-1;_=m.exec(d);){switch(_[0]){case"\\cell":var E=d.slice(y,m.lastIndex-_[0].length);if(E[0]==" "&&(E=E.slice(1)),++b,E.length){var A={v:E,t:"s"};Array.isArray(o)?o[p][b]=A:o[Rt({r:p,c:b})]=A}break}y=m.lastIndex}b>u.e.c&&(u.e.c=b)}),o["!ref"]=sr(u),o}function r(i,a){return iu(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=mn(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var p=Rt({r:u,c:d});o=c?(i[u]||[])[d]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Sl(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function Gae(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Kp(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function qae(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),s=i-a;if(s===0)return[0,0,t];var o=0,c=0,u=i+a;switch(c=s/(u>1?2-u:u),i){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,u/2]}function Kae(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=i*o,s[0]+=i,s[1]+=c;break;case 1:c=i*(2-o),s[0]+=c,s[1]+=i;break;case 2:c=i*(o-2),s[1]+=i,s[2]+=c;break;case 3:c=i*(4-o),s[1]+=c,s[2]+=i;break;case 4:c=i*(o-4),s[2]+=i,s[0]+=c;break;case 5:c=i*(6-o),s[2]+=c,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function nx(e,t){if(t===0)return e;var r=qae(Gae(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Kp(Kae(r))}var N9=6,Wae=15,Yae=1,sa=N9;function ix(e){return Math.floor((e+Math.round(128/sa)/256)*sa)}function ax(e){return Math.floor((e-5)/sa*100+.5)/100}function TS(e){return Math.round((e*sa+5)/sa*256)/256}function tE(e){return TS(ax(ix(e)))}function eC(e){var t=Math.abs(e-tE(e)),r=sa;if(t>.005)for(sa=Yae;sa<Wae;++sa)Math.abs(e-tE(e))<=t&&(t=Math.abs(e-tE(e)),r=sa);sa=r}function ah(e){e.width?(e.wpx=ix(e.width),e.wch=ax(e.wpx),e.MDW=sa):e.wpx?(e.wch=ax(e.wpx),e.width=TS(e.wch),e.MDW=sa):typeof e.wch=="number"&&(e.width=TS(e.wch),e.wpx=ix(e.width),e.MDW=sa),e.customWidth&&delete e.customWidth}var Jae=96,k9=Jae;function I9(e){return e*96/k9}function Wp(e){return e*k9/96}var Xae={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Zae(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Ji)||[]).forEach(function(s){var o=Ct(s);switch(Vo(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Qr(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Qr(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function Qae(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Ji)||[]).forEach(function(s){var o=Ct(s);switch(Vo(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function ese(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Ji)||[]).forEach(function(s){var o=Ct(s);switch(Vo(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=$r(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Qr(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Qr(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Qr(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Qr(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Qr(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Qr(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Qr(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=L2[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Qr(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=Ju[i.color.index];i.color.index==81&&(c=Ju[1]),c||(c=Ju[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=nx(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function tse(e,t,r){t.NumberFmt=[];for(var n=Do(jt),i=0;i<n.length;++i)t.NumberFmt[n[i]]=jt[n[i]];var a=e[0].match(Ji);if(a)for(i=0;i<a.length;++i){var s=Ct(a[i]);switch(Vo(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=or($r(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}Yu(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Rv=["numFmtId","fillId","fontId","borderId","xfId"],Ov=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function rse(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Ji)||[]).forEach(function(a){var s=Ct(a),o=0;switch(Vo(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Rv.length;++o)n[Rv[o]]&&(n[Rv[o]]=parseInt(n[Rv[o]],10));for(o=0;o<Ov.length;++o)n[Ov[o]]&&(n[Ov[o]]=Qr(n[Ov[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=Qr(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var nse=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(t))&&tse(p,d,u),(p=o.match(i))&&ese(p,d,c,u),(p=o.match(n))&&Qae(p,d,c,u),(p=o.match(a))&&Zae(p,d,c,u),(p=o.match(r))&&rse(p,d,u),d}})();function ise(e,t){var r=e.read_shift(2),n=Ki(e);return[r,n]}function ase(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=mne(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=pne(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ki(e),n}var sse=Yi;function ose(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var lse=Yi;function cse(e,t,r){var n={};n.NumberFmt=[];for(var i in jt)n.NumberFmt[i]=jt[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return Fl(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],Yu(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=nx(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(d),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(d);else if(u.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var use=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function fse(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ji)||[]).forEach(function(i){var a=Ct(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[use.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function dse(){}function hse(){}var pse=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,mse=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,gse=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function vse(e,t,r){t.themeElements={};var n;[["clrScheme",pse,fse],["fontScheme",mse,dse],["fmtScheme",gse,hse]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var yse=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function P9(e,t){(!e||e.length===0)&&(e=xse());var r,n={};if(!(r=e.match(yse)))throw new Error("themeElements not found in theme");return vse(r[0],n,t),n.raw=e,n}function xse(e,t){var r=[zU];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function _se(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var s;try{s=VU(a,{type:"array"})}catch{return}var o=Ha(s,"theme/theme/theme1.xml",!0);if(o)return P9(o,r)}}function bse(e){return e.read_shift(4)}function wse(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Ese(e,4);break;case 2:t.xclrValue=v9(e);break;case 3:t.xclrValue=bse(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Ese(e,t){return Yi(e,t)}function Tse(e,t){return Yi(e,t)}function Sse(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=wse(e);break;case 6:n[1]=Tse(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Ase(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(Sse(e,r-e.l));return{ixfe:n,ext:a}}function Cse(e,t){t.forEach(function(r){r[0]})}function Nse(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ki(e)}}function kse(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Ise(e){return e.l+=4,e.read_shift(4)!=0}function Pse(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return Fl(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):o==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:a.push(d),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function Rse(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,s;return e.replace(Ji,function(o){var c=Ct(o);switch(Vo(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):a==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function Ose(e){var t=[];if(!e)return t;var r=1;return(e.match(Ji)||[]).forEach(function(n){var i=Ct(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function Mse(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Rt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Dse(e,t,r){var n=[];return Fl(e,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Lse(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Fl(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function Fse(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function Q4(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(s){var o=la(s.ref);if(i?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[s.ref],!a){a={t:"z"},i?e[o.r][o.c]=a:e[s.ref]=a;var c=mn(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=sr(c);u!==e["!ref"]&&(e["!ref"]=u)}a.c||(a.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var p=a.c.length-1;p>=0;--p){if(!r&&a.c[p].T)return;r&&!a.c[p].T&&a.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(d.a==n[p].id){d.a=n[p].name||d.a;break}}a.c.push(d)})}function jse(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Ct(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=la(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var p=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!p&&!!p[1]&&Q2(p[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function Use(e,t){var r=[],n=!1,i={},a=0;return e.replace(Ji,function(o,c){var u=Ct(o);switch(Vo(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=c+o.length;break;case"</text>":i.t=e.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function Bse(e,t){var r=[],n=!1;return e.replace(Ji,function(a){var s=Ct(a);switch(Vo(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function Vse(e){var t={};t.iauthor=e.read_shift(4);var r=Cf(e);return t.rfx=r.s,t.ref=Rt(r.s),e.l+=16,t}var zse=Ki;function $se(e,t){var r=[],n=[],i={},a=!1;return Fl(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var Hse="application/vnd.ms-office.vbaProject";function Gse(e){var t=ar.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ar.utils.cfb_add(t,i,e.FileIndex[n].content)}}),ar.write(t)}function qse(){return{"!type":"dialog"}}function Kse(){return{"!type":"dialog"}}function Wse(){return{"!type":"macro"}}function Yse(){return{"!type":"macro"}}var qd=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,i+(o?"":"$")+Jn(d)+(c?"":"$")+Ri(u)}return function(i,a){return t=a,i.replace(e,r)}})(),R9=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Jse=(function(){return function(t,r){return t.replace(R9,function(n,i,a,s,o,c){var u=K2(s)-(a?0:r.c),d=q2(c)-(o?0:r.r),p=d==0?"":o?d+1:"["+d+"]",m=u==0?"":a?u+1:"["+u+"]";return i+"R"+p+"C"+m})}})();function O9(e,t){return e.replace(R9,function(r,n,i,a,s,o){return n+(i=="$"?i+a:Jn(K2(a)+t.c))+(s=="$"?s+o:Ri(q2(o)+t.r))})}function Xse(e,t,r){var n=Th(t),i=n.s,a=la(r),s={r:a.r-i.r,c:a.c-i.c};return O9(e,s)}function Zse(e){return e.length!=1}function eM(e){return e.replace(/_xlfn\./g,"")}function Ln(e){e.l+=1}function Hc(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function M9(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return D9(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=Hc(e),o=Hc(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function D9(e){var t=Hc(e),r=Hc(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Qse(e,t,r){if(r.biff<8)return D9(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=Hc(e),s=Hc(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function L9(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return eoe(e);var n=e.read_shift(r&&r.biff==12?4:2),i=Hc(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function eoe(e){var t=Hc(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function toe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function roe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return noe(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function noe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function ioe(e,t,r){var n=(e[e.l++]&96)>>5,i=M9(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function aoe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=M9(e,a,r);return[n,i,s]}function soe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function ooe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function loe(e,t,r){var n=(e[e.l++]&96)>>5,i=Qse(e,t-1,r);return[n,i]}function coe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function tM(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function uoe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function foe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function doe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function hoe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function poe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function F9(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function moe(e){return e.read_shift(2),F9(e)}function goe(e){return e.read_shift(2),F9(e)}function voe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=L9(e,0,r);return[n,i]}function yoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=roe(e,0,r);return[n,i]}function xoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=L9(e,0,r);return[n,i,a]}function _oe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[ble[i],B9[i],n]}function boe(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:woe(e);return[i,(a[0]===0?B9:_le)[a[1]]]}function woe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Eoe(e,t,r){e.l+=r&&r.biff==2?3:4}function Toe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function Soe(e){return e.l++,Nf[e.read_shift(1)]}function Aoe(e){return e.l++,e.read_shift(2)}function Coe(e){return e.l++,e.read_shift(1)!==0}function Noe(e){return e.l++,zi(e)}function koe(e,t,r){return e.l++,Cm(e,t-1,r)}function Ioe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Sn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Nf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=zi(e);break;case 2:r[1]=kf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Poe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Cf:O1)(e));return i}function Roe(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=Ioe(e,r.biff);return s}function Ooe(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function Moe(e,t,r){if(r.biff==5)return Doe(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function Doe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Loe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function Foe(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function joe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Uoe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var Boe=Yi,Voe=Yi,zoe=Yi;function km(e,t,r){return e.l+=2,[toe(e)]}function tC(e){return e.l+=6,[]}var $oe=km,Hoe=tC,Goe=tC,qoe=km;function j9(e){return e.l+=2,[Un(e),e.read_shift(2)&1]}var Koe=km,Woe=j9,Yoe=tC,Joe=km,Xoe=km,Zoe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Qoe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=Zoe[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function ele(e){return e.l+=2,[e.read_shift(4)]}function tle(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function rle(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function nle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ile(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function ale(e){return e.l+=4,[0,0]}var rM={1:{n:"PtgExp",f:Toe},2:{n:"PtgTbl",f:zoe},3:{n:"PtgAdd",f:Ln},4:{n:"PtgSub",f:Ln},5:{n:"PtgMul",f:Ln},6:{n:"PtgDiv",f:Ln},7:{n:"PtgPower",f:Ln},8:{n:"PtgConcat",f:Ln},9:{n:"PtgLt",f:Ln},10:{n:"PtgLe",f:Ln},11:{n:"PtgEq",f:Ln},12:{n:"PtgGe",f:Ln},13:{n:"PtgGt",f:Ln},14:{n:"PtgNe",f:Ln},15:{n:"PtgIsect",f:Ln},16:{n:"PtgUnion",f:Ln},17:{n:"PtgRange",f:Ln},18:{n:"PtgUplus",f:Ln},19:{n:"PtgUminus",f:Ln},20:{n:"PtgPercent",f:Ln},21:{n:"PtgParen",f:Ln},22:{n:"PtgMissArg",f:Ln},23:{n:"PtgStr",f:koe},26:{n:"PtgSheet",f:tle},27:{n:"PtgEndSheet",f:rle},28:{n:"PtgErr",f:Soe},29:{n:"PtgBool",f:Coe},30:{n:"PtgInt",f:Aoe},31:{n:"PtgNum",f:Noe},32:{n:"PtgArray",f:coe},33:{n:"PtgFunc",f:_oe},34:{n:"PtgFuncVar",f:boe},35:{n:"PtgName",f:Ooe},36:{n:"PtgRef",f:voe},37:{n:"PtgArea",f:ioe},38:{n:"PtgMemArea",f:Loe},39:{n:"PtgMemErr",f:Boe},40:{n:"PtgMemNoMem",f:Voe},41:{n:"PtgMemFunc",f:Foe},42:{n:"PtgRefErr",f:joe},43:{n:"PtgAreaErr",f:soe},44:{n:"PtgRefN",f:yoe},45:{n:"PtgAreaN",f:loe},46:{n:"PtgMemAreaN",f:nle},47:{n:"PtgMemNoMemN",f:ile},57:{n:"PtgNameX",f:Moe},58:{n:"PtgRef3d",f:xoe},59:{n:"PtgArea3d",f:aoe},60:{n:"PtgRefErr3d",f:Uoe},61:{n:"PtgAreaErr3d",f:ooe},255:{}},sle={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ole={1:{n:"PtgElfLel",f:j9},2:{n:"PtgElfRw",f:Joe},3:{n:"PtgElfCol",f:$oe},6:{n:"PtgElfRwV",f:Xoe},7:{n:"PtgElfColV",f:qoe},10:{n:"PtgElfRadical",f:Koe},11:{n:"PtgElfRadicalS",f:Yoe},13:{n:"PtgElfColS",f:Hoe},15:{n:"PtgElfColSV",f:Goe},16:{n:"PtgElfRadicalLel",f:Woe},25:{n:"PtgList",f:Qoe},29:{n:"PtgSxName",f:ele},255:{}},lle={0:{n:"PtgAttrNoop",f:ale},1:{n:"PtgAttrSemi",f:poe},2:{n:"PtgAttrIf",f:doe},4:{n:"PtgAttrChoose",f:uoe},8:{n:"PtgAttrGoto",f:foe},16:{n:"PtgAttrSum",f:Eoe},32:{n:"PtgAttrBaxcel",f:tM},33:{n:"PtgAttrBaxcel",f:tM},64:{n:"PtgAttrSpace",f:moe},65:{n:"PtgAttrSpaceSemi",f:goe},128:{n:"PtgAttrIfError",f:hoe},255:{}};function Im(e,t,r,n){if(n.biff<8)return Yi(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Roe(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Poe(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(Yi(e,t)),a}function Pm(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=rM[a]||rM[sle[a]],(a===24||a===25)&&(i=(a===24?ole:lle)[e[e.l+1]]),!i||!i.f?Yi(e,t):s.push([i.n,i.f(e,t,r)]);return s}function cle(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}t.push(i.join(","))}return t.join(";")}var ule={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fle(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function U9(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function nM(e,t,r){var n=U9(e,t,r);return n=="#REF"?n:fle(n,r)}function Ui(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,p=0,m=0,y,_="";if(!e[0]||!e[0][0])return"";for(var b=-1,E="",A=0,L=e[0].length;A<L;++A){var I=e[0][A];switch(I[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),b>=0){switch(e[0][b][1][0]){case 0:E=hn(" ",e[0][b][1][1]);break;case 1:E=hn("\r",e[0][b][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}u=u+E,b=-1}o.push(u+ule[I[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=yp(I[1][1],s,i),o.push(xp(d,a));break;case"PtgRefN":d=r?yp(I[1][1],r,i):I[1][1],o.push(xp(d,a));break;case"PtgRef3d":p=I[1][1],d=yp(I[1][2],s,i),_=nM(n,p,i),o.push(_+"!"+xp(d,a));break;case"PtgFunc":case"PtgFuncVar":var O=I[1][0],D=I[1][1];O||(O=0),O&=127;var M=O==0?[]:o.slice(-O);o.length-=O,D==="User"&&(D=M.shift()),o.push(D+"("+M.join(",")+")");break;case"PtgBool":o.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(I[1]);break;case"PtgNum":o.push(String(I[1]));break;case"PtgStr":o.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(I[1]);break;case"PtgAreaN":y=F4(I[1][1],r?{s:r}:s,i),o.push(Qw(y,i));break;case"PtgArea":y=F4(I[1][1],s,i),o.push(Qw(y,i));break;case"PtgArea3d":p=I[1][1],y=I[1][2],_=nM(n,p,i),o.push(_+"!"+Qw(y,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=I[1][2];var N=(n.names||[])[m-1]||(n[0]||[])[m],k=N?N.Name:"SH33TJSNAME"+String(m);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var P=I[1][1];m=I[1][2];var U;if(i.biff<=5)P<0&&(P=-P),n[P]&&(U=n[P][m]);else{var B="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][m]&&n[P][m].itab>0&&(B=n.SheetNames[n[P][m].itab-1]+"!"):B=n.SheetNames[m-1]+"!"),n[P]&&n[P][m])B+=n[P][m].Name;else if(n[0]&&n[0][m])B+=n[0][m].Name;else{var F=(U9(n,P,i)||"").split(";;");F[m-1]?B=F[m-1]:B+="SH33TJSERRX"}o.push(B);break}U||(U={Name:"SH33TJSERRY"}),o.push(U.Name);break;case"PtgParen":var H="(",fe=")";if(b>=0){switch(E="",e[0][b][1][0]){case 2:H=hn(" ",e[0][b][1][1])+H;break;case 3:H=hn("\r",e[0][b][1][1])+H;break;case 4:fe=hn(" ",e[0][b][1][1])+fe;break;case 5:fe=hn("\r",e[0][b][1][1])+fe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}o.push(H+o.pop()+fe);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:I[1][1],r:I[1][0]};var pe={c:r.c,r:r.r};if(n.sharedf[Rt(d)]){var re=n.sharedf[Rt(d)];o.push(Ui(re,s,pe,n,i))}else{var ue=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Ui(u[1],s,pe,n,i)),ue=!0;break}ue||o.push(I[1])}break;case"PtgArray":o.push("{"+cle(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&ce.indexOf(e[0][A][0])==-1){I=e[0][b];var ie=!0;switch(I[1][0]){case 4:ie=!1;case 0:E=hn(" ",I[1][1]);break;case 5:ie=!1;case 1:E=hn("\r",I[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}o.push((ie?E:"")+o.pop()+(ie?"":E)),b=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function dle(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],Yi(e,t-2)];var o=Pm(e,s,r);return t!==s+i&&(a=Im(e,t-s-i,o,r)),e.l=n,[o,a]}function hle(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],Yi(e,t-2)];var o=Pm(e,s,r);return t!==s+i&&(a=Im(e,t-s-i,o,r)),e.l=n,[o,a]}function ple(e,t,r,n){var i=e.l+t,a=Pm(e,n,r),s;return i!==e.l&&(s=Im(e,i-e.l,a,r)),[a,s]}function mle(e,t,r){var n=e.l+t,i,a=e.read_shift(2),s=Pm(e,a,r);return a==65535?[[],Yi(e,t-2)]:(t!==a+2&&(i=Im(e,n-a-2,s,r)),[s,i])}function gle(e){var t;if(ml(e,e.l+6)!==65535)return[zi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function rE(e,t,r){var n=e.l+t,i=zo(e);r.biff==2&&++e.l;var a=gle(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=hle(e,n-e.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function M1(e,t,r){var n=e.read_shift(4),i=Pm(e,n,r),a=e.read_shift(4),s=a>0?Im(e,a,i,r):null;return[i,s]}var vle=M1,D1=M1,yle=M1,xle=M1,_le={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},B9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},ble={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function iM(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function nE(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Ep={},Kd={};function Tp(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function V9(e,t,r,n,i,a){try{n.cellNF&&(e.z=jt[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=fi(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(jt[t]==null&&Yu(wre[t]||"General",t),e.t==="e")e.w=e.w||Nf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=$p(e.v);else if(e.t==="d"){var s=fa(e.v);(s|0)===s?e.w=s.toString(10):e.w=$p(s)}else{if(e.v===void 0)return"";e.w=of(e.v,Kd)}else e.t==="d"?e.w=Ts(t,fa(e.v),Kd):e.w=Ts(t,e.v,Kd)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=nx(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=nx(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function wle(e,t){var r=mn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=sr(r))}var Ele=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Tle=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Sle=/<(?:\w:)?hyperlink [^>]*>/mg,Ale=/"(\w*:\w*)"/,Cle=/<(?:\w:)?col\b[^>]*[\/]?>/g,Nle=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,kle=/<(?:\w:)?pageMargins[^>]*\/>/g,z9=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Ile=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Ple=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Rle(e,t,r,n,i,a,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",p=e.match(Tle);p?(u=e.slice(0,p.index),d=e.slice(p.index+p[0].length)):u=d=e;var m=u.match(z9);m?rC(m[0],o,i,r):(m=u.match(Ile))&&Ole(m[0],m[1]||"",o,i,r);var y=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(y>0){var _=u.slice(y,y+50).match(Ale);_&&wle(o,_[1])}var b=u.match(Ple);b&&b[1]&&Ule(b[1],i);var E=[];if(t.cellStyles){var A=u.match(Cle);A&&Lle(E,A)}p&&Ble(p[1],o,t,c,a,s);var L=d.match(Nle);L&&(o["!autofilter"]=Fle(L[0]));var I=[],O=d.match(Ele);if(O)for(y=0;y!=O.length;++y)I[y]=mn(O[y].slice(O[y].indexOf('"')+1));var D=d.match(Sle);D&&Mle(o,D,n);var M=d.match(kle);if(M&&(o["!margins"]=Dle(Ct(M[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=sr(c)),t.sheetRows>0&&o["!ref"]){var N=mn(o["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=sr(N))}return E.length>0&&(o["!cols"]=E),I.length>0&&(o["!merges"]=I),o}function rC(e,t,r,n){var i=Ct(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=or($r(i.codeName)))}function Ole(e,t,r,n,i){rC(e.slice(0,e.indexOf(">")),r,n,i)}function Mle(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=Ct($r(t[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+or(a.location))):(a.Target="#"+or(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=mn(a.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Rt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=a):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=a)}}}function Dle(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Lle(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=Ct(t[n],!0);i.hidden&&(i.hidden=Qr(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,eC(i.width)),ah(i);a<=s;)e[a++]=Pi(i)}}function Fle(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var jle=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Ule(e,t){t.Views||(t.Views=[{}]),(e.match(jle)||[]).forEach(function(r,n){var i=Ct(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),Qr(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var Ble=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=Hp("v"),s=Hp("f");return function(c,u,d,p,m,y){for(var _=0,b="",E=[],A=[],L=0,I=0,O=0,D="",M,N,k=0,P=0,U,B,F=0,H=0,fe=Array.isArray(y.CellXf),pe,re=[],ue=[],ce=Array.isArray(u),ie=[],xe={},J=!1,V=!!d.sheetStubs,ee=c.split(t),X=0,q=ee.length;X!=q;++X){b=ee[X].trim();var he=b.length;if(he!==0){var ye=0;e:for(_=0;_<he;++_)switch(b[_]){case">":if(b[_-1]!="/"){++_;break e}if(d&&d.cellStyles){if(N=Ct(b.slice(ye,_),!0),k=N.r!=null?parseInt(N.r,10):k+1,P=-1,d.sheetRows&&d.sheetRows<k)continue;xe={},J=!1,N.ht&&(J=!0,xe.hpt=parseFloat(N.ht),xe.hpx=Wp(xe.hpt)),N.hidden=="1"&&(J=!0,xe.hidden=!0),N.outlineLevel!=null&&(J=!0,xe.level=+N.outlineLevel),J&&(ie[k-1]=xe)}break;case"<":ye=_;break}if(ye>=_)break;if(N=Ct(b.slice(ye,_),!0),k=N.r!=null?parseInt(N.r,10):k+1,P=-1,!(d.sheetRows&&d.sheetRows<k)){p.s.r>k-1&&(p.s.r=k-1),p.e.r<k-1&&(p.e.r=k-1),d&&d.cellStyles&&(xe={},J=!1,N.ht&&(J=!0,xe.hpt=parseFloat(N.ht),xe.hpx=Wp(xe.hpt)),N.hidden=="1"&&(J=!0,xe.hidden=!0),N.outlineLevel!=null&&(J=!0,xe.level=+N.outlineLevel),J&&(ie[k-1]=xe)),E=b.slice(_).split(e);for(var ke=0;ke!=E.length&&E[ke].trim().charAt(0)=="<";++ke);for(E=E.slice(ke),_=0;_!=E.length;++_)if(b=E[_].trim(),b.length!==0){if(A=b.match(r),L=_,I=0,O=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,A!=null&&A.length===2){for(L=0,D=A[1],I=0;I!=D.length&&!((O=D.charCodeAt(I)-64)<1||O>26);++I)L=26*L+O;--L,P=L}else++P;for(I=0;I!=b.length&&b.charCodeAt(I)!==62;++I);if(++I,N=Ct(b.slice(0,I),!0),N.r||(N.r=Rt({r:k-1,c:P})),D=b.slice(I),M={t:""},(A=D.match(a))!=null&&A[1]!==""&&(M.v=or(A[1])),d.cellFormula){if((A=D.match(s))!=null&&A[1]!==""){if(M.f=or($r(A[1])).replace(/\r\n/g,`
`),d.xlfn||(M.f=eM(M.f)),A[0].indexOf('t="array"')>-1)M.F=(D.match(i)||[])[1],M.F.indexOf(":")>-1&&re.push([mn(M.F),M.F]);else if(A[0].indexOf('t="shared"')>-1){B=Ct(A[0]);var le=or($r(A[1]));d.xlfn||(le=eM(le)),ue[parseInt(B.si,10)]=[B,le,N.r]}}else(A=D.match(/<f[^>]*\/>/))&&(B=Ct(A[0]),ue[B.si]&&(M.f=Xse(ue[B.si][1],ue[B.si][2],N.r)));var ge=la(N.r);for(I=0;I<re.length;++I)ge.r>=re[I][0].s.r&&ge.r<=re[I][0].e.r&&ge.c>=re[I][0].s.c&&ge.c<=re[I][0].e.c&&(M.F=re[I][1])}if(N.t==null&&M.v===void 0)if(M.f||M.F)M.v=0,M.t="n";else if(V)M.t="z";else continue;else M.t=N.t||"n";switch(p.s.c>P&&(p.s.c=P),p.e.c<P&&(p.e.c=P),M.t){case"n":if(M.v==""||M.v==null){if(!V)continue;M.t="z"}else M.v=parseFloat(M.v);break;case"s":if(typeof M.v>"u"){if(!V)continue;M.t="z"}else U=Ep[parseInt(M.v,10)],M.v=U.t,M.r=U.r,d.cellHTML&&(M.h=U.h);break;case"str":M.t="s",M.v=M.v!=null?$r(M.v):"",d.cellHTML&&(M.h=$2(M.v));break;case"inlineStr":A=D.match(n),M.t="s",A!=null&&(U=Q2(A[1]))?(M.v=U.t,d.cellHTML&&(M.h=U.h)):M.v="";break;case"b":M.v=Qr(M.v);break;case"d":d.cellDates?M.v=fi(M.v,1):(M.v=fa(fi(M.v,1)),M.t="n");break;case"e":(!d||d.cellText!==!1)&&(M.w=M.v),M.v=c9[M.v];break}if(F=H=0,pe=null,fe&&N.s!==void 0&&(pe=y.CellXf[N.s],pe!=null&&(pe.numFmtId!=null&&(F=pe.numFmtId),d.cellStyles&&pe.fillId!=null&&(H=pe.fillId))),V9(M,F,H,d,m,y),d.cellDates&&fe&&M.t=="n"&&Eh(jt[F])&&(M.t="d",M.v=R1(M.v)),N.cm&&d.xlmeta){var De=(d.xlmeta.Cell||[])[+N.cm-1];De&&De.type=="XLDAPR"&&(M.D=!0)}if(ce){var K=la(N.r);u[K.r]||(u[K.r]=[]),u[K.r][K.c]=M}else u[N.r]=M}}}}ie.length>0&&(u["!rows"]=ie)}})();function Vle(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var zle=Cf;function $le(){}function Hle(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=dne(e),r}function Gle(e){var t=Is(e);return[t]}function qle(e){var t=Af(e);return[t]}function Kle(e){var t=Is(e),r=e.read_shift(1);return[t,r,"b"]}function Wle(e){var t=Af(e),r=e.read_shift(1);return[t,r,"b"]}function Yle(e){var t=Is(e),r=e.read_shift(1);return[t,r,"e"]}function Jle(e){var t=Af(e),r=e.read_shift(1);return[t,r,"e"]}function Xle(e){var t=Is(e),r=e.read_shift(4);return[t,r,"s"]}function Zle(e){var t=Af(e),r=e.read_shift(4);return[t,r,"s"]}function Qle(e){var t=Is(e),r=zi(e);return[t,r,"n"]}function $9(e){var t=Af(e),r=zi(e);return[t,r,"n"]}function ece(e){var t=Is(e),r=J2(e);return[t,r,"n"]}function tce(e){var t=Af(e),r=J2(e);return[t,r,"n"]}function rce(e){var t=Is(e),r=W2(e);return[t,r,"is"]}function nce(e){var t=Is(e),r=Ki(e);return[t,r,"str"]}function ice(e){var t=Af(e),r=Ki(e);return[t,r,"str"]}function ace(e,t,r){var n=e.l+t,i=Is(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=D1(e,n-e.l,r);s[3]=Ui(o,null,i,r.supbooks,r)}else e.l=n;return s}function sce(e,t,r){var n=e.l+t,i=Is(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=D1(e,n-e.l,r);s[3]=Ui(o,null,i,r.supbooks,r)}else e.l=n;return s}function oce(e,t,r){var n=e.l+t,i=Is(e);i.r=r["!row"];var a=zi(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=D1(e,n-e.l,r);s[3]=Ui(o,null,i,r.supbooks,r)}else e.l=n;return s}function lce(e,t,r){var n=e.l+t,i=Is(e);i.r=r["!row"];var a=Ki(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=D1(e,n-e.l,r);s[3]=Ui(o,null,i,r.supbooks,r)}else e.l=n;return s}var cce=Cf;function uce(e,t){var r=e.l+t,n=Cf(e),i=Y2(e),a=Ki(e),s=Ki(e),o=Ki(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function fce(){}function dce(e,t,r){var n=e.l+t,i=s9(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=vle(e,n-e.l,r);s[1]=o}else e.l=n;return s}function hce(e,t,r){var n=e.l+t,i=Cf(e),a=[i];if(r.cellFormula){var s=xle(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}var pce=["left","right","top","bottom","header","footer"];function mce(e){var t={};return pce.forEach(function(r){t[r]=zi(e)}),t}function gce(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function vce(){}function yce(){}function xce(e,t,r,n,i,a,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,m=!1,y,_,b,E,A,L,I,O,D,M=[];o.biff=12,o["!row"]=0;var N=0,k=!1,P=[],U={},B=o.supbooks||i.supbooks||[[]];if(B.sharedf=U,B.arrayf=P,B.SheetNames=i.SheetNames||i.Sheets.map(function(ce){return ce.name}),!o.supbooks&&(o.supbooks=B,i.Names))for(var F=0;F<i.Names.length;++F)B[0][F+1]=i.Names[F];var H=[],fe=[],pe=!1;sx[16]={n:"BrtShortReal",f:$9};var re;if(Fl(e,function(ie,xe,J){if(!m)switch(J){case 148:u=ie;break;case 0:y=ie,o.sheetRows&&o.sheetRows<=y.r&&(m=!0),O=Ri(E=y.r),o["!row"]=y.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=Wp(ie.hpt)),fe[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:ie[2]},ie[2]){case"n":_.v=ie[1];break;case"s":I=Ep[ie[1]],_.v=I.t,_.r=I.r;break;case"b":_.v=!!ie[1];break;case"e":_.v=ie[1],o.cellText!==!1&&(_.w=Nf[_.v]);break;case"str":_.t="s",_.v=ie[1];break;case"is":_.t="s",_.v=ie[1].t;break}if((b=s.CellXf[ie[0].iStyleRef])&&V9(_,b.numFmtId,null,o,a,s),A=ie[0].c==-1?A+1:ie[0].c,o.dense?(c[E]||(c[E]=[]),c[E][A]=_):c[Jn(A)+O]=_,o.cellFormula){for(k=!1,N=0;N<P.length;++N){var V=P[N];y.r>=V[0].s.r&&y.r<=V[0].e.r&&A>=V[0].s.c&&A<=V[0].e.c&&(_.F=sr(V[0]),k=!0)}!k&&ie.length>3&&(_.f=ie[3])}if(d.s.r>y.r&&(d.s.r=y.r),d.s.c>A&&(d.s.c=A),d.e.r<y.r&&(d.e.r=y.r),d.e.c<A&&(d.e.c=A),o.cellDates&&b&&_.t=="n"&&Eh(jt[b.numFmtId])){var ee=zu(_.v);ee&&(_.t="d",_.v=new Date(ee.y,ee.m-1,ee.d,ee.H,ee.M,ee.S,ee.u))}re&&(re.type=="XLDAPR"&&(_.D=!0),re=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;_={t:"z",v:void 0},A=ie[0].c==-1?A+1:ie[0].c,o.dense?(c[E]||(c[E]=[]),c[E][A]=_):c[Jn(A)+O]=_,d.s.r>y.r&&(d.s.r=y.r),d.s.c>A&&(d.s.c=A),d.e.r<y.r&&(d.e.r=y.r),d.e.c<A&&(d.e.c=A),re&&(re.type=="XLDAPR"&&(_.D=!0),re=void 0);break;case 176:M.push(ie);break;case 49:re=((o.xlmeta||{}).Cell||[])[ie-1];break;case 494:var X=n["!id"][ie.relId];for(X?(ie.Target=X.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=X):ie.relId==""&&(ie.Target="#"+ie.loc),E=ie.rfx.s.r;E<=ie.rfx.e.r;++E)for(A=ie.rfx.s.c;A<=ie.rfx.e.c;++A)o.dense?(c[E]||(c[E]=[]),c[E][A]||(c[E][A]={t:"z",v:void 0}),c[E][A].l=ie):(L=Rt({c:A,r:E}),c[L]||(c[L]={t:"z",v:void 0}),c[L].l=ie);break;case 426:if(!o.cellFormula)break;P.push(ie),D=o.dense?c[E][A]:c[Jn(A)+O],D.f=Ui(ie[1],d,{r:y.r,c:A},B,o),D.F=sr(ie[0]);break;case 427:if(!o.cellFormula)break;U[Rt(ie[0].s)]=ie[1],D=o.dense?c[E][A]:c[Jn(A)+O],D.f=Ui(ie[1],d,{r:y.r,c:A},B,o);break;case 60:if(!o.cellStyles)break;for(;ie.e>=ie.s;)H[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},pe||(pe=!0,eC(ie.w/256)),ah(H[ie.e+1]);break;case 161:c["!autofilter"]={ref:sr(ie)};break;case 476:c["!margins"]=ie;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ie.name&&(i.Sheets[r].CodeName=ie.name),(ie.above||ie.left)&&(c["!outline"]={above:ie.above,left:ie.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ie.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!xe.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=sr(u||d)),o.sheetRows&&c["!ref"]){var ue=mn(c["!ref"]);o.sheetRows<=+ue.e.r&&(ue.e.r=o.sheetRows-1,ue.e.r>d.e.r&&(ue.e.r=d.e.r),ue.e.r<ue.s.r&&(ue.s.r=ue.e.r),ue.e.c>d.e.c&&(ue.e.c=d.e.c),ue.e.c<ue.s.c&&(ue.s.c=ue.e.c),c["!fullref"]=c["!ref"],c["!ref"]=sr(ue))}return M.length>0&&(c["!merges"]=M),H.length>0&&(c["!cols"]=H),fe.length>0&&(c["!rows"]=fe),c}function _ce(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var i=or((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function bce(e,t,r,n,i,a){var s=a||{"!type":"chart"};if(!e)return a;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var m=_ce(p);d.s.r=d.s.c=0,d.e.c=o,u=Jn(o),m[0].forEach(function(y,_){s[u+Ri(_)]={t:"n",v:y,z:m[1]},c=_}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(s["!ref"]=sr(d)),s}function wce(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(z9);return o&&rC(o[0],a,i,r),(s=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function Ece(e,t){e.l+=10;var r=Ki(e);return{name:r}}function Tce(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Fl(e,function(c,u,d){switch(d){case 550:a["!rel"]=c;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),c.name&&(i.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var H9=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Sce=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Ace=[],Cce=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function aM(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=Qr(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function sM(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Qr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function G9(e){sM(e.WBProps,H9),sM(e.CalcPr,Cce),aM(e.WBView,Sce),aM(e.Sheets,Ace),Kd.date1904=Qr(e.WBProps.date1904)}var Nce="][*?/\\".split("");function kce(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Nce.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Ice=/<\w+:workbook/;function Pce(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(e.replace(Ji,function(c,u){var d=Ct(c);switch(Vo(d[0])){case"<?xml":break;case"<workbook":c.match(Ice)&&(i="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":H9.forEach(function(p){if(d[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=Qr(d[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(d[p[0]],10);break;default:r.WBProps[p[0]]=d[p[0]]}}),d.codeName&&(r.WBProps.CodeName=$r(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=or($r(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=$r(d.name),d.comment&&(a.Comment=d.comment),d.localSheetId&&(a.Sheet=+d.localSheetId),Qr(d.hidden||"0")&&(a.Hidden=!0),s=u+c.length;break;case"</definedName>":a.Ref=or($r(e.slice(s,u))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Yre.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return G9(r),r}function Rce(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bS(e),r.name=Ki(e),r}function Oce(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Ki(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Mce(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Dce(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=hne(e),s=yle(e,0,r),o=Y2(e);e.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function Lce(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],sx[16]={n:"BrtFRTArchID$",f:Mce},Fl(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Ui(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(d),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),G9(r),r.Names=a,r.supbooks=s,r}function Fce(e,t,r){return t.slice(-4)===".bin"?Lce(e,r):Pce(e,r)}function jce(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?xce(e,n,r,i,a,s,o):Rle(e,n,r,i,a,s,o)}function Uce(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Tce(e,n,r,i,a):wce(e,n,r,i,a)}function Bce(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Wse():Yse()}function Vce(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?qse():Kse()}function zce(e,t,r,n){return t.slice(-4)===".bin"?cse(e,r,n):nse(e,r,n)}function $ce(e,t,r){return P9(e,r)}function Hce(e,t,r){return t.slice(-4)===".bin"?Sae(e,r):Eae(e,r)}function Gce(e,t,r){return t.slice(-4)===".bin"?$se(e,r):jse(e,r)}function qce(e,t,r){return t.slice(-4)===".bin"?Dse(e):Ose(e)}function Kce(e,t,r,n){return r.slice(-4)===".bin"?Lse(e,t,r,n):void 0}function Wce(e,t,r){return t.slice(-4)===".bin"?Pse(e,t,r):Rse(e,t,r)}var q9=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,K9=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Hs(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(q9),a,s,o,c;if(i)for(c=0;c!=i.length;++c)a=i[c].match(K9),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function Yce(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(q9),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(K9),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var Sp;function Jce(e,t){var r=Sp[e]||or(e);return r==="General"?of(t):Ts(r,t)}function Xce(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Qr(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=fi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[or(t)]=i}function Zce(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Nf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=$p(e.v):e.w=of(e.v):e.w=Jce(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=Sp[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Eh(n)){var i=zu(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function Qce(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Xae[n.Pattern]||n.Pattern)}e[t.ID]=t}function eue(e,t,r,n,i,a,s,o,c,u){var d="General",p=n.StyleID,m={};u=u||{};var y=[],_=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&s&&(p=s.StyleID);a[p]!==void 0&&(a[p].nf&&(d=a[p].nf),a[p].Interior&&y.push(a[p].Interior),!!a[p].Parent);)p=a[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Qr(e);break;case"String":n.t="s",n.r=N4(or(e)),n.v=e.indexOf("<")>-1?or(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(fi(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=or(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=c9[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=N4(t||e));break}if(Zce(n,d,u),u.cellFormula!==!1)if(n.Formula){var b=or(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=qd(b,i),delete n.Formula,n.ArrayRange=="RC"?n.F=qd("RC:RC",i):n.ArrayRange&&(n.F=qd(n.ArrayRange,i),c.push([mn(n.F),n.F]))}else for(_=0;_<c.length;++_)i.r>=c[_][0].s.r&&i.r<=c[_][0].e.r&&i.c>=c[_][0].s.c&&i.c<=c[_][0].e.c&&(n.F=c[_][1]);u.cellStyles&&(y.forEach(function(E){!m.patternType&&E.patternType&&(m.patternType=E.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function tue(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function iE(e,t){var r=t||{};DU();var n=tp(H2(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=$r(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Pi(r);return s.type="string",qp.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Je){i.indexOf("<"+Je)>=0&&(a=!0)}),a)return uue(n,r);Sp={"General Number":"General","General Date":jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jt[15],"Short Date":jt[14],"Long Time":jt[19],"Medium Time":jt[18],"Short Time":jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jt[2],Standard:jt[4],Percent:jt[10],Scientific:jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},p=[],m=r.dense?[]:{},y="",_={},b={},E=Hs('<Data ss:Type="String">'),A=0,L=0,I=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},M={},N="",k=0,P=[],U={},B={},F=0,H=[],fe=[],pe={},re=[],ue,ce=!1,ie=[],xe=[],J={},V=0,ee=0,X={Sheets:[],WBProps:{date1904:!1}},q={};Gp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";o=Gp.exec(n);)switch(o[3]=(he=o[3]).toLowerCase()){case"data":if(he=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?eue(n.slice(A,o.index),N,E,c[c.length-1][0]=="comment"?pe:_,{c:L,r:I},D,re[L],b,ie,r):(N="",E=Hs(o[0]),A=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(fe.length>0&&(_.c=fe),(!r.sheetRows||r.sheetRows>I)&&_.v!==void 0&&(r.dense?(m[I]||(m[I]=[]),m[I][L]=_):m[Jn(L)+Ri(I)]=_),_.HRef&&(_.l={Target:or(_.HRef)},_.HRefScreenTip&&(_.l.Tooltip=_.HRefScreenTip),delete _.HRef,delete _.HRefScreenTip),(_.MergeAcross||_.MergeDown)&&(V=L+(parseInt(_.MergeAcross,10)|0),ee=I+(parseInt(_.MergeDown,10)|0),P.push({s:{c:L,r:I},e:{c:V,r:ee}})),!r.sheetStubs)_.MergeAcross?L=V+1:++L;else if(_.MergeAcross||_.MergeDown){for(var ye=L;ye<=V;++ye)for(var ke=I;ke<=ee;++ke)(ye>L||ke>I)&&(r.dense?(m[ke]||(m[ke]=[]),m[ke][ye]={t:"z"}):m[Jn(ye)+Ri(ke)]={t:"z"});L=V+1}else++L;else _=Yce(o[0]),_.Index&&(L=+_.Index-1),L<O.s.c&&(O.s.c=L),L>O.e.c&&(O.e.c=L),o[0].slice(-2)==="/>"&&++L,fe=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(I<O.s.r&&(O.s.r=I),I>O.e.r&&(O.e.r=I),o[0].slice(-2)==="/>"&&(b=Hs(o[0]),b.Index&&(I=+b.Index-1)),L=0,++I):(b=Hs(o[0]),b.Index&&(I=+b.Index-1),J={},(b.AutoFitHeight=="0"||b.Height)&&(J.hpx=parseInt(b.Height,10),J.hpt=I9(J.hpx),xe[I]=J),b.Hidden=="1"&&(J.hidden=!0,xe[I]=J));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));p.push(y),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(m["!ref"]=sr(O),r.sheetRows&&r.sheetRows<=O.e.r&&(m["!fullref"]=m["!ref"],O.e.r=r.sheetRows-1,m["!ref"]=sr(O))),P.length&&(m["!merges"]=P),re.length>0&&(m["!cols"]=re),xe.length>0&&(m["!rows"]=xe),d[y]=m}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},I=L=0,c.push([o[3],!1]),u=Hs(o[0]),y=or(u.Name),m=r.dense?[]:{},P=[],ie=[],xe=[],q={name:y,Hidden:0},X.Sheets.push(q);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),re=[],ce=!1}break;case"style":o[1]==="/"?Qce(D,M,r):M=Hs(o[0]);break;case"numberformat":M.nf=or(Hs(o[0]).Format||"General"),Sp[M.nf]&&(M.nf=Sp[M.nf]);for(var le=0;le!=392&&jt[le]!=M.nf;++le);if(le==392){for(le=57;le!=392;++le)if(jt[le]==null){Yu(M.nf,le);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ue=Hs(o[0]),ue.Hidden&&(ue.hidden=!0,delete ue.Hidden),ue.Width&&(ue.wpx=parseInt(ue.Width,10)),!ce&&ue.wpx>10){ce=!0,sa=N9;for(var ge=0;ge<re.length;++ge)re[ge]&&ah(re[ge])}ce&&ah(ue),re[ue.Index-1||re.length]=ue;for(var De=0;De<+ue.Span;++De)re[re.length]=Pi(ue);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var K=Ct(o[0]),Ye={Name:K.Name,Ref:qd(K.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(Ye.Sheet=X.Sheets.length-1),X.Names.push(Ye);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?N+=n.slice(k,o.index):k=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;M.Interior=Hs(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?jne(U,he,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));tue(pe),fe.push(pe)}else c.push([o[3],!1]),u=Hs(o[0]),pe={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var je=Hs(o[0]);m["!autofilter"]={ref:qd(je.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return dM(n,r);var Ke=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ke=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ke=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ke=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ke=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else F=o.index+o[0].length;break;case"header":m["!margins"]||Tp(m["!margins"]={},"xlml"),isNaN(+Ct(o[0]).Margin)||(m["!margins"].header=+Ct(o[0]).Margin);break;case"footer":m["!margins"]||Tp(m["!margins"]={},"xlml"),isNaN(+Ct(o[0]).Margin)||(m["!margins"].footer=+Ct(o[0]).Margin);break;case"pagemargins":var Ve=Ct(o[0]);m["!margins"]||Tp(m["!margins"]={},"xlml"),isNaN(+Ve.Top)||(m["!margins"].top=+Ve.Top),isNaN(+Ve.Left)||(m["!margins"].left=+Ve.Left),isNaN(+Ve.Right)||(m["!margins"].right=+Ve.Right),isNaN(+Ve.Bottom)||(m["!margins"].bottom=+Ve.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ke=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ke=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ke=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ke=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ke=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ke=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ke=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ke=!1}break;case"smarttags":break;default:Ke=!1;break}if(Ke||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Xce(B,he,H,n.slice(F,o.index)):(H=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Le={};return!r.bookSheets&&!r.bookProps&&(Le.Sheets=d),Le.SheetNames=p,Le.Workbook=X,Le.SSF=Pi(jt),Le.Props=U,Le.Custprops=B,Le}function SS(e,t){switch(aC(t=t||{}),t.type||"base64"){case"base64":return iE(Ja(e),t);case"binary":case"buffer":case"file":return iE(e,t);case"array":return iE(Sf(e),t)}}function rue(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=gne(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=vne(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var nue=[60,1084,2066,2165,2175];function iue(e,t,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var c=ml(r,r.l),u=AS[c],d=0;u!=null&&nue.indexOf(c)>-1;)a=ml(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+a),s.push(o),r.l+=4+a,u=AS[c=ml(r,r.l)];var p=Ac(s);ki(p,0);var m=0;p.lens=[];for(var y=0;y<s.length;++y)p.lens.push(m),m+=s[y].length;if(p.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+p.length+" < "+n;return t.f(p,p.length,i)}function wo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=jt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Nf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=$p(e.v):e.w=of(e.v):e.w=Ts(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&Eh(jt[n]||String(n))){var i=zu(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Mv(e,t,r){return{v:e,ixfe:t,t:r}}function aue(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},s={},o=null,c=[],u="",d={},p,m="",y,_,b,E,A={},L=[],I,O,D=[],M=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},P=function(xt){return xt<8?Ju[xt]:xt<64&&M[xt-8]||Ju[xt]},U=function(xt,rr,xr){var Vt=rr.XF.data;if(!(!Vt||!Vt.patternType||!xr||!xr.cellStyles)){rr.s={},rr.s.patternType=Vt.patternType;var wr;(wr=Kp(P(Vt.icvFore)))&&(rr.s.fgColor={rgb:wr}),(wr=Kp(P(Vt.icvBack)))&&(rr.s.bgColor={rgb:wr})}},B=function(xt,rr,xr){if(!(J>1)&&!(xr.sheetRows&&xt.r>=xr.sheetRows)){if(xr.cellStyles&&rr.XF&&rr.XF.data&&U(xt,rr,xr),delete rr.ixfe,delete rr.XF,p=xt,m=Rt(xt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),xt.r<s.s.r&&(s.s.r=xt.r),xt.c<s.s.c&&(s.s.c=xt.c),xt.r+1>s.e.r&&(s.e.r=xt.r+1),xt.c+1>s.e.c&&(s.e.c=xt.c+1),xr.cellFormula&&rr.f){for(var Vt=0;Vt<L.length;++Vt)if(!(L[Vt][0].s.c>xt.c||L[Vt][0].s.r>xt.r)&&!(L[Vt][0].e.c<xt.c||L[Vt][0].e.r<xt.r)){rr.F=sr(L[Vt][0]),(L[Vt][0].s.c!=xt.c||L[Vt][0].s.r!=xt.r)&&delete rr.f,rr.f&&(rr.f=""+Ui(L[Vt][1],s,xt,ie,F));break}}xr.dense?(i[xt.r]||(i[xt.r]=[]),i[xt.r][xt.c]=rr):i[m]=rr}},F={enc:!1,sbcch:0,snames:[],sharedf:A,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var H,fe=[],pe=[],re=[],ue=[],ce=!1,ie=[];ie.SheetNames=F.snames,ie.sharedf=F.sharedf,ie.arrayf=F.arrayf,ie.names=[],ie.XTI=[];var xe=0,J=0,V=0,ee=[],X=[],q;F.codepage=1200,Js(1200);for(var he=!1;e.l<e.length-1;){var ye=e.l,ke=e.read_shift(2);if(ke===0&&xe===10)break;var le=e.l===e.length?0:e.read_shift(2),ge=AS[ke];if(ge&&ge.f){if(t.bookSheets&&xe===133&&ke!==133)break;if(xe=ke,ge.r===2||ge.r==12){var De=e.read_shift(2);if(le-=2,!F.enc&&De!==ke&&((De&255)<<8|De>>8)!==ke)throw new Error("rt mismatch: "+De+"!="+ke);ge.r==12&&(e.l+=10,le-=10)}var K={};if(ke===10?K=ge.f(e,le,F):K=iue(ke,ge,e,le,F),J==0&&[9,521,1033,2057].indexOf(xe)===-1)continue;switch(ke){case 34:r.opts.Date1904=N.WBProps.date1904=K;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=K,!t.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=K;break;case 66:var Ye=Number(K);switch(Ye){case 21010:Ye=1200;break;case 32768:Ye=1e4;break;case 32769:Ye=1252;break}Js(F.codepage=Ye),he=!0;break;case 317:F.rrtabid=K;break;case 25:F.winlocked=K;break;case 439:r.opts.RefreshAll=K;break;case 12:r.opts.CalcCount=K;break;case 16:r.opts.CalcDelta=K;break;case 17:r.opts.CalcIter=K;break;case 13:r.opts.CalcMode=K;break;case 14:r.opts.CalcPrecision=K;break;case 95:r.opts.CalcSaveRecalc=K;break;case 15:F.CalcRefMode=K;break;case 2211:r.opts.FullCalc=K;break;case 129:K.fDialog&&(i["!type"]="dialog"),K.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),K.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(K);break;case 430:ie.push([K]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(K);break;case 24:case 536:q={Name:K.Name,Ref:Ui(K.rgce,s,null,ie,F)},K.itab>0&&(q.Sheet=K.itab-1),ie.names.push(q),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(X[K.itab-1]={ref:sr(K.rgce[0][0][1][2])});break;case 22:F.ExternCount=K;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(K),ie.XTI=ie.XTI.concat(K);break;case 2196:if(F.biff<8)break;q!=null&&(q.Comment=K[1]);break;case 18:i["!protect"]=K;break;case 19:K!==0&&F.WTF&&console.error("Password verifier: "+K);break;case 133:a[K.pos]=K,F.snames.push(K.name);break;case 10:{if(--J)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=sr(s),t.sheetRows&&t.sheetRows<=s.e.r){var je=s.e.r;s.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=sr(s),s.e.r=je}s.e.r++,s.e.c++}fe.length>0&&(i["!merges"]=fe),pe.length>0&&(i["!objects"]=pe),re.length>0&&(i["!cols"]=re),ue.length>0&&(i["!rows"]=ue),N.Sheets.push(k)}u===""?d=i:n[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),F.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(F.biff=5,he=!0,Js(F.codepage=28591)),F.biff==8&&K.BIFFVer==0&&K.dt==16&&(F.biff=2),J++)break;if(i=t.dense?[]:{},F.biff<8&&!he&&(he=!0,Js(F.codepage=t.codepage||1252)),F.biff<5||K.BIFFVer==0&&K.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ke={pos:e.l-le,name:u};a[Ke.pos]=Ke,F.snames.push(u)}else u=(a[ye]||{name:""}).name;K.dt==32&&(i["!type"]="chart"),K.dt==64&&(i["!type"]="macro"),fe=[],pe=[],F.arrayf=L=[],re=[],ue=[],ce=!1,k={Hidden:(a[ye]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[K.r]||[])[K.c]:i[Rt({c:K.c,r:K.r})])&&++K.c,I={ixfe:K.ixfe,XF:D[K.ixfe]||{},v:K.val,t:"n"},V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B({c:K.c,r:K.r},I,t);break;case 5:case 517:I={ixfe:K.ixfe,XF:D[K.ixfe],v:K.val,t:K.t},V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B({c:K.c,r:K.r},I,t);break;case 638:I={ixfe:K.ixfe,XF:D[K.ixfe],v:K.rknum,t:"n"},V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B({c:K.c,r:K.r},I,t);break;case 189:for(var Ve=K.c;Ve<=K.C;++Ve){var Le=K.rkrec[Ve-K.c][0];I={ixfe:Le,XF:D[Le],v:K.rkrec[Ve-K.c][1],t:"n"},V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B({c:Ve,r:K.r},I,t)}break;case 6:case 518:case 1030:{if(K.val=="String"){o=K;break}if(I=Mv(K.val,K.cell.ixfe,K.tt),I.XF=D[I.ixfe],t.cellFormula){var Je=K.formula;if(Je&&Je[0]&&Je[0][0]&&Je[0][0][0]=="PtgExp"){var tt=Je[0][0][1][0],ht=Je[0][0][1][1],at=Rt({r:tt,c:ht});A[at]?I.f=""+Ui(K.formula,s,K.cell,ie,F):I.F=((t.dense?(i[tt]||[])[ht]:i[at])||{}).F}else I.f=""+Ui(K.formula,s,K.cell,ie,F)}V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B(K.cell,I,t),o=K}break;case 7:case 519:if(o)o.val=K,I=Mv(K,o.cell.ixfe,"s"),I.XF=D[I.ixfe],t.cellFormula&&(I.f=""+Ui(o.formula,s,o.cell,ie,F)),V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B(o.cell,I,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(K);var At=Rt(K[0].s);if(y=t.dense?(i[K[0].s.r]||[])[K[0].s.c]:i[At],t.cellFormula&&y){if(!o||!At||!y)break;y.f=""+Ui(K[1],s,K[0],ie,F),y.F=sr(K[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!o)break;A[Rt(o.cell)]=K[0],y=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[Rt(o.cell)],(y||{}).f=""+Ui(K[0],s,p,ie,F)}}break;case 253:I=Mv(c[K.isst].t,K.ixfe,"s"),c[K.isst].h&&(I.h=c[K.isst].h),I.XF=D[I.ixfe],V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B({c:K.c,r:K.r},I,t);break;case 513:t.sheetStubs&&(I={ixfe:K.ixfe,XF:D[K.ixfe],t:"z"},V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B({c:K.c,r:K.r},I,t));break;case 190:if(t.sheetStubs)for(var Br=K.c;Br<=K.C;++Br){var wt=K.ixfe[Br-K.c];I={ixfe:wt,XF:D[wt],t:"z"},V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B({c:Br,r:K.r},I,t)}break;case 214:case 516:case 4:I=Mv(K.val,K.ixfe,"s"),I.XF=D[I.ixfe],V>0&&(I.z=ee[I.ixfe>>8&63]),wo(I,t,r.opts.Date1904),B({c:K.c,r:K.r},I,t);break;case 0:case 512:J===1&&(s=K);break;case 252:c=K;break;case 1054:if(F.biff==4){ee[V++]=K[1];for(var $t=0;$t<V+163&&jt[$t]!=K[1];++$t);$t>=163&&Yu(K[1],V+163)}else Yu(K[1],K[0]);break;case 30:{ee[V++]=K;for(var Zt=0;Zt<V+163&&jt[Zt]!=K;++Zt);Zt>=163&&Yu(K,V+163)}break;case 229:fe=fe.concat(K);break;case 93:pe[K.cmo[0]]=F.lastobj=K;break;case 438:F.lastobj.TxO=K;break;case 127:F.lastobj.ImData=K;break;case 440:for(E=K[0].s.r;E<=K[0].e.r;++E)for(b=K[0].s.c;b<=K[0].e.c;++b)y=t.dense?(i[E]||[])[b]:i[Rt({c:b,r:E})],y&&(y.l=K[1]);break;case 2048:for(E=K[0].s.r;E<=K[0].e.r;++E)for(b=K[0].s.c;b<=K[0].e.c;++b)y=t.dense?(i[E]||[])[b]:i[Rt({c:b,r:E})],y&&y.l&&(y.l.Tooltip=K[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;y=t.dense?(i[K[0].r]||[])[K[0].c]:i[Rt(K[0])];var Ir=pe[K[2]];y||(t.dense?(i[K[0].r]||(i[K[0].r]=[]),y=i[K[0].r][K[0].c]={t:"z"}):y=i[Rt(K[0])]={t:"z"},s.e.r=Math.max(s.e.r,K[0].r),s.s.r=Math.min(s.s.r,K[0].r),s.e.c=Math.max(s.e.c,K[0].c),s.s.c=Math.min(s.s.c,K[0].c)),y.c||(y.c=[]),_={a:K[1],t:Ir.TxO.t},y.c.push(_)}break;case 2173:Cse(D[K.ixfe],K.ext);break;case 125:{if(!F.cellStyles)break;for(;K.e>=K.s;)re[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},ce||(ce=!0,eC(K.w/256)),ah(re[K.e+1])}break;case 520:{var Kt={};K.level!=null&&(ue[K.r]=Kt,Kt.level=K.level),K.hidden&&(ue[K.r]=Kt,Kt.hidden=!0),K.hpt&&(ue[K.r]=Kt,Kt.hpt=K.hpt,Kt.hpx=Wp(K.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Tp(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=K;break;case 161:i["!margins"]||Tp(i["!margins"]={}),i["!margins"].header=K.header,i["!margins"].footer=K.footer;break;case 574:K.RTL&&(N.Views[0].RTL=!0);break;case 146:M=K;break;case 2198:H=K;break;case 140:O=K;break;case 442:u?k.CodeName=K||k.name:N.WBProps.CodeName=K||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),e.l+=le}return r.SheetNames=Do(a).sort(function(Et,xt){return Number(Et)-Number(xt)}).map(function(Et){return a[Et].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&X.forEach(function(Et,xt){r.Sheets[r.SheetNames[xt]]["!autofilter"]=Et}),r.Strings=c,r.SSF=Pi(jt),F.enc&&(r.Encryption=F.enc),H&&(r.Themes=H),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),ie.names.length>0&&(N.Names=ie.names),r.Workbook=N,r}var oM={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function sue(e,t,r){var n=ar.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=H4(n,Ene,oM.DSI);for(var a in i)t[a]=i[a]}catch(u){if(r.WTF)throw u}var s=ar.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=H4(s,Tne,oM.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(f9(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function W9(e,t){t||(t={}),aC(t),EU(),t.codepage&&F2(t.codepage);var r,n;if(e.FullPaths){if(ar.find(e,"/encryption"))throw new Error("File is password-protected");r=ar.find(e,"!CompObj"),n=ar.find(e,"/Workbook")||ar.find(e,"/Book")}else{switch(t.type){case"base64":e=qs(Ja(e));break;case"binary":e=qs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ki(e,0),n={content:e}}var i,a;if(r&&rue(r),t.bookProps&&!t.bookSheets)i={};else{var s=tr?"buffer":"array";if(n&&n.content)i=aue(n.content,t);else if((a=ar.find(e,"PerfectOffice_MAIN"))&&a.content)i=wp.to_workbook(a.content,(t.type=s,t));else if((a=ar.find(e,"NativeContent_MAIN"))&&a.content)i=wp.to_workbook(a.content,(t.type=s,t));else throw(a=ar.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ar.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Gse(e))}var o={};return e.FullPaths&&sue(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}var sx={0:{f:Vle},1:{f:Gle},2:{f:ece},3:{f:Yle},4:{f:Kle},5:{f:Qle},6:{f:nce},7:{f:Xle},8:{f:lce},9:{f:oce},10:{f:ace},11:{f:sce},12:{f:qle},13:{f:tce},14:{f:Jle},15:{f:Wle},16:{f:$9},17:{f:ice},18:{f:Zle},19:{f:W2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Dce},40:{},42:{},43:{f:ase},44:{f:ise},45:{f:sse},46:{f:lse},47:{f:ose},48:{},49:{f:cne},50:{},51:{f:kse},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:E9},62:{f:rce},63:{f:Mse},64:{f:vce},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Yi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:gce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Hle},148:{f:zle,p:16},151:{f:fce},152:{},153:{f:Oce},154:{},155:{},156:{f:Rce},157:{},158:{},159:{T:1,f:Tae},160:{T:-1},161:{T:1,f:Cf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:cce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Nse},336:{T:-1},337:{f:Ise,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bS},357:{},358:{},359:{},360:{T:1},361:{},362:{f:w9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:dce},427:{f:hce},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:mce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:$le},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:uce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bS},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zse},633:{T:1},634:{T:-1},635:{T:1,f:Vse},636:{T:-1},637:{f:fne},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ece},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:yce},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},AS={6:{f:rE},10:{f:bc},12:{f:Un},13:{f:Un},14:{f:Sn},15:{f:Sn},16:{f:zi},17:{f:Sn},18:{f:Sn},19:{f:Un},20:{f:W4},21:{f:W4},23:{f:w9},24:{f:J4},25:{f:Sn},26:{},27:{},28:{f:Uie},29:{},34:{f:Sn},35:{f:Y4},38:{f:zi},39:{f:zi},40:{f:zi},41:{f:zi},42:{f:Sn},43:{f:Sn},47:{f:$ae},49:{f:_ie},51:{f:Un},60:{},61:{f:vie},64:{f:Sn},65:{f:xie},66:{f:Un},77:{},80:{},81:{},82:{},85:{f:Un},89:{},90:{},91:{},92:{f:cie},93:{f:Vie},94:{},95:{f:Sn},96:{},97:{},99:{f:Sn},125:{f:E9},128:{f:Iie},129:{f:uie},130:{f:Un},131:{f:Sn},132:{f:Sn},133:{f:fie},134:{},140:{f:Kie},141:{f:Un},144:{},146:{f:Yie},151:{},152:{},153:{},154:{},155:{},156:{f:Un},157:{},158:{},160:{f:eae},161:{f:Xie},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Aie},190:{f:Cie},193:{f:bc},197:{},198:{},199:{},200:{},201:{},202:{f:Sn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Un},220:{},221:{f:Sn},222:{},224:{f:kie},225:{f:lie},226:{f:bc},227:{},229:{f:Bie},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:die},253:{f:bie},255:{f:hie},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:g9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Sn},353:{f:bc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Rie},431:{f:Sn},432:{},433:{},434:{},437:{},438:{f:Hie},439:{f:Sn},440:{f:Gie},441:{},442:{f:Nm},443:{},444:{f:Un},445:{},446:{},448:{f:bc},449:{f:gie,r:2},450:{f:bc},512:{f:q4},513:{f:Qie},515:{f:Pie},516:{f:wie},517:{f:K4},519:{f:tae},520:{f:pie},523:{},545:{f:X4},549:{f:G4},566:{},574:{f:yie},638:{f:Sie},659:{},1048:{},1054:{f:Eie},1084:{},1212:{f:Lie},2048:{f:qie},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Pv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:bc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Jie,r:12},2173:{f:Ase,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Sn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Die,r:12},2197:{},2198:{f:_se,r:12},2199:{},2200:{},2201:{},2202:{f:Fie,r:12},2203:{f:bc},2204:{},2205:{},2206:{},2207:{},2211:{f:mie},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Un},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Zie},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Wie},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:q4},1:{},2:{f:aae},3:{f:iae},4:{f:nae},5:{f:K4},7:{f:sae},8:{},9:{f:Pv},11:{},22:{f:Un},30:{f:Tie},31:{},32:{},33:{f:X4},36:{},37:{f:G4},50:{f:oae},62:{},52:{},67:{},68:{f:Un},69:{},86:{},126:{},127:{f:rae},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:lae},223:{},234:{},354:{},421:{},518:{f:rE},521:{f:Pv},536:{f:J4},547:{f:Y4},561:{},579:{},1030:{f:rE},1033:{f:Pv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Gs(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&n9(r)&&e.push(r)}}function lM(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),s=i.index,o=a&&a.index||e.length,c=Pre(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,p=0,m=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(s=0;s<c.length;++s){var b=c[s].trim(),E=b.slice(0,3).toLowerCase();if(E=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(E!="<td"&&E!="<th")){var A=b.split(/<\/t[dh]>/i);for(o=0;o<A.length;++o){var L=A[o].trim();if(L.match(/<t[dh]/i)){for(var I=L,O=0;I.charAt(0)=="<"&&(O=I.indexOf(">"))>-1;)I=I.slice(O+1);for(var D=0;D<_.length;++D){var M=_[D];M.s.c==d&&M.s.r<u&&u<=M.e.r&&(d=M.e.c+1,D=-1)}var N=Ct(L.slice(0,L.indexOf(">")));m=N.colspan?+N.colspan:1,((p=+N.rowspan)>1||m>1)&&_.push({s:{r:u,c:d},e:{r:u+(p||1)-1,c:d+m-1}});var k=N.t||N["data-t"]||"";if(!I.length){d+=m;continue}if(I=HU(I),y.s.r>u&&(y.s.r=u),y.e.r<u&&(y.e.r=u),y.s.c>d&&(y.s.c=d),y.e.c<d&&(y.e.c=d),!I.length){d+=m;continue}var P={t:"s",v:I};r.raw||!I.trim().length||k=="s"||(I==="TRUE"?P={t:"b",v:!0}:I==="FALSE"?P={t:"b",v:!1}:isNaN(eo(I))?isNaN(ih(I).getDate())||(P={t:"d",v:fi(I)},r.cellDates||(P={t:"n",v:fa(P.v)}),P.z=r.dateNF||jt[14]):P={t:"n",v:eo(I)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=P):n[Rt({r:u,c:d})]=P,d+=m}}}}return n["!ref"]=sr(y),_.length&&(n["!merges"]=_),n}function oue(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=Rt({r,c:s}),p=n.dense?(e[r]||[])[s]:e[d],m=p&&p.v!=null&&(p.h||$2(p.w||(Sl(p),p.w)||""))||"",y={};o>1&&(y.rowspan=o),c>1&&(y.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":p&&(y["data-t"]=p&&p.t||"z",p.v!=null&&(y["data-v"]=p.v),p.z!=null&&(y["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+p.l.Target+'">'+m+"</a>")),y.id=(n.id||"sjs")+"-"+d,a.push(Kre("td",m,y))}}var _="<tr>";return _+a.join("")+"</tr>"}var lue='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',cue="</body></html>";function uue(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return iu(lM(r[0],t),t);var n=oC();return r.forEach(function(i,a){lC(n,lM(i,t),"Sheet"+(a+1))}),n}function fue(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function due(e,t){var r=t||{},n=r.header!=null?r.header:lue,i=r.footer!=null?r.footer:cue,a=[n],s=Th(e["!ref"]);r.dense=Array.isArray(e),a.push(fue(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(oue(e,s,o,r));return a.push("</table>"+i),a.join("")}function Y9(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?la(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var d=Th(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var p=[],m=0,y=e["!rows"]||(e["!rows"]=[]),_=0,b=0,E=0,A=0,L=0,I=0;for(e["!cols"]||(e["!cols"]=[]);_<o.length&&b<c;++_){var O=o[_];if(cM(O)){if(n.display)continue;y[b]={hidden:!0}}var D=O.children;for(E=A=0;E<D.length;++E){var M=D[E];if(!(n.display&&cM(M))){var N=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):HU(M.innerHTML),k=M.getAttribute("data-z")||M.getAttribute("z");for(m=0;m<p.length;++m){var P=p[m];P.s.c==A+a&&P.s.r<b+i&&b+i<=P.e.r&&(A=P.e.c+1-a,m=-1)}I=+M.getAttribute("colspan")||1,((L=+M.getAttribute("rowspan")||1)>1||I>1)&&p.push({s:{r:b+i,c:A+a},e:{r:b+i+(L||1)-1,c:A+a+(I||1)-1}});var U={t:"s",v:N},B=M.getAttribute("data-t")||M.getAttribute("t")||"";N!=null&&(N.length==0?U.t=B||"z":n.raw||N.trim().length==0||B=="s"||(N==="TRUE"?U={t:"b",v:!0}:N==="FALSE"?U={t:"b",v:!1}:isNaN(eo(N))?isNaN(ih(N).getDate())||(U={t:"d",v:fi(N)},n.cellDates||(U={t:"n",v:fa(U.v)}),U.z=n.dateNF||jt[14]):U={t:"n",v:eo(N)})),U.z===void 0&&k!=null&&(U.z=k);var F="",H=M.getElementsByTagName("A");if(H&&H.length)for(var fe=0;fe<H.length&&!(H[fe].hasAttribute("href")&&(F=H[fe].getAttribute("href"),F.charAt(0)!="#"));++fe);F&&F.charAt(0)!="#"&&(U.l={Target:F}),n.dense?(e[b+i]||(e[b+i]=[]),e[b+i][A+a]=U):e[Rt({c:A+a,r:b+i})]=U,u.e.c<A+a&&(u.e.c=A+a),A+=I}}++b}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,b-1+i),e["!ref"]=sr(u),b>=c&&(e["!fullref"]=sr((u.e.r=o.length-_+b-1+i,u))),e}function J9(e,t){var r=t||{},n=r.dense?[]:{};return Y9(n,e,t)}function hue(e,t){return iu(J9(e,t),t)}function cM(e){var t="",r=pue(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function pue(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function mue(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=or(t.replace(/<[^>]*>/g,""));return[r]}var uM={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function X9(e,t){var r=t||{},n=H2(e),i=[],a,s,o={name:""},c="",u=0,d,p,m={},y=[],_=r.dense?[]:{},b,E,A={value:""},L="",I=0,O=[],D=-1,M=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,P={},U=[],B={},F=0,H=0,fe=[],pe=1,re=1,ue=[],ce={Names:[]},ie={},xe=["",""],J=[],V={},ee="",X=0,q=!1,he=!1,ye=0;for(Gp.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=Gp.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?_["!ref"]=sr(N):_["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(_["!fullref"]=_["!ref"],N.e.r=r.sheetRows-1,_["!ref"]=sr(N)),U.length&&(_["!merges"]=U),fe.length&&(_["!rows"]=fe),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),y.push(d.name),m[d.name]=_,he=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=Ct(b[0],!1),D=M=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,_=r.dense?[]:{},U=[],fe=[],he=!0);break;case"table-row-group":b[1]==="/"?--k:++k;break;case"table-row":case"":if(b[1]==="/"){D+=pe,pe=1;break}if(p=Ct(b[0],!1),p.?D=p.-1:D==-1&&(D=0),pe=+p["number-rows-repeated"]||1,pe<10)for(ye=0;ye<pe;++ye)k>0&&(fe[D+ye]={level:k});M=-1;break;case"covered-table-cell":b[1]!=="/"&&++M,r.sheetStubs&&(r.dense?(_[D]||(_[D]=[]),_[D][M]={t:"z"}):_[Rt({r:D,c:M})]={t:"z"}),L="",O=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++M,A=Ct(b[0],!1),re=parseInt(A["number-columns-repeated"]||"1",10),E={t:"z",v:null},A.formula&&r.cellFormula!=!1&&(E.f=iM(or(A.formula))),(A.||A["value-type"])=="string"&&(E.t="s",E.v=or(A["string-value"]||""),r.dense?(_[D]||(_[D]=[]),_[D][M]=E):_[Rt({r:D,c:M})]=E),M+=re-1;else if(b[1]!=="/"){++M,L="",I=0,O=[],re=1;var ke=pe?D+pe-1:D;if(M>N.e.c&&(N.e.c=M),M<N.s.c&&(N.s.c=M),D<N.s.r&&(N.s.r=D),ke>N.e.r&&(N.e.r=ke),A=Ct(b[0],!1),J=[],V={},E={t:A.||A["value-type"],v:null},r.cellFormula)if(A.formula&&(A.formula=or(A.formula)),A["number-matrix-columns-spanned"]&&A["number-matrix-rows-spanned"]&&(F=parseInt(A["number-matrix-rows-spanned"],10)||0,H=parseInt(A["number-matrix-columns-spanned"],10)||0,B={s:{r:D,c:M},e:{r:D+F-1,c:M+H-1}},E.F=sr(B),ue.push([B,E.F])),A.formula)E.f=iM(A.formula);else for(ye=0;ye<ue.length;++ye)D>=ue[ye][0].s.r&&D<=ue[ye][0].e.r&&M>=ue[ye][0].s.c&&M<=ue[ye][0].e.c&&(E.F=ue[ye][1]);switch((A["number-columns-spanned"]||A["number-rows-spanned"])&&(F=parseInt(A["number-rows-spanned"],10)||0,H=parseInt(A["number-columns-spanned"],10)||0,B={s:{r:D,c:M},e:{r:D+F-1,c:M+H-1}},U.push(B)),A["number-columns-repeated"]&&(re=parseInt(A["number-columns-repeated"],10)),E.t){case"boolean":E.t="b",E.v=Qr(A["boolean-value"]);break;case"float":E.t="n",E.v=parseFloat(A.value);break;case"percentage":E.t="n",E.v=parseFloat(A.value);break;case"currency":E.t="n",E.v=parseFloat(A.value);break;case"date":E.t="d",E.v=fi(A["date-value"]),r.cellDates||(E.t="n",E.v=fa(E.v)),E.z="m/d/yy";break;case"time":E.t="n",E.v=Nre(A["time-value"])/86400,r.cellDates&&(E.t="d",E.v=R1(E.v)),E.z="HH:MM:SS";break;case"number":E.t="n",E.v=parseFloat(A.);break;default:if(E.t==="string"||E.t==="text"||!E.t)E.t="s",A["string-value"]!=null&&(L=or(A["string-value"]),O=[]);else throw new Error("Unsupported value type "+E.t)}}else{if(q=!1,E.t==="s"&&(E.v=L||"",O.length&&(E.R=O),q=I==0),ie.Target&&(E.l=ie),J.length>0&&(E.c=J,J=[]),L&&r.cellText!==!1&&(E.w=L),q&&(E.t="z",delete E.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=D))for(var le=0;le<pe;++le){if(re=parseInt(A["number-columns-repeated"]||"1",10),r.dense)for(_[D+le]||(_[D+le]=[]),_[D+le][M]=le==0?E:Pi(E);--re>0;)_[D+le][M+re]=Pi(E);else for(_[Rt({r:D+le,c:M})]=E;--re>0;)_[Rt({r:D+le,c:M+re})]=Pi(E);N.e.c<=M&&(N.e.c=M)}re=parseInt(A["number-columns-repeated"]||"1",10),M+=re-1,re=0,E={},L="",O=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a;V.t=L,O.length&&(V.R=O),V.a=ee,J.push(V)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);ee="",X=0,L="",I=0,O=[];break;case"creator":b[1]==="/"?ee=n.slice(X,b.index):X=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);L="",I=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(P[o.name]=c,(a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(c="",o=Ct(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Ct(b[0],!1),c+=uM[b[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Ct(b[0],!1),c+=uM[b[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,b.index);break}else u=b.index+b[0].length;break;case"named-range":s=Ct(b[0],!1),xe=nE(s["cell-range-address"]);var ge={Name:s.name,Ref:xe[0]+"!"+xe[1]};he&&(ge.Sheet=y.length),ce.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!A||!A["string-value"])){var De=mue(n.slice(I,b.index));L=(L.length>0?L+`
`:"")+De[0]}else Ct(b[0],!1),I=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{xe=nE(Ct(b[0])["target-range-address"]),m[xe[0]]["!autofilter"]={ref:xe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(ie=Ct(b[0],!1),!ie.href)break;ie.Target=or(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(xe=nE(ie.Target.slice(1)),ie.Target="#"+xe[0]+"!"+xe[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var K={Sheets:m,SheetNames:y,Workbook:ce};return r.bookSheets&&delete K.Sheets,K}function fM(e,t){t=t||{},vs(e,"META-INF/manifest.xml")&&Pne(jn(e,"META-INF/manifest.xml"),t);var r=Ha(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=X9($r(r),t);return vs(e,"meta.xml")&&(n.Props=u9(jn(e,"meta.xml"))),n}function dM(e,t){return X9(e,t)}function nC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function CS(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):$r(Sf(e))}function NS(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function hM(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function gue(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Yp(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Xn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Hi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=Yp(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Yp(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function iC(e,t){return e?.map(function(r){return t(r.data)})||[]}function vue(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=Yp(e,n),a=Hi(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:Xn(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=Hi(o.data),u=Xn(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=Xn(a[3][0].data)>>>0>0),r.push(s)}return r}function yue(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Yp(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[NS(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=NS(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function xue(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(yue(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return NS(t)}function _ue(e,t,r,n){var i=nC(e),a=i.getUint32(4,!0),s=(n>1?12:8)+hM(a&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=hM(a&(n>1?12288:4096))*4,a&16&&(c=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(d.setTime(d.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var p;switch(e[2]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:t[c]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else if(c>-1)p={t:"s",v:t[c]};else if(!isNaN(u))p={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return p}function bue(e,t,r){var n=nC(e),i=n.getUint32(8,!0),a=12,s=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(c=gue(e,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(d.setTime(d.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var p;switch(e[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:t[o]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(s>-1)p={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return p}function wue(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return _ue(e,t,r,e[0]);case 5:return bue(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Dc(e){var t=Hi(e);return Yp(t[1][0].data)}function pM(e,t){var r=Hi(t.data),n=Xn(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=Hi(s.data),c=Xn(o[1][0].data)>>>0;switch(n){case 1:a[c]=CS(o[3][0].data);break;case 8:{var u=e[Dc(o[9][0].data)][0],d=Hi(u.data),p=e[Dc(d[1][0].data)][0],m=Xn(p.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var y=Hi(p.data);a[c]=y[3].map(function(_){return CS(_.data)}).join("")}break}}),a}function Eue(e,t){var r,n,i,a,s,o,c,u,d,p,m,y,_,b,E=Hi(e),A=Xn(E[1][0].data)>>>0,L=Xn(E[2][0].data)>>>0,I=((n=(r=E[8])==null?void 0:r[0])==null?void 0:n.data)&&Xn(E[8][0].data)>0||!1,O,D;if((a=(i=E[7])==null?void 0:i[0])!=null&&a.data&&t!=0)O=(o=(s=E[7])==null?void 0:s[0])==null?void 0:o.data,D=(u=(c=E[6])==null?void 0:c[0])==null?void 0:u.data;else if((p=(d=E[4])==null?void 0:d[0])!=null&&p.data&&t!=1)O=(y=(m=E[4])==null?void 0:m[0])==null?void 0:y.data,D=(b=(_=E[3])==null?void 0:_[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var M=I?4:1,N=nC(O),k=[],P=0;P<O.length/2;++P){var U=N.getUint16(P*2,!0);U<65535&&k.push([P,U])}if(k.length!=L)throw"Expected ".concat(L," cells, found ").concat(k.length);var B=[];for(P=0;P<k.length-1;++P)B[k[P][0]]=D.subarray(k[P][1]*M,k[P+1][1]*M);return k.length>=1&&(B[k[k.length-1][0]]=D.subarray(k[k.length-1][1]*M)),{R:A,cells:B}}function Tue(e,t){var r,n=Hi(t.data),i=(r=n?.[7])!=null&&r[0]?Xn(n[7][0].data)>>>0>0?1:0:-1,a=iC(n[5],function(s){return Eue(s,i)});return{nrows:Xn(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function Sue(e,t,r){var n,i=Hi(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Xn(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Xn(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=sr(a);var s=Hi(i[4][0].data),o=pM(e,e[Dc(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?pM(e,e[Dc(s[17][0].data)][0]):[],u=Hi(s[3][0].data),d=0;u[1].forEach(function(p){var m=Hi(p.data),y=e[Dc(m[2][0].data)][0],_=Xn(y.meta[1][0].data);if(_!=6002)throw new Error("6001 unexpected reference to ".concat(_));var b=Tue(e,y);b.data.forEach(function(E,A){E.forEach(function(L,I){var O=Rt({r:d+A,c:I}),D=wue(L,o,c);D&&(r[O]=D)})}),d+=b.nrows})}function Aue(e,t){var r=Hi(t.data),n={"!ref":"A1"},i=e[Dc(r[2][0].data)],a=Xn(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Sue(e,i[0],n),n}function Cue(e,t){var r,n=Hi(t.data),i={name:(r=n[1])!=null&&r[0]?CS(n[1][0].data):"",sheets:[]},a=iC(n[2],Dc);return a.forEach(function(s){e[s].forEach(function(o){var c=Xn(o.meta[1][0].data);c==6e3&&i.sheets.push(Aue(e,o))})}),i}function Nue(e,t){var r=oC(),n=Hi(t.data),i=iC(n[1],Dc);if(i.forEach(function(a){e[a].forEach(function(s){var o=Xn(s.meta[1][0].data);if(o==2){var c=Cue(e,s);c.sheets.forEach(function(u,d){lC(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function aE(e){var t,r,n,i,a={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=xue(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var d;try{d=vue(u)}catch(p){return console.log("## "+(p.message||p))}d.forEach(function(p){a[p.id]=p.messages,s.push(p.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(t=a?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Xn(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(c){a[c].forEach(function(u){var d=Xn(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Nue(a,o)}function kue(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function aC(e){kue([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Iue(e){return Ld.WS.indexOf(e)>-1?"sheet":e==Ld.CS?"chart":e==Ld.DS?"dialog":e==Ld.MS?"macro":e&&e.length?e:"sheet"}function Pue(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Iue(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Rue(e,t,r,n,i,a,s,o,c,u,d,p){try{a[n]=_p(Ha(e,r,!0),t);var m=jn(e,t),y;switch(o){case"sheet":y=jce(m,t,i,c,a[n],u,d,p);break;case"chart":if(y=Uce(m,t,i,c,a[n],u,d,p),!y||!y["!drawel"])break;var _=np(y["!drawel"].Target,t),b=wS(_),E=Fse(Ha(e,_,!0),_p(Ha(e,b,!0),_)),A=np(E,_),L=wS(A);y=bce(Ha(e,A,!0),A,c,_p(Ha(e,L,!0),A),u,y);break;case"macro":y=Bce(m,t,i,c,a[n],u,d,p);break;case"dialog":y=Vce(m,t,i,c,a[n],u,d,p);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=y;var I=[];a&&a[n]&&Do(a[n]).forEach(function(O){var D="";if(a[n][O].Type==Ld.CMNT){D=np(a[n][O].Target,t);var M=Gce(jn(e,D,!0),D,c);if(!M||!M.length)return;Q4(y,M,!1)}a[n][O].Type==Ld.TCMNT&&(D=np(a[n][O].Target,t),I=I.concat(Use(jn(e,D,!0),c)))}),I&&I.length&&Q4(y,I,!0,c.people||[])}catch(O){if(c.WTF)throw O}}function fs(e){return e.charAt(0)=="/"?e.slice(1):e}function Oue(e,t){if(DU(),t=t||{},aC(t),vs(e,"META-INF/manifest.xml")||vs(e,"objectdata.xml"))return fM(e,t);if(vs(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof aE<"u"){if(e.FileIndex)return aE(e);var r=ar.utils.cfb_new();return A4(e).forEach(function(fe){Mre(r,fe,Ore(e,fe))}),aE(r)}throw new Error("Unsupported NUMBERS file")}if(!vs(e,"[Content_Types].xml"))throw vs(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):vs(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=A4(e),i=kne(Ha(e,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",jn(e,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!jn(e,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Ep=[],i.sst)try{Ep=Hce(jn(e,fs(i.sst)),i.sst,t)}catch(fe){if(t.WTF)throw fe}t.cellStyles&&i.themes.length&&(c=$ce(Ha(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=zce(jn(e,fs(i.style)),i.style,c,t))}i.links.map(function(fe){try{var pe=_p(Ha(e,wS(fs(fe))),fe);return Kce(jn(e,fs(fe)),pe,fe,t)}catch{}});var d=Fce(jn(e,fs(i.workbooks[0])),i.workbooks[0],t),p={},m="";i.coreprops.length&&(m=jn(e,fs(i.coreprops[0]),!0),m&&(p=u9(m)),i.extprops.length!==0&&(m=jn(e,fs(i.extprops[0]),!0),m&&Mne(m,p,t)));var y={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(m=Ha(e,fs(i.custprops[0]),!0),m&&(y=Lne(m,t)));var _={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(pe){return pe.name}):p.Worksheets&&p.SheetNames.length>0&&(s=p.SheetNames),t.bookProps&&(_.Props=p,_.Custprops=y),t.bookSheets&&typeof s<"u"&&(_.SheetNames=s),t.bookSheets?_.SheetNames:t.bookProps))return _;s={};var b={};t.bookDeps&&i.calcchain&&(b=qce(jn(e,fs(i.calcchain)),i.calcchain));var E=0,A={},L,I;{var O=d.Sheets;p.Worksheets=O.length,p.SheetNames=[];for(var D=0;D!=O.length;++D)p.SheetNames[D]=O[D].name}var M=a?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");vs(e,k)||(k="xl/_rels/workbook."+M+".rels");var P=_p(Ha(e,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=Wce(jn(e,fs(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=Bse(jn(e,fs(i.people[0])),t)),P&&(P=Pue(P,d.Sheets));var U=jn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(E=0;E!=p.Worksheets;++E){var B="sheet";if(P&&P[E]?(L="xl/"+P[E][1].replace(/[\/]?xl\//,""),vs(e,L)||(L=P[E][1]),vs(e,L)||(L=k.replace(/_rels\/.*$/,"")+P[E][1]),B=P[E][2]):(L="xl/worksheets/sheet"+(E+1-U)+"."+M,L=L.replace(/sheet0\./,"sheet.")),I=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(E!=t.sheets)continue e;break;case"string":if(p.SheetNames[E].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==E&&(F=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==p.SheetNames[E].toLowerCase()&&(F=1);if(!F)continue e}}Rue(e,L,I,p.SheetNames[E],E,A,s,B,t,d,c,u)}return _={Directory:i,Workbook:d,Props:p,Custprops:y,Deps:b,Sheets:s,SheetNames:p.SheetNames,Strings:Ep,Styles:u,Themes:c,SSF:Pi(jt)},t&&t.bookFiles&&(e.files?(_.keys=n,_.files=e.files):(_.keys=[],_.files={},e.FullPaths.forEach(function(fe,pe){fe=fe.replace(/^Root Entry[\/]/,""),_.keys.push(fe),_.files[fe]=e.FileIndex[pe]}))),t&&t.bookVBA&&(i.vba.length>0?_.vbaraw=jn(e,fs(i.vba[0]),!0):i.defaults&&i.defaults.bin===Hse&&(_.vbaraw=jn(e,"xl/vbaProject.bin",!0))),_}function Mue(e,t){var r=t||{},n="Workbook",i=ar.find(e,n);try{if(n="/!DataSpaces/Version",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Aae(i.content),n="/!DataSpaces/DataSpaceMap",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=Nae(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=kae(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);Pae(i.content)}catch{}if(n="/EncryptionInfo",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Rae(i.content);if(n="/EncryptedPackage",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function sC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ja(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Due(e,t){return ar.find(e,"EncryptedPackage")?Mue(e,t):W9(e,t)}function Lue(e,t){var r,n=e,i=t||{};return i.type||(i.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),r=VU(n,i),Oue(r,i)}function Z9(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return SS(e.slice(r),t);default:break e}return qp.to_workbook(e,t)}function Fue(e,t){var r="",n=sC(e,t);switch(t.type){case"base64":r=Ja(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=lf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=$r(r)),t.type="binary",Z9(r,t)}function jue(e,t){var r=e;return t.type=="base64"&&(r=Ja(r)),r=zp.utils.decode(1200,r.slice(2),"str"),t.type="binary",Z9(r,t)}function Uue(e){return e.match(/[^\x00-\x7F]/)?ip(e):e}function sE(e,t,r,n){return n?(r.type="string",qp.to_workbook(e,r)):qp.to_workbook(t,r)}function ox(e,t){EU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return ox(new Uint8Array(e),(r=Pi(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Kd={},r.dateNF&&(Kd.dateNF=r.dateNF),r.type||(r.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=tr?"buffer":"binary",n=Are(e),typeof Uint8Array<"u"&&!tr&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=Uue(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Pi(r),r.type="array",ox(j2(n),r)}switch((i=sC(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Due(ar.read(n,r),r);break;case 9:if(i[1]<=8)return W9(n,r);break;case 60:return SS(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return hae(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return fae.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Lue(n,r):sE(e,n,r,a);case 239:return i[3]===60?SS(n,r):sE(e,n,r,a);case 255:if(i[1]===254)return jue(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return wp.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return wp.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Z4.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Hae.to_workbook(n,r);break;case 10:case 13:case 32:return Fue(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return cae.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Z4.to_workbook(n,r):sE(e,n,r,a)}function Bue(e,t,r,n,i,a,s,o){var c=Ri(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||e[r])for(var y=t.s.c;y<=t.e.c;++y){var _=s?e[r][y]:e[n[y]+c];if(_===void 0||_.t===void 0){if(u===void 0)continue;a[y]!=null&&(m[a[y]]=u);continue}var b=_.v;switch(_.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(a[y]!=null){if(b==null)if(_.t=="e"&&b===null)m[a[y]]=null;else if(u!==void 0)m[a[y]]=u;else if(d&&b===null)m[a[y]]=null;else continue;else m[a[y]]=d&&(_.t!=="n"||_.t==="n"&&o.rawNumbers!==!1)?b:Sl(_,b,o);b!=null&&(p=!1)}}return{row:m,isempty:p}}function kS(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=mn(d);break;case"number":c=mn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(i=0);var p=Ri(c.s.r),m=[],y=[],_=0,b=0,E=Array.isArray(e),A=c.s.r,L=0,I={};E&&!e[A]&&(e[A]=[]);var O=u.skipHidden&&e["!cols"]||[],D=u.skipHidden&&e["!rows"]||[];for(L=c.s.c;L<=c.e.c;++L)if(!(O[L]||{}).hidden)switch(m[L]=Jn(L),r=E?e[A][L]:e[m[L]+p],n){case 1:a[L]=L-c.s.c;break;case 2:a[L]=m[L];break;case 3:a[L]=u.header[L-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Sl(r,null,u),b=I[s]||0,!b)I[s]=1;else{do o=s+"_"+b++;while(I[o]);I[s]=b,I[o]=1}a[L]=o}for(A=c.s.r+i;A<=c.e.r;++A)if(!(D[A]||{}).hidden){var M=Bue(e,c,A,m,n,a,E,u);(M.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(y[_++]=M.row)}return y.length=_,y}var mM=/"/g;function Vue(e,t,r,n,i,a,s,o){for(var c=!0,u=[],d="",p=Ri(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var y=o.dense?(e[r]||[])[m]:e[n[m]+p];if(y==null)d="";else if(y.v!=null){c=!1,d=""+(o.rawNumbers&&y.t=="n"?y.v:Sl(y,null,o));for(var _=0,b=0;_!==d.length;++_)if((b=d.charCodeAt(_))===i||b===a||b===34||o.forceQuotes){d='"'+d.replace(mM,'""')+'"';break}d=="ID"&&(d='"ID"')}else y.f!=null&&!y.F?(c=!1,d="="+y.f,d.indexOf(",")>=0&&(d='"'+d.replace(mM,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function Q9(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=mn(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",p=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(m[_]||{}).hidden||(p[_]=Jn(_));for(var b=0,E=i.s.r;E<=i.e.r;++E)(y[E]||{}).hidden||(d=Vue(e,i,E,p,s,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((b++?o:"")+d)));return delete n.dense,r.join("")}function zue(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Q9(e,t);return r}function $ue(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=mn(e["!ref"]),a="",s=[],o,c=[],u=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=Jn(o);for(var d=i.s.r;d<=i.e.r;++d)for(a=Ri(d),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function eB(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?la(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var p=mn(a["!ref"]);d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),s==-1&&(s=p.e.r+1,d.e.r=s+t.length-1+i)}else s==-1&&(s=0,d.e.r=t.length-1+i);var m=n.header||[],y=0;t.forEach(function(b,E){Do(b).forEach(function(A){(y=m.indexOf(A))==-1&&(m[y=m.length]=A);var L=b[A],I="z",O="",D=Rt({c:o+y,r:s+E+i});u=Jp(a,D),L&&typeof L=="object"&&!(L instanceof Date)?a[D]=L:(typeof L=="number"?I="n":typeof L=="boolean"?I="b":typeof L=="string"?I="s":L instanceof Date?(I="d",n.cellDates||(I="n",L=fa(L)),O=n.dateNF||jt[14]):L===null&&n.nullError&&(I="e",L=0),u?(u.t=I,u.v=L,delete u.w,delete u.R,O&&(u.z=O)):a[D]=u={t:I,v:L},O&&(u.z=O))})}),d.e.c=Math.max(d.e.c,o+m.length-1);var _=Ri(s);if(i)for(y=0;y<m.length;++y)a[Jn(y+o)+_]={t:"s",v:m[y]};return a["!ref"]=sr(d),a}function Hue(e,t){return eB(null,e,t)}function Jp(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=la(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Jp(e,Rt(t)):Jp(e,Rt({r:t,c:r||0}))}function Gue(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function oC(){return{SheetNames:[],Sheets:{}}}function lC(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(kce(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function que(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Gue(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Kue(e,t){return e.z=t,e}function tB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Wue(e,t,r){return tB(e,"#"+t,r)}function Yue(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Jue(e,t,r,n){for(var i=typeof t!="string"?t:mn(t),a=typeof t=="string"?t:sr(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=Jp(e,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var ap={encode_col:Jn,encode_row:Ri,encode_cell:Rt,encode_range:sr,decode_col:K2,decode_row:q2,split_cell:lne,decode_cell:la,decode_range:Th,format_cell:Sl,sheet_add_aoa:a9,sheet_add_json:eB,sheet_add_dom:Y9,aoa_to_sheet:Sh,json_to_sheet:Hue,table_to_sheet:J9,table_to_book:hue,sheet_to_csv:Q9,sheet_to_txt:zue,sheet_to_json:kS,sheet_to_html:due,sheet_to_formulae:$ue,sheet_to_row_object_array:kS,sheet_get_cell:Jp,book_new:oC,book_append_sheet:lC,book_set_sheet_visibility:que,cell_set_number_format:Kue,cell_set_hyperlink:tB,cell_set_internal_link:Wue,cell_add_comment:Yue,sheet_set_array_formula:Jue,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const rB=e=>String(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Xue=e=>{if(e==null)return 0;if(typeof e=="number")return e;const t=String(e).trim();if(!t)return 0;const r=t.replace(/[R$\s.]/g,"").replace(",","."),n=parseFloat(r);return isNaN(n)?0:n},gM=e=>{if(!e)return 0;if(typeof e=="number")return e;const t=String(e).replace(/[%]/g,"").replace(",",".");return parseFloat(t)||0},Zue=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result,s=ox(a,{type:"binary"}),o=s.SheetNames[0],c=s.Sheets[o];if(!c["!ref"]){t([]);return}const u=ap.decode_range(c["!ref"]),d=[],p=[],m=u.s.r;for(let y=u.s.c;y<=u.e.c;++y){const _=ap.encode_cell({c:y,r:m}),b=c[_];if(b&&b.v){const E=String(b.v);p.push({index:y,name:E,normalized:rB(E)})}}for(let y=m+1;y<=u.e.r;++y){const _={};let b;if(p.forEach(F=>{const H=ap.encode_cell({c:F.index,r:y}),fe=c[H];fe&&(_[F.normalized]=fe.v,!b&&(F.normalized.includes("endereco")||F.normalized.includes("logradouro")||F.normalized.includes("localizacao")||F.normalized.includes("comercial")||F.normalized==="rua"||F.normalized==="mapa"||F.normalized==="link")&&fe.l&&fe.l.Target&&(b=fe.l.Target))}),Object.keys(_).length===0)continue;const E=_.endereco||_["endereco comercial"]||_.logradouro||_.localizacao||_["endereco completo"]||_.rua||_.end||"";let{address:A,link:L,lat:I,lng:O}=Yy(E),D=b||L;const M=_.link||_.mapa||_["google maps"]||_.url||_.maps||_.coordenadas||_.geolocalizacao;let N;p.forEach(F=>{if(["link","mapa","google maps","url","maps","coordenadas","geolocalizacao"].includes(F.normalized)){const H=ap.encode_cell({c:F.index,r:y}),fe=c[H];fe&&fe.l&&fe.l.Target&&(N=fe.l.Target)}});const k=N||M;if(k){const F=Yy(k);F.link&&(D=F.link),F.lat&&(I=F.lat),F.lng&&(O=F.lng)}const P=_["razao social"]||_.cliente||_["nome fantasia"]||_.empresa||_.nome||_["nome cliente"]||_.parceiro||_.loja||"",U=_["nome do proprietario"]||_.proprietario||_.dono||_["contato principal"]||_.responsavel||_.socio||"",B=String(_.contato||_.telefone||_.celular||_.whatsapp||_.tel||_.fone||"");(P||A||E)&&d.push({companyName:P,ownerName:U,phone:B,address:A,googleMapsLink:D,latitude:I,longitude:O})}t(d)}catch(a){console.error("Excel Parsing Error:",a),r(a)}},n.onerror=i=>r(i),n.readAsBinaryString(e)}),nB=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result,s=ox(a,{type:"binary"}),o=s.SheetNames[0],c=s.Sheets[o],u=[];ap.sheet_to_json(c,{defval:""}).forEach(p=>{const m={};Object.keys(p).forEach(D=>{m[rB(D)]=p[D]});const y=m.departamento||m.categoria||"Geral",_=String(m["cod.prod / sku"]||m["cod.prod"]||m.sku||m["numero do sku"]||""),b=m["nome do produto"]||m.descricao||m.nome||m.produto||"",E=m.marca||m.fabricante||"Genrico",A=Xue(m["preco de venda"]||m.preco||0),L=String(m["cod.fabrica"]||m["cod fabrica"]||m["codigo fabrica"]||""),I=gM(m.margem||0),O=gM(m.desconto||m.discount||0);(_||b)&&u.push({category:y,sku:_,brand:E,factoryCode:L,name:b,price:A,margin:I,discount:O})}),t(u)}catch(a){console.error("Product Excel Parsing Error:",a),r(a)}},n.onerror=i=>r(i),n.readAsBinaryString(e)});var Que={};let efe,tfe;function rfe(){return{geminiUrl:efe,vertexUrl:tfe}}function nfe(e,t,r,n){var i,a;if(!e?.baseUrl){const s=rfe();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:r:(a=s.geminiUrl)!==null&&a!==void 0?a:n}return e.baseUrl}class jl{}function rt(e,t){const r=/\{([^}]+)\}/g;return e.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(e,t,r){for(let a=0;a<t.length-1;a++){const s=t[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in e))if(Array.isArray(r))e[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[o])){const c=e[o];if(Array.isArray(r))for(let u=0;u<c.length;u++){const d=c[u];w(d,t.slice(a+1),r[u])}else for(const u of c)w(u,t.slice(a+1),r)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in e||(e[o]=[{}]);const c=e[o];w(c[0],t.slice(a+1),r);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const n=t[t.length-1],i=e[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(e,r):e[n]=r}function x(e,t,r=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return r;const i=t[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const s=e[a];return Array.isArray(s)?s.map(o=>x(o,t.slice(n+1),r)):r}else return r}else e=e[i]}return e}catch(n){if(n instanceof TypeError)return r;throw n}}function ife(e,t){for(const[r,n]of Object.entries(t)){const i=r.split("."),a=n.split("."),s=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&a.length>o)for(let c=o;c<a.length;c++){const u=a[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}IS(e,i,a,0,s)}}function IS(e,t,r,n,i){if(n>=t.length||typeof e!="object"||e===null)return;const a=t[n];if(a.endsWith("[]")){const s=a.slice(0,-2),o=e;if(s in o&&Array.isArray(o[s]))for(const c of o[s])IS(c,t,r,n+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,o=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of o)c[u]=s[u];for(const[u,d]of Object.entries(c)){const p=[];for(const m of r.slice(n))m==="*"?p.push(u):p.push(m);w(s,p,d)}for(const u of o)delete s[u]}}else{const s=e;a in s&&IS(s[a],t,r,n+1,i)}}function cC(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function afe(e){const t={},r=x(e,["operationName"]);r!=null&&w(t,["operationName"],r);const n=x(e,["resourceName"]);return n!=null&&w(t,["_url","resourceName"],n),t}function sfe(e){const t={},r=x(e,["name"]);r!=null&&w(t,["name"],r);const n=x(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=x(e,["done"]);i!=null&&w(t,["done"],i);const a=x(e,["error"]);a!=null&&w(t,["error"],a);const s=x(e,["response","generateVideoResponse"]);return s!=null&&w(t,["response"],lfe(s)),t}function ofe(e){const t={},r=x(e,["name"]);r!=null&&w(t,["name"],r);const n=x(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=x(e,["done"]);i!=null&&w(t,["done"],i);const a=x(e,["error"]);a!=null&&w(t,["error"],a);const s=x(e,["response"]);return s!=null&&w(t,["response"],cfe(s)),t}function lfe(e){const t={},r=x(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>ufe(s))),w(t,["generatedVideos"],a)}const n=x(e,["raiMediaFilteredCount"]);n!=null&&w(t,["raiMediaFilteredCount"],n);const i=x(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function cfe(e){const t={},r=x(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>ffe(s))),w(t,["generatedVideos"],a)}const n=x(e,["raiMediaFilteredCount"]);n!=null&&w(t,["raiMediaFilteredCount"],n);const i=x(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function ufe(e){const t={},r=x(e,["video"]);return r!=null&&w(t,["video"],vfe(r)),t}function ffe(e){const t={},r=x(e,["_self"]);return r!=null&&w(t,["video"],yfe(r)),t}function dfe(e){const t={},r=x(e,["operationName"]);return r!=null&&w(t,["_url","operationName"],r),t}function hfe(e){const t={},r=x(e,["operationName"]);return r!=null&&w(t,["_url","operationName"],r),t}function pfe(e){const t={},r=x(e,["name"]);r!=null&&w(t,["name"],r);const n=x(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=x(e,["done"]);i!=null&&w(t,["done"],i);const a=x(e,["error"]);a!=null&&w(t,["error"],a);const s=x(e,["response"]);return s!=null&&w(t,["response"],mfe(s)),t}function mfe(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["parent"]);n!=null&&w(t,["parent"],n);const i=x(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function iB(e){const t={},r=x(e,["name"]);r!=null&&w(t,["name"],r);const n=x(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=x(e,["done"]);i!=null&&w(t,["done"],i);const a=x(e,["error"]);a!=null&&w(t,["error"],a);const s=x(e,["response"]);return s!=null&&w(t,["response"],gfe(s)),t}function gfe(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["parent"]);n!=null&&w(t,["parent"],n);const i=x(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function vfe(e){const t={},r=x(e,["uri"]);r!=null&&w(t,["uri"],r);const n=x(e,["encodedVideo"]);n!=null&&w(t,["videoBytes"],cC(n));const i=x(e,["encoding"]);return i!=null&&w(t,["mimeType"],i),t}function yfe(e){const t={},r=x(e,["gcsUri"]);r!=null&&w(t,["uri"],r);const n=x(e,["bytesBase64Encoded"]);n!=null&&w(t,["videoBytes"],cC(n));const i=x(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}var vM;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vM||(vM={}));var yM;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(yM||(yM={}));var xM;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(xM||(xM={}));var Pc;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Pc||(Pc={}));var _M;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_M||(_M={}));var bM;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(bM||(bM={}));var wM;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wM||(wM={}));var EM;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(EM||(EM={}));var TM;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(TM||(TM={}));var SM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(SM||(SM={}));var AM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(AM||(AM={}));var CM;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(CM||(CM={}));var NM;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(NM||(NM={}));var kM;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(kM||(kM={}));var IM;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(IM||(IM={}));var PM;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(PM||(PM={}));var RM;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(RM||(RM={}));var OM;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(OM||(OM={}));var MM;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(MM||(MM={}));var DM;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(DM||(DM={}));var LM;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(LM||(LM={}));var lx;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(lx||(lx={}));var FM;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(FM||(FM={}));var jM;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jM||(jM={}));var UM;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(UM||(UM={}));var PS;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(PS||(PS={}));var BM;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(BM||(BM={}));var VM;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(VM||(VM={}));var RS;(function(e){e.COLLECTION="COLLECTION"})(RS||(RS={}));var zM;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(zM||(zM={}));var $M;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($M||($M={}));var HM;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(HM||(HM={}));var GM;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(GM||(GM={}));var qM;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(qM||(qM={}));var KM;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(KM||(KM={}));var WM;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(WM||(WM={}));var YM;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(YM||(YM={}));var JM;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(JM||(JM={}));var XM;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(XM||(XM={}));var ZM;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(ZM||(ZM={}));var QM;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(QM||(QM={}));var eD;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(eD||(eD={}));var tD;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(tD||(tD={}));var rD;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(rD||(rD={}));var nD;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(nD||(nD={}));var iD;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(iD||(iD={}));var aD;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(aD||(aD={}));var sD;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(sD||(sD={}));var oD;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(oD||(oD={}));var lD;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(lD||(lD={}));var cD;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(cD||(cD={}));var uD;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(uD||(uD={}));var fD;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(fD||(fD={}));var dD;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dD||(dD={}));var hD;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(hD||(hD={}));var pD;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(pD||(pD={}));var Fd;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Fd||(Fd={}));class OS{constructor(t){const r={};for(const n of t.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=t}json(){return this.responseInternal.json()}}class M0{get text(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const p=[];for(const m of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[y,_]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(_!==null||_!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,u+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const p of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&d.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(u?.length!==0)return u}get executableCode(){var t,r,n,i,a,s,o,c,u;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,r,n,i,a,s,o,c,u;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.output}}class mD{}class gD{}class xfe{}class _fe{}class bfe{}class wfe{}class vD{}class yD{}class xD{}class Efe{}class cx{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new cx;let i;const a=t;return r?i=ofe(a):i=sfe(a),Object.assign(n,i),n}}class _D{}class bD{}class wD{}class ED{}class Tfe{}class Sfe{}class Afe{}class uC{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new uC,a=pfe(t);return Object.assign(n,a),n}}class Cfe{}class Nfe{}class kfe{}class Ife{}class TD{}class Pfe{get text(){var t,r,n;let i="",a=!1;const s=[];for(const o of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,u]of Object.entries(o))c!=="text"&&c!=="thought"&&u!==null&&s.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,r,n;let i="";const a=[];for(const s of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,c]of Object.entries(s))o!=="inlineData"&&c!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Rfe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class fC{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new fC,a=iB(t);return Object.assign(n,a),n}}function fr(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const r=t.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function aB(e,t){const r=fr(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function sB(e){return Array.isArray(e)?e.map(t=>ux(t)):[ux(e)]}function ux(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function oB(e){const t=ux(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function lB(e){const t=ux(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function SD(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function cB(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>SD(t)):[SD(e)]}function MS(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function AD(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function CD(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Gi(e){if(e==null)throw new Error("ContentUnion is required");return MS(e)?e:{role:"user",parts:cB(e)}}function dC(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(r=>{const n=Gi(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(e.isVertexAI()){const r=Gi(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(t)?t.map(r=>Gi(r)):[Gi(t)]}function Es(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(AD(e)||CD(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gi(e)]}const t=[],r=[],n=MS(e[0]);for(const i of e){const a=MS(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(AD(i)||CD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||t.push({role:"user",parts:cB(r)}),t}function Ofe(e,t){e.includes("null")&&(t.nullable=!0);const r=e.filter(n=>n!=="null");if(r.length===1)t.type=Object.values(Pc).includes(r[0].toUpperCase())?r[0].toUpperCase():Pc.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const n of r)t.anyOf.push({type:Object.values(Pc).includes(n.toUpperCase())?n.toUpperCase():Pc.TYPE_UNSPECIFIED})}}function Wd(e){const t={},r=["items"],n=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&Ofe(e.type,t);for(const[s,o]of Object.entries(e))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(Pc).includes(o.toUpperCase())?o.toUpperCase():Pc.TYPE_UNSPECIFIED}else if(r.includes(s))t[s]=Wd(o);else if(n.includes(s)){const c=[];for(const u of o){if(u.type=="null"){t.nullable=!0;continue}c.push(Wd(u))}t[s]=c}else if(i.includes(s)){const c={};for(const[u,d]of Object.entries(o))c[u]=Wd(d);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=o}return t}function hC(e){return Wd(e)}function pC(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function mC(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ah(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Wd(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Wd(t.response));return e}function Ch(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of e)t.push(r);return t}function Mfe(e,t,r,n=1){const i=!t.startsWith(`${r}/`)&&t.split("/").length===n;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${r}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`:t:i?`${r}/${t}`:t}function Ul(e,t){if(typeof t!="string")throw new Error("name must be a string");return Mfe(e,t,"cachedContents")}function uB(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function au(e){return cC(e)}function Dfe(e){return e!=null&&typeof e=="object"&&"name"in e}function Lfe(e){return e!=null&&typeof e=="object"&&"video"in e}function Ffe(e){return e!=null&&typeof e=="object"&&"uri"in e}function fB(e){var t;let r;if(Dfe(e)&&(r=e.name),!(Ffe(e)&&(r=e.uri,r===void 0))&&!(Lfe(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function dB(e,t){let r;return e.isVertexAI()?r=t?"publishers/google/models":"models":r=t?"models":"tunedModels",r}function hB(e){for(const t of["models","tunedModels","publisherModels"])if(jfe(e,t))return e[t];return[]}function jfe(e,t){return e!==null&&typeof e=="object"&&t in e}function Ufe(e,t={}){const r=e,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),t.behavior&&(n.behavior=t.behavior),{functionDeclarations:[n]}}function Bfe(e,t={}){const r=[],n=new Set;for(const i of e){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const s=Ufe(i,t);s.functionDeclarations&&r.push(...s.functionDeclarations)}return{functionDeclarations:r}}function pB(e,t){let r;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Vfe(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function mB(e){if(typeof e!="object"||e===null)return{};const t=e,r=t.inlinedResponses;if(typeof r!="object"||r===null)return e;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Nh(e,t){const r=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function gB(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function zfe(e){const t={},r=x(e,["responsesFile"]);r!=null&&w(t,["fileName"],r);const n=x(e,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>wde(s))),w(t,["inlinedResponses"],a)}const i=x(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["inlinedEmbedContentResponses"],a)}return t}function $fe(e){const t={},r=x(e,["predictionsFormat"]);r!=null&&w(t,["format"],r);const n=x(e,["gcsDestination","outputUriPrefix"]);n!=null&&w(t,["gcsUri"],n);const i=x(e,["bigqueryDestination","outputUri"]);return i!=null&&w(t,["bigqueryUri"],i),t}function Hfe(e){const t={},r=x(e,["format"]);r!=null&&w(t,["predictionsFormat"],r);const n=x(e,["gcsUri"]);n!=null&&w(t,["gcsDestination","outputUriPrefix"],n);const i=x(e,["bigqueryUri"]);if(i!=null&&w(t,["bigqueryDestination","outputUri"],i),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function vy(e){const t={},r=x(e,["name"]);r!=null&&w(t,["name"],r);const n=x(e,["metadata","displayName"]);n!=null&&w(t,["displayName"],n);const i=x(e,["metadata","state"]);i!=null&&w(t,["state"],gB(i));const a=x(e,["metadata","createTime"]);a!=null&&w(t,["createTime"],a);const s=x(e,["metadata","endTime"]);s!=null&&w(t,["endTime"],s);const o=x(e,["metadata","updateTime"]);o!=null&&w(t,["updateTime"],o);const c=x(e,["metadata","model"]);c!=null&&w(t,["model"],c);const u=x(e,["metadata","output"]);return u!=null&&w(t,["dest"],zfe(mB(u))),t}function DS(e){const t={},r=x(e,["name"]);r!=null&&w(t,["name"],r);const n=x(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=x(e,["state"]);i!=null&&w(t,["state"],gB(i));const a=x(e,["error"]);a!=null&&w(t,["error"],a);const s=x(e,["createTime"]);s!=null&&w(t,["createTime"],s);const o=x(e,["startTime"]);o!=null&&w(t,["startTime"],o);const c=x(e,["endTime"]);c!=null&&w(t,["endTime"],c);const u=x(e,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=x(e,["model"]);d!=null&&w(t,["model"],d);const p=x(e,["inputConfig"]);p!=null&&w(t,["src"],Gfe(p));const m=x(e,["outputConfig"]);m!=null&&w(t,["dest"],$fe(mB(m)));const y=x(e,["completionStats"]);return y!=null&&w(t,["completionStats"],y),t}function Gfe(e){const t={},r=x(e,["instancesFormat"]);r!=null&&w(t,["format"],r);const n=x(e,["gcsSource","uris"]);n!=null&&w(t,["gcsUri"],n);const i=x(e,["bigquerySource","inputUri"]);return i!=null&&w(t,["bigqueryUri"],i),t}function qfe(e,t){const r={};if(x(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=x(t,["fileName"]);n!=null&&w(r,["fileName"],n);const i=x(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>bde(e,s))),w(r,["requests","requests"],a)}return r}function Kfe(e){const t={},r=x(e,["format"]);r!=null&&w(t,["instancesFormat"],r);const n=x(e,["gcsUri"]);n!=null&&w(t,["gcsSource","uris"],n);const i=x(e,["bigqueryUri"]);if(i!=null&&w(t,["bigquerySource","inputUri"],i),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Wfe(e){const t={},r=x(e,["data"]);if(r!=null&&w(t,["data"],r),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Yfe(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Nh(e,n)),r}function Jfe(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Nh(e,n)),r}function Xfe(e){const t={},r=x(e,["content"]);r!=null&&w(t,["content"],r);const n=x(e,["citationMetadata"]);n!=null&&w(t,["citationMetadata"],Zfe(n));const i=x(e,["tokenCount"]);i!=null&&w(t,["tokenCount"],i);const a=x(e,["finishReason"]);a!=null&&w(t,["finishReason"],a);const s=x(e,["avgLogprobs"]);s!=null&&w(t,["avgLogprobs"],s);const o=x(e,["groundingMetadata"]);o!=null&&w(t,["groundingMetadata"],o);const c=x(e,["index"]);c!=null&&w(t,["index"],c);const u=x(e,["logprobsResult"]);u!=null&&w(t,["logprobsResult"],u);const d=x(e,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>y)),w(t,["safetyRatings"],m)}const p=x(e,["urlContextMetadata"]);return p!=null&&w(t,["urlContextMetadata"],p),t}function Zfe(e){const t={},r=x(e,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),w(t,["citations"],n)}return t}function vB(e){const t={},r=x(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>kde(a))),w(t,["parts"],i)}const n=x(e,["role"]);return n!=null&&w(t,["role"],n),t}function Qfe(e,t){const r={},n=x(e,["displayName"]);if(t!==void 0&&n!=null&&w(t,["batch","displayName"],n),x(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function ede(e,t){const r={},n=x(e,["displayName"]);t!==void 0&&n!=null&&w(t,["displayName"],n);const i=x(e,["dest"]);return t!==void 0&&i!=null&&w(t,["outputConfig"],Hfe(Vfe(i))),r}function ND(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["_url","model"],fr(e,n));const i=x(t,["src"]);i!=null&&w(r,["batch","inputConfig"],qfe(e,pB(e,i)));const a=x(t,["config"]);return a!=null&&Qfe(a,r),r}function tde(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["model"],fr(e,n));const i=x(t,["src"]);i!=null&&w(r,["inputConfig"],Kfe(pB(e,i)));const a=x(t,["config"]);return a!=null&&ede(a,r),r}function rde(e,t){const r={},n=x(e,["displayName"]);return t!==void 0&&n!=null&&w(t,["batch","displayName"],n),r}function nde(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["_url","model"],fr(e,n));const i=x(t,["src"]);i!=null&&w(r,["batch","inputConfig"],ude(e,i));const a=x(t,["config"]);return a!=null&&rde(a,r),r}function ide(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Nh(e,n)),r}function ade(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Nh(e,n)),r}function sde(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["name"]);n!=null&&w(t,["name"],n);const i=x(e,["done"]);i!=null&&w(t,["done"],i);const a=x(e,["error"]);return a!=null&&w(t,["error"],a),t}function ode(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["name"]);n!=null&&w(t,["name"],n);const i=x(e,["done"]);i!=null&&w(t,["done"],i);const a=x(e,["error"]);return a!=null&&w(t,["error"],a),t}function lde(e,t){const r={},n=x(t,["contents"]);if(n!=null){let a=dC(e,n);Array.isArray(a)&&(a=a.map(s=>s)),w(r,["requests[]","request","content"],a)}const i=x(t,["config"]);return i!=null&&(w(r,["_self"],cde(i,r)),ife(r,{"requests[].*":"requests[].request.*"})),r}function cde(e,t){const r={},n=x(e,["taskType"]);t!==void 0&&n!=null&&w(t,["requests[]","taskType"],n);const i=x(e,["title"]);t!==void 0&&i!=null&&w(t,["requests[]","title"],i);const a=x(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&w(t,["requests[]","outputDimensionality"],a),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function ude(e,t){const r={},n=x(t,["fileName"]);n!=null&&w(r,["file_name"],n);const i=x(t,["inlinedRequests"]);return i!=null&&w(r,["requests"],lde(e,i)),r}function fde(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function dde(e){const t={},r=x(e,["id"]);r!=null&&w(t,["id"],r);const n=x(e,["args"]);n!=null&&w(t,["args"],n);const i=x(e,["name"]);if(i!=null&&w(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hde(e){const t={},r=x(e,["allowedFunctionNames"]);r!=null&&w(t,["allowedFunctionNames"],r);const n=x(e,["mode"]);if(n!=null&&w(t,["mode"],n),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function pde(e,t,r){const n={},i=x(t,["systemInstruction"]);r!==void 0&&i!=null&&w(r,["systemInstruction"],vB(Gi(i)));const a=x(t,["temperature"]);a!=null&&w(n,["temperature"],a);const s=x(t,["topP"]);s!=null&&w(n,["topP"],s);const o=x(t,["topK"]);o!=null&&w(n,["topK"],o);const c=x(t,["candidateCount"]);c!=null&&w(n,["candidateCount"],c);const u=x(t,["maxOutputTokens"]);u!=null&&w(n,["maxOutputTokens"],u);const d=x(t,["stopSequences"]);d!=null&&w(n,["stopSequences"],d);const p=x(t,["responseLogprobs"]);p!=null&&w(n,["responseLogprobs"],p);const m=x(t,["logprobs"]);m!=null&&w(n,["logprobs"],m);const y=x(t,["presencePenalty"]);y!=null&&w(n,["presencePenalty"],y);const _=x(t,["frequencyPenalty"]);_!=null&&w(n,["frequencyPenalty"],_);const b=x(t,["seed"]);b!=null&&w(n,["seed"],b);const E=x(t,["responseMimeType"]);E!=null&&w(n,["responseMimeType"],E);const A=x(t,["responseSchema"]);A!=null&&w(n,["responseSchema"],hC(A));const L=x(t,["responseJsonSchema"]);if(L!=null&&w(n,["responseJsonSchema"],L),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=x(t,["safetySettings"]);if(r!==void 0&&I!=null){let H=I;Array.isArray(H)&&(H=H.map(fe=>Ide(fe))),w(r,["safetySettings"],H)}const O=x(t,["tools"]);if(r!==void 0&&O!=null){let H=Ch(O);Array.isArray(H)&&(H=H.map(fe=>Rde(Ah(fe)))),w(r,["tools"],H)}const D=x(t,["toolConfig"]);if(r!==void 0&&D!=null&&w(r,["toolConfig"],Pde(D)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=x(t,["cachedContent"]);r!==void 0&&M!=null&&w(r,["cachedContent"],Ul(e,M));const N=x(t,["responseModalities"]);N!=null&&w(n,["responseModalities"],N);const k=x(t,["mediaResolution"]);k!=null&&w(n,["mediaResolution"],k);const P=x(t,["speechConfig"]);if(P!=null&&w(n,["speechConfig"],pC(P)),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=x(t,["thinkingConfig"]);U!=null&&w(n,["thinkingConfig"],U);const B=x(t,["imageConfig"]);B!=null&&w(n,["imageConfig"],_de(B));const F=x(t,["enableEnhancedCivicAnswers"]);if(F!=null&&w(n,["enableEnhancedCivicAnswers"],F),x(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function mde(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>Xfe(u))),w(t,["candidates"],c)}const i=x(e,["modelVersion"]);i!=null&&w(t,["modelVersion"],i);const a=x(e,["promptFeedback"]);a!=null&&w(t,["promptFeedback"],a);const s=x(e,["responseId"]);s!=null&&w(t,["responseId"],s);const o=x(e,["usageMetadata"]);return o!=null&&w(t,["usageMetadata"],o),t}function gde(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Nh(e,n)),r}function vde(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Nh(e,n)),r}function yde(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=x(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function xde(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=x(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function _de(e){const t={},r=x(e,["aspectRatio"]);r!=null&&w(t,["aspectRatio"],r);const n=x(e,["imageSize"]);if(n!=null&&w(t,["imageSize"],n),x(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function bde(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["request","model"],fr(e,n));const i=x(t,["contents"]);if(i!=null){let o=Es(i);Array.isArray(o)&&(o=o.map(c=>vB(c))),w(r,["request","contents"],o)}const a=x(t,["metadata"]);a!=null&&w(r,["metadata"],a);const s=x(t,["config"]);return s!=null&&w(r,["request","generationConfig"],pde(e,s,x(r,["request"],{}))),r}function wde(e){const t={},r=x(e,["response"]);r!=null&&w(t,["response"],mde(r));const n=x(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=x(e,["error"]);return i!=null&&w(t,["error"],i),t}function Ede(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=x(e,["pageToken"]);if(t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),x(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function Tde(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=x(e,["pageToken"]);t!==void 0&&i!=null&&w(t,["_query","pageToken"],i);const a=x(e,["filter"]);return t!==void 0&&a!=null&&w(t,["_query","filter"],a),r}function Sde(e){const t={},r=x(e,["config"]);return r!=null&&Ede(r,t),t}function Ade(e){const t={},r=x(e,["config"]);return r!=null&&Tde(r,t),t}function Cde(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=x(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>vy(s))),w(t,["batchJobs"],a)}return t}function Nde(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=x(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>DS(s))),w(t,["batchJobs"],a)}return t}function kde(e){const t={},r=x(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=x(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=x(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&w(t,["fileData"],fde(a));const s=x(e,["functionCall"]);s!=null&&w(t,["functionCall"],dde(s));const o=x(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=x(e,["inlineData"]);c!=null&&w(t,["inlineData"],Wfe(c));const u=x(e,["text"]);u!=null&&w(t,["text"],u);const d=x(e,["thought"]);d!=null&&w(t,["thought"],d);const p=x(e,["thoughtSignature"]);p!=null&&w(t,["thoughtSignature"],p);const m=x(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function Ide(e){const t={},r=x(e,["category"]);if(r!=null&&w(t,["category"],r),x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=x(e,["threshold"]);return n!=null&&w(t,["threshold"],n),t}function Pde(e){const t={},r=x(e,["retrievalConfig"]);r!=null&&w(t,["retrievalConfig"],r);const n=x(e,["functionCallingConfig"]);return n!=null&&w(t,["functionCallingConfig"],hde(n)),t}function Rde(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=x(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=x(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),w(t,["functionDeclarations"],d)}const s=x(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],yde(s));const o=x(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],xde(o));const c=x(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=x(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}var Al;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Al||(Al={}));class If{constructor(t,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(t,n,i)}init(t,r,n){var i,a;this.nameInternal=t,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!n||Object.keys(n).length===0?s={config:{}}:typeof n=="object"?s=Object.assign({},n):s=n,s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class Ode extends jl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new If(Al.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(t){const r=ND(this.apiClient,t),n=r._url,i=rt("{model}:batchGenerateContent",n),o=r.batch.inputConfig.requests,c=o.requests,u=[];for(const d of c){const p=Object.assign({},d);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=m,p.request=y}u.push(p)}return o.requests=u,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(t),s=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(s)n.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=tde(this.apiClient,t);return o=rt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>DS(d))}else{const u=ND(this.apiClient,t);return o=rt("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>vy(d))}}async createEmbeddingsInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=nde(this.apiClient,t);return a=rt("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>vy(c))}}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=vde(this.apiClient,t);return o=rt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>DS(d))}else{const u=gde(this.apiClient,t);return o=rt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>vy(d))}}async cancel(t){var r,n,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const c=Jfe(this.apiClient,t);s=rt("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}else{const c=Yfe(this.apiClient,t);s=rt("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ade(t);return o=rt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Nde(d),m=new TD;return Object.assign(m,p),m})}else{const u=Sde(t);return o=rt("batches",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Cde(d),m=new TD;return Object.assign(m,p),m})}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=ade(this.apiClient,t);return o=rt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>ode(d))}else{const u=ide(this.apiClient,t);return o=rt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>sde(d))}}}function Mde(e){const t={},r=x(e,["data"]);if(r!=null&&w(t,["data"],r),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function kD(e){const t={},r=x(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>nhe(a))),w(t,["parts"],i)}const n=x(e,["role"]);return n!=null&&w(t,["role"],n),t}function Dde(e,t){const r={},n=x(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=x(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const a=x(e,["displayName"]);t!==void 0&&a!=null&&w(t,["displayName"],a);const s=x(e,["contents"]);if(t!==void 0&&s!=null){let d=Es(s);Array.isArray(d)&&(d=d.map(p=>kD(p))),w(t,["contents"],d)}const o=x(e,["systemInstruction"]);t!==void 0&&o!=null&&w(t,["systemInstruction"],kD(Gi(o)));const c=x(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>ahe(p))),w(t,["tools"],d)}const u=x(e,["toolConfig"]);if(t!==void 0&&u!=null&&w(t,["toolConfig"],ihe(u)),x(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Lde(e,t){const r={},n=x(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=x(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const a=x(e,["displayName"]);t!==void 0&&a!=null&&w(t,["displayName"],a);const s=x(e,["contents"]);if(t!==void 0&&s!=null){let p=Es(s);Array.isArray(p)&&(p=p.map(m=>m)),w(t,["contents"],p)}const o=x(e,["systemInstruction"]);t!==void 0&&o!=null&&w(t,["systemInstruction"],Gi(o));const c=x(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>she(m))),w(t,["tools"],p)}const u=x(e,["toolConfig"]);t!==void 0&&u!=null&&w(t,["toolConfig"],u);const d=x(e,["kmsKeyName"]);return t!==void 0&&d!=null&&w(t,["encryption_spec","kmsKeyName"],d),r}function Fde(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["model"],aB(e,n));const i=x(t,["config"]);return i!=null&&Dde(i,r),r}function jde(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["model"],aB(e,n));const i=x(t,["config"]);return i!=null&&Lde(i,r),r}function Ude(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Ul(e,n)),r}function Bde(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Ul(e,n)),r}function Vde(e){const t={},r=x(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function zde(e){const t={},r=x(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function $de(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Hde(e){const t={},r=x(e,["id"]);r!=null&&w(t,["id"],r);const n=x(e,["args"]);n!=null&&w(t,["args"],n);const i=x(e,["name"]);if(i!=null&&w(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Gde(e){const t={},r=x(e,["allowedFunctionNames"]);r!=null&&w(t,["allowedFunctionNames"],r);const n=x(e,["mode"]);if(n!=null&&w(t,["mode"],n),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function qde(e){const t={},r=x(e,["description"]);r!=null&&w(t,["description"],r);const n=x(e,["name"]);n!=null&&w(t,["name"],n);const i=x(e,["parameters"]);i!=null&&w(t,["parameters"],i);const a=x(e,["parametersJsonSchema"]);a!=null&&w(t,["parametersJsonSchema"],a);const s=x(e,["response"]);s!=null&&w(t,["response"],s);const o=x(e,["responseJsonSchema"]);if(o!=null&&w(t,["responseJsonSchema"],o),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Kde(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Ul(e,n)),r}function Wde(e,t){const r={},n=x(t,["name"]);return n!=null&&w(r,["_url","name"],Ul(e,n)),r}function Yde(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=x(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function Jde(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=x(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function Xde(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Zde(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Qde(e){const t={},r=x(e,["config"]);return r!=null&&Xde(r,t),t}function ehe(e){const t={},r=x(e,["config"]);return r!=null&&Zde(r,t),t}function the(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=x(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["cachedContents"],a)}return t}function rhe(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=x(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["cachedContents"],a)}return t}function nhe(e){const t={},r=x(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=x(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=x(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&w(t,["fileData"],$de(a));const s=x(e,["functionCall"]);s!=null&&w(t,["functionCall"],Hde(s));const o=x(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=x(e,["inlineData"]);c!=null&&w(t,["inlineData"],Mde(c));const u=x(e,["text"]);u!=null&&w(t,["text"],u);const d=x(e,["thought"]);d!=null&&w(t,["thought"],d);const p=x(e,["thoughtSignature"]);p!=null&&w(t,["thoughtSignature"],p);const m=x(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function ihe(e){const t={},r=x(e,["retrievalConfig"]);r!=null&&w(t,["retrievalConfig"],r);const n=x(e,["functionCallingConfig"]);return n!=null&&w(t,["functionCallingConfig"],Gde(n)),t}function ahe(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=x(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=x(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),w(t,["functionDeclarations"],d)}const s=x(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],Yde(s));const o=x(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],Jde(o));const c=x(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=x(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function she(e){const t={},r=x(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const n=x(e,["computerUse"]);if(n!=null&&w(t,["computerUse"],n),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(e,["codeExecution"]);i!=null&&w(t,["codeExecution"],i);const a=x(e,["enterpriseWebSearch"]);a!=null&&w(t,["enterpriseWebSearch"],a);const s=x(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>qde(m))),w(t,["functionDeclarations"],p)}const o=x(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],o);const c=x(e,["googleSearch"]);c!=null&&w(t,["googleSearch"],c);const u=x(e,["googleSearchRetrieval"]);u!=null&&w(t,["googleSearchRetrieval"],u);const d=x(e,["urlContext"]);return d!=null&&w(t,["urlContext"],d),t}function ohe(e,t){const r={},n=x(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=x(e,["expireTime"]);return t!==void 0&&i!=null&&w(t,["expireTime"],i),r}function lhe(e,t){const r={},n=x(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=x(e,["expireTime"]);return t!==void 0&&i!=null&&w(t,["expireTime"],i),r}function che(e,t){const r={},n=x(t,["name"]);n!=null&&w(r,["_url","name"],Ul(e,n));const i=x(t,["config"]);return i!=null&&ohe(i,r),r}function uhe(e,t){const r={},n=x(t,["name"]);n!=null&&w(r,["_url","name"],Ul(e,n));const i=x(t,["config"]);return i!=null&&lhe(i,r),r}class fhe extends jl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new If(Al.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=jde(this.apiClient,t);return o=rt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=Fde(this.apiClient,t);return o=rt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Wde(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=Kde(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Bde(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=zde(d),m=new wD;return Object.assign(m,p),m})}else{const u=Ude(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Vde(d),m=new wD;return Object.assign(m,p),m})}}async update(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=uhe(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=che(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=ehe(t);return o=rt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=rhe(d),m=new ED;return Object.assign(m,p),m})}else{const u=Qde(t);return o=rt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=the(d),m=new ED;return Object.assign(m,p),m})}}}function fx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function ID(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function kt(e){return this instanceof kt?(this.v=e,this):new kt(e)}function to(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(_){return Promise.resolve(_).then(y,p)}}function o(y,_){n[y]&&(i[y]=function(b){return new Promise(function(E,A){a.push([y,b,E,A])>1||c(y,b)})},_&&(i[y]=_(i[y])))}function c(y,_){try{u(n[y](_))}catch(b){m(a[0][3],b)}}function u(y){y.value instanceof kt?Promise.resolve(y.value.v).then(d,p):m(a[0][2],y)}function d(y){c("next",y)}function p(y){c("throw",y)}function m(y,_){y(_),a.shift(),a.length&&c(a[0][0],a[0][1])}}function ro(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ID=="function"?ID(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,c){s=e[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},s)}}function dhe(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return r===void 0?!1:yB(r)}function yB(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function hhe(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function PD(e){if(e===void 0||e.length===0)return[];const t=[],r=e.length;let n=0;for(;n<r;)if(e[n].role==="user")t.push(e[n]),n++;else{const i=[];let a=!0;for(;n<r&&e[n].role==="model";)i.push(e[n]),a&&!yB(e[n])&&(a=!1),n++;a?t.push(...i):t.pop()}return t}class phe{constructor(t,r){this.modelsModule=t,this.apiClient=r}create(t){return new mhe(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class mhe{constructor(t,r,n,i={},a=[]){this.apiClient=t,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),hhe(a)}async sendMessage(t){var r;await this.sendPromise;const n=Gi(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,s,o;const c=await i,u=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];d!=null&&(m=(o=d.slice(p))!==null&&o!==void 0?o:[]);const y=u?[u]:[];this.recordHistory(n,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var r;await this.sendPromise;const n=Gi(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(t=!1){const r=t?PD(this.history):this.history;return structuredClone(r)}processStreamResponse(t,r){return to(this,arguments,function*(){var i,a,s,o,c,u;const d=[];try{for(var p=!0,m=ro(t),y;y=yield kt(m.next()),i=y.done,!i;p=!0){o=y.value,p=!1;const _=o;if(dhe(_)){const b=(u=(c=_.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;b!==void 0&&d.push(b)}yield yield kt(_)}}catch(_){a={error:_}}finally{try{!p&&!i&&(s=m.return)&&(yield kt(s.call(m)))}finally{if(a)throw a.error}}this.recordHistory(r,d)})}recordHistory(t,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...PD(n)):this.history.push(t),this.history.push(...i)}}class Xp extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Xp.prototype)}}function ghe(e){const t={},r=x(e,["file"]);return r!=null&&w(t,["file"],r),t}function vhe(e){const t={},r=x(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function yhe(e){const t={},r=x(e,["name"]);return r!=null&&w(t,["_url","file"],fB(r)),t}function xhe(e){const t={},r=x(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function _he(e){const t={},r=x(e,["name"]);return r!=null&&w(t,["_url","file"],fB(r)),t}function bhe(e){const t={},r=x(e,["uris"]);return r!=null&&w(t,["uris"],r),t}function whe(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Ehe(e){const t={},r=x(e,["config"]);return r!=null&&whe(r,t),t}function The(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=x(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["files"],a)}return t}function She(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["files"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["files"],i)}return t}class Ahe extends jl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new If(Al.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(r=>r)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ehe(t);return a=rt("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=The(c),d=new Cfe;return Object.assign(d,u),d})}}async createInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ghe(t);return a=rt("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=vhe(c),d=new Nfe;return Object.assign(d,u),d})}}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_he(t);return a=rt("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yhe(t);return a=rt("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=xhe(c),d=new kfe;return Object.assign(d,u),d})}}async registerFilesInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=bhe(t);return a=rt("files:register",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=She(c),d=new Ife;return Object.assign(d,u),d})}}}function yy(e){const t={},r=x(e,["data"]);if(r!=null&&w(t,["data"],r),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Che(e){const t={},r=x(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>$he(a))),w(t,["parts"],i)}const n=x(e,["role"]);return n!=null&&w(t,["role"],n),t}function Nhe(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function khe(e){const t={},r=x(e,["id"]);r!=null&&w(t,["id"],r);const n=x(e,["args"]);n!=null&&w(t,["args"],n);const i=x(e,["name"]);if(i!=null&&w(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ihe(e){const t={},r=x(e,["description"]);r!=null&&w(t,["description"],r);const n=x(e,["name"]);n!=null&&w(t,["name"],n);const i=x(e,["parameters"]);i!=null&&w(t,["parameters"],i);const a=x(e,["parametersJsonSchema"]);a!=null&&w(t,["parametersJsonSchema"],a);const s=x(e,["response"]);s!=null&&w(t,["response"],s);const o=x(e,["responseJsonSchema"]);if(o!=null&&w(t,["responseJsonSchema"],o),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Phe(e){const t={},r=x(e,["modelSelectionConfig"]);r!=null&&w(t,["modelConfig"],r);const n=x(e,["responseJsonSchema"]);n!=null&&w(t,["responseJsonSchema"],n);const i=x(e,["audioTimestamp"]);i!=null&&w(t,["audioTimestamp"],i);const a=x(e,["candidateCount"]);a!=null&&w(t,["candidateCount"],a);const s=x(e,["enableAffectiveDialog"]);s!=null&&w(t,["enableAffectiveDialog"],s);const o=x(e,["frequencyPenalty"]);o!=null&&w(t,["frequencyPenalty"],o);const c=x(e,["logprobs"]);c!=null&&w(t,["logprobs"],c);const u=x(e,["maxOutputTokens"]);u!=null&&w(t,["maxOutputTokens"],u);const d=x(e,["mediaResolution"]);d!=null&&w(t,["mediaResolution"],d);const p=x(e,["presencePenalty"]);p!=null&&w(t,["presencePenalty"],p);const m=x(e,["responseLogprobs"]);m!=null&&w(t,["responseLogprobs"],m);const y=x(e,["responseMimeType"]);y!=null&&w(t,["responseMimeType"],y);const _=x(e,["responseModalities"]);_!=null&&w(t,["responseModalities"],_);const b=x(e,["responseSchema"]);b!=null&&w(t,["responseSchema"],b);const E=x(e,["routingConfig"]);E!=null&&w(t,["routingConfig"],E);const A=x(e,["seed"]);A!=null&&w(t,["seed"],A);const L=x(e,["speechConfig"]);L!=null&&w(t,["speechConfig"],L);const I=x(e,["stopSequences"]);I!=null&&w(t,["stopSequences"],I);const O=x(e,["temperature"]);O!=null&&w(t,["temperature"],O);const D=x(e,["thinkingConfig"]);D!=null&&w(t,["thinkingConfig"],D);const M=x(e,["topK"]);M!=null&&w(t,["topK"],M);const N=x(e,["topP"]);if(N!=null&&w(t,["topP"],N),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Rhe(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=x(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function Ohe(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=x(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function Mhe(e,t){const r={},n=x(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],n);const i=x(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=x(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=x(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=x(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=x(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=x(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=x(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const p=x(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],mC(p));const m=x(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=x(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const _=x(e,["systemInstruction"]);t!==void 0&&_!=null&&w(t,["setup","systemInstruction"],Che(Gi(_)));const b=x(e,["tools"]);if(t!==void 0&&b!=null){let M=Ch(b);Array.isArray(M)&&(M=M.map(N=>Ghe(Ah(N)))),w(t,["setup","tools"],M)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],Hhe(E));const A=x(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&w(t,["setup","inputAudioTranscription"],A);const L=x(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&w(t,["setup","outputAudioTranscription"],L);const I=x(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&w(t,["setup","realtimeInputConfig"],I);const O=x(e,["contextWindowCompression"]);t!==void 0&&O!=null&&w(t,["setup","contextWindowCompression"],O);const D=x(e,["proactivity"]);if(t!==void 0&&D!=null&&w(t,["setup","proactivity"],D),x(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Dhe(e,t){const r={},n=x(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],Phe(n));const i=x(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=x(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=x(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=x(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=x(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=x(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=x(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const p=x(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],mC(p));const m=x(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=x(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const _=x(e,["systemInstruction"]);t!==void 0&&_!=null&&w(t,["setup","systemInstruction"],Gi(_));const b=x(e,["tools"]);if(t!==void 0&&b!=null){let N=Ch(b);Array.isArray(N)&&(N=N.map(k=>qhe(Ah(k)))),w(t,["setup","tools"],N)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],E);const A=x(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&w(t,["setup","inputAudioTranscription"],A);const L=x(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&w(t,["setup","outputAudioTranscription"],L);const I=x(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&w(t,["setup","realtimeInputConfig"],I);const O=x(e,["contextWindowCompression"]);t!==void 0&&O!=null&&w(t,["setup","contextWindowCompression"],O);const D=x(e,["proactivity"]);t!==void 0&&D!=null&&w(t,["setup","proactivity"],D);const M=x(e,["explicitVadSignal"]);return t!==void 0&&M!=null&&w(t,["setup","explicitVadSignal"],M),r}function Lhe(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["setup","model"],fr(e,n));const i=x(t,["config"]);return i!=null&&w(r,["config"],Mhe(i,r)),r}function Fhe(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["setup","model"],fr(e,n));const i=x(t,["config"]);return i!=null&&w(r,["config"],Dhe(i,r)),r}function jhe(e){const t={},r=x(e,["musicGenerationConfig"]);return r!=null&&w(t,["musicGenerationConfig"],r),t}function Uhe(e){const t={},r=x(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),w(t,["weightedPrompts"],n)}return t}function Bhe(e){const t={},r=x(e,["media"]);if(r!=null){let u=sB(r);Array.isArray(u)&&(u=u.map(d=>yy(d))),w(t,["mediaChunks"],u)}const n=x(e,["audio"]);n!=null&&w(t,["audio"],yy(lB(n)));const i=x(e,["audioStreamEnd"]);i!=null&&w(t,["audioStreamEnd"],i);const a=x(e,["video"]);a!=null&&w(t,["video"],yy(oB(a)));const s=x(e,["text"]);s!=null&&w(t,["text"],s);const o=x(e,["activityStart"]);o!=null&&w(t,["activityStart"],o);const c=x(e,["activityEnd"]);return c!=null&&w(t,["activityEnd"],c),t}function Vhe(e){const t={},r=x(e,["media"]);if(r!=null){let u=sB(r);Array.isArray(u)&&(u=u.map(d=>d)),w(t,["mediaChunks"],u)}const n=x(e,["audio"]);n!=null&&w(t,["audio"],lB(n));const i=x(e,["audioStreamEnd"]);i!=null&&w(t,["audioStreamEnd"],i);const a=x(e,["video"]);a!=null&&w(t,["video"],oB(a));const s=x(e,["text"]);s!=null&&w(t,["text"],s);const o=x(e,["activityStart"]);o!=null&&w(t,["activityStart"],o);const c=x(e,["activityEnd"]);return c!=null&&w(t,["activityEnd"],c),t}function zhe(e){const t={},r=x(e,["setupComplete"]);r!=null&&w(t,["setupComplete"],r);const n=x(e,["serverContent"]);n!=null&&w(t,["serverContent"],n);const i=x(e,["toolCall"]);i!=null&&w(t,["toolCall"],i);const a=x(e,["toolCallCancellation"]);a!=null&&w(t,["toolCallCancellation"],a);const s=x(e,["usageMetadata"]);s!=null&&w(t,["usageMetadata"],Khe(s));const o=x(e,["goAway"]);o!=null&&w(t,["goAway"],o);const c=x(e,["sessionResumptionUpdate"]);c!=null&&w(t,["sessionResumptionUpdate"],c);const u=x(e,["voiceActivityDetectionSignal"]);u!=null&&w(t,["voiceActivityDetectionSignal"],u);const d=x(e,["voiceActivity"]);return d!=null&&w(t,["voiceActivity"],Whe(d)),t}function $he(e){const t={},r=x(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=x(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=x(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&w(t,["fileData"],Nhe(a));const s=x(e,["functionCall"]);s!=null&&w(t,["functionCall"],khe(s));const o=x(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=x(e,["inlineData"]);c!=null&&w(t,["inlineData"],yy(c));const u=x(e,["text"]);u!=null&&w(t,["text"],u);const d=x(e,["thought"]);d!=null&&w(t,["thought"],d);const p=x(e,["thoughtSignature"]);p!=null&&w(t,["thoughtSignature"],p);const m=x(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function Hhe(e){const t={},r=x(e,["handle"]);if(r!=null&&w(t,["handle"],r),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ghe(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=x(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=x(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),w(t,["functionDeclarations"],d)}const s=x(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],Rhe(s));const o=x(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],Ohe(o));const c=x(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=x(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function qhe(e){const t={},r=x(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const n=x(e,["computerUse"]);if(n!=null&&w(t,["computerUse"],n),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=x(e,["codeExecution"]);i!=null&&w(t,["codeExecution"],i);const a=x(e,["enterpriseWebSearch"]);a!=null&&w(t,["enterpriseWebSearch"],a);const s=x(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>Ihe(m))),w(t,["functionDeclarations"],p)}const o=x(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],o);const c=x(e,["googleSearch"]);c!=null&&w(t,["googleSearch"],c);const u=x(e,["googleSearchRetrieval"]);u!=null&&w(t,["googleSearchRetrieval"],u);const d=x(e,["urlContext"]);return d!=null&&w(t,["urlContext"],d),t}function Khe(e){const t={},r=x(e,["promptTokenCount"]);r!=null&&w(t,["promptTokenCount"],r);const n=x(e,["cachedContentTokenCount"]);n!=null&&w(t,["cachedContentTokenCount"],n);const i=x(e,["candidatesTokenCount"]);i!=null&&w(t,["responseTokenCount"],i);const a=x(e,["toolUsePromptTokenCount"]);a!=null&&w(t,["toolUsePromptTokenCount"],a);const s=x(e,["thoughtsTokenCount"]);s!=null&&w(t,["thoughtsTokenCount"],s);const o=x(e,["totalTokenCount"]);o!=null&&w(t,["totalTokenCount"],o);const c=x(e,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(_=>_)),w(t,["promptTokensDetails"],y)}const u=x(e,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(_=>_)),w(t,["cacheTokensDetails"],y)}const d=x(e,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(_=>_)),w(t,["responseTokensDetails"],y)}const p=x(e,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>_)),w(t,["toolUsePromptTokensDetails"],y)}const m=x(e,["trafficType"]);return m!=null&&w(t,["trafficType"],m),t}function Whe(e){const t={},r=x(e,["type"]);return r!=null&&w(t,["voiceActivityType"],r),t}function Yhe(e,t){const r={},n=x(e,["data"]);if(n!=null&&w(r,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=x(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function Jhe(e,t){const r={},n=x(e,["content"]);n!=null&&w(r,["content"],n);const i=x(e,["citationMetadata"]);i!=null&&w(r,["citationMetadata"],Xhe(i));const a=x(e,["tokenCount"]);a!=null&&w(r,["tokenCount"],a);const s=x(e,["finishReason"]);s!=null&&w(r,["finishReason"],s);const o=x(e,["avgLogprobs"]);o!=null&&w(r,["avgLogprobs"],o);const c=x(e,["groundingMetadata"]);c!=null&&w(r,["groundingMetadata"],c);const u=x(e,["index"]);u!=null&&w(r,["index"],u);const d=x(e,["logprobsResult"]);d!=null&&w(r,["logprobsResult"],d);const p=x(e,["safetyRatings"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(_=>_)),w(r,["safetyRatings"],y)}const m=x(e,["urlContextMetadata"]);return m!=null&&w(r,["urlContextMetadata"],m),r}function Xhe(e,t){const r={},n=x(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(r,["citations"],i)}return r}function Zhe(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["contents"]);if(a!=null){let s=Es(a);Array.isArray(s)&&(s=s.map(o=>o)),w(n,["contents"],s)}return n}function Qhe(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(r,["tokensInfo"],a)}return r}function e0e(e,t){const r={},n=x(e,["values"]);n!=null&&w(r,["values"],n);const i=x(e,["statistics"]);return i!=null&&w(r,["statistics"],t0e(i)),r}function t0e(e,t){const r={},n=x(e,["truncated"]);n!=null&&w(r,["truncated"],n);const i=x(e,["token_count"]);return i!=null&&w(r,["tokenCount"],i),r}function L1(e,t){const r={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>upe(s))),w(r,["parts"],a)}const i=x(e,["role"]);return i!=null&&w(r,["role"],i),r}function r0e(e,t){const r={},n=x(e,["controlType"]);n!=null&&w(r,["controlType"],n);const i=x(e,["enableControlImageComputation"]);return i!=null&&w(r,["computeControl"],i),r}function n0e(e,t){const r={};if(x(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function i0e(e,t,r){const n={},i=x(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Gi(i));const a=x(e,["tools"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>wB(c))),w(t,["tools"],o)}const s=x(e,["generationConfig"]);return t!==void 0&&s!=null&&w(t,["generationConfig"],Y0e(s)),n}function a0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["contents"]);if(a!=null){let o=Es(a);Array.isArray(o)&&(o=o.map(c=>L1(c))),w(n,["contents"],o)}const s=x(t,["config"]);return s!=null&&n0e(s),n}function s0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["contents"]);if(a!=null){let o=Es(a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["contents"],o)}const s=x(t,["config"]);return s!=null&&i0e(s,n),n}function o0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["totalTokens"]);i!=null&&w(r,["totalTokens"],i);const a=x(e,["cachedContentTokenCount"]);return a!=null&&w(r,["cachedContentTokenCount"],a),r}function l0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["totalTokens"]);return i!=null&&w(r,["totalTokens"],i),r}function c0e(e,t,r){const n={},i=x(t,["model"]);return i!=null&&w(n,["_url","name"],fr(e,i)),n}function u0e(e,t,r){const n={},i=x(t,["model"]);return i!=null&&w(n,["_url","name"],fr(e,i)),n}function f0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function d0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function h0e(e,t,r){const n={},i=x(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=x(e,["negativePrompt"]);t!==void 0&&a!=null&&w(t,["parameters","negativePrompt"],a);const s=x(e,["numberOfImages"]);t!==void 0&&s!=null&&w(t,["parameters","sampleCount"],s);const o=x(e,["aspectRatio"]);t!==void 0&&o!=null&&w(t,["parameters","aspectRatio"],o);const c=x(e,["guidanceScale"]);t!==void 0&&c!=null&&w(t,["parameters","guidanceScale"],c);const u=x(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const d=x(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&w(t,["parameters","safetySetting"],d);const p=x(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const m=x(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&w(t,["parameters","includeSafetyAttributes"],m);const y=x(e,["includeRaiReason"]);t!==void 0&&y!=null&&w(t,["parameters","includeRaiReason"],y);const _=x(e,["language"]);t!==void 0&&_!=null&&w(t,["parameters","language"],_);const b=x(e,["outputMimeType"]);t!==void 0&&b!=null&&w(t,["parameters","outputOptions","mimeType"],b);const E=x(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&w(t,["parameters","outputOptions","compressionQuality"],E);const A=x(e,["addWatermark"]);t!==void 0&&A!=null&&w(t,["parameters","addWatermark"],A);const L=x(e,["labels"]);t!==void 0&&L!=null&&w(t,["labels"],L);const I=x(e,["editMode"]);t!==void 0&&I!=null&&w(t,["parameters","editMode"],I);const O=x(e,["baseSteps"]);return t!==void 0&&O!=null&&w(t,["parameters","editConfig","baseSteps"],O),n}function p0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=x(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(u=>gpe(u))),w(n,["instances[0]","referenceImages"],c)}const o=x(t,["config"]);return o!=null&&h0e(o,n),n}function m0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>F1(s))),w(r,["generatedImages"],a)}return r}function g0e(e,t,r){const n={},i=x(e,["taskType"]);t!==void 0&&i!=null&&w(t,["requests[]","taskType"],i);const a=x(e,["title"]);t!==void 0&&a!=null&&w(t,["requests[]","title"],a);const s=x(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&w(t,["requests[]","outputDimensionality"],s),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function v0e(e,t,r){const n={},i=x(e,["taskType"]);t!==void 0&&i!=null&&w(t,["instances[]","task_type"],i);const a=x(e,["title"]);t!==void 0&&a!=null&&w(t,["instances[]","title"],a);const s=x(e,["outputDimensionality"]);t!==void 0&&s!=null&&w(t,["parameters","outputDimensionality"],s);const o=x(e,["mimeType"]);t!==void 0&&o!=null&&w(t,["instances[]","mimeType"],o);const c=x(e,["autoTruncate"]);return t!==void 0&&c!=null&&w(t,["parameters","autoTruncate"],c),n}function y0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["contents"]);if(a!=null){let c=dC(e,a);Array.isArray(c)&&(c=c.map(u=>u)),w(n,["requests[]","content"],c)}const s=x(t,["config"]);s!=null&&g0e(s,n);const o=x(t,["model"]);return o!==void 0&&w(n,["requests[]","model"],fr(e,o)),n}function x0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["contents"]);if(a!=null){let o=dC(e,a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["instances[]","content"],o)}const s=x(t,["config"]);return s!=null&&v0e(s,n),n}function _0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),w(r,["embeddings"],s)}const a=x(e,["metadata"]);return a!=null&&w(r,["metadata"],a),r}function b0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>e0e(o))),w(r,["embeddings"],s)}const a=x(e,["metadata"]);return a!=null&&w(r,["metadata"],a),r}function w0e(e,t){const r={},n=x(e,["endpoint"]);n!=null&&w(r,["name"],n);const i=x(e,["deployedModelId"]);return i!=null&&w(r,["deployedModelId"],i),r}function E0e(e,t){const r={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&w(r,["fileUri"],n);const i=x(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function T0e(e,t){const r={},n=x(e,["id"]);n!=null&&w(r,["id"],n);const i=x(e,["args"]);i!=null&&w(r,["args"],i);const a=x(e,["name"]);if(a!=null&&w(r,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function S0e(e,t){const r={},n=x(e,["allowedFunctionNames"]);n!=null&&w(r,["allowedFunctionNames"],n);const i=x(e,["mode"]);if(i!=null&&w(r,["mode"],i),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function A0e(e,t){const r={},n=x(e,["description"]);n!=null&&w(r,["description"],n);const i=x(e,["name"]);i!=null&&w(r,["name"],i);const a=x(e,["parameters"]);a!=null&&w(r,["parameters"],a);const s=x(e,["parametersJsonSchema"]);s!=null&&w(r,["parametersJsonSchema"],s);const o=x(e,["response"]);o!=null&&w(r,["response"],o);const c=x(e,["responseJsonSchema"]);if(c!=null&&w(r,["responseJsonSchema"],c),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return r}function C0e(e,t,r,n){const i={},a=x(t,["systemInstruction"]);r!==void 0&&a!=null&&w(r,["systemInstruction"],L1(Gi(a)));const s=x(t,["temperature"]);s!=null&&w(i,["temperature"],s);const o=x(t,["topP"]);o!=null&&w(i,["topP"],o);const c=x(t,["topK"]);c!=null&&w(i,["topK"],c);const u=x(t,["candidateCount"]);u!=null&&w(i,["candidateCount"],u);const d=x(t,["maxOutputTokens"]);d!=null&&w(i,["maxOutputTokens"],d);const p=x(t,["stopSequences"]);p!=null&&w(i,["stopSequences"],p);const m=x(t,["responseLogprobs"]);m!=null&&w(i,["responseLogprobs"],m);const y=x(t,["logprobs"]);y!=null&&w(i,["logprobs"],y);const _=x(t,["presencePenalty"]);_!=null&&w(i,["presencePenalty"],_);const b=x(t,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const E=x(t,["seed"]);E!=null&&w(i,["seed"],E);const A=x(t,["responseMimeType"]);A!=null&&w(i,["responseMimeType"],A);const L=x(t,["responseSchema"]);L!=null&&w(i,["responseSchema"],hC(L));const I=x(t,["responseJsonSchema"]);if(I!=null&&w(i,["responseJsonSchema"],I),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=x(t,["safetySettings"]);if(r!==void 0&&O!=null){let fe=O;Array.isArray(fe)&&(fe=fe.map(pe=>vpe(pe))),w(r,["safetySettings"],fe)}const D=x(t,["tools"]);if(r!==void 0&&D!=null){let fe=Ch(D);Array.isArray(fe)&&(fe=fe.map(pe=>Tpe(Ah(pe)))),w(r,["tools"],fe)}const M=x(t,["toolConfig"]);if(r!==void 0&&M!=null&&w(r,["toolConfig"],Epe(M)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=x(t,["cachedContent"]);r!==void 0&&N!=null&&w(r,["cachedContent"],Ul(e,N));const k=x(t,["responseModalities"]);k!=null&&w(i,["responseModalities"],k);const P=x(t,["mediaResolution"]);P!=null&&w(i,["mediaResolution"],P);const U=x(t,["speechConfig"]);if(U!=null&&w(i,["speechConfig"],pC(U)),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=x(t,["thinkingConfig"]);B!=null&&w(i,["thinkingConfig"],B);const F=x(t,["imageConfig"]);F!=null&&w(i,["imageConfig"],epe(F));const H=x(t,["enableEnhancedCivicAnswers"]);if(H!=null&&w(i,["enableEnhancedCivicAnswers"],H),x(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function N0e(e,t,r,n){const i={},a=x(t,["systemInstruction"]);r!==void 0&&a!=null&&w(r,["systemInstruction"],Gi(a));const s=x(t,["temperature"]);s!=null&&w(i,["temperature"],s);const o=x(t,["topP"]);o!=null&&w(i,["topP"],o);const c=x(t,["topK"]);c!=null&&w(i,["topK"],c);const u=x(t,["candidateCount"]);u!=null&&w(i,["candidateCount"],u);const d=x(t,["maxOutputTokens"]);d!=null&&w(i,["maxOutputTokens"],d);const p=x(t,["stopSequences"]);p!=null&&w(i,["stopSequences"],p);const m=x(t,["responseLogprobs"]);m!=null&&w(i,["responseLogprobs"],m);const y=x(t,["logprobs"]);y!=null&&w(i,["logprobs"],y);const _=x(t,["presencePenalty"]);_!=null&&w(i,["presencePenalty"],_);const b=x(t,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const E=x(t,["seed"]);E!=null&&w(i,["seed"],E);const A=x(t,["responseMimeType"]);A!=null&&w(i,["responseMimeType"],A);const L=x(t,["responseSchema"]);L!=null&&w(i,["responseSchema"],hC(L));const I=x(t,["responseJsonSchema"]);I!=null&&w(i,["responseJsonSchema"],I);const O=x(t,["routingConfig"]);O!=null&&w(i,["routingConfig"],O);const D=x(t,["modelSelectionConfig"]);D!=null&&w(i,["modelConfig"],D);const M=x(t,["safetySettings"]);if(r!==void 0&&M!=null){let ce=M;Array.isArray(ce)&&(ce=ce.map(ie=>ie)),w(r,["safetySettings"],ce)}const N=x(t,["tools"]);if(r!==void 0&&N!=null){let ce=Ch(N);Array.isArray(ce)&&(ce=ce.map(ie=>wB(Ah(ie)))),w(r,["tools"],ce)}const k=x(t,["toolConfig"]);r!==void 0&&k!=null&&w(r,["toolConfig"],k);const P=x(t,["labels"]);r!==void 0&&P!=null&&w(r,["labels"],P);const U=x(t,["cachedContent"]);r!==void 0&&U!=null&&w(r,["cachedContent"],Ul(e,U));const B=x(t,["responseModalities"]);B!=null&&w(i,["responseModalities"],B);const F=x(t,["mediaResolution"]);F!=null&&w(i,["mediaResolution"],F);const H=x(t,["speechConfig"]);H!=null&&w(i,["speechConfig"],pC(H));const fe=x(t,["audioTimestamp"]);fe!=null&&w(i,["audioTimestamp"],fe);const pe=x(t,["thinkingConfig"]);pe!=null&&w(i,["thinkingConfig"],pe);const re=x(t,["imageConfig"]);if(re!=null&&w(i,["imageConfig"],tpe(re)),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ue=x(t,["modelArmorConfig"]);return r!==void 0&&ue!=null&&w(r,["modelArmorConfig"],ue),i}function RD(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["contents"]);if(a!=null){let o=Es(a);Array.isArray(o)&&(o=o.map(c=>L1(c))),w(n,["contents"],o)}const s=x(t,["config"]);return s!=null&&w(n,["generationConfig"],C0e(e,s,n)),n}function OD(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["contents"]);if(a!=null){let o=Es(a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["contents"],o)}const s=x(t,["config"]);return s!=null&&w(n,["generationConfig"],N0e(e,s,n)),n}function MD(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Jhe(d))),w(r,["candidates"],u)}const a=x(e,["modelVersion"]);a!=null&&w(r,["modelVersion"],a);const s=x(e,["promptFeedback"]);s!=null&&w(r,["promptFeedback"],s);const o=x(e,["responseId"]);o!=null&&w(r,["responseId"],o);const c=x(e,["usageMetadata"]);return c!=null&&w(r,["usageMetadata"],c),r}function DD(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>p)),w(r,["candidates"],d)}const a=x(e,["createTime"]);a!=null&&w(r,["createTime"],a);const s=x(e,["modelVersion"]);s!=null&&w(r,["modelVersion"],s);const o=x(e,["promptFeedback"]);o!=null&&w(r,["promptFeedback"],o);const c=x(e,["responseId"]);c!=null&&w(r,["responseId"],c);const u=x(e,["usageMetadata"]);return u!=null&&w(r,["usageMetadata"],u),r}function k0e(e,t,r){const n={};if(x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=x(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=x(e,["aspectRatio"]);t!==void 0&&a!=null&&w(t,["parameters","aspectRatio"],a);const s=x(e,["guidanceScale"]);if(t!==void 0&&s!=null&&w(t,["parameters","guidanceScale"],s),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=x(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&w(t,["parameters","safetySetting"],o);const c=x(e,["personGeneration"]);t!==void 0&&c!=null&&w(t,["parameters","personGeneration"],c);const u=x(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&w(t,["parameters","includeSafetyAttributes"],u);const d=x(e,["includeRaiReason"]);t!==void 0&&d!=null&&w(t,["parameters","includeRaiReason"],d);const p=x(e,["language"]);t!==void 0&&p!=null&&w(t,["parameters","language"],p);const m=x(e,["outputMimeType"]);t!==void 0&&m!=null&&w(t,["parameters","outputOptions","mimeType"],m);const y=x(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&w(t,["parameters","outputOptions","compressionQuality"],y),x(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=x(e,["imageSize"]);if(t!==void 0&&_!=null&&w(t,["parameters","sampleImageSize"],_),x(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function I0e(e,t,r){const n={},i=x(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=x(e,["negativePrompt"]);t!==void 0&&a!=null&&w(t,["parameters","negativePrompt"],a);const s=x(e,["numberOfImages"]);t!==void 0&&s!=null&&w(t,["parameters","sampleCount"],s);const o=x(e,["aspectRatio"]);t!==void 0&&o!=null&&w(t,["parameters","aspectRatio"],o);const c=x(e,["guidanceScale"]);t!==void 0&&c!=null&&w(t,["parameters","guidanceScale"],c);const u=x(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const d=x(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&w(t,["parameters","safetySetting"],d);const p=x(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const m=x(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&w(t,["parameters","includeSafetyAttributes"],m);const y=x(e,["includeRaiReason"]);t!==void 0&&y!=null&&w(t,["parameters","includeRaiReason"],y);const _=x(e,["language"]);t!==void 0&&_!=null&&w(t,["parameters","language"],_);const b=x(e,["outputMimeType"]);t!==void 0&&b!=null&&w(t,["parameters","outputOptions","mimeType"],b);const E=x(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&w(t,["parameters","outputOptions","compressionQuality"],E);const A=x(e,["addWatermark"]);t!==void 0&&A!=null&&w(t,["parameters","addWatermark"],A);const L=x(e,["labels"]);t!==void 0&&L!=null&&w(t,["labels"],L);const I=x(e,["imageSize"]);t!==void 0&&I!=null&&w(t,["parameters","sampleImageSize"],I);const O=x(e,["enhancePrompt"]);return t!==void 0&&O!=null&&w(t,["parameters","enhancePrompt"],O),n}function P0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=x(t,["config"]);return s!=null&&k0e(s,n),n}function R0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=x(t,["config"]);return s!=null&&I0e(s,n),n}function O0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>G0e(o))),w(r,["generatedImages"],s)}const a=x(e,["positivePromptSafetyAttributes"]);return a!=null&&w(r,["positivePromptSafetyAttributes"],_B(a)),r}function M0e(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>F1(o))),w(r,["generatedImages"],s)}const a=x(e,["positivePromptSafetyAttributes"]);return a!=null&&w(r,["positivePromptSafetyAttributes"],bB(a)),r}function D0e(e,t,r){const n={},i=x(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i),x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=x(e,["durationSeconds"]);if(t!==void 0&&a!=null&&w(t,["parameters","durationSeconds"],a),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(e,["aspectRatio"]);t!==void 0&&s!=null&&w(t,["parameters","aspectRatio"],s);const o=x(e,["resolution"]);t!==void 0&&o!=null&&w(t,["parameters","resolution"],o);const c=x(e,["personGeneration"]);if(t!==void 0&&c!=null&&w(t,["parameters","personGeneration"],c),x(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=x(e,["negativePrompt"]);t!==void 0&&u!=null&&w(t,["parameters","negativePrompt"],u);const d=x(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&w(t,["parameters","enhancePrompt"],d),x(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=x(e,["lastFrame"]);t!==void 0&&p!=null&&w(t,["instances[0]","lastFrame"],j1(p));const m=x(e,["referenceImages"]);if(t!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(_=>Fpe(_))),w(t,["instances[0]","referenceImages"],y)}if(x(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function L0e(e,t,r){const n={},i=x(e,["numberOfVideos"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&w(t,["parameters","storageUri"],a);const s=x(e,["fps"]);t!==void 0&&s!=null&&w(t,["parameters","fps"],s);const o=x(e,["durationSeconds"]);t!==void 0&&o!=null&&w(t,["parameters","durationSeconds"],o);const c=x(e,["seed"]);t!==void 0&&c!=null&&w(t,["parameters","seed"],c);const u=x(e,["aspectRatio"]);t!==void 0&&u!=null&&w(t,["parameters","aspectRatio"],u);const d=x(e,["resolution"]);t!==void 0&&d!=null&&w(t,["parameters","resolution"],d);const p=x(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const m=x(e,["pubsubTopic"]);t!==void 0&&m!=null&&w(t,["parameters","pubsubTopic"],m);const y=x(e,["negativePrompt"]);t!==void 0&&y!=null&&w(t,["parameters","negativePrompt"],y);const _=x(e,["enhancePrompt"]);t!==void 0&&_!=null&&w(t,["parameters","enhancePrompt"],_);const b=x(e,["generateAudio"]);t!==void 0&&b!=null&&w(t,["parameters","generateAudio"],b);const E=x(e,["lastFrame"]);t!==void 0&&E!=null&&w(t,["instances[0]","lastFrame"],oo(E));const A=x(e,["referenceImages"]);if(t!==void 0&&A!=null){let O=A;Array.isArray(O)&&(O=O.map(D=>jpe(D))),w(t,["instances[0]","referenceImages"],O)}const L=x(e,["mask"]);t!==void 0&&L!=null&&w(t,["instances[0]","mask"],Lpe(L));const I=x(e,["compressionQuality"]);return t!==void 0&&I!=null&&w(t,["parameters","compressionQuality"],I),n}function F0e(e,t){const r={},n=x(e,["name"]);n!=null&&w(r,["name"],n);const i=x(e,["metadata"]);i!=null&&w(r,["metadata"],i);const a=x(e,["done"]);a!=null&&w(r,["done"],a);const s=x(e,["error"]);s!=null&&w(r,["error"],s);const o=x(e,["response","generateVideoResponse"]);return o!=null&&w(r,["response"],V0e(o)),r}function j0e(e,t){const r={},n=x(e,["name"]);n!=null&&w(r,["name"],n);const i=x(e,["metadata"]);i!=null&&w(r,["metadata"],i);const a=x(e,["done"]);a!=null&&w(r,["done"],a);const s=x(e,["error"]);s!=null&&w(r,["error"],s);const o=x(e,["response"]);return o!=null&&w(r,["response"],z0e(o)),r}function U0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=x(t,["image"]);s!=null&&w(n,["instances[0]","image"],j1(s));const o=x(t,["video"]);o!=null&&w(n,["instances[0]","video"],EB(o));const c=x(t,["source"]);c!=null&&$0e(c,n);const u=x(t,["config"]);return u!=null&&D0e(u,n),n}function B0e(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=x(t,["image"]);s!=null&&w(n,["instances[0]","image"],oo(s));const o=x(t,["video"]);o!=null&&w(n,["instances[0]","video"],TB(o));const c=x(t,["source"]);c!=null&&H0e(c,n);const u=x(t,["config"]);return u!=null&&L0e(u,n),n}function V0e(e,t){const r={},n=x(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>K0e(o))),w(r,["generatedVideos"],s)}const i=x(e,["raiMediaFilteredCount"]);i!=null&&w(r,["raiMediaFilteredCount"],i);const a=x(e,["raiMediaFilteredReasons"]);return a!=null&&w(r,["raiMediaFilteredReasons"],a),r}function z0e(e,t){const r={},n=x(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>W0e(o))),w(r,["generatedVideos"],s)}const i=x(e,["raiMediaFilteredCount"]);i!=null&&w(r,["raiMediaFilteredCount"],i);const a=x(e,["raiMediaFilteredReasons"]);return a!=null&&w(r,["raiMediaFilteredReasons"],a),r}function $0e(e,t,r){const n={},i=x(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=x(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],j1(a));const s=x(e,["video"]);return t!==void 0&&s!=null&&w(t,["instances[0]","video"],EB(s)),n}function H0e(e,t,r){const n={},i=x(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=x(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],oo(a));const s=x(e,["video"]);return t!==void 0&&s!=null&&w(t,["instances[0]","video"],TB(s)),n}function G0e(e,t){const r={},n=x(e,["_self"]);n!=null&&w(r,["image"],rpe(n));const i=x(e,["raiFilteredReason"]);i!=null&&w(r,["raiFilteredReason"],i);const a=x(e,["_self"]);return a!=null&&w(r,["safetyAttributes"],_B(a)),r}function F1(e,t){const r={},n=x(e,["_self"]);n!=null&&w(r,["image"],xB(n));const i=x(e,["raiFilteredReason"]);i!=null&&w(r,["raiFilteredReason"],i);const a=x(e,["_self"]);a!=null&&w(r,["safetyAttributes"],bB(a));const s=x(e,["prompt"]);return s!=null&&w(r,["enhancedPrompt"],s),r}function q0e(e,t){const r={},n=x(e,["_self"]);n!=null&&w(r,["mask"],xB(n));const i=x(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(r,["labels"],a)}return r}function K0e(e,t){const r={},n=x(e,["video"]);return n!=null&&w(r,["video"],Mpe(n)),r}function W0e(e,t){const r={},n=x(e,["_self"]);return n!=null&&w(r,["video"],Dpe(n)),r}function Y0e(e,t){const r={},n=x(e,["modelSelectionConfig"]);n!=null&&w(r,["modelConfig"],n);const i=x(e,["responseJsonSchema"]);i!=null&&w(r,["responseJsonSchema"],i);const a=x(e,["audioTimestamp"]);a!=null&&w(r,["audioTimestamp"],a);const s=x(e,["candidateCount"]);s!=null&&w(r,["candidateCount"],s);const o=x(e,["enableAffectiveDialog"]);o!=null&&w(r,["enableAffectiveDialog"],o);const c=x(e,["frequencyPenalty"]);c!=null&&w(r,["frequencyPenalty"],c);const u=x(e,["logprobs"]);u!=null&&w(r,["logprobs"],u);const d=x(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const p=x(e,["mediaResolution"]);p!=null&&w(r,["mediaResolution"],p);const m=x(e,["presencePenalty"]);m!=null&&w(r,["presencePenalty"],m);const y=x(e,["responseLogprobs"]);y!=null&&w(r,["responseLogprobs"],y);const _=x(e,["responseMimeType"]);_!=null&&w(r,["responseMimeType"],_);const b=x(e,["responseModalities"]);b!=null&&w(r,["responseModalities"],b);const E=x(e,["responseSchema"]);E!=null&&w(r,["responseSchema"],E);const A=x(e,["routingConfig"]);A!=null&&w(r,["routingConfig"],A);const L=x(e,["seed"]);L!=null&&w(r,["seed"],L);const I=x(e,["speechConfig"]);I!=null&&w(r,["speechConfig"],I);const O=x(e,["stopSequences"]);O!=null&&w(r,["stopSequences"],O);const D=x(e,["temperature"]);D!=null&&w(r,["temperature"],D);const M=x(e,["thinkingConfig"]);M!=null&&w(r,["thinkingConfig"],M);const N=x(e,["topK"]);N!=null&&w(r,["topK"],N);const k=x(e,["topP"]);if(k!=null&&w(r,["topP"],k),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function J0e(e,t,r){const n={},i=x(t,["model"]);return i!=null&&w(n,["_url","name"],fr(e,i)),n}function X0e(e,t,r){const n={},i=x(t,["model"]);return i!=null&&w(n,["_url","name"],fr(e,i)),n}function Z0e(e,t){const r={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&w(r,["enableWidget"],n),r}function Q0e(e,t){const r={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&w(r,["timeRangeFilter"],n),r}function epe(e,t){const r={},n=x(e,["aspectRatio"]);n!=null&&w(r,["aspectRatio"],n);const i=x(e,["imageSize"]);if(i!=null&&w(r,["imageSize"],i),x(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function tpe(e,t){const r={},n=x(e,["aspectRatio"]);n!=null&&w(r,["aspectRatio"],n);const i=x(e,["imageSize"]);i!=null&&w(r,["imageSize"],i);const a=x(e,["personGeneration"]);a!=null&&w(r,["personGeneration"],a);const s=x(e,["outputMimeType"]);s!=null&&w(r,["imageOutputOptions","mimeType"],s);const o=x(e,["outputCompressionQuality"]);return o!=null&&w(r,["imageOutputOptions","compressionQuality"],o),r}function rpe(e,t){const r={},n=x(e,["bytesBase64Encoded"]);n!=null&&w(r,["imageBytes"],au(n));const i=x(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function xB(e,t){const r={},n=x(e,["gcsUri"]);n!=null&&w(r,["gcsUri"],n);const i=x(e,["bytesBase64Encoded"]);i!=null&&w(r,["imageBytes"],au(i));const a=x(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function j1(e,t){const r={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(e,["imageBytes"]);n!=null&&w(r,["bytesBase64Encoded"],au(n));const i=x(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function oo(e,t){const r={},n=x(e,["gcsUri"]);n!=null&&w(r,["gcsUri"],n);const i=x(e,["imageBytes"]);i!=null&&w(r,["bytesBase64Encoded"],au(i));const a=x(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function npe(e,t,r,n){const i={},a=x(t,["pageSize"]);r!==void 0&&a!=null&&w(r,["_query","pageSize"],a);const s=x(t,["pageToken"]);r!==void 0&&s!=null&&w(r,["_query","pageToken"],s);const o=x(t,["filter"]);r!==void 0&&o!=null&&w(r,["_query","filter"],o);const c=x(t,["queryBase"]);return r!==void 0&&c!=null&&w(r,["_url","models_url"],dB(e,c)),i}function ipe(e,t,r,n){const i={},a=x(t,["pageSize"]);r!==void 0&&a!=null&&w(r,["_query","pageSize"],a);const s=x(t,["pageToken"]);r!==void 0&&s!=null&&w(r,["_query","pageToken"],s);const o=x(t,["filter"]);r!==void 0&&o!=null&&w(r,["_query","filter"],o);const c=x(t,["queryBase"]);return r!==void 0&&c!=null&&w(r,["_url","models_url"],dB(e,c)),i}function ape(e,t,r){const n={},i=x(t,["config"]);return i!=null&&npe(e,i,n),n}function spe(e,t,r){const n={},i=x(t,["config"]);return i!=null&&ipe(e,i,n),n}function ope(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=x(e,["_self"]);if(a!=null){let s=hB(a);Array.isArray(s)&&(s=s.map(o=>LS(o))),w(r,["models"],s)}return r}function lpe(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=x(e,["_self"]);if(a!=null){let s=hB(a);Array.isArray(s)&&(s=s.map(o=>FS(o))),w(r,["models"],s)}return r}function cpe(e,t){const r={},n=x(e,["maskMode"]);n!=null&&w(r,["maskMode"],n);const i=x(e,["segmentationClasses"]);i!=null&&w(r,["maskClasses"],i);const a=x(e,["maskDilation"]);return a!=null&&w(r,["dilation"],a),r}function LS(e,t){const r={},n=x(e,["name"]);n!=null&&w(r,["name"],n);const i=x(e,["displayName"]);i!=null&&w(r,["displayName"],i);const a=x(e,["description"]);a!=null&&w(r,["description"],a);const s=x(e,["version"]);s!=null&&w(r,["version"],s);const o=x(e,["_self"]);o!=null&&w(r,["tunedModelInfo"],Spe(o));const c=x(e,["inputTokenLimit"]);c!=null&&w(r,["inputTokenLimit"],c);const u=x(e,["outputTokenLimit"]);u!=null&&w(r,["outputTokenLimit"],u);const d=x(e,["supportedGenerationMethods"]);d!=null&&w(r,["supportedActions"],d);const p=x(e,["temperature"]);p!=null&&w(r,["temperature"],p);const m=x(e,["maxTemperature"]);m!=null&&w(r,["maxTemperature"],m);const y=x(e,["topP"]);y!=null&&w(r,["topP"],y);const _=x(e,["topK"]);_!=null&&w(r,["topK"],_);const b=x(e,["thinking"]);return b!=null&&w(r,["thinking"],b),r}function FS(e,t){const r={},n=x(e,["name"]);n!=null&&w(r,["name"],n);const i=x(e,["displayName"]);i!=null&&w(r,["displayName"],i);const a=x(e,["description"]);a!=null&&w(r,["description"],a);const s=x(e,["versionId"]);s!=null&&w(r,["version"],s);const o=x(e,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>w0e(y))),w(r,["endpoints"],m)}const c=x(e,["labels"]);c!=null&&w(r,["labels"],c);const u=x(e,["_self"]);u!=null&&w(r,["tunedModelInfo"],Ape(u));const d=x(e,["defaultCheckpointId"]);d!=null&&w(r,["defaultCheckpointId"],d);const p=x(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>y)),w(r,["checkpoints"],m)}return r}function upe(e,t){const r={},n=x(e,["mediaResolution"]);n!=null&&w(r,["mediaResolution"],n);const i=x(e,["codeExecutionResult"]);i!=null&&w(r,["codeExecutionResult"],i);const a=x(e,["executableCode"]);a!=null&&w(r,["executableCode"],a);const s=x(e,["fileData"]);s!=null&&w(r,["fileData"],E0e(s));const o=x(e,["functionCall"]);o!=null&&w(r,["functionCall"],T0e(o));const c=x(e,["functionResponse"]);c!=null&&w(r,["functionResponse"],c);const u=x(e,["inlineData"]);u!=null&&w(r,["inlineData"],Yhe(u));const d=x(e,["text"]);d!=null&&w(r,["text"],d);const p=x(e,["thought"]);p!=null&&w(r,["thought"],p);const m=x(e,["thoughtSignature"]);m!=null&&w(r,["thoughtSignature"],m);const y=x(e,["videoMetadata"]);return y!=null&&w(r,["videoMetadata"],y),r}function fpe(e,t){const r={},n=x(e,["productImage"]);return n!=null&&w(r,["image"],oo(n)),r}function dpe(e,t,r){const n={},i=x(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=x(e,["baseSteps"]);t!==void 0&&a!=null&&w(t,["parameters","baseSteps"],a);const s=x(e,["outputGcsUri"]);t!==void 0&&s!=null&&w(t,["parameters","storageUri"],s);const o=x(e,["seed"]);t!==void 0&&o!=null&&w(t,["parameters","seed"],o);const c=x(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&w(t,["parameters","safetySetting"],c);const u=x(e,["personGeneration"]);t!==void 0&&u!=null&&w(t,["parameters","personGeneration"],u);const d=x(e,["addWatermark"]);t!==void 0&&d!=null&&w(t,["parameters","addWatermark"],d);const p=x(e,["outputMimeType"]);t!==void 0&&p!=null&&w(t,["parameters","outputOptions","mimeType"],p);const m=x(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&w(t,["parameters","outputOptions","compressionQuality"],m);const y=x(e,["enhancePrompt"]);t!==void 0&&y!=null&&w(t,["parameters","enhancePrompt"],y);const _=x(e,["labels"]);return t!==void 0&&_!=null&&w(t,["labels"],_),n}function hpe(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["source"]);a!=null&&mpe(a,n);const s=x(t,["config"]);return s!=null&&dpe(s,n),n}function ppe(e,t){const r={},n=x(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>F1(a))),w(r,["generatedImages"],i)}return r}function mpe(e,t,r){const n={},i=x(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=x(e,["personImage"]);t!==void 0&&a!=null&&w(t,["instances[0]","personImage","image"],oo(a));const s=x(e,["productImages"]);if(t!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>fpe(c))),w(t,["instances[0]","productImages"],o)}return n}function gpe(e,t){const r={},n=x(e,["referenceImage"]);n!=null&&w(r,["referenceImage"],oo(n));const i=x(e,["referenceId"]);i!=null&&w(r,["referenceId"],i);const a=x(e,["referenceType"]);a!=null&&w(r,["referenceType"],a);const s=x(e,["maskImageConfig"]);s!=null&&w(r,["maskImageConfig"],cpe(s));const o=x(e,["controlImageConfig"]);o!=null&&w(r,["controlImageConfig"],r0e(o));const c=x(e,["styleImageConfig"]);c!=null&&w(r,["styleImageConfig"],c);const u=x(e,["subjectImageConfig"]);return u!=null&&w(r,["subjectImageConfig"],u),r}function _B(e,t){const r={},n=x(e,["safetyAttributes","categories"]);n!=null&&w(r,["categories"],n);const i=x(e,["safetyAttributes","scores"]);i!=null&&w(r,["scores"],i);const a=x(e,["contentType"]);return a!=null&&w(r,["contentType"],a),r}function bB(e,t){const r={},n=x(e,["safetyAttributes","categories"]);n!=null&&w(r,["categories"],n);const i=x(e,["safetyAttributes","scores"]);i!=null&&w(r,["scores"],i);const a=x(e,["contentType"]);return a!=null&&w(r,["contentType"],a),r}function vpe(e,t){const r={},n=x(e,["category"]);if(n!=null&&w(r,["category"],n),x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=x(e,["threshold"]);return i!=null&&w(r,["threshold"],i),r}function ype(e,t){const r={},n=x(e,["image"]);return n!=null&&w(r,["image"],oo(n)),r}function xpe(e,t,r){const n={},i=x(e,["mode"]);t!==void 0&&i!=null&&w(t,["parameters","mode"],i);const a=x(e,["maxPredictions"]);t!==void 0&&a!=null&&w(t,["parameters","maxPredictions"],a);const s=x(e,["confidenceThreshold"]);t!==void 0&&s!=null&&w(t,["parameters","confidenceThreshold"],s);const o=x(e,["maskDilation"]);t!==void 0&&o!=null&&w(t,["parameters","maskDilation"],o);const c=x(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&w(t,["parameters","binaryColorThreshold"],c);const u=x(e,["labels"]);return t!==void 0&&u!=null&&w(t,["labels"],u),n}function _pe(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["source"]);a!=null&&wpe(a,n);const s=x(t,["config"]);return s!=null&&xpe(s,n),n}function bpe(e,t){const r={},n=x(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>q0e(a))),w(r,["generatedMasks"],i)}return r}function wpe(e,t,r){const n={},i=x(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=x(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],oo(a));const s=x(e,["scribbleImage"]);return t!==void 0&&s!=null&&w(t,["instances[0]","scribble"],ype(s)),n}function Epe(e,t){const r={},n=x(e,["retrievalConfig"]);n!=null&&w(r,["retrievalConfig"],n);const i=x(e,["functionCallingConfig"]);return i!=null&&w(r,["functionCallingConfig"],S0e(i)),r}function Tpe(e,t){const r={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&w(r,["computerUse"],n);const i=x(e,["fileSearch"]);i!=null&&w(r,["fileSearch"],i);const a=x(e,["codeExecution"]);if(a!=null&&w(r,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=x(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>m)),w(r,["functionDeclarations"],p)}const o=x(e,["googleMaps"]);o!=null&&w(r,["googleMaps"],Z0e(o));const c=x(e,["googleSearch"]);c!=null&&w(r,["googleSearch"],Q0e(c));const u=x(e,["googleSearchRetrieval"]);u!=null&&w(r,["googleSearchRetrieval"],u);const d=x(e,["urlContext"]);return d!=null&&w(r,["urlContext"],d),r}function wB(e,t){const r={},n=x(e,["retrieval"]);n!=null&&w(r,["retrieval"],n);const i=x(e,["computerUse"]);if(i!=null&&w(r,["computerUse"],i),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=x(e,["codeExecution"]);a!=null&&w(r,["codeExecution"],a);const s=x(e,["enterpriseWebSearch"]);s!=null&&w(r,["enterpriseWebSearch"],s);const o=x(e,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>A0e(y))),w(r,["functionDeclarations"],m)}const c=x(e,["googleMaps"]);c!=null&&w(r,["googleMaps"],c);const u=x(e,["googleSearch"]);u!=null&&w(r,["googleSearch"],u);const d=x(e,["googleSearchRetrieval"]);d!=null&&w(r,["googleSearchRetrieval"],d);const p=x(e,["urlContext"]);return p!=null&&w(r,["urlContext"],p),r}function Spe(e,t){const r={},n=x(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=x(e,["createTime"]);i!=null&&w(r,["createTime"],i);const a=x(e,["updateTime"]);return a!=null&&w(r,["updateTime"],a),r}function Ape(e,t){const r={},n=x(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(r,["baseModel"],n);const i=x(e,["createTime"]);i!=null&&w(r,["createTime"],i);const a=x(e,["updateTime"]);return a!=null&&w(r,["updateTime"],a),r}function Cpe(e,t,r){const n={},i=x(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=x(e,["description"]);t!==void 0&&a!=null&&w(t,["description"],a);const s=x(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&w(t,["defaultCheckpointId"],s),n}function Npe(e,t,r){const n={},i=x(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=x(e,["description"]);t!==void 0&&a!=null&&w(t,["description"],a);const s=x(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&w(t,["defaultCheckpointId"],s),n}function kpe(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","name"],fr(e,i));const a=x(t,["config"]);return a!=null&&Cpe(a,n),n}function Ipe(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["config"]);return a!=null&&Npe(a,n),n}function Ppe(e,t,r){const n={},i=x(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=x(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&w(t,["parameters","safetySetting"],a);const s=x(e,["personGeneration"]);t!==void 0&&s!=null&&w(t,["parameters","personGeneration"],s);const o=x(e,["includeRaiReason"]);t!==void 0&&o!=null&&w(t,["parameters","includeRaiReason"],o);const c=x(e,["outputMimeType"]);t!==void 0&&c!=null&&w(t,["parameters","outputOptions","mimeType"],c);const u=x(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&w(t,["parameters","outputOptions","compressionQuality"],u);const d=x(e,["enhanceInputImage"]);t!==void 0&&d!=null&&w(t,["parameters","upscaleConfig","enhanceInputImage"],d);const p=x(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&w(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=x(e,["labels"]);t!==void 0&&m!=null&&w(t,["labels"],m);const y=x(e,["numberOfImages"]);t!==void 0&&y!=null&&w(t,["parameters","sampleCount"],y);const _=x(e,["mode"]);return t!==void 0&&_!=null&&w(t,["parameters","mode"],_),n}function Rpe(e,t,r){const n={},i=x(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=x(t,["image"]);a!=null&&w(n,["instances[0]","image"],oo(a));const s=x(t,["upscaleFactor"]);s!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=x(t,["config"]);return o!=null&&Ppe(o,n),n}function Ope(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>F1(s))),w(r,["generatedImages"],a)}return r}function Mpe(e,t){const r={},n=x(e,["uri"]);n!=null&&w(r,["uri"],n);const i=x(e,["encodedVideo"]);i!=null&&w(r,["videoBytes"],au(i));const a=x(e,["encoding"]);return a!=null&&w(r,["mimeType"],a),r}function Dpe(e,t){const r={},n=x(e,["gcsUri"]);n!=null&&w(r,["uri"],n);const i=x(e,["bytesBase64Encoded"]);i!=null&&w(r,["videoBytes"],au(i));const a=x(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function Lpe(e,t){const r={},n=x(e,["image"]);n!=null&&w(r,["_self"],oo(n));const i=x(e,["maskMode"]);return i!=null&&w(r,["maskMode"],i),r}function Fpe(e,t){const r={},n=x(e,["image"]);n!=null&&w(r,["image"],j1(n));const i=x(e,["referenceType"]);return i!=null&&w(r,["referenceType"],i),r}function jpe(e,t){const r={},n=x(e,["image"]);n!=null&&w(r,["image"],oo(n));const i=x(e,["referenceType"]);return i!=null&&w(r,["referenceType"],i),r}function EB(e,t){const r={},n=x(e,["uri"]);n!=null&&w(r,["uri"],n);const i=x(e,["videoBytes"]);i!=null&&w(r,["encodedVideo"],au(i));const a=x(e,["mimeType"]);return a!=null&&w(r,["encoding"],a),r}function TB(e,t){const r={},n=x(e,["uri"]);n!=null&&w(r,["gcsUri"],n);const i=x(e,["videoBytes"]);i!=null&&w(r,["bytesBase64Encoded"],au(i));const a=x(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function Upe(e,t){const r={},n=x(e,["displayName"]);return t!==void 0&&n!=null&&w(t,["displayName"],n),r}function Bpe(e){const t={},r=x(e,["config"]);return r!=null&&Upe(r,t),t}function Vpe(e,t){const r={},n=x(e,["force"]);return t!==void 0&&n!=null&&w(t,["_query","force"],n),r}function zpe(e){const t={},r=x(e,["name"]);r!=null&&w(t,["_url","name"],r);const n=x(e,["config"]);return n!=null&&Vpe(n,t),t}function $pe(e){const t={},r=x(e,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Hpe(e,t){const r={},n=x(e,["customMetadata"]);if(t!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["customMetadata"],a)}const i=x(e,["chunkingConfig"]);return t!==void 0&&i!=null&&w(t,["chunkingConfig"],i),r}function Gpe(e){const t={},r=x(e,["name"]);r!=null&&w(t,["name"],r);const n=x(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=x(e,["done"]);i!=null&&w(t,["done"],i);const a=x(e,["error"]);a!=null&&w(t,["error"],a);const s=x(e,["response"]);return s!=null&&w(t,["response"],Kpe(s)),t}function qpe(e){const t={},r=x(e,["fileSearchStoreName"]);r!=null&&w(t,["_url","file_search_store_name"],r);const n=x(e,["fileName"]);n!=null&&w(t,["fileName"],n);const i=x(e,["config"]);return i!=null&&Hpe(i,t),t}function Kpe(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["parent"]);n!=null&&w(t,["parent"],n);const i=x(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function Wpe(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Ype(e){const t={},r=x(e,["config"]);return r!=null&&Wpe(r,t),t}function Jpe(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=x(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["fileSearchStores"],a)}return t}function SB(e,t){const r={},n=x(e,["mimeType"]);t!==void 0&&n!=null&&w(t,["mimeType"],n);const i=x(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=x(e,["customMetadata"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),w(t,["customMetadata"],o)}const s=x(e,["chunkingConfig"]);return t!==void 0&&s!=null&&w(t,["chunkingConfig"],s),r}function Xpe(e){const t={},r=x(e,["fileSearchStoreName"]);r!=null&&w(t,["_url","file_search_store_name"],r);const n=x(e,["config"]);return n!=null&&SB(n,t),t}function Zpe(e){const t={},r=x(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}const Qpe="Content-Type",eme="X-Server-Timeout",tme="User-Agent",jS="x-goog-api-client",rme="1.40.0",nme=`google-genai-sdk/${rme}`,ime="v1beta1",ame="v1beta";class sme{constructor(t){var r,n,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(r=t.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!o?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ime}else{if(!this.clientOptions.apiKey)throw new Xp({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ame,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&n.push(t.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),r=new URL(t);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,r){return!(r.baseUrl&&r.baseUrlResourceScope===RS.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),i=this.constructUrl(t.path,r,n);if(t.queryParams)for(const[s,o]of Object.entries(t.queryParams))i.searchParams.append(s,String(o));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,r){const n=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),i=this.constructUrl(t.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,r,n,i){if(r&&r.timeout||i){const a=new AbortController,s=a.signal;if(r.timeout&&r?.timeout>0){const o=setTimeout(()=>a.abort(),r.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=s}return r&&r.extraBody!==null&&ome(t,r.extraBody),t.headers=await this.getHeadersInternal(r,n),t}async unaryApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await LD(i),new OS(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await LD(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return to(this,arguments,function*(){var n;const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const o="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield kt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(d,{stream:!0});try{const _=JSON.parse(p);if("error"in _){const b=JSON.parse(JSON.stringify(_.error)),E=b.status,A=b.code,L=`got status: ${E}. ${JSON.stringify(_)}`;if(A>=400&&A<600)throw new Xp({message:L,status:A})}}catch(_){if(_.name==="ApiError")throw _}s+=p;let m=-1,y=0;for(;;){m=-1,y=0;for(const E of c){const A=s.indexOf(E);A!==-1&&(m===-1||A<m)&&(m=A,y=E.length)}if(m===-1)break;const _=s.substring(0,m);s=s.substring(m+y);const b=_.trim();if(b.startsWith(o)){const E=b.substring(o.length).trim();try{const A=new Response(E,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield kt(new OS(A))}catch(A){throw new Error(`exception parsing stream chunk ${E}. ${A}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,r){return fetch(t,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const t={},r=nme+" "+this.clientOptions.userAgentExtra;return t[tme]=r,t[jS]=r,t[Qpe]="application/json",t}async getHeadersInternal(t,r){const n=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))n.append(i,a);t.timeout&&t.timeout>0&&n.append(eme,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(t){var r;let n="";return typeof t=="string"&&(n=t.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(t,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(t);i.sizeBytes=String(s.size);const o=(n=r?.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},u=this.getFileName(t),d=rt("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,r?.httpOptions);return a.upload(t,p,this)}async uploadFileToFileSearchStore(t,r,n){var i;const a=this.clientOptions.uploader,s=await a.stat(r),o=String(s.size),c=(i=n?.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(r),p={};n!=null&&SB(n,p);const m=await this.fetchUploadUrl(u,o,c,d,p,n?.httpOptions);return a.uploadToFileSearchStore(r,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,r,n,i,a,s){var o;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function LD(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const r=e.status;let n;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?n=await e.json():n={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new Xp({message:i,status:r}):new Error(i)}}function ome(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,s){const o=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=s[c],d=o[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[c]=n(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[c]=u)}return o}const i=n(r,t);e.body=JSON.stringify(i)}const lme="mcp_used/unknown";let cme=!1;function AB(e){for(const t of e)if(ume(t)||typeof t=="object"&&"inputSchema"in t)return!0;return cme}function CB(e){var t;const r=(t=e[jS])!==null&&t!==void 0?t:"";e[jS]=(r+` ${lme}`).trimStart()}function ume(e){return e!==null&&typeof e=="object"&&e instanceof gC}function fme(e){return to(this,arguments,function*(r,n=100){let i,a=0;for(;a<n;){const s=yield kt(r.listTools({cursor:i}));for(const o of s.tools)yield yield kt(o),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class gC{constructor(t=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=r}static create(t,r){return new gC(t,r)}async initialize(){var t,r,n,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const d of this.mcpClients)try{for(var o=!0,c=(r=void 0,ro(fme(d))),u;u=await c.next(),t=u.done,!t;o=!0){i=u.value,o=!1;const p=i;s.push(p);const m=p.name;if(a[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);a[m]=d}}catch(p){r={error:p}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Bfe(this.mcpTools,this.config)}async callTool(t){await this.initialize();const r=[];for(const n of t)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return r}}async function dme(e,t,r){const n=new Rfe;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),t(n)}class hme{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n}async connect(t){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=gme(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(I=>{u=I}),p=t.callbacks,m=function(){u({})},y=this.apiClient,_={onopen:m,onmessage:I=>{dme(y,p.onmessage,I)},onerror:(r=p?.onerror)!==null&&r!==void 0?r:function(I){},onclose:(n=p?.onclose)!==null&&n!==void 0?n:function(I){}},b=this.webSocketFactory.create(c,mme(s),_);b.connect(),await d;const L={setup:{model:fr(this.apiClient,t.model)}};return b.send(JSON.stringify(L)),new pme(b,this.apiClient)}}class pme{constructor(t,r){this.conn=t,this.apiClient=r}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=Uhe(t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const r=jhe(t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(t){const r={playbackControl:t};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Fd.PLAY)}pause(){this.sendPlaybackControl(Fd.PAUSE)}stop(){this.sendPlaybackControl(Fd.STOP)}resetContext(){this.sendPlaybackControl(Fd.RESET_CONTEXT)}close(){this.conn.close()}}function mme(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function gme(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}const vme="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yme(e,t,r){const n=new Pfe;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const a=JSON.parse(i);if(e.isVertexAI()){const s=zhe(a);Object.assign(n,s)}else Object.assign(n,a);t(n)}class xme{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n,this.music=new hme(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var r,n,i,a,s,o;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&AB(t.config.tools)&&CB(p);const m=Eme(p);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),U=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),F=!!P&&!!U||!!B;this.apiClient.getCustomBaseUrl()&&!F?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,d))}else{const P=this.apiClient.getApiKey();let U="BidiGenerateContent",B="key";P?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",B="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${U}?${B}=${P}`}let y=()=>{};const _=new Promise(P=>{y=P}),b=t.callbacks,E=function(){var P;(P=b?.onopen)===null||P===void 0||P.call(b),y({})},A=this.apiClient,L={onopen:E,onmessage:P=>{yme(A,b.onmessage,P)},onerror:(r=b?.onerror)!==null&&r!==void 0?r:function(P){},onclose:(n=b?.onclose)!==null&&n!==void 0?n:function(P){}},I=this.webSocketFactory.create(d,wme(m),L);I.connect(),await _;let O=fr(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const P=this.apiClient.getProject(),U=this.apiClient.getLocation();P&&U&&(O=`projects/${P}/locations/${U}/`+O)}let D={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[lx.AUDIO]}:t.config.responseModalities=[lx.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],N=[];for(const P of M)if(this.isCallableTool(P)){const U=P;N.push(await U.tool())}else N.push(P);N.length>0&&(t.config.tools=N);const k={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?D=Fhe(this.apiClient,k):D=Lhe(this.apiClient,k),delete D.config,I.send(JSON.stringify(D)),new bme(I,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const _me={turnComplete:!0};class bme{constructor(t,r){this.conn=t,this.apiClient=r}tLiveClientContent(t,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Es(r.turns),t.isVertexAI()||(n=n.map(i=>L1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(t,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(vme)}return{toolResponse:{functionResponses:n}}}sendClientContent(t){t=Object.assign(Object.assign({},_me),t);const r=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendRealtimeInput(t){let r={};this.apiClient.isVertexAI()?r={realtimeInput:Vhe(t)}:r={realtimeInput:Bhe(t)},this.conn.send(JSON.stringify(r))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function wme(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function Eme(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}const FD=10;function jD(e){var t,r,n;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(r=e?.tools)!==null&&r!==void 0?r:[])if(Yd(s)){i=!0;break}if(!i)return!0;const a=(n=e?.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Yd(e){return"callTool"in e&&typeof e.callTool=="function"}function Tme(e){var t,r,n;return(n=(r=(t=e.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(i=>Yd(i)))!==null&&n!==void 0?n:!1}function UD(e){var t;const r=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((n,i)=>{if(Yd(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(i)}),r}function BD(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class Sme extends jl{constructor(t){super(),this.apiClient=t,this.generateContent=async r=>{var n,i,a,s,o;const c=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!Tme(r)||jD(r.config))return await this.generateContentInternal(c);const u=UD(r);if(u.length>0){const b=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,p;const m=Es(c.contents),y=(a=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:FD;let _=0;for(;_<y&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,E=[];for(const A of(o=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(Yd(A)){const I=await A.callTool(d.functionCalls);E.push(...I)}_++,p={role:"user",parts:E},c.contents=Es(c.contents),c.contents.push(b),c.contents.push(p),BD(c.config)&&(m.push(b),m.push(p))}return BD(c.config)&&(d.automaticFunctionCallingHistory=m),d},this.generateContentStream=async r=>{var n,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(r),jD(r.config)){const p=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(p)}const c=UD(r);if(c.length>0){const p=c.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(n=r?.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,d=(o=(s=r?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const s=[];if(n?.generatedImages)for(const c of n.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:s.push(c);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new If(Al.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,a,s,o,c;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((s=(a=r.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(o=r.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var r,n,i;const a=(r=t.config)===null||r===void 0?void 0:r.tools;if(!a)return t;const s=await Promise.all(a.map(async c=>Yd(c)?await c.tool():c)),o={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(o.config.tools=s,t.config&&t.config.tools&&AB(t.config.tools)){const c=(i=(n=t.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),CB(u),o.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(t){var r,n,i;const a=new Map;for(const s of(n=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(Yd(s)){const o=s,c=await o.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,o)}}return a}async processAfcStream(t){var r,n,i;const a=(i=(n=(r=t.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:FD;let s=!1,o=0;const c=await this.initAfcToolsMap(t);return(function(u,d,p){return to(this,arguments,function*(){for(var m,y,_,b,E,A;o<a;){s&&(o++,s=!1);const D=yield kt(u.processParamsMaybeAddMcpUsage(p)),M=yield kt(u.generateContentStreamInternal(D)),N=[],k=[];try{for(var L=!0,I=(y=void 0,ro(M)),O;O=yield kt(I.next()),m=O.done,!m;L=!0){b=O.value,L=!1;const P=b;if(yield yield kt(P),P.candidates&&(!((E=P.candidates[0])===null||E===void 0)&&E.content)){k.push(P.candidates[0].content);for(const U of(A=P.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(o<a&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(U.functionCall.name)){const B=yield kt(d.get(U.functionCall.name).callTool([U.functionCall]));N.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(P){y={error:P}}finally{try{!L&&!m&&(_=I.return)&&(yield kt(_.call(I)))}finally{if(y)throw y.error}}if(N.length>0){s=!0;const P=new M0;P.candidates=[{content:{role:"user",parts:N}}],yield yield kt(P);const U=[];U.push(...k),U.push({role:"user",parts:N});const B=Es(p.contents).concat(U);p.contents=B}else break}})})(this,c,t)}async generateContentInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=OD(this.apiClient,t);return o=rt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=DD(d),m=new M0;return Object.assign(m,p),m})}else{const u=RD(this.apiClient,t);return o=rt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=MD(d),m=new M0;return Object.assign(m,p),m})}}async generateContentStreamInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=OD(this.apiClient,t);return o=rt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(p){return to(this,arguments,function*(){var m,y,_,b;try{for(var E=!0,A=ro(p),L;L=yield kt(A.next()),m=L.done,!m;E=!0){b=L.value,E=!1;const I=b,O=DD(yield kt(I.json()),t);O.sdkHttpResponse={headers:I.headers};const D=new M0;Object.assign(D,O),yield yield kt(D)}}catch(I){y={error:I}}finally{try{!E&&!m&&(_=A.return)&&(yield kt(_.call(A)))}finally{if(y)throw y.error}}})})}else{const u=RD(this.apiClient,t);return o=rt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return to(this,arguments,function*(){var m,y,_,b;try{for(var E=!0,A=ro(p),L;L=yield kt(A.next()),m=L.done,!m;E=!0){b=L.value,E=!1;const I=b,O=MD(yield kt(I.json()),t);O.sdkHttpResponse={headers:I.headers};const D=new M0;Object.assign(D,O),yield yield kt(D)}}catch(I){y={error:I}}finally{try{!E&&!m&&(_=A.return)&&(yield kt(_.call(A)))}finally{if(y)throw y.error}}})})}}async embedContent(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=x0e(this.apiClient,t);return o=rt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=b0e(d),m=new mD;return Object.assign(m,p),m})}else{const u=y0e(this.apiClient,t);return o=rt("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=_0e(d),m=new mD;return Object.assign(m,p),m})}}async generateImagesInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=R0e(this.apiClient,t);return o=rt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=M0e(d),m=new gD;return Object.assign(m,p),m})}else{const u=P0e(this.apiClient,t);return o=rt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=O0e(d),m=new gD;return Object.assign(m,p),m})}}async editImageInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=p0e(this.apiClient,t);return a=rt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=m0e(c),d=new xfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Rpe(this.apiClient,t);return a=rt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Ope(c),d=new _fe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=hpe(this.apiClient,t);return a=rt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=ppe(c),d=new bfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=_pe(this.apiClient,t);return a=rt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=bpe(c),d=new wfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=X0e(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>FS(d))}else{const u=J0e(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>LS(d))}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=spe(this.apiClient,t);return o=rt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=lpe(d),m=new vD;return Object.assign(m,p),m})}else{const u=ape(this.apiClient,t);return o=rt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=ope(d),m=new vD;return Object.assign(m,p),m})}}async update(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ipe(this.apiClient,t);return o=rt("{model}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>FS(d))}else{const u=kpe(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>LS(d))}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=u0e(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=d0e(d),m=new yD;return Object.assign(m,p),m})}else{const u=c0e(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=f0e(d),m=new yD;return Object.assign(m,p),m})}}async countTokens(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=s0e(this.apiClient,t);return o=rt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=l0e(d),m=new xD;return Object.assign(m,p),m})}else{const u=a0e(this.apiClient,t);return o=rt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=o0e(d),m=new xD;return Object.assign(m,p),m})}}async computeTokens(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Zhe(this.apiClient,t);return a=rt("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Qhe(c),d=new Efe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=B0e(this.apiClient,t);return o=rt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>{const p=j0e(d),m=new cx;return Object.assign(m,p),m})}else{const u=U0e(this.apiClient,t);return o=rt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>{const p=F0e(d),m=new cx;return Object.assign(m,p),m})}}}class Ame extends jl{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=hfe(t);return o=rt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s}else{const u=dfe(t);return o=rt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=afe(t);return a=rt("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function Cme(e){const t={},r=x(e,["data"]);if(r!=null&&w(t,["data"],r),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Nme(e){const t={},r=x(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Fme(a))),w(t,["parts"],i)}const n=x(e,["role"]);return n!=null&&w(t,["role"],n),t}function kme(e,t,r){const n={},i=x(t,["expireTime"]);r!==void 0&&i!=null&&w(r,["expireTime"],i);const a=x(t,["newSessionExpireTime"]);r!==void 0&&a!=null&&w(r,["newSessionExpireTime"],a);const s=x(t,["uses"]);r!==void 0&&s!=null&&w(r,["uses"],s);const o=x(t,["liveConnectConstraints"]);r!==void 0&&o!=null&&w(r,["bidiGenerateContentSetup"],Lme(e,o));const c=x(t,["lockAdditionalFields"]);return r!==void 0&&c!=null&&w(r,["fieldMask"],c),n}function Ime(e,t){const r={},n=x(t,["config"]);return n!=null&&w(r,["config"],kme(e,n,r)),r}function Pme(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=x(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Rme(e){const t={},r=x(e,["id"]);r!=null&&w(t,["id"],r);const n=x(e,["args"]);n!=null&&w(t,["args"],n);const i=x(e,["name"]);if(i!=null&&w(t,["name"],i),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ome(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=x(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function Mme(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=x(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function Dme(e,t){const r={},n=x(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],n);const i=x(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=x(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=x(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=x(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=x(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=x(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=x(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const p=x(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],mC(p));const m=x(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=x(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const _=x(e,["systemInstruction"]);t!==void 0&&_!=null&&w(t,["setup","systemInstruction"],Nme(Gi(_)));const b=x(e,["tools"]);if(t!==void 0&&b!=null){let M=Ch(b);Array.isArray(M)&&(M=M.map(N=>Ume(Ah(N)))),w(t,["setup","tools"],M)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],jme(E));const A=x(e,["inputAudioTranscription"]);t!==void 0&&A!=null&&w(t,["setup","inputAudioTranscription"],A);const L=x(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&w(t,["setup","outputAudioTranscription"],L);const I=x(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&w(t,["setup","realtimeInputConfig"],I);const O=x(e,["contextWindowCompression"]);t!==void 0&&O!=null&&w(t,["setup","contextWindowCompression"],O);const D=x(e,["proactivity"]);if(t!==void 0&&D!=null&&w(t,["setup","proactivity"],D),x(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Lme(e,t){const r={},n=x(t,["model"]);n!=null&&w(r,["setup","model"],fr(e,n));const i=x(t,["config"]);return i!=null&&w(r,["config"],Dme(i,r)),r}function Fme(e){const t={},r=x(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=x(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=x(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=x(e,["fileData"]);a!=null&&w(t,["fileData"],Pme(a));const s=x(e,["functionCall"]);s!=null&&w(t,["functionCall"],Rme(s));const o=x(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=x(e,["inlineData"]);c!=null&&w(t,["inlineData"],Cme(c));const u=x(e,["text"]);u!=null&&w(t,["text"],u);const d=x(e,["thought"]);d!=null&&w(t,["thought"],d);const p=x(e,["thoughtSignature"]);p!=null&&w(t,["thoughtSignature"],p);const m=x(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function jme(e){const t={},r=x(e,["handle"]);if(r!=null&&w(t,["handle"],r),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ume(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=x(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=x(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=x(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),w(t,["functionDeclarations"],d)}const s=x(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],Ome(s));const o=x(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],Mme(o));const c=x(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=x(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function Bme(e){const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${r}.${a}`);t.push(...i)}else t.push(r)}return t.join(",")}function Vme(e,t){let r=null;const n=e.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,r=a):delete e.bidiGenerateContentSetup}else n!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(r){const a=Bme(r);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const c=[];a&&c.push(a),o.length>0&&c.push(...o),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class zme extends jl{constructor(t){super(),this.apiClient=t}async create(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=Ime(this.apiClient,t);a=rt("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const c=Vme(o,t.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}function $me(e,t){const r={},n=x(e,["force"]);return t!==void 0&&n!=null&&w(t,["_query","force"],n),r}function Hme(e){const t={},r=x(e,["name"]);r!=null&&w(t,["_url","name"],r);const n=x(e,["config"]);return n!=null&&$me(n,t),t}function Gme(e){const t={},r=x(e,["name"]);return r!=null&&w(t,["_url","name"],r),t}function qme(e,t){const r={},n=x(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=x(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Kme(e){const t={},r=x(e,["parent"]);r!=null&&w(t,["_url","parent"],r);const n=x(e,["config"]);return n!=null&&qme(n,t),t}function Wme(e){const t={},r=x(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=x(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=x(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["documents"],a)}return t}class Yme extends jl{constructor(t){super(),this.apiClient=t,this.list=async r=>new If(Al.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Gme(t);return a=rt("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Hme(t);i=rt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Kme(t);return a=rt("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Wme(c),d=new Tfe;return Object.assign(d,u),d})}}}class Jme extends jl{constructor(t,r=new Yme(t)){super(),this.apiClient=t,this.documents=r,this.list=async(n={})=>new If(Al.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Bpe(t);return a=rt("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=$pe(t);return a=rt("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=zpe(t);i=rt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ype(t);return a=rt("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Jpe(c),d=new Sfe;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xpe(t);return a=rt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Zpe(c),d=new Afe;return Object.assign(d,u),d})}}async importFile(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=qpe(t);return a=rt("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Gpe(c),d=new uC;return Object.assign(d,u),d})}}}let NB=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return NB=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Xme=()=>NB();function US(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const BS=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Ss extends Error{}class da extends Ss{constructor(t,r,n,i){super(`${da.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.error=r}static makeMessage(t,r,n){const i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new U1({message:n,cause:BS(r)});const a=r;return t===400?new IB(t,a,n,i):t===401?new PB(t,a,n,i):t===403?new RB(t,a,n,i):t===404?new OB(t,a,n,i):t===409?new MB(t,a,n,i):t===422?new DB(t,a,n,i):t===429?new LB(t,a,n,i):t>=500?new FB(t,a,n,i):new da(t,a,n,i)}}class VS extends da{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class U1 extends da{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class kB extends U1{constructor({message:t}={}){super({message:t??"Request timed out."})}}class IB extends da{}class PB extends da{}class RB extends da{}class OB extends da{}class MB extends da{}class DB extends da{}class LB extends da{}class FB extends da{}const Zme=/^[a-z][a-z0-9+.-]*:/i,Qme=e=>Zme.test(e);let zS=e=>(zS=Array.isArray,zS(e));const ege=zS;let tge=ege;const VD=tge;function rge(e){if(!e)return!0;for(const t in e)return!1;return!0}function nge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const ige=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ss(`${e} must be an integer`);if(t<0)throw new Ss(`${e} must be a positive integer`);return t},age=e=>{try{return JSON.parse(e)}catch{return}};const sge=e=>new Promise(t=>setTimeout(t,e));const Nd="0.0.1";function oge(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const lge=()=>{var e,t,r,n,i;const a=oge();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nd,"X-Stainless-OS":$D(Deno.build.os),"X-Stainless-Arch":zD(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nd,"X-Stainless-OS":$D((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":zD((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=cge();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Nd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function cge(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,s=n[3]||0;return{browser:t,version:`${i}.${a}.${s}`}}}return null}const zD=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",$D=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Dv;const uge=()=>Dv??(Dv=lge());function fge(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function jB(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function dge(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return jB({start(){},async pull(r){const{done:n,value:i}=await t.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}function UB(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hge(e){var t,r;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((r=(t=e[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(t));return}const n=e.getReader(),i=n.cancel();n.releaseLock(),await i}const pge=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const BB=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function oE(e,t,r){return BB(),new File(e,t??"unknown_file",r)}function mge(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const gge=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";const VB=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",vge=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&VB(e),yge=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function xge(e,t,r){if(BB(),e=await e,vge(e))return e instanceof File?e:oE([await e.arrayBuffer()],e.name);if(yge(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),oE(await $S(i),t,r)}const n=await $S(e);if(t||(t=mge(e)),!r?.type){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return oE(n,t,r)}async function $S(e){var t,r,n,i,a;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(VB(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(gge(e))try{for(var o=!0,c=ro(e),u;u=await c.next(),t=u.done,!t;o=!0){i=u.value,o=!1;const d=i;s.push(...await $S(d))}}catch(d){r={error:d}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}else{const d=(a=e?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${_ge(e)}`)}return s}function _ge(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class zB{constructor(t){this._client=t}}zB._key=[];function $B(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const HD=Object.freeze(Object.create(null)),bge=(e=$B)=>(function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],s=r.reduce((d,p,m)=>{var y,_,b;/[?#]/.test(p)&&(i=!0);const E=n[m];let A=(i?encodeURIComponent:e)(""+E);return m!==n.length&&(E==null||typeof E=="object"&&E.toString===((b=Object.getPrototypeOf((_=Object.getPrototypeOf((y=E.hasOwnProperty)!==null&&y!==void 0?y:HD))!==null&&_!==void 0?_:HD))===null||b===void 0?void 0:b.toString))&&(A=E+"",a.push({start:d.length+p.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),d+p+(m===n.length?"":A)},""),o=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(o))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((d,p)=>d.start-p.start),a.length>0){let d=0;const p=a.reduce((m,y)=>{const _=" ".repeat(y.start-d),b="^".repeat(y.length);return d=y.start+y.length,m+_+b},"");throw new Ss(`Path parameters result in path with invalid segments:
${a.map(m=>m.error).join(`
`)}
${s}
${p}`)}return s}),Lv=bge($B);class HB extends zB{create(t,r){var n;const{api_version:i=this._client.apiVersion}=t,a=fx(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Ss("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Ss("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Lv`/${i}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(Lv`/${i}/interactions/${t}`,n)}cancel(t,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(Lv`/${i}/interactions/${t}/cancel`,n)}get(t,r={},n){var i;const a=r??{},{api_version:s=this._client.apiVersion}=a,o=fx(a,["api_version"]);return this._client.get(Lv`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},n),{stream:(i=r?.stream)!==null&&i!==void 0?i:!1}))}}HB._key=Object.freeze(["interactions"]);class GB extends HB{}function wge(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}let Fv;function vC(e){let t;return(Fv??(t=new globalThis.TextEncoder,Fv=t.encode.bind(t)))(e)}let jv;function GD(e){let t;return(jv??(t=new globalThis.TextDecoder,jv=t.decode.bind(t)))(e)}class B1{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?vC(t):t;this.buffer=wge([this.buffer,r]);const n=[];let i;for(;(i=Ege(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(GD(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=GD(this.buffer.subarray(0,a));n.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}B1.NEWLINE_CHARS=new Set([`
`,"\r"]);B1.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ege(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Tge(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const dx={off:0,error:200,warn:300,info:400,debug:500},qD=(e,t,r)=>{if(e){if(nge(dx,e))return e;ia(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(dx))}`)}};function sp(){}function Uv(e,t,r){return!t||dx[e]>dx[r]?sp:t[e].bind(t)}const Sge={error:sp,warn:sp,info:sp,debug:sp};let KD=new WeakMap;function ia(e){var t;const r=e.logger,n=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!r)return Sge;const i=KD.get(r);if(i&&i[0]===n)return i[1];const a={error:Uv("error",r,n),warn:Uv("warn",r,n),info:Uv("info",r,n),debug:Uv("debug",r,n)};return KD.set(r,[n,a]),a}const Du=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class jd{constructor(t,r,n){this.iterator=t,this.controller=r,this.client=n}static fromSSEResponse(t,r,n){let i=!1;const a=n?ia(n):console;function s(){return to(this,arguments,function*(){var c,u,d,p;if(i)throw new Ss("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var y=!0,_=ro(Age(t,r)),b;b=yield kt(_.next()),c=b.done,!c;y=!0){p=b.value,y=!1;const E=p;if(!m)if(E.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield kt(JSON.parse(E.data))}catch(A){throw a.error("Could not parse message into JSON:",E.data),a.error("From chunk:",E.raw),A}}}catch(E){u={error:E}}finally{try{!y&&!c&&(d=_.return)&&(yield kt(d.call(_)))}finally{if(u)throw u.error}}m=!0}catch(E){if(US(E))return yield kt(void 0);throw E}finally{m||r.abort()}})}return new jd(s,r,n)}static fromReadableStream(t,r,n){let i=!1;function a(){return to(this,arguments,function*(){var c,u,d,p;const m=new B1,y=UB(t);try{for(var _=!0,b=ro(y),E;E=yield kt(b.next()),c=E.done,!c;_=!0){p=E.value,_=!1;const A=p;for(const L of m.decode(A))yield yield kt(L)}}catch(A){u={error:A}}finally{try{!_&&!c&&(d=b.return)&&(yield kt(d.call(b)))}finally{if(u)throw u.error}}for(const A of m.flush())yield yield kt(A)})}function s(){return to(this,arguments,function*(){var c,u,d,p;if(i)throw new Ss("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var y=!0,_=ro(a()),b;b=yield kt(_.next()),c=b.done,!c;y=!0){p=b.value,y=!1;const E=p;m||E&&(yield yield kt(JSON.parse(E)))}}catch(E){u={error:E}}finally{try{!y&&!c&&(d=_.return)&&(yield kt(d.call(_)))}finally{if(u)throw u.error}}m=!0}catch(E){if(US(E))return yield kt(void 0);throw E}finally{m||r.abort()}})}return new jd(s,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=n.next();t.push(s),r.push(s)}return a.shift()}});return[new jd(()=>i(t),this.controller,this.client),new jd(()=>i(r),this.controller,this.client)]}toReadableStream(){const t=this;let r;return jB({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const s=vC(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function Age(e,t){return to(this,arguments,function*(){var n,i,a,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ss("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ss("Attempted to iterate over a response with no body");const o=new Nge,c=new B1,u=UB(e.body);try{for(var d=!0,p=ro(Cge(u)),m;m=yield kt(p.next()),n=m.done,!n;d=!0){s=m.value,d=!1;const y=s;for(const _ of c.decode(y)){const b=o.decode(_);b&&(yield yield kt(b))}}}catch(y){i={error:y}}finally{try{!d&&!n&&(a=p.return)&&(yield kt(a.call(p)))}finally{if(i)throw i.error}}for(const y of c.flush()){const _=o.decode(y);_&&(yield yield kt(_))}})}function Cge(e){return to(this,arguments,function*(){var r,n,i,a;let s=new Uint8Array;try{for(var o=!0,c=ro(e),u;u=yield kt(c.next()),r=u.done,!r;o=!0){a=u.value,o=!1;const d=a;if(d==null)continue;const p=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?vC(d):d;let m=new Uint8Array(s.length+p.length);m.set(s),m.set(p,s.length),s=m;let y;for(;(y=Tge(s))!==-1;)yield yield kt(s.slice(0,y)),s=s.slice(y)}}catch(d){n={error:d}}finally{try{!o&&!r&&(i=c.return)&&(yield kt(i.call(c)))}finally{if(n)throw n.error}}s.length>0&&(yield yield kt(s))})}class Nge{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=kge(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function kge(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function Ige(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=t,s=await(async()=>{var o;if(t.options.stream)return ia(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):jd.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const c=r.headers.get("content-type"),u=(o=c?.split(";")[0])===null||o===void 0?void 0:o.trim();return u?.includes("application/json")||u?.endsWith("+json")?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return ia(e).debug(`[${n}] response parsed`,Du({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-a})),s}class yC extends Promise{constructor(t,r,n=Ige){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new yC(this.client,this.responsePromise,async(r,n)=>t(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const qB=Symbol("brand.privateNullableHeaders");function*Pge(e){if(!e)return;if(qB in e){const{values:n,nulls:i}=e;yield*n.entries();for(const a of i)yield[a,null];return}let t=!1,r;e instanceof Headers?r=e.entries():VD(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=VD(n[1])?n[1]:[n[1]];let s=!1;for(const o of a)o!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,o])}}const D0=e=>{const t=new Headers,r=new Set;for(const n of e){const i=new Set;for(const[a,s]of Pge(n)){const o=a.toLowerCase();i.has(o)||(t.delete(a),i.add(o)),s===null?(t.delete(a),r.add(o)):(t.append(a,s),r.delete(o))}}return{[qB]:!0,values:t,nulls:r}};const lE=e=>{var t,r,n,i,a,s;if(typeof globalThis.process<"u")return(n=(r=(t=Que)===null||t===void 0?void 0:t[e])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||s===void 0?void 0:s.trim()};var KB;class V1{constructor(t){var r,n,i,a,s,o,c,{baseURL:u=lE("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(r=lE("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:p="v1beta"}=t,m=fx(t,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:d,apiVersion:p},m),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(n=y.timeout)!==null&&n!==void 0?n:V1.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const _="warn";this.logLevel=_,this.logLevel=(s=(a=qD(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:qD(lE("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:_,this.fetchOptions=y.fetchOptions,this.maxRetries=(o=y.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:fge(),this.encoder=pge,this._options=y,this.apiKey=d,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const r=D0([t.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return D0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return D0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Ss(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Nd}`}defaultIdempotencyKey(){return`stainless-node-retry-${Xme()}`}makeStatusError(t,r,n,i){return da.generate(t,r,n,i)}buildURL(t,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,a=Qme(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return rge(s)||(r=Object.assign(Object.assign({},s),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const r=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:t,path:r},i)))}request(t,r=null){return new yC(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var i,a,s;const o=await t,c=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=c),await this.prepareOptions(o);const{req:u,url:d,timeout:p}=await this.buildRequest(o,{retryCount:c-r});await this.prepareRequest(u,{url:d,options:o});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=n===void 0?"":`, retryOf: ${n}`,_=Date.now();if(ia(this).debug(`[${m}] sending request`,Du({retryOfRequestLogID:n,method:o.method,url:d,options:o,headers:u.headers})),!((a=o.signal)===null||a===void 0)&&a.aborted)throw new VS;const b=new AbortController,E=await this.fetchWithTimeout(d,u,p,b).catch(BS),A=Date.now();if(E instanceof globalThis.Error){const I=`retrying, ${r} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new VS;const O=US(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(r)return ia(this).info(`[${m}] connection ${O?"timed out":"failed"} - ${I}`),ia(this).debug(`[${m}] connection ${O?"timed out":"failed"} (${I})`,Du({retryOfRequestLogID:n,url:d,durationMs:A-_,message:E.message})),this.retryRequest(o,r,n??m);throw ia(this).info(`[${m}] connection ${O?"timed out":"failed"} - error; no more retries left`),ia(this).debug(`[${m}] connection ${O?"timed out":"failed"} (error; no more retries left)`,Du({retryOfRequestLogID:n,url:d,durationMs:A-_,message:E.message})),O?new kB:new U1({cause:E})}const L=`[${m}${y}] ${u.method} ${d} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${A-_}ms`;if(!E.ok){const I=await this.shouldRetry(E);if(r&&I){const P=`retrying, ${r} attempts remaining`;return await hge(E.body),ia(this).info(`${L} - ${P}`),ia(this).debug(`[${m}] response error (${P})`,Du({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,durationMs:A-_})),this.retryRequest(o,r,n??m,E.headers)}const O=I?"error; no more retries left":"error; not retryable";ia(this).info(`${L} - ${O}`);const D=await E.text().catch(P=>BS(P).message),M=age(D),N=M?void 0:D;throw ia(this).debug(`[${m}] response error (${O})`,Du({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,message:N,durationMs:Date.now()-_})),this.makeStatusError(E.status,M,N,E.headers)}return ia(this).info(L),ia(this).debug(`[${m}] response start`,Du({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,durationMs:A-_})),{response:E,options:o,controller:b,requestLogID:m,retryOfRequestLogID:n,startTime:_}}async fetchWithTimeout(t,r,n,i){const a=r||{},{signal:s,method:o}=a,c=fx(a,["signal","method"]),u=i.abort.bind(i);s&&s.addEventListener("abort",u,{once:!0});const d=setTimeout(u,n),p=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),c);o&&(m.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(d)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,i){var a;let s;const o=i?.get("retry-after-ms");if(o){const u=parseFloat(o);Number.isNaN(u)||(s=u)}const c=i?.get("retry-after");if(c&&!s){const u=parseFloat(c);Number.isNaN(u)?s=Date.parse(c)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,u)}return await sge(s),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const a=r-t,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:r=0}={}){var n,i,a;const s=Object.assign({},t),{method:o,path:c,query:u,defaultBaseURL:d}=s,p=this.buildURL(c,u,d);"timeout"in s&&ige("timeout",s.timeout),s.timeout=(n=s.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:m,body:y}=this.buildBody({options:s}),_=await this.buildHeaders({options:t,method:o,bodyHeaders:m,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:_},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=D0([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),uge()),this._options.defaultHeaders,n,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=D0([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:dge(t)}:this.encoder({body:t,headers:n})}}V1.DEFAULT_TIMEOUT=6e4;class di extends V1{constructor(){super(...arguments),this.interactions=new GB(this)}}KB=di;di.GeminiNextGenAPIClient=KB;di.GeminiNextGenAPIClientError=Ss;di.APIError=da;di.APIConnectionError=U1;di.APIConnectionTimeoutError=kB;di.APIUserAbortError=VS;di.NotFoundError=OB;di.ConflictError=MB;di.RateLimitError=LB;di.BadRequestError=IB;di.AuthenticationError=PB;di.InternalServerError=FB;di.PermissionDeniedError=RB;di.UnprocessableEntityError=DB;di.toFile=xge;di.Interactions=GB;function Rge(e,t){const r={},n=x(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function Oge(e,t){const r={},n=x(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function Mge(e,t){const r={},n=x(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function Dge(e,t){const r={},n=x(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function Lge(e,t,r){const n={};if(x(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&w(t,["displayName"],i),x(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(e,["epochCount"]);t!==void 0&&a!=null&&w(t,["tuningTask","hyperparameters","epochCount"],a);const s=x(e,["learningRateMultiplier"]);if(s!=null&&w(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(x(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(x(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const o=x(e,["batchSize"]);t!==void 0&&o!=null&&w(t,["tuningTask","hyperparameters","batchSize"],o);const c=x(e,["learningRate"]);if(t!==void 0&&c!=null&&w(t,["tuningTask","hyperparameters","learningRate"],c),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(x(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(x(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(x(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(x(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return n}function Fge(e,t,r){const n={};let i=x(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const D=x(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec"],cE(D))}else if(i==="PREFERENCE_TUNING"){const D=x(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec"],cE(D))}else if(i==="DISTILLATION"){const D=x(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["distillationSpec"],cE(D))}const a=x(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&w(t,["tunedModelDisplayName"],a);const s=x(e,["description"]);t!==void 0&&s!=null&&w(t,["description"],s);let o=x(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const D=x(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","epochCount"],D)}else if(o==="PREFERENCE_TUNING"){const D=x(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],D)}else if(o==="DISTILLATION"){const D=x(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","epochCount"],D)}let c=x(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const D=x(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],D)}else if(c==="PREFERENCE_TUNING"){const D=x(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],D)}else if(c==="DISTILLATION"){const D=x(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","learningRateMultiplier"],D)}let u=x(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const D=x(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","exportLastCheckpointOnly"],D)}else if(u==="PREFERENCE_TUNING"){const D=x(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],D)}else if(u==="DISTILLATION"){const D=x(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["distillationSpec","exportLastCheckpointOnly"],D)}let d=x(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const D=x(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","adapterSize"],D)}else if(d==="PREFERENCE_TUNING"){const D=x(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],D)}else if(d==="DISTILLATION"){const D=x(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","adapterSize"],D)}let p=x(r,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const D=x(e,["tuningMode"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","tuningMode"],D)}const m=x(e,["customBaseModel"]);t!==void 0&&m!=null&&w(t,["customBaseModel"],m);let y=x(r,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const D=x(e,["batchSize"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","batchSize"],D)}let _=x(r,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const D=x(e,["learningRate"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRate"],D)}const b=x(e,["labels"]);t!==void 0&&b!=null&&w(t,["labels"],b);const E=x(e,["beta"]);t!==void 0&&E!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","beta"],E);const A=x(e,["baseTeacherModel"]);t!==void 0&&A!=null&&w(t,["distillationSpec","baseTeacherModel"],A);const L=x(e,["tunedTeacherModelSource"]);t!==void 0&&L!=null&&w(t,["distillationSpec","tunedTeacherModelSource"],L);const I=x(e,["sftLossWeightMultiplier"]);t!==void 0&&I!=null&&w(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],I);const O=x(e,["outputUri"]);return t!==void 0&&O!=null&&w(t,["outputUri"],O),n}function jge(e,t){const r={},n=x(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=x(e,["preTunedModel"]);i!=null&&w(r,["preTunedModel"],i);const a=x(e,["trainingDataset"]);a!=null&&Yge(a);const s=x(e,["config"]);return s!=null&&Lge(s,r),r}function Uge(e,t){const r={},n=x(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=x(e,["preTunedModel"]);i!=null&&w(r,["preTunedModel"],i);const a=x(e,["trainingDataset"]);a!=null&&Jge(a,r,t);const s=x(e,["config"]);return s!=null&&Fge(s,r,t),r}function Bge(e,t){const r={},n=x(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function Vge(e,t){const r={},n=x(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function zge(e,t,r){const n={},i=x(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&w(t,["_query","pageToken"],a);const s=x(e,["filter"]);return t!==void 0&&s!=null&&w(t,["_query","filter"],s),n}function $ge(e,t,r){const n={},i=x(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&w(t,["_query","pageToken"],a);const s=x(e,["filter"]);return t!==void 0&&s!=null&&w(t,["_query","filter"],s),n}function Hge(e,t){const r={},n=x(e,["config"]);return n!=null&&zge(n,r),r}function Gge(e,t){const r={},n=x(e,["config"]);return n!=null&&$ge(n,r),r}function qge(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=x(e,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>WB(o))),w(r,["tuningJobs"],s)}return r}function Kge(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=x(e,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>HS(o))),w(r,["tuningJobs"],s)}return r}function Wge(e,t){const r={},n=x(e,["name"]);n!=null&&w(r,["model"],n);const i=x(e,["name"]);return i!=null&&w(r,["endpoint"],i),r}function Yge(e,t){const r={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=x(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(r,["examples","examples"],i)}return r}function Jge(e,t,r){const n={};let i=x(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=x(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=x(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=x(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["distillationSpec","promptDatasetUri"],s)}let a=x(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=x(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=x(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(a==="DISTILLATION"){const s=x(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["distillationSpec","promptDatasetUri"],s)}if(x(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function WB(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["name"]);i!=null&&w(r,["name"],i);const a=x(e,["state"]);a!=null&&w(r,["state"],uB(a));const s=x(e,["createTime"]);s!=null&&w(r,["createTime"],s);const o=x(e,["tuningTask","startTime"]);o!=null&&w(r,["startTime"],o);const c=x(e,["tuningTask","completeTime"]);c!=null&&w(r,["endTime"],c);const u=x(e,["updateTime"]);u!=null&&w(r,["updateTime"],u);const d=x(e,["description"]);d!=null&&w(r,["description"],d);const p=x(e,["baseModel"]);p!=null&&w(r,["baseModel"],p);const m=x(e,["_self"]);return m!=null&&w(r,["tunedModel"],Wge(m)),r}function HS(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["name"]);i!=null&&w(r,["name"],i);const a=x(e,["state"]);a!=null&&w(r,["state"],uB(a));const s=x(e,["createTime"]);s!=null&&w(r,["createTime"],s);const o=x(e,["startTime"]);o!=null&&w(r,["startTime"],o);const c=x(e,["endTime"]);c!=null&&w(r,["endTime"],c);const u=x(e,["updateTime"]);u!=null&&w(r,["updateTime"],u);const d=x(e,["error"]);d!=null&&w(r,["error"],d);const p=x(e,["description"]);p!=null&&w(r,["description"],p);const m=x(e,["baseModel"]);m!=null&&w(r,["baseModel"],m);const y=x(e,["tunedModel"]);y!=null&&w(r,["tunedModel"],y);const _=x(e,["preTunedModel"]);_!=null&&w(r,["preTunedModel"],_);const b=x(e,["supervisedTuningSpec"]);b!=null&&w(r,["supervisedTuningSpec"],b);const E=x(e,["preferenceOptimizationSpec"]);E!=null&&w(r,["preferenceOptimizationSpec"],E);const A=x(e,["distillationSpec"]);A!=null&&w(r,["distillationSpec"],A);const L=x(e,["tuningDataStats"]);L!=null&&w(r,["tuningDataStats"],L);const I=x(e,["encryptionSpec"]);I!=null&&w(r,["encryptionSpec"],I);const O=x(e,["partnerModelTuningSpec"]);O!=null&&w(r,["partnerModelTuningSpec"],O);const D=x(e,["customBaseModel"]);D!=null&&w(r,["customBaseModel"],D);const M=x(e,["experiment"]);M!=null&&w(r,["experiment"],M);const N=x(e,["labels"]);N!=null&&w(r,["labels"],N);const k=x(e,["outputUri"]);k!=null&&w(r,["outputUri"],k);const P=x(e,["pipelineJob"]);P!=null&&w(r,["pipelineJob"],P);const U=x(e,["serviceAccount"]);U!=null&&w(r,["serviceAccount"],U);const B=x(e,["tunedModelDisplayName"]);B!=null&&w(r,["tunedModelDisplayName"],B);const F=x(e,["veoTuningSpec"]);return F!=null&&w(r,["veoTuningSpec"],F),r}function Xge(e,t){const r={},n=x(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=x(e,["name"]);i!=null&&w(r,["name"],i);const a=x(e,["metadata"]);a!=null&&w(r,["metadata"],a);const s=x(e,["done"]);s!=null&&w(r,["done"],s);const o=x(e,["error"]);return o!=null&&w(r,["error"],o),r}function cE(e,t){const r={},n=x(e,["gcsUri"]);n!=null&&w(r,["validationDatasetUri"],n);const i=x(e,["vertexDatasetResource"]);return i!=null&&w(r,["validationDatasetUri"],i),r}class Zge extends jl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new If(Al.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:PS.JOB_STATE_QUEUED}}}}async getInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Vge(t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>HS(d))}else{const u=Bge(t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>WB(d))}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Gge(t);return o=rt("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Kge(d),m=new _D;return Object.assign(m,p),m})}else{const u=Hge(t);return o=rt("tunedModels",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=qge(d),m=new _D;return Object.assign(m,p),m})}}async cancel(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Oge(t);return o=rt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Dge(d),m=new bD;return Object.assign(m,p),m})}else{const u=Rge(t);return o=rt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Mge(d),m=new bD;return Object.assign(m,p),m})}}async tuneInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Uge(t,t);return a=rt("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>HS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jge(t);return a=rt("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>Xge(c))}}}class Qge{async download(t,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eve=1024*1024*8,tve=3,rve=1e3,nve=2,hx="x-goog-upload-status";async function ive(e,t,r){var n;const i=await YB(e,t,r),a=await i?.json();if(((n=i?.headers)===null||n===void 0?void 0:n[hx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function ave(e,t,r){var n;const i=await YB(e,t,r),a=await i?.json();if(((n=i?.headers)===null||n===void 0?void 0:n[hx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=iB(a),o=new fC;return Object.assign(o,s),o}async function YB(e,t,r){var n,i;let a=0,s=0,o=new OS(new Response),c="upload";for(a=e.size;s<a;){const u=Math.min(eve,a-s),d=e.slice(s,s+u);s+u>=a&&(c+=", finalize");let p=0,m=rve;for(;p<tve&&(o=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((n=o?.headers)===null||n===void 0)&&n[hx]));)p++,await ove(m),m=m*nve;if(s+=u,((i=o?.headers)===null||i===void 0?void 0:i[hx])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function sve(e){return{size:e.size,type:e.type}}function ove(e){return new Promise(t=>setTimeout(t,e))}class lve{async upload(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ive(t,r,n)}async uploadToFileSearchStore(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ave(t,r,n)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sve(t)}}class cve{create(t,r,n){return new uve(t,r,n)}}class uve{constructor(t,r,n){this.url=t,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const WD="x-goog-api-key";class fve{constructor(t){this.apiKey=t}async addAuthHeaders(t,r){if(t.get(WD)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(WD,this.apiKey)}}}const dve="gl-node/";class JB{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new di({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=r.interactions,this._interactions}constructor(t){var r;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=t.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=t.apiKey;const n=nfe(t.httpOptions,t.vertexai,void 0,void 0);n&&(t.httpOptions?t.httpOptions.baseUrl=n:t.httpOptions={baseUrl:n}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new fve(this.apiKey);this.apiClient=new sme({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:dve+"web",uploader:new lve,downloader:new Qge}),this.models=new Sme(this.apiClient),this.live=new xme(this.apiClient,i,new cve),this.batches=new Ode(this.apiClient),this.chats=new phe(this.models,this.apiClient),this.caches=new fhe(this.apiClient),this.files=new Ahe(this.apiClient),this.operations=new Ame(this.apiClient),this.authTokens=new zme(this.apiClient),this.tunings=new Zge(this.apiClient),this.fileSearchStores=new Jme(this.apiClient)}}const XB=async(e,t)=>{if(!e||!t)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=${t}`,a=await(await fetch(n)).json();if(a.status==="OK"&&a.results&&a.results.length>0){const s=a.results[0],o=s.geometry.location;return{lat:o.lat,lng:o.lng,formattedAddress:s.formatted_address,locationType:s.geometry.location_type,addressComponents:s.address_components}}else return console.warn(`Geocoding failed for address "${e}":`,a.status,a.error_message),null}catch(r){return console.error(`Geocoding fetch error for address "${e}":`,r),null}},L0=async(e,t,r)=>{if(!e||!t||!r)return null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&key=${r}`,a=await(await fetch(n)).json();return a.status==="OK"&&a.plus_code&&(a.plus_code.compound_code||a.plus_code.global_code)||null}catch(n){return console.error("Reverse geocoding error:",n),null}},GS=()=>localStorage.getItem("cnpja_api_key")||"b62178c8-c43b-4e46-a68f-5b1b054c11d6-30fbc130-a06a-4023-bac8-c6dbaefa8326",ZB="https://api.cnpja.com",z1=async e=>{const t=e.replace(/[^\d]/g,"");if(t.length!==14)throw new Error("CNPJ deve ter 14 dgitos.");try{const r=await fetch(`${ZB}/office/${t}?geocoding=true`,{headers:{Authorization:GS()}});if(!r.ok)throw r.status===404?new Error("CNPJ no encontrado."):r.status===401?new Error("Chave de API CNPJa invlida ou expirada."):new Error("Erro ao consultar CNPJa.");const n=await r.json(),i=n.address.street||"",a=n.address.number||"",s=n.address.district||"",o=n.address.city||"",c=n.address.state||"",u=n.address.type||"";return{cnpj:n.taxId,razao_social:n.company.name,nome_fantasia:n.alias||n.company.name,logradouro:u?`${u} ${i}`:i,numero:a,complemento:n.address.details,bairro:s,cep:n.address.zip,municipio:o,uf:c,ddd_telefone_1:n.phones?.[0]?`(${n.phones[0].area}) ${n.phones[0].number}`:void 0,cnae_fiscal:(n.mainActivity||n.main_activity)?.code?`${(n.mainActivity||n.main_activity).code} - ${(n.mainActivity||n.main_activity).text}`:(n.mainActivity||n.main_activity)?.text,cnae_descricao:(n.mainActivity||n.main_activity)?.text,cnaes_secundarios:(n.sideActivities||n.side_activities||n.secondary_activities)?.map(d=>({codigo:d.code,texto:d.text})),situacao_cadastral:n.registration?.status?.description||n.registration?.status,latitude:n.address.coordinates?.latitude||n.latitude,longitude:n.address.coordinates?.longitude||n.longitude}}catch(r){return console.error("Erro na consulta CNPJa Comercial:",r),pve(t)}},hve=async e=>{if(GS()==="SUA_CHAVE_AQUI")return console.warn("Chave de API CNPJa no configurada."),[];try{const r=new URLSearchParams({q:e.filtros,...e.uf&&{state:e.uf},limit:"10"}),n=await fetch(`${ZB}/office?${r}`,{headers:{Authorization:GS()}});return n.ok?(await n.json()).items||[]:[]}catch(r){return console.error("Erro na pesquisa por endereo:",r),[]}},pve=async e=>{try{const t=await fetch(`https://brasilapi.com.br/api/cnpj/v1/${e}`);if(!t.ok)return null;const r=await t.json();return{cnpj:r.cnpj,razao_social:r.razao_social,nome_fantasia:r.nome_fantasia,logradouro:r.logradouro,numero:r.numero,complemento:r.complemento,bairro:r.bairro,cep:r.cep,municipio:r.municipio,uf:r.uf,ddd_telefone_1:r.ddd_telefone_1,cnae_fiscal:r.cnae_fiscal?`${r.cnae_fiscal} - ${r.cnae_fiscal_descricao}`:r.cnae_fiscal_descricao,cnae_descricao:r.cnae_fiscal_descricao,cnaes_secundarios:r.cnaes_secundarios?.map(n=>({codigo:n.codigo,texto:n.descricao}))}}catch{return null}};class mve{value;next;constructor(t){this.value=t}}class gve{#e;#t;#r;constructor(){this.clear()}enqueue(t){const r=new mve(t);this.#e?(this.#t.next=r,this.#t=r):(this.#e=r,this.#t=r),this.#r++}dequeue(){const t=this.#e;if(t)return this.#e=this.#e.next,this.#r--,this.#e||(this.#t=void 0),t.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#r=0}get size(){return this.#r}*[Symbol.iterator](){let t=this.#e;for(;t;)yield t.value,t=t.next}*drain(){for(;this.#e;)yield this.dequeue()}}function QB(e){let t=!1;if(typeof e=="object"&&({concurrency:e,rejectOnClear:t=!1}=e),YD(e),typeof t!="boolean")throw new TypeError("Expected `rejectOnClear` to be a boolean");const r=new gve;let n=0;const i=()=>{n<e&&r.size>0&&(n++,r.dequeue().run())},a=()=>{n--,i()},s=async(u,d,p)=>{const m=(async()=>u(...p))();d(m);try{await m}catch{}a()},o=(u,d,p,m)=>{const y={reject:p};new Promise(_=>{y.run=_,r.enqueue(y)}).then(s.bind(void 0,u,d,m)),n<e&&i()},c=(u,...d)=>new Promise((p,m)=>{o(u,p,m,d)});return Object.defineProperties(c,{activeCount:{get:()=>n},pendingCount:{get:()=>r.size},clearQueue:{value(){if(!t){r.clear();return}const u=AbortSignal.abort().reason;for(;r.size>0;)r.dequeue().reject(u)}},concurrency:{get:()=>e,set(u){YD(u),e=u,queueMicrotask(()=>{for(;n<e&&r.size>0;)i()})}},map:{async value(u,d){const p=Array.from(u,(m,y)=>this(d,m,y));return Promise.all(p)}}}),c}function YD(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}var eV={};const qS=e=>new Promise(t=>setTimeout(t,e)),vve=e=>{const t=e.replace(/\D/g,"");if(t.length<5)return"Indefinido";const r=parseInt(t.substring(0,1)),n=parseInt(t.substring(0,2));return r===0||r===1||r===2||r===3?"Sudeste":r===8||r===9?"Sul":r===4||r===5?"Nordeste":r===6?n>=60&&n<=65?"Nordeste":"Norte":r===7?n===77||n===76?"Norte":"Centro-Oeste":"Indefinido"},tV=e=>{const t=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],r=["AC","AP","AM","PA","RO","RR","TO"],n=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],a=["PR","SC","RS"],s=e.toUpperCase().trim();return t.includes(s)?"Nordeste":r.includes(s)?"Norte":n.includes(s)?"Centro-Oeste":i.includes(s)?"Sudeste":a.includes(s)?"Sul":"Indefinido"},yve=e=>{let t="Desconhecido",r="BR",n="Indefinido";if(Array.isArray(e)){const i=e.find(s=>s.types.includes("administrative_area_level_1"));i&&(r=i.short_name);const a=e.find(s=>s.types.includes("administrative_area_level_2")||s.types.includes("locality"));a&&(t=a.long_name),n=tV(r)}return{city:t,state:r,region:n}},xve=async(e,t,r,n,i,a)=>{const s=new JB({apiKey:r||eV.API_KEY}),o=QB(3),c=e.length;let u=0;const d=i.map(_=>`"${_}"`).join(" | "),p=async(_,b)=>{if(!_)return u++,a&&a(u,c),null;const E=`${t}-${Date.now()}-${b}`;let A=null;if(_.cnpj&&_.cnpj.replace(/\D/g,"").length===14)try{A=await z1(_.cnpj)}catch(re){console.warn(`CNPJ enrichment failed for ${_.cnpj}`,re)}let L=_.address||"";!L&&(_.street||_.city)&&(L=[_.street,_.number,_.district,_.city,_.state,_.zip,_.country].filter(Boolean).join(", ")),A?.logradouro&&(L=`${A.logradouro}, ${A.numero}${A.complemento?` - ${A.complemento}`:""}, ${A.bairro}, ${A.municipio} - ${A.uf}`);const I=_U(L),O=A?.nome_fantasia||A?.razao_social||_.companyName||"Empresa Desconhecida",D=_.ownerName||"",M=A?.ddd_telefone_1||_.phone||"",N=I.match(/\d{5}[-]?\d{3}/),k=A?.cep||(N?N[0]:"");if(!I&&O==="Empresa Desconhecida")return u++,a&&a(u,c),null;const P=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${O}" localizada EXATAMENTE em "${I}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${d} | "Outros".

      IMPORTANTE: Use o endereo "${I}" como ncora principal para a busca.
      ${A?`DADO ADICIONAL: O CNPJ da empresa  ${A.cnpj}.`:""}
      ${_.city?`DADO LOCALIDADE: Cidade: ${_.city}${_.state?`, Estado: ${_.state}`:""}`:""}

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let U=0;const B=5;let F=null,H=!1,fe={},pe="";for(;!H&&U<=B;)try{const re=await s.models.generateContent({model:"gemini-2.0-flash",contents:P,config:{tools:[{googleMaps:{}}]}});let ue=re.text||"{}";ue=ue.replace(/```json/g,"").replace(/```/g,"").trim();try{fe=JSON.parse(ue)}catch{const xe=ue.match(/\{[\s\S]*\}/);if(xe)try{fe=JSON.parse(xe[0])}catch{}}const ce=re.candidates?.[0]?.groundingMetadata?.groundingChunks;if(ce&&Array.isArray(ce)){const ie=ce.find(xe=>xe.maps?.uri);ie&&(pe=ie.maps.uri)}H=!0}catch(re){const ue=re.status===429||re.code===429||re.message&&(re.message.includes("quota")||re.message.includes("429")),ce=re.status===503||re.code===503;if((ue||ce)&&U<B){U++;const ie=2e3*Math.pow(2,U);console.warn(`Retry ${U}/${B} for client ${b}`),await qS(ie)}else{console.error(`Failed to process client with AI ${b} (continuing to manual geocode)`,re);break}}try{let re=A?.latitude||_.latitude||(typeof fe.lat=="number"?fe.lat:0),ue=A?.longitude||_.longitude||(typeof fe.lng=="number"?fe.lng:0),ce=A?.logradouro?`${A.logradouro}, ${A.numero}, ${A.municipio} - ${A.uf}`:fe.cleanAddress||I,ie=A?.municipio||fe.city||"Desconhecido",xe=A?.uf||fe.state||"BR",J=(A?.uf?tV(A.uf):null)||fe.region||"Indefinido";const V=re!==0&&ue!==0;if(!V||ie==="Desconhecido"||xe==="BR"){const he=L||ce;if(he&&he.length>5&&n)try{const ye=await XB(he,n);if(ye){if(V||(re=ye.lat,ue=ye.lng),ye.addressComponents){const ke=yve(ye.addressComponents);ie=ke.city,xe=ke.state,J=ke.region}(!J||J==="Indefinido")&&k&&(J=vve(k)),ye.formattedAddress&&(ce=ye.formattedAddress)}}catch(ye){console.warn(`Geocoding failed for ${O}`,ye)}}const X=he=>Array.isArray(he)?he:typeof he=="string"?[he]:["Outros"];let q=M;fe.phone&&(q=q?`${q} | Maps: ${fe.phone}`:fe.phone),fe.website&&(q=q?`${q} | Site: ${fe.website}`:`Site: ${fe.website}`),F={id:E,salespersonId:t,companyName:O,ownerName:D,contact:q,originalAddress:L,cleanAddress:ce,cnpj:A?.cnpj||_.cnpj,mainCnae:A?.cnae_fiscal,secondaryCnaes:A?.cnaes_secundarios?.map(he=>`${he.codigo} - ${he.texto}`),category:X(fe.category),region:J,state:xe,city:ie,lat:re,lng:ue,whatsapp:_.whatsapp||fe.phone||"",plusCode:fe.plusCode||"",googleMapsUri:_.googleMapsLink||pe}}catch(re){console.error("Critical error in client finalization",re),F={id:E,salespersonId:t,companyName:O,ownerName:D,contact:M,originalAddress:L,cleanAddress:L,category:["Outros"],region:"Indefinido",state:"BR",city:"Erro Critico",lat:_.latitude||0,lng:_.longitude||0,whatsapp:_.whatsapp||"",googleMapsUri:_.googleMapsLink}}return u++,a&&a(u,c),await qS(500),F},m=e.map((_,b)=>o(()=>p(_,b)));return(await Promise.all(m)).filter(_=>_!==null)},_ve=async(e,t,r)=>{const n=new JB({apiKey:t||eV.API_KEY}),i=10,a=e.length;let s=0;const o=[...e];for(let c=0;c<a;c+=i){const u=e.slice(c,c+i),p=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${u.map(m=>`- ID: ${m.sku} | Nome: ${m.name} | Marca: ${m.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let y=(await n.models.generateContent({model:"gemini-2.5-flash",contents:p})).text||"[]";y=y.replace(/```json/g,"").replace(/```/g,"").trim();let _=[];try{_=JSON.parse(y)}catch{console.error("Failed to parse AI response",y);const E=y.match(/\[.*\]/s);if(E)try{_=JSON.parse(E[0])}catch{}}Array.isArray(_)&&_.forEach(b=>{const E=o.findIndex(A=>String(A.sku)===String(b.sku));E!==-1&&(o[E]={...o[E],category:b.category})})}catch(m){console.error("Batch classification failed",m)}s+=u.length,r&&r(s,a),await qS(1e3)}return o},bve=()=>{};var JD={};const rV=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},wve=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},nV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,d=a>>2,p=(a&3)<<4|o>>4;let m=(o&15)<<2|u>>6,y=u&63;c||(y=64,s||(m=64)),n.push(r[d],r[p],r[m],r[y])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rV(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wve(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const p=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||p==null)throw new Eve;const m=a<<2|o>>4;if(n.push(m),u!==64){const y=o<<4&240|u>>2;if(n.push(y),p!==64){const _=u<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Eve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tve=function(e){const t=rV(e);return nV.encodeByteArray(t,!0)},px=function(e){return Tve(e).replace(/\./g,"")},Sve=function(e){try{return nV.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ave(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Cve=()=>Ave().__FIREBASE_DEFAULTS__,Nve=()=>{if(typeof process>"u"||typeof JD>"u")return;const e=JD.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},kve=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Sve(e[1]);return t&&JSON.parse(t)},xC=()=>{try{return bve()||Cve()||Nve()||kve()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ive=e=>xC()?.emulatorHosts?.[e],Pve=e=>{const t=Ive(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},iV=()=>xC()?.config;class Rve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function Rm(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aV(e){return(await fetch(e,{credentials:"include"})).ok}function Ove(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[px(JSON.stringify(r)),px(JSON.stringify(s)),""].join(".")}const Ap={};function Mve(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ap))Ap[t]?e.emulator.push(t):e.prod.push(t);return e}function Dve(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let XD=!1;function Lve(e,t){if(typeof window>"u"||typeof document>"u"||!Rm(window.location.host)||Ap[e]===t||Ap[e]||XD)return;Ap[e]=t;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",a=Mve().prod.length>0;function s(){const m=document.getElementById(n);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{XD=!0,s()},m}function d(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Dve(n),y=r("text"),_=document.getElementById(y)||document.createElement("span"),b=r("learnmore"),E=document.getElementById(b)||document.createElement("a"),A=r("preprendIcon"),L=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;o(I),d(E,b);const O=u();c(L,A),I.append(L,_,E,O),document.body.appendChild(I)}a?(_.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Fve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jve(){const e=xC()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uve(){return!jve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bve(){try{return typeof indexedDB=="object"}catch{return!1}}function Vve(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(r){t(r)}})}const zve="FirebaseError";class Pf extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=zve,Object.setPrototypeOf(this,Pf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sV.prototype.create)}}class sV{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?$ve(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Pf(i,o,n)}}function $ve(e,t){return e.replace(Hve,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const Hve=/\{\$([^}]+)}/g;function mx(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(ZD(a)&&ZD(s)){if(!mx(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function ZD(e){return e!==null&&typeof e=="object"}function Gc(e){return e&&e._delegate?e._delegate:e}class sh{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Lu="[DEFAULT]";let Gve=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new Rve;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kve(t))try{this.getOrInitializeService({instanceIdentifier:Lu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Lu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lu){return this.instances.has(t)}getOptions(t=Lu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:qve(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Lu){return this.component?this.component.multipleInstances?t:Lu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qve(e){return e===Lu?void 0:e}function Kve(e){return e.instantiationMode==="EAGER"}class Wve{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Gve(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var ir;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ir||(ir={}));const Yve={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},Jve=ir.INFO,Xve={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},Zve=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=Xve[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class oV{constructor(t){this.name=t,this._logLevel=Jve,this._logHandler=Zve,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ir))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Yve[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...t),this._logHandler(this,ir.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...t),this._logHandler(this,ir.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...t),this._logHandler(this,ir.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...t),this._logHandler(this,ir.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...t),this._logHandler(this,ir.ERROR,...t)}}const Qve=(e,t)=>t.some(r=>e instanceof r);let QD,e3;function eye(){return QD||(QD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tye(){return e3||(e3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lV=new WeakMap,KS=new WeakMap,cV=new WeakMap,uE=new WeakMap,_C=new WeakMap;function rye(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(Lc(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&lV.set(r,e)}).catch(()=>{}),_C.set(t,e),t}function nye(e){if(KS.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});KS.set(e,t)}let WS={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return KS.get(e);if(t==="objectStoreNames")return e.objectStoreNames||cV.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Lc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function iye(e){WS=e(WS)}function aye(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(fE(this),t,...r);return cV.set(n,t.sort?t.sort():[t]),Lc(n)}:tye().includes(e)?function(...t){return e.apply(fE(this),t),Lc(lV.get(this))}:function(...t){return Lc(e.apply(fE(this),t))}}function sye(e){return typeof e=="function"?aye(e):(e instanceof IDBTransaction&&nye(e),Qve(e,eye())?new Proxy(e,WS):e)}function Lc(e){if(e instanceof IDBRequest)return rye(e);if(uE.has(e))return uE.get(e);const t=sye(e);return t!==e&&(uE.set(e,t),_C.set(t,e)),t}const fE=e=>_C.get(e);function oye(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Lc(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Lc(s.result),c.oldVersion,c.newVersion,Lc(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const lye=["get","getKey","getAll","getAllKeys","count"],cye=["put","add","delete","clear"],dE=new Map;function t3(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(dE.get(t))return dE.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=cye.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||lye.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return dE.set(t,a),a}iye(e=>({...e,get:(t,r,n)=>t3(t,r)||e.get(t,r,n),has:(t,r)=>!!t3(t,r)||e.has(t,r)}));class uye{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(fye(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function fye(e){return e.getComponent()?.type==="VERSION"}const YS="@firebase/app",r3="0.14.8";const Cl=new oV("@firebase/app"),dye="@firebase/app-compat",hye="@firebase/analytics-compat",pye="@firebase/analytics",mye="@firebase/app-check-compat",gye="@firebase/app-check",vye="@firebase/auth",yye="@firebase/auth-compat",xye="@firebase/database",_ye="@firebase/data-connect",bye="@firebase/database-compat",wye="@firebase/functions",Eye="@firebase/functions-compat",Tye="@firebase/installations",Sye="@firebase/installations-compat",Aye="@firebase/messaging",Cye="@firebase/messaging-compat",Nye="@firebase/performance",kye="@firebase/performance-compat",Iye="@firebase/remote-config",Pye="@firebase/remote-config-compat",Rye="@firebase/storage",Oye="@firebase/storage-compat",Mye="@firebase/firestore",Dye="@firebase/ai",Lye="@firebase/firestore-compat",Fye="firebase",jye="12.9.0";const JS="[DEFAULT]",Uye={[YS]:"fire-core",[dye]:"fire-core-compat",[pye]:"fire-analytics",[hye]:"fire-analytics-compat",[gye]:"fire-app-check",[mye]:"fire-app-check-compat",[vye]:"fire-auth",[yye]:"fire-auth-compat",[xye]:"fire-rtdb",[_ye]:"fire-data-connect",[bye]:"fire-rtdb-compat",[wye]:"fire-fn",[Eye]:"fire-fn-compat",[Tye]:"fire-iid",[Sye]:"fire-iid-compat",[Aye]:"fire-fcm",[Cye]:"fire-fcm-compat",[Nye]:"fire-perf",[kye]:"fire-perf-compat",[Iye]:"fire-rc",[Pye]:"fire-rc-compat",[Rye]:"fire-gcs",[Oye]:"fire-gcs-compat",[Mye]:"fire-fst",[Lye]:"fire-fst-compat",[Dye]:"fire-vertex","fire-js":"fire-js",[Fye]:"fire-js-all"};const Zp=new Map,Bye=new Map,XS=new Map;function n3(e,t){try{e.container.addComponent(t)}catch(r){Cl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Qp(e){const t=e.name;if(XS.has(t))return Cl.debug(`There were multiple attempts to register component ${t}.`),!1;XS.set(t,e);for(const r of Zp.values())n3(r,e);for(const r of Bye.values())n3(r,e);return!0}function uV(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function fV(e){return e==null?!1:e.settings!==void 0}const Vye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fc=new sV("app","Firebase",Vye);class zye{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fc.create("app-deleted",{appName:this._name})}}const dV=jye;function hV(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:JS,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw Fc.create("bad-app-name",{appName:String(i)});if(r||(r=iV()),!r)throw Fc.create("no-options");const a=Zp.get(i);if(a){if(mx(r,a.options)&&mx(n,a.config))return a;throw Fc.create("duplicate-app",{appName:i})}const s=new Wve(i);for(const c of XS.values())s.addComponent(c);const o=new zye(r,n,s);return Zp.set(i,o),o}function pV(e=JS){const t=Zp.get(e);if(!t&&e===JS&&iV())return hV();if(!t)throw Fc.create("no-app",{appName:e});return t}function $ye(){return Array.from(Zp.values())}function jc(e,t,r){let n=Uye[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cl.warn(s.join(" "));return}Qp(new sh(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const Hye="firebase-heartbeat-database",Gye=1,em="firebase-heartbeat-store";let hE=null;function mV(){return hE||(hE=oye(Hye,Gye,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(em)}catch(r){console.warn(r)}}}}).catch(e=>{throw Fc.create("idb-open",{originalErrorMessage:e.message})})),hE}async function qye(e){try{const r=(await mV()).transaction(em),n=await r.objectStore(em).get(gV(e));return await r.done,n}catch(t){if(t instanceof Pf)Cl.warn(t.message);else{const r=Fc.create("idb-get",{originalErrorMessage:t?.message});Cl.warn(r.message)}}}async function i3(e,t){try{const n=(await mV()).transaction(em,"readwrite");await n.objectStore(em).put(t,gV(e)),await n.done}catch(r){if(r instanceof Pf)Cl.warn(r.message);else{const n=Fc.create("idb-set",{originalErrorMessage:r?.message});Cl.warn(n.message)}}}function gV(e){return`${e.name}!${e.options.appId}`}const Kye=1024,Wye=30;class Yye{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Xye(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=a3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>Wye){const i=Zye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Cl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=a3(),{heartbeatsToSend:r,unsentEntries:n}=Jye(this._heartbeatsCache.heartbeats),i=px(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Cl.warn(t),""}}}function a3(){return new Date().toISOString().substring(0,10)}function Jye(e,t=Kye){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),s3(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),s3(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Xye{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bve()?Vve().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await qye(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return i3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return i3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function s3(e){return px(JSON.stringify({version:2,heartbeats:e})).length}function Zye(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}function Qye(e){Qp(new sh("platform-logger",t=>new uye(t),"PRIVATE")),Qp(new sh("heartbeat",t=>new Yye(t),"PRIVATE")),jc(YS,r3,e),jc(YS,r3,"esm2020"),jc("fire-js","")}Qye("");var exe="firebase",txe="12.9.0";jc(exe,txe,"app");var o3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Uc,vV;(function(){var e;function t(N,k){function P(){}P.prototype=k.prototype,N.F=k.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(U,B,F){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return k.prototype[B].apply(U,H)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,P){P||(P=0);const U=Array(16);if(typeof k=="string")for(var B=0;B<16;++B)U[B]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(B=0;B<16;++B)U[B]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=N.g[0],P=N.g[1],B=N.g[2];let F=N.g[3],H;H=k+(F^P&(B^F))+U[0]+3614090360&4294967295,k=P+(H<<7&4294967295|H>>>25),H=F+(B^k&(P^B))+U[1]+3905402710&4294967295,F=k+(H<<12&4294967295|H>>>20),H=B+(P^F&(k^P))+U[2]+606105819&4294967295,B=F+(H<<17&4294967295|H>>>15),H=P+(k^B&(F^k))+U[3]+3250441966&4294967295,P=B+(H<<22&4294967295|H>>>10),H=k+(F^P&(B^F))+U[4]+4118548399&4294967295,k=P+(H<<7&4294967295|H>>>25),H=F+(B^k&(P^B))+U[5]+1200080426&4294967295,F=k+(H<<12&4294967295|H>>>20),H=B+(P^F&(k^P))+U[6]+2821735955&4294967295,B=F+(H<<17&4294967295|H>>>15),H=P+(k^B&(F^k))+U[7]+4249261313&4294967295,P=B+(H<<22&4294967295|H>>>10),H=k+(F^P&(B^F))+U[8]+1770035416&4294967295,k=P+(H<<7&4294967295|H>>>25),H=F+(B^k&(P^B))+U[9]+2336552879&4294967295,F=k+(H<<12&4294967295|H>>>20),H=B+(P^F&(k^P))+U[10]+4294925233&4294967295,B=F+(H<<17&4294967295|H>>>15),H=P+(k^B&(F^k))+U[11]+2304563134&4294967295,P=B+(H<<22&4294967295|H>>>10),H=k+(F^P&(B^F))+U[12]+1804603682&4294967295,k=P+(H<<7&4294967295|H>>>25),H=F+(B^k&(P^B))+U[13]+4254626195&4294967295,F=k+(H<<12&4294967295|H>>>20),H=B+(P^F&(k^P))+U[14]+2792965006&4294967295,B=F+(H<<17&4294967295|H>>>15),H=P+(k^B&(F^k))+U[15]+1236535329&4294967295,P=B+(H<<22&4294967295|H>>>10),H=k+(B^F&(P^B))+U[1]+4129170786&4294967295,k=P+(H<<5&4294967295|H>>>27),H=F+(P^B&(k^P))+U[6]+3225465664&4294967295,F=k+(H<<9&4294967295|H>>>23),H=B+(k^P&(F^k))+U[11]+643717713&4294967295,B=F+(H<<14&4294967295|H>>>18),H=P+(F^k&(B^F))+U[0]+3921069994&4294967295,P=B+(H<<20&4294967295|H>>>12),H=k+(B^F&(P^B))+U[5]+3593408605&4294967295,k=P+(H<<5&4294967295|H>>>27),H=F+(P^B&(k^P))+U[10]+38016083&4294967295,F=k+(H<<9&4294967295|H>>>23),H=B+(k^P&(F^k))+U[15]+3634488961&4294967295,B=F+(H<<14&4294967295|H>>>18),H=P+(F^k&(B^F))+U[4]+3889429448&4294967295,P=B+(H<<20&4294967295|H>>>12),H=k+(B^F&(P^B))+U[9]+568446438&4294967295,k=P+(H<<5&4294967295|H>>>27),H=F+(P^B&(k^P))+U[14]+3275163606&4294967295,F=k+(H<<9&4294967295|H>>>23),H=B+(k^P&(F^k))+U[3]+4107603335&4294967295,B=F+(H<<14&4294967295|H>>>18),H=P+(F^k&(B^F))+U[8]+1163531501&4294967295,P=B+(H<<20&4294967295|H>>>12),H=k+(B^F&(P^B))+U[13]+2850285829&4294967295,k=P+(H<<5&4294967295|H>>>27),H=F+(P^B&(k^P))+U[2]+4243563512&4294967295,F=k+(H<<9&4294967295|H>>>23),H=B+(k^P&(F^k))+U[7]+1735328473&4294967295,B=F+(H<<14&4294967295|H>>>18),H=P+(F^k&(B^F))+U[12]+2368359562&4294967295,P=B+(H<<20&4294967295|H>>>12),H=k+(P^B^F)+U[5]+4294588738&4294967295,k=P+(H<<4&4294967295|H>>>28),H=F+(k^P^B)+U[8]+2272392833&4294967295,F=k+(H<<11&4294967295|H>>>21),H=B+(F^k^P)+U[11]+1839030562&4294967295,B=F+(H<<16&4294967295|H>>>16),H=P+(B^F^k)+U[14]+4259657740&4294967295,P=B+(H<<23&4294967295|H>>>9),H=k+(P^B^F)+U[1]+2763975236&4294967295,k=P+(H<<4&4294967295|H>>>28),H=F+(k^P^B)+U[4]+1272893353&4294967295,F=k+(H<<11&4294967295|H>>>21),H=B+(F^k^P)+U[7]+4139469664&4294967295,B=F+(H<<16&4294967295|H>>>16),H=P+(B^F^k)+U[10]+3200236656&4294967295,P=B+(H<<23&4294967295|H>>>9),H=k+(P^B^F)+U[13]+681279174&4294967295,k=P+(H<<4&4294967295|H>>>28),H=F+(k^P^B)+U[0]+3936430074&4294967295,F=k+(H<<11&4294967295|H>>>21),H=B+(F^k^P)+U[3]+3572445317&4294967295,B=F+(H<<16&4294967295|H>>>16),H=P+(B^F^k)+U[6]+76029189&4294967295,P=B+(H<<23&4294967295|H>>>9),H=k+(P^B^F)+U[9]+3654602809&4294967295,k=P+(H<<4&4294967295|H>>>28),H=F+(k^P^B)+U[12]+3873151461&4294967295,F=k+(H<<11&4294967295|H>>>21),H=B+(F^k^P)+U[15]+530742520&4294967295,B=F+(H<<16&4294967295|H>>>16),H=P+(B^F^k)+U[2]+3299628645&4294967295,P=B+(H<<23&4294967295|H>>>9),H=k+(B^(P|~F))+U[0]+4096336452&4294967295,k=P+(H<<6&4294967295|H>>>26),H=F+(P^(k|~B))+U[7]+1126891415&4294967295,F=k+(H<<10&4294967295|H>>>22),H=B+(k^(F|~P))+U[14]+2878612391&4294967295,B=F+(H<<15&4294967295|H>>>17),H=P+(F^(B|~k))+U[5]+4237533241&4294967295,P=B+(H<<21&4294967295|H>>>11),H=k+(B^(P|~F))+U[12]+1700485571&4294967295,k=P+(H<<6&4294967295|H>>>26),H=F+(P^(k|~B))+U[3]+2399980690&4294967295,F=k+(H<<10&4294967295|H>>>22),H=B+(k^(F|~P))+U[10]+4293915773&4294967295,B=F+(H<<15&4294967295|H>>>17),H=P+(F^(B|~k))+U[1]+2240044497&4294967295,P=B+(H<<21&4294967295|H>>>11),H=k+(B^(P|~F))+U[8]+1873313359&4294967295,k=P+(H<<6&4294967295|H>>>26),H=F+(P^(k|~B))+U[15]+4264355552&4294967295,F=k+(H<<10&4294967295|H>>>22),H=B+(k^(F|~P))+U[6]+2734768916&4294967295,B=F+(H<<15&4294967295|H>>>17),H=P+(F^(B|~k))+U[13]+1309151649&4294967295,P=B+(H<<21&4294967295|H>>>11),H=k+(B^(P|~F))+U[4]+4149444226&4294967295,k=P+(H<<6&4294967295|H>>>26),H=F+(P^(k|~B))+U[11]+3174756917&4294967295,F=k+(H<<10&4294967295|H>>>22),H=B+(k^(F|~P))+U[2]+718787259&4294967295,B=F+(H<<15&4294967295|H>>>17),H=P+(F^(B|~k))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(B+(H<<21&4294967295|H>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+F&4294967295}n.prototype.v=function(N,k){k===void 0&&(k=N.length);const P=k-this.blockSize,U=this.C;let B=this.h,F=0;for(;F<k;){if(B==0)for(;F<=P;)i(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<k;)if(U[B++]=N.charCodeAt(F++),B==this.blockSize){i(this,U),B=0;break}}else for(;F<k;)if(U[B++]=N[F++],B==this.blockSize){i(this,U),B=0;break}}this.h=B,this.o+=k},n.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;k=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=k&255,k/=256;for(this.v(N),N=Array(16),k=0,P=0;P<4;++P)for(let U=0;U<32;U+=8)N[k++]=this.g[P]>>>U&255;return N};function a(N,k){var P=o;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=k(N)}function s(N,k){this.h=k;const P=[];let U=!0;for(let B=N.length-1;B>=0;B--){const F=N[B]|0;U&&F==k||(P[B]=F,U=!1)}this.g=P}var o={};function c(N){return-128<=N&&N<128?a(N,function(k){return new s([k|0],k<0?-1:0)}):new s([N|0],N<0?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return E(u(-N));const k=[];let P=1;for(let U=0;N>=P;U++)k[U]=N/P|0,P*=4294967296;return new s(k,0)}function d(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return E(d(N.substring(1),k));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(k,8));let U=p;for(let F=0;F<N.length;F+=8){var B=Math.min(8,N.length-F);const H=parseInt(N.substring(F,F+B),k);B<8?(B=u(Math.pow(k,B)),U=U.j(B).add(u(H))):(U=U.j(P),U=U.add(u(H)))}return U}var p=c(0),m=c(1),y=c(16777216);e=s.prototype,e.m=function(){if(b(this))return-E(this).m();let N=0,k=1;for(let P=0;P<this.g.length;P++){const U=this.i(P);N+=(U>=0?U:4294967296+U)*k,k*=4294967296}return N},e.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(_(this))return"0";if(b(this))return"-"+E(this).toString(N);const k=u(Math.pow(N,6));var P=this;let U="";for(;;){const B=O(P,k).g;P=A(P,B.j(k));let F=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=B,_(P))return F+U;for(;F.length<6;)F="0"+F;U=F+U}},e.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function _(N){if(N.h!=0)return!1;for(let k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function b(N){return N.h==-1}e.l=function(N){return N=A(this,N),b(N)?-1:_(N)?0:1};function E(N){const k=N.g.length,P=[];for(let U=0;U<k;U++)P[U]=~N.g[U];return new s(P,~N.h).add(m)}e.abs=function(){return b(this)?E(this):this},e.add=function(N){const k=Math.max(this.g.length,N.g.length),P=[];let U=0;for(let B=0;B<=k;B++){let F=U+(this.i(B)&65535)+(N.i(B)&65535),H=(F>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);U=H>>>16,F&=65535,H&=65535,P[B]=H<<16|F}return new s(P,P[P.length-1]&-2147483648?-1:0)};function A(N,k){return N.add(E(k))}e.j=function(N){if(_(this)||_(N))return p;if(b(this))return b(N)?E(this).j(E(N)):E(E(this).j(N));if(b(N))return E(this.j(E(N)));if(this.l(y)<0&&N.l(y)<0)return u(this.m()*N.m());const k=this.g.length+N.g.length,P=[];for(var U=0;U<2*k;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(let B=0;B<N.g.length;B++){const F=this.i(U)>>>16,H=this.i(U)&65535,fe=N.i(B)>>>16,pe=N.i(B)&65535;P[2*U+2*B]+=H*pe,L(P,2*U+2*B),P[2*U+2*B+1]+=F*pe,L(P,2*U+2*B+1),P[2*U+2*B+1]+=H*fe,L(P,2*U+2*B+1),P[2*U+2*B+2]+=F*fe,L(P,2*U+2*B+2)}for(N=0;N<k;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=k;N<2*k;N++)P[N]=0;return new s(P,0)};function L(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function I(N,k){this.g=N,this.h=k}function O(N,k){if(_(k))throw Error("division by zero");if(_(N))return new I(p,p);if(b(N))return k=O(E(N),k),new I(E(k.g),E(k.h));if(b(k))return k=O(N,E(k)),new I(E(k.g),k.h);if(N.g.length>30){if(b(N)||b(k))throw Error("slowDivide_ only works with positive integers.");for(var P=m,U=k;U.l(N)<=0;)P=D(P),U=D(U);var B=M(P,1),F=M(U,1);for(U=M(U,2),P=M(P,2);!_(U);){var H=F.add(U);H.l(N)<=0&&(B=B.add(P),F=H),U=M(U,1),P=M(P,1)}return k=A(N,B.j(k)),new I(B,k)}for(B=p;N.l(k)>=0;){for(P=Math.max(1,Math.floor(N.m()/k.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),F=u(P),H=F.j(k);b(H)||H.l(N)>0;)P-=U,F=u(P),H=F.j(k);_(F)&&(F=m),B=B.add(F),N=A(N,H)}return new I(B,N)}e.B=function(N){return O(this,N).h},e.and=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let U=0;U<k;U++)P[U]=this.i(U)&N.i(U);return new s(P,this.h&N.h)},e.or=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let U=0;U<k;U++)P[U]=this.i(U)|N.i(U);return new s(P,this.h|N.h)},e.xor=function(N){const k=Math.max(this.g.length,N.g.length),P=[];for(let U=0;U<k;U++)P[U]=this.i(U)^N.i(U);return new s(P,this.h^N.h)};function D(N){const k=N.g.length+1,P=[];for(let U=0;U<k;U++)P[U]=N.i(U)<<1|N.i(U-1)>>>31;return new s(P,N.h)}function M(N,k){const P=k>>5;k%=32;const U=N.g.length-P,B=[];for(let F=0;F<U;F++)B[F]=k>0?N.i(F+P)>>>k|N.i(F+P+1)<<32-k:N.i(F+P);return new s(B,N.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,vV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Uc=s}).apply(typeof o3<"u"?o3:typeof self<"u"?self:typeof window<"u"?window:{});var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yV,op,xV,xy,ZS,_V,bV,wV;(function(){var e,t=Object.defineProperty;function r(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bv=="object"&&Bv];for(var j=0;j<T.length;++j){var G=T[j];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function i(T,j){if(j)e:{var G=n;T=T.split(".");for(var Q=0;Q<T.length-1;Q++){var _e=T[Q];if(!(_e in G))break e;G=G[_e]}T=T[T.length-1],Q=G[T],j=j(Q),j!=Q&&j!=null&&t(G,T,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(T){return T||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(T){return T||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(T){return T||function(j){var G=[],Q;for(Q in j)Object.prototype.hasOwnProperty.call(j,Q)&&G.push([Q,j[Q]]);return G}});var a=a||{},s=this||self;function o(T){var j=typeof T;return j=="object"&&T!=null||j=="function"}function c(T,j,G){return T.call.apply(T.bind,arguments)}function u(T,j,G){return u=c,u.apply(null,arguments)}function d(T,j){var G=Array.prototype.slice.call(arguments,1);return function(){var Q=G.slice();return Q.push.apply(Q,arguments),T.apply(this,Q)}}function p(T,j){function G(){}G.prototype=j.prototype,T.Z=j.prototype,T.prototype=new G,T.prototype.constructor=T,T.Ob=function(Q,_e,Ie){for(var Ze=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)Ze[Lt-2]=arguments[Lt];return j.prototype[_e].apply(Q,Ze)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?T=>T&&AsyncContext.Snapshot.wrap(T):T=>T;function y(T){const j=T.length;if(j>0){const G=Array(j);for(let Q=0;Q<j;Q++)G[Q]=T[Q];return G}return[]}function _(T,j){for(let Q=1;Q<arguments.length;Q++){const _e=arguments[Q];var G=typeof _e;if(G=G!="object"?G:_e?Array.isArray(_e)?"array":G:"null",G=="array"||G=="object"&&typeof _e.length=="number"){G=T.length||0;const Ie=_e.length||0;T.length=G+Ie;for(let Ze=0;Ze<Ie;Ze++)T[G+Ze]=_e[Ze]}else T.push(_e)}}class b{constructor(j,G){this.i=j,this.j=G,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function E(T){s.setTimeout(()=>{throw T},0)}function A(){var T=N;let j=null;return T.g&&(j=T.g,T.g=T.g.next,T.g||(T.h=null),j.next=null),j}class L{constructor(){this.h=this.g=null}add(j,G){const Q=I.get();Q.set(j,G),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var I=new b(()=>new O,T=>T.reset());class O{constructor(){this.next=this.g=this.h=null}set(j,G){this.h=j,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,N=new L,k=()=>{const T=Promise.resolve(void 0);D=()=>{T.then(P)}};function P(){for(var T;T=A();){try{T.h.call(T.g)}catch(G){E(G)}var j=I;j.j(T),j.h<100&&(j.h++,T.next=j.g,j.g=T)}M=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(T,j){this.type=T,this.g=this.target=j,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var T=!1,j=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const G=()=>{};s.addEventListener("test",G,j),s.removeEventListener("test",G,j)}catch{}return T})();function H(T){return/^[\s\xa0]*$/.test(T)}function fe(T,j){B.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T&&this.init(T,j)}p(fe,B),fe.prototype.init=function(T,j){const G=this.type=T.type,Q=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;this.target=T.target||T.srcElement,this.g=j,j=T.relatedTarget,j||(G=="mouseover"?j=T.fromElement:G=="mouseout"&&(j=T.toElement)),this.relatedTarget=j,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=T.pointerType,this.state=T.state,this.i=T,T.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),re=0;function ue(T,j,G,Q,_e){this.listener=T,this.proxy=null,this.src=j,this.type=G,this.capture=!!Q,this.ha=_e,this.key=++re,this.da=this.fa=!1}function ce(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function ie(T,j,G){for(const Q in T)j.call(G,T[Q],Q,T)}function xe(T,j){for(const G in T)j.call(void 0,T[G],G,T)}function J(T){const j={};for(const G in T)j[G]=T[G];return j}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(T,j){let G,Q;for(let _e=1;_e<arguments.length;_e++){Q=arguments[_e];for(G in Q)T[G]=Q[G];for(let Ie=0;Ie<V.length;Ie++)G=V[Ie],Object.prototype.hasOwnProperty.call(Q,G)&&(T[G]=Q[G])}}function X(T){this.src=T,this.g={},this.h=0}X.prototype.add=function(T,j,G,Q,_e){const Ie=T.toString();T=this.g[Ie],T||(T=this.g[Ie]=[],this.h++);const Ze=he(T,j,Q,_e);return Ze>-1?(j=T[Ze],G||(j.fa=!1)):(j=new ue(j,this.src,Ie,!!Q,_e),j.fa=G,T.push(j)),j};function q(T,j){const G=j.type;if(G in T.g){var Q=T.g[G],_e=Array.prototype.indexOf.call(Q,j,void 0),Ie;(Ie=_e>=0)&&Array.prototype.splice.call(Q,_e,1),Ie&&(ce(j),T.g[G].length==0&&(delete T.g[G],T.h--))}}function he(T,j,G,Q){for(let _e=0;_e<T.length;++_e){const Ie=T[_e];if(!Ie.da&&Ie.listener==j&&Ie.capture==!!G&&Ie.ha==Q)return _e}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),ke={};function le(T,j,G,Q,_e){if(Array.isArray(j)){for(let Ie=0;Ie<j.length;Ie++)le(T,j[Ie],G,Q,_e);return null}return G=Je(G),T&&T[pe]?T.J(j,G,o(Q)?!!Q.capture:!1,_e):ge(T,j,G,!1,Q,_e)}function ge(T,j,G,Q,_e,Ie){if(!j)throw Error("Invalid event type");const Ze=o(_e)?!!_e.capture:!!_e;let Lt=Ve(T);if(Lt||(T[ye]=Lt=new X(T)),G=Lt.add(j,G,Q,Ze,Ie),G.proxy)return G;if(Q=De(),G.proxy=Q,Q.src=T,Q.listener=G,T.addEventListener)F||(_e=Ze),_e===void 0&&(_e=!1),T.addEventListener(j.toString(),Q,_e);else if(T.attachEvent)T.attachEvent(je(j.toString()),Q);else if(T.addListener&&T.removeListener)T.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return G}function De(){function T(G){return j.call(T.src,T.listener,G)}const j=Ke;return T}function K(T,j,G,Q,_e){if(Array.isArray(j))for(var Ie=0;Ie<j.length;Ie++)K(T,j[Ie],G,Q,_e);else Q=o(Q)?!!Q.capture:!!Q,G=Je(G),T&&T[pe]?(T=T.i,Ie=String(j).toString(),Ie in T.g&&(j=T.g[Ie],G=he(j,G,Q,_e),G>-1&&(ce(j[G]),Array.prototype.splice.call(j,G,1),j.length==0&&(delete T.g[Ie],T.h--)))):T&&(T=Ve(T))&&(j=T.g[j.toString()],T=-1,j&&(T=he(j,G,Q,_e)),(G=T>-1?j[T]:null)&&Ye(G))}function Ye(T){if(typeof T!="number"&&T&&!T.da){var j=T.src;if(j&&j[pe])q(j.i,T);else{var G=T.type,Q=T.proxy;j.removeEventListener?j.removeEventListener(G,Q,T.capture):j.detachEvent?j.detachEvent(je(G),Q):j.addListener&&j.removeListener&&j.removeListener(Q),(G=Ve(j))?(q(G,T),G.h==0&&(G.src=null,j[ye]=null)):ce(T)}}}function je(T){return T in ke?ke[T]:ke[T]="on"+T}function Ke(T,j){if(T.da)T=!0;else{j=new fe(j,this);const G=T.listener,Q=T.ha||T.src;T.fa&&Ye(T),T=G.call(Q,j)}return T}function Ve(T){return T=T[ye],T instanceof X?T:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function Je(T){return typeof T=="function"?T:(T[Le]||(T[Le]=function(j){return T.handleEvent(j)}),T[Le])}function tt(){U.call(this),this.i=new X(this),this.M=this,this.G=null}p(tt,U),tt.prototype[pe]=!0,tt.prototype.removeEventListener=function(T,j,G,Q){K(this,T,j,G,Q)};function ht(T,j){var G,Q=T.G;if(Q)for(G=[];Q;Q=Q.G)G.push(Q);if(T=T.M,Q=j.type||j,typeof j=="string")j=new B(j,T);else if(j instanceof B)j.target=j.target||T;else{var _e=j;j=new B(Q,T),ee(j,_e)}_e=!0;let Ie,Ze;if(G)for(Ze=G.length-1;Ze>=0;Ze--)Ie=j.g=G[Ze],_e=at(Ie,Q,!0,j)&&_e;if(Ie=j.g=T,_e=at(Ie,Q,!0,j)&&_e,_e=at(Ie,Q,!1,j)&&_e,G)for(Ze=0;Ze<G.length;Ze++)Ie=j.g=G[Ze],_e=at(Ie,Q,!1,j)&&_e}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var T=this.i;for(const j in T.g){const G=T.g[j];for(let Q=0;Q<G.length;Q++)ce(G[Q]);delete T.g[j],T.h--}}this.G=null},tt.prototype.J=function(T,j,G,Q){return this.i.add(String(T),j,!1,G,Q)},tt.prototype.K=function(T,j,G,Q){return this.i.add(String(T),j,!0,G,Q)};function at(T,j,G,Q){if(j=T.i.g[String(j)],!j)return!0;j=j.concat();let _e=!0;for(let Ie=0;Ie<j.length;++Ie){const Ze=j[Ie];if(Ze&&!Ze.da&&Ze.capture==G){const Lt=Ze.listener,wn=Ze.ha||Ze.src;Ze.fa&&q(T.i,Ze),_e=Lt.call(wn,Q)!==!1&&_e}}return _e&&!Q.defaultPrevented}function At(T,j){if(typeof T!="function")if(T&&typeof T.handleEvent=="function")T=u(T.handleEvent,T);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:s.setTimeout(T,j||0)}function Br(T){T.g=At(()=>{T.g=null,T.i&&(T.i=!1,Br(T))},T.l);const j=T.h;T.h=null,T.m.apply(null,j)}class wt extends U{constructor(j,G){super(),this.m=j,this.l=G,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(T){U.call(this),this.h=T,this.g={}}p($t,U);var Zt=[];function Ir(T){ie(T.g,function(j,G){this.g.hasOwnProperty(G)&&Ye(j)},T),T.g={}}$t.prototype.N=function(){$t.Z.N.call(this),Ir(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=s.JSON.stringify,Et=s.JSON.parse,xt=class{stringify(T){return s.JSON.stringify(T,void 0)}parse(T){return s.JSON.parse(T,void 0)}};function rr(){}function xr(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wr(){B.call(this,"d")}p(wr,B);function gi(){B.call(this,"c")}p(gi,B);var Vr={},cu=null;function co(){return cu=cu||new tt}Vr.Ia="serverreachability";function qo(T){B.call(this,Vr.Ia,T)}p(qo,B);function vi(T){const j=co();ht(j,new qo(j))}Vr.STAT_EVENT="statevent";function Rs(T,j){B.call(this,Vr.STAT_EVENT,T),this.stat=j}p(Rs,B);function Fr(T){const j=co();ht(j,new Rs(j,T))}Vr.Ja="timingevent";function yi(T,j){B.call(this,Vr.Ja,T),this.size=j}p(yi,B);function In(T,j){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){T()},j)}function xi(){this.g=!0}xi.prototype.ua=function(){this.g=!1};function ma(T,j,G,Q,_e,Ie){T.info(function(){if(T.g)if(Ie){var Ze="",Lt=Ie.split("&");for(let vr=0;vr<Lt.length;vr++){var wn=Lt[vr].split("=");if(wn.length>1){const Jr=wn[0];wn=wn[1];const rs=Jr.split("_");Ze=rs.length>=2&&rs[1]=="type"?Ze+(Jr+"="+wn+"&"):Ze+(Jr+"=redacted&")}}}else Ze=null;else Ze=Ie;return"XMLHTTP REQ ("+Q+") [attempt "+_e+"]: "+j+`
`+G+`
`+Ze})}function Za(T,j,G,Q,_e,Ie,Ze){T.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+_e+"]: "+j+`
`+G+`
`+Ie+" "+Ze})}function _n(T,j,G,Q){T.info(function(){return"XMLHTTP TEXT ("+j+"): "+Bf(T,G)+(Q?" "+Q:"")})}function _i(T,j){T.info(function(){return"TIMEOUT: "+j})}xi.prototype.info=function(){};function Bf(T,j){if(!T.g)return j;if(!j)return null;try{const Ie=JSON.parse(j);if(Ie){for(T=0;T<Ie.length;T++)if(Array.isArray(Ie[T])){var G=Ie[T];if(!(G.length<2)){var Q=G[1];if(Array.isArray(Q)&&!(Q.length<1)){var _e=Q[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(let Ze=1;Ze<Q.length;Ze++)Q[Ze]=""}}}}return Kt(Ie)}catch{return j}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},on;function Ms(){}p(Ms,rr),Ms.prototype.g=function(){return new XMLHttpRequest},on=new Ms;function ga(T){return encodeURIComponent(String(T))}function W(T){var j=1;T=T.split(":");const G=[];for(;j>0&&T.length;)G.push(T.shift()),j--;return T.length&&G.push(T.join(":")),G}function ae(T,j,G,Q){this.j=T,this.i=j,this.l=G,this.S=Q||1,this.V=new $t(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Z}function Z(){this.i=null,this.g="",this.h=!1}var te={},ne={};function oe(T,j,G){T.M=1,T.A=gt($e(j)),T.u=G,T.R=!0,we(T,null)}function we(T,j){T.F=Date.now(),Se(T),T.B=$e(T.A);var G=T.B,Q=T.S;Array.isArray(Q)||(Q=[String(Q)]),uo(G.i,"t",Q),T.C=0,G=T.j.L,T.h=new Z,T.g=gg(T.j,G?j:null,!T.u),T.P>0&&(T.O=new wt(u(T.Y,T,T.g),T.P)),j=T.V,G=T.g,Q=T.ba;var _e="readystatechange";Array.isArray(_e)||(_e&&(Zt[0]=_e.toString()),_e=Zt);for(let Ie=0;Ie<_e.length;Ie++){const Ze=le(G,_e[Ie],Q||j.handleEvent,!1,j.h||j);if(!Ze)break;j.g[Ze.key]=Ze}j=T.J?J(T.J):{},T.u?(T.v||(T.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.B,T.v,T.u,j)):(T.v="GET",T.g.ea(T.B,T.v,null,j)),vi(),ma(T.i,T.v,T.B,T.l,T.S,T.u)}ae.prototype.ba=function(T){T=T.target;const j=this.O;j&&js(T)==3?j.j():this.Y(T)},ae.prototype.Y=function(T){try{if(T==this.g)e:{const Lt=js(this.g),wn=this.g.ya(),vr=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||bi(this.g)))){this.K||Lt!=4||wn==7||(wn==8||vr<=0?vi(3):vi(2)),We(this);var j=this.g.ca();this.X=j;var G=Oe(this);if(this.o=j==200,Za(this.i,this.v,this.B,this.l,this.S,Lt,j),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,_e=this.g;if((Q=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Q)){var Ie=Q;break t}}Ie=null}if(T=Ie)_n(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,T);else{this.o=!1,this.m=3,Fr(12),He(this),Qe(this);break e}}if(this.R){T=!0;let Jr;for(;!this.K&&this.C<G.length;)if(Jr=Ce(this,G),Jr==ne){Lt==4&&(this.m=4,Fr(14),T=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(Jr==te){this.m=4,Fr(15),_n(this.i,this.l,G,"[Invalid Chunk]"),T=!1;break}else _n(this.i,this.l,Jr,null),Xe(this,Jr);if(Ee(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||G.length!=0||this.h.h||(this.m=1,Fr(16),T=!1),this.o=this.o&&T,!T)_n(this.i,this.l,G,"[Invalid Chunked Response]"),He(this),Qe(this);else if(G.length>0&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.aa&&!Ze.P&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Yh(Ze),Ze.P=!0,Fr(11))}}else _n(this.i,this.l,G,null),Xe(this,G);Lt==4&&He(this),this.o&&!this.K&&(Lt==4?dg(this.j,this):(this.o=!1,Se(this)))}else Wo(this.g),j==400&&G.indexOf("Unknown SID")>0?(this.m=3,Fr(12)):(this.m=0,Fr(13)),He(this),Qe(this)}}}catch{}};function Oe(T){if(!Ee(T))return T.g.la();const j=bi(T.g);if(j==="")return"";let G="";const Q=j.length,_e=js(T.g)==4;if(!T.h.i){if(typeof TextDecoder>"u")return He(T),Qe(T),"";T.h.i=new s.TextDecoder}for(let Ie=0;Ie<Q;Ie++)T.h.h=!0,G+=T.h.i.decode(j[Ie],{stream:!(_e&&Ie==Q-1)});return j.length=0,T.h.g+=G,T.C=0,T.h.g}function Ee(T){return T.g?T.v=="GET"&&T.M!=2&&T.j.Aa:!1}function Ce(T,j){var G=T.C,Q=j.indexOf(`
`,G);return Q==-1?ne:(G=Number(j.substring(G,Q)),isNaN(G)?te:(Q+=1,Q+G>j.length?ne:(j=j.slice(Q,Q+G),T.C=Q+G,j)))}ae.prototype.cancel=function(){this.K=!0,He(this)};function Se(T){T.T=Date.now()+T.H,qe(T,T.H)}function qe(T,j){if(T.D!=null)throw Error("WatchDog timer not null");T.D=In(u(T.aa,T),j)}function We(T){T.D&&(s.clearTimeout(T.D),T.D=null)}ae.prototype.aa=function(){this.D=null;const T=Date.now();T-this.T>=0?(_i(this.i,this.B),this.M!=2&&(vi(),Fr(17)),He(this),this.m=2,Qe(this)):qe(this,this.T-T)};function Qe(T){T.j.I==0||T.K||dg(T.j,T)}function He(T){We(T);var j=T.O;j&&typeof j.dispose=="function"&&j.dispose(),T.O=null,Ir(T.V),T.g&&(j=T.g,T.g=null,j.abort(),j.dispose())}function Xe(T,j){try{var G=T.j;if(G.I!=0&&(G.g==T||ri(G.h,T))){if(!T.L&&ri(G.h,T)&&G.I==3){try{var Q=G.Ba.g.parse(j)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var _e=Q;if(_e[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<T.F)Gf(G),Xl(G);else break e;gu(G),Fr(18)}}else G.xa=_e[1],0<G.xa-G.K&&_e[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=In(u(G.Va,G),6e3));Er(G.h)<=1&&G.ta&&(G.ta=void 0)}else go(G,11)}else if((T.L||G.g==T)&&Gf(G),!H(j))for(_e=G.Ba.g.parse(j),j=0;j<_e.length;j++){let vr=_e[j];const Jr=vr[0];if(!(Jr<=G.K))if(G.K=Jr,vr=vr[1],G.I==2)if(vr[0]=="c"){G.M=vr[1],G.ba=vr[2];const rs=vr[3];rs!=null&&(G.ka=rs,G.j.info("VER="+G.ka));const vo=vr[4];vo!=null&&(G.za=vo,G.j.info("SVER="+G.za));const Us=vr[5];Us!=null&&typeof Us=="number"&&Us>0&&(Q=1.5*Us,G.O=Q,G.j.info("backChannelRequestTimeoutMs_="+Q)),Q=G;const Bs=T.g;if(Bs){const vu=Bs.g?Bs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var Ie=Q.h;Ie.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(Zi(Ie,Ie.h),Ie.h=null))}if(Q.G){const qf=Bs.g?Bs.g.getResponseHeader("X-HTTP-Session-Id"):null;qf&&(Q.wa=qf,nt(Q.J,Q.G,qf))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-T.F,G.j.info("Handshake RTT: "+G.T+"ms")),Q=G;var Ze=T;if(Q.na=mg(Q,Q.L?Q.ba:null,Q.W),Ze.L){gr(Q.h,Ze);var Lt=Ze,wn=Q.O;wn&&(Lt.H=wn),Lt.D&&(We(Lt),Se(Lt)),Q.g=Ze}else ug(Q);G.i.length>0&&mo(G)}else vr[0]!="stop"&&vr[0]!="close"||go(G,7);else G.I==3&&(vr[0]=="stop"||vr[0]=="close"?vr[0]=="stop"?go(G,7):Kh(G):vr[0]!="noop"&&G.l&&G.l.qa(vr),G.A=0)}}vi(4)}catch{}}var lt=class{constructor(T,j){this.g=T,this.map=j}};function pr(T){this.l=T||10,s.PerformanceNavigationTiming?(T=s.performance.getEntriesByType("navigation"),T=T.length>0&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mr(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function Er(T){return T.h?1:T.g?T.g.size:0}function ri(T,j){return T.h?T.h==j:T.g?T.g.has(j):!1}function Zi(T,j){T.g?T.g.add(j):T.h=j}function gr(T,j){T.h&&T.h==j?T.h=null:T.g&&T.g.has(j)&&T.g.delete(j)}pr.prototype.cancel=function(){if(this.i=Dt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function Dt(T){if(T.h!=null)return T.i.concat(T.h.G);if(T.g!=null&&T.g.size!==0){let j=T.i;for(const G of T.g.values())j=j.concat(G.G);return j}return y(T.i)}var Oa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function se(T,j){if(T){T=T.split("&");for(let G=0;G<T.length;G++){const Q=T[G].indexOf("=");let _e,Ie=null;Q>=0?(_e=T[G].substring(0,Q),Ie=T[G].substring(Q+1)):_e=T[G],j(_e,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function Re(T){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;T instanceof Re?(this.l=T.l,et(this,T.j),this.o=T.o,this.g=T.g,mt(this,T.u),this.h=T.h,Mt(this,lg(T.i)),this.m=T.m):T&&(j=String(T).match(Oa))?(this.l=!1,et(this,j[1]||"",!0),this.o=Tt(j[2]||""),this.g=Tt(j[3]||"",!0),mt(this,j[4]),this.h=Tt(j[5]||"",!0),Mt(this,j[6]||"",!0),this.m=Tt(j[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}Re.prototype.toString=function(){const T=[];var j=this.j;j&&T.push(zt(j,Ht,!0),":");var G=this.g;return(G||j=="file")&&(T.push("//"),(j=this.o)&&T.push(zt(j,Ht,!0),"@"),T.push(ga(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&T.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&T.push("/"),T.push(zt(G,G.charAt(0)=="/"?Qt:Gn,!0))),(G=this.i.toString())&&T.push("?",G),(G=this.m)&&T.push("#",zt(G,Qi)),T.join("")},Re.prototype.resolve=function(T){const j=$e(this);let G=!!T.j;G?et(j,T.j):G=!!T.o,G?j.o=T.o:G=!!T.g,G?j.g=T.g:G=T.u!=null;var Q=T.h;if(G)mt(j,T.u);else if(G=!!T.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var _e=j.h.lastIndexOf("/");_e!=-1&&(Q=j.h.slice(0,_e+1)+Q)}if(_e=Q,_e==".."||_e==".")Q="";else if(_e.indexOf("./")!=-1||_e.indexOf("/.")!=-1){Q=_e.lastIndexOf("/",0)==0,_e=_e.split("/");const Ie=[];for(let Ze=0;Ze<_e.length;){const Lt=_e[Ze++];Lt=="."?Q&&Ze==_e.length&&Ie.push(""):Lt==".."?((Ie.length>1||Ie.length==1&&Ie[0]!="")&&Ie.pop(),Q&&Ze==_e.length&&Ie.push("")):(Ie.push(Lt),Q=!0)}Q=Ie.join("/")}else Q=_e}return G?j.h=Q:G=T.i.toString()!=="",G?Mt(j,lg(T.i)):G=!!T.m,G&&(j.m=T.m),j};function $e(T){return new Re(T)}function et(T,j,G){T.j=G?Tt(j,!0):j,T.j&&(T.j=T.j.replace(/:$/,""))}function mt(T,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);T.u=j}else T.u=null}function Mt(T,j,G){j instanceof Tr?(T.i=j,Vf(T.i,T.l)):(G||(j=zt(j,Pn)),T.i=new Tr(j,T.l))}function nt(T,j,G){T.i.set(j,G)}function gt(T){return nt(T,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),T}function Tt(T,j){return T?j?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function zt(T,j,G){return typeof T=="string"?(T=encodeURI(T).replace(j,Nt),G&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function Nt(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var Ht=/[#\/\?@]/g,Gn=/[#\?:]/g,Qt=/[#\?]/g,Pn=/[#\?@]/g,Qi=/#/g;function Tr(T,j){this.h=this.g=null,this.i=T||null,this.j=!!j}function bn(T){T.g||(T.g=new Map,T.h=0,T.i&&se(T.i,function(j,G){T.add(decodeURIComponent(j.replace(/\+/g," ")),G)}))}e=Tr.prototype,e.add=function(T,j){bn(this),this.i=null,T=Kl(this,T);let G=this.g.get(T);return G||this.g.set(T,G=[]),G.push(j),this.h+=1,this};function uu(T,j){bn(T),j=Kl(T,j),T.g.has(j)&&(T.i=null,T.h-=T.g.get(j).length,T.g.delete(j))}function ln(T,j){return bn(T),j=Kl(T,j),T.g.has(j)}e.forEach=function(T,j){bn(this),this.g.forEach(function(G,Q){G.forEach(function(_e){T.call(j,_e,Q,this)},this)},this)};function Ds(T,j){bn(T);let G=[];if(typeof j=="string")ln(T,j)&&(G=G.concat(T.g.get(Kl(T,j))));else for(T=Array.from(T.g.values()),j=0;j<T.length;j++)G=G.concat(T[j]);return G}e.set=function(T,j){return bn(this),this.i=null,T=Kl(this,T),ln(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[j]),this.h+=1,this},e.get=function(T,j){return T?(T=Ds(this,T),T.length>0?String(T[0]):j):j};function uo(T,j,G){uu(T,j),G.length>0&&(T.i=null,T.g.set(Kl(T,j),y(G)),T.h+=G.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],j=Array.from(this.g.keys());for(let Q=0;Q<j.length;Q++){var G=j[Q];const _e=ga(G);G=Ds(this,G);for(let Ie=0;Ie<G.length;Ie++){let Ze=_e;G[Ie]!==""&&(Ze+="="+ga(G[Ie])),T.push(Ze)}}return this.i=T.join("&")};function lg(T){const j=new Tr;return j.i=T.i,T.g&&(j.g=new Map(T.g),j.h=T.h),j}function Kl(T,j){return j=String(j),T.j&&(j=j.toLowerCase()),j}function Vf(T,j){j&&!T.j&&(bn(T),T.i=null,T.g.forEach(function(G,Q){const _e=Q.toLowerCase();Q!=_e&&(uu(this,Q),uo(this,_e,G))},T)),T.j=j}function Ls(T,j){const G=new xi;if(s.Image){const Q=new Image;Q.onload=d(es,G,"TestLoadImage: loaded",!0,j,Q),Q.onerror=d(es,G,"TestLoadImage: error",!1,j,Q),Q.onabort=d(es,G,"TestLoadImage: abort",!1,j,Q),Q.ontimeout=d(es,G,"TestLoadImage: timeout",!1,j,Q),s.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=T}else j(!1)}function Hh(T,j){const G=new xi,Q=new AbortController,_e=setTimeout(()=>{Q.abort(),es(G,"TestPingServer: timeout",!1,j)},1e4);fetch(T,{signal:Q.signal}).then(Ie=>{clearTimeout(_e),Ie.ok?es(G,"TestPingServer: ok",!0,j):es(G,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(_e),es(G,"TestPingServer: error",!1,j)})}function es(T,j,G,Q,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),Q(G)}catch{}}function Wl(){this.g=new xt}function fo(T){this.i=T.Sb||null,this.h=T.ab||!1}p(fo,rr),fo.prototype.g=function(){return new fu(this.i,this.h)};function fu(T,j){tt.call(this),this.H=T,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(fu,tt),e=fu.prototype,e.open=function(T,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=T,this.D=j,this.readyState=1,Fs(this)},e.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};T&&(j.body=T),(this.H||s).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Yl(this)),this.readyState=0},e.Pa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zf(this)}else T.text().then(this.Oa.bind(this),this.ga.bind(this))};function zf(T){T.j.read().then(T.Ma.bind(T)).catch(T.ga.bind(T))}e.Ma=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var j=T.value?T.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!T.done}))&&(this.response=this.responseText+=j)}T.done?Yl(this):Fs(this),this.readyState==3&&zf(this)}},e.Oa=function(T){this.g&&(this.response=this.responseText=T,Yl(this))},e.Na=function(T){this.g&&(this.response=T,Yl(this))},e.ga=function(){this.g&&Yl(this)};function Yl(T){T.readyState=4,T.l=null,T.j=null,T.B=null,Fs(T)}e.setRequestHeader=function(T,j){this.A.append(T,j)},e.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],j=this.h.entries();for(var G=j.next();!G.done;)G=G.value,T.push(G[0]+": "+G[1]),G=j.next();return T.join(`\r
`)};function Fs(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function ts(T){let j="";return ie(T,function(G,Q){j+=Q,j+=":",j+=G,j+=`\r
`}),j}function du(T,j,G){e:{for(Q in G){var Q=!1;break e}Q=!0}Q||(G=ts(G),typeof T=="string"?G!=null&&ga(G):nt(T,j,G))}function Pr(T){tt.call(this),this.headers=new Map,this.L=T||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Pr,tt);var ho=/^https?$/i,Gh=["POST","PUT"];e=Pr.prototype,e.Fa=function(T){this.H=T},e.ea=function(T,j,G,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);j=j?j.toUpperCase():"GET",this.D=T,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():on.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(j,String(T),!0),this.B=!1}catch(Ie){hu(this,Ie);return}if(T=G||"",G=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var _e in Q)G.set(_e,Q[_e]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Ie of Q.keys())G.set(Ie,Q.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(G.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),_e=s.FormData&&T instanceof s.FormData,!(Array.prototype.indexOf.call(Gh,j,void 0)>=0)||Q||_e||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Ze]of G)this.g.setRequestHeader(Ie,Ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(T),this.v=!1}catch(Ie){hu(this,Ie)}};function hu(T,j){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=j,T.o=5,qh(T),Ko(T)}function qh(T){T.A||(T.A=!0,ht(T,"complete"),ht(T,"error"))}e.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=T||7,ht(this,"complete"),ht(this,"abort"),Ko(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ko(this,!0)),Pr.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?pu(this):this.Xa())},e.Xa=function(){pu(this)};function pu(T){if(T.h&&typeof a<"u"){if(T.v&&js(T)==4)setTimeout(T.Ca.bind(T),0);else if(ht(T,"readystatechange"),js(T)==4){T.h=!1;try{const Ie=T.ca();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var G;if(!(G=j)){var Q;if(Q=Ie===0){let Ze=String(T.D).match(Oa)[1]||null;!Ze&&s.self&&s.self.location&&(Ze=s.self.location.protocol.slice(0,-1)),Q=!ho.test(Ze?Ze.toLowerCase():"")}G=Q}if(G)ht(T,"complete"),ht(T,"success");else{T.o=6;try{var _e=js(T)>2?T.g.statusText:""}catch{_e=""}T.l=_e+" ["+T.ca()+"]",qh(T)}}finally{Ko(T)}}}}function Ko(T,j){if(T.g){T.m&&(clearTimeout(T.m),T.m=null);const G=T.g;T.g=null,j||ht(T,"ready");try{G.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function js(T){return T.g?T.g.readyState:0}e.ca=function(){try{return js(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(T){if(this.g){var j=this.g.responseText;return T&&j.indexOf(T)==0&&(j=j.substring(T.length)),Et(j)}};function bi(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.F){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function Wo(T){const j={};T=(T.g&&js(T)>=2&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<T.length;Q++){if(H(T[Q]))continue;var G=W(T[Q]);const _e=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const Ie=j[_e]||[];j[_e]=Ie,Ie.push(G)}xe(j,function(Q){return Q.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function po(T,j,G){return G&&G.internalChannelParams&&G.internalChannelParams[T]||j}function Jl(T){this.za=0,this.i=[],this.j=new xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=po("failFast",!1,T),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=po("baseRetryDelayMs",5e3,T),this.Za=po("retryDelaySeedMs",1e4,T),this.Ta=po("forwardChannelMaxRetries",2,T),this.va=po("forwardChannelRequestTimeoutMs",2e4,T),this.ma=T&&T.xmlHttpFactory||void 0,this.Ua=T&&T.Rb||void 0,this.Aa=T&&T.useFetchStreams||!1,this.O=void 0,this.L=T&&T.supportsCrossDomainXhr||!1,this.M="",this.h=new pr(T&&T.concurrentRequestLimit),this.Ba=new Wl,this.S=T&&T.fastHandshake||!1,this.R=T&&T.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=T&&T.Pb||!1,T&&T.ua&&this.j.ua(),T&&T.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&T&&T.detectBufferingProxy||!1,this.ia=void 0,T&&T.longPollingTimeout&&T.longPollingTimeout>0&&(this.ia=T.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Jl.prototype,e.ka=8,e.I=1,e.connect=function(T,j,G,Q){Fr(0),this.W=T,this.H=j||{},G&&Q!==void 0&&(this.H.OSID=G,this.H.OAID=Q),this.F=this.X,this.J=mg(this,null,this.W),mo(this)};function Kh(T){if($f(T),T.I==3){var j=T.V++,G=$e(T.J);if(nt(G,"SID",T.M),nt(G,"RID",j),nt(G,"TYPE","terminate"),mu(T,G),j=new ae(T,T.j,j),j.M=2,j.A=gt($e(G)),G=!1,s.navigator&&s.navigator.sendBeacon)try{G=s.navigator.sendBeacon(j.A.toString(),"")}catch{}!G&&s.Image&&(new Image().src=j.A,G=!0),G||(j.g=gg(j.j,null),j.g.ea(j.A)),j.F=Date.now(),Se(j)}pg(T)}function Xl(T){T.g&&(Yh(T),T.g.cancel(),T.g=null)}function $f(T){Xl(T),T.v&&(s.clearTimeout(T.v),T.v=null),Gf(T),T.h.cancel(),T.m&&(typeof T.m=="number"&&s.clearTimeout(T.m),T.m=null)}function mo(T){if(!mr(T.h)&&!T.m){T.m=!0;var j=T.Ea;D||k(),M||(D(),M=!0),N.add(j,T),T.D=0}}function Hf(T,j){return Er(T.h)>=T.h.j-(T.m?1:0)?!1:T.m?(T.i=j.G.concat(T.i),!0):T.I==1||T.I==2||T.D>=(T.Sa?0:T.Ta)?!1:(T.m=In(u(T.Ea,T,j),hg(T,T.D)),T.D++,!0)}e.Ea=function(T){if(this.m)if(this.m=null,this.I==1){if(!T){this.V=Math.floor(Math.random()*1e5),T=this.V++;const _e=new ae(this,this.j,T);let Ie=this.o;if(this.U&&(Ie?(Ie=J(Ie),ee(Ie,this.U)):Ie=this.U),this.u!==null||this.R||(_e.J=Ie,Ie=null),this.S)e:{for(var j=0,G=0;G<this.i.length;G++){t:{var Q=this.i[G];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(j+=Q,j>4096){j=G;break e}if(j===4096||G===this.i.length-1){j=G+1;break e}}j=1e3}else j=1e3;j=cg(this,_e,j),G=$e(this.J),nt(G,"RID",T),nt(G,"CVER",22),this.G&&nt(G,"X-HTTP-Session-Id",this.G),mu(this,G),Ie&&(this.R?j="headers="+ga(ts(Ie))+"&"+j:this.u&&du(G,this.u,Ie)),Zi(this.h,_e),this.Ra&&nt(G,"TYPE","init"),this.S?(nt(G,"$req",j),nt(G,"SID","null"),_e.U=!0,oe(_e,G,null)):oe(_e,G,j),this.I=2}}else this.I==3&&(T?Wh(this,T):this.i.length==0||mr(this.h)||Wh(this))};function Wh(T,j){var G;j?G=j.l:G=T.V++;const Q=$e(T.J);nt(Q,"SID",T.M),nt(Q,"RID",G),nt(Q,"AID",T.K),mu(T,Q),T.u&&T.o&&du(Q,T.u,T.o),G=new ae(T,T.j,G,T.D+1),T.u===null&&(G.J=T.o),j&&(T.i=j.G.concat(T.i)),j=cg(T,G,1e3),G.H=Math.round(T.va*.5)+Math.round(T.va*.5*Math.random()),Zi(T.h,G),oe(G,Q,j)}function mu(T,j){T.H&&ie(T.H,function(G,Q){nt(j,Q,G)}),T.l&&ie({},function(G,Q){nt(j,Q,G)})}function cg(T,j,G){G=Math.min(T.i.length,G);const Q=T.l?u(T.l.Ka,T.l,T):null;e:{var _e=T.i;let Lt=-1;for(;;){const wn=["count="+G];Lt==-1?G>0?(Lt=_e[0].g,wn.push("ofs="+Lt)):Lt=0:wn.push("ofs="+Lt);let vr=!0;for(let Jr=0;Jr<G;Jr++){var Ie=_e[Jr].g;const rs=_e[Jr].map;if(Ie-=Lt,Ie<0)Lt=Math.max(0,_e[Jr].g-100),vr=!1;else try{Ie="req"+Ie+"_"||"";try{var Ze=rs instanceof Map?rs:Object.entries(rs);for(const[vo,Us]of Ze){let Bs=Us;o(Us)&&(Bs=Kt(Us)),wn.push(Ie+vo+"="+encodeURIComponent(Bs))}}catch(vo){throw wn.push(Ie+"type="+encodeURIComponent("_badmap")),vo}}catch{Q&&Q(rs)}}if(vr){Ze=wn.join("&");break e}}Ze=void 0}return T=T.i.splice(0,G),j.G=T,Ze}function ug(T){if(!T.g&&!T.v){T.Y=1;var j=T.Da;D||k(),M||(D(),M=!0),N.add(j,T),T.A=0}}function gu(T){return T.g||T.v||T.A>=3?!1:(T.Y++,T.v=In(u(T.Da,T),hg(T,T.A)),T.A++,!0)}e.Da=function(){if(this.v=null,fg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var T=4*this.T;this.j.info("BP detection timer enabled: "+T),this.B=In(u(this.Wa,this),T)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Fr(10),Xl(this),fg(this))};function Yh(T){T.B!=null&&(s.clearTimeout(T.B),T.B=null)}function fg(T){T.g=new ae(T,T.j,"rpc",T.Y),T.u===null&&(T.g.J=T.o),T.g.P=0;var j=$e(T.na);nt(j,"RID","rpc"),nt(j,"SID",T.M),nt(j,"AID",T.K),nt(j,"CI",T.F?"0":"1"),!T.F&&T.ia&&nt(j,"TO",T.ia),nt(j,"TYPE","xmlhttp"),mu(T,j),T.u&&T.o&&du(j,T.u,T.o),T.O&&(T.g.H=T.O);var G=T.g;T=T.ba,G.M=1,G.A=gt($e(j)),G.u=null,G.R=!0,we(G,T)}e.Va=function(){this.C!=null&&(this.C=null,Xl(this),gu(this),Fr(19))};function Gf(T){T.C!=null&&(s.clearTimeout(T.C),T.C=null)}function dg(T,j){var G=null;if(T.g==j){Gf(T),Yh(T),T.g=null;var Q=2}else if(ri(T.h,j))G=j.G,gr(T.h,j),Q=1;else return;if(T.I!=0){if(j.o)if(Q==1){G=j.u?j.u.length:0,j=Date.now()-j.F;var _e=T.D;Q=co(),ht(Q,new yi(Q,G)),mo(T)}else ug(T);else if(_e=j.m,_e==3||_e==0&&j.X>0||!(Q==1&&Hf(T,j)||Q==2&&gu(T)))switch(G&&G.length>0&&(j=T.h,j.i=j.i.concat(G)),_e){case 1:go(T,5);break;case 4:go(T,10);break;case 3:go(T,6);break;default:go(T,2)}}}function hg(T,j){let G=T.Qa+Math.floor(Math.random()*T.Za);return T.isActive()||(G*=2),G*j}function go(T,j){if(T.j.info("Error code "+j),j==2){var G=u(T.bb,T),Q=T.Ua;const _e=!Q;Q=new Re(Q||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||et(Q,"https"),gt(Q),_e?Ls(Q.toString(),G):Hh(Q.toString(),G)}else Fr(2);T.I=0,T.l&&T.l.pa(j),pg(T),$f(T)}e.bb=function(T){T?(this.j.info("Successfully pinged google.com"),Fr(2)):(this.j.info("Failed to ping google.com"),Fr(1))};function pg(T){if(T.I=0,T.ja=[],T.l){const j=Dt(T.h);(j.length!=0||T.i.length!=0)&&(_(T.ja,j),_(T.ja,T.i),T.h.i.length=0,y(T.i),T.i.length=0),T.l.oa()}}function mg(T,j,G){var Q=G instanceof Re?$e(G):new Re(G);if(Q.g!="")j&&(Q.g=j+"."+Q.g),mt(Q,Q.u);else{var _e=s.location;Q=_e.protocol,j=j?j+"."+_e.hostname:_e.hostname,_e=+_e.port;const Ie=new Re(null);Q&&et(Ie,Q),j&&(Ie.g=j),_e&&mt(Ie,_e),G&&(Ie.h=G),Q=Ie}return G=T.G,j=T.wa,G&&j&&nt(Q,G,j),nt(Q,"VER",T.ka),mu(T,Q),Q}function gg(T,j,G){if(j&&!T.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=T.Aa&&!T.ma?new Pr(new fo({ab:G})):new Pr(T.ma),j.Fa(T.L),j}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vg(){}e=vg.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Zl(){}Zl.prototype.g=function(T,j){return new ea(T,j)};function ea(T,j){tt.call(this),this.g=new Jl(j),this.l=T,this.h=j&&j.messageUrlParams||null,T=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(T?T["X-WebChannel-Content-Type"]=j.messageContentType:T={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(T?T["X-WebChannel-Client-Profile"]=j.sa:T={"X-WebChannel-Client-Profile":j.sa}),this.g.U=T,(T=j&&j.Qb)&&!H(T)&&(this.g.u=T),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!H(j)&&(this.g.G=j,T=this.h,T!==null&&j in T&&(T=this.h,j in T&&delete T[j])),this.j=new Yo(this)}p(ea,tt),ea.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ea.prototype.close=function(){Kh(this.g)},ea.prototype.o=function(T){var j=this.g;if(typeof T=="string"){var G={};G.__data__=T,T=G}else this.v&&(G={},G.__data__=Kt(T),T=G);j.i.push(new lt(j.Ya++,T)),j.I==3&&mo(j)},ea.prototype.N=function(){this.g.l=null,delete this.j,Kh(this.g),delete this.g,ea.Z.N.call(this)};function yg(T){wr.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var j=T.__sm__;if(j){e:{for(const G in j){T=G;break e}T=void 0}(this.i=T)&&(T=this.i,j=j!==null&&T in j?j[T]:void 0),this.data=j}else this.data=T}p(yg,wr);function xg(){gi.call(this),this.status=1}p(xg,gi);function Yo(T){this.g=T}p(Yo,vg),Yo.prototype.ra=function(){ht(this.g,"a")},Yo.prototype.qa=function(T){ht(this.g,new yg(T))},Yo.prototype.pa=function(T){ht(this.g,new xg)},Yo.prototype.oa=function(){ht(this.g,"b")},Zl.prototype.createWebChannel=Zl.prototype.g,ea.prototype.send=ea.prototype.o,ea.prototype.open=ea.prototype.m,ea.prototype.close=ea.prototype.close,wV=function(){return new Zl},bV=function(){return co()},_V=Vr,ZS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,xy=Os,Qa.COMPLETE="complete",xV=Qa,xr.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",tt.prototype.listen=tt.prototype.J,op=xr,Pr.prototype.listenOnce=Pr.prototype.K,Pr.prototype.getLastError=Pr.prototype.Ha,Pr.prototype.getLastErrorCode=Pr.prototype.ya,Pr.prototype.getStatus=Pr.prototype.ca,Pr.prototype.getResponseJson=Pr.prototype.La,Pr.prototype.getResponseText=Pr.prototype.la,Pr.prototype.send=Pr.prototype.ea,Pr.prototype.setWithCredentials=Pr.prototype.Fa,yV=Pr}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});class Ea{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ea.UNAUTHENTICATED=new Ea(null),Ea.GOOGLE_CREDENTIALS=new Ea("google-credentials-uid"),Ea.FIRST_PARTY=new Ea("first-party-uid"),Ea.MOCK_USER=new Ea("mock-user");let kh="12.9.0";function rxe(e){kh=e}const uf=new oV("@firebase/firestore");function kd(){return uf.logLevel}function ot(e,...t){if(uf.logLevel<=ir.DEBUG){const r=t.map(bC);uf.debug(`Firestore (${kh}): ${e}`,...r)}}function Nl(e,...t){if(uf.logLevel<=ir.ERROR){const r=t.map(bC);uf.error(`Firestore (${kh}): ${e}`,...r)}}function oh(e,...t){if(uf.logLevel<=ir.WARN){const r=t.map(bC);uf.warn(`Firestore (${kh}): ${e}`,...r)}}function bC(e){if(typeof e=="string")return e;try{return(function(r){return JSON.stringify(r)})(e)}catch{return e}}function St(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,EV(e,n,r)}function EV(e,t,r){let n=`FIRESTORE (${kh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Nl(n),new Error(n)}function br(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||EV(t,i,n)}function Ot(e,t){return e}const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Pf{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bc{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class nxe{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ixe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(Ea.UNAUTHENTICATED)))}shutdown(){}}class axe{constructor(t){this.t=t,this.currentUser=Ea.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){br(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Bc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Bc,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;t.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bc)}}),0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(br(typeof n.accessToken=="string",31837,{l:n}),new nxe(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return br(t===null||typeof t=="string",2055,{h:t}),new Ea(t)}}class sxe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Ea.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class oxe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new sxe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(Ea.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lxe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fV(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){br(this.o===void 0,3512);const n=a=>{a.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ot("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>n(a)))};const i=a=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l3(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(br(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new l3(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function cxe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class wC{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=cxe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function Jt(e,t){return e<t?-1:e>t?1:0}function QS(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return pE(i)===pE(a)?Jt(i,a):pE(i)?1:-1}return Jt(e.length,t.length)}const uxe=55296,fxe=57343;function pE(e){const t=e.charCodeAt(0);return t>=uxe&&t<=fxe}function lh(e,t,r){return e.length===t.length&&e.every(((n,i)=>r(n,t[i])))}const c3="__name__";class Co{constructor(t,r,n){r===void 0?r=0:r>t.length&&St(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&St(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Co.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Co?t.forEach((n=>{r.push(n)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Co.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return Jt(t.length,r.length)}static compareSegments(t,r){const n=Co.isNumericId(t),i=Co.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Co.extractNumericId(t).compare(Co.extractNumericId(r)):QS(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Uc.fromString(t.substring(4,t.length-2))}}class rn extends Co{construct(t,r,n){return new rn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new pt(Ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new rn(r)}static emptyPath(){return new rn([])}}const dxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends Co{construct(t,r,n){return new Ii(t,r,n)}static isValidIdentifier(t){return dxe.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c3}static keyField(){return new Ii([c3])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new pt(Ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new pt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new pt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ii(r)}static emptyPath(){return new Ii([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(rn.fromString(t))}static fromName(t){return new _t(rn.fromString(t).popFirst(5))}static empty(){return new _t(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&rn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return rn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new rn(t.slice()))}}function hxe(e,t,r){if(!r)throw new pt(Ge.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pxe(e,t,r,n){if(t===!0&&n===!0)throw new pt(Ge.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function u3(e){if(!_t.isDocumentKey(e))throw new pt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function TV(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function EC(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":St(12329,{type:typeof e})}function gx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=EC(e);throw new pt(Ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Bn(e,t){const r={typeString:e};return t&&(r.value=t),r}function Om(e,t){if(!TV(e))throw new pt(Ge.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new pt(Ge.INVALID_ARGUMENT,r);return!0}const f3=-62135596800,d3=1e6;class Yr{static now(){return Yr.fromMillis(Date.now())}static fromDate(t){return Yr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*d3);return new Yr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new pt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new pt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<f3)throw new pt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d3}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Om(t,Yr._jsonSchema))return new Yr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-f3;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yr._jsonSchemaVersion="firestore/timestamp/1.0",Yr._jsonSchema={type:Bn("string",Yr._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new Yr(0,0))}static max(){return new It(new Yr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tm=-1;function mxe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=It.fromTimestamp(n===1e9?new Yr(r+1,0):new Yr(r,n));return new qc(i,_t.empty(),t)}function gxe(e){return new qc(e.readTime,e.key,tm)}class qc{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new qc(It.min(),_t.empty(),tm)}static max(){return new qc(It.max(),_t.empty(),tm)}}function vxe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=_t.comparator(e.documentKey,t.documentKey),r!==0?r:Jt(e.largestBatchId,t.largestBatchId))}const yxe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xxe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ih(e){if(e.code!==Ge.FAILED_PRECONDITION||e.message!==yxe)throw e;ot("LocalStore","Unexpectedly lost primary lease")}class ze{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ze(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof ze?r:ze.resolve(r)}catch(r){return ze.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):ze.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):ze.reject(r)}static resolve(t){return new ze(((r,n)=>{r(t)}))}static reject(t){return new ze(((r,n)=>{n(t)}))}static waitFor(t){return new ze(((r,n)=>{let i=0,a=0,s=!1;t.forEach((o=>{++i,o.next((()=>{++a,s&&a===i&&r()}),(c=>n(c)))})),s=!0,a===i&&r()}))}static or(t){let r=ze.resolve(!1);for(const n of t)r=r.next((i=>i?ze.resolve(i):n()));return r}static forEach(t,r){const n=[];return t.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(t,r){return new ze(((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(t[u]).next((d=>{s[u]=d,++o,o===a&&n(s)}),(d=>i(d)))}}))}static doWhile(t,r){return new ze(((n,i)=>{const a=()=>{t()===!0?r().next((()=>{a()}),i):n()};a()}))}}function _xe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ph(e){return e.name==="IndexedDbTransactionError"}class $1{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}$1.ce=-1;const TC=-1;function H1(e){return e==null}function vx(e){return e===0&&1/e==-1/0}function bxe(e){return typeof e=="number"&&Number.isInteger(e)&&!vx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const SV="";function wxe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=h3(t)),t=Exe(e.get(r),t);return h3(t)}function Exe(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case SV:r+="";break;default:r+=a}}return r}function h3(e){return e+SV+""}function p3(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Rf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function AV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class nn{constructor(t,r){this.comparator=t,this.root=r||Ni.EMPTY}insert(t,r){return new nn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(t){return new nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,n)=>(t(r,n),!1)))}toString(){const t=[];return this.inorderTraversal(((r,n)=>(t.push(`${r}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vv(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vv(this.root,t,this.comparator,!0)}}class Vv{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ni{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ni.RED,this.left=i??Ni.EMPTY,this.right=a??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ni(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ni.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1;Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ni(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(t){this.comparator=t,this.data=new nn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,n)=>(t(r),!1)))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new m3(this.data.getIterator())}getIteratorFrom(t){return new m3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((n=>{r=r.add(n)})),r}isEqual(t){if(!(t instanceof Zn)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Zn(this.comparator);return r.data=t,r}}class m3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zs{constructor(t){this.fields=t,t.sort(Ii.comparator)}static empty(){return new Zs([])}unionWith(t){let r=new Zn(Ii.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Zs(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return lh(this.fields,t.fields,((r,n)=>r.isEqual(n)))}}class CV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new CV("Invalid base64 string: "+a):a}})(t);return new Mi(r)}static fromUint8Array(t){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(t);return new Mi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const Txe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kc(e){if(br(!!e,39018),typeof e=="string"){let t=0;const r=Txe.exec(e);if(br(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:An(e.seconds),nanos:An(e.nanos)}}function An(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Wc(e){return typeof e=="string"?Mi.fromBase64String(e):Mi.fromUint8Array(e)}const NV="server_timestamp",kV="__type__",IV="__previous_value__",PV="__local_write_time__";function SC(e){return(e?.mapValue?.fields||{})[kV]?.stringValue===NV}function G1(e){const t=e.mapValue.fields[IV];return SC(t)?G1(t):t}function rm(e){const t=Kc(e.mapValue.fields[PV].timestampValue);return new Yr(t.seconds,t.nanos)}class Sxe{constructor(t,r,n,i,a,s,o,c,u,d,p){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=p}}const yx="(default)";class nm{constructor(t,r){this.projectId=t,this.database=r||yx}static empty(){return new nm("","")}get isDefaultDatabase(){return this.database===yx}isEqual(t){return t instanceof nm&&t.projectId===this.projectId&&t.database===this.database}}function Axe(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new pt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nm(e.options.projectId,t)}const RV="__type__",Cxe="__max__",zv={mapValue:{}},OV="__vector__",xx="value";function Yc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?SC(e)?4:kxe(e)?9007199254740991:Nxe(e)?10:11:St(28295,{value:e})}function Lo(e,t){if(e===t)return!0;const r=Yc(e);if(r!==Yc(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rm(e).isEqual(rm(t));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Kc(i.timestampValue),o=Kc(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(i,a){return Wc(i.bytesValue).isEqual(Wc(a.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(i,a){return An(i.geoPointValue.latitude)===An(a.geoPointValue.latitude)&&An(i.geoPointValue.longitude)===An(a.geoPointValue.longitude)})(e,t);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return An(i.integerValue)===An(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=An(i.doubleValue),o=An(a.doubleValue);return s===o?vx(s)===vx(o):isNaN(s)&&isNaN(o)}return!1})(e,t);case 9:return lh(e.arrayValue.values||[],t.arrayValue.values||[],Lo);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(p3(s)!==p3(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!Lo(s[c],o[c])))return!1;return!0})(e,t);default:return St(52216,{left:e})}}function im(e,t){return(e.values||[]).find((r=>Lo(r,t)))!==void 0}function ch(e,t){if(e===t)return 0;const r=Yc(e),n=Yc(t);if(r!==n)return Jt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Jt(e.booleanValue,t.booleanValue);case 2:return(function(a,s){const o=An(a.integerValue||a.doubleValue),c=An(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(e,t);case 3:return g3(e.timestampValue,t.timestampValue);case 4:return g3(rm(e),rm(t));case 5:return QS(e.stringValue,t.stringValue);case 6:return(function(a,s){const o=Wc(a),c=Wc(s);return o.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Jt(o[u],c[u]);if(d!==0)return d}return Jt(o.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(a,s){const o=Jt(An(a.latitude),An(s.latitude));return o!==0?o:Jt(An(a.longitude),An(s.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return v3(e.arrayValue,t.arrayValue);case 10:return(function(a,s){const o=a.fields||{},c=s.fields||{},u=o[xx]?.arrayValue,d=c[xx]?.arrayValue,p=Jt(u?.values?.length||0,d?.values?.length||0);return p!==0?p:v3(u,d)})(e.mapValue,t.mapValue);case 11:return(function(a,s){if(a===zv.mapValue&&s===zv.mapValue)return 0;if(a===zv.mapValue)return 1;if(s===zv.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const m=QS(c[p],d[p]);if(m!==0)return m;const y=ch(o[c[p]],u[d[p]]);if(y!==0)return y}return Jt(c.length,d.length)})(e.mapValue,t.mapValue);default:throw St(23264,{he:r})}}function g3(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Jt(e,t);const r=Kc(e),n=Kc(t),i=Jt(r.seconds,n.seconds);return i!==0?i:Jt(r.nanos,n.nanos)}function v3(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=ch(r[i],n[i]);if(a)return a}return Jt(r.length,n.length)}function uh(e){return eA(e)}function eA(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(r){const n=Kc(r);return`time(${n.seconds},${n.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(r){return Wc(r).toBase64()})(e.bytesValue):"referenceValue"in e?(function(r){return _t.fromName(r).toString()})(e.referenceValue):"geoPointValue"in e?(function(r){return`geo(${r.latitude},${r.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=eA(a);return n+"]"})(e.arrayValue):"mapValue"in e?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${eA(r.fields[s])}`;return i+"}"})(e.mapValue):St(61005,{value:e})}function _y(e){switch(Yc(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=G1(e);return t?16+_y(t):16;case 5:return 2*e.stringValue.length;case 6:return Wc(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+_y(a)),0)})(e.arrayValue);case 10:case 11:return(function(n){let i=0;return Rf(n.fields,((a,s)=>{i+=a.length+_y(s)})),i})(e.mapValue);default:throw St(13486,{value:e})}}function tA(e){return!!e&&"integerValue"in e}function AC(e){return!!e&&"arrayValue"in e}function y3(e){return!!e&&"nullValue"in e}function x3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function by(e){return!!e&&"mapValue"in e}function Nxe(e){return(e?.mapValue?.fields||{})[RV]?.stringValue===OV}function Cp(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Rf(e.mapValue.fields,((r,n)=>t.mapValue.fields[r]=Cp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Cp(e.arrayValue.values[r]);return t}return{...e}}function kxe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Cxe}class _s{constructor(t){this.value=t}static empty(){return new _s({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!by(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cp(r)}setAll(t){let r=Ii.emptyPath(),n={},i=[];t.forEach(((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Cp(s):i.push(o.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());by(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Lo(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];by(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){Rf(r,((i,a)=>t[i]=a));for(const i of n)delete t[i]}clone(){return new _s(Cp(this.value))}}function MV(e){const t=[];return Rf(e.fields,((r,n)=>{const i=new Ii([r]);if(by(n)){const a=MV(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)})),new Zs(t)}class Bi{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Bi(t,0,It.min(),It.min(),It.min(),_s.empty(),0)}static newFoundDocument(t,r,n,i){return new Bi(t,1,r,It.min(),n,i,0)}static newNoDocument(t,r){return new Bi(t,2,r,It.min(),It.min(),_s.empty(),0)}static newUnknownDocument(t,r){return new Bi(t,3,r,It.min(),It.min(),_s.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_s.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Bi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _x{constructor(t,r){this.position=t,this.inclusive=r}}function _3(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=_t.comparator(_t.fromName(s.referenceValue),r.key):n=ch(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function b3(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Lo(e.position[r],t.position[r]))return!1;return!0}class bx{constructor(t,r="asc"){this.field=t,this.dir=r}}function Ixe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class DV{}class Yn extends DV{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Rxe(t,r,n):r==="array-contains"?new Dxe(t,n):r==="in"?new Lxe(t,n):r==="not-in"?new Fxe(t,n):r==="array-contains-any"?new jxe(t,n):new Yn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Oxe(t,n):new Mxe(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ch(r,this.value)):r!==null&&Yc(this.value)===Yc(r)&&this.matchesComparison(ch(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fo extends DV{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new Fo(t,r)}matches(t){return LV(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LV(e){return e.op==="and"}function FV(e){return Pxe(e)&&LV(e)}function Pxe(e){for(const t of e.filters)if(t instanceof Fo)return!1;return!0}function rA(e){if(e instanceof Yn)return e.field.canonicalString()+e.op.toString()+uh(e.value);if(FV(e))return e.filters.map((t=>rA(t))).join(",");{const t=e.filters.map((r=>rA(r))).join(",");return`${e.op}(${t})`}}function jV(e,t){return e instanceof Yn?(function(n,i){return i instanceof Yn&&n.op===i.op&&n.field.isEqual(i.field)&&Lo(n.value,i.value)})(e,t):e instanceof Fo?(function(n,i){return i instanceof Fo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,o)=>a&&jV(s,i.filters[o])),!0):!1})(e,t):void St(19439)}function UV(e){return e instanceof Yn?(function(r){return`${r.field.canonicalString()} ${r.op} ${uh(r.value)}`})(e):e instanceof Fo?(function(r){return r.op.toString()+" {"+r.getFilters().map(UV).join(" ,")+"}"})(e):"Filter"}class Rxe extends Yn{constructor(t,r,n){super(t,r,n),this.key=_t.fromName(n.referenceValue)}matches(t){const r=_t.comparator(t.key,this.key);return this.matchesComparison(r)}}class Oxe extends Yn{constructor(t,r){super(t,"in",r),this.keys=BV("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class Mxe extends Yn{constructor(t,r){super(t,"not-in",r),this.keys=BV("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function BV(e,t){return(t.arrayValue?.values||[]).map((r=>_t.fromName(r.referenceValue)))}class Dxe extends Yn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return AC(r)&&im(r.arrayValue,this.value)}}class Lxe extends Yn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&im(this.value.arrayValue,r)}}class Fxe extends Yn{constructor(t,r){super(t,"not-in",r)}matches(t){if(im(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!im(this.value.arrayValue,r)}}class jxe extends Yn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!AC(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>im(this.value.arrayValue,n)))}}class Uxe{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function w3(e,t=null,r=[],n=[],i=null,a=null,s=null){return new Uxe(e,t,r,n,i,a,s)}function CC(e){const t=Ot(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((n=>rA(n))).join(","),r+="|ob:",r+=t.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),H1(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((n=>uh(n))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((n=>uh(n))).join(",")),t.Te=r}return t.Te}function NC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Ixe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!jV(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!b3(e.startAt,t.startAt)&&b3(e.endAt,t.endAt)}function nA(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class q1{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Bxe(e,t,r,n,i,a,s,o){return new q1(e,t,r,n,i,a,s,o)}function kC(e){return new q1(e)}function E3(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Vxe(e){return _t.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function zxe(e){return e.collectionGroup!==null}function Np(e){const t=Ot(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Zn(Ii.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(t).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new bx(a,n))})),r.has(Ii.keyField().canonicalString())||t.Ie.push(new bx(Ii.keyField(),n))}return t.Ie}function Po(e){const t=Ot(e);return t.Ee||(t.Ee=$xe(t,Np(e))),t.Ee}function $xe(e,t){if(e.limitType==="F")return w3(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new bx(i.field,a)}));const r=e.endAt?new _x(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new _x(e.startAt.position,e.startAt.inclusive):null;return w3(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function iA(e,t,r){return new q1(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function K1(e,t){return NC(Po(e),Po(t))&&e.limitType===t.limitType}function VV(e){return`${CC(Po(e))}|lt:${e.limitType}`}function Id(e){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>UV(i))).join(", ")}]`),H1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>uh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>uh(i))).join(",")),`Target(${n})`})(Po(e))}; limitType=${e.limitType})`}function W1(e,t){return t.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):_t.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(e,t)&&(function(n,i){for(const a of Np(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(e,t)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(e,t)&&(function(n,i){return!(n.startAt&&!(function(s,o,c){const u=_3(s,o,c);return s.inclusive?u<=0:u<0})(n.startAt,Np(n),i)||n.endAt&&!(function(s,o,c){const u=_3(s,o,c);return s.inclusive?u>=0:u>0})(n.endAt,Np(n),i))})(e,t)}function Hxe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zV(e){return(t,r)=>{let n=!1;for(const i of Np(e)){const a=Gxe(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Gxe(e,t,r){const n=e.field.isKeyField()?_t.comparator(t.key,r.key):(function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?ch(c,u):St(42886)})(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return St(19790,{direction:e.dir})}}class Of{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Rf(this.inner,((r,n)=>{for(const[i,a]of n)t(i,a)}))}isEmpty(){return AV(this.inner)}size(){return this.innerSize}}const qxe=new nn(_t.comparator);function kl(){return qxe}const $V=new nn(_t.comparator);function lp(...e){let t=$V;for(const r of e)t=t.insert(r.key,r);return t}function HV(e){let t=$V;return e.forEach(((r,n)=>t=t.insert(r,n.overlayedDocument))),t}function $u(){return kp()}function GV(){return kp()}function kp(){return new Of((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Kxe=new nn(_t.comparator),Wxe=new Zn(_t.comparator);function Xt(...e){let t=Wxe;for(const r of e)t=t.add(r);return t}const Yxe=new Zn(Jt);function Jxe(){return Yxe}function IC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vx(t)?"-0":t}}function qV(e){return{integerValue:""+e}}function Xxe(e,t){return bxe(t)?qV(t):IC(e,t)}class Y1{constructor(){this._=void 0}}function Zxe(e,t,r){return e instanceof wx?(function(i,a){const s={fields:{[kV]:{stringValue:NV},[PV]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&SC(a)&&(a=G1(a)),a&&(s.fields[IV]=a),{mapValue:s}})(r,t):e instanceof am?WV(e,t):e instanceof sm?YV(e,t):(function(i,a){const s=KV(i,a),o=T3(s)+T3(i.Ae);return tA(s)&&tA(i.Ae)?qV(o):IC(i.serializer,o)})(e,t)}function Qxe(e,t,r){return e instanceof am?WV(e,t):e instanceof sm?YV(e,t):r}function KV(e,t){return e instanceof Ex?(function(n){return tA(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(t)?t:{integerValue:0}:null}class wx extends Y1{}class am extends Y1{constructor(t){super(),this.elements=t}}function WV(e,t){const r=JV(t);for(const n of e.elements)r.some((i=>Lo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class sm extends Y1{constructor(t){super(),this.elements=t}}function YV(e,t){let r=JV(t);for(const n of e.elements)r=r.filter((i=>!Lo(i,n)));return{arrayValue:{values:r}}}class Ex extends Y1{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function T3(e){return An(e.integerValue||e.doubleValue)}function JV(e){return AC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function e1e(e,t){return e.field.isEqual(t.field)&&(function(n,i){return n instanceof am&&i instanceof am||n instanceof sm&&i instanceof sm?lh(n.elements,i.elements,Lo):n instanceof Ex&&i instanceof Ex?Lo(n.Ae,i.Ae):n instanceof wx&&i instanceof wx})(e.transform,t.transform)}class t1e{constructor(t,r){this.version=t,this.transformResults=r}}class bl{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new bl}static exists(t){return new bl(void 0,t)}static updateTime(t){return new bl(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wy(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class J1{}function XV(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new QV(e.key,bl.none()):new Mm(e.key,e.data,bl.none());{const r=e.data,n=_s.empty();let i=new Zn(Ii.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Mf(e.key,n,new Zs(i.toArray()),bl.none())}}function r1e(e,t,r){e instanceof Mm?(function(i,a,s){const o=i.value.clone(),c=A3(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(e,t,r):e instanceof Mf?(function(i,a,s){if(!wy(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=A3(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(ZV(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(e,t,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,r)}function Ip(e,t,r,n){return e instanceof Mm?(function(a,s,o,c){if(!wy(a.precondition,s))return o;const u=a.value.clone(),d=C3(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(e,t,r,n):e instanceof Mf?(function(a,s,o,c){if(!wy(a.precondition,s))return o;const u=C3(a.fieldTransforms,c,s),d=s.data;return d.setAll(ZV(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(e,t,r,n):(function(a,s,o){return wy(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o})(e,t,r)}function n1e(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=KV(n.transform,i||null);a!=null&&(r===null&&(r=_s.empty()),r.set(n.field,a))}return r||null}function S3(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&lh(n,i,((a,s)=>e1e(a,s)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Mm extends J1{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mf extends J1{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZV(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function A3(e,t,r){const n=new Map;br(e.length===r.length,32656,{Ve:r.length,de:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,Qxe(s,o,r[i]))}return n}function C3(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Zxe(a,s,t))}return n}class QV extends J1{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i1e extends J1{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class a1e{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&r1e(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Ip(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Ip(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=GV();return this.mutations.forEach((i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=XV(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(It.min())})),n}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Xt())}isEqual(t){return this.batchId===t.batchId&&lh(this.mutations,t.mutations,((r,n)=>S3(r,n)))&&lh(this.baseMutations,t.baseMutations,((r,n)=>S3(r,n)))}}class PC{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){br(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=(function(){return Kxe})();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new PC(t,r,n,i)}}class s1e{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class o1e{constructor(t,r){this.count=t,this.unchangedNames=r}}var Fn,nr;function l1e(e){switch(e){case Ge.OK:return St(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return St(15467,{code:e})}}function ez(e){if(e===void 0)return Nl("GRPC error has no .code"),Ge.UNKNOWN;switch(e){case Fn.OK:return Ge.OK;case Fn.CANCELLED:return Ge.CANCELLED;case Fn.UNKNOWN:return Ge.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return Ge.INTERNAL;case Fn.UNAVAILABLE:return Ge.UNAVAILABLE;case Fn.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Fn.NOT_FOUND:return Ge.NOT_FOUND;case Fn.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Fn.ABORTED:return Ge.ABORTED;case Fn.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Fn.DATA_LOSS:return Ge.DATA_LOSS;default:return St(39323,{code:e})}}(nr=Fn||(Fn={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS";function c1e(){return new TextEncoder}const u1e=new Uc([4294967295,4294967295],0);function N3(e){const t=c1e().encode(e),r=new vV;return r.update(t),new Uint8Array(r.digest())}function k3(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Uc([r,n],0),new Uc([i,a],0)]}class RC{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new cp(`Invalid padding: ${r}`);if(n<0)throw new cp(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new cp(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new cp(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Uc.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(Uc.fromNumber(n)));return i.compare(u1e)===1&&(i=new Uc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=N3(t),[n,i]=k3(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new RC(a,i,r);return n.forEach((o=>s.insert(o))),s}insert(t){if(this.ge===0)return;const r=N3(t),[n,i]=k3(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.be(s)}}be(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class cp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class X1{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Dm.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new X1(It.min(),i,new nn(Jt),kl(),Xt())}}class Dm{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Dm(n,r,Xt(),Xt(),Xt())}}class Ey{constructor(t,r,n,i){this.Se=t,this.removedTargetIds=r,this.key=n,this.De=i}}class tz{constructor(t,r){this.targetId=t,this.Ce=r}}class rz{constructor(t,r,n=Mi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class I3{constructor(){this.ve=0,this.Fe=P3(),this.Me=Mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Xt(),r=Xt(),n=Xt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:St(38017,{changeType:a})}})),new Dm(this.Me,this.xe,t,r,n)}Ke(){this.Oe=!1,this.Fe=P3()}qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,br(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class f1e{constructor(t){this.Ge=t,this.ze=new Map,this.je=kl(),this.He=$v(),this.Je=$v(),this.Ze=new nn(Jt)}Xe(t){for(const r of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(t.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(nA(a))if(n===0){const s=new _t(a.path);this.et(r,s,Bi.newNoDocument(s,It.min()))}else br(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),c=o?this.ct(o,t,s):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Wc(n).toUint8Array()}catch(c){if(c instanceof CV)return oh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new RC(s,i,a)}catch(c){return oh(c instanceof cp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)})),i}Tt(t){const r=new Map;this.ze.forEach(((a,s)=>{const o=this.ot(s);if(o){if(a.current&&nA(o.target)){const c=new _t(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Bi.newNoDocument(c,t))}a.Be&&(r.set(s,a.ke()),a.Ke())}}));let n=Xt();this.Je.forEach(((a,s)=>{let o=!0;s.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(t)));const i=new X1(t,r,this.Ze,this.je,n);return this.je=kl(),this.He=$v(),this.Je=$v(),this.Ze=new nn(Jt),i}Ye(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(t)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.qe(r,1):i.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(t)),this.Je=this.Je.insert(r,this.Rt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let r=this.ze.get(t);return r||(r=new I3,this.ze.set(t,r)),r}Rt(t){let r=this.Je.get(t);return r||(r=new Zn(Jt),this.Je=this.Je.insert(t,r)),r}It(t){let r=this.He.get(t);return r||(r=new Zn(Jt),this.He=this.He.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||ot("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new I3),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function $v(){return new nn(_t.comparator)}function P3(){return new nn(_t.comparator)}const d1e={asc:"ASCENDING",desc:"DESCENDING"},h1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p1e={and:"AND",or:"OR"};class m1e{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function aA(e,t){return e.useProto3Json||H1(t)?t:{value:t}}function Tx(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nz(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function g1e(e,t){return Tx(e,t.toTimestamp())}function Ro(e){return br(!!e,49232),It.fromTimestamp((function(r){const n=Kc(r);return new Yr(n.seconds,n.nanos)})(e))}function OC(e,t){return sA(e,t).canonicalString()}function sA(e,t){const r=(function(i){return new rn(["projects",i.projectId,"databases",i.database])})(e).child("documents");return t===void 0?r:r.child(t)}function iz(e){const t=rn.fromString(e);return br(cz(t),10190,{key:t.toString()}),t}function oA(e,t){return OC(e.databaseId,t.path)}function mE(e,t){const r=iz(t);if(r.get(1)!==e.databaseId.projectId)throw new pt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new pt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new _t(sz(r))}function az(e,t){return OC(e.databaseId,t)}function v1e(e){const t=iz(e);return t.length===4?rn.emptyPath():sz(t)}function lA(e){return new rn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sz(e){return br(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function R3(e,t,r){return{name:oA(e,t),fields:r.value.mapValue.fields}}function y1e(e,t){let r;if("targetChange"in t){t.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:St(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=(function(u,d){return u.useProto3Json?(br(d===void 0||typeof d=="string",58123),Mi.fromBase64String(d||"")):(br(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mi.fromUint8Array(d||new Uint8Array))})(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&(function(u){const d=u.code===void 0?Ge.UNKNOWN:ez(u.code);return new pt(d,u.message||"")})(s);r=new rz(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=mE(e,n.document.name),a=Ro(n.document.updateTime),s=n.document.createTime?Ro(n.document.createTime):It.min(),o=new _s({mapValue:{fields:n.document.fields}}),c=Bi.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Ey(u,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=mE(e,n.document),a=n.readTime?Ro(n.readTime):It.min(),s=Bi.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Ey([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=mE(e,n.document),a=n.removedTargetIds||[];r=new Ey([],a,i,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new o1e(i,a),o=n.targetId;r=new tz(o,s)}}return r}function x1e(e,t){let r;if(t instanceof Mm)r={update:R3(e,t.key,t.value)};else if(t instanceof QV)r={delete:oA(e,t.key)};else if(t instanceof Mf)r={update:R3(e,t.key,t.data),updateMask:N1e(t.fieldMask)};else{if(!(t instanceof i1e))return St(16599,{dt:t.type});r={verify:oA(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((n=>(function(a,s){const o=s.transform;if(o instanceof wx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof am)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof sm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ex)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw St(20930,{transform:s.transform})})(0,n)))),t.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:g1e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:St(27497)})(e,t.precondition)),r}function _1e(e,t){return e&&e.length>0?(br(t!==void 0,14353),e.map((r=>(function(i,a){let s=i.updateTime?Ro(i.updateTime):Ro(a);return s.isEqual(It.min())&&(s=Ro(a)),new t1e(s,i.transformResults||[])})(r,t)))):[]}function b1e(e,t){return{documents:[az(e,t.path)]}}function w1e(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=az(e,i);const a=(function(u){if(u.length!==0)return lz(Fo.create(u,"and"))})(t.filters);a&&(r.structuredQuery.where=a);const s=(function(u){if(u.length!==0)return u.map((d=>(function(m){return{field:Pd(m.field),direction:S1e(m.dir)}})(d)))})(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=aA(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{ft:r,parent:i}}function E1e(e){let t=v1e(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){br(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let a=[];r.where&&(a=(function(p){const m=oz(p);return m instanceof Fo&&FV(m)?m.getFilters():[m]})(r.where));let s=[];r.orderBy&&(s=(function(p){return p.map((m=>(function(_){return new bx(Rd(_.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(m)))})(r.orderBy));let o=null;r.limit&&(o=(function(p){let m;return m=typeof p=="object"?p.value:p,H1(m)?null:m})(r.limit));let c=null;r.startAt&&(c=(function(p){const m=!!p.before,y=p.values||[];return new _x(y,m)})(r.startAt));let u=null;return r.endAt&&(u=(function(p){const m=!p.before,y=p.values||[];return new _x(y,m)})(r.endAt)),Bxe(t,i,s,a,o,"F",c,u)}function T1e(e,t){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function oz(e){return e.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Rd(r.unaryFilter.field);return Yn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Rd(r.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Rd(r.unaryFilter.field);return Yn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Rd(r.unaryFilter.field);return Yn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(e):e.fieldFilter!==void 0?(function(r){return Yn.create(Rd(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(r){return Fo.create(r.compositeFilter.filters.map((n=>oz(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(r.compositeFilter.op))})(e):St(30097,{filter:e})}function S1e(e){return d1e[e]}function A1e(e){return h1e[e]}function C1e(e){return p1e[e]}function Pd(e){return{fieldPath:e.canonicalString()}}function Rd(e){return Ii.fromServerFormat(e.fieldPath)}function lz(e){return e instanceof Yn?(function(r){if(r.op==="=="){if(x3(r.value))return{unaryFilter:{field:Pd(r.field),op:"IS_NAN"}};if(y3(r.value))return{unaryFilter:{field:Pd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(x3(r.value))return{unaryFilter:{field:Pd(r.field),op:"IS_NOT_NAN"}};if(y3(r.value))return{unaryFilter:{field:Pd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pd(r.field),op:A1e(r.op),value:r.value}}})(e):e instanceof Fo?(function(r){const n=r.getFilters().map((i=>lz(i)));return n.length===1?n[0]:{compositeFilter:{op:C1e(r.op),filters:n}}})(e):St(54877,{filter:e})}function N1e(e){const t=[];return e.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function cz(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function uz(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Rc{constructor(t,r,n,i,a=It.min(),s=It.min(),o=Mi.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(t){return new Rc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class k1e{constructor(t){this.yt=t}}function I1e(e){const t=E1e({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?iA(t,t.limit,"L"):t}class P1e{constructor(){this.Sn=new R1e}addToCollectionParentIndex(t,r){return this.Sn.add(r),ze.resolve()}getCollectionParents(t,r){return ze.resolve(this.Sn.getEntries(r))}addFieldIndex(t,r){return ze.resolve()}deleteFieldIndex(t,r){return ze.resolve()}deleteAllFieldIndexes(t){return ze.resolve()}createTargetIndexes(t,r){return ze.resolve()}getDocumentsMatchingTarget(t,r){return ze.resolve(null)}getIndexType(t,r){return ze.resolve(0)}getFieldIndexes(t,r){return ze.resolve([])}getNextCollectionGroupToUpdate(t){return ze.resolve(null)}getMinOffset(t,r){return ze.resolve(qc.min())}getMinOffsetFromCollectionGroup(t,r){return ze.resolve(qc.min())}updateCollectionGroup(t,r,n){return ze.resolve()}updateIndexEntries(t,r){return ze.resolve()}}class R1e{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Zn(rn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Zn(rn.comparator)).toArray()}}const O3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fz=41943040;class Ta{static withCacheSize(t){return new Ta(t,Ta.DEFAULT_COLLECTION_PERCENTILE,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}Ta.DEFAULT_COLLECTION_PERCENTILE=10,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ta.DEFAULT=new Ta(fz,Ta.DEFAULT_COLLECTION_PERCENTILE,Ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ta.DISABLED=new Ta(-1,0,0);class fh{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new fh(0)}static ar(){return new fh(-1)}}const M3="LruGarbageCollector",dz=1048576;function D3([e,t],[r,n]){const i=Jt(e,r);return i===0?Jt(t,n):i}class O1e{constructor(t){this.Pr=t,this.buffer=new Zn(D3),this.Tr=0}Ir(){return++this.Tr}Er(t){const r=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();D3(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class M1e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(M3,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ph(r)?ot(M3,"Ignoring IndexedDB error during garbage collection: ",r):await Ih(r)}await this.Ar(3e5)}))}}class D1e{constructor(t,r){this.Vr=t,this.params=r}calculateTargetCount(t,r){return this.Vr.dr(t).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(t,r){if(r===0)return ze.resolve($1.ce);const n=new O1e(r);return this.Vr.forEachTarget(t,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.mr(t,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(t,r,n){return this.Vr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Vr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(O3)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O3):this.gr(t,r)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(t,i)))).next((p=>(n=p,o=Date.now(),this.removeTargets(t,n,r)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((p=>(u=Date.now(),kd()<=ir.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function L1e(e,t){return new D1e(e,t)}class F1e{constructor(){this.changes=new Of((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Bi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ze.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class j1e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class U1e{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,r)))).next((i=>(n!==null&&Ip(n.mutation,i,Zs.empty(),Yr.now()),i)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.getLocalViewOfDocuments(t,n,Xt()).next((()=>n))))}getLocalViewOfDocuments(t,r,n=Xt()){const i=$u();return this.populateOverlays(t,i,r).next((()=>this.computeViews(t,r,i,n).next((a=>{let s=lp();return a.forEach(((o,c)=>{s=s.insert(o,c.overlayedDocument)})),s}))))}getOverlayedDocuments(t,r){const n=$u();return this.populateOverlays(t,n,r).next((()=>this.computeViews(t,r,n,Xt())))}populateOverlays(t,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(t,i).next((a=>{a.forEach(((s,o)=>{r.set(s,o)}))}))}computeViews(t,r,n,i){let a=kl();const s=kp(),o=(function(){return kp()})();return r.forEach(((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Mf)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Ip(d.mutation,u,d.mutation.getFieldMask(),Yr.now())):s.set(u.key,Zs.empty())})),this.recalculateAndSaveOverlays(t,a).next((c=>(c.forEach(((u,d)=>s.set(u,d))),r.forEach(((u,d)=>o.set(u,new j1e(d,s.get(u)??null)))),o)))}recalculateAndSaveOverlays(t,r){const n=kp();let i=new nn(((s,o)=>s-o)),a=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((s=>{for(const o of s)o.keys().forEach((c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||Zs.empty();d=o.applyToLocalView(u,d),n.set(c,d);const p=(i.get(o.batchId)||Xt()).add(c);i=i.insert(o.batchId,p)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,p=GV();d.forEach((m=>{if(!a.has(m)){const y=XV(r.get(m),n.get(m));y!==null&&p.set(m,y),a=a.add(m)}})),s.push(this.documentOverlayCache.saveOverlays(t,u,p))}return ze.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,r,n,i){return Vxe(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):zxe(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):ze.resolve($u());let o=tm,c=a;return s.next((u=>ze.forEach(u,((d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),a.get(d)?ze.resolve():this.remoteDocumentCache.getEntry(t,d).next((m=>{c=c.insert(d,m)}))))).next((()=>this.populateOverlays(t,u,a))).next((()=>this.computeViews(t,c,u,Xt()))).next((d=>({batchId:o,changes:HV(d)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new _t(r)).next((n=>{let i=lp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=lp();return this.indexManager.getCollectionParents(t,a).next((o=>ze.forEach(o,(c=>{const u=(function(p,m){return new q1(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next((d=>{d.forEach(((p,m)=>{s=s.insert(p,m)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i)))).next((s=>{a.forEach(((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Bi.newInvalidDocument(d)))}));let o=lp();return s.forEach(((c,u)=>{const d=a.get(c);d!==void 0&&Ip(d.mutation,u,Zs.empty(),Yr.now()),W1(r,u)&&(o=o.insert(c,u))})),o}))}}class B1e{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,r){return ze.resolve(this.Nr.get(r))}saveBundleMetadata(t,r){return this.Nr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Ro(i.createTime)}})(r)),ze.resolve()}getNamedQuery(t,r){return ze.resolve(this.Br.get(r))}saveNamedQuery(t,r){return this.Br.set(r.name,(function(i){return{name:i.name,query:I1e(i.bundledQuery),readTime:Ro(i.readTime)}})(r)),ze.resolve()}}class V1e{constructor(){this.overlays=new nn(_t.comparator),this.Lr=new Map}getOverlay(t,r){return ze.resolve(this.overlays.get(r))}getOverlays(t,r){const n=$u();return ze.forEach(r,(i=>this.getOverlay(t,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(t,r,n){return n.forEach(((i,a)=>{this.bt(t,r,a)})),ze.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Lr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(n)),ze.resolve()}getOverlaysForCollection(t,r,n){const i=$u(),a=r.length+1,s=new _t(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return ze.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new nn(((u,d)=>u-d));const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=$u(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=$u(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,d)=>o.set(u,d))),!(o.size()>=i)););return ze.resolve(o)}bt(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new s1e(r,n));let a=this.Lr.get(r);a===void 0&&(a=Xt(),this.Lr.set(r,a)),this.Lr.set(r,a.add(n.key))}}class z1e{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(t){return ze.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,ze.resolve()}}class MC{constructor(){this.kr=new Zn(oi.Kr),this.qr=new Zn(oi.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,r){const n=new oi(t,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(t,r){t.forEach((n=>this.addReference(n,r)))}removeReference(t,r){this.Wr(new oi(t,r))}Qr(t,r){t.forEach((n=>this.removeReference(n,r)))}Gr(t){const r=new _t(new rn([])),n=new oi(r,t),i=new oi(r,t+1),a=[];return this.qr.forEachInRange([n,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const r=new _t(new rn([])),n=new oi(r,t),i=new oi(r,t+1);let a=Xt();return this.qr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(t){const r=new oi(t,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class oi{constructor(t,r){this.key=t,this.Hr=r}static Kr(t,r){return _t.comparator(t.key,r.key)||Jt(t.Hr,r.Hr)}static Ur(t,r){return Jt(t.Hr,r.Hr)||_t.comparator(t.key,r.key)}}class $1e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new Zn(oi.Kr)}checkEmpty(t){return ze.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new a1e(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new oi(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return ze.resolve(s)}lookupMutationBatch(t,r){return ze.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return ze.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(this.mutationQueue.length===0?TC:this.Yn-1)}getAllMutationBatches(t){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new oi(r,0),i=new oi(r,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([n,i],(s=>{const o=this.Zr(s.Hr);a.push(o)})),ze.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Zn(Jt);return r.forEach((i=>{const a=new oi(i,0),s=new oi(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(o=>{n=n.add(o.Hr)}))})),ze.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;_t.isDocumentKey(a)||(a=a.child(""));const s=new oi(new _t(a),0);let o=new Zn(Jt);return this.Jr.forEachWhile((c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Hr)),!0)}),s),ze.resolve(this.Yr(o))}Yr(t){const r=[];return t.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(t,r){br(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return ze.forEach(r.mutations,(i=>{const a=new oi(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Jr=n}))}nr(t){}containsKey(t,r){const n=new oi(r,0),i=this.Jr.firstAfterOrEqual(n);return ze.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ze.resolve()}ei(t,r){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const r=this.Xr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class H1e{constructor(t){this.ti=t,this.docs=(function(){return new nn(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return ze.resolve(n?n.document.mutableCopy():Bi.newInvalidDocument(r))}getEntries(t,r){let n=kl();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Bi.newInvalidDocument(i))})),ze.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=kl();const s=r.path,o=new _t(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||vxe(gxe(d),n)<=0||(i.has(d.key)||W1(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return ze.resolve(a)}getAllFromCollectionGroup(t,r,n,i){St(9500)}ni(t,r){return ze.forEach(this.docs,(n=>r(n)))}newChangeBuffer(t){return new G1e(this)}getSize(t){return ze.resolve(this.size)}}class G1e extends F1e{constructor(t){super(),this.Mr=t}applyChanges(t){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(n)})),ze.waitFor(r)}getFromCache(t,r){return this.Mr.getEntry(t,r)}getAllFromCache(t,r){return this.Mr.getEntries(t,r)}}class q1e{constructor(t){this.persistence=t,this.ri=new Of((r=>CC(r)),NC),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.ii=0,this.si=new MC,this.targetCount=0,this.oi=fh._r()}forEachTarget(t,r){return this.ri.forEach(((n,i)=>r(i))),ze.resolve()}getLastRemoteSnapshotVersion(t){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ze.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),ze.resolve()}lr(t){this.ri.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.oi=new fh(r),this.highestTargetId=r),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,r){return this.lr(r),this.targetCount+=1,ze.resolve()}updateTargetData(t,r){return this.lr(r),ze.resolve()}removeTargetData(t,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,ze.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.ri.forEach(((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),ze.waitFor(a).next((()=>i))}getTargetCount(t){return ze.resolve(this.targetCount)}getTargetData(t,r){const n=this.ri.get(r)||null;return ze.resolve(n)}addMatchingKeys(t,r,n){return this.si.$r(r,n),ze.resolve()}removeMatchingKeys(t,r,n){this.si.Qr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(t,s))})),ze.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.si.Gr(r),ze.resolve()}getMatchingKeysForTargetId(t,r){const n=this.si.jr(r);return ze.resolve(n)}containsKey(t,r){return ze.resolve(this.si.containsKey(r))}}class hz{constructor(t,r){this._i={},this.overlays={},this.ai=new $1(0),this.ui=!1,this.ui=!0,this.ci=new z1e,this.referenceDelegate=t(this),this.li=new q1e(this),this.indexManager=new P1e,this.remoteDocumentCache=(function(i){return new H1e(i)})((n=>this.referenceDelegate.hi(n))),this.serializer=new k1e(r),this.Pi=new B1e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new V1e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this._i[t.toKey()];return n||(n=new $1e(r,this.referenceDelegate),this._i[t.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,r,n){ot("MemoryPersistence","Starting transaction:",t);const i=new K1e(this.ai.next());return this.referenceDelegate.Ti(),n(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(t,r){return ze.or(Object.values(this._i).map((n=>()=>n.containsKey(t,r))))}}class K1e extends xxe{constructor(t){super(),this.currentSequenceNumber=t}}class DC{constructor(t){this.persistence=t,this.Ri=new MC,this.Ai=null}static Vi(t){return new DC(t)}get di(){if(this.Ai)return this.Ai;throw St(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),ze.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),ze.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),ze.resolve()}removeTarget(t,r){this.Ri.Gr(r.targetId).forEach((i=>this.di.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>n.removeTargetData(t,r)))}Ti(){this.Ai=new Set}Ii(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.di,(n=>{const i=_t.fromPath(n);return this.mi(t,i).next((a=>{a||r.removeEntry(i,It.min())}))})).next((()=>(this.Ai=null,r.apply(t))))}updateLimboDocument(t,r){return this.mi(t,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(t){return 0}mi(t,r){return ze.or([()=>ze.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ei(t,r)])}}class Sx{constructor(t,r){this.persistence=t,this.fi=new Of((n=>wxe(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=L1e(this,r)}static Vi(t,r){return new Sx(t,r)}Ti(){}Ii(t){return ze.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>r.next((i=>n+i))))}pr(t){let r=0;return this.mr(t,(n=>{r++})).next((()=>r))}mr(t,r){return ze.forEach(this.fi,((n,i)=>this.wr(t,n,i).next((a=>a?ze.resolve():r(i)))))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(t,(s=>this.wr(t,s,r).next((o=>{o||(n++,a.removeEntry(s,It.min()))})))).next((()=>a.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,r){return this.fi.set(r,t.currentSequenceNumber),ze.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.fi.set(n,t.currentSequenceNumber),ze.resolve()}removeReference(t,r,n){return this.fi.set(n,t.currentSequenceNumber),ze.resolve()}updateLimboDocument(t,r){return this.fi.set(r,t.currentSequenceNumber),ze.resolve()}hi(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=_y(t.data.value)),r}wr(t,r,n){return ze.or([()=>this.persistence.Ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.fi.get(r);return ze.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class LC{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Ts=n,this.Is=i}static Es(t,r){let n=Xt(),i=Xt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new LC(t,r.fromCache,n,i)}}class W1e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Y1e{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Uve()?8:_xe(Fve())>0?6:4})()}initialize(t,r){this.fs=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.gs(t,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(t,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new W1e;return this.ys(t,r,s).next((o=>{if(a.result=o,this.As)return this.ws(t,r,s,o.size)}))})).next((()=>a.result))}ws(t,r,n,i){return n.documentReadCount<this.Vs?(kd()<=ir.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Id(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ze.resolve()):(kd()<=ir.DEBUG&&ot("QueryEngine","Query:",Id(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(kd()<=ir.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Id(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Po(r))):ze.resolve())}gs(t,r){if(E3(r))return ze.resolve(null);let n=Po(r);return this.indexManager.getIndexType(t,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=iA(r,null,"F"),n=Po(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next((a=>{const s=Xt(...a);return this.fs.getDocuments(t,s).next((o=>this.indexManager.getMinOffset(t,n).next((c=>{const u=this.bs(r,o);return this.Ss(r,u,s,c.readTime)?this.gs(t,iA(r,null,"F")):this.Ds(t,u,r,c)}))))})))))}ps(t,r,n,i){return E3(r)||i.isEqual(It.min())?ze.resolve(null):this.fs.getDocuments(t,n).next((a=>{const s=this.bs(r,a);return this.Ss(r,s,n,i)?ze.resolve(null):(kd()<=ir.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Id(r)),this.Ds(t,s,r,mxe(i,tm)).next((o=>o)))}))}bs(t,r){let n=new Zn(zV(t));return r.forEach(((i,a)=>{W1(t,a)&&(n=n.add(a))})),n}Ss(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(t,r,n){return kd()<=ir.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Id(r)),this.fs.getDocumentsMatchingQuery(t,r,qc.min(),n)}Ds(t,r,n,i){return this.fs.getDocumentsMatchingQuery(t,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const FC="LocalStore",J1e=3e8;class X1e{constructor(t,r,n,i){this.persistence=t,this.Cs=r,this.serializer=i,this.vs=new nn(Jt),this.Fs=new Of((a=>CC(a)),NC),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(n)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new U1e(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.vs)))}}function Z1e(e,t,r,n){return new X1e(e,t,r,n)}async function pz(e,t){const r=Ot(e);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Os(t),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],o=[];let c=Xt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next((u=>({Ns:u,removedBatchIds:s,addedBatchIds:o})))}))}))}function Q1e(e,t){const r=Ot(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=t.batch.keys(),a=r.xs.newChangeBuffer({trackRemovals:!0});return(function(o,c,u,d){const p=u.batch,m=p.keys();let y=ze.resolve();return m.forEach((_=>{y=y.next((()=>d.getEntry(c,_))).next((b=>{const E=u.docVersions.get(_);br(E!==null,48541),b.version.compareTo(E)<0&&(p.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))}))})),y.next((()=>o.mutationQueue.removeMutationBatch(c,p)))})(r,n,t,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let c=Xt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c})(t)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function mz(e){const t=Ot(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.li.getLastRemoteSnapshotVersion(r)))}function e_e(e,t){const r=Ot(e),n=t.snapshotVersion;let i=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;const o=[];t.targetChanges.forEach(((d,p)=>{const m=i.get(p);if(!m)return;o.push(r.li.removeMatchingKeys(a,d.removedDocuments,p).next((()=>r.li.addMatchingKeys(a,d.addedDocuments,p))));let y=m.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(Mi.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),i=i.insert(p,y),(function(b,E,A){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=J1e?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(m,y,d)&&o.push(r.li.updateTargetData(a,y))}));let c=kl(),u=Xt();if(t.documentUpdates.forEach((d=>{t.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))})),o.push(t_e(a,s,t.documentUpdates).next((d=>{c=d.Bs,u=d.Ls}))),!n.isEqual(It.min())){const d=r.li.getLastRemoteSnapshotVersion(a).next((p=>r.li.setTargetsMetadata(a,a.currentSequenceNumber,n)));o.push(d)}return ze.waitFor(o).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,u))).next((()=>c))})).then((a=>(r.vs=i,a)))}function t_e(e,t,r){let n=Xt(),i=Xt();return r.forEach((a=>n=n.add(a))),t.getEntries(e,n).next((a=>{let s=kl();return r.forEach(((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(It.min())?(t.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),s=s.insert(o,c)):ot(FC,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function r_e(e,t){const r=Ot(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=TC),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function n_e(e,t){const r=Ot(e);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.li.getTargetData(n,t).next((a=>a?(i=a,ze.resolve(i)):r.li.allocateTargetId(n).next((s=>(i=new Rc(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.vs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(t,n.targetId)),n}))}async function cA(e,t,r){const n=Ot(e),i=n.vs.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ph(s))throw s;ot(FC,`Failed to update sequence numbers for target ${t}: ${s}`)}n.vs=n.vs.remove(t),n.Fs.delete(i.target)}function L3(e,t,r){const n=Ot(e);let i=It.min(),a=Xt();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,u,d){const p=Ot(c),m=p.Fs.get(d);return m!==void 0?ze.resolve(p.vs.get(m)):p.li.getTargetData(u,d)})(n,s,Po(t)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,o.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(s,t,r?i:It.min(),r?a:Xt()))).next((o=>(i_e(n,Hxe(t),o),{documents:o,ks:a})))))}function i_e(e,t,r){let n=e.Ms.get(t)||It.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),e.Ms.set(t,n)}class F3{constructor(){this.activeTargetIds=Jxe()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class a_e{constructor(){this.vo=new F3,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,r,n){this.Fo[t]=r}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new F3,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class s_e{Mo(t){}shutdown(){}}const j3="ConnectivityMonitor";class U3{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(j3,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(j3,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Hv=null;function uA(){return Hv===null?Hv=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hv++,"0x"+Hv.toString(16)}const gE="RestConnection",o_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class l_e{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+t.host,this.Uo=`projects/${n}/databases/${i}`,this.$o=this.databaseId.database===yx?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(t,r,n,i,a){const s=uA(),o=this.Qo(t,r.toUriEncodedString());ot(gE,`Sending RPC '${t}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:u}=new URL(o),d=Rm(u);return this.zo(t,o,c,n,d).then((p=>(ot(gE,`Received RPC '${t}' ${s}: `,p),p)),(p=>{throw oh(gE,`RPC '${t}' ${s} failed with error: `,p,"url: ",o,"request:",n),p}))}jo(t,r,n,i,a,s){return this.Wo(t,r,n,i,a)}Go(t,r,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>t[a]=i)),n&&n.headers.forEach(((i,a)=>t[a]=i))}Qo(t,r){const n=o_e[t];let i=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class c_e{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Fi="WebChannelConnection",F0=(e,t,r)=>{e.listen(t,(n=>{try{r(n)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Jd extends l_e{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Jd.c_){const t=bV();F0(t,_V.STAT_EVENT,(r=>{r.stat===ZS.PROXY?ot(Fi,"STAT_EVENT: detected buffering proxy"):r.stat===ZS.NOPROXY&&ot(Fi,"STAT_EVENT: detected no buffering proxy")})),Jd.c_=!0}}zo(t,r,n,i,a){const s=uA();return new Promise(((o,c)=>{const u=new yV;u.setWithCredentials(!0),u.listenOnce(xV.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case xy.NO_ERROR:const p=u.getResponseJson();ot(Fi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(p)),o(p);break;case xy.TIMEOUT:ot(Fi,`RPC '${t}' ${s} timed out`),c(new pt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case xy.HTTP_ERROR:const m=u.getStatus();if(ot(Fi,`RPC '${t}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y?.error;if(_&&_.status&&_.message){const b=(function(A){const L=A.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(L)>=0?L:Ge.UNKNOWN})(_.status);c(new pt(b,_.message))}else c(new pt(Ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new pt(Ge.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ot(Fi,`RPC '${t}' ${s} completed.`)}}));const d=JSON.stringify(i);ot(Fi,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)}))}T_(t,r,n){const i=uA(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const u=a.join("");ot(Fi,`Creating RPC '${t}' stream ${i}: ${u}`,o);const d=s.createWebChannel(u,o);this.I_(d);let p=!1,m=!1;const y=new c_e({Ho:_=>{m?ot(Fi,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(p||(ot(Fi,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),ot(Fi,`RPC '${t}' stream ${i} sending:`,_),d.send(_))},Jo:()=>d.close()});return F0(d,op.EventType.OPEN,(()=>{m||(ot(Fi,`RPC '${t}' stream ${i} transport opened.`),y.i_())})),F0(d,op.EventType.CLOSE,(()=>{m||(m=!0,ot(Fi,`RPC '${t}' stream ${i} transport closed`),y.o_(),this.E_(d))})),F0(d,op.EventType.ERROR,(_=>{m||(m=!0,oh(Fi,`RPC '${t}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),y.o_(new pt(Ge.UNAVAILABLE,"The operation could not be completed")))})),F0(d,op.EventType.MESSAGE,(_=>{if(!m){const b=_.data[0];br(!!b,16349);const E=b,A=E?.error||E[0]?.error;if(A){ot(Fi,`RPC '${t}' stream ${i} received error:`,A);const L=A.status;let I=(function(M){const N=Fn[M];if(N!==void 0)return ez(N)})(L),O=A.message;L==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&oh(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),I===void 0&&(I=Ge.INTERNAL,O="Unknown error status: "+L+" with message "+A.message),m=!0,y.o_(new pt(I,O)),d.close()}else ot(Fi,`RPC '${t}' stream ${i} received:`,b),y.__(b)}})),Jd.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((r=>r===t))}Go(t,r,n){super.Go(t,r,n),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wV()}}function u_e(e){return new Jd(e)}function vE(){return typeof document<"u"?document:null}function Z1(e){return new m1e(e,!0)}Jd.c_=!1;class gz{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Ci=t,this.timerId=r,this.R_=n,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const B3="PersistentStream";class vz{constructor(t,r,n,i,a,s,o,c){this.Ci=t,this.b_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gz(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Ge.RESOURCE_EXHAUSTED?(Nl(r.toString()),Nl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(r)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{t((()=>{const i=new pt(Ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(t,r){const n=this.Q_(this.D_);this.stream=this.j_(t,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(B3,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return r=>{this.Ci.enqueueAndForget((()=>this.D_===t?r():(ot(B3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f_e extends vz{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=y1e(this.serializer,t),n=(function(a){if(!("targetChange"in a))return It.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?It.min():s.readTime?Ro(s.readTime):It.min()})(t);return this.listener.J_(r,n)}Z_(t){const r={};r.database=lA(this.serializer),r.addTarget=(function(a,s){let o;const c=s.target;if(o=nA(c)?{documents:b1e(a,c)}:{query:w1e(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=nz(a,s.resumeToken);const u=aA(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(It.min())>0){o.readTime=Tx(a,s.snapshotVersion.toTimestamp());const u=aA(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,t);const n=T1e(this.serializer,t);n&&(r.labels=n),this.K_(r)}X_(t){const r={};r.database=lA(this.serializer),r.removeTarget=t,this.K_(r)}}class d_e extends vz{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}H_(t){return br(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,br(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){br(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=_1e(t.writeResults,t.commitTime),n=Ro(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=lA(this.serializer),this.K_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((n=>x1e(this.serializer,n)))};this.K_(r)}}class h_e{}class p_e extends h_e{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new pt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(t,sA(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pt(Ge.UNKNOWN,a.toString())}))}jo(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.jo(t,sA(r,n),i,s,o,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pt(Ge.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function m_e(e,t,r,n){return new p_e(e,t,r,n)}class g_e{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nl(r),this.aa=!1):ot("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ff="RemoteStore";class v_e{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{n.enqueueAndForget((async()=>{Df(this)&&(ot(ff,"Restarting streams for network reachability change."),await(async function(c){const u=Ot(c);u.Ea.add(4),await Lm(u),u.Va.set("Unknown"),u.Ea.delete(4),await Q1(u)})(this))}))})),this.Va=new g_e(n,i)}}async function Q1(e){if(Df(e))for(const t of e.Ra)await t(!0)}async function Lm(e){for(const t of e.Ra)await t(!1)}function yz(e,t){const r=Ot(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),VC(r)?BC(r):Rh(r).O_()&&UC(r,t))}function jC(e,t){const r=Ot(e),n=Rh(r);r.Ia.delete(t),n.O_()&&xz(r,t),r.Ia.size===0&&(n.O_()?n.L_():Df(r)&&r.Va.set("Unknown"))}function UC(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Rh(e).Z_(t)}function xz(e,t){e.da.$e(t),Rh(e).X_(t)}function BC(e){e.da=new f1e({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Rh(e).start(),e.Va.ua()}function VC(e){return Df(e)&&!Rh(e).x_()&&e.Ia.size>0}function Df(e){return Ot(e).Ea.size===0}function _z(e){e.da=void 0}async function y_e(e){e.Va.set("Online")}async function x_e(e){e.Ia.forEach(((t,r)=>{UC(e,t)}))}async function __e(e,t){_z(e),VC(e)?(e.Va.ha(t),BC(e)):e.Va.set("Unknown")}async function b_e(e,t,r){if(e.Va.set("Online"),t instanceof rz&&t.state===2&&t.cause)try{await(async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))})(e,t)}catch(n){ot(ff,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ax(e,n)}else if(t instanceof Ey?e.da.Xe(t):t instanceof tz?e.da.st(t):e.da.tt(t),!r.isEqual(It.min()))try{const n=await mz(e.localStore);r.compareTo(n)>=0&&await(function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,s))}})),o.targetMismatches.forEach(((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Mi.EMPTY_BYTE_STRING,d.snapshotVersion)),xz(a,c);const p=new Rc(d.target,c,u,d.sequenceNumber);UC(a,p)})),a.remoteSyncer.applyRemoteEvent(o)})(e,r)}catch(n){ot(ff,"Failed to raise snapshot:",n),await Ax(e,n)}}async function Ax(e,t,r){if(!Ph(t))throw t;e.Ea.add(1),await Lm(e),e.Va.set("Offline"),r||(r=()=>mz(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ot(ff,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await Q1(e)}))}function bz(e,t){return t().catch((r=>Ax(e,r,t)))}async function e_(e){const t=Ot(e),r=Jc(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:TC;for(;w_e(t);)try{const i=await r_e(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,E_e(t,i)}catch(i){await Ax(t,i)}wz(t)&&Ez(t)}function w_e(e){return Df(e)&&e.Ta.length<10}function E_e(e,t){e.Ta.push(t);const r=Jc(e);r.O_()&&r.Y_&&r.ea(t.mutations)}function wz(e){return Df(e)&&!Jc(e).x_()&&e.Ta.length>0}function Ez(e){Jc(e).start()}async function T_e(e){Jc(e).ra()}async function S_e(e){const t=Jc(e);for(const r of e.Ta)t.ea(r.mutations)}async function A_e(e,t,r){const n=e.Ta.shift(),i=PC.from(n,t,r);await bz(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await e_(e)}async function C_e(e,t){t&&Jc(e).Y_&&await(async function(n,i){if((function(s){return l1e(s)&&s!==Ge.ABORTED})(i.code)){const a=n.Ta.shift();Jc(n).B_(),await bz(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await e_(n)}})(e,t),wz(e)&&Ez(e)}async function V3(e,t){const r=Ot(e);r.asyncQueue.verifyOperationInProgress(),ot(ff,"RemoteStore received new credentials");const n=Df(r);r.Ea.add(3),await Lm(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await Q1(r)}async function N_e(e,t){const r=Ot(e);t?(r.Ea.delete(2),await Q1(r)):t||(r.Ea.add(2),await Lm(r),r.Va.set("Unknown"))}function Rh(e){return e.ma||(e.ma=(function(r,n,i){const a=Ot(r);return a.sa(),new f_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Zo:y_e.bind(null,e),Yo:x_e.bind(null,e),t_:__e.bind(null,e),J_:b_e.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),VC(e)?BC(e):e.Va.set("Unknown")):(await e.ma.stop(),_z(e))}))),e.ma}function Jc(e){return e.fa||(e.fa=(function(r,n,i){const a=Ot(r);return a.sa(),new d_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:T_e.bind(null,e),t_:C_e.bind(null,e),ta:S_e.bind(null,e),na:A_e.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await e_(e)):(await e.fa.stop(),e.Ta.length>0&&(ot(ff,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class zC{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Bc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new zC(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(Ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $C(e,t){if(Nl("AsyncQueue",`${t}: ${e}`),Ph(e))return new pt(Ge.UNAVAILABLE,`${t}: ${e}`);throw e}class Xd{static emptySet(t){return new Xd(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||_t.comparator(r.key,n.key):(r,n)=>_t.comparator(r.key,n.key),this.keyedMap=lp(),this.sortedSet=new nn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,n)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Xd)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Xd;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}class z3{constructor(){this.ga=new nn(_t.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):St(63341,{Vt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,n)=>{t.push(n)})),t}}class dh{constructor(t,r,n,i,a,s,o,c,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach((o=>{s.push({type:0,doc:o})})),new dh(t,r,Xd.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&K1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}class k_e{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class I_e{constructor(){this.queries=$3(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ot(r),a=i.queries;i.queries=$3(),a.forEach(((s,o)=>{for(const c of o.ba)c.onError(n)}))})(this,new pt(Ge.ABORTED,"Firestore shutting down"))}}function $3(){return new Of((e=>VV(e)),K1)}async function P_e(e,t){const r=Ot(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.Sa()&&t.Da()&&(n=2):(a=new k_e,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=$C(s,`Initialization of query '${Id(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.ba.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&HC(r)}async function R_e(e,t){const r=Ot(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.ba.indexOf(t);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function O_e(e,t){const r=Ot(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(n=!0);s.wa=i}}n&&HC(r)}function M_e(e,t,r){const n=Ot(e),i=n.queries.get(t);if(i)for(const a of i.ba)a.onError(r);n.queries.delete(t)}function HC(e){e.Ca.forEach((t=>{t.next()}))}var fA,H3;(H3=fA||(fA={})).Ma="default",H3.Cache="cache";class D_e{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new dh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=dh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fA.Cache}}class Tz{constructor(t){this.key=t}}class Sz{constructor(t){this.key=t}}class L_e{constructor(t,r){this.query=t,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xt(),this.mutatedKeys=Xt(),this.eu=zV(t),this.tu=new Xd(this.eu)}get nu(){return this.Za}ru(t,r){const n=r?r.iu:new z3,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((d,p)=>{const m=i.get(d),y=W1(this.query,p)?p:null,_=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;m&&y?m.data.isEqual(y.data)?_!==b&&(n.track({type:3,doc:y}),E=!0):this.su(m,y)||(n.track({type:2,doc:y}),E=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(o=!0)):!m&&y?(n.track({type:0,doc:y}),E=!0):m&&!y&&(n.track({type:1,doc:m}),E=!0,(c||u)&&(o=!0)),E&&(y?(s=s.add(y),a=b?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Ss:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort(((d,p)=>(function(y,_){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:E})}};return b(y)-b(_)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Xa;return this.Xa=c,s.length!==0||u?{snapshot:new dh(this.query,t.tu,a,s,t.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z3,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Xt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return t.forEach((n=>{this.Ya.has(n)||r.push(new Sz(n))})),this.Ya.forEach((n=>{t.has(n)||r.push(new Tz(n))})),r}cu(t){this.Za=t.ks,this.Ya=Xt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return dh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const GC="SyncEngine";class F_e{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class j_e{constructor(t){this.key=t,this.hu=!1}}class U_e{constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Of((o=>VV(o)),K1),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(_t.comparator),this.Au=new Map,this.Vu=new MC,this.du={},this.mu=new Map,this.fu=fh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B_e(e,t,r=!0){const n=Pz(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Az(n,t,r,!0),i}async function V_e(e,t){const r=Pz(e);await Az(r,t,!0,!1)}async function Az(e,t,r,n){const i=await n_e(e.localStore,Po(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await z_e(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&yz(e.remoteStore,i),o}async function z_e(e,t,r,n,i){e.pu=(p,m,y)=>(async function(b,E,A,L){let I=E.view.ru(A);I.Ss&&(I=await L3(b.localStore,E.query,!1).then((({documents:N})=>E.view.ru(N,I))));const O=L&&L.targetChanges.get(E.targetId),D=L&&L.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(I,b.isPrimaryClient,O,D);return q3(b,E.targetId,M.au),M.snapshot})(e,p,m,y);const a=await L3(e.localStore,t,!0),s=new L_e(t,a.ks),o=s.ru(a.documents),c=Dm.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,c);q3(e,r,u.au);const d=new F_e(t,r,s);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function $_e(e,t,r){const n=Ot(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!K1(s,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await cA(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&jC(n.remoteStore,i.targetId),dA(n,i.targetId)})).catch(Ih)):(dA(n,i.targetId),await cA(n.localStore,i.targetId,!0))}async function H_e(e,t){const r=Ot(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),jC(r.remoteStore,n.targetId))}async function G_e(e,t,r){const n=Z_e(e);try{const i=await(function(s,o){const c=Ot(s),u=Yr.now(),d=o.reduce(((y,_)=>y.add(_.key)),Xt());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let _=kl(),b=Xt();return c.xs.getEntries(y,d).next((E=>{_=E,_.forEach(((A,L)=>{L.isValidDocument()||(b=b.add(A))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,_))).next((E=>{p=E;const A=[];for(const L of o){const I=n1e(L,p.get(L.key).overlayedDocument);I!=null&&A.push(new Mf(L.key,I,MV(I.value.mapValue),bl.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,A,o)})).next((E=>{m=E;const A=E.applyToLocalDocumentSet(p,b);return c.documentOverlayCache.saveOverlays(y,E.batchId,A)}))})).then((()=>({batchId:m.batchId,changes:HV(p)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),(function(s,o,c){let u=s.du[s.currentUser.toKey()];u||(u=new nn(Jt)),u=u.insert(o,c),s.du[s.currentUser.toKey()]=u})(n,i.batchId,r),await Fm(n,i.changes),await e_(n.remoteStore)}catch(i){const a=$C(i,"Failed to persist write");r.reject(a)}}async function Cz(e,t){const r=Ot(e);try{const n=await e_e(r.localStore,t);t.targetChanges.forEach(((i,a)=>{const s=r.Au.get(a);s&&(br(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?br(s.hu,14607):i.removedDocuments.size>0&&(br(s.hu,42227),s.hu=!1))})),await Fm(r,n,t)}catch(n){await Ih(n)}}function G3(e,t,r){const n=Ot(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)})),(function(s,o){const c=Ot(s);c.onlineState=o;let u=!1;c.queries.forEach(((d,p)=>{for(const m of p.ba)m.va(o)&&(u=!0)})),u&&HC(c)})(n.eventManager,t),i.length&&n.Pu.J_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function q_e(e,t,r){const n=Ot(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new nn(_t.comparator);s=s.insert(a,Bi.newNoDocument(a,It.min()));const o=Xt().add(a),c=new X1(It.min(),new Map,new nn(Jt),s,o);await Cz(n,c),n.Ru=n.Ru.remove(a),n.Au.delete(t),qC(n)}else await cA(n.localStore,t,!1).then((()=>dA(n,t,r))).catch(Ih)}async function K_e(e,t){const r=Ot(e),n=t.batch.batchId;try{const i=await Q1e(r.localStore,t);kz(r,n,null),Nz(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Fm(r,i)}catch(i){await Ih(i)}}async function W_e(e,t,r){const n=Ot(e);try{const i=await(function(s,o){const c=Ot(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next((p=>(br(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>c.localDocuments.getDocuments(u,d)))}))})(n.localStore,t);kz(n,t,r),Nz(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Fm(n,i)}catch(i){await Ih(i)}}function Nz(e,t){(e.mu.get(t)||[]).forEach((r=>{r.resolve()})),e.mu.delete(t)}function kz(e,t,r){const n=Ot(e);let i=n.du[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.du[n.currentUser.toKey()]=i}}function dA(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((n=>{e.Vu.containsKey(n)||Iz(e,n)}))}function Iz(e,t){e.Eu.delete(t.path.canonicalString());const r=e.Ru.get(t);r!==null&&(jC(e.remoteStore,r),e.Ru=e.Ru.remove(t),e.Au.delete(r),qC(e))}function q3(e,t,r){for(const n of r)n instanceof Tz?(e.Vu.addReference(n.key,t),Y_e(e,n)):n instanceof Sz?(ot(GC,"Document no longer in limbo: "+n.key),e.Vu.removeReference(n.key,t),e.Vu.containsKey(n.key)||Iz(e,n.key)):St(19791,{wu:n})}function Y_e(e,t){const r=t.key,n=r.path.canonicalString();e.Ru.get(r)||e.Eu.has(n)||(ot(GC,"New document in limbo: "+r),e.Eu.add(n),qC(e))}function qC(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new _t(rn.fromString(t)),n=e.fu.next();e.Au.set(n,new j_e(r)),e.Ru=e.Ru.insert(r,n),yz(e.remoteStore,new Rc(Po(kC(r.path)),n,"TargetPurposeLimboResolution",$1.ce))}}async function Fm(e,t,r){const n=Ot(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((o,c)=>{s.push(n.pu(c,t,r).then((u=>{if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);const d=LC.Es(c.targetId,u);a.push(d)}})))})),await Promise.all(s),n.Pu.J_(i),await(async function(c,u){const d=Ot(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>ze.forEach(u,(m=>ze.forEach(m.Ts,(y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>ze.forEach(m.Is,(y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!Ph(p))throw p;ot(FC,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=d.vs.get(m),_=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(_);d.vs=d.vs.insert(m,b)}}})(n.localStore,a))}async function J_e(e,t){const r=Ot(e);if(!r.currentUser.isEqual(t)){ot(GC,"User change. New user:",t.toKey());const n=await pz(r.localStore,t);r.currentUser=t,(function(a,s){a.mu.forEach((o=>{o.forEach((c=>{c.reject(new pt(Ge.CANCELLED,s))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Fm(r,n.Ns)}}function X_e(e,t){const r=Ot(e),n=r.Au.get(t);if(n&&n.hu)return Xt().add(n.key);{let i=Xt();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function Pz(e){const t=Ot(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cz.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=X_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=q_e.bind(null,t),t.Pu.J_=O_e.bind(null,t.eventManager),t.Pu.yu=M_e.bind(null,t.eventManager),t}function Z_e(e){const t=Ot(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K_e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=W_e.bind(null,t),t}class Cx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Z1(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return Z1e(this.persistence,new Y1e,t.initialUser,this.serializer)}Cu(t){return new hz(DC.Vi,this.serializer)}Du(t){return new a_e}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cx.provider={build:()=>new Cx};class Q_e extends Cx{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){br(this.persistence.referenceDelegate instanceof Sx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new M1e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Ta.withCacheSize(this.cacheSizeBytes):Ta.DEFAULT;return new hz((n=>Sx.Vi(n,r)),this.serializer)}}class hA{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>G3(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=J_e.bind(null,this.syncEngine),await N_e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new I_e})()}createDatastore(t){const r=Z1(t.databaseInfo.databaseId),n=u_e(t.databaseInfo);return m_e(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return(function(n,i,a,s,o){return new v_e(n,i,a,s,o)})(this.localStore,this.datastore,t.asyncQueue,(r=>G3(this.syncEngine,r,0)),(function(){return U3.v()?new U3:new s_e})())}createSyncEngine(t,r){return(function(i,a,s,o,c,u,d){const p=new U_e(i,a,s,o,c,u);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Ot(r);ot(ff,"RemoteStore shutting down."),n.Ea.add(5),await Lm(n),n.Aa.shutdown(),n.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hA.provider={build:()=>new hA};class ebe{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Nl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const Xc="FirestoreClient";class tbe{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=i,this.user=Ea.UNAUTHENTICATED,this.clientId=wC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{ot(Xc,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(ot(Xc,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=$C(r,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function yE(e,t){e.asyncQueue.verifyOperationInProgress(),ot(Xc,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async i=>{n.isEqual(i)||(await pz(t.localStore,i),n=i)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function K3(e,t){e.asyncQueue.verifyOperationInProgress();const r=await rbe(e);ot(Xc,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((n=>V3(t.remoteStore,n))),e.setAppCheckTokenChangeListener(((n,i)=>V3(t.remoteStore,i))),e._onlineComponents=t}async function rbe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ot(Xc,"Using user provided OfflineComponentProvider");try{await yE(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(i){return i.name==="FirebaseError"?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;oh("Error using user provided cache. Falling back to memory cache: "+r),await yE(e,new Cx)}}else ot(Xc,"Using default OfflineComponentProvider"),await yE(e,new Q_e(void 0));return e._offlineComponents}async function Rz(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ot(Xc,"Using user provided OnlineComponentProvider"),await K3(e,e._uninitializedComponentsProvider._online)):(ot(Xc,"Using default OnlineComponentProvider"),await K3(e,new hA))),e._onlineComponents}function nbe(e){return Rz(e).then((t=>t.syncEngine))}async function ibe(e){const t=await Rz(e),r=t.eventManager;return r.onListen=B_e.bind(null,t.syncEngine),r.onUnlisten=$_e.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=V_e.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=H_e.bind(null,t.syncEngine),r}function abe(e,t,r={}){const n=new Bc;return e.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,c,u){const d=new ebe({next:m=>{d.Nu(),s.enqueueAndForget((()=>R_e(a,p)));const y=m.docs.has(o);!y&&m.fromCache?u.reject(new pt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new pt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new D_e(kC(o.path),d,{includeMetadataChanges:!0,Ka:!0});return P_e(a,p)})(await ibe(e),e.asyncQueue,t,r,n))),n.promise}function sbe(e,t){const r=new Bc;return e.asyncQueue.enqueueAndForget((async()=>G_e(await nbe(e),t,r))),r.promise}function Oz(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const obe="ComponentProvider",W3=new Map;function lbe(e,t,r,n,i){return new Sxe(e,t,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Oz(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,n)}const cbe="firestore.googleapis.com",Y3=!0;class J3{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new pt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cbe,this.ssl=Y3}else this.host=t.host,this.ssl=t.ssl??Y3;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fz;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dz)throw new pt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pxe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Oz(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new pt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new pt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new pt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mz{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J3(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new ixe;switch(n.type){case"firstParty":return new oxe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new pt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=W3.get(r);n&&(ot(obe,"Removing Datastore"),W3.delete(r),n.terminate())})(this),Promise.resolve()}}class KC{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new KC(this.firestore,t,this._query)}}class ci{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new om(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ci(this.firestore,t,this._key)}toJSON(){return{type:ci._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Om(r,ci._jsonSchema))return new ci(t,n||null,new _t(rn.fromString(r.referencePath)))}}ci._jsonSchemaVersion="firestore/documentReference/1.0",ci._jsonSchema={type:Bn("string",ci._jsonSchemaVersion),referencePath:Bn("string")};class om extends KC{constructor(t,r,n){super(t,r,kC(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ci(this.firestore,null,new _t(t))}withConverter(t){return new om(this.firestore,t,this._path)}}function Dz(e,t,...r){if(e=Gc(e),arguments.length===1&&(t=wC.newId()),hxe("doc","path",t),e instanceof Mz){const n=rn.fromString(t,...r);return u3(n),new ci(e,null,new _t(n))}{if(!(e instanceof ci||e instanceof om))throw new pt(Ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rn.fromString(t,...r));return u3(n),new ci(e.firestore,e instanceof om?e.converter:null,new _t(n))}}const X3="AsyncQueue";class Z3{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gz(this,"async_queue_retry"),this._c=()=>{const n=vE();n&&ot(X3,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=vE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=vE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Bc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ph(t))throw t;ot(X3,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,Nl("INTERNAL UNHANDLED ERROR: ",Q3(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=zC.createAndSchedule(this,t,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&St(47125,{Pc:Q3(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function Q3(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class WC extends Mz{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new Z3,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Z3(t),this._firestoreClient=void 0,await t}}}function ube(e,t,r){r||(r=yx);const n=uV(e,"firestore");if(n.isInitialized(r)){const i=n.getImmediate({identifier:r}),a=n.getOptions(r);if(mx(a,t))return i;throw new pt(Ge.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new pt(Ge.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dz)throw new pt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Rm(t.host)&&aV(t.host),n.initialize({options:t,instanceIdentifier:r})}function Lz(e){if(e._terminated)throw new pt(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||fbe(e),e._firestoreClient}function fbe(e){const t=e._freezeSettings(),r=lbe(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new tbe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(e._componentsProvider))}class bs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bs(Mi.fromBase64String(t))}catch(r){throw new pt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new bs(Mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:bs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Om(t,bs._jsonSchema))return bs.fromBase64String(t.bytes)}}bs._jsonSchemaVersion="firestore/bytes/1.0",bs._jsonSchema={type:Bn("string",bs._jsonSchemaVersion),bytes:Bn("string")};class Fz{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new pt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class jz{constructor(t){this._methodName=t}}class Oo{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new pt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new pt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oo._jsonSchemaVersion}}static fromJSON(t){if(Om(t,Oo._jsonSchema))return new Oo(t.latitude,t.longitude)}}Oo._jsonSchemaVersion="firestore/geoPoint/1.0",Oo._jsonSchema={type:Bn("string",Oo._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};class no{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:no._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Om(t,no._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new no(t.vectorValues);throw new pt(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}no._jsonSchemaVersion="firestore/vectorValue/1.0",no._jsonSchema={type:Bn("string",no._jsonSchemaVersion),vectorValues:Bn("object")};const dbe=/^__.*__$/;class hbe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Mf(t,this.data,this.fieldMask,r,this.fieldTransforms):new Mm(t,this.data,r,this.fieldTransforms)}}function Uz(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{dataSource:e})}}class YC{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new YC({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const r=this.path?.child(t),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(t),n}childContextForFieldPath(t){const r=this.path?.child(t),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Nx(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(Uz(this.dataSource)&&dbe.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class pbe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Z1(t)}createContext(t,r,n,i=!1){return new YC({dataSource:t,methodName:r,targetDoc:n,path:Ii.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mbe(e){const t=e._freezeSettings(),r=Z1(e._databaseId);return new pbe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function gbe(e,t,r,n,i,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,r,i);$z("Data must be an object, but it was:",s,n);const o=Vz(n,s);let c,u;if(a.merge)c=new Zs(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const m=JC(t,p,r);if(!s.contains(m))throw new pt(Ge.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);xbe(d,m)||d.push(m)}c=new Zs(d),u=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,u=s.fieldTransforms;return new hbe(new _s(o),c,u)}function Bz(e,t){if(zz(e=Gc(e)))return $z("Unsupported field value:",t,e),Vz(e,t);if(e instanceof jz)return(function(n,i){if(!Uz(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const o of n){let c=Bz(o,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(e,t)}return(function(n,i){if((n=Gc(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Xxe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Yr.fromDate(n);return{timestampValue:Tx(i.serializer,a)}}if(n instanceof Yr){const a=new Yr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tx(i.serializer,a)}}if(n instanceof Oo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof bs)return{bytesValue:nz(i.serializer,n._byteString)};if(n instanceof ci){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:OC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof no)return(function(s,o){const c=s instanceof no?s.toArray():s;return{mapValue:{fields:{[RV]:{stringValue:OV},[xx]:{arrayValue:{values:c.map((d=>{if(typeof d!="number")throw o.createError("VectorValues must only contain numeric values.");return IC(o.serializer,d)}))}}}}}})(n,i);if(uz(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${EC(n)}`)})(e,t)}function Vz(e,t){const r={};return AV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rf(e,((n,i)=>{const a=Bz(i,t.childContextForField(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function zz(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Yr||e instanceof Oo||e instanceof bs||e instanceof ci||e instanceof jz||e instanceof no||uz(e))}function $z(e,t,r){if(!zz(r)||!TV(r)){const n=EC(r);throw n==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+n)}}function JC(e,t,r){if((t=Gc(t))instanceof Fz)return t._internalPath;if(typeof t=="string")return ybe(e,t);throw Nx("Field path arguments must be of type string or ",e,!1,void 0,r)}const vbe=new RegExp("[~\\*/\\[\\]]");function ybe(e,t,r){if(t.search(vbe)>=0)throw Nx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Fz(...t.split("."))._internalPath}catch{throw Nx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Nx(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new pt(Ge.INVALID_ARGUMENT,o+e+c)}function xbe(e,t){return e.some((r=>r.isEqual(t)))}class _be{convertValue(t,r="none"){switch(Yc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return An(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Wc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Rf(t,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(t){const r=t.fields?.[xx].arrayValue?.values?.map((n=>An(n.doubleValue)));return new no(r)}convertGeoPoint(t){return new Oo(An(t.latitude),An(t.longitude))}convertArray(t,r){return(t.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const n=G1(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(rm(t));default:return null}}convertTimestamp(t){const r=Kc(t);return new Yr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=rn.fromString(t);br(cz(n),9688,{name:t});const i=new nm(n.get(1),n.get(3)),a=new _t(n.popFirst(5));return i.isEqual(r)||Nl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}class bbe extends _be{constructor(t){super(),this.firestore=t}convertBytes(t){return new bs(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ci(this.firestore,null,r)}}const e6="@firebase/firestore",t6="4.11.0";class Hz{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wbe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const r=this._document.data.field(JC("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class wbe extends Hz{data(){return super.data()}}function Ebe(e,t,r){let n;return n=e?e.toFirestore(t):t,n}class up{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xu extends Hz{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ty(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(JC("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Xu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Xu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xu._jsonSchema={type:Bn("string",Xu._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class Ty extends Xu{data(t={}){return super.data(t)}}class Pp{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new up(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((n=>{t.call(r,new Ty(this._firestore,this._userDataWriter,n.key,n,new up(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new pt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((o=>{const c=new Ty(i._firestore,i._userDataWriter,o.doc.key,o.doc,new up(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>a||o.type!==3)).map((o=>{const c=new Ty(i._firestore,i._userDataWriter,o.doc.key,o.doc,new up(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:Tbe(o.type),doc:c,oldIndex:u,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pt(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Pp._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Tbe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:e})}}Pp._jsonSchemaVersion="firestore/querySnapshot/1.0",Pp._jsonSchema={type:Bn("string",Pp._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};function Sbe(e){e=gx(e,ci);const t=gx(e.firestore,WC),r=Lz(t);return abe(r,e._key).then((n=>Nbe(t,e,n)))}function Abe(e,t,r){e=gx(e,ci);const n=gx(e.firestore,WC),i=Ebe(e.converter,t),a=mbe(n);return Cbe(n,[gbe(a,"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,bl.none())])}function Cbe(e,t){const r=Lz(e);return sbe(r,t)}function Nbe(e,t,r){const n=r.docs.get(t._key),i=new bbe(e);return new Xu(e,i,t._key,n,new up(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){rxe(dV),Qp(new sh("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new WC(new axe(n.getProvider("auth-internal")),new lxe(s,n.getProvider("app-check-internal")),Axe(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),jc(e6,t6,t),jc(e6,t6,"esm2020")})();const Gz="firebasestorage.googleapis.com",qz="storageBucket",kbe=120*1e3,Ibe=600*1e3;class yn extends Pf{constructor(t,r,n=0){super(xE(t),`Firebase Storage: ${r} (${xE(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return xE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gn||(gn={}));function xE(e){return"storage/"+e}function XC(){const e="An unknown error occurred, please check the error payload for server response.";return new yn(gn.UNKNOWN,e)}function Pbe(e){return new yn(gn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Rbe(e){return new yn(gn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Obe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yn(gn.UNAUTHENTICATED,e)}function Mbe(){return new yn(gn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Dbe(e){return new yn(gn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Lbe(){return new yn(gn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fbe(){return new yn(gn.CANCELED,"User canceled the upload/download.")}function jbe(e){return new yn(gn.INVALID_URL,"Invalid URL '"+e+"'.")}function Ube(e){return new yn(gn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Bbe(){return new yn(gn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qz+"' property when initializing the app?")}function Vbe(){return new yn(gn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zbe(){return new yn(gn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $be(e){return new yn(gn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pA(e){return new yn(gn.INVALID_ARGUMENT,e)}function Kz(){return new yn(gn.APP_DELETED,"The Firebase app was deleted.")}function Hbe(e){return new yn(gn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rp(e,t){return new yn(gn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function j0(e){throw new yn(gn.INTERNAL_ERROR,"Internal error: "+e)}class Ka{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=Ka.makeFromUrl(t,r)}catch{return new Ka(t,"")}if(n.path==="")return n;throw Ube(t)}static makeFromUrl(t,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const d="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${d}/b/${i}/o${m}`,"i"),_={bucket:1,path:3},b=r===Gz?"(?:storage.googleapis.com|storage.cloud.google.com)":r,E="([^?#]*)",A=new RegExp(`^https?://${b}/${i}/${E}`,"i"),I=[{regex:o,indices:c,postModify:a},{regex:y,indices:_,postModify:u},{regex:A,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<I.length;O++){const D=I[O],M=D.regex.exec(t);if(M){const N=M[D.indices.bucket];let k=M[D.indices.path];k||(k=""),n=new Ka(N,k),D.postModify(n);break}}if(n==null)throw jbe(t);return n}}class Gbe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function qbe(e,t,r){let n=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...E){u||(u=!0,t.apply(null,E))}function p(E){i=setTimeout(()=>{i=null,e(y,c())},E)}function m(){a&&clearTimeout(a)}function y(E,...A){if(u){m();return}if(E){m(),d.call(null,E,...A);return}if(c()||s){m(),d.call(null,E,...A);return}n<64&&(n*=2);let I;o===1?(o=2,I=0):I=(n+Math.random())*1e3,p(I)}let _=!1;function b(E){_||(_=!0,m(),!u&&(i!==null?(E||(o=2),clearTimeout(i),p(0)):E||(o=1)))}return p(0),a=setTimeout(()=>{s=!0,b(!0)},r),b}function Kbe(e){e(!1)}function Wbe(e){return e!==void 0}function Ybe(e){return typeof e=="object"&&!Array.isArray(e)}function ZC(e){return typeof e=="string"||e instanceof String}function r6(e){return QC()&&e instanceof Blob}function QC(){return typeof Blob<"u"}function n6(e,t,r,n){if(n<t)throw pA(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw pA(`Invalid value for '${e}'. Expected ${r} or less.`)}function eN(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function Wz(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const i=t(n)+"="+t(e[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Zu;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Zu||(Zu={}));function Jbe(e,t){const r=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return r||i||a}class Xbe{constructor(t,r,n,i,a,s,o,c,u,d,p,m=!0,y=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,b)=>{this.resolve_=_,this.reject_=b,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new Gv(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===Zu.NO_ERROR,c=a.getStatus();if(!o||Jbe(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===Zu.ABORT;n(!1,new Gv(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new Gv(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());Wbe(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=XC();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?Kz():Fbe();s(c)}else{const c=Lbe();s(c)}};this.canceled_?r(!1,new Gv(!1,null,!0)):this.backoffId_=qbe(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Kbe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gv{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function Zbe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Qbe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ewe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function twe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function rwe(e,t,r,n,i,a,s=!0,o=!1){const c=Wz(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return ewe(d,t),Zbe(d,r),Qbe(d,a),twe(d,n),new Xbe(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}function nwe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iwe(...e){const t=nwe();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(QC())return new Blob(e);throw new yn(gn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function awe(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}function swe(e){if(typeof atob>"u")throw $be("base-64");return atob(e)}const No={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _E{constructor(t,r){this.data=t,this.contentType=r||null}}function owe(e,t){switch(e){case No.RAW:return new _E(Yz(t));case No.BASE64:case No.BASE64URL:return new _E(Jz(e,t));case No.DATA_URL:return new _E(cwe(t),uwe(t))}throw XC()}function Yz(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const a=n,s=e.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function lwe(e){let t;try{t=decodeURIComponent(e)}catch{throw Rp(No.DATA_URL,"Malformed data URL.")}return Yz(t)}function Jz(e,t){switch(e){case No.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw Rp(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case No.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw Rp(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=swe(t)}catch(i){throw i.message.includes("polyfill")?i:Rp(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class Xz{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Rp(No.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=fwe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function cwe(e){const t=new Xz(e);return t.base64?Jz(No.BASE64,t.rest):lwe(t.rest)}function uwe(e){return new Xz(e).contentType}function fwe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Cc{constructor(t,r){let n=0,i="";r6(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,r){if(r6(this.data_)){const n=this.data_,i=awe(n,t,r);return i===null?null:new Cc(i)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Cc(n,!0)}}static getBlob(...t){if(QC()){const r=t.map(n=>n instanceof Cc?n.data_:n);return new Cc(iwe.apply(null,r))}else{const r=t.map(s=>ZC(s)?owe(No.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Cc(i,!0)}}uploadData(){return this.data_}}function Zz(e){let t;try{t=JSON.parse(e)}catch{return null}return Ybe(t)?t:null}function dwe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function hwe(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function Qz(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function pwe(e,t){return t}class ra{constructor(t,r,n,i){this.server=t,this.local=r||t,this.writable=!!n,this.xform=i||pwe}}let qv=null;function mwe(e){return!ZC(e)||e.length<2?e:Qz(e)}function e7(){if(qv)return qv;const e=[];e.push(new ra("bucket")),e.push(new ra("generation")),e.push(new ra("metageneration")),e.push(new ra("name","fullPath",!0));function t(a,s){return mwe(s)}const r=new ra("name");r.xform=t,e.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new ra("size");return i.xform=n,e.push(i),e.push(new ra("timeCreated")),e.push(new ra("updated")),e.push(new ra("md5Hash",null,!0)),e.push(new ra("cacheControl",null,!0)),e.push(new ra("contentDisposition",null,!0)),e.push(new ra("contentEncoding",null,!0)),e.push(new ra("contentLanguage",null,!0)),e.push(new ra("contentType",null,!0)),e.push(new ra("metadata","customMetadata",!0)),qv=e,qv}function gwe(e,t){function r(){const n=e.bucket,i=e.fullPath,a=new Ka(n,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:r})}function vwe(e,t,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,t[s.server])}return gwe(n,e),n}function t7(e,t,r){const n=Zz(t);return n===null?null:vwe(e,n,r)}function ywe(e,t,r,n){const i=Zz(t);if(i===null||!ZC(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=e.bucket,p=e.fullPath,m="/b/"+s(d)+"/o/"+s(p),y=eN(m,r,n),_=Wz({alt:"media",token:u});return y+_})[0]}function xwe(e,t){const r={},n=t.length;for(let i=0;i<n;i++){const a=t[i];a.writable&&(r[a.server]=e[a.local])}return JSON.stringify(r)}class r7{constructor(t,r,n,i){this.url=t,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function n7(e){if(!e)throw XC()}function _we(e,t){function r(n,i){const a=t7(e,i,t);return n7(a!==null),a}return r}function bwe(e,t){function r(n,i){const a=t7(e,i,t);return n7(a!==null),ywe(a,i,e.host,e._protocol)}return r}function i7(e){function t(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Mbe():i=Obe():r.getStatus()===402?i=Rbe(e.bucket):r.getStatus()===403?i=Dbe(e.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return t}function wwe(e){const t=i7(e);function r(n,i){let a=t(n,i);return n.getStatus()===404&&(a=Pbe(e.path)),a.serverResponse=i.serverResponse,a}return r}function Ewe(e,t,r){const n=t.fullServerUrl(),i=eN(n,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new r7(i,a,bwe(e,r),s);return o.errorHandler=wwe(t),o}function Twe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Swe(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=Twe(null,t)),n}function Awe(e,t,r,n,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let I="";for(let O=0;O<2;O++)I=I+Math.random().toString().slice(2);return I}const c=o();s["Content-Type"]="multipart/related; boundary="+c;const u=Swe(t,n,i),d=xwe(u,r),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=Cc.getBlob(p,n,m);if(y===null)throw Vbe();const _={name:u.fullPath},b=eN(a,e.host,e._protocol),E="POST",A=e.maxUploadRetryTime,L=new r7(b,E,_we(e,r),A);return L.urlParams=_,L.headers=s,L.body=y.uploadData(),L.errorHandler=i7(t),L}class Cwe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zu.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zu.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zu.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,i,a){if(this.sent_)throw j0("cannot .send() more than once");if(Rm(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw j0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw j0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw j0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw j0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Nwe extends Cwe{initXhr(){this.xhr_.responseType="text"}}function a7(){return new Nwe}class df{constructor(t,r){this._service=t,r instanceof Ka?this._location=r:this._location=Ka.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new df(t,r)}get root(){const t=new Ka(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qz(this._location.path)}get storage(){return this._service}get parent(){const t=dwe(this._location.path);if(t===null)return null;const r=new Ka(this._location.bucket,t);return new df(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw Hbe(t)}}function kwe(e,t,r){e._throwIfRoot("uploadBytes");const n=Awe(e.storage,e._location,e7(),new Cc(t,!0),r);return e.storage.makeRequestWithTokens(n,a7).then(i=>({metadata:i,ref:e}))}function Iwe(e){e._throwIfRoot("getDownloadURL");const t=Ewe(e.storage,e._location,e7());return e.storage.makeRequestWithTokens(t,a7).then(r=>{if(r===null)throw zbe();return r})}function Pwe(e,t){const r=hwe(e._location.path,t),n=new Ka(e._location.bucket,r);return new df(e.storage,n)}function Rwe(e){return/^[A-Za-z]+:\/\//.test(e)}function Owe(e,t){return new df(e,t)}function s7(e,t){if(e instanceof tN){const r=e;if(r._bucket==null)throw Bbe();const n=new df(r,r._bucket);return t!=null?s7(n,t):n}else return t!==void 0?Pwe(e,t):e}function Mwe(e,t){if(t&&Rwe(t)){if(e instanceof tN)return Owe(e,t);throw pA("To use ref(service, url), the first argument must be a Storage instance.")}else return s7(e,t)}function i6(e,t){const r=t?.[qz];return r==null?null:Ka.makeFromBucketSpec(r,e)}function Dwe(e,t,r,n={}){e.host=`${t}:${r}`;const i=Rm(t);i&&(aV(`https://${e.host}/b`),Lve("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(e._overrideAuthToken=typeof a=="string"?a:Ove(a,e.app.options.projectId))}class tN{constructor(t,r,n,i,a,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=Gz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kbe,this._maxUploadRetryTime=Ibe,this._requests=new Set,i!=null?this._bucket=Ka.makeFromBucketSpec(i,this._host):this._bucket=i6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ka.makeFromBucketSpec(this._url,t):this._bucket=i6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){n6("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){n6("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(fV(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new df(this,t)}_makeRequest(t,r,n,i,a=!0){if(this._deleted)return new Gbe(Kz());{const s=rwe(t,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,i).getPromise()}}const a6="@firebase/storage",s6="0.14.0";const o7="storage";function Lwe(e,t,r){return e=Gc(e),kwe(e,t,r)}function Fwe(e){return e=Gc(e),Iwe(e)}function jwe(e,t){return e=Gc(e),Mwe(e,t)}function Uwe(e=pV(),t){e=Gc(e);const n=uV(e,o7).getImmediate({identifier:t}),i=Pve("storage");return i&&Bwe(n,...i),n}function Bwe(e,t,r,n={}){Dwe(e,t,r,n)}function Vwe(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new tN(r,n,i,t,dV)}function zwe(){Qp(new sh(o7,Vwe,"PUBLIC").setMultipleInstances(!0)),jc(a6,s6,""),jc(a6,s6,"esm2020")}zwe();const l7=()=>{const e=localStorage.getItem("firebase_config");if(e)return JSON.parse(e);const t={apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"};return console.log("[FIREBASE] Environment Config Check:"),console.log("- API Key:",t.apiKey?`FOUND (${t.apiKey.substring(0,5)}...)`:"MISSING "),console.log("- Project ID:",t.projectId?`FOUND (${t.projectId})`:"MISSING "),t},$we=e=>{localStorage.setItem("firebase_config",JSON.stringify(e))},Hwe=()=>{localStorage.removeItem("firebase_config")};let Kv,lm,Sy;const rN=async e=>{try{const t=e||l7();return t?($ye().length>0?Kv=pV():Kv=hV(t),lm=ube(Kv,{}),Sy=Uwe(Kv),!0):!1}catch(t){return console.error("Error initializing Firebase:",t),!1}},Vu=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(Vu);if(typeof e!="object")return e;const t={};for(const r in e){const n=e[r];n===void 0?t[r]=null:n!==null&&typeof n=="object"?t[r]=Vu(n):t[r]=n}return t},mA=async(e,t,r,n,i=[])=>{if(lm)try{const a={clients:Vu(e),products:Vu(t),categories:Vu(r),users:Vu(n),uploadedFiles:Vu(i),lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await Abe(Dz(lm,"rota-vendas","master-data"),a),console.log(" Data saved to cloud successfully")}catch(a){throw console.error("Error saving to cloud:",a),a}},Gwe=async()=>{if(!lm)return null;try{const e=Dz(lm,"rota-vendas","master-data"),t=await Sbe(e);return t.exists()?t.data():null}catch(e){return console.error("Error loading from cloud:",e),null}},bE=async(e,t)=>{if(!Sy&&(!await rN()||!Sy))return null;try{const r=jwe(Sy,t),n=await Lwe(r,e),i=await Fwe(n.ref);return console.log(` File uploaded to ${t}:`,i),i}catch(r){return console.error("Error uploading file to storage:",r),null}};var hh=N8(),wE,o6;function qwe(){return o6||(o6=1,wE=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}),wE}var Kwe=qwe();const gA=Ns(Kwe);function Wwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ywe(e){var t=Wwe(e,"string");return typeof t=="symbol"?t:String(t)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}function hf(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const dl={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},Jwe="https://maps.googleapis.com/maps/api/js";class cm{static async load(t,r){var n;const i=t.libraries?t.libraries.split(","):[],a=this.serializeParams(t);this.listeners.push(r),(n=window.google)!=null&&(n=n.maps)!=null&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=dl.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=a,this.initImportLibrary(t)),this.serializedApiParams&&this.serializedApiParams!==a&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const s=["maps",...i];await Promise.all(s.map(o=>google.maps.importLibrary(o)))}static serializeParams(t){return[t.v,t.key,t.language,t.region,t.authReferrerPolicy,t.solutionChannel].join("/")}static initImportLibrary(t){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let r=null;const n=()=>r||(r=new Promise((i,a)=>{var s;const o=document.createElement("script"),c=new URLSearchParams;for(const[u,d]of Object.entries(t)){const p=u.replace(/[A-Z]/g,m=>"_"+m[0].toLowerCase());c.set(p,d)}c.set("loading","async"),c.set("callback","__googleMapsCallback__"),o.async=!0,o.src=Jwe+"?"+c.toString(),o.nonce=((s=document.querySelector("script[nonce]"))==null?void 0:s.nonce)||"",o.onerror=()=>{this.loadingStatus=dl.FAILED,this.notifyLoadingStatusListeners(),a(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=dl.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=dl.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=dl.LOADING,this.notifyLoadingStatusListeners(),document.head.append(o)}),r);google.maps.importLibrary=i=>n().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const t of this.listeners)t(this.loadingStatus)}}cm.loadingStatus=dl.NOT_LOADED;cm.serializedApiParams=void 0;cm.listeners=[];const Xwe=["onLoad","apiKey","version","libraries"],Zwe=["children"],Qwe="GMP_visgl_rgmlibrary_v1_default",jm=Nr.createContext(null);function eEe(){const[e,t]=R.useState({});return{mapInstances:e,addMapInstance:(a,s="default")=>{t(o=>wl({},o,{[s]:a}))},removeMapInstance:(a="default")=>{t(s=>hf(s,[a].map(Ywe)))},clearMapInstances:()=>{t({})}}}function tEe(e){const{onLoad:t,apiKey:r,version:n,libraries:i=[]}=e,a=hf(e,Xwe),[s,o]=R.useState(cm.loadingStatus),[c,u]=R.useReducer((y,_)=>wl({},y,{[_.name]:_.value}),{}),d=R.useMemo(()=>i?.join(","),[i]),p=R.useMemo(()=>JSON.stringify(wl({apiKey:r,version:n},a)),[r,n,a]),m=R.useCallback(async y=>{var _;if(c[y])return c[y];if(!((_=google)!=null&&(_=_.maps)!=null&&_.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const b=await window.google.maps.importLibrary(y);return u({name:y,value:b}),b},[c]);return R.useEffect(()=>{(async()=>{try{const y=wl({key:r},a);n&&(y.v=n),d?.length>0&&(y.libraries=d),y.solutionChannel===void 0?y.solutionChannel=Qwe:y.solutionChannel===""&&delete y.solutionChannel,await cm.load(y,_=>o(_));for(const _ of["core","maps",...i])await m(_);t&&t()}catch(y){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",y)}})()},[r,d,p]),{status:s,loadedLibraries:c,importLibrary:m}}const rEe=e=>{const{children:t}=e,r=hf(e,Zwe),{mapInstances:n,addMapInstance:i,removeMapInstance:a,clearMapInstances:s}=eEe(),{status:o,loadedLibraries:c,importLibrary:u}=tEe(r),d=R.useMemo(()=>({mapInstances:n,addMapInstance:i,removeMapInstance:a,clearMapInstances:s,status:o,loadedLibraries:c,importLibrary:u}),[n,i,a,s,o,c,u]);return Nr.createElement(jm.Provider,{value:d},t)};function nEe(e,t){for(const r of oEe){const n=t[r],i=c7[r];R.useEffect(()=>{if(!e||!n)return;const a=google.maps.event.addListener(e,i,s=>{n(iEe(i,e,s))});return()=>a.remove()},[e,i,n])}}function iEe(e,t,r){const n={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(aEe.includes(e)){const a=n,s=t.getCenter(),o=t.getZoom(),c=t.getHeading()||0,u=t.getTilt()||0,d=t.getBounds();return(!s||!d||!Number.isFinite(o))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),a.detail={center:s?.toJSON()||{lat:0,lng:0},zoom:o||0,heading:c,tilt:u,bounds:d?.toJSON()||{north:90,east:180,south:-90,west:-180}},a}else if(sEe.includes(e)){var i;if(!r)throw new Error("[createEvent] mouse events must provide a srcEvent");const a=n;return a.domEvent=r.domEvent,a.stoppable=!0,a.stop=()=>r.stop(),a.detail={latLng:((i=r.latLng)==null?void 0:i.toJSON())||null,placeId:r.placeId},a}return n}const c7={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},aEe=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],sEe=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],oEe=Object.keys(c7);function u7(e,t){const r=R.useRef(void 0);(!r.current||!gA(t,r.current))&&(r.current=t),R.useEffect(e,r.current)}const lEe=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function cEe(e,t){const r={},n=Object.keys(t);for(const i of n)lEe.has(i)&&(r[i]=t[i]);u7(()=>{e&&e.setOptions(r)},[r])}function f7(){var e;return((e=R.useContext(jm))==null?void 0:e.status)||dl.NOT_LOADED}function uEe(e,t){const{viewport:r,viewState:n}=t,i=!!r;return R.useLayoutEffect(()=>{if(!e||!n)return;const{latitude:a,longitude:s,bearing:o,pitch:c,zoom:u}=n;e.moveCamera({center:{lat:a,lng:s},heading:o,tilt:c,zoom:u+1})},[e,n]),i}function fEe(e){return!e||typeof e!="object"||!("lat"in e&&"lng"in e)?!1:Number.isFinite(e.lat)&&Number.isFinite(e.lng)}function d7(e){return fEe(e)?e:e.toJSON()}function dEe(e,t,r){const n=r.center?d7(r.center):null;let i=null,a=null;n&&Number.isFinite(n.lat)&&Number.isFinite(n.lng)&&(i=n.lat,a=n.lng);const s=Number.isFinite(r.zoom)?r.zoom:null,o=Number.isFinite(r.heading)?r.heading:null,c=Number.isFinite(r.tilt)?r.tilt:null;R.useLayoutEffect(()=>{if(!e)return;const u={};let d=!1;i!==null&&a!==null&&(t.current.center.lat!==i||t.current.center.lng!==a)&&(u.center={lat:i,lng:a},d=!0),s!==null&&t.current.zoom!==s&&(u.zoom=s,d=!0),o!==null&&t.current.heading!==o&&(u.heading=o,d=!0),c!==null&&t.current.tilt!==c&&(u.tilt=c,d=!0),d&&e.moveCamera(u)})}const hEe=()=>{const e={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Nr.createElement("div",{style:e},Nr.createElement("h2",null,"Error: AuthFailure"),Nr.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Nr.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function pEe(){const[e,t]=R.useState(null),r=R.useCallback(n=>t(n),[t]);return[e,r]}function h7(){return f7()===dl.LOADED}function mEe(){const[,e]=R.useReducer(t=>t+1,0);return e}function gEe(e,t){const r=e.getCenter(),n=e.getZoom(),i=e.getHeading()||0,a=e.getTilt()||0,s=e.getBounds();(!r||!s||!Number.isFinite(n))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:r?.toJSON()||{lat:0,lng:0},zoom:n||0,heading:i,tilt:a})}function vEe(e){const t=mEe(),r=R.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return R.useEffect(()=>{if(!e)return;const n=google.maps.event.addListener(e,"bounds_changed",()=>{gEe(e,r),t()});return()=>n.remove()},[e,t]),r}const yEe=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],xEe=["padding"];class Ay{static has(t){return this.entries[t]&&this.entries[t].length>0}static pop(t){return this.entries[t]&&this.entries[t].pop()||null}static push(t,r){this.entries[t]||(this.entries[t]=[]),this.entries[t].push(r)}}Ay.entries={};function _Ee(e,t){const r=h7(),[n,i]=R.useState(null),[a,s]=pEe(),o=vEe(n),{id:c,defaultBounds:u,defaultCenter:d,defaultZoom:p,defaultHeading:m,defaultTilt:y,reuseMaps:_}=e,b=hf(e,yEe),E=e.zoom!==void 0||e.defaultZoom!==void 0,A=e.center!==void 0||e.defaultCenter!==void 0;!u&&(!E||!A)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!b.center&&d&&(b.center=d),!b.zoom&&Number.isFinite(p)&&(b.zoom=p),!b.heading&&Number.isFinite(m)&&(b.heading=m),!b.tilt&&Number.isFinite(y)&&(b.tilt=y);for(const I of Object.keys(b))b[I]===void 0&&delete b[I];const L=R.useRef();return R.useEffect(()=>{if(!a||!r)return;const{addMapInstance:I,removeMapInstance:O}=t,D=e.mapId,M=D||"default";let N,k;if(_&&Ay.has(M)?(k=Ay.pop(M),N=k.getDiv(),a.appendChild(N),k.setOptions(b),setTimeout(()=>k.setCenter(k.getCenter()),0)):(N=document.createElement("div"),N.style.height="100%",a.appendChild(N),k=new google.maps.Map(N,b)),i(k),I(k,c),u){const{padding:P}=u,U=hf(u,xEe);k.fitBounds(U,P)}else(!E||!A)&&k.fitBounds({east:180,west:-180,south:-90,north:90});if(L.current){const{mapId:P,cameraState:U}=L.current;P!==D&&k.setOptions(U)}return()=>{L.current={mapId:D,cameraState:o.current},N.remove(),_?Ay.push(M,k):google.maps.event.clearInstanceListeners(k),i(null),O(c)}},[a,r,c,e.mapId]),[n,s,o]}const p7=Nr.createContext(null),m7=e=>{const{children:t,id:r,className:n,style:i}=e,a=R.useContext(jm),s=f7();if(!a)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[o,c,u]=_Ee(e,a);dEe(o,u,e),nEe(o,e),cEe(o,e);const d=uEe(o,e),p=!!e.controlled;R.useEffect(()=>{if(o)return d&&o.setOptions({disableDefaultUI:!0}),(d||p)&&o.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{o.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}},[o,d,p,e.gestureHandling,e.keyboardShortcuts]);const m=e.center?d7(e.center):null;let y=null,_=null;m&&Number.isFinite(m.lat)&&Number.isFinite(m.lng)&&(y=m.lat,_=m.lng);const b=R.useMemo(()=>{var L,I,O,D,M;return{center:{lat:(L=y)!=null?L:0,lng:(I=_)!=null?I:0},zoom:(O=e.zoom)!=null?O:0,heading:(D=e.heading)!=null?D:0,tilt:(M=e.tilt)!=null?M:0}},[y,_,e.zoom,e.heading,e.tilt]);R.useLayoutEffect(()=>{if(!o||!p)return;o.moveCamera(b);const L=o.addListener("bounds_changed",()=>{o.moveCamera(b)});return()=>L.remove()},[o,p,b]);const E=R.useMemo(()=>wl({width:"100%",height:"100%",position:"relative",zIndex:d?-1:0},i),[i,d]),A=R.useMemo(()=>({map:o}),[o]);return s===dl.AUTH_FAILURE?Nr.createElement("div",{style:wl({position:"relative"},n?{}:E),className:n},Nr.createElement(hEe,null)):Nr.createElement("div",wl({ref:c,"data-testid":"map",style:n?void 0:E,className:n},r?{id:r}:{}),o?Nr.createElement(p7.Provider,{value:A},t):null)};m7.deckGLViewProps=!0;const l6=new Set;function bEe(...e){const t=JSON.stringify(e);l6.has(t)||(l6.add(t),console.error(...e))}const Oh=(e=null)=>{const t=R.useContext(jm),{map:r}=R.useContext(p7)||{};if(t===null)return bEe("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:n}=t;return e!==null?n[e]||null:r||n.default||null};function g7(e){const t=h7(),r=R.useContext(jm);return R.useEffect(()=>{!t||!r||r.importLibrary(e)},[t,r,e]),r?.loadedLibraries[e]||null}function v7(e,t,r){if(t!=null&&typeof t!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const n=e.style;if(r==null){if(t==null)return;for(const i in t)t.hasOwnProperty(i)&&c6(n,i,t[i]);return}for(const i in r)r.hasOwnProperty(i)&&(t==null||!t.hasOwnProperty(i))&&(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");if(t!=null)for(const i in t){const a=t[i];t.hasOwnProperty(i)&&r[i]!==a&&c6(n,i,a)}}function c6(e,t,r){const n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r=="number"&&r!==0&&!EEe(t)?e[t]=r+"px":t==="float"?e.cssFloat=r:e[t]=(""+r).trim()}const wEe=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function EEe(e){return wEe.has(e)}function Ud(e,t,r){R.useEffect(()=>{if(!e||!t||!r)return;const n=google.maps.event.addListener(e,t,r);return()=>n.remove()},[e,t,r])}function U0(e,t,r){R.useEffect(()=>{e&&(e[t]=r)},[e,t,r])}const TEe=Nr.createContext(null);function SEe(e){const[t,r]=R.useState(null),[n,i]=R.useState(null),a=R.useRef(null),s=Oh(),o=g7("marker"),{children:c,className:u,style:d,onClick:p,onDrag:m,onDragStart:y,onDragEnd:_,collisionBehavior:b,clickable:E,draggable:A,position:L,title:I,zIndex:O}=e,D=R.Children.count(c);return R.useEffect(()=>{if(!s||!o)return;const M=new o.AdvancedMarkerElement;M.map=s,r(M);let N=null;return D>0&&(N=document.createElement("div"),M.content=N,i(N)),()=>{var k;M.map=null,(k=N)==null||k.remove(),r(null),i(null)}},[s,o,D]),R.useEffect(()=>{!t||!t.content||(t.content.className=u||"")},[t,u]),U0(n,"className",u??""),R.useEffect(()=>{n&&(v7(n,d||null,a.current),a.current=d||null)},[n,u,d]),U0(t,"position",L),U0(t,"title",I??""),U0(t,"zIndex",O),U0(t,"collisionBehavior",b),R.useEffect(()=>{t&&(A!==void 0?t.gmpDraggable=A:m||y||_?t.gmpDraggable=!0:t.gmpDraggable=!1)},[t,A,m,_,y]),R.useEffect(()=>{t&&(E!==void 0?t.gmpClickable=E:p?t.gmpClickable=!0:t.gmpClickable=!1)},[t,E,p]),Ud(t,"click",p),Ud(t,"drag",m),Ud(t,"dragstart",y),Ud(t,"dragend",_),[t,n]}R.forwardRef((e,t)=>{const{children:r}=e,[n,i]=SEe(e),a=R.useMemo(()=>n?{marker:n}:null,[n]);return R.useImperativeHandle(t,()=>n,[n]),i?Nr.createElement(TEe.Provider,{value:a},hh.createPortal(r,i)):null});const AEe=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],CEe=e=>{const{children:t,headerContent:r,style:n,className:i,pixelOffset:a,anchor:s,shouldFocus:o,onClose:c,onCloseClick:u}=e,d=hf(e,AEe),p=g7("maps"),[m,y]=R.useState(null),_=R.useRef(null),b=R.useRef(null);R.useEffect(()=>{if(!p)return;_.current=document.createElement("div"),b.current=document.createElement("div");const L=d;a&&(L.pixelOffset=new google.maps.Size(a[0],a[1])),r&&(L.headerContent=typeof r=="string"?r:b.current);const I=new google.maps.InfoWindow(d);return I.setContent(_.current),y(I),()=>{var O,D;I.setContent(null),(O=_.current)==null||O.remove(),(D=b.current)==null||D.remove(),_.current=null,b.current=null,y(null)}},[p]);const E=R.useRef(null);R.useEffect(()=>{!m||!_.current||(v7(_.current,n||null,E.current),E.current=n||null,i!==_.current.className&&(_.current.className=i||""))},[m,i,n]),u7(()=>{if(!m)return;const L=d;a?L.pixelOffset=new google.maps.Size(a[0],a[1]):L.pixelOffset=null,r?L.headerContent=typeof r=="string"?r:b.current:L.headerContent=null,m.setOptions(d)},[d,a,r]),Ud(m,"close",c),Ud(m,"closeclick",u);const A=Oh();return R.useEffect(()=>{if(!A||!m||s===null)return;const L=!!s,I={map:A};return s&&(I.anchor=s),o!==void 0&&(I.shouldFocus=o),m.open(I),()=>{L&&m.set("anchor",null),m.close()}},[m,s,A,o]),Nr.createElement(Nr.Fragment,null,_.current&&hh.createPortal(t,_.current),b.current!==null&&hh.createPortal(r,b.current))},NEe=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function kEe(e){const[t,r]=R.useState(null),n=Oh(),{onClick:i,onDrag:a,onDragStart:s,onDragEnd:o,onMouseOver:c,onMouseOut:u}=e,d=hf(e,NEe),{position:p,draggable:m}=d;return R.useEffect(()=>{if(!n){n===void 0&&console.error("<Marker> has to be inside a Map component.");return}const y=new google.maps.Marker(d);return y.setMap(n),r(y),()=>{y.setMap(null),r(null)}},[n]),R.useEffect(()=>{if(!t)return;const y=t,_=google.maps.event;return i&&_.addListener(y,"click",i),a&&_.addListener(y,"drag",a),s&&_.addListener(y,"dragstart",s),o&&_.addListener(y,"dragend",o),c&&_.addListener(y,"mouseover",c),u&&_.addListener(y,"mouseout",u),t.setDraggable(!!m),()=>{_.clearInstanceListeners(y)}},[t,m,i,a,s,o,c,u]),R.useEffect(()=>{t&&d&&t.setOptions(d)},[t,d]),R.useEffect(()=>{m||!p||!t||t.setPosition(p)},[m,p,t]),t}R.forwardRef((e,t)=>{const r=kEe(e);return R.useImperativeHandle(t,()=>r,[r]),Nr.createElement(Nr.Fragment,null)});const u6=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],EE=1,B0=8;class nN{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==EE)throw new Error(`Got v${i} data when expected v${EE}.`);const a=u6[n&15];if(!a)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(t,2,1),[o]=new Uint32Array(t,4,1);return new nN(o,s,a,t)}constructor(t,r=64,n=Float64Array,i){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const a=u6.indexOf(this.ArrayType),s=t*2*this.ArrayType.BYTES_PER_ELEMENT,o=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-o%8)%8;if(a<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,B0,t),this.coords=new this.ArrayType(this.data,B0+o+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(B0+s+o+c),this.ids=new this.IndexArrayType(this.data,B0,t),this.coords=new this.ArrayType(this.data,B0+o+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(EE<<4)+a]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return vA(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:a,coords:s,nodeSize:o}=this,c=[0,a.length-1,0],u=[];for(;c.length;){const d=c.pop()||0,p=c.pop()||0,m=c.pop()||0;if(p-m<=o){for(let E=m;E<=p;E++){const A=s[2*E],L=s[2*E+1];A>=t&&A<=n&&L>=r&&L<=i&&u.push(a[E])}continue}const y=m+p>>1,_=s[2*y],b=s[2*y+1];_>=t&&_<=n&&b>=r&&b<=i&&u.push(a[y]),(d===0?t<=_:r<=b)&&(c.push(m),c.push(y-1),c.push(1-d)),(d===0?n>=_:i>=b)&&(c.push(y+1),c.push(p),c.push(1-d))}return u}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:s}=this,o=[0,i.length-1,0],c=[],u=n*n;for(;o.length;){const d=o.pop()||0,p=o.pop()||0,m=o.pop()||0;if(p-m<=s){for(let E=m;E<=p;E++)f6(a[2*E],a[2*E+1],t,r)<=u&&c.push(i[E]);continue}const y=m+p>>1,_=a[2*y],b=a[2*y+1];f6(_,b,t,r)<=u&&c.push(i[y]),(d===0?t-n<=_:r-n<=b)&&(o.push(m),o.push(y-1),o.push(1-d)),(d===0?t+n>=_:r+n>=b)&&(o.push(y+1),o.push(p),o.push(1-d))}return c}}function vA(e,t,r,n,i,a){if(i-n<=r)return;const s=n+i>>1;y7(e,t,s,n,i,a),vA(e,t,r,n,s-1,1-a),vA(e,t,r,s+1,i,1-a)}function y7(e,t,r,n,i,a){for(;i>n;){if(i-n>600){const u=i-n+1,d=r-n+1,p=Math.log(u),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(u-m)/u)*(d-u/2<0?-1:1),_=Math.max(n,Math.floor(r-d*m/u+y)),b=Math.min(i,Math.floor(r+(u-d)*m/u+y));y7(e,t,r,_,b,a)}const s=t[2*r+a];let o=n,c=i;for(V0(e,t,n,r),t[2*i+a]>s&&V0(e,t,n,i);o<c;){for(V0(e,t,o,c),o++,c--;t[2*o+a]<s;)o++;for(;t[2*c+a]>s;)c--}t[2*n+a]===s?V0(e,t,n,c):(c++,V0(e,t,c,i)),c<=r&&(n=c+1),r<=c&&(i=c-1)}}function V0(e,t,r,n){TE(e,r,n),TE(t,2*r,2*n),TE(t,2*r+1,2*n+1)}function TE(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function f6(e,t,r,n){const i=e-r,a=t-n;return i*i+a*a}const IEe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},d6=Math.fround||(e=>(t=>(e[0]=+t,e[0])))(new Float32Array(1)),Ou=2,Ec=3,SE=4,wc=5,x7=6;class PEe{constructor(t){this.options=Object.assign(Object.create(IEe),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const a=`prepare ${t.length} points`;r&&console.time(a),this.points=t;const s=[];for(let c=0;c<t.length;c++){const u=t[c];if(!u.geometry)continue;const[d,p]=u.geometry.coordinates,m=d6(Wv(d)),y=d6(Yv(p));s.push(m,y,1/0,c,-1,1),this.options.reduce&&s.push(0)}let o=this.trees[i+1]=this._createTree(s);r&&console.timeEnd(a);for(let c=i;c>=n;c--){const u=+Date.now();o=this.trees[c]=this._createTree(this._cluster(o,c)),r&&console.log("z%d: %d clusters in %dms",c,o.numItems,+Date.now()-u)}return r&&console.timeEnd("total time"),this}getClusters(t,r){let n=((t[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[1]));let a=t[2]===180?180:((t[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,a=180;else if(n>a){const p=this.getClusters([n,i,180,s],r),m=this.getClusters([-180,i,a,s],r);return p.concat(m)}const o=this.trees[this._limitZoom(r)],c=o.range(Wv(n),Yv(s),Wv(a),Yv(i)),u=o.data,d=[];for(const p of c){const m=this.stride*p;d.push(u[m+wc]>1?h6(u,m,this.clusterProps):this.points[u[m+Ec]])}return d}getChildren(t){const r=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(i);const s=a.data;if(r*this.stride>=s.length)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=s[r*this.stride],u=s[r*this.stride+1],d=a.within(c,u,o),p=[];for(const m of d){const y=m*this.stride;s[y+SE]===t&&p.push(s[y+wc]>1?h6(s,y,this.clusterProps):this.points[s[y+Ec]])}if(p.length===0)throw new Error(i);return p}getLeaves(t,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,t,r,n,0),i}getTile(t,r,n){const i=this.trees[this._limitZoom(t)],a=Math.pow(2,t),{extent:s,radius:o}=this.options,c=o/s,u=(n-c)/a,d=(n+1+c)/a,p={features:[]};return this._addTileFeatures(i.range((r-c)/a,u,(r+1+c)/a,d),i.data,r,n,a,p),r===0&&this._addTileFeatures(i.range(1-c/a,u,1,d),i.data,a,n,a,p),r===a-1&&this._addTileFeatures(i.range(0,u,c/a,d),i.data,-1,n,a,p),p.features.length?p:null}getClusterExpansionZoom(t){let r=this._getOriginZoom(t)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,i,a){const s=this.getChildren(r);for(const o of s){const c=o.properties;if(c&&c.cluster?a+c.point_count<=i?a+=c.point_count:a=this._appendLeaves(t,c.cluster_id,n,i,a):a<i?a++:t.push(o),t.length===n)break}return a}_createTree(t){const r=new nN(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,i,a,s){for(const o of t){const c=o*this.stride,u=r[c+wc]>1;let d,p,m;if(u)d=_7(r,c,this.clusterProps),p=r[c],m=r[c+1];else{const b=this.points[r[c+Ec]];d=b.properties;const[E,A]=b.geometry.coordinates;p=Wv(E),m=Yv(A)}const y={type:1,geometry:[[Math.round(this.options.extent*(p*a-n)),Math.round(this.options.extent*(m*a-i))]],tags:d};let _;u||this.options.generateId?_=r[c+Ec]:_=this.points[r[c+Ec]].id,_!==void 0&&(y.id=_),s.features.push(y)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){const{radius:n,extent:i,reduce:a,minPoints:s}=this.options,o=n/(i*Math.pow(2,r)),c=t.data,u=[],d=this.stride;for(let p=0;p<c.length;p+=d){if(c[p+Ou]<=r)continue;c[p+Ou]=r;const m=c[p],y=c[p+1],_=t.within(c[p],c[p+1],o),b=c[p+wc];let E=b;for(const A of _){const L=A*d;c[L+Ou]>r&&(E+=c[L+wc])}if(E>b&&E>=s){let A=m*b,L=y*b,I,O=-1;const D=((p/d|0)<<5)+(r+1)+this.points.length;for(const M of _){const N=M*d;if(c[N+Ou]<=r)continue;c[N+Ou]=r;const k=c[N+wc];A+=c[N]*k,L+=c[N+1]*k,c[N+SE]=D,a&&(I||(I=this._map(c,p,!0),O=this.clusterProps.length,this.clusterProps.push(I)),a(I,this._map(c,N)))}c[p+SE]=D,u.push(A/E,L/E,1/0,D,-1,E),a&&u.push(O)}else{for(let A=0;A<d;A++)u.push(c[p+A]);if(E>1)for(const A of _){const L=A*d;if(!(c[L+Ou]<=r)){c[L+Ou]=r;for(let I=0;I<d;I++)u.push(c[L+I])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+wc]>1){const s=this.clusterProps[t[r+x7]];return n?Object.assign({},s):s}const i=this.points[t[r+Ec]].properties,a=this.options.map(i);return n&&a===i?Object.assign({},a):a}}function h6(e,t,r){return{type:"Feature",id:e[t+Ec],properties:_7(e,t,r),geometry:{type:"Point",coordinates:[REe(e[t]),OEe(e[t+1])]}}}function _7(e,t,r){const n=e[t+wc],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,a=e[t+x7],s=a===-1?{}:Object.assign({},r[a]);return Object.assign(s,{cluster:!0,cluster_id:e[t+Ec],point_count:n,point_count_abbreviated:i})}function Wv(e){return e/360+.5}function Yv(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function REe(e){return(e-.5)*360}function OEe(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function MEe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}class $a{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class yA{constructor({markers:t,position:r}){this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)t.extend($a.getPosition(r));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>$a.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&($a.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class DEe{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return LEe(t)}}const LEe=e=>e.map(r=>new yA({position:$a.getPosition(r),markers:[r]}));class FEe extends DEe{constructor(t){var{maxZoom:r,radius:n=60}=t,i=MEe(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new PEe(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(t){let r=!1;const n={zoom:t.map.getZoom()};if(!gA(t.markers,this.markers)){r=!0,this.markers=[...t.markers];const i=this.markers.map(a=>{const s=$a.getPosition(a);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:a}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!gA(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[t,r]},properties:n}){if(n.cluster)return new yA({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:t}});const i=n.marker;return new yA({markers:[i],position:$a.getPosition(i)})}}class jEe{constructor(t,r){this.markers={sum:t.length};const n=r.map(a=>a.count),i=n.reduce((a,s)=>a+s,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class UEe{render({count:t,position:r},n,i){const s=`<svg fill="${t>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>
</svg>`,o=`Cluster of ${t} markers`,c=Number(google.maps.Marker.MAX_ZINDEX)+t;if($a.isAdvancedMarkerAvailable(i)){const p=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");const m={map:i,position:r,zIndex:c,title:o,content:p};return new google.maps.marker.AdvancedMarkerElement(m)}const u={position:r,zIndex:c,title:o,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}function BEe(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}class iN{constructor(){BEe(iN,google.maps.OverlayView)}}var Op;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Op||(Op={}));const VEe=(e,t,r)=>{r.fitBounds(t.bounds)};class zEe extends iN{constructor({map:t,markers:r=[],algorithmOptions:n={},algorithm:i=new FEe(n),renderer:a=new UEe,onClusterClick:s=VEe}){super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=s,t&&this.setMap(t)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(t,r){const n=this.markers.indexOf(t);return n===-1?!1:($a.setMap(t,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(t,r){let n=!1;return t.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Op.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){const i=new Set;for(const s of r)s.markers.length==1&&i.add(s.markers[0]);const a=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||$a.setMap(s.marker,null):a.push(s.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>a.forEach(s=>$a.setMap(s,null)))}google.maps.event.trigger(this,Op.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>$a.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){const t=new jEe(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,r),n.markers.forEach(i=>$a.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Op.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),$a.setMap(n.marker,r)})}}const $Ee=({clients:e})=>{const t=Oh(),r=R.useRef(0);return R.useEffect(()=>{if(!t||!window.google||e.length===0)return;if(Math.abs(e.length-r.current)>0){const i=new google.maps.LatLngBounds;let a=!1;if(e.forEach(s=>{s.lat&&s.lng&&(i.extend({lat:s.lat,lng:s.lng}),a=!0)}),a){t.fitBounds(i);const s=google.maps.event.addListenerOnce(t,"idle",()=>{t.getZoom()>16&&t.setZoom(16)});return r.current=e.length,()=>google.maps.event.removeListener(s)}}},[t,e]),null},HEe=()=>{const e=Oh();return e?g.jsxs("div",{className:"absolute bottom-[75px] right-4 flex flex-row gap-2 z-10",children:[g.jsx("button",{onClick:()=>e.setZoom((e.getZoom()||0)+1),className:"bg-white p-2.5 rounded-xl border border-outline-variant shadow-elevation-2 text-on-surface hover:bg-primary-container hover:text-primary transition-all active:scale-95 focus:outline-none",title:"Aproximar (Zoom In)","aria-label":"Aproximar zoom",children:g.jsx(S2,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>e.setZoom((e.getZoom()||0)-1),className:"bg-white p-2.5 rounded-xl border border-outline-variant shadow-elevation-2 text-on-surface hover:bg-primary-container hover:text-primary transition-all active:scale-95 focus:outline-none",title:"Afastar (Zoom Out)","aria-label":"Afastar zoom",children:g.jsx(MJ,{className:"w-5 h-5"})})]}):null},GEe=e=>{switch(e){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},p6=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);const r=(t&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r},qEe=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,KEe=({clients:e,onClientSelect:t,productFilterActive:r,users:n,isClusteringEnabled:i})=>{const a=Oh(),s=R.useRef(null),o=R.useRef([]),c=R.useMemo(()=>{const d=document.createElement("div");return d.innerHTML=qEe,d.style.display="flex",d.style.alignItems="center",d.style.justifyContent="center",d},[]),u=R.useMemo(()=>{const d=new Map;return n&&n.forEach(p=>{let m={bg:"#6B7280",border:"#374151",glyph:"#fff"};p.color?m={bg:p.color,border:"black",glyph:"#fff"}:m={bg:p6(p.id+p.name),border:"black",glyph:"#fff"},d.set(p.id,m)}),d},[n]);return R.useEffect(()=>{if(!a||!google.maps.marker)return;s.current&&(s.current.clearMarkers(),s.current.setMap(null)),o.current.forEach(_=>{_.map=null,google.maps.event.clearInstanceListeners(_)}),o.current=[],i?s.current=new zEe({map:a,markers:[]}):s.current=null;let d=!0,p=0;const m=200,y=()=>{if(!d||!google.maps.marker)return;const _=e.slice(p,p+m);if(_.length===0)return;const b=_.filter(E=>{const A=Number(E.lat),L=Number(E.lng);return!isNaN(A)&&!isNaN(L)&&A!==0&&L!==0}).map(E=>{let A={bg:"#6B7280",border:"#374151",glyph:"#fff"};if(r)A={bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};else{const M=u.get(E.salespersonId);M?A=M:E.ownerName?A={bg:p6(E.ownerName),border:"black",glyph:"#fff"}:A=GEe(E.region)}let L=null;r&&(L=c.cloneNode(!0),L.style.color=A.glyph);const I={background:A.bg,borderColor:A.border,glyphColor:A.glyph,scale:1};L&&(I.glyph=L);const O=new google.maps.marker.PinElement(I),D=new google.maps.marker.AdvancedMarkerElement({position:{lat:E.lat,lng:E.lng},content:O.element,map:i?null:a,title:E.companyName});return D.addListener("click",()=>{t(E.id)}),D});d&&(i&&s.current&&s.current.addMarkers(b),o.current.push(...b)),p+=m,p<e.length&&requestAnimationFrame(y)};return y(),()=>{d=!1,s.current&&(s.current.clearMarkers(),s.current.setMap(null)),o.current.forEach(_=>{_.map=null})}},[a,e,r,t,c,u,i]),g.jsx($Ee,{clients:e})},WEe=({clients:e,apiKey:t,onInvalidKey:r,productFilterActive:n,highlightProductTerm:i,activeProductCategory:a,users:s,filterContent:o})=>{const c={lat:-14.235,lng:-51.9253},[u,d]=R.useState(null),[p,m]=R.useState(!1),[y,_]=R.useState(!1),[b,E]=R.useState(!0),A=e.find(O=>O.id===u);R.useEffect(()=>(t&&m(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),m(!0)},()=>{window.gm_authFailure=()=>{};const O=document.getElementsByTagName("script");for(let D=O.length-1;D>=0;D--){const M=O[D];M.src&&M.src.includes("maps.googleapis.com/maps/api/js")&&M.parentNode?.removeChild(M)}}),[t]);const L=()=>{_(!y)};if(!t)return g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:g.jsx($d,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),g.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[g.jsx($d,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(p)return g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:g.jsx(qi,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),g.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[g.jsx($d,{className:"w-4 h-4"})," Trocar API Key"]})]});const I=y?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-lg overflow-hidden shadow-sm border border-gray-200 relative z-0";return g.jsx("div",{className:I,children:g.jsx(rEe,{apiKey:t,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:g.jsxs(m7,{defaultCenter:c,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[g.jsx(KEe,{clients:e,onClientSelect:d,productFilterActive:n,users:s,isClusteringEnabled:b}),g.jsx(HEe,{}),y&&o&&g.jsxs("div",{className:"absolute top-0 left-0 right-0 z-30 bg-white/95 backdrop-blur-sm shadow-md border-b border-gray-200",children:[o,g.jsxs("div",{className:"flex justify-end gap-2 px-3 py-1.5 border-t border-gray-100 bg-gray-50/80",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-1.5 px-3 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(pl,{className:"w-3 h-3"}),"Solto"]})}),g.jsxs("button",{onClick:L,className:"bg-white p-1.5 px-3 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold",title:"Sair da Tela Cheia",children:[g.jsx(FO,{className:"w-4 h-4"}),"Sair"]})]})]}),!y&&g.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(pl,{className:"w-3 h-3"}),"Solto"]})}),g.jsx("button",{onClick:L,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Tela Cheia",children:g.jsx(kJ,{className:"w-5 h-5"})})]}),y&&!o&&g.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(pl,{className:"w-3 h-3"}),"Solto"]})}),g.jsx("button",{onClick:L,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Sair da Tela Cheia",children:g.jsx(FO,{className:"w-5 h-5"})})]}),A&&g.jsx(CEe,{position:{lat:A.lat,lng:A.lng},onCloseClick:()=>d(null),headerContent:g.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[g.jsx(Fp,{className:"w-4 h-4 text-blue-600"}),A.companyName]}),children:g.jsx("div",{className:"min-w-[240px] max-w-[320px] p-1",children:g.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[g.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[g.jsx(Lp,{className:"w-3 h-3"}),A.city," - ",A.state," (",A.region,")"]}),g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx($i,{className:"w-3 h-3 text-gray-400"}),g.jsx("span",{className:"font-medium text-gray-700",children:A.ownerName||"No informado"})]}),g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx(F8,{className:"w-3 h-3 text-gray-400"}),g.jsx("span",{className:"font-medium text-gray-700",children:A.contact||"Sem contato"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-1 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit",children:[g.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[g.jsx("span",{className:"font-bold text-gray-800",children:A.purchasedProducts?.length||0})," Prod."]}),g.jsx("div",{className:"h-3 w-px bg-gray-300"}),g.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[g.jsx("span",{className:"font-bold text-gray-800",children:new Set(A.purchasedProducts?.map(O=>O.sku)||[]).size})," SKUs"]})]}),g.jsxs("p",{className:"flex items-start gap-2",children:[g.jsx(pl,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),g.jsx("span",{className:"leading-tight",children:A.cleanAddress})]}),A.purchasedProducts&&A.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[g.jsxs("p",{className:"text-[10px] uppercase font-bold text-blue-600 mb-1.5 flex items-center gap-1",children:[g.jsx(xs,{className:"w-3.5 h-3.5"}),"Produtos Adquiridos"]}),g.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1.5 pr-2 custom-scrollbar",children:A.purchasedProducts.map((O,D)=>{const M=i?.toLowerCase()||"",N=M&&((O.name||"").toLowerCase().includes(M)||(O.sku||"").toLowerCase().includes(M)||(O.brand||"").toLowerCase().includes(M)||(O.factoryCode||"").toLowerCase().includes(M));return g.jsxs("div",{className:`${N?"bg-amber-50 border-amber-200 ring-1 ring-amber-100":"bg-gray-50 border-gray-100"} p-2 rounded-lg border flex flex-col gap-0.5 transition-all shadow-sm`,children:[g.jsxs("div",{className:"flex justify-between items-start gap-2",children:[g.jsx("span",{className:`text-[10px] font-black leading-tight ${N?"text-amber-900":"text-gray-800"} line-clamp-2`,title:O.name,children:O.name}),g.jsx("span",{className:"text-[10px] font-black text-blue-700 whitespace-nowrap",children:O.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-gray-500 font-bold uppercase tracking-tighter mt-0.5",children:[g.jsxs("span",{className:"flex items-center gap-0.5 bg-gray-200/50 px-1 rounded",children:["SKU: ",O.sku]}),g.jsx("span",{className:"text-gray-300",children:""}),g.jsx("span",{className:"truncate",children:O.brand||"Sem Marca"})]})]},D)})})]}),g.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[g.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[g.jsx(A2,{className:"w-3 h-3 mr-1"}),A.category.join(", ")]}),A.mainCnae&&g.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-50 text-purple-700 border border-purple-100 ml-1 truncate max-w-[120px]",title:A.mainCnae,children:A.mainCnae}),g.jsx("a",{href:A.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${A.lat},${A.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},YEe=({client:e,isOpen:t,onClose:r,onSave:n,users:i=[],uploadedFiles:a=[],onCNPJAuthError:s})=>{const[o,c]=R.useState(()=>({...e,cnpj:e.cnpj||"",category:Array.isArray(e.category)?e.category:typeof e.category=="string"?[e.category]:["Outros"]})),[u,d]=R.useState(!1),[p,m]=R.useState("idle");if(Nr.useEffect(()=>{c({...e,category:Array.isArray(e.category)?e.category:typeof e.category=="string"?[e.category]:["Outros"]})},[e]),!t)return null;const y=i.find(D=>D.id===e.salespersonId),_=y?.name||"No atribudo",b=y?.role==="sales_internal"?"Interno":y?.role==="sales_external"||y?.role==="salesperson"?"Externo":y?.role?"Equipe":"",E=y?.salesCategory||"",A=a.find(D=>D.id===e.sourceFileId),L=D=>{D.preventDefault(),n(o),r()},I=async()=>{const D=o.cnpj?.replace(/\D/g,"");if(!D||D.length!==14){alert("Por favor, informe um CNPJ vlido com 14 dgitos para atualizar.");return}d(!0),m("idle");try{const M=await z1(D);if(M){const N=M.logradouro&&M.numero;c(k=>({...k,companyName:M.nome_fantasia||M.razao_social||k.companyName,originalAddress:N?`${M.logradouro}, ${M.numero}${M.complemento?` - ${M.complemento}`:""}, ${M.bairro}, ${M.municipio} - ${M.uf}`:k.originalAddress,cleanAddress:N?`${M.logradouro}, ${M.numero}, ${M.municipio} - ${M.uf}`:k.cleanAddress,city:M.municipio||k.city,state:M.uf||k.state,district:M.bairro||k.district,region:M.uf?Up(M.uf):k.region,lat:M.latitude||k.lat,lng:M.longitude||k.lng,contact:M.ddd_telefone_1||k.contact,mainCnae:M.cnae_fiscal||k.mainCnae,secondaryCnaes:M.cnaes_secundarios?.map(P=>`${P.codigo} - ${P.texto}`)||k.secondaryCnaes})),m("success"),setTimeout(()=>m("idle"),3e3)}else m("error"),alert("CNPJ no encontrado na base de dados.")}catch(M){console.error(M),m("error"),M.message&&(M.message.includes("401")||M.message.toLowerCase().includes("chave de api cnpja invlida"))?s?s():alert("Chave de API CNPJa invlida ou expirada. Configure-a nas opes do sistema."):alert("Erro ao consultar CNPJ. Verifique sua chave de API.")}finally{d(!1)}},O=D=>{const{name:M,value:N}=D.target;c(k=>{const P={[M]:N};return M==="state"&&(P.region=Up(N)),{...k,...P}})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Fp,{className:"w-5 h-5 text-primary"}),g.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),g.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),g.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:e.id})]}),g.jsx("button",{onClick:r,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar modal",children:g.jsx(Na,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"mx-6 mb-2 flex flex-wrap items-center gap-3 px-4 py-2.5 bg-purple-50 border border-purple-200 rounded-xl",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx($i,{className:"w-4 h-4 text-purple-600"}),g.jsx("span",{className:"text-xs font-bold text-purple-800",children:"Vendedor Responsvel:"}),g.jsx("span",{className:"text-sm font-semibold text-purple-900",children:_})]}),b&&g.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full ${b==="Interno"?"bg-blue-100 text-blue-700":b==="Externo"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:b}),E&&E!=="N/A"&&g.jsxs("span",{className:"text-[10px] font-medium uppercase tracking-wider px-2 py-0.5 rounded-full bg-purple-100 text-purple-700",children:[g.jsx(qa,{className:"w-3 h-3 inline mr-1"}),E]}),A&&g.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[g.jsx(my,{className:"w-3.5 h-3.5 text-gray-500"}),g.jsxs("span",{className:"text-[10px] text-gray-600 font-medium",children:["Origem: ",g.jsx("span",{className:"font-bold",children:A.fileName})]})]})]}),g.jsxs("form",{onSubmit:L,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),g.jsx("input",{type:"text",name:"companyName",value:o.companyName,onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Razo Social",placeholder:"Razo Social"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),g.jsx("input",{type:"text",name:"ownerName",value:o.ownerName,onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Responsvel / Proprietrio",placeholder:"Responsvel / Proprietrio"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Telefone Comercial"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",name:"contact",value:o.contact,onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 pl-10 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Telefone Comercial",placeholder:"(00) 0000-0000"}),g.jsx(F8,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"WhatsApp"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",name:"whatsapp",value:o.whatsapp||"",onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 pl-10 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"WhatsApp",placeholder:"(00) 00000-0000"}),g.jsx(Lp,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant"})]})]}),g.jsxs("div",{className:"md:col-span-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),g.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:jp.filter(D=>D!=="Todos").map(D=>{const M=o.category.includes(D);return g.jsx("button",{type:"button",onClick:()=>{c(N=>{const k=N.category||[];return k.includes(D)?k.length===1?N:{...N,category:k.filter(P=>P!==D)}:{...N,category:[...k,D]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${M?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,title:`Selecionar/desselecionar segmento: ${D}`,children:D},D)})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{name:"region",value:o.region,onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",title:"Regio",children:[g.jsx("option",{value:"Indefinido",children:"Indefinido"}),rh.map(D=>g.jsx("option",{value:D,children:D},D))]}),g.jsx(Lp,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Bairro"}),g.jsx("input",{type:"text",name:"district",value:o.district||"",onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",title:"Bairro",placeholder:"Bairro"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Cidade"}),g.jsx("input",{type:"text",name:"city",value:o.city,onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",title:"Municpio / Cidade",placeholder:"Cidade"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Estado (UF)"}),g.jsx("input",{type:"text",name:"state",value:o.state,onChange:O,maxLength:2,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all uppercase",title:"Estado (UF)",placeholder:"UF"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"CEP"}),g.jsx("input",{type:"text",name:"zip",value:o.zip||"",onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",placeholder:"00000-000",title:"CEP / Cdigo Postal"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Pas"}),g.jsx("input",{type:"text",value:"Brasil",readOnly:!0,title:"Pas (Padro: Brasil)",className:"w-full bg-surface-container-highest/50 border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface-variant outline-none"})]})]})]}),g.jsxs("div",{className:"space-y-1 pt-2",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),g.jsx("div",{className:"flex gap-2",children:g.jsx("input",{type:"text",name:"cleanAddress",value:o.cleanAddress,onChange:O,className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Endereo Limpo"})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"CNPJ"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",name:"cnpj",value:o.cnpj||"",onChange:O,className:`flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all ${p==="success"?"border-green-500":""}`,placeholder:"00.000.000/0000-00",title:"CNPJ do Cliente"}),g.jsxs("button",{type:"button",onClick:I,disabled:u,className:`px-4 flex items-center gap-2 rounded-xl text-xs font-bold transition-all shadow-sm ${p==="success"?"bg-green-100 text-green-700":"bg-primary text-white hover:bg-primary/90"}`,title:"Atualizar todos os dados a partir deste CNPJ",children:[u?g.jsx(Mc,{className:"w-4 h-4 animate-spin"}):g.jsx(yl,{className:"w-4 h-4"}),p==="success"?"Dados Atualizados!":"Atualizar Dados"]})]})]}),g.jsxs("div",{className:"bg-surface-container-highest/50 p-4 rounded-2xl border border-outline-variant space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 pb-1 border-b border-outline-variant/30",children:[g.jsx(qa,{className:"w-4 h-4 text-primary"}),g.jsx("h3",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Atividade Econmica (CNAE)"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Principal"}),g.jsx("p",{className:"text-sm text-on-surface flex items-start gap-2",children:o.mainCnae||(o.cnpj?"Aguardando consulta...":"No informado")})]}),o.secondaryCnaes&&o.secondaryCnaes.length>0?g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Secundrias"}),g.jsx("ul",{className:"space-y-1.5",children:o.secondaryCnaes.map((D,M)=>g.jsxs("li",{className:"text-xs text-on-surface-variant flex items-start gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-outline-variant mt-1.5 shrink-0"}),D]},M))})]}):o.cnpj&&g.jsx("p",{className:"text-[10px] text-on-surface-variant italic",children:"Nenhuma atividade secundria registrada."})]})]}),g.jsxs("div",{className:"space-y-1 pt-2",children:[g.jsxs("label",{className:"text-xs font-medium text-on-surface-variant ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",g.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),g.jsx("input",{type:"text",name:"plusCode",value:o.plusCode||"",onChange:O,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso nos pinos."})]})]}),g.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[g.jsx("button",{type:"button",onClick:r,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),g.jsxs("button",{type:"submit",onClick:L,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[g.jsx(Sm,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},JEe=({isOpen:e,onClose:t,onAdd:r,salespersonId:n,ownerName:i,users:a=[],isFirebaseConnected:s=!1,onCNPJAuthError:o})=>{const[c,u]=R.useState(n),[d,p]=R.useState({companyName:"",cnpj:"",ownerName:"",contact:"",whatsapp:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",district:"",originalAddress:"",cleanAddress:"",plusCode:"",zip:"",country:"Brasil",lat:0,lng:0,mainCnae:"",secondaryCnaes:[]}),[m,y]=R.useState(!1),[_,b]=R.useState(""),[E,A]=R.useState(!1);if(R.useEffect(()=>{e&&(p({companyName:"",cnpj:"",ownerName:"",contact:"",whatsapp:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",district:"",originalAddress:"",cleanAddress:"",plusCode:"",zip:"",country:"Brasil",lat:0,lng:0,mainCnae:"",secondaryCnaes:[]}),u(n),b(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async M=>{},M=>{console.warn("Location access denied or error:",M)}))},[e]),!e)return null;const L=(M,N)=>{p(k=>{const P={[M]:N};return M==="state"&&(P.region=Up(N)),{...k,...P}}),_&&b("")},I=M=>{p(N=>{const k=N.category;return k.includes(M)?k.length===1?N:{...N,category:k.filter(P=>P!==M)}:{...N,category:[...k,M]}})},O=async()=>{if(!d.cnpj||d.cnpj.replace(/\D/g,"").length!==14){b("Por favor, informe um CNPJ vlido com 14 dgitos.");return}y(!0),b("");try{const M=await z1(d.cnpj);if(M){const N=M.logradouro&&M.numero;p(k=>({...k,companyName:M.nome_fantasia||M.razao_social,originalAddress:N?`${M.logradouro}, ${M.numero}${M.complemento?` - ${M.complemento}`:""}, ${M.bairro}`:k.originalAddress,city:M.municipio||k.city,state:M.uf||k.state,district:M.bairro||k.district,region:M.uf?Up(M.uf):k.region,contact:M.ddd_telefone_1||k.contact,whatsapp:M.ddd_telefone_1||k.whatsapp,lat:M.latitude||0,lng:M.longitude||0,cleanAddress:N?`${M.logradouro}, ${M.numero}, ${M.municipio} - ${M.uf}`:k.cleanAddress,mainCnae:M.cnae_fiscal||k.mainCnae,secondaryCnaes:M.cnaes_secundarios?.map(P=>`${P.codigo} - ${P.texto}`)||k.secondaryCnaes}))}}catch(M){M.message&&(M.message.includes("401")||M.message.toLowerCase().includes("chave de api cnpja invlida"))?o?o():b("Chave de API CNPJa invlida ou expirada. Configure-a nas opes do sistema."):b(M.message||"Erro ao consultar CNPJ. Verifique a chave da API.")}finally{y(!1)}},D=M=>{if(M.preventDefault(),!d.companyName||!d.originalAddress||!d.city||!d.state||!d.contact){b("Por favor, preencha todos os campos obrigatrios (*).");return}A(!0);const N=`${d.originalAddress}, ${d.city} - ${d.state}`;r({companyName:d.companyName,ownerName:d.ownerName||"No Informado",contact:d.contact,whatsapp:d.whatsapp,category:d.category,region:d.region,state:d.state,city:d.city,originalAddress:N,cleanAddress:d.cleanAddress||N,plusCode:d.plusCode,salespersonId:c,googleMapsUri:"",lat:d.lat,lng:d.lng,mainCnae:d.mainCnae,secondaryCnaes:d.secondaryCnaes,zip:d.zip,country:"Brasil"}),A(!1),t()};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Fp,{className:"w-5 h-5 text-primary"}),g.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),g.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),g.jsx("button",{onClick:t,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:g.jsx(Na,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:g.jsxs("form",{id:"add-client-form",onSubmit:D,className:"space-y-6",children:[g.jsxs("div",{className:"bg-surface-container-low p-4 rounded-2xl border border-outline-variant",children:[g.jsx("label",{className:"block text-xs font-semibold text-primary mb-2 ml-1 uppercase tracking-wider",children:"Consulta Rpida por CNPJ (Comercial)"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"relative flex-1",children:g.jsx("input",{type:"text",value:d.cnpj,onChange:M=>L("cnpj",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-colors",placeholder:"00.000.000/0000-00",title:"CNPJ do Cliente"})}),g.jsxs("button",{type:"button",onClick:O,disabled:m,className:`px-4 py-2 rounded-xl transition-colors flex items-center gap-2 disabled:opacity-50 ${d.lat!==0?"bg-green-100 text-green-700":"bg-primary text-on-primary hover:bg-primary/90"}`,children:[m?g.jsx(Mc,{className:"w-4 h-4 animate-spin"}):g.jsx(yl,{className:"w-4 h-4"}),g.jsx("span",{className:"hidden sm:inline",children:d.lat!==0?"Dados Atualizados":"Atualizar Dados"})]})]}),d.cnpj.replace(/\D/g,"").length===14&&g.jsxs("div",{className:"bg-surface-container-highest/50 p-4 rounded-2xl border border-outline-variant space-y-4 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-2 pb-1 border-b border-outline-variant/30",children:[g.jsx(qa,{className:"w-4 h-4 text-primary"}),g.jsx("h3",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Atividade Econmica (CNAE)"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Principal"}),g.jsx("p",{className:"text-sm text-on-surface flex items-start gap-2",children:d.mainCnae||(m?"Buscando...":"Aguardando consulta comercial...")})]}),d.secondaryCnaes&&d.secondaryCnaes.length>0&&g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Secundrias"}),g.jsx("ul",{className:"space-y-1.5",children:d.secondaryCnaes.map((M,N)=>g.jsxs("li",{className:"text-xs text-on-surface-variant flex items-start gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-outline-variant mt-1.5 shrink-0"}),M]},N))})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),g.jsx("input",{type:"text",required:!0,value:d.companyName,onChange:M=>L("companyName",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),g.jsx("input",{type:"text",value:d.ownerName,onChange:M=>L("ownerName",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),a.length>0&&g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:[g.jsx($i,{className:"w-3 h-3 inline mr-1"}),"Vendedor Responsvel"]}),g.jsx("select",{value:c,onChange:M=>u(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Vendedor Responsvel",children:a.filter(M=>M.role==="salesperson"||M.role==="sales_external"||M.role==="sales_internal").map(M=>g.jsxs("option",{value:M.id,children:[M.name,M.salesCategory?` (${M.salesCategory})`:""]},M.id))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),g.jsx("input",{type:"text",required:!0,value:d.contact,onChange:M=>L("contact",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000",title:"Contato"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),g.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:jp.filter(M=>M!=="Todos").map(M=>{const N=d.category.includes(M);return g.jsx("button",{type:"button",onClick:()=>I(M),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${N?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:M},M)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{value:d.region,onChange:M=>L("region",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Regio",children:rh.map(M=>g.jsx("option",{value:M,children:M},M))}),g.jsx(Lp,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Bairro *"}),g.jsx("input",{type:"text",required:!0,value:d.district||"",onChange:M=>L("district",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Aldeota",title:"Bairro"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),g.jsx("input",{type:"text",required:!0,value:d.city,onChange:M=>L("city",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{required:!0,value:d.state,onChange:M=>L("state",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"UF",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(M=>g.jsx("option",{value:M,children:M},M))}),g.jsx(pl,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),g.jsx("textarea",{rows:2,required:!0,value:d.originalAddress,onChange:M=>L("originalAddress",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors resize-none",placeholder:"Rua, Nmero, Bairro, CEP...",title:"Endereo Completo"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",g.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),g.jsx("input",{type:"text",value:d.plusCode,onChange:M=>L("plusCode",M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso."})]}),g.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:g.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[g.jsx(pl,{className:"w-4 h-4 shrink-0"}),g.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})}),_&&g.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[g.jsx(qi,{className:"w-5 h-5"}),_]})]})}),g.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[g.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),g.jsx("button",{type:"submit",disabled:E,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:E?"Salvando...":g.jsxs(g.Fragment,{children:[g.jsx(Sm,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},XEe=({isOpen:e,onClose:t,client:r,products:n,onSave:i,productCategories:a})=>{const[s,o]=R.useState(""),[c,u]=R.useState("Todos"),[d,p]=R.useState([]),[m,y]=R.useState(!1);Nr.useEffect(()=>{r&&r.purchasedProducts?p(r.purchasedProducts.map(A=>A.sku)):p([])},[r]);const _=R.useMemo(()=>n.filter(A=>{const L=(A.name||"").toLowerCase().includes(s.toLowerCase())||(A.sku||"").toLowerCase().includes(s.toLowerCase())||(A.brand||"").toLowerCase().includes(s.toLowerCase()),I=c==="Todos"||A.category===c,O=d.includes(A.sku);return L&&I&&(!m||O)}),[n,s,c,m,d]),b=A=>{p(L=>L.includes(A)?L.filter(I=>I!==A):[...L,A])},E=()=>{if(!r)return;const A=n.filter(L=>d.includes(L.sku));i(r.id,A),t()};return!e||!r?null:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",children:[g.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(xs,{className:"w-5 h-5 text-blue-600"}),"Atribuir Produtos"]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",g.jsx("span",{className:"font-semibold text-gray-700",children:r.companyName})]})]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:"Fechar modal",children:g.jsx(Na,{className:"w-5 h-5 text-gray-500"})})]}),g.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-3 bg-white z-10",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx("input",{type:"text",placeholder:"Buscar por nome, SKU, marca...",value:s,onChange:A=>o(A.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("select",{value:c,onChange:A=>u(A.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",title:"Filtrar por Departamento",children:[g.jsx("option",{value:"Todos",children:"Todos os Departamentos"}),a.map(A=>g.jsx("option",{value:A,children:A},A))]})]}),g.jsxs("div",{className:"p-4 bg-gray-50 flex items-center justify-center gap-3 border-b border-gray-100",children:[g.jsx("button",{onClick:()=>y(!1),className:`
              flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap
              ${m?"bg-white text-gray-600 border border-gray-200 hover:border-blue-300":"bg-blue-600 text-white shadow-sm"}
            `,children:"Ver Todos os Produtos"}),g.jsxs("button",{onClick:()=>y(!0),className:`
              flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap
              ${m?"bg-green-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:border-green-300"}
            `,children:[g.jsx(xs,{className:"w-3 h-3"}),"Produtos Comprados"]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:_.length===0?g.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:g.jsx("p",{children:"Nenhum produto encontrado."})}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_.map(A=>{const L=d.includes(A.sku);return g.jsx("div",{onClick:()=>b(A.sku),className:`
                      relative p-3 rounded-xl border cursor-pointer transition-all duration-200 group
                      ${L?"bg-blue-50 border-blue-500 shadow-sm":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}
                    `,children:g.jsxs("div",{className:"flex justify-between items-start gap-2",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:`text-sm font-medium truncate ${L?"text-blue-800":"text-gray-800"}`,children:A.name}),g.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase truncate",children:A.brand}),g.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["SKU: ",A.sku]}),g.jsx("p",{className:"text-xs font-bold text-gray-700 mt-1",children:A.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsx("div",{className:`
                        w-5 h-5 rounded-full border flex items-center justify-center transition-colors
                        ${L?"bg-blue-500 border-blue-500":"border-gray-300 group-hover:border-blue-400"}
                      `,children:L&&g.jsx(Wu,{className:"w-3.5 h-3.5 text-white"})})]})},A.sku)})})}),g.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex justify-between items-center",children:[g.jsxs("div",{className:"text-sm text-gray-600",children:[g.jsx("span",{className:"font-bold text-blue-600",children:d.length})," produtos selecionados"]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),g.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition-transform active:scale-95",children:[g.jsx(Sm,{className:"w-4 h-4"}),"Salvar Atribuio"]})]})]})]})})},ZEe=({clients:e,onUpdateClient:t,onAddClient:r,currentUserRole:n,currentUserId:i,currentUserName:a,products:s=[],productCategories:o=[],users:c=[],uploadedFiles:u=[],onGeneratePlusCodes:d,onCNPJAuthError:p,filterOnlyWithPurchases:m=!1,setFilterOnlyWithPurchases:y,resetFilters:_})=>{const[b,E]=R.useState(""),[A,L]=R.useState("Todos"),[I,O]=R.useState("Todos"),[D,M]=R.useState(null),[N,k]=R.useState(!1),[P,U]=R.useState(!1),[B,F]=R.useState(!1),[H,fe]=R.useState(null),pe=R.useMemo(()=>e.filter(V=>{const ee=(V.companyName||"").toLowerCase().includes(b.toLowerCase())||(V.ownerName||"").toLowerCase().includes(b.toLowerCase()),X=A==="Todos"||V.region===A,q=I==="Todos"||Array.isArray(V.category)&&V.category.some(he=>he.trim()===I.trim());return ee&&X&&q}),[e,b,A,I]),re=()=>{const V=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","CNAE","Produtos Comprados","Link Maps"],ee=pe.map(le=>[le.id,le.companyName,le.ownerName,le.contact,le.cleanAddress,le.city,le.state,le.region,le.category.join("; "),le.mainCnae||"",le.purchasedProducts?le.purchasedProducts.map(ge=>ge.sku).join("; "):"",le.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${le.lat},${le.lng}`]),X=le=>{if(le==null)return"";const ge=String(le);return ge.includes('"')||ge.includes(",")||ge.includes(`
`)?`"${ge.replace(/"/g,'""')}"`:ge},q=[V.join(","),...ee.map(le=>le.map(X).join(","))].join(`
`),he=new Blob([`\uFEFF${q}`],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(he),ke=document.createElement("a");ke.setAttribute("href",ye),ke.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)},ue=V=>{M(V),k(!0)},ce=V=>{fe(V),F(!0)},ie=(V,ee)=>{const X=e.find(q=>q.id===V);if(X){const q={...X,purchasedProducts:ee};t(q)}},xe=({client:V,style:ee})=>g.jsx("div",{style:ee,className:"p-1",children:g.jsxs("div",{className:"h-full bg-surface-container-low border border-outline-variant/30 rounded-lg p-3 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden flex flex-col",children:[g.jsx("div",{className:"absolute top-0 right-0 p-0",children:g.jsx("span",{className:`px-3 py-1 rounded-bl-lg text-[10px] font-bold uppercase tracking-wider
                        ${V.region==="Nordeste"?"bg-orange-100 text-orange-800":V.region==="Sudeste"?"bg-blue-100 text-blue-800":V.region==="Sul"?"bg-purple-100 text-purple-800":V.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:V.region})}),g.jsxs("div",{className:"flex items-start gap-4 pr-12 mb-2",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:V.companyName.charAt(0).toUpperCase()}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",title:V.companyName,children:V.companyName}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:[g.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[g.jsx(A2,{className:"w-3 h-3"}),g.jsx("span",{className:"truncate",children:V.category.join(", ")})]}),V.mainCnae&&g.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-50 text-purple-700 border border-purple-100 truncate max-w-[150px]",title:V.mainCnae,children:[g.jsx(qa,{className:"w-2.5 h-2.5 mr-1"}),V.mainCnae]})]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-md border border-gray-100 w-fit",children:[g.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[" ",g.jsx("span",{className:"font-bold text-gray-800",children:V.purchasedProducts.length})," Prod."]}),g.jsx("div",{className:"h-3 w-px bg-gray-300"}),g.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[" ",g.jsx("span",{className:"font-bold text-gray-800",children:new Set(V.purchasedProducts.map(X=>X.sku)).size})," SKUs"]})]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[V.purchasedProducts.slice(0,2).map((X,q)=>g.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:X.name,children:X.sku},q)),V.purchasedProducts.length>2&&g.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",V.purchasedProducts.length-2]})]})]})]}),g.jsxs("div",{className:"space-y-2 flex-grow",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[g.jsx(Fp,{className:"w-4 h-4 shrink-0"}),g.jsx("span",{className:"truncate",children:V.ownerName})]}),g.jsxs("div",{className:"flex items-start gap-2 text-sm text-on-surface-variant group/link",children:[g.jsx(pl,{className:"w-4 h-4 shrink-0 mt-0.5"}),g.jsx("span",{className:"line-clamp-2",children:V.cleanAddress})]})]}),g.jsxs("div",{className:"mt-4 pt-3 border-t border-outline-variant/30 flex items-center justify-between",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>ce(V),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Atribuir Produtos",children:g.jsx(xs,{className:"w-4 h-4"})}),g.jsx("a",{title:`Abrir localizao de ${V.companyName} no Google Maps`,href:V.googleMapsUri||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(V.companyName+" "+V.cleanAddress)}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",onClick:X=>X.stopPropagation(),children:g.jsx(uS,{className:"w-4 h-4"})})]}),g.jsxs("button",{onClick:()=>ue(V),className:"flex items-center gap-1.5 text-xs font-bold text-primary hover:text-primary/80 transition-colors px-3 py-1.5 rounded-lg active:bg-surface-container-highest",title:`Editar cliente ${V.companyName}`,children:[g.jsx(UJ,{className:"w-3 h-3"})," Editar"]})]})]})}),J=({client:V})=>g.jsxs("div",{className:"p-4 border-b border-gray-100 last:border-0 bg-white",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900",children:V.companyName}),g.jsx("p",{className:"text-xs text-gray-500",children:V.category.join(", ")}),V.mainCnae&&g.jsxs("p",{className:"text-[10px] text-purple-600 font-medium flex items-center gap-1 mt-0.5",children:[g.jsx(qa,{className:"w-3 h-3"})," ",V.mainCnae]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[V.purchasedProducts.slice(0,3).map((ee,X)=>g.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:ee.name,children:ee.sku},X)),V.purchasedProducts.length>3&&g.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",V.purchasedProducts.length-3]})]})]}),g.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase
              ${V.region==="Nordeste"?"bg-orange-100 text-orange-800":V.region==="Sudeste"?"bg-blue-100 text-blue-800":V.region==="Sul"?"bg-purple-100 text-purple-800":V.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
           `,children:V.region})]}),g.jsxs("div",{className:"space-y-1 mb-3",children:[g.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx(Fp,{className:"w-4 h-4 text-gray-400"})," ",V.ownerName]}),g.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx(pl,{className:"w-4 h-4 text-gray-400"})," ",g.jsx("span",{className:"truncate",children:V.cleanAddress})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>ue(V),className:"flex-1 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg text-center",title:`Editar cliente ${V.companyName}`,children:"Editar"}),g.jsxs("button",{onClick:()=>ce(V),className:"flex-1 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg text-center flex items-center justify-center gap-1",title:"Atribuir Produtos",children:[g.jsx(xs,{className:"w-4 h-4"})," Produtos"]}),g.jsx("a",{href:V.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${V.lat},${V.lng}`,target:"_blank",className:"flex-none p-2 text-gray-600 bg-gray-100 rounded-lg flex items-center justify-center",title:"Ver rota no Google Maps",children:g.jsx(uS,{className:"w-5 h-5"})})]})]});return g.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[g.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-200 flex flex-col md:flex-row gap-3 items-center justify-between bg-white z-10 sticky top-0 md:relative shadow-sm md:shadow-none",children:[g.jsxs("div",{className:"relative w-full md:max-w-xs group",children:[g.jsx(yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-primary transition-colors"}),g.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",className:"w-full pl-10 pr-4 py-1.5 bg-surface-container-highest border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all placeholder:text-on-surface-variant/50",value:b,onChange:V=>E(V.target.value),title:"Buscar por razo social ou proprietrio"})]}),g.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:[g.jsxs("select",{value:A,onChange:V=>L(V.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Regio",children:[g.jsx("option",{value:"Todos",children:"Todas Regies"}),rh.map(V=>g.jsx("option",{value:V,children:V},V))]}),g.jsxs("select",{value:I,onChange:V=>O(V.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Categoria",children:[g.jsx("option",{value:"Todos",children:"Todos Segmentos"}),jp.filter(V=>V!=="Todos").map(V=>g.jsx("option",{value:V,children:V},V))]}),g.jsxs("div",{className:"md:ml-auto flex items-center gap-2 pl-2 border-l border-gray-200",children:[n&&Md(n)&&r&&g.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95 whitespace-nowrap",children:[g.jsx(S2,{className:"w-4 h-4"})," Novo"]}),g.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-outline-variant/30 text-on-surface hover:bg-surface-container-highest rounded-lg text-xs font-bold transition-colors shadow-sm whitespace-nowrap",children:[g.jsx(sJ,{className:"w-4 h-4"})," Exportar"]}),d&&n&&hS(n)&&g.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-1.5 bg-tertiary text-white text-xs font-bold rounded-lg hover:bg-tertiary/90 transition-all shadow-md shadow-tertiary/20 active:scale-95 whitespace-nowrap",title:"Gerar Plus Codes para clientes sem localizao exata",children:[g.jsx(pl,{className:"w-4 h-4"})," Plus Code"]})]})]})]}),g.jsxs("div",{className:"px-3 py-1.5 bg-gray-50 border-b border-gray-200 text-xs text-gray-500",children:["Exibindo ",pe.length," de ",e.length," clientes"]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar bg-gray-50",children:[g.jsx("div",{className:"md:hidden flex flex-col gap-0 bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:pe.map(V=>g.jsx(J,{client:V},V.id))}),g.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2",children:pe.map(V=>g.jsx(xe,{client:V,style:{}},V.id))}),pe.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[g.jsx(T2,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium",children:"Nenhum cliente encontrado"}),g.jsx("p",{className:"text-sm",children:"Tente ajustar seus filtros de busca"})]})]}),D&&N&&g.jsx(YEe,{isOpen:N,onClose:()=>k(!1),client:D,onSave:t,users:c,uploadedFiles:u,onCNPJAuthError:p}),P&&i&&g.jsx(JEe,{isOpen:P,onClose:()=>U(!1),onAdd:r||(()=>{}),salespersonId:i,ownerName:a||"",users:c,onCNPJAuthError:p}),g.jsx(XEe,{isOpen:B,onClose:()=>F(!1),client:H,products:s,productCategories:o,onSave:ie})]})},QEe="modulepreload",eTe=function(e){return"/Rota-de-Vendas/"+e},m6={},kx=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var s=u;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=u(r.map(d=>{if(d=eTe(d),d in m6)return;m6[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":QEe,p||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((_,b)=>{y.addEventListener("load",_),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var xA=function(){return xA=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xA.apply(this,arguments)},_A,tTe=function(e){var t;e?(function(r){if(r)for(;r.lastChild;)r.lastChild.remove()})(typeof e=="string"?document.getElementById(e):e):(t=document.querySelector(".grecaptcha-badge"))&&t.parentNode&&document.body.removeChild(t.parentNode)},rTe=function(e,t){tTe(t),window.___grecaptcha_cfg=void 0;var r=document.querySelector("#"+e);r&&r.remove(),(function(){var n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');n&&n.remove()})()},nTe=function(e){var t=e.render,r=e.onLoadCallbackName,n=e.language,i=e.onLoad,a=e.useRecaptchaNet,s=e.useEnterprise,o=e.scriptProps,c=o===void 0?{}:o,u=c.nonce,d=u===void 0?"":u,p=c.defer,m=p!==void 0&&p,y=c.async,_=y!==void 0&&y,b=c.id,E=b===void 0?"":b,A=c.appendTo,L=E||"google-recaptcha-v3";if((function(D){return!!document.querySelector("#"+D)})(L))i();else{var I=(function(D){return"https://www."+(D.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(D.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:s,useRecaptchaNet:a}),O=document.createElement("script");O.id=L,O.src=I+"?render="+t+(t==="explicit"?"&onload="+r:"")+(n?"&hl="+n:""),d&&(O.nonce=d),O.defer=!!m,O.async=!!_,O.onload=i,(A==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(O)}},g6=function(e){console.warn(e)};(function(e){e.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(_A||(_A={}));var aN=R.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});aN.Consumer;function v6(e){var t=e.reCaptchaKey,r=e.useEnterprise,n=r!==void 0&&r,i=e.useRecaptchaNet,a=i!==void 0&&i,s=e.scriptProps,o=e.language,c=e.container,u=e.children,d=R.useState(null),p=d[0],m=d[1],y=R.useRef(t),_=JSON.stringify(s),b=JSON.stringify(c?.parameters);R.useEffect((function(){if(t){var L=s?.id||"google-recaptcha-v3",I=s?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[I]=function(){var O=n?window.grecaptcha.enterprise:window.grecaptcha,D=xA({badge:"inline",size:"invisible",sitekey:t},c?.parameters||{});y.current=O.render(c?.element,D)},nTe({render:c?.element?"explicit":t,onLoadCallbackName:I,useEnterprise:n,useRecaptchaNet:a,scriptProps:s,language:o,onLoad:function(){if(window&&window.grecaptcha){var O=n?window.grecaptcha.enterprise:window.grecaptcha;O.ready((function(){m(O)}))}else g6("<GoogleRecaptchaProvider /> "+_A.SCRIPT_NOT_AVAILABLE)}}),function(){rTe(L,c?.element)}}g6("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[n,a,_,b,o,t,c?.element]);var E=R.useCallback((function(L){if(!p||!p.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return p.execute(y.current,{action:L})}),[p,y]),A=R.useMemo((function(){return{executeRecaptcha:p?E:void 0,container:c?.element}}),[E,p,c?.element]);return Nr.createElement(aN.Provider,{value:A},u)}var iTe=function(){return R.useContext(aN)};function b7(e,t){return e(t={exports:{}},t.exports),t.exports;}var hi=typeof Symbol=="function"&&Symbol.for,bA=hi?Symbol.for("react.element"):60103,wA=hi?Symbol.for("react.portal"):60106,Cy=hi?Symbol.for("react.fragment"):60107,Ny=hi?Symbol.for("react.strict_mode"):60108,ky=hi?Symbol.for("react.profiler"):60114,Iy=hi?Symbol.for("react.provider"):60109,Py=hi?Symbol.for("react.context"):60110,EA=hi?Symbol.for("react.async_mode"):60111,Ix=hi?Symbol.for("react.concurrent_mode"):60111,Ry=hi?Symbol.for("react.forward_ref"):60112,Oy=hi?Symbol.for("react.suspense"):60113,aTe=hi?Symbol.for("react.suspense_list"):60120,My=hi?Symbol.for("react.memo"):60115,Dy=hi?Symbol.for("react.lazy"):60116,sTe=hi?Symbol.for("react.block"):60121,oTe=hi?Symbol.for("react.fundamental"):60117,lTe=hi?Symbol.for("react.responder"):60118,cTe=hi?Symbol.for("react.scope"):60119;function Va(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bA:switch(e=e.type){case EA:case Ix:case Cy:case ky:case Ny:case Oy:return e;default:switch(e=e&&e.$$typeof){case Py:case Ry:case Dy:case My:case Iy:return e;default:return t}}case wA:return t}}}function y6(e){return Va(e)===Ix}var uTe={AsyncMode:EA,ConcurrentMode:Ix,ContextConsumer:Py,ContextProvider:Iy,Element:bA,ForwardRef:Ry,Fragment:Cy,Lazy:Dy,Memo:My,Portal:wA,Profiler:ky,StrictMode:Ny,Suspense:Oy,isAsyncMode:function(e){return y6(e)||Va(e)===EA},isConcurrentMode:y6,isContextConsumer:function(e){return Va(e)===Py},isContextProvider:function(e){return Va(e)===Iy},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bA},isForwardRef:function(e){return Va(e)===Ry},isFragment:function(e){return Va(e)===Cy},isLazy:function(e){return Va(e)===Dy},isMemo:function(e){return Va(e)===My},isPortal:function(e){return Va(e)===wA},isProfiler:function(e){return Va(e)===ky},isStrictMode:function(e){return Va(e)===Ny},isSuspense:function(e){return Va(e)===Oy},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===Cy||e===Ix||e===ky||e===Ny||e===Oy||e===aTe||typeof e=="object"&&e!==null&&(e.$$typeof===Dy||e.$$typeof===My||e.$$typeof===Iy||e.$$typeof===Py||e.$$typeof===Ry||e.$$typeof===oTe||e.$$typeof===lTe||e.$$typeof===cTe||e.$$typeof===sTe)},typeOf:Va},Dr=b7((function(e,t){})),x6=(Dr.AsyncMode,Dr.ConcurrentMode,Dr.ContextConsumer,Dr.ContextProvider,Dr.Element,Dr.ForwardRef,Dr.Fragment,Dr.Lazy,Dr.Memo,Dr.Portal,Dr.Profiler,Dr.StrictMode,Dr.Suspense,Dr.isAsyncMode,Dr.isConcurrentMode,Dr.isContextConsumer,Dr.isContextProvider,Dr.isElement,Dr.isForwardRef,Dr.isFragment,Dr.isLazy,Dr.isMemo,Dr.isPortal,Dr.isProfiler,Dr.isStrictMode,Dr.isSuspense,Dr.isValidElementType,Dr.typeOf,b7((function(e){e.exports=uTe}))),fTe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_6={};_6[x6.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_6[x6.Memo]=fTe;const dTe=({users:e,onLogin:t})=>{const[r,n]=R.useState("login"),[i,a]=R.useState(""),[s,o]=R.useState(""),[c,u]=R.useState(""),[d,p]=R.useState(""),[m,y]=R.useState(""),[_,b]=R.useState(""),[E,A]=R.useState(!1),{executeRecaptcha:L}=iTe(),[I,O]=R.useState(!1),D=async U=>{if(U.preventDefault(),u(""),console.log("[CAPTCHA] Key configured:","MISSING"),console.log("[CAPTCHA] executeRecaptcha available:",!!L),!L){console.error("[CAPTCHA] executeRecaptcha not available - Provider may not be loaded"),u(" Sistema de segurana no carregado. Recarregue a pgina.");return}O(!0);try{console.log("[CAPTCHA] Executing reCAPTCHA verification...");const B=await L("login");if(console.log("[CAPTCHA] Token received:",B?"Success ":"Failed "),console.log("[CAPTCHA] Token length:",B?.length||0),!B)throw new Error("reCAPTCHA token is empty");console.log("[AUTH] CAPTCHA passed, validating credentials...");let F=e;if(!F||F.length===0){console.log("[AUTH] Prop users is empty, loading INITIAL_USERS as fallback");const{INITIAL_USERS:fe}=await kx(async()=>{const{INITIAL_USERS:pe}=await Promise.resolve().then(()=>N1);return{INITIAL_USERS:pe}},void 0);F=Q0(fe)}let H=F.find(fe=>fe.username.toLowerCase()===i.toLowerCase());if(!H&&i.toLowerCase()==="admin"){console.log("[AUTH] Admin not found in cloud users, using hardcoded fallback");const{INITIAL_USERS:fe}=await kx(async()=>{const{INITIAL_USERS:pe}=await Promise.resolve().then(()=>N1);return{INITIAL_USERS:pe}},void 0);H=fe.find(pe=>pe.username==="admin")}H&&H.password===s?(console.log("[AUTH] Login successful "),t(H)):(console.warn("[AUTH] Invalid credentials"),u(" Credenciais invlidas. Verifique usurio e senha."))}catch(B){console.error("[CAPTCHA] Error details:",{message:B?.message,name:B?.name,stack:B?.stack,error:B}),B?.message?.includes("Invalid site key")?u(" Erro de configurao: Chave reCAPTCHA invlida. Contate o administrador."):B?.message?.includes("network")?u(" Erro de rede. Verifique sua conexo e tente novamente."):u(` Falha na verificao de segurana: ${B?.message||"Erro desconhecido"}. Tente novamente.`)}finally{O(!1)}},M=()=>{u(""),b(""),p(""),y("")},N=U=>{M(),n(U)},k=async U=>{U.preventDefault(),u(""),A(!0),await new Promise(F=>setTimeout(F,1500));const B=e.find(F=>F.email?.toLowerCase()===d.toLowerCase());b(B?`Seu usurio foi enviado para: ${d}`:"Se este e-mail estiver cadastrado, voc receber seu usurio em breve."),A(!1)},P=async U=>{U.preventDefault(),u(""),A(!0),await new Promise(F=>setTimeout(F,1500));const B=e.find(F=>F.username.toLowerCase()===m.toLowerCase()||F.email?.toLowerCase()===m.toLowerCase());B&&B.email?b(`Instrues de redefinio enviadas para: ${B.email}`):b("Se os dados estiverem corretos, enviamos as instrues para o seu e-mail de cadastro."),A(!1)};return g.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[g.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),g.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[g.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[r!=="login"&&g.jsx("button",{onClick:()=>N("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:g.jsx(RY,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:g.jsx(j8,{className:"w-7 h-7 text-white"})}),g.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),g.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[r==="login"&&g.jsxs("form",{onSubmit:D,className:"space-y-6 pt-2 animate-fade-in",children:[g.jsx("div",{className:"text-center pb-2",children:g.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),g.jsxs("div",{className:"relative",children:[g.jsx($i,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"text",value:i,onChange:U=>a(U.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),g.jsx("div",{className:"text-right mt-1",children:g.jsx("button",{type:"button",onClick:()=>N("forgot_user"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci o usurio"})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),g.jsxs("div",{className:"relative",children:[g.jsx(fS,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"password",value:s,onChange:U=>o(U.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),g.jsx("div",{className:"text-right mt-1",children:g.jsx("button",{type:"button",onClick:()=>N("forgot_pass"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci a senha"})})]})]}),c&&g.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[g.jsx(qi,{className:"w-4 h-4 flex-shrink-0"}),c]}),g.jsx("button",{type:"submit",disabled:I,className:"w-full bg-slate-800 hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-wait text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:I?g.jsxs(g.Fragment,{children:[g.jsx(dS,{className:"w-4 h-4 animate-pulse"}),"Verificando segurana..."]}):g.jsxs(g.Fragment,{children:["Entrar ",g.jsx(MY,{className:"w-4 h-4"})]})})]}),r==="forgot_user"&&g.jsxs("div",{className:"animate-fade-in space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx($i,{className:"w-8 h-8 text-blue-600"})}),g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recuperar Usurio"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu e-mail cadastrado. Enviaremos seu nome de usurio para ele."})]}),_?g.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[g.jsx(th,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),g.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"E-mail Enviado!"}),g.jsx("p",{className:"text-sm text-green-700",children:_}),g.jsx("button",{onClick:()=>N("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):g.jsxs("form",{onSubmit:k,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"E-mail Cadastrado"}),g.jsxs("div",{className:"relative",children:[g.jsx(TJ,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"email",required:!0,value:d,onChange:U=>p(U.target.value),placeholder:"exemplo@empresa.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),g.jsxs("button",{type:"submit",disabled:E,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[E?"Enviando...":"Recuperar Usurio",!E&&g.jsx(jO,{className:"w-4 h-4"})]})]})]}),r==="forgot_pass"&&g.jsxs("div",{className:"animate-fade-in space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"bg-orange-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(fS,{className:"w-8 h-8 text-orange-600"})}),g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Redefinir Senha"}),g.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu usurio ou e-mail. Enviaremos as instrues de redefinio."})]}),_?g.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[g.jsx(th,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),g.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"Sucesso!"}),g.jsx("p",{className:"text-sm text-green-700",children:_}),g.jsx("button",{onClick:()=>N("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):g.jsxs("form",{onSubmit:P,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio ou E-mail"}),g.jsxs("div",{className:"relative",children:[g.jsx($i,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"text",required:!0,value:m,onChange:U=>y(U.target.value),placeholder:"Digite seu usurio ou email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),g.jsxs("button",{type:"submit",disabled:E,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[E?"Enviando...":"Enviar Instrues",!E&&g.jsx(jO,{className:"w-4 h-4"})]})]})]})]})]})]})},w7=({startDate:e,endDate:t,onRangeChange:r,label:n="Perodo"})=>{const[i,a]=R.useState(!1),[s,o]=R.useState(new Date),c=R.useRef(null);R.useEffect(()=>{const I=O=>{c.current&&!c.current.contains(O.target)&&a(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const u=I=>I.toISOString().split("T")[0],d=I=>{const O=u(I);!e||e&&t?r(O,""):O<e?r(O,e):r(e,O)},p=I=>{I.stopPropagation(),r("","")},m=()=>{const I=s.getFullYear(),O=s.getMonth(),D=new Date(I,O,1),M=new Date(I,O+1,0),N=new Date(D);N.setDate(N.getDate()-D.getDay());const k=new Date(M);k.setDate(k.getDate()+(6-M.getDay()));const P=[];let U=new Date(N);for(;U<=k;)P.push(new Date(U)),U.setDate(U.getDate()+1);return P},y=I=>{const O=u(I);return O===e||O===t},_=I=>{if(!e||!t)return!1;const O=u(I);return O>e&&O<t},b=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],E=I=>{const O=new Date(s);O.setMonth(O.getMonth()+I),o(O)},A=()=>{const I=new Date;o(I),r(u(I),u(I))},L=()=>e?t?`${e.split("-").reverse().join("/")} - ${t.split("-").reverse().join("/")}`:`${e.split("-").reverse().join("/")} - ...`:"Selecionar data";return g.jsxs("div",{className:"relative inline-block",ref:c,children:[g.jsxs("button",{type:"button",onClick:()=>a(!i),className:`flex items-center gap-2 h-8 px-3 rounded-md border transition-all duration-200 outline-none
          ${i?"bg-primary-container border-primary text-on-primary-container shadow-sm":e?"bg-secondary-container border-outline text-on-secondary-container":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[g.jsx(Dp,{className:`w-3.5 h-3.5 ${e?"text-primary":"text-gray-400"}`}),g.jsx("span",{className:"text-[11px] font-bold uppercase tracking-tight mr-1",children:n}),g.jsx("span",{className:"text-[11px] font-medium",children:L()}),e&&g.jsx(Na,{className:"w-3 h-3 ml-1 hover:text-error transition-colors",onClick:p})]}),i&&g.jsxs("div",{className:"absolute top-full left-0 mt-2 z-[9999] bg-white border border-outline-variant rounded-2xl shadow-elevation-3 p-4 min-w-[280px] sm:min-w-[320px] animate-in fade-in slide-in-from-top-2 duration-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-sm font-bold text-on-surface ml-2",children:[b[s.getMonth()]," de ",s.getFullYear()]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-surface-container-highest rounded-full transition-colors","aria-label":"Ms anterior",children:g.jsx(GY,{className:"w-5 h-5 text-on-surface-variant"})}),g.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-surface-container-highest rounded-full transition-colors","aria-label":"Prximo ms",children:g.jsx(I8,{className:"w-5 h-5 text-on-surface-variant"})})]})]}),g.jsxs("div",{className:"grid grid-cols-7 gap-y-1 mb-4",children:[["D","S","T","Q","Q","S","S"].map((I,O)=>g.jsx("div",{className:"text-center text-[11px] font-bold text-on-surface-variant h-8 flex items-center justify-center",children:I},O)),m().map((I,O)=>{const D=y(I),M=_(I),N=u(I)===u(new Date),k=I.getMonth()===s.getMonth();return g.jsx("div",{className:`relative flex items-center justify-center h-10 w-full cursor-pointer
                    ${M?"bg-primary-container":""}
                    ${D&&e&&t&&u(I)===e?"rounded-l-full":""}
                    ${D&&e&&t&&u(I)===t?"rounded-r-full":""}
                    ${D&&(!e||!t||e===t)?"rounded-full":""}
                  `,onClick:()=>d(I),children:g.jsx("div",{className:`
                    w-8 h-8 flex items-center justify-center text-[12px] font-medium transition-all duration-200
                    ${D?"bg-primary text-on-primary rounded-full shadow-sm z-10":N?"border border-primary text-primary rounded-full":k?"text-on-surface":"text-gray-300"}
                    ${!D&&!M&&k?"hover:bg-surface-variant rounded-full":""}
                  `,children:I.getDate()})},O)})]}),g.jsxs("div",{className:"flex items-center justify-between border-t border-outline-variant pt-3 px-2",children:[g.jsx("button",{onClick:A,className:"text-xs font-bold text-primary hover:bg-primary/5 px-3 py-1.5 rounded-full transition-colors",children:"Hoje"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:p,className:"text-xs font-bold text-error hover:bg-error/5 px-3 py-1.5 rounded-full transition-colors",children:"Limpar"}),g.jsx("button",{onClick:()=>a(!1),className:"text-xs font-bold text-primary bg-primary/10 hover:bg-primary/20 px-4 py-1.5 rounded-full transition-colors",children:"Concluir"})]})]})]})]})},hTe=(e,t=200,r=200,n=.7)=>new Promise((i,a)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=o=>{const c=new Image;c.src=o.target?.result,c.onload=()=>{const u=document.createElement("canvas");let d=c.width,p=c.height;d>p?d>t&&(p=Math.round(p*=t/d),d=t):p>r&&(d=Math.round(d*=r/p),p=r),u.width=d,u.height=p;const m=u.getContext("2d");if(!m){a(new Error("Could not get canvas context"));return}m.drawImage(c,0,0,d,p);const y=u.toDataURL("image/jpeg",n);i(y)},c.onerror=u=>a(u)},s.onerror=o=>a(o)}),pTe=({currentUser:e,users:t,onAddUser:r,onUpdateUser:n,onDeleteUser:i,onCleanupDuplicates:a,totalClients:s})=>{const[o,c]=R.useState(null),[u,d]=R.useState(""),[p,m]=R.useState(""),[y,_]=R.useState(""),b=fX(e.role),E=b.includes("sales_external")?"sales_external":b[0],[A,L]=R.useState(E),[I,O]=R.useState("Externo"),[D,M]=R.useState("#3B82F6"),[N,k]=R.useState(void 0),P=R.useRef(null),[U,B]=R.useState("Todos"),F=()=>{c(null),d(""),m(""),_(""),L(E),O("Externo"),M("#3B82F6"),k(void 0),P.current&&(P.current.value="")},H=ce=>{if(!Ww(e.role,ce.role)){alert("Voc no tem permisso para editar este usurio (Nvel Hierrquico Superior ou Igual).");return}c(ce.id),d(ce.name),m(ce.username),_(ce.password||""),L(uX(ce.role)),O(ce.salesCategory||"N/A"),M(ce.color||"#3B82F6"),k(ce.photoURL),window.scrollTo({top:0,behavior:"smooth"})},fe=async ce=>{const ie=ce.target.files?.[0];if(ie){if(!["image/jpeg","image/png"].includes(ie.type)){alert("Apenas imagens JPEG ou PNG so permitidas.");return}if(ie.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB.");return}try{const xe=await hTe(ie);k(xe)}catch(xe){console.error("Erro ao processar imagem:",xe),alert("Erro ao processar a imagem. Tente novamente.")}}},pe=ce=>{if(ce.preventDefault(),!u||!p||!y)return;const ie=Sa[A]>=4,xe={id:o||Date.now().toString(),name:u,username:p,role:A,password:y,salesCategory:ie?I:"N/A",color:ie?D:void 0,photoURL:N};o?n(xe):r(xe),F()},re=t.filter(ce=>U==="Todos"||U==="N/A"&&Sa[ce.role]<=2?!0:ce.salesCategory===U),ue=["Todos","Externo","Interno","Mercado Livre"];return g.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[g.jsxs("div",{className:`bg-white rounded-[28px] shadow-elevation-1 p-6 transition-all border ${o?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${o?"text-primary":"text-on-surface"}`,children:[o?g.jsx(Kw,{className:"w-5 h-5"}):g.jsx(BO,{className:"w-5 h-5 text-primary"}),o?"Editar Usurio":"Cadastrar Novo Usurio"]}),o&&g.jsxs("button",{onClick:F,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[g.jsx(Na,{className:"w-4 h-4"})," Cancelar Edio"]})]}),g.jsxs("form",{onSubmit:pe,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-3 flex justify-center mb-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:`w-24 h-24 rounded-full overflow-hidden border-2 flex items-center justify-center bg-surface-container-highest ${N?"border-primary":"border-dashed border-outline-variant"}`,children:N?g.jsx("img",{src:N,alt:"Profile",className:"w-full h-full object-cover"}):g.jsx($i,{className:"w-10 h-10 text-on-surface-variant/50"})}),g.jsxs("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 p-1.5 bg-primary text-on-primary rounded-full shadow-md cursor-pointer hover:bg-primary/90 transition-colors",title:"Alterar foto",children:[g.jsx(zY,{className:"w-4 h-4"}),g.jsx("input",{id:"photo-upload",type:"file",accept:"image/jpeg, image/png",onChange:fe,className:"hidden",ref:P})]}),N&&g.jsx("button",{type:"button",onClick:()=>{k(void 0),P.current&&(P.current.value="")},className:"absolute -top-1 -right-1 p-1 bg-error text-white rounded-full shadow-md hover:bg-error/90 transition-colors",title:"Remover foto",children:g.jsx(Na,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:"ml-4 flex flex-col justify-center",children:[g.jsx("span",{className:"text-sm font-medium text-on-surface",children:"Foto de Perfil"}),g.jsx("span",{className:"text-xs text-on-surface-variant",children:"JPG ou PNG at 2MB."})]})]}),g.jsxs("div",{className:"lg:col-span-2",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),g.jsx("input",{type:"text",value:u,onChange:ce=>d(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),g.jsx("input",{type:"text",value:p,onChange:ce=>m(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),g.jsx("input",{type:"text",value:y,onChange:ce=>_(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),g.jsx("select",{value:A,onChange:ce=>L(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:b.map(ce=>g.jsx("option",{value:ce,children:B8[ce]||ce},ce))}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 pl-1",children:"* Voc s pode criar nveis abaixo do seu."})]}),Sa[A]>=4&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),g.jsxs("select",{value:I,onChange:ce=>O(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"color",value:D,onChange:ce=>M(ce.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),g.jsx("input",{type:"text",value:D,onChange:ce=>M(ce.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),g.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:g.jsxs("button",{type:"submit",disabled:!u||!p||!y,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${o?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[o?g.jsx(Sm,{className:"w-4 h-4"}):g.jsx(BO,{className:"w-4 h-4"}),o?"Salvar Alteraes":"Criar Acesso"]})})]})]}),g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 overflow-hidden",children:[g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[g.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[g.jsx($i,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",re.length,")"]}),g.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(qi,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),g.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",g.jsx("strong",{children:s}),s>143&&g.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),g.jsxs("button",{onClick:a,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[g.jsx(qi,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),g.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:ue.map(ce=>g.jsx("button",{onClick:()=>B(ce),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${U===ce?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:ce},ce))})]}),g.jsx("div",{className:"hidden md:block overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),g.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),g.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[re.map(ce=>g.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${o===ce.id?"bg-primary-container/30":""}`,children:[g.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30",children:ce.photoURL?g.jsx("img",{src:ce.photoURL,alt:ce.name,className:"w-full h-full object-cover"}):g.jsx($i,{className:"w-4 h-4 text-primary"})}),ce.name]})}),g.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:ce.username}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${Sa[ce.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:VO(ce.role)})}),g.jsx("td",{className:"px-6 py-4",children:Sa[ce.role]>=4?g.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[g.jsx(qa,{className:"w-3.5 h-3.5"}),ce.salesCategory||"N/A"]}):g.jsx("span",{className:"text-outline-variant",children:"-"})}),g.jsx("td",{className:"px-6 py-4",children:Sa[ce.role]>=4&&ce.color?g.jsx("div",{className:"flex items-center gap-2",title:ce.color,children:g.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:ce.color}})}):g.jsx("span",{className:"text-outline-variant",children:"-"})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx("div",{className:"flex items-center justify-end gap-2",children:Ww(e.role,ce.role)?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>H(ce),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:g.jsx(Kw,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>i(ce.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:g.jsx(nf,{className:"w-4 h-4"})})]}):g.jsx("div",{className:"flex items-center gap-2 opacity-30 cursor-not-allowed",children:g.jsx("span",{className:"text-xs italic",children:"Sem permisso"})})})})]},ce.id)),re.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),g.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[re.map(ce=>g.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${o===ce.id?"bg-primary-container/30 border-primary/30":""}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30 flex-shrink-0",children:ce.photoURL?g.jsx("img",{src:ce.photoURL,alt:ce.name,className:"w-full h-full object-cover"}):g.jsx($i,{className:"w-5 h-5 text-primary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-on-surface",children:ce.name}),g.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",ce.username]})]})]}),g.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${Sa[ce.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:VO(ce.role)})]}),g.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[g.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[g.jsx("span",{children:"Categoria:"}),g.jsx("span",{className:"font-medium text-on-surface",children:ce.salesCategory||"-"})]}),g.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[g.jsx("span",{children:"Senha:"}),g.jsx("span",{className:"font-mono",children:ce.password||"***"})]})]}),g.jsx("div",{className:"flex justify-end gap-2 pt-2",children:Ww(e.role,ce.role)&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>H(ce),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[g.jsx(Kw,{className:"w-3.5 h-3.5"})," Editar"]}),g.jsxs("button",{onClick:()=>i(ce.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[g.jsx(nf,{className:"w-3.5 h-3.5"})," Remover"]})]})})]},ce.id)),re.length===0&&g.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},mTe=({categories:e,onAddCategory:t,onDeleteCategory:r})=>{const[n,i]=R.useState(""),a=s=>{s.preventDefault(),n.trim()&&(t(n.trim()),i(""))};return g.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[g.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[g.jsx(L8,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),g.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),g.jsxs("form",{onSubmit:a,className:"flex gap-3 mb-8",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(A2,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),g.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[g.jsx(S2,{className:"w-4 h-4"})," Adicionar"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.map(s=>g.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[g.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s]}),g.jsx("button",{onClick:()=>r(s),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:g.jsx(nf,{className:"w-4 h-4"})})]},s)),e.length===0&&g.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},gTe=({products:e,onUploadProducts:t,onClearProducts:r,onSaveProducts:n,apiKey:i})=>{const[a,s]=R.useState(!1),[o,c]=R.useState(""),[u,d]=R.useState(!1),[p,m]=R.useState({current:0,total:0}),[y,_]=R.useState([]),[b,E]=R.useState(null),[A,L]=R.useState(!1);R.useEffect(()=>{_(e),L(!1)},[e]);const I=async F=>{const H=F.target.files?.[0];if(H){s(!0);try{let fe=[];const pe=H.name.toLowerCase();if(pe.endsWith(".csv"))fe=await bU(H);else if(pe.endsWith(".xlsx")||pe.endsWith(".xls"))fe=await nB(H);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");t(fe),F.target.value=""}catch(fe){console.error("Error parsing products:",fe),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{s(!1)}}},O=()=>{n&&(n(y),L(!1),alert("Alteraes salvas com sucesso!"))},D=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(y.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${y.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){d(!0),m({current:0,total:y.length});try{const F=await _ve(y,i,(H,fe)=>{m({current:H,total:fe})});_(F),L(!0),alert(` ${F.length} produtos foram categorizados pela IA!`)}catch(F){console.error("AI Categorization failed",F),alert(`Erro ao categorizar produtos: ${F.message||"Erro desconhecido"}`)}finally{d(!1),m({current:0,total:0})}}},M=(F,H,fe)=>{const pe=[...y];pe[F]={...pe[F],[H]:fe},_(pe),L(!0)},N=F=>{let H="asc";b&&b.key===F&&b.direction==="asc"&&(H="desc"),E({key:F,direction:H})},k=F=>b?[...F].sort((H,fe)=>{let pe=H[b.key],re=fe[b.key];return b.key==="price"||b.key==="discount"?(pe=Number(pe||0),re=Number(re||0)):(pe=String(pe||"").toLowerCase(),re=String(re||"").toLowerCase()),pe<re?b.direction==="asc"?-1:1:pe>re?b.direction==="asc"?1:-1:0}):F,P=y.map((F,H)=>({...F,originalIndex:H})).filter(F=>(F.name||"").toLowerCase().includes(o.toLowerCase())||(F.sku||"").toLowerCase().includes(o.toLowerCase())||(F.brand||"").toLowerCase().includes(o.toLowerCase())||(F.category||"").toLowerCase().includes(o.toLowerCase())||(F.factoryCode||"").toLowerCase().includes(o.toLowerCase())),U=k(P),B=({column:F})=>b?.key!==F?g.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):b.direction==="asc"?g.jsx(jY,{className:"w-3 h-3 ml-1 inline-block text-primary"}):g.jsx(IY,{className:"w-3 h-3 ml-1 inline-block text-primary"});return g.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[g.jsx(Qs,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),g.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),g.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[A&&g.jsxs("button",{onClick:O,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[g.jsx(Sm,{className:"w-4 h-4"})," Salvar Alteraes"]}),e.length>0&&g.jsxs("button",{onClick:D,disabled:u,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?g.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):g.jsx(UO,{className:"w-4 h-4"}),u?"Processando...":"IA Classificar"]}),e.length>0&&g.jsxs("button",{onClick:r,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(nf,{className:"w-4 h-4"})," Limpar"]}),g.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${a?"opacity-50 pointer-events-none":""}`,children:[a?g.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):g.jsx(aX,{className:"w-4 h-4"}),a?"Processando...":"Importar CSV",g.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:I})]})]})]}),e.length===0?g.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[g.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:g.jsx(py,{className:"w-8 h-8 text-outline"})}),g.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),g.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):g.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[g.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[g.jsx(yl,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),g.jsx("input",{type:"text",value:o,onChange:F=>c(F.target.value),placeholder:"Filtrar por SKU, Marca, Departamento, Nome...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),g.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>N("sku"),children:["SKU ",g.jsx(B,{column:"sku"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("brand"),children:["Marca ",g.jsx(B,{column:"brand"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>N("name"),children:["Produto ",g.jsx(B,{column:"name"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>N("category"),children:["Departamento ",g.jsx(B,{column:"category"})]}),g.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("price"),children:["Preo (R$) ",g.jsx(B,{column:"price"})]}),g.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>N("discount"),children:["Desc. (%) ",g.jsx(B,{column:"discount"})]})]})}),g.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:U.map(F=>g.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[g.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:F.sku}),g.jsx("td",{className:"px-4 py-2 font-bold text-primary text-xs uppercase",children:F.brand}),g.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:F.name,children:F.name}),g.jsx("td",{className:"px-2 py-2",children:g.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:F.category,onChange:H=>M(F.originalIndex,"category",H.target.value),title:"Editar Categoria",placeholder:"Categoria"})}),g.jsx("td",{className:"px-2 py-2 text-right",children:g.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:F.price,onChange:H=>M(F.originalIndex,"price",parseFloat(H.target.value)||0),title:"Editar Preo",placeholder:"0,00"})}),g.jsx("td",{className:"px-2 py-2 text-right",children:g.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:F.discount||0,onChange:H=>M(F.originalIndex,"discount",parseFloat(H.target.value)||0),title:"Editar Desconto",placeholder:"0.0"})})]},`${F.sku}-${F.originalIndex}`))})]})}),g.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[U.map(F=>g.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:F.sku}),g.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:F.name}),g.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:F.brand})]}),g.jsx("div",{className:"text-right",children:g.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:F.factoryCode})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Departamento"}),g.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:F.category,onChange:H=>M(F.originalIndex,"category",H.target.value),title:"Editar Departamento",placeholder:"Departamento"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),g.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:F.discount||0,onChange:H=>M(F.originalIndex,"discount",parseFloat(H.target.value)||0),title:"Editar Desconto",placeholder:"0"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),g.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:F.price,onChange:H=>M(F.originalIndex,"price",parseFloat(H.target.value)||0),title:"Editar Preo",placeholder:"0,00"})]})]},`${F.sku}-${F.originalIndex}`)),U.length===0&&g.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),g.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[g.jsxs("span",{children:["Total de Produtos: ",g.jsx("strong",{children:y.length})]}),g.jsxs("span",{children:["Exibindo: ",g.jsx("strong",{children:U.length})]})]})]})]}),u&&g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[g.jsx(UO,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),g.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&d(!1)},className:"text-on-surface-variant hover:text-on-surface",title:"Cancelar categorizao IA",children:g.jsx(Na,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[g.jsx("span",{children:"Processando produtos..."}),g.jsxs("span",{className:"font-mono font-bold text-primary",children:[p.current," / ",p.total]})]}),g.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${p.current/p.total*100}%`}})}),g.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},vTe=({isOpen:e,onClose:t,onSaveToCloud:r,onClearDatabase:n,isFirebaseConnected:i=!1})=>{const[a,s]=R.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[o,c]=R.useState("idle"),[u,d]=R.useState("");R.useEffect(()=>{if(e){const _=l7();_&&(s(_),c("success"),d("Configurao salva encontrada."))}},[e]);const p=_=>{s({...a,[_.target.name]:_.target.value}),c("idle"),d("")},m=async()=>{if(c("testing"),d("Testando conexo..."),!a.apiKey||!a.projectId){c("error"),d("Campos obrigatrios faltando.");return}try{await rN(a)?($we(a),c("success"),d("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(c("error"),d("Falha ao conectar. Verifique as credenciais."))}catch(_){c("error"),d("Erro: "+_.message)}},y=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(Hwe(),s({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),c("idle"),d("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return e?g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col overflow-hidden transform transition-all animate-scale-in border border-white/20",children:[g.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white shrink-0 relative",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-purple-600 rounded-2xl shadow-lg ring-4 ring-purple-500/20",children:g.jsx(lS,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold tracking-tight",children:"Cloud Sync"}),g.jsx("p",{className:"text-slate-400 text-[10px] font-medium uppercase tracking-wider",children:"Infraestrutura Firebase"})]})]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(Na,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4 mb-2",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(D8,{className:"w-4 h-4 text-blue-600"})}),g.jsxs("p",{className:"text-[11px] text-blue-800 leading-relaxed font-medium",children:["Insira as credenciais do seu projeto Firebase. Voc as encontra no Console ",">"," Configuraes ",">"," Seus aplicativos."]})]}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsx("div",{className:"space-y-3",children:["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].map(_=>g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500/30 group-focus-within:bg-purple-500 transition-colors"})}),g.jsx("input",{type:"text",name:_,placeholder:_,value:a[_],onChange:p,className:"w-full bg-gray-50 border border-gray-100 rounded-xl pl-8 pr-4 py-3 text-xs text-gray-700 placeholder:text-gray-400 focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none transition-all font-mono"})]},_))})}),u&&g.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-widest p-4 rounded-xl flex items-center gap-3 border shadow-sm ${o==="error"?"bg-red-50 border-red-100 text-red-600":o==="success"?"bg-green-50 border-green-100 text-green-600":"bg-gray-50 border-gray-100 text-gray-500"}`,children:[o==="testing"&&g.jsx(Mc,{className:"w-4 h-4 animate-spin"}),o==="success"&&g.jsx(th,{className:"w-4 h-4"}),u]}),i&&r&&n&&g.jsxs("div",{className:"pt-2",children:[g.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Operaes de Dados"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:r,className:"flex-1 py-3 bg-white hover:bg-blue-50 text-blue-600 text-xs font-bold rounded-xl border border-blue-100 shadow-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(lS,{className:"w-4 h-4"}),"Backup"]}),g.jsxs("button",{onClick:n,className:"flex-1 py-3 bg-white hover:bg-red-50 text-red-600 text-xs font-bold rounded-xl border border-red-100 shadow-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(nf,{className:"w-4 h-4"}),"Limpar"]})]})]})]}),g.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-wrap justify-end gap-3 shrink-0",children:[o==="success"&&g.jsxs("button",{onClick:y,className:"px-4 py-2 text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-50 rounded-xl transition-all mr-auto flex items-center gap-2 border border-red-100",children:[g.jsx(nf,{className:"w-4 h-4"})," Desconectar"]}),g.jsx("button",{onClick:t,className:"px-5 py-2.5 text-gray-500 hover:text-gray-800 font-bold text-[10px] uppercase tracking-widest transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:m,disabled:o==="testing",className:"px-6 py-2.5 bg-purple-600 hover:bg-purple-700 text-white font-bold text-[10px] uppercase tracking-widest rounded-xl shadow-lg shadow-purple-500/20 transition-all flex items-center gap-2 disabled:opacity-50 active:scale-95",children:o==="testing"?g.jsxs(g.Fragment,{children:[g.jsx(Mc,{className:"w-3.5 h-3.5 animate-spin"})," Verificando..."]}):"Salvar e Conectar"})]})]})}):null},yTe=({onAccept:e,onDecline:t})=>{const[r,n]=R.useState(!1);R.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const o=setTimeout(()=>n(!0),1500);return()=>clearTimeout(o)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),n(!1),e()},a=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),n(!1),t()};return r?g.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] p-4 animate-slide-up",children:g.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-3xl p-6 flex flex-col md:flex-row items-center justify-between gap-6 ring-1 ring-blue-500/10",children:[g.jsxs("div",{className:"flex items-start gap-5",children:[g.jsx("div",{className:"bg-blue-600/10 p-4 rounded-2xl text-blue-600 shrink-0 ring-1 ring-blue-500/20",children:g.jsx(eJ,{className:"w-7 h-7"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1.5 tracking-tight",children:"Privacidade e Performance"}),g.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:"Utilizamos armazenamento local para garantir que seu sistema carregue instantaneamente (cache offline). Isso permite agilidade mxima e operao em reas com sinal oscilante."})]})]}),g.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[g.jsx("button",{onClick:a,className:"flex-1 md:flex-none px-6 py-3 text-xs font-bold text-gray-400 uppercase tracking-widest hover:text-gray-700 transition-all rounded-xl",children:"Pular"}),g.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-8 py-3 text-xs font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-xl shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(th,{className:"w-4 h-4"}),"Ativar Cache Rpido"]})]})]})}):null},xTe=({users:e,uploadedFiles:t,onUploadClients:r,onUploadProducts:n,onUploadPurchases:i,onDeleteFile:a,onReassignSalesperson:s,procState:o={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,u]=R.useState("clients"),[d,p]=R.useState(""),[m,y]=R.useState([]),_=O=>{if(O.target.files&&O.target.files.length>0){const D=Array.from(O.target.files).map(M=>({file:M,targetUserId:d||""}));y(M=>[...M,...D]),O.target.value=""}},b=O=>{y(D=>D.filter((M,N)=>N!==O))},E=(O,D)=>{y(M=>{const N=[...M];return N[O].targetUserId=D,N})},A=async()=>{const O=m.filter(D=>D.targetUserId);if(O.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const D of O)await r(D.file,D.targetUserId,!0);y([])},L=O=>{const D=O.target.files?.[0];D&&(n(D),O.target.value="")},I=t.filter(O=>O.type===c);return g.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[g.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[g.jsx(gp,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),g.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),g.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[g.jsxs("button",{onClick:()=>u("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(Hy,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),g.jsxs("button",{onClick:()=>u("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(Qs,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),g.jsxs("button",{onClick:()=>u("purchases"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="purchases"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(my,{className:"w-4 h-4"}),"Atualizar Compras (Razo Social)",c==="purchases"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),o?.isActive&&g.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${o.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[o.status==="processing"||o.status==="reading"?g.jsx(Mc,{className:"w-5 h-5 animate-spin"}):o.status==="completed"?g.jsx(Wu,{className:"w-5 h-5"}):g.jsx(qi,{className:"w-5 h-5"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm",children:o.status==="reading"?"Lendo arquivo...":o.status==="processing"?"Processando dados...":o.status==="completed"?"Importao Concluda!":"Erro na Importao"}),o.errorMessage&&g.jsx("p",{className:"text-xs mt-1 opacity-80",children:o.errorMessage})]})]}),g.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[g.jsx("div",{className:"lg:col-span-4",children:g.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[g.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[g.jsx(_Te,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:O=>p(O.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),e.filter(O=>Md(O.role)).map(O=>g.jsx("option",{value:O.id,children:O.name},O.id))]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:g.jsx(b6,{className:"w-4 h-4"})})]})]}),m.length>0&&g.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[g.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[g.jsxs("span",{children:["Arquivos na Fila (",m.length,")"]}),g.jsx("button",{onClick:()=>y([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),g.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:m.map((O,D)=>g.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[g.jsx(py,{className:"w-4 h-4 text-primary shrink-0"}),g.jsx("span",{className:"truncate flex-1 font-medium",title:O.file.name,children:O.file.name}),g.jsxs("select",{value:O.targetUserId,onChange:M=>E(D,M.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${O.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[g.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),e.filter(M=>Md(M.role)).map(M=>g.jsx("option",{value:M.id,children:M.name},M.id))]}),g.jsx("button",{onClick:()=>b(D),className:"text-on-surface-variant hover:text-error p-1",children:g.jsx(Na,{className:"w-3 h-3"})})]},D))}),g.jsx("button",{onClick:A,disabled:o?.isActive||m.some(O=>!O.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:o?.isActive?g.jsxs(g.Fragment,{children:[g.jsx(Mc,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(Wu,{className:"w-3 h-3"}),"Processar ",m.length," Arquivos"]})})]}),g.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:g.jsx(gp,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),g.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:_,disabled:o?.isActive&&o.status==="processing"})]})]}):c==="purchases"?g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-xs text-blue-800 mb-2 flex gap-3 border border-blue-100 italic",children:[g.jsx(qi,{className:"w-5 h-5 shrink-0 text-blue-500"}),g.jsx("p",{children:"Este upload identifica o cliente pela **Razo Social** e substitui todo o histrico de compras dele pelos produtos deste arquivo."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Destino"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:O=>p(O.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),e.filter(O=>Md(O.role)).map(O=>g.jsx("option",{value:O.id,children:O.name},O.id))]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:g.jsx(b6,{className:"w-4 h-4"})})]})]}),g.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-blue-300 bg-blue-50/30 hover:bg-blue-50/50 hover:border-blue-500":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white":"bg-surface-variant text-on-surface-variant"}`,children:g.jsx(gp,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Carregar Planilha de Compras"})]}),g.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:O=>{const D=O.target.files?.[0];D&&d&&(i(D,d),O.target.value="")},disabled:o?.isActive&&o.status==="processing"})]}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant italic",children:[g.jsx(my,{className:"w-3 h-3"}),g.jsx("span",{children:"Colunas Esperadas: Razo Social, SKU, Nome do Produto"})]})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[g.jsx(Qs,{className:"w-5 h-5 shrink-0"}),g.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),g.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:g.jsx(Qs,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),g.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:L,disabled:o?.isActive&&o.status==="processing"})]})]})]})}),g.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between mb-2",children:g.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[g.jsx(py,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",g.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:I.length})]})}),I.length===0?g.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[g.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:g.jsx(my,{className:"w-10 h-10 text-outline"})}),g.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),g.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):g.jsx("div",{className:"space-y-3",children:I.map(O=>g.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[g.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${O.status==="error"?"bg-error-container text-error":O.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:O.status==="processing"?g.jsx(Mc,{className:"w-5 h-5 animate-spin"}):O.status==="error"?g.jsx(qi,{className:"w-5 h-5"}):g.jsx(py,{className:"w-5 h-5"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:O.fileName,children:O.fileName}),g.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Dp,{className:"w-3 h-3"}),new Date(O.uploadDate).toLocaleDateString(),g.jsx("span",{className:"opacity-60 ml-1",children:new Date(O.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(Wu,{className:"w-3 h-3"}),O.itemCount," registros"]})]}),O.status==="error"&&g.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:O.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&g.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:e.find(M=>M.id===O.salespersonId)?.name?.charAt(0)||"?"}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsxs("select",{value:O.salespersonId,onChange:D=>s?.(O.id,D.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:O.status==="processing",children:[g.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),e.filter(D=>Md(D.role)).map(D=>g.jsx("option",{value:D.id,className:"bg-surface text-on-surface",children:D.name},D.id))]}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),g.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:O.status==="processing"?g.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):g.jsxs("button",{onClick:()=>a(O.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[g.jsx(nf,{className:"w-4 h-4"}),g.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},O.id))})]})]})]})};function b6(e){return g.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function _Te(e){return g.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),g.jsx("circle",{cx:"12",cy:"10",r:"5"}),g.jsx("path",{d:"M12 15V3"}),g.jsx("path",{d:"m9 6 3-3 3 3"})]})}const bTe=({isOpen:e,onClose:t,onConfirm:r,suggestedKey:n})=>{const[i,a]=Nr.useState(!1),[s,o]=Nr.useState(""),[c,u]=Nr.useState(!1);if(!e)return null;const d=()=>{navigator.clipboard.writeText(n)},p=m=>m?m.length<=10?"":`${m.slice(0,6)}${m.slice(-4)}`:"";return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsxs("div",{className:"bg-blue-600 p-8 text-center relative",children:[g.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(Na,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-md ring-4 ring-blue-500/30 shadow-inner",children:g.jsx($d,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Ativar Mapa"}),g.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"Configure seu acesso ao Google Maps"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(qi,{className:"w-5 h-5 text-blue-600"})}),g.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:i?"Insira sua prpria Chave de API do Google Maps abaixo para ativar as funcionalidades.":"Detectamos que seu mapa est aguardando ativao. Use a chave padro do sistema."})]}),i?g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Configurao Manual"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:s,onChange:m=>o(m.target.value),placeholder:"Comea com AIza...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-12 pr-4 py-4 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",autoFocus:!0}),g.jsx(FJ,{className:"absolute left-4 top-4.5 w-4 h-4 text-gray-400"})]})]}):g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Chave Recomendada"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"flex-1 bg-gray-50 border border-gray-100 rounded-xl px-4 py-3.5 font-mono text-sm text-gray-700 flex items-center justify-between shadow-inner",children:[g.jsx("span",{className:"truncate",children:c?n:p(n)}),g.jsx("button",{onClick:()=>u(!c),className:"text-gray-400 hover:text-gray-600 p-1 transition-colors",title:c?"Esconder":"Mostrar",children:c?g.jsx(O8,{className:"w-4 h-4"}):g.jsx(M8,{className:"w-4 h-4"})})]}),g.jsx("button",{onClick:d,className:"bg-gray-50 hover:bg-gray-100 text-blue-600 p-3.5 rounded-xl transition-all border border-gray-100 shadow-sm active:scale-95",title:"Copiar chave",children:g.jsx(rJ,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[g.jsxs("button",{onClick:()=>r(i?s:n),disabled:i&&!s.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 disabled:text-gray-500 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:[g.jsx(th,{className:"w-5 h-5"}),i?"Ativar Manualmente":"Carregar Mapa Agora"]}),g.jsx("button",{onClick:()=>{a(!i),o(""),u(!1)},className:"w-full py-2 text-xs text-gray-400 hover:text-blue-600 font-bold uppercase tracking-widest transition-all",children:i?"Voltar para recomendada":"Usar outra chave (Manual)"})]})]})]})})},wTe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,i]=Nr.useState(""),[a,s]=Nr.useState(!1);return Nr.useEffect(()=>{if(e){const o=localStorage.getItem("cnpja_api_key")||"";i(o)}},[e]),e?g.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsxs("div",{className:"bg-blue-600 p-8 text-center relative",children:[g.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(Na,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-md ring-4 ring-blue-500/30 shadow-inner",children:g.jsx($d,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"API Comercial CNPJa"}),g.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"Configure sua chave de consulta comercial"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(qi,{className:"w-5 h-5 text-blue-600"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:"A chave atual expirou ou est invlida. Insira sua nova Chave de API Comercial para restaurar a busca e atualizao de dados."}),g.jsxs("a",{href:"https://cnpja.com/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 font-bold flex items-center gap-1 underline",children:["Obter nova chave no site da CNPJa ",g.jsx(uS,{className:"w-3 h-3"})]})]})]}),g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Chave de API"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:a?"text":"password",value:n,onChange:o=>i(o.target.value),placeholder:"Insira sua chave aqui...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-12 pr-12 py-4 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",autoFocus:!0}),g.jsx($d,{className:"absolute left-4 top-4.5 w-4 h-4 text-gray-400"}),g.jsx("button",{onClick:()=>s(!a),className:"absolute right-4 top-4.5 text-gray-400 hover:text-gray-600 p-1 transition-colors",title:a?"Esconder":"Mostrar",children:a?g.jsx(O8,{className:"w-4 h-4"}):g.jsx(M8,{className:"w-4 h-4"})})]})]}),g.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[g.jsxs("button",{onClick:()=>r(n),disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 disabled:text-gray-500 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:[g.jsx(th,{className:"w-5 h-5"}),"Salvar Configurao"]}),g.jsx("p",{className:"text-[10px] text-center text-gray-400",children:"A chave ser salva apenas neste navegador."})]})]})]})}):null},ETe=({progress:e,message:t})=>{const[r,n]=R.useState(0);R.useEffect(()=>{if(r<e){const a=setTimeout(()=>n(s=>Math.min(s+1,e)),20);return()=>clearTimeout(a)}},[e,r]);const i=()=>e<30?g.jsx(j8,{className:"w-8 h-8 text-blue-400 animate-pulse"}):e<60?g.jsx(cS,{className:"w-8 h-8 text-purple-400 animate-bounce"}):e<90?g.jsx(Qs,{className:"w-8 h-8 text-orange-400 animate-pulse"}):g.jsx(P8,{className:"w-8 h-8 text-green-400"});return g.jsxs("div",{className:"fixed inset-0 z-[999] bg-slate-900 flex flex-col items-center justify-center p-6 text-white font-sans",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] opacity-10 bg-cover bg-center"}),g.jsxs("div",{className:"relative z-10 w-full max-w-sm text-center",children:[g.jsx("div",{className:"mb-8 flex justify-center",children:g.jsx("div",{className:"p-4 bg-white/5 rounded-3xl backdrop-blur-md border border-white/10 shadow-2xl",children:i()})}),g.jsx("h2",{className:"text-2xl font-bold mb-2 tracking-tight",children:"Preparando seu Ambiente"}),g.jsx("p",{className:"text-slate-400 text-sm mb-10 h-5",children:t}),g.jsxs("div",{className:"relative pt-1",children:[g.jsxs("div",{className:"flex mb-4 items-center justify-between",children:[g.jsx("div",{children:g.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-200 bg-blue-900/30 border border-blue-500/20",children:r===100?"Concludo":"Sincronizando"})}),g.jsx("div",{className:"text-right",children:g.jsxs("span",{className:"text-sm font-bold inline-block text-blue-400",children:[r,"%"]})})]}),g.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded-full bg-slate-800 border border-white/5 shadow-inner",children:g.jsx("div",{style:{width:`${r}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-to-r from-blue-600 to-purple-600 transition-all duration-300 ease-out"})}),g.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 uppercase font-bold tracking-widest px-1",children:[g.jsx("span",{children:"Incio"}),g.jsx("span",{children:"Autenticado"}),g.jsx("span",{children:"Pronto"})]})]})]}),g.jsx("div",{className:"absolute bottom-10 text-slate-600 text-[10px] uppercase tracking-[0.2em] font-medium",children:"Sincronizando com gen-lang-client-0586123917"})]})};function E7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=E7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=E7(e))&&(n&&(n+=" "),n+=t);return n}var TTe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sN(e){if(typeof e!="string")return!1;var t=TTe;return t.includes(e)}var STe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ATe=new Set(STe);function T7(e){return typeof e!="string"?!1:ATe.has(e)}function S7(e){return typeof e=="string"&&e.startsWith("data-")}function ka(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(T7(r)||S7(r))&&(t[r]=e[r]);return t}function pf(e){if(e==null)return null;if(R.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ka(t)}return typeof e=="object"&&!Array.isArray(e)?ka(e):null}function ha(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(T7(r)||S7(r)||sN(r))&&(t[r]=e[r]);return t}function CTe(e){return e==null?null:R.isValidElement(e)?ha(e.props):typeof e=="object"&&!Array.isArray(e)?ha(e):null}var NTe=["children","width","height","viewBox","className","style","title","desc"];function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TA.apply(null,arguments)}function kTe(e,t){if(e==null)return{};var r,n,i=ITe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ITe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oN=R.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=e,d=kTe(e,NTe),p=a||{width:n,height:i,x:0,y:0},m=dr("recharts-surface",s);return R.createElement("svg",TA({},ha(d),{className:m,width:n,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),R.createElement("title",null,c),R.createElement("desc",null,u),r)}),PTe=["children","className"];function SA(){return SA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SA.apply(null,arguments)}function RTe(e,t){if(e==null)return{};var r,n,i=OTe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OTe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cn=R.forwardRef((e,t)=>{var{children:r,className:n}=e,i=RTe(e,PTe),a=dr("recharts-layer",n);return R.createElement("g",SA({className:a},ha(i),{ref:t}),r)}),A7=R.createContext(null),MTe=()=>R.useContext(A7);function zr(e){return function(){return e}}const C7=Math.cos,Px=Math.sin,lo=Math.sqrt,Rx=Math.PI,t_=2*Rx,AA=Math.PI,CA=2*AA,Fu=1e-6,DTe=CA-Fu;function N7(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function LTe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return N7;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class FTe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?N7:LTe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,p=o-r,m=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Fu)if(!(Math.abs(p*c-u*d)>Fu)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-s,_=i-o,b=c*c+u*u,E=y*y+_*_,A=Math.sqrt(b),L=Math.sqrt(m),I=a*Math.tan((AA-Math.acos((b+m-E)/(2*A*L)))/2),O=I/L,D=I/A;Math.abs(O-1)>Fu&&this._append`L${t+O*d},${r+O*p}`,this._append`A${a},${a},0,0,${+(p*y>d*_)},${this._x1=t+D*c},${this._y1=r+D*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,p=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fu||Math.abs(this._y1-d)>Fu)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%CA+CA),m>DTe?this._append`A${n},${n},0,1,${p},${t-o},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=d}`:m>Fu&&this._append`A${n},${n},0,${+(m>=AA)},${p},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function lN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new FTe(t)}function cN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function k7(e){this._context=e}k7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function r_(e){return new k7(e)}function I7(e){return e[0]}function P7(e){return e[1]}function R7(e,t){var r=zr(!0),n=null,i=r_,a=null,s=lN(o);e=typeof e=="function"?e:e===void 0?I7:zr(e),t=typeof t=="function"?t:t===void 0?P7:zr(t);function o(c){var u,d=(c=cN(c)).length,p,m=!1,y;for(n==null&&(a=i(y=s())),u=0;u<=d;++u)!(u<d&&r(p=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(p,u,c),+t(p,u,c));if(y)return a=null,y+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:zr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:zr(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zr(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Jv(e,t,r){var n=null,i=zr(!0),a=null,s=r_,o=null,c=lN(u);e=typeof e=="function"?e:e===void 0?I7:zr(+e),t=typeof t=="function"?t:zr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?P7:zr(+r);function u(p){var m,y,_,b=(p=cN(p)).length,E,A=!1,L,I=new Array(b),O=new Array(b);for(a==null&&(o=s(L=c())),m=0;m<=b;++m){if(!(m<b&&i(E=p[m],m,p))===A)if(A=!A)y=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),_=m-1;_>=y;--_)o.point(I[_],O[_]);o.lineEnd(),o.areaEnd()}A&&(I[m]=+e(E,m,p),O[m]=+t(E,m,p),o.point(n?+n(E,m,p):I[m],r?+r(E,m,p):O[m]))}if(L)return o=null,L+""||null}function d(){return R7().defined(i).curve(s).context(a)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:zr(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:zr(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:zr(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:zr(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:zr(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:zr(+p),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:zr(!!p),u):i},u.curve=function(p){return arguments.length?(s=p,a!=null&&(o=s(a)),u):s},u.context=function(p){return arguments.length?(p==null?a=o=null:o=s(a=p),u):a},u}class O7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function jTe(e){return new O7(e,!0)}function UTe(e){return new O7(e,!1)}const uN={draw(e,t){const r=lo(t/Rx);e.moveTo(r,0),e.arc(0,0,r,0,t_)}},BTe={draw(e,t){const r=lo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},M7=lo(1/3),VTe=M7*2,zTe={draw(e,t){const r=lo(t/VTe),n=r*M7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$Te={draw(e,t){const r=lo(t),n=-r/2;e.rect(n,n,r,r)}},HTe=.8908130915292852,D7=Px(Rx/10)/Px(7*Rx/10),GTe=Px(t_/10)*D7,qTe=-C7(t_/10)*D7,KTe={draw(e,t){const r=lo(t*HTe),n=GTe*r,i=qTe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=t_*a/5,o=C7(s),c=Px(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},AE=lo(3),WTe={draw(e,t){const r=-lo(t/(AE*3));e.moveTo(0,r*2),e.lineTo(-AE*r,-r),e.lineTo(AE*r,-r),e.closePath()}},ds=-.5,hs=lo(3)/2,NA=1/lo(12),YTe=(NA/2+1)*3,JTe={draw(e,t){const r=lo(t/YTe),n=r/2,i=r*NA,a=n,s=r*NA+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(ds*n-hs*i,hs*n+ds*i),e.lineTo(ds*a-hs*s,hs*a+ds*s),e.lineTo(ds*o-hs*c,hs*o+ds*c),e.lineTo(ds*n+hs*i,ds*i-hs*n),e.lineTo(ds*a+hs*s,ds*s-hs*a),e.lineTo(ds*o+hs*c,ds*c-hs*o),e.closePath()}};function XTe(e,t){let r=null,n=lN(i);e=typeof e=="function"?e:zr(e||uN),t=typeof t=="function"?t:zr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:zr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:zr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ox(){}function Mx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function L7(e){this._context=e}L7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZTe(e){return new L7(e)}function F7(e){this._context=e}F7.prototype={areaStart:Ox,areaEnd:Ox,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QTe(e){return new F7(e)}function j7(e){this._context=e}j7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eSe(e){return new j7(e)}function U7(e){this._context=e}U7.prototype={areaStart:Ox,areaEnd:Ox,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function tSe(e){return new U7(e)}function w6(e){return e<0?-1:1}function E6(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(w6(a)+w6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function T6(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function CE(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Dx(e){this._context=e}Dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:CE(this,this._t0,T6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,CE(this,T6(this,r=E6(this,e,t)),r);break;default:CE(this,this._t0,r=E6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function B7(e){this._context=new V7(e)}(B7.prototype=Object.create(Dx.prototype)).point=function(e,t){Dx.prototype.point.call(this,t,e)};function V7(e){this._context=e}V7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function rSe(e){return new Dx(e)}function nSe(e){return new B7(e)}function z7(e){this._context=e}z7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=S6(e),i=S6(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function S6(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function iSe(e){return new z7(e)}function n_(e,t){this._context=e,this._t=t}n_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function aSe(e){return new n_(e,.5)}function sSe(e){return new n_(e,0)}function oSe(e){return new n_(e,1)}function mf(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function kA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function lSe(e,t){return e[t]}function cSe(e){const t=[];return t.key=e,t}function uSe(){var e=zr([]),t=kA,r=mf,n=lSe;function i(a){var s=Array.from(e.apply(this,arguments),cSe),o,c=s.length,u=-1,d;for(const p of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(p,s[o].key,u,a)]).data=p;for(o=0,d=cN(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:zr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:zr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?kA:typeof a=="function"?a:zr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??mf,i):r},i}function fSe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}mf(e,t)}}function dSe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}mf(e,t)}}function hSe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],p=d[n][1]||0,m=d[n-1][1]||0,y=(p-m)/2,_=0;_<o;++_){var b=e[t[_]],E=b[n][1]||0,A=b[n-1][1]||0;y+=E-A}c+=p,u+=y*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,mf(e,t)}}var NE={},kE={},A6;function pSe(){return A6||(A6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(kE)),kE}var IE={},C6;function $7(){return C6||(C6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(IE)),IE}var PE={},N6;function fN(){return N6||(N6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(PE)),PE}var RE={},OE={},k6;function mSe(){return k6||(k6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(OE)),OE}var I6;function dN(){return I6||(I6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mSe(),r=fN();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const p=i[o];u?p==="\\"&&o+1<s?(o++,c+=i[o]):p===u?u="":c+=p:d?p==='"'||p==="'"?u=p:p==="]"?(d=!1,a.push(c),c=""):c+=p:p==="["?(d=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,o++}return c&&a.push(c),a}e.toPath=n})(RE)),RE}var P6;function hN(){return P6||(P6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pSe(),r=$7(),n=fN(),i=dN();function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let p=0;p<c.length;p++){if(d==null||t.isUnsafeProperty(c[p]))return u;d=d[c[p]]}return d===void 0?u:d}e.get=a})(NE)),NE}var ME,R6;function gSe(){return R6||(R6=1,ME=hN().get),ME}var vSe=gSe();const gf=Ns(vSe);var ySe=4;function Oc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ySe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function dn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Oc(o)+a:i+a},"")}var ui=e=>e===0?0:e>0?1:-1,ao=e=>typeof e=="number"&&e!=+e,vf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,it=e=>(typeof e=="number"||e instanceof Number)&&!ao(e),jo=e=>it(e)||typeof e=="string",xSe=0,um=e=>{var t=++xSe;return"".concat(e||"").concat(t)},Wi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!it(t)&&typeof t!="string")return n;var a;if(vf(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return ao(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},H7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Wr(e,t,r){return it(e)&&it(t)?Oc(e+r*(t-e)):t}function G7(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):gf(n,t))===r)}var vn=e=>e===null||typeof e>"u",Um=e=>vn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Aa(e){return e!=null}function Lf(){}var _Se=["type","size","sizeType"];function IA(){return IA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IA.apply(null,arguments)}function O6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(r),!0).forEach(function(n){bSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bSe(e,t,r){return(t=wSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wSe(e){var t=ESe(e,"string");return typeof t=="symbol"?t:t+""}function ESe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TSe(e,t){if(e==null)return{};var r,n,i=SSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q7={symbolCircle:uN,symbolCross:BTe,symbolDiamond:zTe,symbolSquare:$Te,symbolStar:KTe,symbolTriangle:WTe,symbolWye:JTe},ASe=Math.PI/180,CSe=e=>{var t="symbol".concat(Um(e));return q7[t]||uN},NSe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*ASe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kSe=(e,t)=>{q7["symbol".concat(Um(e))]=t},pN=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=TSe(e,_Se),a=M6(M6({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var m=CSe(s),y=XTe().type(m).size(NSe(r,n,s)),_=y();if(_!==null)return _},{className:c,cx:u,cy:d}=a,p=ha(a);return it(u)&&it(d)&&it(r)?R.createElement("path",IA({},p,{className:dr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};pN.registerSymbol=kSe;var K7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,mN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{sN(i)&&(n[i]=(a=>r[i](r,a)))}),n},ISe=(e,t,r)=>n=>(e(t,r,n),null),Bm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];sN(i)&&typeof a=="function"&&(n||(n={}),n[i]=ISe(a,t,r))}),n};function D6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D6(Object(r),!0).forEach(function(n){RSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RSe(e,t,r){return(t=OSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OSe(e){var t=MSe(e,"string");return typeof t=="symbol"?t:t+""}function MSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(e,t){var r=PSe({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(null,arguments)}function L6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L6(Object(r),!0).forEach(function(n){LSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LSe(e,t,r){return(t=FSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FSe(e){var t=jSe(e,"string");return typeof t=="symbol"?t:t+""}function jSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gs=32,USe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function BSe(e){var{data:t,iconType:r,inactiveColor:n}=e,i=gs/2,a=gs/6,s=gs/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return R.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:gs,y2:i,className:"recharts-legend-icon"})}if(c==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(gs,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return R.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(gs/8,"h").concat(gs,"v").concat(gs*3/4,"h").concat(-gs,"z"),className:"recharts-legend-icon"});if(R.isValidElement(t.legendIcon)){var d=DSe({},t);return delete d.legendIcon,R.cloneElement(t.legendIcon,d)}return R.createElement(pN,{fill:o,cx:i,cy:i,size:gs,sizeType:"diameter",type:c})}function VSe(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:gs,height:gs},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,p)=>{var m=d.formatter||i,y=dr({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var _=d.inactive?a:d.color,b=m?m(d.value,d,p):d.value;return R.createElement("li",Lx({className:y,style:c,key:"legend-item-".concat(p)},Bm(e,d,p)),R.createElement(oN,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},R.createElement(BSe,{data:d,iconType:s,inactiveColor:a})),R.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b))})}var zSe=e=>{var t=Hn(e,USe),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:a},R.createElement(VSe,Lx({},t,{payload:r})))},DE={},LE={},F6;function $Se(){return F6||(F6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s,a,r);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(LE)),LE}var FE={},j6;function HSe(){return j6||(j6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(FE)),FE}var jE={},U6;function W7(){return U6||(U6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(jE)),jE}var UE={},BE={},VE={},B6;function GSe(){return B6||(B6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(VE)),VE}var V6;function gN(){return V6||(V6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GSe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(BE)),BE}var zE={},z6;function qSe(){return z6||(z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(zE)),zE}var $6;function KSe(){return $6||($6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gN(),r=qSe();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(UE)),UE}var $E={},HE={},H6;function WSe(){return H6||(H6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN();function r(n){return function(i){return t.get(i,n)}}e.property=r})(HE)),HE}var GE={},qE={},KE={},WE={},G6;function Y7(){return G6||(G6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(WE)),WE}var YE={},q6;function J7(){return q6||(q6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(YE)),YE}var JE={},K6;function X7(){return K6||(K6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(JE)),JE}var W6;function YSe(){return W6||(W6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y7(),r=J7(),n=X7();function i(d,p,m){return typeof m!="function"?i(d,p,()=>{}):a(d,p,function y(_,b,E,A,L,I){const O=m(_,b,E,A,L,I);return O!==void 0?!!O:a(_,b,y,I)},new Map)}function a(d,p,m,y){if(p===d)return!0;switch(typeof p){case"object":return s(d,p,m,y);case"function":return Object.keys(p).length>0?a(d,{...p},m,y):n.isEqualsSameValueZero(d,p);default:return t.isObject(d)?typeof p=="string"?p==="":!0:n.isEqualsSameValueZero(d,p)}}function s(d,p,m,y){if(p==null)return!0;if(Array.isArray(p))return c(d,p,m,y);if(p instanceof Map)return o(d,p,m,y);if(p instanceof Set)return u(d,p,m,y);const _=Object.keys(p);if(d==null||r.isPrimitive(d))return _.length===0;if(_.length===0)return!0;if(y?.has(p))return y.get(p)===d;y?.set(p,d);try{for(let b=0;b<_.length;b++){const E=_[b];if(!r.isPrimitive(d)&&!(E in d)||p[E]===void 0&&d[E]!==void 0||p[E]===null&&d[E]!==null||!m(d[E],p[E],E,d,p,y))return!1}return!0}finally{y?.delete(p)}}function o(d,p,m,y){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[_,b]of p.entries()){const E=d.get(_);if(m(E,b,_,d,p,y)===!1)return!1}return!0}function c(d,p,m,y){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const _=new Set;for(let b=0;b<p.length;b++){const E=p[b];let A=!1;for(let L=0;L<d.length;L++){if(_.has(L))continue;const I=d[L];let O=!1;if(m(I,E,b,d,p,y)&&(O=!0),O){_.add(L),A=!0;break}}if(!A)return!1}return!0}function u(d,p,m,y){return p.size===0?!0:d instanceof Set?c([...d],[...p],m,y):!1}e.isMatchWith=i,e.isSetMatch=u})(KE)),KE}var Y6;function Z7(){return Y6||(Y6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YSe();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(qE)),qE}var XE={},ZE={},QE={},J6;function JSe(){return J6||(J6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(QE)),QE}var eT={},X6;function vN(){return X6||(X6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(eT)),eT}var tT={},Z6;function Q7(){return Z6||(Z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",p="[object Function]",m="[object ArrayBuffer]",y="[object Object]",_="[object Error]",b="[object DataView]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",L="[object Uint16Array]",I="[object Uint32Array]",O="[object BigUint64Array]",D="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",P="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=b,e.dateTag=o,e.errorTag=_,e.float32ArrayTag=P,e.float64ArrayTag=U,e.functionTag=p,e.int16ArrayTag=M,e.int32ArrayTag=N,e.int8ArrayTag=D,e.mapTag=c,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=L,e.uint32ArrayTag=I,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=A})(tT)),tT}var rT={},Q6;function XSe(){return Q6||(Q6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(rT)),rT}var eL;function e$(){return eL||(eL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JSe(),r=vN(),n=Q7(),i=J7(),a=XSe();function s(d,p){return o(d,void 0,d,new Map,p)}function o(d,p,m,y=new Map,_=void 0){const b=_?.(d,p,m,y);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const E=new Array(d.length);y.set(d,E);for(let A=0;A<d.length;A++)E[A]=o(d[A],A,m,y,_);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;y.set(d,E);for(const[A,L]of d)E.set(A,o(L,A,m,y,_));return E}if(d instanceof Set){const E=new Set;y.set(d,E);for(const A of d)E.add(o(A,void 0,m,y,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,E);for(let A=0;A<d.length;A++)E[A]=o(d[A],A,m,y,_);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,E),c(E,d,m,y,_),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return y.set(d,E),c(E,d,m,y,_),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return y.set(d,E),c(E,d,m,y,_),E}if(d instanceof Error){const E=new d.constructor;return y.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,c(E,d,m,y,_),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return y.set(d,E),c(E,d,m,y,_),E}if(d instanceof Number){const E=new Number(d.valueOf());return y.set(d,E),c(E,d,m,y,_),E}if(d instanceof String){const E=new String(d.valueOf());return y.set(d,E),c(E,d,m,y,_),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return y.set(d,E),c(E,d,m,y,_),E}return d}function c(d,p,m=d,y,_){const b=[...Object.keys(p),...t.getSymbols(p)];for(let E=0;E<b.length;E++){const A=b[E],L=Object.getOwnPropertyDescriptor(d,A);(L==null||L.writable)&&(d[A]=o(p[A],A,m,y,_))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(ZE)),ZE}var tL;function ZSe(){return tL||(tL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e$();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(XE)),XE}var rL;function QSe(){return rL||(rL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z7(),r=ZSe();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(GE)),GE}var nT={},iT={},aT={},nL;function eAe(){return nL||(nL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e$(),r=vN(),n=Q7();function i(a,s){return t.cloneDeepWith(a,(o,c,u,d)=>{const p=s?.(o,c,u,d);if(p!==void 0)return p;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const m={};return d.set(a,m),t.copyProperties(m,a,u,d),m}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case n.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(aT)),aT}var iL;function tAe(){return iL||(iL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eAe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(iT)),iT}var sT={},oT={},aL;function t$(){return aL||(aL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(oT)),oT}var lT={},sL;function rAe(){return sL||(sL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(lT)),lT}var oL;function nAe(){return oL||(oL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$7(),r=t$(),n=rAe(),i=dN();function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&s?.[o]==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const p=c[d];if((u==null||!Object.hasOwn(u,p))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(p)&&p<u.length))return!1;u=u[p]}return!0}e.has=a})(sT)),sT}var lL;function iAe(){return lL||(lL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z7(),r=fN(),n=tAe(),i=hN(),a=nAe();function s(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(nT)),nT}var cL;function aAe(){return cL||(cL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W7(),r=WSe(),n=QSe(),i=iAe();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})($E)),$E}var uL;function sAe(){return uL||(uL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$Se(),r=HSe(),n=W7(),i=KSe(),a=aAe();function s(o,c=n.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.ary(a.iteratee(c),1)):[]}e.uniqBy=s})(DE)),DE}var cT,fL;function oAe(){return fL||(fL=1,cT=sAe().uniqBy),cT}var lAe=oAe();const dL=Ns(lAe);function r$(e,t,r){return t===!0?dL(e,r):typeof t=="function"?dL(e,t):e}var uT={exports:{}},fT={},dT={exports:{}},hT={};var hL;function cAe(){if(hL)return hT;hL=1;var e=bh();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function o(p,m){var y=m(),_=n({inst:{value:y,getSnapshot:m}}),b=_[0].inst,E=_[1];return a(function(){b.value=y,b.getSnapshot=m,c(b)&&E({inst:b})},[p,y,m]),i(function(){return c(b)&&E({inst:b}),p(function(){c(b)&&E({inst:b})})},[p]),s(y),y}function c(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!r(p,y)}catch{return!0}}function u(p,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return hT.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,hT}var pL;function uAe(){return pL||(pL=1,dT.exports=cAe()),dT.exports}var mL;function fAe(){if(mL)return fT;mL=1;var e=bh(),t=uAe();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return fT.useSyncExternalStoreWithSelector=function(u,d,p,m,y){var _=a(null);if(_.current===null){var b={hasValue:!1,value:null};_.current=b}else b=_.current;_=o(function(){function A(M){if(!L){if(L=!0,I=M,M=m(M),y!==void 0&&b.hasValue){var N=b.value;if(y(N,M))return O=N}return O=M}if(N=O,n(I,M))return N;var k=m(M);return y!==void 0&&y(N,k)?(I=M,N):(I=M,O=k)}var L=!1,I,O,D=p===void 0?null:p;return[function(){return A(d())},D===null?void 0:function(){return A(D())}]},[d,p,m,y]);var E=i(u,_[0],_[1]);return s(function(){b.hasValue=!0,b.value=E},[E]),c(E),E},fT}var gL;function dAe(){return gL||(gL=1,uT.exports=fAe()),uT.exports}var hAe=dAe(),yN=R.createContext(null),pAe=e=>e,Hr=()=>{var e=R.useContext(yN);return e?e.store.dispatch:pAe},Ly=()=>{},mAe=()=>Ly,gAe=(e,t)=>e===t;function ft(e){var t=R.useContext(yN),r=R.useMemo(()=>t?n=>{if(n!=null)return e(n)}:Ly,[t,e]);return hAe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:mAe,t?t.store.getState:Ly,t?t.store.getState:Ly,r,gAe)}function vAe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function yAe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xAe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var vL=e=>Array.isArray(e)?e:[e];function _Ae(e){const t=Array.isArray(e[0])?e[0]:e;return xAe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bAe(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var wAe=class{constructor(e){this.value=e}deref(){return this.value}},EAe=typeof WeakRef<"u"?WeakRef:wAe,TAe=0,yL=1;function Xv(){return{s:TAe,v:void 0,o:null,p:null}}function n$(e,t={}){let r=Xv();const{resultEqualityCheck:n}=t;let i,a=0;function s(){let o=r;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=o.o;_===null&&(o.o=_=new WeakMap);const b=_.get(y);b===void 0?(o=Xv(),_.set(y,o)):o=b}else{let _=o.p;_===null&&(o.p=_=new Map);const b=_.get(y);b===void 0?(o=Xv(),_.set(y,o)):o=b}}const u=o;let d;if(o.s===yL)d=o.v;else if(d=e.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new EAe(d):d}return u.s=yL,u.v=d,d}return s.clearCache=()=>{r=Xv(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function SAe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),vAe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:p,memoizeOptions:m=[],argsMemoize:y=n$,argsMemoizeOptions:_=[]}=d,b=vL(m),E=vL(_),A=_Ae(i),L=p(function(){return a++,u.apply(null,arguments)},...b),I=y(function(){s++;const D=bAe(A,arguments);return o=L.apply(null,D),o},...E);return Object.assign(I,{resultFunc:u,memoizedResultFunc:L,dependencies:A,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var be=SAe(n$),AAe=Object.assign((e,t=be)=>{yAe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>AAe}),pT={},mT={},gT={},xL;function CAe(){return xL||(xL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(gT)),gT}var vT={},yT={},_L;function i$(){return _L||(_L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(yT)),yT}var bL;function NAe(){return bL||(bL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i$(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(vT)),vT}var wL;function kAe(){return wL||(wL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CAe(),r=NAe(),n=dN();function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const u=(y,_)=>{let b=y;for(let E=0;E<_.length&&b!=null;++E)b=b[_[E]];return b},d=(y,_)=>_==null||y==null?_:typeof y=="object"&&"key"in y?Object.hasOwn(_,y.key)?_[y.key]:u(_,y.path):typeof y=="function"?y(_):Array.isArray(y)?u(_,y):typeof _=="object"?_[y]:_,p=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(_=>d(_,y))})).slice().sort((y,_)=>{for(let b=0;b<p.length;b++){const E=t.compareValues(y.criteria[b],_.criteria[b],o[b]);if(E!==0)return E}return 0}).map(y=>y.original)}e.orderBy=i})(mT)),mT}var xT={},EL;function IAe(){return EL||(EL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(xT)),xT}var _T={},TL;function a$(){return TL||(TL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t$(),r=gN(),n=Y7(),i=X7();function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.isEqualsSameValueZero(c[o],s):!1}e.isIterateeCall=a})(_T)),_T}var SL;function PAe(){return SL||(SL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kAe(),r=IAe(),n=a$();function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(pT)),pT}var bT,AL;function RAe(){return AL||(AL=1,bT=PAe().sortBy),bT}var OAe=RAe();const i_=Ns(OAe);var s$=e=>e.legend.settings,MAe=e=>e.legend.size,DAe=e=>e.legend.payload,LAe=be([DAe,s$],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?i_(n,r):n});function FAe(){return ft(LAe)}var Zv=1;function o$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=R.useState({height:0,left:0,top:0,width:0}),n=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Zv||Math.abs(s.left-t.left)>Zv||Math.abs(s.top-t.top)>Zv||Math.abs(s.width-t.width)>Zv)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ai(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jAe=typeof Symbol=="function"&&Symbol.observable||"@@observable",CL=jAe,wT=()=>Math.random().toString(36).substring(7).split("").join("."),UAe={INIT:`@@redux/INIT${wT()}`,REPLACE:`@@redux/REPLACE${wT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wT()}`},Fx=UAe;function xN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function l$(e,t,r){if(typeof e!="function")throw new Error(Ai(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ai(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ai(1));return r(l$)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((E,A)=>{s.set(A,E)}))}function d(){if(c)throw new Error(Ai(3));return i}function p(E){if(typeof E!="function")throw new Error(Ai(4));if(c)throw new Error(Ai(5));let A=!0;u();const L=o++;return s.set(L,E),function(){if(A){if(c)throw new Error(Ai(6));A=!1,u(),s.delete(L),a=null}}}function m(E){if(!xN(E))throw new Error(Ai(7));if(typeof E.type>"u")throw new Error(Ai(8));if(typeof E.type!="string")throw new Error(Ai(17));if(c)throw new Error(Ai(9));try{c=!0,i=n(i,E)}finally{c=!1}return(a=s).forEach(L=>{L()}),E}function y(E){if(typeof E!="function")throw new Error(Ai(10));n=E,m({type:Fx.REPLACE})}function _(){const E=p;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Ai(11));function L(){const O=A;O.next&&O.next(d())}return L(),{unsubscribe:E(L)}},[CL](){return this}}}return m({type:Fx.INIT}),{dispatch:m,subscribe:p,getState:d,replaceReducer:y,[CL]:_}}function BAe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Fx.INIT})>"u")throw new Error(Ai(12));if(typeof r(void 0,{type:Fx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ai(13))})}function c$(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{BAe(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const p=n[d],m=r[p],y=s[p],_=m(y,o);if(typeof _>"u")throw o&&o.type,new Error(Ai(14));u[p]=_,c=c||_!==y}return c=c||n.length!==Object.keys(s).length,c?u:s}}function jx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function VAe(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Ai(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=e.map(c=>c(s));return a=jx(...o)(i.dispatch),{...i,dispatch:a}}}function u$(e){return xN(e)&&"type"in e&&typeof e.type=="string"}var f$=Symbol.for("immer-nothing"),NL=Symbol.for("immer-draftable"),pa=Symbol.for("immer-state");function Ks(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wa=Object,ph=Wa.getPrototypeOf,Ux="constructor",a_="prototype",PA="configurable",Bx="enumerable",Fy="writable",fm="value",Il=e=>!!e&&!!e[pa];function so(e){return e?d$(e)||o_(e)||!!e[NL]||!!e[Ux]?.[NL]||l_(e)||c_(e):!1}var zAe=Wa[a_][Ux].toString(),kL=new WeakMap;function d$(e){if(!e||!_N(e))return!1;const t=ph(e);if(t===null||t===Wa[a_])return!0;const r=Wa.hasOwnProperty.call(t,Ux)&&t[Ux];if(r===Object)return!0;if(!Od(r))return!1;let n=kL.get(r);return n===void 0&&(n=Function.toString.call(r),kL.set(r,n)),n===zAe}function s_(e,t,r=!0){Vm(e)===0?(r?Reflect.ownKeys(e):Wa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Vm(e){const t=e[pa];return t?t.type_:o_(e)?1:l_(e)?2:c_(e)?3:0}var IL=(e,t,r=Vm(e))=>r===2?e.has(t):Wa[a_].hasOwnProperty.call(e,t),RA=(e,t,r=Vm(e))=>r===2?e.get(t):e[t],Vx=(e,t,r,n=Vm(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function $Ae(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var o_=Array.isArray,l_=e=>e instanceof Map,c_=e=>e instanceof Set,_N=e=>typeof e=="object",Od=e=>typeof e=="function",ET=e=>typeof e=="boolean";function HAe(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var fl=e=>e.copy_||e.base_,bN=e=>e.modified_?e.copy_:e.base_;function OA(e,t){if(l_(e))return new Map(e);if(c_(e))return new Set(e);if(o_(e))return Array[a_].slice.call(e);const r=d$(e);if(t===!0||t==="class_only"&&!r){const n=Wa.getOwnPropertyDescriptors(e);delete n[pa];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[Fy]===!1&&(o[Fy]=!0,o[PA]=!0),(o.get||o.set)&&(n[s]={[PA]:!0,[Fy]:!0,[Bx]:o[Bx],[fm]:e[s]})}return Wa.create(ph(e),n)}else{const n=ph(e);if(n!==null&&r)return{...e};const i=Wa.create(n);return Wa.assign(i,e)}}function wN(e,t=!1){return u_(e)||Il(e)||!so(e)||(Vm(e)>1&&Wa.defineProperties(e,{set:Qv,add:Qv,clear:Qv,delete:Qv}),Wa.freeze(e),t&&s_(e,(r,n)=>{wN(n,!0)},!1)),e}function GAe(){Ks(2)}var Qv={[fm]:GAe};function u_(e){return e===null||!_N(e)?!0:Wa.isFrozen(e)}var zx="MapSet",MA="Patches",PL="ArrayMethods",h$={};function yf(e){const t=h$[e];return t||Ks(0,e),t}var RL=e=>!!h$[e],dm,p$=()=>dm,qAe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RL(zx)?yf(zx):void 0,arrayMethodsPlugin_:RL(PL)?yf(PL):void 0});function OL(e,t){t&&(e.patchPlugin_=yf(MA),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function DA(e){LA(e),e.drafts_.forEach(KAe),e.drafts_=null}function LA(e){e===dm&&(dm=e.parent_)}var ML=e=>dm=qAe(dm,e);function KAe(e){const t=e[pa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function DL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[pa].modified_&&(DA(t),Ks(4)),so(e)&&(e=LL(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[pa].base_,e,t)}else e=LL(t,r);return WAe(t,e,!0),DA(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==f$?e:void 0}function LL(e,t){if(u_(t))return t;const r=t[pa];if(!r)return $x(t,e.handledSet_,e);if(!f_(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);v$(r,e)}return r.copy_}function WAe(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wN(t,r)}function m$(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var f_=(e,t)=>e.scope_===t,YAe=[];function g$(e,t,r,n){const i=fl(e),a=e.type_;if(n!==void 0&&RA(i,n,a)===t){Vx(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;s_(i,(c,u)=>{if(Il(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const s=e.draftLocations_.get(t)??YAe;for(const o of s)Vx(i,o,r,a)}function JAe(e,t,r){e.callbacks_.push(function(i){const a=t;if(!a||!f_(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=bN(a);g$(e,a.draft_??a,s,r),v$(a,i)})}function v$(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}m$(e)}}function XAe(e,t,r){const{scope_:n}=e;if(Il(r)){const i=r[pa];f_(i,n)&&i.callbacks_.push(function(){jy(e);const s=bN(i);g$(e,r,s,t)})}else so(r)&&e.callbacks_.push(function(){const a=fl(e);e.type_===3?a.has(r)&&$x(r,n.handledSet_,n):RA(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&$x(RA(e.copy_,t,e.type_),n.handledSet_,n)})}function $x(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Il(e)||t.has(e)||!so(e)||u_(e)||(t.add(e),s_(e,(n,i)=>{if(Il(i)){const a=i[pa];if(f_(a,r)){const s=bN(a);Vx(e,n,s,e.type_),m$(a)}}else so(i)&&$x(i,t,r)})),e}function ZAe(e,t){const r=o_(e),n={type_:r?1:0,scope_:t?t.scope_:p$(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Hx;r&&(i=[n],a=hm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var Hx={get(e,t){if(t===pa)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=fl(e);if(!IL(i,t,e.type_))return QAe(e,i,t);const a=i[t];if(e.finalized_||!so(a)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&HAe(t))return a;if(a===TT(e.base_,t)){jy(e);const s=e.type_===1?+t:t,o=jA(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in fl(e)},ownKeys(e){return Reflect.ownKeys(fl(e))},set(e,t,r){const n=y$(fl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=TT(fl(e),t),a=i?.[pa];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if($Ae(r,i)&&(r!==void 0||IL(e.base_,t,e.type_)))return!0;jy(e),FA(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),XAe(e,t,r)),!0},deleteProperty(e,t){return jy(e),TT(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),FA(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Fy]:!0,[PA]:e.type_!==1||t!=="length",[Bx]:n[Bx],[fm]:r[t]}},defineProperty(){Ks(11)},getPrototypeOf(e){return ph(e.base_)},setPrototypeOf(){Ks(12)}},hm={};for(let e in Hx){let t=Hx[e];hm[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}hm.deleteProperty=function(e,t){return hm.set.call(this,e,t,void 0)};hm.set=function(e,t,r){return Hx.set.call(this,e[0],t,r,e[0])};function TT(e,t){const r=e[pa];return(r?fl(r):e)[t]}function QAe(e,t,r){const n=y$(t,r);return n?fm in n?n[fm]:n.get?.call(e.draft_):void 0}function y$(e,t){if(!(t in e))return;let r=ph(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ph(r)}}function FA(e){e.modified_||(e.modified_=!0,e.parent_&&FA(e.parent_))}function jy(e){e.copy_||(e.assigned_=new Map,e.copy_=OA(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var e2e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Od(r)&&!Od(n)){const s=n;n=r;const o=this;return function(u=s,...d){return o.produce(u,p=>n.call(this,p,...d))}}Od(n)||Ks(6),i!==void 0&&!Od(i)&&Ks(7);let a;if(so(r)){const s=ML(this),o=jA(s,r,void 0);let c=!0;try{a=n(o),c=!1}finally{c?DA(s):LA(s)}return OL(s,i),DL(a,s)}else if(!r||!_N(r)){if(a=n(r),a===void 0&&(a=r),a===f$&&(a=void 0),this.autoFreeze_&&wN(a,!0),i){const s=[],o=[];yf(MA).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Ks(1,r)},this.produceWithPatches=(r,n)=>{if(Od(r))return(o,...c)=>this.produceWithPatches(o,u=>r(u,...c));let i,a;return[this.produce(r,n,(o,c)=>{i=o,a=c}),i,a]},ET(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ET(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ET(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){so(t)||Ks(8),Il(t)&&(t=io(t));const r=ML(this),n=jA(r,t,void 0);return n[pa].isManual_=!0,LA(r),n}finishDraft(t,r){const n=t&&t[pa];(!n||!n.isManual_)&&Ks(9);const{scope_:i}=n;return OL(i,r),DL(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=yf(MA).applyPatches_;return Il(t)?i(t,r):this.produce(t,a=>i(a,r))}};function jA(e,t,r,n){const[i,a]=l_(t)?yf(zx).proxyMap_(t,r):c_(t)?yf(zx).proxySet_(t,r):ZAe(t,r);return(r?.scope_??p$()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?JAe(r,a,n):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),i}function io(e){return Il(e)||Ks(10,e),x$(e)}function x$(e){if(!so(e)||u_(e))return e;const t=e[pa];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=OA(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=OA(e,!0);return s_(r,(i,a)=>{Vx(r,i,x$(a))},n),t&&(t.finalized_=!1),r}var t2e=new e2e,_$=t2e.produce;function b$(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var r2e=b$(),n2e=b$,i2e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jx:jx.apply(null,arguments)};function As(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Ya(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>u$(n)&&n.type===e,r}var w$=class fp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fp.prototype)}static get[Symbol.species](){return fp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fp(...t[0].concat(this)):new fp(...t.concat(this))}};function FL(e){return so(e)?_$(e,()=>{}):e}function ey(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function a2e(e){return typeof e=="boolean"}var s2e=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new w$;return r&&(a2e(r)?s.push(r2e):s.push(n2e(r.extraArgument))),s},E$="RTK_autoBatch",Zr=()=>e=>({payload:e,meta:{[E$]:!0}}),jL=e=>t=>{setTimeout(t,e)},T$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jL(10):e.type==="callback"?e.queueNotification:jL(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const p=()=>i&&d(),m=n.subscribe(p);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[E$],a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},o2e=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new w$(e);return n&&i.push(T$(typeof n=="object"?n:void 0)),i};function l2e(e){const t=s2e(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(xN(r))o=c$(r);else throw new Error(Ya(1));let c;typeof n=="function"?c=n(t):c=t();let u=jx;i&&(u=i2e({trace:!1,...typeof i=="object"&&i}));const d=VAe(...c),p=o2e(d);let m=typeof s=="function"?s(p):p();const y=u(...m);return l$(o,a,y)}function S$(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Ya(28));if(o in t)throw new Error(Ya(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function c2e(e){return typeof e=="function"}function u2e(e,t){let[r,n,i]=S$(t),a;if(c2e(e))a=()=>FL(e());else{const o=FL(e);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,p)=>{if(p)if(Il(d)){const y=p(d,c);return y===void 0?d:y}else{if(so(d))return _$(d,m=>p(m,c));{const m=p(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return s.getInitialState=a,s}var f2e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",d2e=(e=21)=>{let t="",r=e;for(;r--;)t+=f2e[Math.random()*64|0];return t},h2e=Symbol.for("rtk-slice-createasyncthunk");function p2e(e,t){return`${e}/${t}`}function m2e({creators:e}={}){const t=e?.asyncThunk?.[h2e];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Ya(11));const s=(typeof n.reducers=="function"?n.reducers(v2e()):n.reducers)||{},o=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(I,O){const D=typeof I=="string"?I:I.type;if(!D)throw new Error(Ya(12));if(D in c.sliceCaseReducersByType)throw new Error(Ya(13));return c.sliceCaseReducersByType[D]=O,u},addMatcher(I,O){return c.sliceMatchers.push({matcher:I,reducer:O}),u},exposeAction(I,O){return c.actionCreators[I]=O,u},exposeCaseReducer(I,O){return c.sliceCaseReducersByName[I]=O,u}};o.forEach(I=>{const O=s[I],D={reducerName:I,type:p2e(i,I),createNotation:typeof n.reducers=="function"};x2e(O)?b2e(D,O,u,t):y2e(D,O,u)});function d(){const[I={},O=[],D=void 0]=typeof n.extraReducers=="function"?S$(n.extraReducers):[n.extraReducers],M={...I,...c.sliceCaseReducersByType};return u2e(n.initialState,N=>{for(let k in M)N.addCase(k,M[k]);for(let k of c.sliceMatchers)N.addMatcher(k.matcher,k.reducer);for(let k of O)N.addMatcher(k.matcher,k.reducer);D&&N.addDefaultCase(D)})}const p=I=>I,m=new Map,y=new WeakMap;let _;function b(I,O){return _||(_=d()),_(I,O)}function E(){return _||(_=d()),_.getInitialState()}function A(I,O=!1){function D(N){let k=N[I];return typeof k>"u"&&O&&(k=ey(y,D,E)),k}function M(N=p){const k=ey(m,O,()=>new WeakMap);return ey(k,N,()=>{const P={};for(const[U,B]of Object.entries(n.selectors??{}))P[U]=g2e(B,N,()=>ey(y,N,E),O);return P})}return{reducerPath:I,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const L={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...A(a),injectInto(I,{reducerPath:O,...D}={}){const M=O??a;return I.inject({reducerPath:M,reducer:b},D),{...L,...A(M,!0)}}};return L}}function g2e(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Pa=m2e();function v2e(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function y2e({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!_2e(n))throw new Error(Ya(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?As(e,s):As(e))}function x2e(e){return e._reducerDefinitionType==="asyncThunk"}function _2e(e){return e._reducerDefinitionType==="reducerWithPrepare"}function b2e({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Ya(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,p=i(e,a,d);n.exposeAction(t,p),s&&n.addCase(p.fulfilled,s),o&&n.addCase(p.pending,o),c&&n.addCase(p.rejected,c),u&&n.addMatcher(p.settled,u),n.exposeCaseReducer(t,{fulfilled:s||ty,pending:o||ty,rejected:c||ty,settled:u||ty})}function ty(){}var w2e="task",A$="listener",C$="completed",EN="cancelled",E2e=`task-${EN}`,T2e=`task-${C$}`,UA=`${A$}-${EN}`,S2e=`${A$}-${C$}`,d_=class{constructor(e){this.code=e,this.message=`${w2e} ${EN} (reason: ${e})`}name="TaskAbortError";message},TN=(e,t)=>{if(typeof e!="function")throw new TypeError(Ya(32))},Gx=()=>{},N$=(e,t=Gx)=>(e.catch(t),e),k$=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Qu=e=>{if(e.aborted)throw new d_(e.reason)};function I$(e,t){let r=Gx;return new Promise((n,i)=>{const a=()=>i(new d_(e.reason));if(e.aborted){a();return}r=k$(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Gx})}var A2e=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof d_?"cancelled":"rejected",error:r}}finally{t?.()}},qx=e=>t=>N$(I$(e,t).then(r=>(Qu(e),r))),P$=e=>{const t=qx(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Zd}=Object,UL={},h_="listenerMiddleware",C2e=(e,t)=>{const r=n=>k$(e,()=>n.abort(e.reason));return(n,i)=>{TN(n);const a=new AbortController;r(a);const s=A2e(async()=>{Qu(e),Qu(a.signal);const o=await n({pause:qx(a.signal),delay:P$(a.signal),signal:a.signal});return Qu(a.signal),o},()=>a.abort(T2e));return i?.autoJoin&&t.push(s.catch(Gx)),{result:qx(e)(s),cancel(){a.abort(E2e)}}}},N2e=(e,t)=>{const r=async(n,i)=>{Qu(t);let a=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(p,m)=>{m.unsubscribe(),c([p,m.getState(),m.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await I$(t,Promise.race(o));return Qu(t),c}finally{a()}};return(n,i)=>N$(r(n,i))},R$=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=As(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ya(21));return TN(a),{predicate:i,type:t,effect:a}},O$=Zd(e=>{const{type:t,predicate:r,effect:n}=R$(e);return{id:d2e(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ya(22))}}},{withTypes:()=>O$}),BL=(e,t)=>{const{type:r,effect:n,predicate:i}=R$(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},BA=e=>{e.pending.forEach(t=>{t.abort(UA)})},k2e=(e,t)=>()=>{for(const r of t.keys())BA(r);e.clear()},VL=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},M$=Zd(As(`${h_}/add`),{withTypes:()=>M$}),I2e=As(`${h_}/removeAll`),D$=Zd(As(`${h_}/remove`),{withTypes:()=>D$}),P2e=(...e)=>{console.error(`${h_}/error`,...e)},zm=(e={})=>{const t=new Map,r=new Map,n=y=>{const _=r.get(y)??0;r.set(y,_+1)},i=y=>{const _=r.get(y)??1;_===1?r.delete(y):r.set(y,_-1)},{extra:a,onError:s=P2e}=e;TN(s);const o=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),_=>{y.unsubscribe(),_?.cancelActive&&BA(y)}),c=y=>{const _=BL(t,y)??O$(y);return o(_)};Zd(c,{withTypes:()=>c});const u=y=>{const _=BL(t,y);return _&&(_.unsubscribe(),y.cancelActive&&BA(_)),!!_};Zd(u,{withTypes:()=>u});const d=async(y,_,b,E)=>{const A=new AbortController,L=N2e(c,A.signal),I=[];try{y.pending.add(A),n(y),await Promise.resolve(y.effect(_,Zd({},b,{getOriginalState:E,condition:(O,D)=>L(O,D).then(Boolean),take:L,delay:P$(A.signal),pause:qx(A.signal),extra:a,signal:A.signal,fork:C2e(A.signal,I),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((O,D,M)=>{O!==A&&(O.abort(UA),M.delete(O))})},cancel:()=>{A.abort(UA),y.pending.delete(A)},throwIfCancelled:()=>{Qu(A.signal)}})))}catch(O){O instanceof d_||VL(s,O,{raisedBy:"effect"})}finally{await Promise.all(I),A.abort(S2e),i(y),y.pending.delete(A)}},p=k2e(t,r);return{middleware:y=>_=>b=>{if(!u$(b))return _(b);if(M$.match(b))return c(b.payload);if(I2e.match(b)){p();return}if(D$.match(b))return u(b.payload);let E=y.getState();const A=()=>{if(E===UL)throw new Error(Ya(23));return E};let L;try{if(L=_(b),t.size>0){const I=y.getState(),O=Array.from(t.values());for(const D of O){let M=!1;try{M=D.predicate(b,I,E)}catch(N){M=!1,VL(s,N,{raisedBy:"predicate"})}M&&d(D,b,y,A)}}}finally{E=UL}return L},startListening:c,stopListening:u,clearListeners:p}};function Ya(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var R2e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},L$=Pa({name:"chartLayout",initialState:R2e,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:O2e,setLayout:M2e,setChartSize:D2e,setScale:L2e}=L$.actions,F2e=L$.reducer;function F$(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Bt(e){return Number.isFinite(e)}function Uo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){j2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j2e(e,t,r){return(t=U2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2e(e){var t=B2e(e,"string");return typeof t=="symbol"?t:t+""}function B2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e,t,r){return vn(e)||vn(t)?r:jo(t)?gf(e,t,r):typeof t=="function"?t(e):r}var V2e=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&it(e[a]))return Bd(Bd({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&it(e[s]))return Bd(Bd({},e),{},{[s]:e[s]+(i||0)})}return e},$o=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",j$=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},U$=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:p,niceTicks:m,axisType:y}=e;if(!s)return null;var _=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/_:0;if(b=y==="angleAxis"&&a&&a.length>=2?ui(a[0]-a[1])*2*b:b,p||m){var E=(p||m||[]).map((A,L)=>{var I=n?n.indexOf(A):A,O=s.map(I);return Bt(O)?{coordinate:O+b,value:A,offset:b,index:L}:null}).filter(Aa);return E}return c&&u?u.map((A,L)=>{var I=s.map(A);return Bt(I)?{coordinate:I+b,value:A,index:L,offset:b}:null}).filter(Aa):s.ticks&&d!=null?s.ticks(d).map((A,L)=>{var I=s.map(A);return Bt(I)?{coordinate:I+b,value:A,index:L,offset:b}:null}).filter(Aa):s.domain().map((A,L)=>{var I=s.map(A);return Bt(I)?{coordinate:I+b,value:n?n[A]:A,index:L,offset:b}:null}).filter(Aa)},z2e=(e,t)=>{if(!t||t.length!==2||!it(t[0])||!it(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!it(e[0])||e[0]<r)&&(i[0]=r),(!it(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},$2e=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var c=e[o],u=c?.[i];if(u!=null){var d=u[1],p=u[0],m=ao(d)?p:d;m>=0?(u[0]=a,a+=m,u[1]=a):(u[0]=s,s+=m,u[1]=s)}}}},H2e=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],c=o?.[i];if(c!=null){var u=ao(c[1])?c[0]:c[1];u>=0?(c[0]=a,a+=u,c[1]=a):(c[0]=0,c[1]=0)}}}},G2e={sign:$2e,expand:fSe,none:mf,silhouette:dSe,wiggle:hSe,positive:H2e},q2e=(e,t,r)=>{var n,i=(n=G2e[r])!==null&&n!==void 0?n:mf,a=uSe().keys(t).value((o,c)=>Number(Lr(o,c,0))).order(kA).offset(i),s=a(e);return s.forEach((o,c)=>{o.forEach((u,d)=>{var p=Lr(e[d],t[c],0);Array.isArray(p)&&p.length===2&&it(p[0])&&it(p[1])&&(u[0]=p[0],u[1]=p[1])})}),s};function B$(e){return e==null?void 0:String(e)}function $L(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vn(i[t.dataKey])){var o=G7(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var c=Lr(i,vn(s)?t.dataKey:s),u=t.scale.map(c);return it(u)?u:null}var HL=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Lr(a,t.dataKey,t.scale.domain()[s]);if(vn(o))return null;var c=t.scale.map(o);return it(c)?c-i/2+n:null},K2e=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},W2e=e=>{var t=e.flat(2).filter(it);return[Math.min(...t),Math.max(...t)]},Y2e=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],J2e=(e,t,r)=>{if(e!=null)return Y2e(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((c,u)=>{var d=F$(u,t,r),p=W2e(d);return!Bt(p[0])||!Bt(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},GL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=i_(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c?.coordinate||0)-(u?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function KL(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Bd(Bd({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Mh(e,t){if(e)return String(e);if(typeof t=="string")return t}var X2e=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Z2e=(e,t)=>t==="centric"?e.angle:e.radius,Bl=e=>e.layout.width,Vl=e=>e.layout.height,Q2e=e=>e.layout.scale,V$=e=>e.layout.margin,p_=be(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),m_=be(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),z$="data-recharts-item-index",$$="data-recharts-item-id",$m=60;function WL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ry(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(r),!0).forEach(function(n){eCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eCe(e,t,r){return(t=tCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tCe(e){var t=rCe(e,"string");return typeof t=="symbol"?t:t+""}function rCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nCe=e=>e.brush.height;function iCe(e){var t=m_(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:$m;return r+i}return r},0)}function aCe(e){var t=m_(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:$m;return r+i}return r},0)}function sCe(e){var t=p_(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function oCe(e){var t=p_(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Qn=be([Bl,Vl,V$,nCe,iCe,aCe,sCe,oCe,s$,MAe],(e,t,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+s,bottom:(r.bottom||0)+o},m=ry(ry({},p),d),y=m.bottom;m.bottom+=n,m=V2e(m,c,u);var _=e-m.left-m.right,b=t-m.top-m.bottom;return ry(ry({brushBottom:y},m),{},{width:Math.max(_,0),height:Math.max(b,0)})}),lCe=be(Qn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),SN=be(Bl,Vl,(e,t)=>({x:0,y:0,width:e,height:t})),cCe=R.createContext(null),Xi=()=>R.useContext(cCe)!=null,g_=e=>e.brush,v_=be([g_,Qn,V$],(e,t,r)=>({height:e.height,x:it(e.x)?e.x:t.left,y:it(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:it(e.width)?e.width:t.width})),ST={},AT={},CT={},YL;function uCe(){return YL||(YL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},p=()=>{u&&d(),b()};let m=null;const y=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},n)},_=()=>{m!==null&&(clearTimeout(m),m=null)},b=()=>{_(),s=void 0,o=null},E=()=>{d()},A=function(...L){if(i?.aborted)return;s=this,o=L;const I=m==null;y(),c&&I&&d()};return A.schedule=y,A.cancel=b,A.flush=E,i?.addEventListener("abort",b,{once:!0}),A}e.debounce=t})(CT)),CT}var JL;function fCe(){return JL||(JL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uCe();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,p=null;const m=t.debounce(function(...b){d=n.apply(this,b),p=null},i,{edges:u}),y=function(...b){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=n.apply(this,b),p=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,b),d)},_=()=>(m.flush(),d);return y.cancel=m.cancel,y.flush=_,y}e.debounce=r})(AT)),AT}var XL;function dCe(){return XL||(XL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fCe();function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(ST)),ST}var NT,ZL;function hCe(){return ZL||(ZL=1,NT=dCe().throttle),NT}var pCe=hCe();const mCe=Ns(pCe);var Kx=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},ko={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},H$=(e,t,r)=>{var{width:n=ko.width,height:i=ko.height,aspect:a,maxHeight:s}=r,o=vf(n)?e:Number(n),c=vf(i)?t:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},gCe={width:0,height:0,overflow:"visible"},vCe={width:0,overflowX:"visible"},yCe={height:0,overflowY:"visible"},xCe={},_Ce=e=>{var{width:t,height:r}=e,n=vf(t),i=vf(r);return n&&i?gCe:n?vCe:i?yCe:xCe};function bCe(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=ko.width,a=ko.height):i===void 0?i=n&&n>0?void 0:ko.width:a===void 0&&(a=n&&n>0?void 0:ko.height),{width:i,height:a}}function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VA.apply(null,arguments)}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){wCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wCe(e,t,r){return(t=ECe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ECe(e){var t=TCe(e,"string");return typeof t=="symbol"?t:t+""}function TCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G$=R.createContext(ko.initialDimension);function SCe(e){return Uo(e.width)&&Uo(e.height)}function q$(e){var{children:t,width:r,height:n}=e,i=R.useMemo(()=>({width:r,height:n}),[r,n]);return SCe(i)?R.createElement(G$.Provider,{value:i},t):null}var AN=()=>R.useContext(G$),ACe=R.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=ko.initialDimension,width:i,height:a,minWidth:s=ko.minWidth,minHeight:o,maxHeight:c,children:u,debounce:d=ko.debounce,id:p,className:m,onResize:y,style:_={}}=e,b=R.useRef(null),E=R.useRef();E.current=y,R.useImperativeHandle(t,()=>b.current);var[A,L]=R.useState({containerWidth:n.width,containerHeight:n.height}),I=R.useCallback((k,P)=>{L(U=>{var B=Math.round(k),F=Math.round(P);return U.containerWidth===B&&U.containerHeight===F?U:{containerWidth:B,containerHeight:F}})},[]);R.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Lf;var k=F=>{var H,fe=F[0];if(fe!=null){var{width:pe,height:re}=fe.contentRect;I(pe,re),(H=E.current)===null||H===void 0||H.call(E,pe,re)}};d>0&&(k=mCe(k,d,{trailing:!0,leading:!1}));var P=new ResizeObserver(k),{width:U,height:B}=b.current.getBoundingClientRect();return I(U,B),P.observe(b.current),()=>{P.disconnect()}},[I,d]);var{containerWidth:O,containerHeight:D}=A;Kx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:M,calculatedHeight:N}=H$(O,D,{width:i,height:a,aspect:r,maxHeight:c});return Kx(M!=null&&M>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,N,i,a,s,o,r),R.createElement("div",{id:p?"".concat(p):void 0,className:dr("recharts-responsive-container",m),style:eF(eF({},_),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:b},R.createElement("div",{style:_Ce({width:i,height:a})},R.createElement(q$,{width:M,height:N},u)))}),z0=R.forwardRef((e,t)=>{var r=AN();if(Uo(r.width)&&Uo(r.height))return e.children;var{width:n,height:i}=bCe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=H$(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return it(a)&&it(s)?R.createElement(q$,{width:a,height:s},e.children):R.createElement(ACe,VA({},e,{width:n,height:i,ref:t}))});function CN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var y_=()=>{var e,t=Xi(),r=ft(lCe),n=ft(v_),i=(e=ft(g_))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},CCe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},K$=()=>{var e;return(e=ft(Qn))!==null&&e!==void 0?e:CCe},NN=()=>ft(Bl),kN=()=>ft(Vl),NCe=()=>ft(e=>e.layout.margin),lr=e=>e.layout.layoutType,Ff=()=>ft(lr),IN=()=>{var e=Ff();if(e==="horizontal"||e==="vertical")return e},W$=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},kCe=()=>{var e=Ff();return e!==void 0},Hm=e=>{var t=Hr(),r=Xi(),{width:n,height:i}=e,a=AN(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),R.useEffect(()=>{!r&&Uo(s)&&Uo(o)&&t(D2e({width:s,height:o}))},[t,r,s,o]),null},Y$=Symbol.for("immer-nothing"),tF=Symbol.for("immer-draftable"),Xa=Symbol.for("immer-state");function Ws(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pm=Object.getPrototypeOf;function gh(e){return!!e&&!!e[Xa]}function xf(e){return e?J$(e)||Array.isArray(e)||!!e[tF]||!!e.constructor?.[tF]||Gm(e)||__(e):!1}var ICe=Object.prototype.constructor.toString(),rF=new WeakMap;function J$(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=rF.get(r);return n===void 0&&(n=Function.toString.call(r),rF.set(r,n)),n===ICe}function Wx(e,t,r=!0){x_(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function x_(e){const t=e[Xa];return t?t.type_:Array.isArray(e)?1:Gm(e)?2:__(e)?3:0}function zA(e,t){return x_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function X$(e,t,r){const n=x_(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function PCe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gm(e){return e instanceof Map}function __(e){return e instanceof Set}function ju(e){return e.copy_||e.base_}function $A(e,t){if(Gm(e))return new Map(e);if(__(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=J$(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Xa];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(pm(e),n)}else{const n=pm(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function PN(e,t=!1){return b_(e)||gh(e)||!xf(e)||(x_(e)>1&&Object.defineProperties(e,{set:ny,add:ny,clear:ny,delete:ny}),Object.freeze(e),t&&Object.values(e).forEach(r=>PN(r,!0))),e}function RCe(){Ws(2)}var ny={value:RCe};function b_(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var OCe={};function _f(e){const t=OCe[e];return t||Ws(0,e),t}var mm;function Z$(){return mm}function MCe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nF(e,t){t&&(_f("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function HA(e){GA(e),e.drafts_.forEach(DCe),e.drafts_=null}function GA(e){e===mm&&(mm=e.parent_)}function iF(e){return mm=MCe(mm,e)}function DCe(e){const t=e[Xa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aF(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Xa].modified_&&(HA(t),Ws(4)),xf(e)&&(e=Yx(t,e),t.parent_||Jx(t,e)),t.patches_&&_f("Patches").generateReplacementPatches_(r[Xa].base_,e,t.patches_,t.inversePatches_)):e=Yx(t,r,[]),HA(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Y$?e:void 0}function Yx(e,t,r){if(b_(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Xa];if(!i)return Wx(t,(a,s)=>sF(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Jx(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Wx(s,(c,u)=>sF(e,i,a,c,u,r,o),n),Jx(e,a,!1),r&&e.patches_&&_f("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function sF(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=b_(i);if(!(o&&!s)){if(gh(i)){const c=a&&t&&t.type_!==3&&!zA(t.assigned_,n)?a.concat(n):void 0,u=Yx(e,i,c);if(X$(r,n,u),gh(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(xf(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Yx(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Gm(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Jx(e,i)}}}function Jx(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&PN(t,r)}function LCe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Z$(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=RN;r&&(i=[n],a=gm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var RN={get(e,t){if(t===Xa)return e;const r=ju(e);if(!zA(r,t))return FCe(e,r,t);const n=r[t];return e.finalized_||!xf(n)?n:n===kT(e.base_,t)?(IT(e),e.copy_[t]=KA(n,e)):n},has(e,t){return t in ju(e)},ownKeys(e){return Reflect.ownKeys(ju(e))},set(e,t,r){const n=Q$(ju(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=kT(ju(e),t),a=i?.[Xa];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(PCe(r,i)&&(r!==void 0||zA(e.base_,t)))return!0;IT(e),qA(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return kT(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,IT(e),qA(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ju(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ws(11)},getPrototypeOf(e){return pm(e.base_)},setPrototypeOf(){Ws(12)}},gm={};Wx(RN,(e,t)=>{gm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gm.deleteProperty=function(e,t){return gm.set.call(this,e,t,void 0)};gm.set=function(e,t,r){return RN.set.call(this,e[0],t,r,e[0])};function kT(e,t){const r=e[Xa];return(r?ju(r):e)[t]}function FCe(e,t,r){const n=Q$(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function Q$(e,t){if(!(t in e))return;let r=pm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=pm(r)}}function qA(e){e.modified_||(e.modified_=!0,e.parent_&&qA(e.parent_))}function IT(e){e.copy_||(e.copy_=$A(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jCe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Ws(6),n!==void 0&&typeof n!="function"&&Ws(7);let i;if(xf(t)){const a=iF(this),s=KA(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?HA(a):GA(a)}return nF(a,n),aF(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Y$&&(i=void 0),this.autoFreeze_&&PN(i,!0),n){const a=[],s=[];_f("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Ws(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){xf(e)||Ws(8),gh(e)&&(e=UCe(e));const t=iF(this),r=KA(e,void 0);return r[Xa].isManual_=!0,GA(t),r}finishDraft(e,t){const r=e&&e[Xa];(!r||!r.isManual_)&&Ws(9);const{scope_:n}=r;return nF(n,t),aF(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=_f("Patches").applyPatches_;return gh(e)?n(e,t):this.produce(e,i=>n(i,t))}};function KA(e,t){const r=Gm(e)?_f("MapSet").proxyMap_(e,t):__(e)?_f("MapSet").proxySet_(e,t):LCe(e,t);return(t?t.scope_:Z$()).drafts_.push(r),r}function UCe(e){return gh(e)||Ws(10,e),eH(e)}function eH(e){if(!xf(e)||b_(e))return e;const t=e[Xa];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$A(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=$A(e,!0);return Wx(r,(i,a)=>{X$(r,i,eH(a))},n),t&&(t.finalized_=!1),r}var BCe=new jCe;BCe.produce;var VCe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},tH=Pa({name:"legend",initialState:VCe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Zr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=io(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Zr()},removeLegendPayload:{reducer(e,t){var r=io(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Zr()}}}),{setLegendSize:oF,setLegendSettings:zCe,addLegendPayload:rH,replaceLegendPayload:nH,removeLegendPayload:iH}=tH.actions,$Ce=tH.reducer,HCe=["contextPayload"];function WA(){return WA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WA.apply(null,arguments)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){GCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GCe(e,t,r){return(t=qCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qCe(e){var t=KCe(e,"string");return typeof t=="symbol"?t:t+""}function KCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WCe(e,t){if(e==null)return{};var r,n,i=YCe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JCe(e){return e.value}function XCe(e){var{contextPayload:t}=e,r=WCe(e,HCe),n=r$(t,e.payloadUniqBy,JCe),i=vh(vh({},r),{},{payload:n});return R.isValidElement(e.content)?R.cloneElement(e.content,i):typeof e.content=="function"?R.createElement(e.content,i):R.createElement(zSe,i)}function ZCe(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),vh(vh({},u),d)}function QCe(e){var t=Hr();return R.useEffect(()=>{t(zCe(e))},[t,e]),null}function eNe(e){var t=Hr();return R.useEffect(()=>(t(oF(e)),()=>{t(oF({width:0,height:0}))}),[t,e]),null}function tNe(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var rNe={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function aH(e){var t=Hn(e,rNe),r=FAe(),n=MTe(),i=NCe(),{width:a,height:s,wrapperStyle:o,portal:c}=t,[u,d]=o$([r]),p=NN(),m=kN();if(p==null||m==null)return null;var y=p-(i?.left||0)-(i?.right||0),_=tNe(t.layout,s,a,y),b=c?o:vh(vh({position:"absolute",width:_?.width||a||"auto",height:_?.height||s||"auto"},ZCe(o,t,i,p,m,u)),o),E=c??n;if(E==null||r==null)return null;var A=R.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},R.createElement(QCe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&R.createElement(eNe,{width:u.width,height:u.height}),R.createElement(XCe,WA({},t,_,{margin:i,chartWidth:p,chartHeight:m,contextPayload:r})));return hh.createPortal(A,E)}aH.displayName="Legend";function YA(){return YA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YA.apply(null,arguments)}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(n){nNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nNe(e,t,r){return(t=iNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iNe(e){var t=aNe(e,"string");return typeof t=="symbol"?t:t+""}function aNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sNe(e){return Array.isArray(e)&&jo(e[0])&&jo(e[1])?e.join(" ~ "):e}var Ed={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},oNe=e=>{var{separator:t=Ed.separator,contentStyle:r,itemStyle:n,labelStyle:i=Ed.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:p,accessibilityLayer:m=Ed.accessibilityLayer}=e,y=()=>{if(a&&a.length){var D={padding:0,margin:0},M=(o?i_(a,o):a).map((N,k)=>{if(N.type==="none")return null;var P=N.formatter||s||sNe,{value:U,name:B}=N,F=U,H=B;if(P){var fe=P(U,B,N,k,a);if(Array.isArray(fe))[F,H]=fe;else if(fe!=null)F=fe;else return null}var pe=$0($0({},Ed.itemStyle),{},{color:N.color||Ed.itemStyle.color},n);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:pe},jo(H)?R.createElement("span",{className:"recharts-tooltip-item-name"},H):null,jo(H)?R.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,R.createElement("span",{className:"recharts-tooltip-item-value"},F),R.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:D},M)}return null},_=$0($0({},Ed.contentStyle),r),b=$0({margin:0},i),E=!vn(d),A=E?d:"",L=dr("recharts-default-tooltip",c),I=dr("recharts-tooltip-label",u);E&&p&&a!==void 0&&a!==null&&(A=p(d,a));var O=m?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",YA({className:L,style:_},O),R.createElement("p",{className:I,style:b},R.isValidElement(A)?A:"".concat(A)),y())},H0="recharts-tooltip-wrapper",lNe={visibility:"hidden"};function cNe(e){var{coordinate:t,translateX:r,translateY:n}=e;return dr(H0,{["".concat(H0,"-right")]:it(r)&&t&&it(t.x)&&r>=t.x,["".concat(H0,"-left")]:it(r)&&t&&it(t.x)&&r<t.x,["".concat(H0,"-bottom")]:it(n)&&t&&it(t.y)&&n>=t.y,["".concat(H0,"-top")]:it(n)&&t&&it(t.y)&&n<t.y})}function uF(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(a&&it(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),p=r[n]+i;if(t[n])return s[n]?d:p;var m=c[n];if(m==null)return 0;if(s[n]){var y=d,_=m;return y<_?Math.max(p,m):Math.max(d,m)}if(u==null)return 0;var b=p+o,E=m+u;return b>E?Math.max(d,m):Math.max(p,m)}function uNe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fNe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,d,p,m;return o.height>0&&o.width>0&&r?(p=uF({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=uF({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=uNe({translateX:p,translateY:m,useTranslate3d:c})):d=lNe,{cssProperties:d,cssClasses:cNe({translateX:p,translateY:m,coordinate:r})}}function fF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fF(Object(r),!0).forEach(function(n){JA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JA(e,t,r){return(t=dNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dNe(e){var t=hNe(e,"string");return typeof t=="symbol"?t:t+""}function hNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pNe extends R.PureComponent{constructor(){super(...arguments),JA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),JA(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:p,useTranslate3d:m,viewBox:y,wrapperStyle:_,lastBoundingBox:b,innerRef:E,hasPortalFromProps:A}=this.props,L=typeof u=="number"?u:u.x,I=typeof u=="number"?u:u.y,{cssClasses:O,cssProperties:D}=fNe({allowEscapeViewBox:r,coordinate:s,offsetLeft:L,offsetTop:I,position:d,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:m,viewBox:y}),M=A?{}:iy(iy({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=iy(iy({},M),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},_);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:N,ref:E},a)}}var sH=()=>{var e;return(e=ft(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function XA(){return XA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XA.apply(null,arguments)}function dF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dF(Object(r),!0).forEach(function(n){mNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mNe(e,t,r){return(t=gNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gNe(e){var t=vNe(e,"string");return typeof t=="symbol"?t:t+""}function vNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pF={curveBasisClosed:QTe,curveBasisOpen:eSe,curveBasis:ZTe,curveBumpX:jTe,curveBumpY:UTe,curveLinearClosed:tSe,curveLinear:r_,curveMonotoneX:rSe,curveMonotoneY:nSe,curveNatural:iSe,curveStep:aSe,curveStepAfter:oSe,curveStepBefore:sSe},Xx=e=>Bt(e.x)&&Bt(e.y),mF=e=>e.base!=null&&Xx(e.base)&&Xx(e),G0=e=>e.x,q0=e=>e.y,yNe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Um(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=pF["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return pF[r]||r_},gF={connectNulls:!1,type:"linear"},xNe=e=>{var{type:t=gF.type,points:r=[],baseLine:n,layout:i,connectNulls:a=gF.connectNulls}=e,s=yNe(t,i),o=a?r.filter(Xx):r;if(Array.isArray(n)){var c,u=r.map((_,b)=>hF(hF({},_),{},{base:n[b]}));i==="vertical"?c=Jv().y(q0).x1(G0).x0(_=>_.base.x):c=Jv().x(G0).y1(q0).y0(_=>_.base.y);var d=c.defined(mF).curve(s),p=a?u.filter(mF):u;return d(p)}var m;i==="vertical"&&it(n)?m=Jv().y(q0).x1(G0).x0(n):it(n)?m=Jv().x(G0).y1(q0).y0(n):m=R7().x(G0).y(q0);var y=m.defined(Xx).curve(s);return y(o)},Qd=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Ff();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?xNe(s):n;return R.createElement("path",XA({},ka(e),mN(e),{className:dr("recharts-curve",t),d:o===null?void 0:o,ref:i}))},_Ne=["x","y","top","left","width","height","className"];function ZA(){return ZA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZA.apply(null,arguments)}function vF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bNe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(r),!0).forEach(function(n){wNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wNe(e,t,r){return(t=ENe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ENe(e){var t=TNe(e,"string");return typeof t=="symbol"?t:t+""}function TNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SNe(e,t){if(e==null)return{};var r,n,i=ANe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ANe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CNe=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),NNe=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,c=SNe(e,_Ne),u=bNe({x:t,y:r,top:n,left:i,width:a,height:s},c);return!it(t)||!it(r)||!it(a)||!it(s)||!it(n)||!it(i)?null:R.createElement("path",ZA({},ha(u),{className:dr("recharts-cross",o),d:CNe(t,r,a,s,n,i)}))};function kNe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function yF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yF(Object(r),!0).forEach(function(n){INe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function INe(e,t,r){return(t=PNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PNe(e){var t=RNe(e,"string");return typeof t=="symbol"?t:t+""}function RNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ONe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),oH=(e,t,r)=>e.map(n=>"".concat(ONe(n)," ").concat(t,"ms ").concat(r)).join(","),MNe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),vm=(e,t)=>Object.keys(t).reduce((r,n)=>xF(xF({},r),{},{[n]:e(n,t[n])}),{});function _F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_F(Object(r),!0).forEach(function(n){DNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DNe(e,t,r){return(t=LNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LNe(e){var t=FNe(e,"string");return typeof t=="symbol"?t:t+""}function FNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zx=(e,t,r)=>e+(t-e)*r,QA=e=>{var{from:t,to:r}=e;return t!==r},lH=(e,t,r)=>{var n=vm((i,a)=>{if(QA(a)){var[s,o]=e(a.from,a.to,a.velocity);return Wn(Wn({},a),{},{from:s,velocity:o})}return a},t);return r<1?vm((i,a)=>QA(a)&&n[i]!=null?Wn(Wn({},a),{},{velocity:Zx(a.velocity,n[i].velocity,r),from:Zx(a.from,n[i].from,r)}):a,t):lH(e,n,r-1)};function jNe(e,t,r,n,i,a){var s,o=n.reduce((m,y)=>Wn(Wn({},m),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),c=()=>vm((m,y)=>y.from,o),u=()=>!Object.values(o).filter(QA).length,d=null,p=m=>{s||(s=m);var y=m-s,_=y/r.dt;o=lH(r,o,_),i(Wn(Wn(Wn({},e),t),c())),s=m,u()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{var m;(m=d)===null||m===void 0||m()})}function UNe(e,t,r,n,i,a,s){var o=null,c=i.reduce((p,m)=>{var y=e[m],_=t[m];return y==null||_==null?p:Wn(Wn({},p),{},{[m]:[y,_]})},{}),u,d=p=>{u||(u=p);var m=(p-u)/n,y=vm((b,E)=>Zx(...E,r(m)),c);if(a(Wn(Wn(Wn({},e),t),y)),m<1)o=s.setTimeout(d);else{var _=vm((b,E)=>Zx(...E,r(1)),c);a(Wn(Wn(Wn({},e),t),_))}};return()=>(o=s.setTimeout(d),()=>{var p;(p=o)===null||p===void 0||p()})}const BNe=(e,t,r,n,i,a)=>{var s=MNe(e,t);return r==null?()=>(i(Wn(Wn({},e),t)),()=>{}):r.isStepper===!0?jNe(e,t,r,s,i,a):UNe(e,t,r,n,s,i,a)};var Qx=1e-4,cH=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uH=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bF=(e,t)=>r=>{var n=cH(e,t);return uH(n,r)},VNe=(e,t)=>r=>{var n=cH(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return uH(i,r)},zNe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},$Ne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=zNe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},HNe=(e,t,r,n)=>{var i=bF(e,r),a=bF(t,n),s=VNe(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,p=d,m=0;m<8;++m){var y=i(p)-d,_=s(p);if(Math.abs(y-d)<Qx||_<Qx)return a(p);p=o(p-y/_)}return a(p)};return c.isStepper=!1,c},wF=function(){return HNe(...$Ne(...arguments))},GNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,p=c+(u-d)*i/1e3,m=c*i/1e3+s;return Math.abs(m-o)<Qx&&Math.abs(p)<Qx?[o,0]:[m,p]};return a.isStepper=!0,a.dt=i,a},qNe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wF(e);case"spring":return GNe();default:if(e.split("(")[0]==="cubic-bezier")return wF(e)}return typeof e=="function"?e:null};function KNe(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class WNe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function YNe(){return KNe(new WNe)}var JNe=R.createContext(YNe);function XNe(e,t){var r=R.useContext(JNe);return R.useMemo(()=>t??r(e),[e,t,r])}var ZNe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qm={isSsr:ZNe()},QNe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EF={t:0},PT={t:1};function Km(e){var t=Hn(e,QNe),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=r==="auto"?!qm.isSsr:r,p=XNe(t.animationId,t.animationManager),[m,y]=R.useState(d?EF:PT),_=R.useRef(null);return R.useEffect(()=>{d||y(PT)},[d]),R.useEffect(()=>{if(!d||!n)return Lf;var b=BNe(EF,PT,qNe(a),i,y,p.getTimeoutController()),E=()=>{_.current=b()};return p.start([c,s,E,i,o]),()=>{p.stop(),_.current&&_.current(),o()}},[d,n,i,a,s,c,o,p]),u(m.t)}function Wm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=R.useRef(um(t)),n=R.useRef(e);return n.current!==e&&(r.current=um(t),n.current=e),r.current}var eke=["radius"],tke=["radius"],TF,SF,AF,CF,NF,kF,IF,PF,RF,OF;function MF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(r),!0).forEach(function(n){rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rke(e,t,r){return(t=nke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nke(e){var t=ike(e,"string");return typeof t=="symbol"?t:t+""}function ike(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(null,arguments)}function LF(e,t){if(e==null)return{};var r,n,i=ake(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ake(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Eo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var FF=(e,t,r,n,i)=>{var a=Oc(r),s=Oc(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,p;if(o>0&&Array.isArray(i)){for(var m=[0,0,0,0],y=0,_=4;y<_;y++){var b,E=(b=i[y])!==null&&b!==void 0?b:0;m[y]=E>o?o:E}p=dn(TF||(TF=Eo(["M",",",""])),e,t+c*m[0]),m[0]>0&&(p+=dn(SF||(SF=Eo(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),p+=dn(AF||(AF=Eo(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(p+=dn(CF||(CF=Eo(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),p+=dn(NF||(NF=Eo(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(p+=dn(kF||(kF=Eo(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),p+=dn(IF||(IF=Eo(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(p+=dn(PF||(PF=Eo(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var A=Math.min(o,i);p=dn(RF||(RF=Eo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*A,A,A,d,e+u*A,t,e+r-u*A,t,A,A,d,e+r,t+c*A,e+r,t+n-c*A,A,A,d,e+r-u*A,t+n,e+u*A,t+n,A,A,d,e,t+n-c*A)}else p=dn(OF||(OF=Eo(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return p},jF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fH=e=>{var t=Hn(e,jF),r=R.useRef(null),[n,i]=R.useState(-1);R.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ue=r.current.getTotalLength();ue&&i(ue)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:p,animationDuration:m,animationBegin:y,isAnimationActive:_,isUpdateAnimationActive:b}=t,E=R.useRef(o),A=R.useRef(c),L=R.useRef(a),I=R.useRef(s),O=R.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),D=Wm(O,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var M=dr("recharts-rectangle",d);if(!b){var N=ha(t),{radius:k}=N,P=LF(N,eke);return R.createElement("path",e1({},P,{x:Oc(a),y:Oc(s),width:Oc(o),height:Oc(c),radius:typeof u=="number"?u:void 0,className:M,d:FF(a,s,o,c,u)}))}var U=E.current,B=A.current,F=L.current,H=I.current,fe="0px ".concat(n===-1?1:n,"px"),pe="".concat(n,"px 0px"),re=oH(["strokeDasharray"],m,typeof p=="string"?p:jF.animationEasing);return R.createElement(Km,{animationId:D,key:D,canBegin:n>0,duration:m,easing:p,isActive:b,begin:y},ue=>{var ce=Wr(U,o,ue),ie=Wr(B,c,ue),xe=Wr(F,a,ue),J=Wr(H,s,ue);r.current&&(E.current=ce,A.current=ie,L.current=xe,I.current=J);var V;_?ue>0?V={transition:re,strokeDasharray:pe}:V={strokeDasharray:fe}:V={strokeDasharray:pe};var ee=ha(t),{radius:X}=ee,q=LF(ee,tke);return R.createElement("path",e1({},q,{radius:typeof u=="number"?u:void 0,className:M,d:FF(xe,J,ce,ie,u),ref:r,style:DF(DF({},V),t.style)}))})};function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(n){ske(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ske(e,t,r){return(t=oke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oke(e){var t=lke(e,"string");return typeof t=="symbol"?t:t+""}function lke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t1=Math.PI/180,cke=e=>e*180/Math.PI,Vn=(e,t,r,n)=>({x:e+Math.cos(-t1*n)*r,y:t+Math.sin(-t1*n)*r}),dH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uke=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},fke=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=uke({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:cke(c),angleInRadian:c}},dke=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},hke=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},pke=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=fke({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=dke(t),d=a,p;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=c}return p?BF(BF({},t),{},{radius:i,angle:hke(d,t)}):null};function hH(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=Vn(t,r,n,i),o=Vn(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var VF,zF,$F,HF,GF,qF,KF;function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e2.apply(null,arguments)}function Hu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var mke=(e,t)=>{var r=ui(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ay=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/t1,p=c?i:i+a*d,m=Vn(t,r,u,p),y=Vn(t,r,n,p),_=c?i-a*d:i,b=Vn(t,r,u*Math.cos(d*t1),_);return{center:m,circleTangency:y,lineTangency:b,theta:d}},pH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=mke(a,s),c=a+o,u=Vn(t,r,i,a),d=Vn(t,r,i,c),p=dn(VF||(VF=Hu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>c),d.x,d.y);if(n>0){var m=Vn(t,r,n,a),y=Vn(t,r,n,c);p+=dn(zF||(zF=Hu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,n,n,+(Math.abs(o)>180),+(a<=c),m.x,m.y)}else p+=dn($F||($F=Hu(["L ",","," Z"])),t,r);return p},gke=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=ui(u-c),{circleTangency:p,lineTangency:m,theta:y}=ay({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:_,lineTangency:b,theta:E}=ay({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),A=o?Math.abs(c-u):Math.abs(c-u)-y-E;if(A<0)return s?dn(HF||(HF=Hu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):pH({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var L=dn(GF||(GF=Hu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(d<0),p.x,p.y,i,i,+(A>180),+(d<0),_.x,_.y,a,a,+(d<0),b.x,b.y);if(n>0){var{circleTangency:I,lineTangency:O,theta:D}=ay({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:M,lineTangency:N,theta:k}=ay({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),P=o?Math.abs(c-u):Math.abs(c-u)-D-k;if(P<0&&a===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=dn(qF||(qF=Hu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,a,a,+(d<0),M.x,M.y,n,n,+(P>180),+(d>0),I.x,I.y,a,a,+(d<0),O.x,O.y)}else L+=dn(KF||(KF=Hu(["L",",","Z"])),t,r);return L},vke={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mH=e=>{var t=Hn(e,vke),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:p}=t;if(a<i||u===d)return null;var m=dr("recharts-sector",p),y=a-i,_=Wi(s,y,0,!0),b;return _>0&&Math.abs(u-d)<360?b=gke({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(_,y/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):b=pH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),R.createElement("path",e2({},ha(t),{className:m,d:b}))};function yke(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(K7(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,c=Vn(n,i,a,o),u=Vn(n,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return hH(t)}}var RT={},OT={},MT={},WF;function xke(){return WF||(WF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i$();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(MT)),MT}var YF;function _ke(){return YF||(YF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xke();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(OT)),OT}var JF;function bke(){return JF||(JF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a$(),r=_ke();function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}e.range=n})(RT)),RT}var DT,XF;function wke(){return XF||(XF=1,DT=bke().range),DT}var Eke=wke();const gH=Ns(Eke);function Vc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tke(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ON(e){let t,r,n;e.length!==2?(t=Vc,r=(o,c)=>Vc(e(o),c),n=(o,c)=>e(o)-c):(t=e===Vc||e===Tke?e:Ske,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;r(o[p],c)<0?u=p+1:d=p}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;r(o[p],c)<=0?u=p+1:d=p}while(u<d)}return u}function s(o,c,u=0,d=o.length){const p=i(o,c,u,d-1);return p>u&&n(o[p-1],c)>-n(o[p],c)?p-1:p}return{left:i,center:s,right:a}}function Ske(){return 0}function vH(e){return e===null?NaN:+e}function*Ake(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Cke=ON(Vc),Ym=Cke.right;ON(vH).center;class ZF extends Map{constructor(t,r=Ike){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(QF(this,t))}has(t){return super.has(QF(this,t))}set(t,r){return super.set(Nke(this,t),r)}delete(t){return super.delete(kke(this,t))}}function QF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Nke({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function kke({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ike(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pke(e=Vc){if(e===Vc)return yH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function yH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Rke=Math.sqrt(50),Oke=Math.sqrt(10),Mke=Math.sqrt(2);function r1(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Rke?10:a>=Oke?5:a>=Mke?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?r1(e,t,r*2):[o,c,u]}function t2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?r1(t,e,r):r1(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function r2(e,t,r){return t=+t,e=+e,r=+r,r1(e,t,r)[2]}function n2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?r2(t,e,r):r2(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function e5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function t5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function xH(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?yH:Pke(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*p*(c-p)/c)*(u-c/2<0?-1:1),y=Math.max(r,Math.floor(t-u*p/c+m)),_=Math.min(n,Math.floor(t+(c-u)*p/c+m));xH(e,t,y,_,i)}const a=e[t];let s=r,o=n;for(K0(e,r,t),i(e[n],a)>0&&K0(e,r,n);s<o;){for(K0(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?K0(e,r,o):(++o,K0(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function K0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Dke(e,t,r){if(e=Float64Array.from(Ake(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return t5(e);if(t>=1)return e5(e);var n,i=(n-1)*t,a=Math.floor(i),s=e5(xH(e,a).subarray(0,a+1)),o=t5(e.subarray(a+1));return s+(o-s)*(i-a)}}function Lke(e,t,r=vH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function Fke(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Ps(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const i2=Symbol("implicit");function MN(){var e=new ZF,t=[],r=[],n=i2;function i(a){let s=e.get(a);if(s===void 0){if(n!==i2)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ZF;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MN(t,r).unknown(n)},Ps.apply(i,arguments),i}function DN(){var e=MN().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function p(){var m=t().length,y=i<n,_=y?i:n,b=y?n:i;a=(b-_)/Math.max(1,m-c+u*2),o&&(a=Math.floor(a)),_+=(b-_-a*(m-c))*d,s=a*(1-c),o&&(_=Math.round(_),s=Math.round(s));var E=Fke(m).map(function(A){return _+a*A});return r(y?E.reverse():E)}return e.domain=function(m){return arguments.length?(t(m),p()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,o=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(m){return arguments.length?(o=!!m,p()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),p()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),p()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,p()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),p()):d},e.copy=function(){return DN(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Ps.apply(p(),arguments)}function _H(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _H(t())},e}function jke(){return _H(DN.apply(null,arguments).paddingInner(1))}function LN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jm(){}var ym=.7,n1=1/ym,eh="\\s*([+-]?\\d+)\\s*",xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uke=/^#([0-9a-f]{3,8})$/,Bke=new RegExp(`^rgb\\(${eh},${eh},${eh}\\)$`),Vke=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),zke=new RegExp(`^rgba\\(${eh},${eh},${eh},${xm}\\)$`),$ke=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${xm}\\)$`),Hke=new RegExp(`^hsl\\(${xm},${Mo},${Mo}\\)$`),Gke=new RegExp(`^hsla\\(${xm},${Mo},${Mo},${xm}\\)$`),r5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LN(Jm,_m,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:n5,formatHex:n5,formatHex8:qke,formatHsl:Kke,formatRgb:i5,toString:i5});function n5(){return this.rgb().formatHex()}function qke(){return this.rgb().formatHex8()}function Kke(){return wH(this).formatHsl()}function i5(){return this.rgb().formatRgb()}function _m(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Uke.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?a5(t):r===3?new Ca(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bke.exec(e))?new Ca(t[1],t[2],t[3],1):(t=Vke.exec(e))?new Ca(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zke.exec(e))?sy(t[1],t[2],t[3],t[4]):(t=$ke.exec(e))?sy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hke.exec(e))?l5(t[1],t[2]/100,t[3]/100,1):(t=Gke.exec(e))?l5(t[1],t[2]/100,t[3]/100,t[4]):r5.hasOwnProperty(e)?a5(r5[e]):e==="transparent"?new Ca(NaN,NaN,NaN,0):null}function a5(e){return new Ca(e>>16&255,e>>8&255,e&255,1)}function sy(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ca(e,t,r,n)}function Wke(e){return e instanceof Jm||(e=_m(e)),e?(e=e.rgb(),new Ca(e.r,e.g,e.b,e.opacity)):new Ca}function a2(e,t,r,n){return arguments.length===1?Wke(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}LN(Ca,a2,bH(Jm,{brighter(e){return e=e==null?n1:Math.pow(n1,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ym:Math.pow(ym,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ca(ef(this.r),ef(this.g),ef(this.b),i1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s5,formatHex:s5,formatHex8:Yke,formatRgb:o5,toString:o5}));function s5(){return`#${Gu(this.r)}${Gu(this.g)}${Gu(this.b)}`}function Yke(){return`#${Gu(this.r)}${Gu(this.g)}${Gu(this.b)}${Gu((isNaN(this.opacity)?1:this.opacity)*255)}`}function o5(){const e=i1(this.opacity);return`${e===1?"rgb(":"rgba("}${ef(this.r)}, ${ef(this.g)}, ${ef(this.b)}${e===1?")":`, ${e})`}`}function i1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ef(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gu(e){return e=ef(e),(e<16?"0":"")+e.toString(16)}function l5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ys(e,t,r,n)}function wH(e){if(e instanceof Ys)return new Ys(e.h,e.s,e.l,e.opacity);if(e instanceof Jm||(e=_m(e)),!e)return new Ys;if(e instanceof Ys)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Ys(s,o,c,e.opacity)}function Jke(e,t,r,n){return arguments.length===1?wH(e):new Ys(e,t,r,n??1)}function Ys(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}LN(Ys,Jke,bH(Jm,{brighter(e){return e=e==null?n1:Math.pow(n1,e),new Ys(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ym:Math.pow(ym,e),new Ys(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ca(LT(e>=240?e-240:e+120,i,n),LT(e,i,n),LT(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ys(c5(this.h),oy(this.s),oy(this.l),i1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=i1(this.opacity);return`${e===1?"hsl(":"hsla("}${c5(this.h)}, ${oy(this.s)*100}%, ${oy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function c5(e){return e=(e||0)%360,e<0?e+360:e}function oy(e){return Math.max(0,Math.min(1,e||0))}function LT(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const FN=e=>()=>e;function Xke(e,t){return function(r){return e+r*t}}function Zke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Qke(e){return(e=+e)==1?EH:function(t,r){return r-t?Zke(t,r,e):FN(isNaN(t)?r:t)}}function EH(e,t){var r=t-e;return r?Xke(e,r):FN(isNaN(e)?t:e)}const u5=(function e(t){var r=Qke(t);function n(i,a){var s=r((i=a2(i)).r,(a=a2(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=EH(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n})(1);function eIe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function tIe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rIe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Dh(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function nIe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function a1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iIe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Dh(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var s2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FT=new RegExp(s2.source,"g");function aIe(e){return function(){return e}}function sIe(e){return function(t){return e(t)+""}}function oIe(e,t){var r=s2.lastIndex=FT.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=s2.exec(e))&&(i=FT.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:a1(n,i)})),r=FT.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?sIe(c[0].x):aIe(t):(t=c.length,function(u){for(var d=0,p;d<t;++d)o[(p=c[d]).i]=p.x(u);return o.join("")})}function Dh(e,t){var r=typeof t,n;return t==null||r==="boolean"?FN(t):(r==="number"?a1:r==="string"?(n=_m(t))?(t=n,u5):oIe:t instanceof _m?u5:t instanceof Date?nIe:tIe(t)?eIe:Array.isArray(t)?rIe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?iIe:a1)(e,t)}function jN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function lIe(e,t){t===void 0&&(t=e,e=Dh);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function cIe(e){return function(){return e}}function s1(e){return+e}var f5=[0,1];function ca(e){return e}function o2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cIe(isNaN(t)?NaN:.5)}function uIe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function fIe(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=o2(i,n),a=r(s,a)):(n=o2(n,i),a=r(a,s)),function(o){return a(n(o))}}function dIe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=o2(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=Ym(e,o,1,n)-1;return a[c](i[c](o))}}function Xm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function w_(){var e=f5,t=f5,r=Dh,n,i,a,s=ca,o,c,u;function d(){var m=Math.min(e.length,t.length);return s!==ca&&(s=uIe(e[0],e[m-1])),o=m>2?dIe:fIe,c=u=null,p}function p(m){return m==null||isNaN(m=+m)?a:(c||(c=o(e.map(n),t,r)))(n(s(m)))}return p.invert=function(m){return s(i((u||(u=o(t,e.map(n),a1)))(m)))},p.domain=function(m){return arguments.length?(e=Array.from(m,s1),d()):e.slice()},p.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},p.rangeRound=function(m){return t=Array.from(m),r=jN,d()},p.clamp=function(m){return arguments.length?(s=m?!0:ca,d()):s!==ca},p.interpolate=function(m){return arguments.length?(r=m,d()):r},p.unknown=function(m){return arguments.length?(a=m,p):a},function(m,y){return n=m,i=y,d()}}function UN(){return w_()(ca,ca)}function hIe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function o1(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function yh(e){return e=o1(Math.abs(e)),e?e[1]:NaN}function pIe(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function mIe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var gIe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bm(e){if(!(t=gIe.exec(e)))throw new Error("invalid format: "+e);var t;return new BN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bm.prototype=BN.prototype;function BN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}BN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vIe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var l1;function yIe(e,t){var r=o1(e,t);if(!r)return l1=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(l1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+o1(e,Math.max(0,t+a-1))[0]}function d5(e,t){var r=o1(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const h5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hIe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>d5(e*100,t),r:d5,s:yIe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p5(e){return e}var m5=Array.prototype.map,g5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xIe(e){var t=e.grouping===void 0||e.thousands===void 0?p5:pIe(m5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?p5:mIe(m5.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p,m){p=bm(p);var y=p.fill,_=p.align,b=p.sign,E=p.symbol,A=p.zero,L=p.width,I=p.comma,O=p.precision,D=p.trim,M=p.type;M==="n"?(I=!0,M="g"):h5[M]||(O===void 0&&(O=12),D=!0,M="g"),(A||y==="0"&&_==="=")&&(A=!0,y="0",_="=");var N=(m&&m.prefix!==void 0?m.prefix:"")+(E==="$"?r:E==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),k=(E==="$"?n:/[%p]/.test(M)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),P=h5[M],U=/[defgprs%]/.test(M);O=O===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function B(F){var H=N,fe=k,pe,re,ue;if(M==="c")fe=P(F)+fe,F="";else{F=+F;var ce=F<0||1/F<0;if(F=isNaN(F)?c:P(Math.abs(F),O),D&&(F=vIe(F)),ce&&+F==0&&b!=="+"&&(ce=!1),H=(ce?b==="("?b:o:b==="-"||b==="("?"":b)+H,fe=(M==="s"&&!isNaN(F)&&l1!==void 0?g5[8+l1/3]:"")+fe+(ce&&b==="("?")":""),U){for(pe=-1,re=F.length;++pe<re;)if(ue=F.charCodeAt(pe),48>ue||ue>57){fe=(ue===46?i+F.slice(pe+1):F.slice(pe))+fe,F=F.slice(0,pe);break}}}I&&!A&&(F=t(F,1/0));var ie=H.length+F.length+fe.length,xe=ie<L?new Array(L-ie+1).join(y):"";switch(I&&A&&(F=t(xe+F,xe.length?L-fe.length:1/0),xe=""),_){case"<":F=H+F+fe+xe;break;case"=":F=H+xe+F+fe;break;case"^":F=xe.slice(0,ie=xe.length>>1)+H+F+fe+xe.slice(ie);break;default:F=xe+H+F+fe;break}return a(F)}return B.toString=function(){return p+""},B}function d(p,m){var y=Math.max(-8,Math.min(8,Math.floor(yh(m)/3)))*3,_=Math.pow(10,-y),b=u((p=bm(p),p.type="f",p),{suffix:g5[8+y/3]});return function(E){return b(_*E)}}return{format:u,formatPrefix:d}}var ly,VN,TH;_Ie({thousands:",",grouping:[3],currency:["$",""]});function _Ie(e){return ly=xIe(e),VN=ly.format,TH=ly.formatPrefix,ly}function bIe(e){return Math.max(0,-yh(Math.abs(e)))}function wIe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yh(t)/3)))*3-yh(Math.abs(e)))}function EIe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yh(t)-yh(e))+1}function SH(e,t,r,n){var i=n2(e,t,r),a;switch(n=bm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=wIe(i,s))&&(n.precision=a),TH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=EIe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=bIe(i))&&(n.precision=a-(n.type==="%")*2);break}}return VN(n)}function su(e){var t=e.domain;return e.ticks=function(r){var n=t();return t2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return SH(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=r2(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function AH(){var e=UN();return e.copy=function(){return Xm(e,AH())},Ps.apply(e,arguments),su(e)}function CH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,s1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return CH(e).unknown(t)},e=arguments.length?Array.from(e,s1):[0,1],su(r)}function NH(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function v5(e){return Math.log(e)}function y5(e){return Math.exp(e)}function TIe(e){return-Math.log(-e)}function SIe(e){return-Math.exp(-e)}function AIe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function CIe(e){return e===10?AIe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function NIe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function x5(e){return(t,r)=>-e(-t,r)}function zN(e){const t=e(v5,y5),r=t.domain;let n=10,i,a;function s(){return i=NIe(n),a=CIe(n),r()[0]<0?(i=x5(i),a=x5(a),e(TIe,SIe)):e(v5,y5),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const p=d<u;p&&([u,d]=[d,u]);let m=i(u),y=i(d),_,b;const E=o==null?10:+o;let A=[];if(!(n%1)&&y-m<E){if(m=Math.floor(m),y=Math.ceil(y),u>0){for(;m<=y;++m)for(_=1;_<n;++_)if(b=m<0?_/a(-m):_*a(m),!(b<u)){if(b>d)break;A.push(b)}}else for(;m<=y;++m)for(_=n-1;_>=1;--_)if(b=m>0?_/a(-m):_*a(m),!(b<u)){if(b>d)break;A.push(b)}A.length*2<E&&(A=t2(u,d,E))}else A=t2(m,y,Math.min(y-m,E)).map(a);return p?A.reverse():A},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=bm(c)).precision==null&&(c.trim=!0),c=VN(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=u?c(d):""}},t.nice=()=>r(NH(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function kH(){const e=zN(w_()).domain([1,10]);return e.copy=()=>Xm(e,kH()).base(e.base()),Ps.apply(e,arguments),e}function _5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function b5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $N(e){var t=1,r=e(_5(t),b5(t));return r.constant=function(n){return arguments.length?e(_5(t=+n),b5(t)):t},su(r)}function IH(){var e=$N(w_());return e.copy=function(){return Xm(e,IH()).constant(e.constant())},Ps.apply(e,arguments)}function w5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function kIe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IIe(e){return e<0?-e*e:e*e}function HN(e){var t=e(ca,ca),r=1;function n(){return r===1?e(ca,ca):r===.5?e(kIe,IIe):e(w5(r),w5(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},su(t)}function GN(){var e=HN(w_());return e.copy=function(){return Xm(e,GN()).exponent(e.exponent())},Ps.apply(e,arguments),e}function PIe(){return GN.apply(null,arguments).exponent(.5)}function E5(e){return Math.sign(e)*e*e}function RIe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function PH(){var e=UN(),t=[0,1],r=!1,n;function i(a){var s=RIe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(E5(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,s1)).map(E5)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return PH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ps.apply(i,arguments),su(i)}function RH(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=Lke(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Ym(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Vc),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return RH().domain(e).range(t).unknown(n)},Ps.apply(a,arguments)}function OH(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Ym(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return OH().domain([e,t]).range(i).unknown(a)},Ps.apply(su(s),arguments)}function MH(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Ym(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return MH().domain(e).range(t).unknown(r)},Ps.apply(i,arguments)}const jT=new Date,UT=new Date;function ei(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>ei(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(jT.setTime(+a),UT.setTime(+s),e(jT),e(UT),Math.floor(r(jT,UT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const c1=ei(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);c1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ei(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):c1);c1.range;const gl=1e3,ws=gl*60,vl=ws*60,Pl=vl*24,qN=Pl*7,T5=Pl*30,BT=Pl*365,qu=ei(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getUTCSeconds());qu.range;const KN=ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getMinutes());KN.range;const WN=ei(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ws)},(e,t)=>(t-e)/ws,e=>e.getUTCMinutes());WN.range;const YN=ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl-e.getMinutes()*ws)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getHours());YN.range;const JN=ei(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getUTCHours());JN.range;const Zm=ei(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ws)/Pl,e=>e.getDate()-1);Zm.range;const E_=ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pl,e=>e.getUTCDate()-1);E_.range;const DH=ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Pl,e=>Math.floor(e/Pl));DH.range;function jf(e){return ei(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ws)/qN)}const T_=jf(0),u1=jf(1),OIe=jf(2),MIe=jf(3),xh=jf(4),DIe=jf(5),LIe=jf(6);T_.range;u1.range;OIe.range;MIe.range;xh.range;DIe.range;LIe.range;function Uf(e){return ei(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qN)}const S_=Uf(0),f1=Uf(1),FIe=Uf(2),jIe=Uf(3),_h=Uf(4),UIe=Uf(5),BIe=Uf(6);S_.range;f1.range;FIe.range;jIe.range;_h.range;UIe.range;BIe.range;const XN=ei(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());XN.range;const ZN=ei(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ZN.range;const Rl=ei(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Rl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ei(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Rl.range;const Ol=ei(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ol.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ei(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ol.range;function LH(e,t,r,n,i,a){const s=[[qu,1,gl],[qu,5,5*gl],[qu,15,15*gl],[qu,30,30*gl],[a,1,ws],[a,5,5*ws],[a,15,15*ws],[a,30,30*ws],[i,1,vl],[i,3,3*vl],[i,6,6*vl],[i,12,12*vl],[n,1,Pl],[n,2,2*Pl],[r,1,qN],[t,1,T5],[t,3,3*T5],[e,1,BT]];function o(u,d,p){const m=d<u;m&&([u,d]=[d,u]);const y=p&&typeof p.range=="function"?p:c(u,d,p),_=y?y.range(u,+d+1):[];return m?_.reverse():_}function c(u,d,p){const m=Math.abs(d-u)/p,y=ON(([,,E])=>E).right(s,m);if(y===s.length)return e.every(n2(u/BT,d/BT,p));if(y===0)return c1.every(Math.max(n2(u,d,p),1));const[_,b]=s[m/s[y-1][2]<s[y][2]/m?y-1:y];return _.every(b)}return[o,c]}const[VIe,zIe]=LH(Ol,ZN,S_,DH,JN,WN),[$Ie,HIe]=LH(Rl,XN,T_,Zm,YN,KN);function VT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function W0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GIe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Y0(i),d=J0(i),p=Y0(a),m=J0(a),y=Y0(s),_=J0(s),b=Y0(o),E=J0(o),A=Y0(c),L=J0(c),I={a:ue,A:ce,b:ie,B:xe,c:null,d:I5,e:I5,f:pPe,g:TPe,G:APe,H:fPe,I:dPe,j:hPe,L:FH,m:mPe,M:gPe,p:J,q:V,Q:O5,s:M5,S:vPe,u:yPe,U:xPe,V:_Pe,w:bPe,W:wPe,x:null,X:null,y:EPe,Y:SPe,Z:CPe,"%":R5},O={a:ee,A:X,b:q,B:he,c:null,d:P5,e:P5,f:PPe,g:VPe,G:$Pe,H:NPe,I:kPe,j:IPe,L:UH,m:RPe,M:OPe,p:ye,q:ke,Q:O5,s:M5,S:MPe,u:DPe,U:LPe,V:FPe,w:jPe,W:UPe,x:null,X:null,y:BPe,Y:zPe,Z:HPe,"%":R5},D={a:U,A:B,b:F,B:H,c:fe,d:N5,e:N5,f:oPe,g:C5,G:A5,H:k5,I:k5,j:nPe,L:sPe,m:rPe,M:iPe,p:P,q:tPe,Q:cPe,s:uPe,S:aPe,u:JIe,U:XIe,V:ZIe,w:YIe,W:QIe,x:pe,X:re,y:C5,Y:A5,Z:ePe,"%":lPe};I.x=M(r,I),I.X=M(n,I),I.c=M(t,I),O.x=M(r,O),O.X=M(n,O),O.c=M(t,O);function M(le,ge){return function(De){var K=[],Ye=-1,je=0,Ke=le.length,Ve,Le,Je;for(De instanceof Date||(De=new Date(+De));++Ye<Ke;)le.charCodeAt(Ye)===37&&(K.push(le.slice(je,Ye)),(Le=S5[Ve=le.charAt(++Ye)])!=null?Ve=le.charAt(++Ye):Le=Ve==="e"?" ":"0",(Je=ge[Ve])&&(Ve=Je(De,Le)),K.push(Ve),je=Ye+1);return K.push(le.slice(je,Ye)),K.join("")}}function N(le,ge){return function(De){var K=W0(1900,void 0,1),Ye=k(K,le,De+="",0),je,Ke;if(Ye!=De.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ge&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(je=zT(W0(K.y,0,1)),Ke=je.getUTCDay(),je=Ke>4||Ke===0?f1.ceil(je):f1(je),je=E_.offset(je,(K.V-1)*7),K.y=je.getUTCFullYear(),K.m=je.getUTCMonth(),K.d=je.getUTCDate()+(K.w+6)%7):(je=VT(W0(K.y,0,1)),Ke=je.getDay(),je=Ke>4||Ke===0?u1.ceil(je):u1(je),je=Zm.offset(je,(K.V-1)*7),K.y=je.getFullYear(),K.m=je.getMonth(),K.d=je.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Ke="Z"in K?zT(W0(K.y,0,1)).getUTCDay():VT(W0(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Ke+5)%7:K.w+K.U*7-(Ke+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,zT(K)):VT(K)}}function k(le,ge,De,K){for(var Ye=0,je=ge.length,Ke=De.length,Ve,Le;Ye<je;){if(K>=Ke)return-1;if(Ve=ge.charCodeAt(Ye++),Ve===37){if(Ve=ge.charAt(Ye++),Le=D[Ve in S5?ge.charAt(Ye++):Ve],!Le||(K=Le(le,De,K))<0)return-1}else if(Ve!=De.charCodeAt(K++))return-1}return K}function P(le,ge,De){var K=u.exec(ge.slice(De));return K?(le.p=d.get(K[0].toLowerCase()),De+K[0].length):-1}function U(le,ge,De){var K=y.exec(ge.slice(De));return K?(le.w=_.get(K[0].toLowerCase()),De+K[0].length):-1}function B(le,ge,De){var K=p.exec(ge.slice(De));return K?(le.w=m.get(K[0].toLowerCase()),De+K[0].length):-1}function F(le,ge,De){var K=A.exec(ge.slice(De));return K?(le.m=L.get(K[0].toLowerCase()),De+K[0].length):-1}function H(le,ge,De){var K=b.exec(ge.slice(De));return K?(le.m=E.get(K[0].toLowerCase()),De+K[0].length):-1}function fe(le,ge,De){return k(le,t,ge,De)}function pe(le,ge,De){return k(le,r,ge,De)}function re(le,ge,De){return k(le,n,ge,De)}function ue(le){return s[le.getDay()]}function ce(le){return a[le.getDay()]}function ie(le){return c[le.getMonth()]}function xe(le){return o[le.getMonth()]}function J(le){return i[+(le.getHours()>=12)]}function V(le){return 1+~~(le.getMonth()/3)}function ee(le){return s[le.getUTCDay()]}function X(le){return a[le.getUTCDay()]}function q(le){return c[le.getUTCMonth()]}function he(le){return o[le.getUTCMonth()]}function ye(le){return i[+(le.getUTCHours()>=12)]}function ke(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ge=M(le+="",I);return ge.toString=function(){return le},ge},parse:function(le){var ge=N(le+="",!1);return ge.toString=function(){return le},ge},utcFormat:function(le){var ge=M(le+="",O);return ge.toString=function(){return le},ge},utcParse:function(le){var ge=N(le+="",!0);return ge.toString=function(){return le},ge}}}var S5={"-":"",_:" ",0:"0"},pi=/^\s*\d+/,qIe=/^%/,KIe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function WIe(e){return e.replace(KIe,"\\$&")}function Y0(e){return new RegExp("^(?:"+e.map(WIe).join("|")+")","i")}function J0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function YIe(e,t,r){var n=pi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function JIe(e,t,r){var n=pi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function XIe(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ZIe(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function QIe(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function A5(e,t,r){var n=pi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function C5(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ePe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tPe(e,t,r){var n=pi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function rPe(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function N5(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function nPe(e,t,r){var n=pi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function k5(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iPe(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function aPe(e,t,r){var n=pi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function sPe(e,t,r){var n=pi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function oPe(e,t,r){var n=pi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lPe(e,t,r){var n=qIe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function cPe(e,t,r){var n=pi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function uPe(e,t,r){var n=pi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function I5(e,t){return hr(e.getDate(),t,2)}function fPe(e,t){return hr(e.getHours(),t,2)}function dPe(e,t){return hr(e.getHours()%12||12,t,2)}function hPe(e,t){return hr(1+Zm.count(Rl(e),e),t,3)}function FH(e,t){return hr(e.getMilliseconds(),t,3)}function pPe(e,t){return FH(e,t)+"000"}function mPe(e,t){return hr(e.getMonth()+1,t,2)}function gPe(e,t){return hr(e.getMinutes(),t,2)}function vPe(e,t){return hr(e.getSeconds(),t,2)}function yPe(e){var t=e.getDay();return t===0?7:t}function xPe(e,t){return hr(T_.count(Rl(e)-1,e),t,2)}function jH(e){var t=e.getDay();return t>=4||t===0?xh(e):xh.ceil(e)}function _Pe(e,t){return e=jH(e),hr(xh.count(Rl(e),e)+(Rl(e).getDay()===4),t,2)}function bPe(e){return e.getDay()}function wPe(e,t){return hr(u1.count(Rl(e)-1,e),t,2)}function EPe(e,t){return hr(e.getFullYear()%100,t,2)}function TPe(e,t){return e=jH(e),hr(e.getFullYear()%100,t,2)}function SPe(e,t){return hr(e.getFullYear()%1e4,t,4)}function APe(e,t){var r=e.getDay();return e=r>=4||r===0?xh(e):xh.ceil(e),hr(e.getFullYear()%1e4,t,4)}function CPe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function P5(e,t){return hr(e.getUTCDate(),t,2)}function NPe(e,t){return hr(e.getUTCHours(),t,2)}function kPe(e,t){return hr(e.getUTCHours()%12||12,t,2)}function IPe(e,t){return hr(1+E_.count(Ol(e),e),t,3)}function UH(e,t){return hr(e.getUTCMilliseconds(),t,3)}function PPe(e,t){return UH(e,t)+"000"}function RPe(e,t){return hr(e.getUTCMonth()+1,t,2)}function OPe(e,t){return hr(e.getUTCMinutes(),t,2)}function MPe(e,t){return hr(e.getUTCSeconds(),t,2)}function DPe(e){var t=e.getUTCDay();return t===0?7:t}function LPe(e,t){return hr(S_.count(Ol(e)-1,e),t,2)}function BH(e){var t=e.getUTCDay();return t>=4||t===0?_h(e):_h.ceil(e)}function FPe(e,t){return e=BH(e),hr(_h.count(Ol(e),e)+(Ol(e).getUTCDay()===4),t,2)}function jPe(e){return e.getUTCDay()}function UPe(e,t){return hr(f1.count(Ol(e)-1,e),t,2)}function BPe(e,t){return hr(e.getUTCFullYear()%100,t,2)}function VPe(e,t){return e=BH(e),hr(e.getUTCFullYear()%100,t,2)}function zPe(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function $Pe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_h(e):_h.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function HPe(){return"+0000"}function R5(){return"%"}function O5(e){return+e}function M5(e){return Math.floor(+e/1e3)}var Td,VH,zH;GPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GPe(e){return Td=GIe(e),VH=Td.format,Td.parse,zH=Td.utcFormat,Td.utcParse,Td}function qPe(e){return new Date(e)}function KPe(e){return e instanceof Date?+e:+new Date(+e)}function QN(e,t,r,n,i,a,s,o,c,u){var d=UN(),p=d.invert,m=d.domain,y=u(".%L"),_=u(":%S"),b=u("%I:%M"),E=u("%I %p"),A=u("%a %d"),L=u("%b %d"),I=u("%B"),O=u("%Y");function D(M){return(c(M)<M?y:o(M)<M?_:s(M)<M?b:a(M)<M?E:n(M)<M?i(M)<M?A:L:r(M)<M?I:O)(M)}return d.invert=function(M){return new Date(p(M))},d.domain=function(M){return arguments.length?m(Array.from(M,KPe)):m().map(qPe)},d.ticks=function(M){var N=m();return e(N[0],N[N.length-1],M??10)},d.tickFormat=function(M,N){return N==null?D:u(N)},d.nice=function(M){var N=m();return(!M||typeof M.range!="function")&&(M=t(N[0],N[N.length-1],M??10)),M?m(NH(N,M)):d},d.copy=function(){return Xm(d,QN(e,t,r,n,i,a,s,o,c,u))},d}function WPe(){return Ps.apply(QN($Ie,HIe,Rl,XN,T_,Zm,YN,KN,qu,VH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YPe(){return Ps.apply(QN(VIe,zIe,Ol,ZN,S_,E_,JN,WN,qu,zH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function A_(){var e=0,t=1,r,n,i,a,s=ca,o=!1,c;function u(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(o=!!p,u):o},u.interpolator=function(p){return arguments.length?(s=p,u):s};function d(p){return function(m){var y,_;return arguments.length?([y,_]=m,s=p(y,_),u):[s(0),s(1)]}}return u.range=d(Dh),u.rangeRound=d(jN),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return a=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function ou(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $H(){var e=su(A_()(ca));return e.copy=function(){return ou(e,$H())},zl.apply(e,arguments)}function HH(){var e=zN(A_()).domain([1,10]);return e.copy=function(){return ou(e,HH()).base(e.base())},zl.apply(e,arguments)}function GH(){var e=$N(A_());return e.copy=function(){return ou(e,GH()).constant(e.constant())},zl.apply(e,arguments)}function ek(){var e=HN(A_());return e.copy=function(){return ou(e,ek()).exponent(e.exponent())},zl.apply(e,arguments)}function JPe(){return ek.apply(null,arguments).exponent(.5)}function qH(){var e=[],t=ca;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ym(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Vc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Dke(e,a/n))},r.copy=function(){return qH(t).domain(e)},zl.apply(r,arguments)}function C_(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=ca,d,p=!1,m;function y(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-a)*(n*b<n*a?o:c),u(p?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,y):[e,t,r]},y.clamp=function(b){return arguments.length?(p=!!b,y):p},y.interpolator=function(b){return arguments.length?(u=b,y):u};function _(b){return function(E){var A,L,I;return arguments.length?([A,L,I]=E,u=lIe(b,[A,L,I]),y):[u(0),u(.5),u(1)]}}return y.range=_(Dh),y.rangeRound=_(jN),y.unknown=function(b){return arguments.length?(m=b,y):m},function(b){return d=b,i=b(e),a=b(t),s=b(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,y}}function KH(){var e=su(C_()(ca));return e.copy=function(){return ou(e,KH())},zl.apply(e,arguments)}function WH(){var e=zN(C_()).domain([.1,1,10]);return e.copy=function(){return ou(e,WH()).base(e.base())},zl.apply(e,arguments)}function YH(){var e=$N(C_());return e.copy=function(){return ou(e,YH()).constant(e.constant())},zl.apply(e,arguments)}function tk(){var e=HN(C_());return e.copy=function(){return ou(e,tk()).exponent(e.exponent())},zl.apply(e,arguments)}function XPe(){return tk.apply(null,arguments).exponent(.5)}const dp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:DN,scaleDiverging:KH,scaleDivergingLog:WH,scaleDivergingPow:tk,scaleDivergingSqrt:XPe,scaleDivergingSymlog:YH,scaleIdentity:CH,scaleImplicit:i2,scaleLinear:AH,scaleLog:kH,scaleOrdinal:MN,scalePoint:jke,scalePow:GN,scaleQuantile:RH,scaleQuantize:OH,scaleRadial:PH,scaleSequential:$H,scaleSequentialLog:HH,scaleSequentialPow:ek,scaleSequentialQuantile:qH,scaleSequentialSqrt:JPe,scaleSequentialSymlog:GH,scaleSqrt:PIe,scaleSymlog:IH,scaleThreshold:MH,scaleTime:WPe,scaleUtc:YPe,tickFormat:SH},Symbol.toStringTag,{value:"Module"}));var $l=e=>e.chartData,N_=be([$l],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),JH=(e,t,r,n)=>n?N_(e):$l(e),XH=(e,t,r)=>r?N_(e):$l(e);function Ml(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Bt(t)&&Bt(r))return!0}return!1}function D5(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function ZH(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Bt(r))i=r;else if(typeof r=="function")return;if(Bt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Ml(s))return s}}function ZPe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ml(n))return D5(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(it(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&GL.test(i)){var c=GL.exec(i);if(c==null||c[1]==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t?.[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(it(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[1]))}catch{}else if(typeof a=="string"&&qL.test(a)){var d=qL.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var p=+d[1];o=t[1]+p}}else o=t?.[1];var m=[s,o];if(Ml(m))return t==null?m:D5(m,t,r)}}}var Lh=1e9,QPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nk,en=!0,Cs="[DecimalError] ",tf=Cs+"Invalid argument: ",rk=Cs+"Exponent out of range: ",Fh=Math.floor,Uu=Math.pow,eRe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ga,li=1e7,Kr=7,QH=9007199254740991,d1=Fh(QH/Kr),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(e){return El(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,r=t.constructor;return Ur(El(t,new r(e),0,1),r.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return $n(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ga))throw Error(Cs+"NaN");if(r.s<1)throw Error(Cs+(r.s?"NaN":"-Infinity"));return r.eq(Ga)?new n(0):(en=!1,t=El(wm(r,a),wm(e,a),a),en=!0,Ur(t,i))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rG(t,e):eG(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Cs+"NaN");return r.s?(en=!1,t=El(r,e,0,1).times(e),en=!0,r.minus(t)):Ur(new n(r),i)};ct.naturalExponential=ct.exp=function(){return tG(this)};ct.naturalLogarithm=ct.ln=function(){return wm(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eG(t,e):rG(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(tf+e);if(t=$n(i)+1,n=i.d.length-1,r=n*Kr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ct.squareRoot=ct.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Cs+"NaN")}for(e=$n(o),en=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Io(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(El(o,a,s+2)).times(.5),Io(a.d).slice(0,s)===(t=Io(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Ur(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return en=!0,Ur(n,r)};ct.times=ct.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,p=d.constructor,m=d.d,y=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=y.length,c<u&&(a=m,m=y,y=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+y[n]*m[i-n-1]+t,a[i--]=o%li|0,t=o/li|0;a[i]=(a[i]+t)%li|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,en?Ur(e,p.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Bo(e,0,Lh),t===void 0?t=n.rounding:Bo(t,0,8),Ur(r,e+$n(r)+1,t))};ct.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=bf(n,!0):(Bo(e,0,Lh),t===void 0?t=i.rounding:Bo(t,0,8),n=Ur(new i(n),e+1,t),r=bf(n,!0,e+1)),r};ct.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?bf(i):(Bo(e,0,Lh),t===void 0?t=a.rounding:Bo(t,0,8),n=Ur(new a(i),e+$n(i)+1,t),r=bf(n.abs(),!1,e+$n(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return Ur(new t(e),$n(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ga);if(o=new c(o),!o.s){if(e.s<1)throw Error(Cs+"Infinity");return o}if(o.eq(Ga))return o;if(n=c.precision,e.eq(Ga))return Ur(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=QH){for(i=new c(Ga),t=Math.ceil(n/Kr+4),en=!1;r%2&&(i=i.times(o),F5(i.d,t)),r=Fh(r/2),r!==0;)o=o.times(o),F5(o.d,t);return en=!0,e.s<0?new c(Ga).div(i):Ur(i,n)}}else if(a<0)throw Error(Cs+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,en=!1,i=e.times(wm(o,n+u)),en=!0,i=tG(i),i.s=a,i};ct.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=$n(i),n=bf(i,r<=a.toExpNeg||r>=a.toExpPos)):(Bo(e,1,Lh),t===void 0?t=a.rounding:Bo(t,0,8),i=Ur(new a(i),e,t),r=$n(i),n=bf(i,e<=r||r<=a.toExpNeg,e)),n};ct.toSignificantDigits=ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Bo(e,1,Lh),t===void 0?t=n.rounding:Bo(t,0,8)),Ur(new n(r),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$n(e),r=e.constructor;return bf(e,t<=r.toExpNeg||t>=r.toExpPos)};function eG(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),en?Ur(t,p):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(p/Kr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/li|0,c[a]%=li;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,en?Ur(t,p):t}function Bo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(tf+e)}function Io(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Kr-n.length,r&&(a+=Tc(r)),a+=n;s=e[t],n=s+"",r=Kr-n.length,r&&(a+=Tc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var El=(function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%li|0,s=a/li|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*li+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,p,m,y,_,b,E,A,L,I,O,D,M,N,k,P=n.constructor,U=n.s==i.s?1:-1,B=n.d,F=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(Cs+"Division by zero");for(c=n.e-i.e,N=F.length,D=B.length,y=new P(U),_=y.d=[],u=0;F[u]==(B[u]||0);)++u;if(F[u]>(B[u]||0)&&--c,a==null?L=a=P.precision:s?L=a+($n(n)-$n(i))+1:L=a,L<0)return new P(0);if(L=L/Kr+2|0,u=0,N==1)for(d=0,F=F[0],L++;(u<D||d)&&L--;u++)I=d*li+(B[u]||0),_[u]=I/F|0,d=I%F|0;else{for(d=li/(F[0]+1)|0,d>1&&(F=e(F,d),B=e(B,d),N=F.length,D=B.length),O=N,b=B.slice(0,N),E=b.length;E<N;)b[E++]=0;k=F.slice(),k.unshift(0),M=F[0],F[1]>=li/2&&++M;do d=0,o=t(F,b,N,E),o<0?(A=b[0],N!=E&&(A=A*li+(b[1]||0)),d=A/M|0,d>1?(d>=li&&(d=li-1),p=e(F,d),m=p.length,E=b.length,o=t(p,b,m,E),o==1&&(d--,r(p,N<m?k:F,m))):(d==0&&(o=d=1),p=F.slice()),m=p.length,m<E&&p.unshift(0),r(b,p,E),o==-1&&(E=b.length,o=t(F,b,N,E),o<1&&(d++,r(b,N<E?k:F,E))),E=b.length):o===0&&(d++,b=[0]),_[u++]=d,o&&b[0]?b[E++]=B[O]||0:(b=[B[O]],E=1);while((O++<D||b[0]!==void 0)&&L--)}return _[0]||_.shift(),y.e=c,Ur(y,s?a+$n(y)+1:a)}})();function tG(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,p=d.precision;if($n(e)>16)throw Error(rk+$n(e));if(!e.s)return new d(Ga);for(en=!1,o=p,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Uu(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Ga),d.precision=o;;){if(i=Ur(i.times(e),o),r=r.times(++c),s=a.plus(El(i,r,o)),Io(s.d).slice(0,o)===Io(a.d).slice(0,o)){for(;u--;)a=Ur(a.times(a),o);return d.precision=p,t==null?(en=!0,Ur(a,p)):a}a=s}}function $n(e){for(var t=e.e*Kr,r=e.d[0];r>=10;r/=10)t++;return t}function $T(e,t,r){if(t>e.LN10.sd())throw en=!0,r&&(e.precision=r),Error(Cs+"LN10 precision limit exceeded");return Ur(new e(e.LN10),t)}function Tc(e){for(var t="";e--;)t+="0";return t}function wm(e,t){var r,n,i,a,s,o,c,u,d,p=1,m=10,y=e,_=y.d,b=y.constructor,E=b.precision;if(y.s<1)throw Error(Cs+(y.s?"NaN":"-Infinity"));if(y.eq(Ga))return new b(0);if(t==null?(en=!1,u=E):u=t,y.eq(10))return t==null&&(en=!0),$T(b,u);if(u+=m,b.precision=u,r=Io(_),n=r.charAt(0),a=$n(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Io(y.d),n=r.charAt(0),p++;a=$n(y),n>1?(y=new b("0."+r),a++):y=new b(n+"."+r.slice(1))}else return c=$T(b,u+2,E).times(a+""),y=wm(new b(n+"."+r.slice(1)),u-m).plus(c),b.precision=E,t==null?(en=!0,Ur(y,E)):y;for(o=s=y=El(y.minus(Ga),y.plus(Ga),u),d=Ur(y.times(y),u),i=3;;){if(s=Ur(s.times(d),u),c=o.plus(El(s,new b(i),u)),Io(c.d).slice(0,u)===Io(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus($T(b,u+2,E).times(a+""))),o=El(o,new b(p),u),b.precision=E,t==null?(en=!0,Ur(o,E)):o;o=c,i+=2}}function L5(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Fh(r/Kr),e.d=[],n=(r+1)%Kr,r<0&&(n+=Kr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Kr;n<i;)e.d.push(+t.slice(n,n+=Kr));t=t.slice(n),n=Kr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),en&&(e.e>d1||e.e<-d1))throw Error(rk+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ur(e,t,r){var n,i,a,s,o,c,u,d,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Kr,i=t,u=p[d=0];else{if(d=Math.ceil((n+1)/Kr),a=p.length,d>=a)return e;for(u=a=p[d],s=1;a>=10;a/=10)s++;n%=Kr,i=n-Kr+s}if(r!==void 0&&(a=Uu(10,s-i-1),o=u/a%10|0,c=t<0||p[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Uu(10,s-i):0:p[d-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(a=$n(e),p.length=1,t=t-a-1,p[0]=Uu(10,(Kr-t%Kr)%Kr),e.e=Fh(-t/Kr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=d,a=1,d--):(p.length=d+1,a=Uu(10,Kr-n),p[d]=i>0?(u/Uu(10,s-i)%Uu(10,i)|0)*a:0),c)for(;;)if(d==0){(p[0]+=a)==li&&(p[0]=1,++e.e);break}else{if(p[d]+=a,p[d]!=li)break;p[d--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(en&&(e.e>d1||e.e<-d1))throw Error(rk+$n(e));return e}function rG(e,t){var r,n,i,a,s,o,c,u,d,p,m=e.constructor,y=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),en?Ur(t,y):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=p.length):(r=p,n=u,o=c.length),i=Math.max(Math.ceil(y/Kr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=p.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}s=0}for(d&&(r=c,c=p,p=r,t.s=-t.s),o=c.length,i=p.length-o;i>0;--i)c[o++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=li-1;--c[a],c[i]+=li}c[i]-=p[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,en?Ur(t,y):t):new m(0)}function bf(e,t,r){var n,i=$n(e),a=Io(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Tc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Tc(-i-1)+a,r&&(n=r-s)>0&&(a+=Tc(n))):i>=s?(a+=Tc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Tc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Tc(n))),e.s<0?"-"+a:a}function F5(e,t){if(e.length>t)return e.length=t,!0}function nG(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(tf+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return L5(s,a.toString())}else if(typeof a!="string")throw Error(tf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,eRe.test(a))L5(s,a);else throw Error(tf+a)}if(i.prototype=ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nG,i.config=i.set=tRe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function tRe(e){if(!e||typeof e!="object")throw Error(Cs+"Object expected");var t,r,n,i=["precision",1,Lh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Fh(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(tf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(tf+r+": "+n);return this}var nk=nG(QPe);Ga=new nk(1);const Cr=nk;function iG(e){var t;return e===0?t=1:t=Math.floor(new Cr(e).abs().log(10).toNumber())+1,t}function aG(e,t,r){for(var n=new Cr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var sG=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},oG=(e,t,r)=>{if(e.lte(0))return new Cr(0);var n=iG(e.toNumber()),i=new Cr(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Cr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?new Cr(c.toNumber()):new Cr(Math.ceil(c.toNumber()))},rRe=(e,t,r)=>{var n=new Cr(1),i=new Cr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Cr(10).pow(iG(e)-1),i=new Cr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Cr(Math.floor(e)))}else e===0?i=new Cr(Math.floor((t-1)/2)):r||(i=new Cr(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],c=0;c<t;c++)o.push(i.add(new Cr(c-s).mul(n)).toNumber());return o},lG=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Cr(0),tickMin:new Cr(0),tickMax:new Cr(0)};var s=oG(new Cr(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Cr(0):(o=new Cr(t).add(r).div(2),o=o.sub(new Cr(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Cr(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?lG(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Cr(c).mul(s)),tickMax:o.add(new Cr(u).mul(s))})},nRe=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,c]=sG([r,n]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return r>n?u.reverse():u}if(o===c)return rRe(o,i,a);var{step:d,tickMin:p,tickMax:m}=lG(o,c,s,a,0),y=aG(p,m.add(new Cr(.1).mul(d)),d);return r>n?y.reverse():y},iRe=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=sG([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var c=Math.max(r,2),u=oG(new Cr(o).sub(s).div(c-1),a,0),d=[...aG(new Cr(s),new Cr(o),u),o];return a===!1&&(d=d.map(p=>Math.round(p))),n>i?d.reverse():d},cG=e=>e.rootProps.maxBarSize,aRe=e=>e.rootProps.barGap,uG=e=>e.rootProps.barCategoryGap,sRe=e=>e.rootProps.barSize,Qm=e=>e.rootProps.stackOffset,fG=e=>e.rootProps.reverseStackOrder,ik=e=>e.options.chartName,ak=e=>e.rootProps.syncId,dG=e=>e.rootProps.syncMethod,sk=e=>e.options.eventEmitter,oRe=e=>e.rootProps.baseValue,zn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Mu={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},To={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},k_=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function I_(e,t,r){if(r!=="auto")return r;if(e!=null)return $o(e,t)?"category":"number"}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){lRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lRe(e,t,r){return(t=cRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cRe(e){var t=uRe(e,"string");return typeof t=="symbol"?t:t+""}function uRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U5={allowDataOverflow:Mu.allowDataOverflow,allowDecimals:Mu.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Mu.angleAxisId,includeHidden:!1,name:void 0,reversed:Mu.reversed,scale:Mu.scale,tick:Mu.tick,tickCount:void 0,ticks:void 0,type:Mu.type,unit:void 0},B5={allowDataOverflow:To.allowDataOverflow,allowDecimals:To.allowDecimals,allowDuplicatedCategory:To.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:To.radiusAxisId,includeHidden:To.includeHidden,name:void 0,reversed:To.reversed,scale:To.scale,tick:To.tick,tickCount:To.tickCount,ticks:void 0,type:To.type,unit:void 0},fRe=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},ok=be([fRe,W$],(e,t)=>{var r;if(e!=null)return e;var n=(r=I_(t,"angleAxis",U5.type))!==null&&r!==void 0?r:"category";return h1(h1({},U5),{},{type:n})}),dRe=(e,t)=>e.polarAxis.radiusAxis[t],lk=be([dRe,W$],(e,t)=>{var r;if(e!=null)return e;var n=(r=I_(t,"radiusAxis",B5.type))!==null&&r!==void 0?r:"category";return h1(h1({},B5),{},{type:n})}),P_=e=>e.polarOptions,ck=be([Bl,Vl,Qn],dH),hG=be([P_,ck],(e,t)=>{if(e!=null)return Wi(e.innerRadius,t,0)}),pG=be([P_,ck],(e,t)=>{if(e!=null)return Wi(e.outerRadius,t,t*.8)}),hRe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},mG=be([P_],hRe);be([ok,mG],k_);var gG=be([ck,hG,pG],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});be([lk,gG],k_);var vG=be([lr,P_,hG,pG,Bl,Vl],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:Wi(s,i,i/2),cy:Wi(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),sn=(e,t)=>t,eg=(e,t,r)=>r;function R_(e){return e?.id}function yG(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=R_(o);u.forEach((p,m)=>{var y=a==null||i?m:String(Lr(p,a,null)),_=Lr(p,o.dataKey,0),b;s.has(y)?b=s.get(y):b={},Object.assign(b,{[d]:_}),s.set(y,b)})}}),Array.from(s.values())}function O_(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var M_=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function D_(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function pRe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var mi=e=>{var t=lr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},jh=e=>e.tooltip.settings.axisId;function mRe(e){if(e in dp)return dp[e]();var t="scale".concat(Um(e));if(t in dp)return dp[t]()}function V5(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var c=e.bandwidth();switch(s.position){case"middle":o+=c/2;break;case"end":o+=c;break}}return o}}}}function z5(e,t,r){if(typeof e=="function")return V5(e.copy().domain(t).range(r));if(e!=null){var n=mRe(e);if(n!=null)return n.domain(t).range(r),V5(n)}}var xG=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ml(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];Bt(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function $5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(r),!0).forEach(function(n){gRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gRe(e,t,r){return(t=vRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vRe(e){var t=yRe(e,"string");return typeof t=="symbol"?t:t+""}function yRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l2=[0,"auto"],ii={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},_G=(e,t)=>e.cartesianAxis.xAxis[t],Hl=(e,t)=>{var r=_G(e,t);return r??ii},ai={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:l2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$m},bG=(e,t)=>e.cartesianAxis.yAxis[t],Gl=(e,t)=>{var r=bG(e,t);return r??ai},xRe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},uk=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??xRe},xn=(e,t,r)=>{switch(t){case"xAxis":return Hl(e,r);case"yAxis":return Gl(e,r);case"zAxis":return uk(e,r);case"angleAxis":return ok(e,r);case"radiusAxis":return lk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_Re=(e,t,r)=>{switch(t){case"xAxis":return Hl(e,r);case"yAxis":return Gl(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uh=(e,t,r)=>{switch(t){case"xAxis":return Hl(e,r);case"yAxis":return Gl(e,r);case"angleAxis":return ok(e,r);case"radiusAxis":return lk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wG=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function fk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var L_=e=>e.graphicalItems.cartesianItems,bRe=be([sn,eg],fk),dk=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),tg=be([L_,xn,bRe],dk,{memoizeOptions:{resultEqualityCheck:D_}}),EG=be([tg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(O_)),TG=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),wRe=be([tg],TG),hk=e=>e.map(t=>t.data).filter(Boolean).flat(1),ERe=be([tg],hk,{memoizeOptions:{resultEqualityCheck:D_}}),pk=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},mk=be([ERe,JH],pk),gk=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Lr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Lr(i,n)}))):e.map(n=>({value:n})),F_=be([mk,xn,tg],gk);function SG(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Uy(e){if(jo(e)||e instanceof Date){var t=Number(e);if(Bt(t))return t}}function H5(e){if(Array.isArray(e)){var t=[Uy(e[0]),Uy(e[1])];return Ml(t)?t:void 0}var r=Uy(e);if(r!=null)return[r,r]}function Dl(e){return e.map(Uy).filter(Aa)}function TRe(e,t,r){return!r||typeof t!="number"||ao(t)?[]:r.length?Dl(r.flatMap(n=>{var i=Lr(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Bt(a)||!Bt(s)))return[t-a,t+s]})):[]}var ti=e=>{var t=mi(e),r=jh(e);return Uh(e,t,r)},rg=be([ti],e=>e?.dataKey),SRe=be([EG,JH,ti],yG),AG=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var c=s[o.stackId];return c==null&&(c=[]),c.push(o),s[o.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,c]=s,u=n?[...c].reverse():c,d=u.map(R_);return[o,{stackedData:q2e(e,d,r),graphicalItems:u}]}))},m1=be([SRe,EG,Qm,fG],AG),CG=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=J2e(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},ARe=be([xn],e=>e.allowDataOverflow),vk=e=>{var t;if(e==null||!("domain"in e))return l2;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Dl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:l2},yk=be([xn],vk),xk=be([yk,ARe],ZH),CRe=be([m1,$l,sn,xk],CG,{memoizeOptions:{resultEqualityCheck:M_}}),j_=e=>e.errorBars,NRe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>SG(r,n)),g1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},_k=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,p=(u=n[c.id])===null||u===void 0?void 0:u.filter(A=>SG(i,A)),m=Lr(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),y=TRe(o,m,p);if(y.length>=2){var _=Math.min(...y),b=Math.max(...y);(a==null||_<a)&&(a=_),(s==null||b>s)&&(s=b)}var E=H5(m);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),s=s==null?E[1]:Math.max(s,E[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=H5(Lr(o,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),Bt(a)&&Bt(s))return[a,s]},kRe=be([mk,xn,wRe,j_,sn],_k,{memoizeOptions:{resultEqualityCheck:M_}});function IRe(e){var{value:t}=e;if(jo(t)||t instanceof Date)return t}var PRe=(e,t,r)=>{var n=e.map(IRe).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&H7(n))?gH(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},NG=e=>e.referenceElements.dots,Bh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),RRe=be([NG,sn,eg],Bh),kG=e=>e.referenceElements.areas,ORe=be([kG,sn,eg],Bh),IG=e=>e.referenceElements.lines,MRe=be([IG,sn,eg],Bh),PG=(e,t)=>{if(e!=null){var r=Dl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},DRe=be(RRe,sn,PG),RG=(e,t)=>{if(e!=null){var r=Dl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},LRe=be([ORe,sn],RG);function FRe(e){var t;if(e.x!=null)return Dl([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Dl(r)}function jRe(e){var t;if(e.y!=null)return Dl([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Dl(r)}var OG=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?FRe(n):jRe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},URe=be([MRe,sn],OG),BRe=be(DRe,URe,LRe,(e,t,r)=>g1(e,r,t)),bk=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?g1(n,a,i):g1(a,i);return ZPe(t,u,e.allowDataOverflow)},VRe=be([xn,yk,xk,CRe,kRe,BRe,lr,sn],bk,{memoizeOptions:{resultEqualityCheck:M_}}),zRe=[0,1],wk=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=$o(t,a);if(u&&o==null){var d;return gH(0,(d=r?.length)!==null&&d!==void 0?d:0)}return c==="category"?PRe(n,e,u):i==="expand"?zRe:s}},Ek=be([xn,lr,mk,F_,Qm,sn,VRe],wk);function $Re(e){return e in dp}var MG=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Um(n));return $Re(a)?a:"point"}}},lu=be([xn,wG,ik],MG);function Tk(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?z5(e.scale,r,n):z5(t,r,n)}var Sk=(e,t,r)=>{var n=vk(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ml(e))return nRe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ml(e))return iRe(e,t.tickCount,t.allowDecimals)}},Ak=be([Ek,Uh,lu],Sk),Ck=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ml(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],o=(i=r[0])!==null&&i!==void 0?i:0,c=t[1],u=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(c,u)]}return t},HRe=be([xn,Ek,Ak,sn],Ck),GRe=be(F_,xn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Dl(e.map(p=>p.value))).sort((p,m)=>p-m),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o],u=n[o+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/s}}),DG=be(GRe,lr,uG,Qn,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Bt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Wi(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),qRe=(e,t,r)=>{var n=Hl(e,t);return n==null||typeof n.padding!="string"?0:DG(e,"xAxis",t,r,n.padding)},KRe=(e,t,r)=>{var n=Gl(e,t);return n==null||typeof n.padding!="string"?0:DG(e,"yAxis",t,r,n.padding)},WRe=be(Hl,qRe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),YRe=be(Gl,KRe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),JRe=be([Qn,WRe,v_,g_,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),XRe=be([Qn,lr,YRe,v_,g_,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),ng=(e,t,r,n)=>{var i;switch(t){case"xAxis":return JRe(e,r,n);case"yAxis":return XRe(e,r,n);case"zAxis":return(i=uk(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return mG(e);case"radiusAxis":return gG(e,r);default:return}},LG=be([xn,ng],k_),ZRe=be([lu,HRe],xG),U_=be([xn,lu,ZRe,LG],Tk);be([tg,j_,sn],NRe);function FG(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var B_=(e,t)=>t,V_=(e,t,r)=>r,QRe=be(p_,B_,V_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(FG)),eOe=be(m_,B_,V_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(FG)),jG=(e,t)=>({width:e.width,height:t.height}),tOe=(e,t)=>{var r=typeof t.width=="number"?t.width:$m;return{width:r,height:e.height}},UG=be(Qn,Hl,jG),rOe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},nOe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},iOe=be(Vl,Qn,QRe,B_,V_,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=jG(t,o);s==null&&(s=rOe(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),aOe=be(Bl,Qn,eOe,B_,V_,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=tOe(t,o);s==null&&(s=nOe(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),sOe=(e,t)=>{var r=Hl(e,t);if(r!=null)return iOe(e,r.orientation,r.mirror)},oOe=be([Qn,Hl,sOe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),lOe=(e,t)=>{var r=Gl(e,t);if(r!=null)return aOe(e,r.orientation,r.mirror)},cOe=be([Qn,Gl,lOe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),BG=be(Qn,Gl,(e,t)=>{var r=typeof t.width=="number"?t.width:$m;return{width:r,height:e.height}}),G5=(e,t,r)=>{switch(t){case"xAxis":return UG(e,r).width;case"yAxis":return BG(e,r).height;default:return}},VG=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=$o(e,n),c=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&H7(c))return c}},Nk=be([lr,F_,xn,sn],VG),zG=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=$o(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},kk=be([lr,F_,Uh,sn],zG),q5=be([lr,_Re,lu,U_,Nk,kk,ng,Ak,sn],(e,t,r,n,i,a,s,o,c)=>{if(t!=null){var u=$o(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),uOe=(e,t,r,n,i,a,s,o,c)=>{if(!(t==null||n==null)){var u=$o(e,c),{type:d,ticks:p,tickCount:m}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,_=d==="category"&&n.bandwidth?n.bandwidth()/y:0;_=c==="angleAxis"&&a!=null&&a.length>=2?ui(a[0]-a[1])*2*_:_;var b=p||i;return b?b.map((E,A)=>{var L=s?s.indexOf(E):E,I=n.map(L);return Bt(I)?{index:A,coordinate:I+_,value:E,offset:_}:null}).filter(Aa):u&&o?o.map((E,A)=>{var L=n.map(E);return Bt(L)?{coordinate:L+_,value:E,index:A,offset:_}:null}).filter(Aa):n.ticks?n.ticks(m).map((E,A)=>{var L=n.map(E);return Bt(L)?{coordinate:L+_,value:E,index:A,offset:_}:null}).filter(Aa):n.domain().map((E,A)=>{var L=n.map(E);return Bt(L)?{coordinate:L+_,value:s?s[E]:E,index:A,offset:_}:null}).filter(Aa)}},$G=be([lr,Uh,lu,U_,Ak,ng,Nk,kk,sn],uOe),fOe=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=$o(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&n?.length>=2?ui(n[0]-n[1])*2*u:u,o&&a?a.map((d,p)=>{var m=r.map(d);return Bt(m)?{coordinate:m+u,value:d,index:p,offset:u}:null}).filter(Aa):r.ticks?r.ticks(c).map((d,p)=>{var m=r.map(d);return Bt(m)?{coordinate:m+u,value:d,index:p,offset:u}:null}).filter(Aa):r.domain().map((d,p)=>{var m=r.map(d);return Bt(m)?{coordinate:m+u,value:i?i[d]:d,index:p,offset:u}:null}).filter(Aa)}},Zc=be([lr,Uh,U_,ng,Nk,kk,sn],fOe),Qc=be(xn,U_,(e,t)=>{if(!(e==null||t==null))return p1(p1({},e),{},{scale:t})}),dOe=be([xn,lu,Ek,LG],Tk);be((e,t,r)=>uk(e,r),dOe,(e,t)=>{if(!(e==null||t==null))return p1(p1({},e),{},{scale:t})});var hOe=be([lr,p_,m_],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),HG=e=>e.options.defaultTooltipEventType,GG=e=>e.options.validateTooltipEventTypes;function qG(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ik(e,t){var r=HG(e),n=GG(e);return qG(t,r,n)}function pOe(e){return ft(t=>Ik(t,e))}var KG=(e,t)=>{var r,n=Number(t);if(!(ao(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},mOe=e=>e.tooltip.settings,Nc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},gOe={itemInteraction:{click:Nc,hover:Nc},axisInteraction:{click:Nc,hover:Nc},keyboardInteraction:Nc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},WG=Pa({name:"tooltip",initialState:gOe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Zr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=io(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Zr()},removeTooltipEntrySettings:{reducer(e,t){var r=io(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Zr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:vOe,replaceTooltipEntrySettings:yOe,removeTooltipEntrySettings:xOe,setTooltipSettingsState:_Oe,setActiveMouseOverItemIndex:YG,mouseLeaveItem:bOe,mouseLeaveChart:JG,setActiveClickItemIndex:wOe,setMouseOverAxisIndex:XG,setMouseClickAxisIndex:EOe,setSyncInteraction:c2,setKeyboardInteraction:u2}=WG.actions,TOe=WG.reducer;function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(n){SOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SOe(e,t,r){return(t=AOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AOe(e){var t=COe(e,"string");return typeof t=="symbol"?t:t+""}function COe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NOe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function kOe(e){return e.index!=null}var ZG=(e,t,r,n)=>{if(t==null)return Nc;var i=NOe(e,t,r);if(i==null)return Nc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(kOe(i)){if(a)return cy(cy({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return cy(cy({},Nc),{},{coordinate:i.coordinate})};function IOe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function POe(e,t){var r=IOe(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function ROe(e,t,r){if(r==null||t==null)return!0;var n=Lr(e,t);return n==null||!Ml(r)?!0:POe(n,r)}var Pk=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!Bt(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(s,Math.min(a,o)),u=t[c];return u==null||ROe(u,r,n)?String(c):null},QG=(e,t,r,n,i,a,s)=>{if(a!=null){var o=s[0],c=o?.getPosition(a);if(c!=null)return c;var u=i?.[Number(a)];if(u)return r==="horizontal"?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},eq=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},tq=e=>e.options.tooltipPayloadSearcher,Vh=e=>e.tooltip;function W5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(r),!0).forEach(function(n){OOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OOe(e,t,r){return(t=MOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MOe(e){var t=DOe(e,"string");return typeof t=="symbol"?t:t+""}function DOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LOe(e,t){return e??t}var rq=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,p=[];return e.reduce((m,y)=>{var _,{dataDefinedOnItem:b,settings:E}=y,A=LOe(b,o),L=Array.isArray(A)?F$(A,u,d):A,I=(_=E?.dataKey)!==null&&_!==void 0?_:n,O=E?.nameKey,D;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&s==="axis"?D=G7(L,n,i):D=a(L,t,c,O),Array.isArray(D))D.forEach(N=>{var k=Y5(Y5({},E),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});m.push(KL({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:Lr(N.payload,N.dataKey),name:N.name}))});else{var M;m.push(KL({tooltipEntrySettings:E,dataKey:I,payload:D,value:Lr(D,I),name:(M=Lr(D,O))!==null&&M!==void 0?M:E?.name}))}return m},p)}},Rk=be([ti,wG,ik],MG),FOe=be([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jOe=be([mi,jh],fk),zh=be([FOe,ti,jOe],dk,{memoizeOptions:{resultEqualityCheck:D_}}),UOe=be([zh],e=>e.filter(O_)),BOe=be([zh],hk,{memoizeOptions:{resultEqualityCheck:D_}}),$h=be([BOe,$l],pk),VOe=be([UOe,$l,ti],yG),Ok=be([$h,ti,zh],gk),nq=be([ti],vk),zOe=be([ti],e=>e.allowDataOverflow),iq=be([nq,zOe],ZH),$Oe=be([zh],e=>e.filter(O_)),HOe=be([VOe,$Oe,Qm,fG],AG),GOe=be([HOe,$l,mi,iq],CG),qOe=be([zh],TG),KOe=be([$h,ti,qOe,j_,mi],_k,{memoizeOptions:{resultEqualityCheck:M_}}),WOe=be([NG,mi,jh],Bh),YOe=be([WOe,mi],PG),JOe=be([kG,mi,jh],Bh),XOe=be([JOe,mi],RG),ZOe=be([IG,mi,jh],Bh),QOe=be([ZOe,mi],OG),e4e=be([YOe,QOe,XOe],g1),t4e=be([ti,nq,iq,GOe,KOe,e4e,lr,mi],bk),ig=be([ti,lr,$h,Ok,Qm,mi,t4e],wk),r4e=be([ig,ti,Rk],Sk),n4e=be([ti,ig,r4e,mi],Ck),aq=e=>{var t=mi(e),r=jh(e),n=!1;return ng(e,t,r,n)},sq=be([ti,aq],k_),oq=be([ti,Rk,n4e,sq],Tk),i4e=be([lr,Ok,ti,mi],VG),a4e=be([lr,Ok,ti,mi],zG),s4e=(e,t,r,n,i,a,s,o)=>{if(t){var{type:c}=t,u=$o(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return p=o==="angleAxis"&&i!=null&&i?.length>=2?ui(i[0]-i[1])*2*p:p,u&&s?s.map((m,y)=>{var _=n.map(m);return Bt(_)?{coordinate:_+p,value:m,index:y,offset:p}:null}).filter(Aa):n.domain().map((m,y)=>{var _=n.map(m);return Bt(_)?{coordinate:_+p,value:a?a[m]:m,index:y,offset:p}:null}).filter(Aa)}}},ql=be([lr,ti,Rk,oq,aq,i4e,a4e,mi],s4e),Mk=be([HG,GG,mOe],(e,t,r)=>qG(r.shared,e,t)),lq=e=>e.tooltip.settings.trigger,Dk=e=>e.tooltip.settings.defaultIndex,ag=be([Vh,Mk,lq,Dk],ZG),eu=be([ag,$h,rg,ig],Pk),cq=be([ql,eu],KG),Lk=be([ag],e=>{if(e)return e.dataKey}),o4e=be([ag],e=>{if(e)return e.graphicalItemId}),uq=be([Vh,Mk,lq,Dk],eq),l4e=be([Bl,Vl,lr,Qn,ql,Dk,uq],QG),c4e=be([ag,l4e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),u4e=be([ag],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),f4e=be([uq,eu,$l,rg,cq,tq,Mk],rq),d4e=be([f4e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function J5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(r),!0).forEach(function(n){h4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h4e(e,t,r){return(t=p4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p4e(e){var t=m4e(e,"string");return typeof t=="symbol"?t:t+""}function m4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g4e=()=>ft(ti),v4e=()=>{var e=g4e(),t=ft(ql),r=ft(oq);return mh(!e||!r?void 0:X5(X5({},e),{},{scale:r}),t)};function Z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z5(Object(r),!0).forEach(function(n){y4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y4e(e,t,r){return(t=x4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x4e(e){var t=_4e(e,"string");return typeof t=="symbol"?t:t+""}function _4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b4e=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},w4e=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Sd(Sd(Sd({},n),Vn(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return Sd(Sd(Sd({},n),Vn(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function E4e(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var fq=(e,t,r,n,i)=>{var a,s=(a=t?.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var c,u,d,p,m,y=o>0?(c=r[o-1])===null||c===void 0?void 0:c.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,_=(d=r[o])===null||d===void 0?void 0:d.coordinate,b=o>=s-1?(p=r[0])===null||p===void 0?void 0:p.coordinate:(m=r[o+1])===null||m===void 0?void 0:m.coordinate,E=void 0;if(!(y==null||_==null||b==null))if(ui(_-y)!==ui(b-_)){var A=[];if(ui(b-_)===ui(i[1]-i[0])){E=b;var L=_+i[1]-i[0];A[0]=Math.min(L,(L+y)/2),A[1]=Math.max(L,(L+y)/2)}else{E=y;var I=b+i[1]-i[0];A[0]=Math.min(_,(I+_)/2),A[1]=Math.max(_,(I+_)/2)}var O=[Math.min(_,(E+_)/2),Math.max(_,(E+_)/2)];if(e>O[0]&&e<=O[1]||e>=A[0]&&e<=A[1]){var D;return(D=r[o])===null||D===void 0?void 0:D.index}}else{var M=Math.min(y,b),N=Math.max(y,b);if(e>(M+_)/2&&e<=(N+_)/2){var k;return(k=r[o])===null||k===void 0?void 0:k.index}}}else if(t)for(var P=0;P<s;P++){var U=t[P];if(U!=null){var B=t[P+1],F=t[P-1];if(P===0&&B!=null&&e<=(U.coordinate+B.coordinate)/2||P===s-1&&F!=null&&e>(U.coordinate+F.coordinate)/2||P>0&&P<s-1&&F!=null&&B!=null&&e>(U.coordinate+F.coordinate)/2&&e<=(U.coordinate+B.coordinate)/2)return U.index}}return-1},dq=()=>ft(ik),Fk=(e,t)=>t,hq=(e,t,r)=>r,jk=(e,t,r,n)=>n,T4e=be(ql,e=>i_(e,t=>t.coordinate)),Uk=be([Vh,Fk,hq,jk],ZG),Bk=be([Uk,$h,rg,ig],Pk),S4e=(e,t,r)=>{if(t!=null){var n=Vh(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},pq=be([Vh,Fk,hq,jk],eq),v1=be([Bl,Vl,lr,Qn,ql,jk,pq],QG),A4e=be([Uk,v1],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),mq=be([ql,Bk],KG),C4e=be([pq,Bk,$l,rg,mq,tq,Fk],rq),N4e=be([Uk,Bk],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),k4e=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&E4e(e,s)){var o=X2e(e,t),c=fq(o,a,i,r,n),u=b4e(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},I4e=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=pke(e,r);if(o){var c=Z2e(o,t),u=fq(c,s,a,n,i),d=w4e(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},P4e=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?k4e(e,t,n,i,a,s,o):I4e(e,t,r,n,i,a,s)},R4e=be(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),O4e=be(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(zn)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:pRe}});function Q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(r),!0).forEach(function(n){M4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M4e(e,t,r){return(t=D4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4e(e){var t=L4e(e,"string");return typeof t=="symbol"?t:t+""}function L4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F4e={},j4e={zIndexMap:Object.values(zn).reduce((e,t)=>ej(ej({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),F4e)},U4e=new Set(Object.values(zn));function B4e(e){return U4e.has(e)}var gq=Pa({name:"zIndex",initialState:j4e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!B4e(r)&&delete e.zIndexMap[r])},prepare:Zr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Zr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Zr()}}}),{registerZIndexPortal:V4e,unregisterZIndexPortal:z4e,registerZIndexPortalElement:$4e,unregisterZIndexPortalElement:H4e}=gq.actions,G4e=gq.reducer;function Ra(e){var{zIndex:t,children:r}=e,n=kCe(),i=n&&t!==void 0&&t!==0,a=Xi(),s=Hr();R.useLayoutEffect(()=>i?(s(V4e({zIndex:t})),()=>{s(z4e({zIndex:t}))}):Lf,[s,t,i]);var o=ft(c=>R4e(c,t,a));return i?o?hh.createPortal(r,o):null:r}function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f2.apply(null,arguments)}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){q4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q4e(e,t,r){return(t=K4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4e(e){var t=W4e(e,"string");return typeof t=="symbol"?t:t+""}function W4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y4e(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return R.isValidElement(t)?R.cloneElement(t,n):R.createElement(r,n)}function J4e(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,p=r,m=n,y=i;if(!c||!p||d!=="ScatterChart"&&u!=="axis")return null;var _,b,E;if(d==="ScatterChart")_=p,b=NNe,E=zn.cursorLine;else if(d==="BarChart")_=kNe(o,p,a,s),b=fH,E=zn.cursorRectangle;else if(o==="radial"&&K7(p)){var{cx:A,cy:L,radius:I,startAngle:O,endAngle:D}=hH(p);_={cx:A,cy:L,startAngle:O,endAngle:D,innerRadius:I,outerRadius:I},b=mH,E=zn.cursorLine}else _={points:yke(o,p,a)},b=Qd,E=zn.cursorLine;var M=typeof c=="object"&&"className"in c?c.className:void 0,N=uy(uy(uy(uy({stroke:"#ccc",pointerEvents:"none"},a),_),pf(c)),{},{payload:m,payloadIndex:y,className:dr("recharts-tooltip-cursor",M)});return R.createElement(Ra,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},R.createElement(Y4e,{cursor:c,cursorComp:b,cursorProps:N}))}function X4e(e){var t=v4e(),r=K$(),n=Ff(),i=dq();return t==null||r==null||n==null||i==null?null:R.createElement(J4e,f2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var vq=R.createContext(null),Z4e=()=>R.useContext(vq),HT={exports:{}},rj;function Q4e(){return rj||(rj=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,p,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,m),_=r?r+u:u;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,_=new Array(y);m<y;m++)_[m]=p[m].fn;return _},o.prototype.listenerCount=function(u){var d=r?r+u:u,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(u,d,p,m,y,_){var b=r?r+u:u;if(!this._events[b])return!1;var E=this._events[b],A=arguments.length,L,I;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,m),!0;case 5:return E.fn.call(E.context,d,p,m,y),!0;case 6:return E.fn.call(E.context,d,p,m,y,_),!0}for(I=1,L=new Array(A-1);I<A;I++)L[I-1]=arguments[I];E.fn.apply(E.context,L)}else{var O=E.length,D;for(I=0;I<O;I++)switch(E[I].once&&this.removeListener(u,E[I].fn,void 0,!0),A){case 1:E[I].fn.call(E[I].context);break;case 2:E[I].fn.call(E[I].context,d);break;case 3:E[I].fn.call(E[I].context,d,p);break;case 4:E[I].fn.call(E[I].context,d,p,m);break;default:if(!L)for(D=1,L=new Array(A-1);D<A;D++)L[D-1]=arguments[D];E[I].fn.apply(E[I].context,L)}}return!0},o.prototype.on=function(u,d,p){return a(this,u,d,p,!1)},o.prototype.once=function(u,d,p){return a(this,u,d,p,!0)},o.prototype.removeListener=function(u,d,p,m){var y=r?r+u:u;if(!this._events[y])return this;if(!d)return s(this,y),this;var _=this._events[y];if(_.fn)_.fn===d&&(!m||_.once)&&(!p||_.context===p)&&s(this,y);else{for(var b=0,E=[],A=_.length;b<A;b++)(_[b].fn!==d||m&&!_[b].once||p&&_[b].context!==p)&&E.push(_[b]);E.length?this._events[y]=E.length===1?E[0]:E:s(this,y)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(HT)),HT.exports}var eMe=Q4e();const tMe=Ns(eMe);var Em=new tMe,d2="recharts.syncEvent.tooltip",nj="recharts.syncEvent.brush",Vk=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!ao(r))return e[r]}},rMe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},yq=Pa({name:"options",initialState:rMe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nMe=yq.reducer,{createEventEmitter:iMe}=yq.actions;function aMe(e){return e.tooltip.syncInteraction}var sMe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xq=Pa({name:"chartData",initialState:sMe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:ij,setDataStartEndIndexes:oMe,setComputedData:c8e}=xq.actions,lMe=xq.reducer,cMe=["x","y"];function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(n){uMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uMe(e,t,r){return(t=fMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fMe(e){var t=dMe(e,"string");return typeof t=="symbol"?t:t+""}function dMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hMe(e,t){if(e==null)return{};var r,n,i=pMe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mMe(){var e=ft(ak),t=ft(sk),r=Hr(),n=ft(dG),i=ft(ql),a=Ff(),s=y_(),o=ft(c=>c.rootProps.className);R.useEffect(()=>{if(e==null)return Lf;var c=(u,d,p)=>{if(t!==p&&e===u){if(n==="index"){var m;if(s&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x:_,y:b}=y,E=hMe(y,cMe),{x:A,y:L,width:I,height:O}=d.payload.sourceViewBox,D=Ad(Ad({},E),{},{x:s.x+(I?(_-A)/I:0)*s.width,y:s.y+(O?(b-L)/O:0)*s.height});r(Ad(Ad({},d),{},{payload:Ad(Ad({},d.payload),{},{coordinate:D})}))}else r(d);return}if(i!=null){var M;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},k=n(i,N);M=i[k]}else n==="value"&&(M=i.find(re=>String(re.value)===d.payload.label));var{coordinate:P}=d.payload;if(M==null||d.payload.active===!1||P==null||s==null){r(c2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:B}=P,F=Math.min(U,s.x+s.width),H=Math.min(B,s.y+s.height),fe={x:a==="horizontal"?M.coordinate:F,y:a==="horizontal"?H:M.coordinate},pe=c2({active:d.payload.active,coordinate:fe,dataKey:d.payload.dataKey,index:String(M.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(pe)}}};return Em.on(d2,c),()=>{Em.off(d2,c)}},[o,r,t,e,n,i,a,s])}function gMe(){var e=ft(ak),t=ft(sk),r=Hr();R.useEffect(()=>{if(e==null)return Lf;var n=(i,a,s)=>{t!==s&&e===i&&r(oMe(a))};return Em.on(nj,n),()=>{Em.off(nj,n)}},[r,t,e])}function vMe(){var e=Hr();R.useEffect(()=>{e(iMe())},[e]),mMe(),gMe()}function yMe(e,t,r,n,i,a){var s=ft(y=>S4e(y,e,t)),o=ft(sk),c=ft(ak),u=ft(dG),d=ft(aMe),p=d?.active,m=y_();R.useEffect(()=>{if(!p&&c!=null&&o!=null){var y=c2({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});Em.emit(d2,c,y,o)}},[p,r,s,i,n,o,c,u,a,m])}function sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(r),!0).forEach(function(n){xMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xMe(e,t,r){return(t=_Me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Me(e){var t=bMe(e,"string");return typeof t=="symbol"?t:t+""}function bMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wMe(e){return e.dataKey}function EMe(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(oNe,t)}var lj=[],TMe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function X0(e){var t,r,n=Hn(e,TMe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:p,payloadUniqBy:m,position:y,reverseDirection:_,useTranslate3d:b,wrapperStyle:E,cursor:A,shared:L,trigger:I,defaultIndex:O,portal:D,axisId:M}=n,N=Hr(),k=typeof O=="number"?String(O):O;R.useEffect(()=>{N(_Oe({shared:L,trigger:I,axisId:M,active:i,defaultIndex:k}))},[N,L,I,M,i,k]);var P=y_(),U=sH(),B=pOe(L),{activeIndex:F,isActive:H}=(t=ft(ye=>N4e(ye,B,I,k)))!==null&&t!==void 0?t:{},fe=ft(ye=>C4e(ye,B,I,k)),pe=ft(ye=>mq(ye,B,I,k)),re=ft(ye=>A4e(ye,B,I,k)),ue=fe,ce=Z4e(),ie=(r=i??H)!==null&&r!==void 0?r:!1,[xe,J]=o$([ue,ie]),V=B==="axis"?pe:void 0;yMe(B,I,re,V,F,ie);var ee=D??ce;if(ee==null||P==null||B==null)return null;var X=ue??lj;ie||(X=lj),u&&X.length&&(X=r$(X.filter(ye=>ye.value!=null&&(ye.hide!==!0||n.includeHidden)),m,wMe));var q=X.length>0,he=R.createElement(pNe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:ie,coordinate:re,hasPayload:q,offset:p,position:y,reverseDirection:_,useTranslate3d:b,viewBox:P,wrapperStyle:E,lastBoundingBox:xe,innerRef:J,hasPortalFromProps:!!D},EMe(c,oj(oj({},n),{},{payload:X,label:V,active:ie,activeIndex:F,coordinate:re,accessibilityLayer:U})));return R.createElement(R.Fragment,null,hh.createPortal(he,ee),ie&&R.createElement(X4e,{cursor:A,tooltipEventType:B,coordinate:re,payload:X,index:F}))}var sg=e=>null;sg.displayName="Cell";function SMe(e,t,r){return(t=AMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AMe(e){var t=CMe(e,"string");return typeof t=="symbol"?t:t+""}function CMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NMe{constructor(t){SMe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){IMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IMe(e,t,r){return(t=PMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PMe(e){var t=RMe(e,"string");return typeof t=="symbol"?t:t+""}function RMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OMe={cacheSize:2e3,enableCache:!0},_q=kMe({},OMe),uj=new NMe(_q.cacheSize),MMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fj="recharts_measurement_span";function DMe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var dj=(e,t)=>{try{var r=document.getElementById(fj);r||(r=document.createElement("span"),r.setAttribute("id",fj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,MMe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Mp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qm.isSsr)return{width:0,height:0};if(!_q.enableCache)return dj(t,r);var n=DMe(t,r),i=uj.get(n);if(i)return i;var a=dj(t,r);return uj.set(n,a),a},bq;function LMe(e,t,r){return(t=FMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FMe(e){var t=jMe(e,"string");return typeof t=="symbol"?t:t+""}function jMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VMe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zMe=["cm","mm","pt","pc","in","Q","px"];function $Me(e){return zMe.includes(e)}var Vd="NaN";function HMe(e,t){return e*VMe[t]}class Ci{static parse(t){var r,[,n,i]=(r=BMe.exec(t))!==null&&r!==void 0?r:[];return n==null?Ci.NaN:new Ci(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ao(t)&&(this.unit=""),r!==""&&!UMe.test(r)&&(this.num=NaN,this.unit=""),$Me(r)&&(this.num=HMe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ao(this.num)}}bq=Ci;LMe(Ci,"NaN",new bq(NaN,""));function wq(e){if(e==null||e.includes(Vd))return Vd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=hj.exec(t))!==null&&r!==void 0?r:[],s=Ci.parse(n??""),o=Ci.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Vd;t=t.replace(hj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,p,m]=(u=pj.exec(t))!==null&&u!==void 0?u:[],y=Ci.parse(d??""),_=Ci.parse(m??""),b=p==="+"?y.add(_):y.subtract(_);if(b.isNaN())return Vd;t=t.replace(pj,b.toString())}return t}var mj=/\(([^()]*)\)/;function GMe(e){for(var t=e,r;(r=mj.exec(t))!=null;){var[,n]=r;t=t.replace(mj,wq(n))}return t}function qMe(e){var t=e.replace(/\s+/g,"");return t=GMe(t),t=wq(t),t}function KMe(e){try{return qMe(e)}catch{return Vd}}function GT(e){var t=KMe(e.slice(5,-1));return t===Vd?"":t}var WMe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],YMe=["dx","dy","angle","className","breakAll"];function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h2.apply(null,arguments)}function gj(e,t){if(e==null)return{};var r,n,i=JMe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eq=/[ \f\n\r\t\v\u2028\u2029]+/,Tq=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];vn(t)||(r?i=t.toString().split(""):i=t.toString().split(Eq));var a=i.map(o=>({word:o,width:Mp(o,n).width})),s=r?0:Mp("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function XMe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Sq=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),Aq=e=>e.reduce((t,r)=>t.width>r.width?t:r),ZMe="",vj=(e,t,r,n,i,a,s,o)=>{var c=e.slice(0,t),u=Tq({breakAll:r,style:n,children:c+ZMe});if(!u)return[!1,[]];var d=Sq(u.wordsWithComputedWidth,a,s,o),p=d.length>i||Aq(d).width>Number(a);return[p,d]},QMe=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=e,u=it(a),d=String(s),p=Sq(t,n,r,i);if(!u||i)return p;var m=p.length>a||Aq(p).width>Number(n);if(!m)return p;for(var y=0,_=d.length-1,b=0,E;y<=_&&b<=d.length-1;){var A=Math.floor((y+_)/2),L=A-1,[I,O]=vj(d,L,c,o,a,n,r,i),[D]=vj(d,A,c,o,a,n,r,i);if(!I&&!D&&(y=A+1),I&&D&&(_=A-1),!I&&D){E=O;break}b++}return E||p},yj=e=>{var t=vn(e)?[]:e.toString().split(Eq);return[{words:t,width:void 0}]},eDe=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!qm.isSsr){var o,c,u=Tq({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:p}=u;o=d,c=p}else return yj(n);return QMe({breakAll:a,children:n,maxLines:s,style:i},o,c,t,!!r)}return yj(n)},Cq="#808080",tDe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Cq,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},z_=R.forwardRef((e,t)=>{var r=Hn(e,tDe),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,p=gj(r,WMe),m=R.useMemo(()=>eDe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:y,dy:_,angle:b,className:E,breakAll:A}=p,L=gj(p,YMe);if(!jo(n)||!jo(i)||m.length===0)return null;var I=Number(n)+(it(y)?y:0),O=Number(i)+(it(_)?_:0);if(!Bt(I)||!Bt(O))return null;var D;switch(d){case"start":D=GT("calc(".concat(s,")"));break;case"middle":D=GT("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:D=GT("calc(".concat(m.length-1," * -").concat(a,")"));break}var M=[],N=m[0];if(c&&N!=null){var k=N.width,{width:P}=p;M.push("scale(".concat(it(P)&&it(k)?P/k:1,")"))}return b&&M.push("rotate(".concat(b,", ").concat(I,", ").concat(O,")")),M.length&&(L.transform=M.join(" ")),R.createElement("text",h2({},ha(L),{ref:t,x:I,y:O,className:dr("recharts-text",E),textAnchor:u,fill:o.includes("url")?Cq:o}),m.map((U,B)=>{var F=U.words.join(A?"":" ");return R.createElement("tspan",{x:I,dy:B===0?D:a,key:"".concat(F,"-").concat(B)},F)}))});z_.displayName="Text";function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){rDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rDe(e,t,r){return(t=nDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nDe(e){var t=iDe(e,"string");return typeof t=="symbol"?t:t+""}function iDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aDe=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:c,lowerWidth:u}=CN(t),d=a,p=a+(c-u)/2,m=(d+p)/2,y=(c+u)/2,_=d+c/2,b=o>=0?1:-1,E=b*n,A=b>0?"end":"start",L=b>0?"start":"end",I=c>=0?1:-1,O=I*n,D=I>0?"end":"start",M=I>0?"start":"end",N=i;if(r==="top"){var k={x:d+c/2,y:s-E,horizontalAnchor:"middle",verticalAnchor:A};return N&&(k.height=Math.max(s-N.y,0),k.width=c),k}if(r==="bottom"){var P={x:p+u/2,y:s+o+E,horizontalAnchor:"middle",verticalAnchor:L};return N&&(P.height=Math.max(N.y+N.height-(s+o),0),P.width=u),P}if(r==="left"){var U={x:m-O,y:s+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return N&&(U.width=Math.max(U.x-N.x,0),U.height=o),U}if(r==="right"){var B={x:m+y+O,y:s+o/2,horizontalAnchor:M,verticalAnchor:"middle"};return N&&(B.width=Math.max(N.x+N.width-B.x,0),B.height=o),B}var F=N?{width:y,height:o}:{};return r==="insideLeft"?So({x:m+O,y:s+o/2,horizontalAnchor:M,verticalAnchor:"middle"},F):r==="insideRight"?So({x:m+y-O,y:s+o/2,horizontalAnchor:D,verticalAnchor:"middle"},F):r==="insideTop"?So({x:d+c/2,y:s+E,horizontalAnchor:"middle",verticalAnchor:L},F):r==="insideBottom"?So({x:p+u/2,y:s+o-E,horizontalAnchor:"middle",verticalAnchor:A},F):r==="insideTopLeft"?So({x:d+O,y:s+E,horizontalAnchor:M,verticalAnchor:L},F):r==="insideTopRight"?So({x:d+c-O,y:s+E,horizontalAnchor:D,verticalAnchor:L},F):r==="insideBottomLeft"?So({x:p+O,y:s+o-E,horizontalAnchor:M,verticalAnchor:A},F):r==="insideBottomRight"?So({x:p+u-O,y:s+o-E,horizontalAnchor:D,verticalAnchor:A},F):r&&typeof r=="object"&&(it(r.x)||vf(r.x))&&(it(r.y)||vf(r.y))?So({x:a+Wi(r.x,y),y:s+Wi(r.y,o),horizontalAnchor:"end",verticalAnchor:"end"},F):So({x:_,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},F)},sDe=["labelRef"],oDe=["content"];function _j(e,t){if(e==null)return{};var r,n,i=lDe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){cDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cDe(e,t,r){return(t=uDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uDe(e){var t=fDe(e,"string");return typeof t=="symbol"?t:t+""}function fDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hl(){return hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hl.apply(null,arguments)}var Nq=R.createContext(null),dDe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,c=R.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return R.createElement(Nq.Provider,{value:c},o)},kq=()=>{var e=R.useContext(Nq),t=y_();return e||(t?CN(t):void 0)},hDe=R.createContext(null),pDe=()=>{var e=R.useContext(hDe),t=ft(vG);return e||t},mDe=e=>{var{value:t,formatter:r}=e,n=vn(e.children)?t:e.children;return typeof r=="function"?r(n):n},zk=e=>e!=null&&typeof e=="function",gDe=(e,t)=>{var r=ui(t-e),n=Math.min(Math.abs(t-e),360);return r*n},vDe=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:p,endAngle:m,clockWise:y}=i,_=(u+d)/2,b=gDe(p,m),E=b>=0?1:-1,A,L;switch(t){case"insideStart":A=p+E*a,L=y;break;case"insideEnd":A=m-E*a,L=!y;break;case"end":A=m+E*a,L=y;break;default:throw new Error("Unsupported position ".concat(t))}L=b<=0?L:!L;var I=Vn(o,c,_,A),O=Vn(o,c,_,A+(L?1:-1)*359),D="M".concat(I.x,",").concat(I.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(L?0:1,`,
    `).concat(O.x,",").concat(O.y),M=vn(e.id)?um("recharts-radial-line-"):e.id;return R.createElement("text",hl({},n,{dominantBaseline:"central",className:dr("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:M,d:D})),R.createElement("textPath",{xlinkHref:"#".concat(M)},r))},yDe=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:p}=Vn(n,i,s+t,u);return{x:d,y:p,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:y,y:_}=Vn(n,i,m,u);return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},By=e=>e!=null&&"cx"in e&&it(e.cx),xDe={angle:0,offset:5,zIndex:zn.label,position:"middle",textBreakAll:!1};function _De(e){if(!By(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Sc(e){var t=Hn(e,xDe),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:o,className:c="",textBreakAll:u,labelRef:d}=t,p=pDe(),m=kq(),y=i==="center"?m:p??m,_,b,E;r==null?_=y:By(r)?_=r:_=CN(r);var A=_De(_);if(!_||vn(a)&&vn(s)&&!R.isValidElement(o)&&typeof o!="function")return null;var L=hp(hp({},t),{},{viewBox:_});if(R.isValidElement(o)){var{labelRef:I}=L,O=_j(L,sDe);return R.cloneElement(o,O)}if(typeof o=="function"){var{content:D}=L,M=_j(L,oDe);if(b=R.createElement(o,M),R.isValidElement(b))return b}else b=mDe(t);var N=ha(t);if(By(_)){if(i==="insideStart"||i==="insideEnd"||i==="end")return vDe(t,i,b,N,_);E=yDe(_,t.offset,t.position)}else{if(!A)return null;var k=aDe({viewBox:A,position:i,offset:t.offset,parentViewBox:By(n)?void 0:n});E=hp(hp({x:k.x,y:k.y,textAnchor:k.horizontalAnchor,verticalAnchor:k.verticalAnchor},k.width!==void 0?{width:k.width}:{}),k.height!==void 0?{height:k.height}:{})}return R.createElement(Ra,{zIndex:t.zIndex},R.createElement(z_,hl({ref:d,className:dr("recharts-label",c)},N,E,{textAnchor:XMe(N.textAnchor)?N.textAnchor:E.textAnchor,breakAll:u}),b))}Sc.displayName="Label";var bDe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?R.createElement(Sc,hl({key:"label-implicit"},n)):jo(e)?R.createElement(Sc,hl({key:"label-implicit",value:e},n)):R.isValidElement(e)?e.type===Sc?R.cloneElement(e,hp({key:"label-implicit"},n)):R.createElement(Sc,hl({key:"label-implicit",content:e},n)):zk(e)?R.createElement(Sc,hl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?R.createElement(Sc,hl({},e,{key:"label-implicit"},n)):null};function wDe(e){var{label:t,labelRef:r}=e,n=kq();return bDe(t,n,r)||null}var qT={},KT={},wj;function EDe(){return wj||(wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(KT)),KT}var WT={},Ej;function TDe(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(WT)),WT}var Tj;function SDe(){return Tj||(Tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EDe(),r=TDe(),n=gN();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(qT)),qT}var YT,Sj;function ADe(){return Sj||(Sj=1,YT=SDe().last),YT}var CDe=ADe();const NDe=Ns(CDe);var kDe=["valueAccessor"],IDe=["dataKey","clockWise","id","textBreakAll","zIndex"];function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y1.apply(null,arguments)}function Aj(e,t){if(e==null)return{};var r,n,i=PDe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RDe=e=>Array.isArray(e.value)?NDe(e.value):e.value,Iq=R.createContext(void 0),Pq=Iq.Provider,Rq=R.createContext(void 0),ODe=Rq.Provider;function MDe(){return R.useContext(Iq)}function DDe(){return R.useContext(Rq)}function Vy(e){var{valueAccessor:t=RDe}=e,r=Aj(e,kDe),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=Aj(r,IDe),u=MDe(),d=DDe(),p=u||d;return!p||!p.length?null:R.createElement(Ra,{zIndex:o??zn.label},R.createElement(Cn,{className:"recharts-label-list"},p.map((m,y)=>{var _,b=vn(n)?t(m,y):Lr(m.payload,n),E=vn(a)?{}:{id:"".concat(a,"-").concat(y)};return R.createElement(Sc,y1({key:"label-".concat(y)},ha(m),c,E,{fill:(_=r.fill)!==null&&_!==void 0?_:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:s,viewBox:m.viewBox,index:y,zIndex:0}))})))}Vy.displayName="LabelList";function $k(e){var{label:t}=e;return t?t===!0?R.createElement(Vy,{key:"labelList-implicit"}):R.isValidElement(t)||zk(t)?R.createElement(Vy,{key:"labelList-implicit",content:t}):typeof t=="object"?R.createElement(Vy,y1({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function p2(){return p2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p2.apply(null,arguments)}var Oq=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=dr("recharts-dot",i);return it(t)&&it(r)&&it(n)?R.createElement("circle",p2({},ka(e),mN(e),{className:a,cx:t,cy:r,r:n})):null},Mq=e=>e.graphicalItems.polarItems,LDe=be([sn,eg],fk),$_=be([Mq,xn,LDe],dk),FDe=be([$_],hk),H_=be([FDe,N_],pk),jDe=be([H_,xn,$_],gk);be([H_,xn,$_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Lr(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Lr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Cj=()=>{},UDe=be([H_,xn,$_,j_,sn],_k),BDe=be([xn,yk,xk,Cj,UDe,Cj,lr,sn],bk),Dq=be([xn,lr,H_,jDe,Qm,sn,BDe],wk),VDe=be([Dq,Uh,lu],Sk),zDe=be([xn,Dq,VDe,sn],Ck);be([lu,zDe],xG);var $De={radiusAxis:{},angleAxis:{}},Lq=Pa({name:"polarAxis",initialState:$De,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:u8e,removeRadiusAxis:f8e,addAngleAxis:d8e,removeAngleAxis:h8e}=Lq.actions,HDe=Lq.reducer;function Fq(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){GDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GDe(e,t,r){return(t=qDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qDe(e){var t=KDe(e,"string");return typeof t=="symbol"?t:t+""}function KDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WDe=(e,t)=>t,Hk=be([Mq,WDe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),YDe=[],Gk=(e,t,r)=>r?.length===0?YDe:r,jq=be([N_,Hk,Gk],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>kj(kj({},t.presentationProps),a.props))),i!=null)return i}}),JDe=be([jq,Hk,Gk],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Lr(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Mh(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),XDe=be([jq,Hk,Gk,Qn],(e,t,r,n)=>{if(!(t==null||e==null))return Z3e({offset:n,pieSettings:t,displayedData:e,cells:r})}),JT={exports:{}},_r={};var Ij;function ZDe(){if(Ij)return _r;Ij=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,_=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,A=e?Symbol.for("react.responder"):60118,L=e?Symbol.for("react.scope"):60119;function I(D){if(typeof D=="object"&&D!==null){var M=D.$$typeof;switch(M){case t:switch(D=D.type,D){case c:case u:case n:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case o:case d:case _:case y:case s:return D;default:return M}}case r:return M}}}function O(D){return I(D)===u}return _r.AsyncMode=c,_r.ConcurrentMode=u,_r.ContextConsumer=o,_r.ContextProvider=s,_r.Element=t,_r.ForwardRef=d,_r.Fragment=n,_r.Lazy=_,_r.Memo=y,_r.Portal=r,_r.Profiler=a,_r.StrictMode=i,_r.Suspense=p,_r.isAsyncMode=function(D){return O(D)||I(D)===c},_r.isConcurrentMode=O,_r.isContextConsumer=function(D){return I(D)===o},_r.isContextProvider=function(D){return I(D)===s},_r.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},_r.isForwardRef=function(D){return I(D)===d},_r.isFragment=function(D){return I(D)===n},_r.isLazy=function(D){return I(D)===_},_r.isMemo=function(D){return I(D)===y},_r.isPortal=function(D){return I(D)===r},_r.isProfiler=function(D){return I(D)===a},_r.isStrictMode=function(D){return I(D)===i},_r.isSuspense=function(D){return I(D)===p},_r.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===n||D===u||D===a||D===i||D===p||D===m||typeof D=="object"&&D!==null&&(D.$$typeof===_||D.$$typeof===y||D.$$typeof===s||D.$$typeof===o||D.$$typeof===d||D.$$typeof===E||D.$$typeof===A||D.$$typeof===L||D.$$typeof===b)},_r.typeOf=I,_r}var Pj;function QDe(){return Pj||(Pj=1,JT.exports=ZDe()),JT.exports}var e3e=QDe(),Rj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Oj=null,XT=null,Uq=e=>{if(e===Oj&&Array.isArray(XT))return XT;var t=[];return R.Children.forEach(e,r=>{vn(r)||(e3e.isFragment(r)?t=t.concat(Uq(r.props.children)):t.push(r))}),XT=t,Oj=e,t};function qk(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Rj(i)):n=[Rj(t)],Uq(e).forEach(i=>{var a=gf(i,"type.displayName")||gf(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var Bq=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,ZT={},Mj;function t3e(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ZT)),ZT}var QT,Dj;function r3e(){return Dj||(Dj=1,QT=t3e().isPlainObject),QT}var n3e=r3e();const i3e=Ns(n3e);var Lj,Fj,jj,Uj,Bj;function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){a3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a3e(e,t,r){return(t=s3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s3e(e){var t=o3e(e,"string");return typeof t=="symbol"?t:t+""}function o3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x1.apply(null,arguments)}function Z0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $j=(e,t,r,n,i)=>{var a=r-n,s;return s=dn(Lj||(Lj=Z0(["M ",",",""])),e,t),s+=dn(Fj||(Fj=Z0(["L ",",",""])),e+r,t),s+=dn(jj||(jj=Z0(["L ",",",""])),e+r-a/2,t+i),s+=dn(Uj||(Uj=Z0(["L ",",",""])),e+r-a/2-n,t+i),s+=dn(Bj||(Bj=Z0(["L ",","," Z"])),e,t),s},l3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c3e=e=>{var t=Hn(e,l3e),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:p}=t,m=R.useRef(null),[y,_]=R.useState(-1),b=R.useRef(i),E=R.useRef(a),A=R.useRef(s),L=R.useRef(r),I=R.useRef(n),O=Wm(e,"trapezoid-");if(R.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var fe=m.current.getTotalLength();fe&&_(fe)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var D=dr("recharts-trapezoid",o);if(!p)return R.createElement("g",null,R.createElement("path",x1({},ha(t),{className:D,d:$j(r,n,i,a,s)})));var M=b.current,N=E.current,k=A.current,P=L.current,U=I.current,B="0px ".concat(y===-1?1:y,"px"),F="".concat(y,"px 0px"),H=oH(["strokeDasharray"],u,c);return R.createElement(Km,{animationId:O,key:O,canBegin:y>0,duration:u,easing:c,isActive:p,begin:d},fe=>{var pe=Wr(M,i,fe),re=Wr(N,a,fe),ue=Wr(k,s,fe),ce=Wr(P,r,fe),ie=Wr(U,n,fe);m.current&&(b.current=pe,E.current=re,A.current=ue,L.current=ce,I.current=ie);var xe=fe>0?{transition:H,strokeDasharray:F}:{strokeDasharray:B};return R.createElement("path",x1({},ha(t),{className:D,d:$j(ce,ie,pe,re,ue),ref:m,style:zj(zj({},xe),t.style)}))})},u3e=["option","shapeType","activeClassName"];function f3e(e,t){if(e==null)return{};var r,n,i=d3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){h3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3e(e,t,r){return(t=p3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p3e(e){var t=m3e(e,"string");return typeof t=="symbol"?t:t+""}function m3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g3e(e,t){return _1(_1({},t),e)}function v3e(e,t){return e==="symbols"}function Gj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return R.createElement(fH,r);case"trapezoid":return R.createElement(c3e,r);case"sector":return R.createElement(mH,r);case"symbols":if(v3e(t))return R.createElement(pN,r);break;case"curve":return R.createElement(Qd,r);default:return null}}function y3e(e){return R.isValidElement(e)?e.props:e}function Vq(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=f3e(e,u3e),a;if(R.isValidElement(t))a=R.cloneElement(t,_1(_1({},i),y3e(t)));else if(typeof t=="function")a=t(i,i.index);else if(i3e(t)&&typeof t!="boolean"){var s=g3e(t,i);a=R.createElement(Gj,{shapeType:r,elementProps:s})}else{var o=i;a=R.createElement(Gj,{shapeType:r,elementProps:o})}return i.isActive?R.createElement(Cn,{className:n},a):a}var Kk=(e,t,r)=>{var n=Hr();return(i,a)=>s=>{e?.(i,a,s),n(YG({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Wk=e=>{var t=Hr();return(r,n)=>i=>{e?.(r,n,i),t(bOe())}},Yk=(e,t,r)=>{var n=Hr();return(i,a)=>s=>{e?.(i,a,s),n(wOe({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function Jk(e){var{tooltipEntrySettings:t}=e,r=Hr(),n=Xi(),i=R.useRef(null);return R.useLayoutEffect(()=>{n||(i.current===null?r(vOe(t)):i.current!==t&&r(yOe({prev:i.current,next:t})),i.current=t)},[t,r,n]),R.useLayoutEffect(()=>()=>{i.current&&(r(xOe(i.current)),i.current=null)},[r]),null}function zq(e){var{legendPayload:t}=e,r=Hr(),n=Xi(),i=R.useRef(null);return R.useLayoutEffect(()=>{n||(i.current===null?r(rH(t)):i.current!==t&&r(nH({prev:i.current,next:t})),i.current=t)},[r,n,t]),R.useLayoutEffect(()=>()=>{i.current&&(r(iH(i.current)),i.current=null)},[r]),null}function x3e(e){var{legendPayload:t}=e,r=Hr(),n=ft(lr),i=R.useRef(null);return R.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(rH(t)):i.current!==t&&r(nH({prev:i.current,next:t})),i.current=t)},[r,n,t]),R.useLayoutEffect(()=>()=>{i.current&&(r(iH(i.current)),i.current=null)},[r]),null}var eS,_3e=()=>{var[e]=R.useState(()=>um("uid-"));return e},b3e=(eS=hY.useId)!==null&&eS!==void 0?eS:_3e;function w3e(e,t){var r=b3e();return t||(e?"".concat(e,"-").concat(r):r)}var E3e=R.createContext(void 0),Xk=e=>{var{id:t,type:r,children:n}=e,i=w3e("recharts-".concat(r),t);return R.createElement(E3e.Provider,{value:i},n(i))},T3e={cartesianItems:[],polarItems:[]},$q=Pa({name:"graphicalItems",initialState:T3e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Zr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=io(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Zr()},removeCartesianGraphicalItem:{reducer(e,t){var r=io(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Zr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Zr()},removePolarGraphicalItem:{reducer(e,t){var r=io(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Zr()}}}),{addCartesianGraphicalItem:S3e,replaceCartesianGraphicalItem:A3e,removeCartesianGraphicalItem:C3e,addPolarGraphicalItem:N3e,removePolarGraphicalItem:k3e}=$q.actions,I3e=$q.reducer,P3e=e=>{var t=Hr(),r=R.useRef(null);return R.useLayoutEffect(()=>{r.current===null?t(S3e(e)):r.current!==e&&t(A3e({prev:r.current,next:e})),r.current=e},[t,e]),R.useLayoutEffect(()=>()=>{r.current&&(t(C3e(r.current)),r.current=null)},[t]),null},Hq=R.memo(P3e);function R3e(e){var t=Hr();return R.useLayoutEffect(()=>(t(N3e(e)),()=>{t(k3e(e))}),[t,e]),null}var O3e=["key"],M3e=["onMouseEnter","onClick","onMouseLeave"],D3e=["id"],L3e=["id"];function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){F3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F3e(e,t,r){return(t=j3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j3e(e){var t=U3e(e,"string");return typeof t=="symbol"?t:t+""}function U3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(null,arguments)}function G_(e,t){if(e==null)return{};var r,n,i=B3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function B3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function V3e(e){var t=R.useMemo(()=>qk(e.children,sg),[e.children]),r=ft(n=>JDe(n,e.id,t));return r==null?null:R.createElement(x3e,{legendPayload:r})}var z3e=R.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u,id:d}=e,p={dataDefinedOnItem:n.map(m=>m.tooltipPayload),getPosition:m=>{var y;return(y=n[Number(m)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Mh(o,t),hide:c,type:u,color:s,unit:"",graphicalItemId:d}};return R.createElement(Jk,{tooltipEntrySettings:p})}),$3e=(e,t)=>e>t?"start":e<t?"end":"middle",H3e=(e,t,r)=>Wi(typeof t=="function"?t(e):t,r,r*.8),G3e=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=dH(a,s),c=i+Wi(e.cx,a,a/2),u=n+Wi(e.cy,s,s/2),d=Wi(e.innerRadius,o,0),p=H3e(r,e.outerRadius,o),m=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:p,maxRadius:m}},q3e=(e,t)=>{var r=ui(t-e),n=Math.min(Math.abs(t-e),360);return r*n},K3e=(e,t)=>{if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return e(t);var r=dr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=G_(t,O3e);return R.createElement(Qd,tu({},i,{type:"linear",className:r}))},W3e=(e,t,r)=>{if(R.isValidElement(e))return R.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),R.isValidElement(n)))return n;var i=dr("recharts-pie-label-text",Fq(e));return R.createElement(z_,tu({},t,{alignmentBaseline:"middle",className:i}),n)};function Y3e(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=ka(r),c=pf(i),u=pf(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((m,y)=>{var _=(m.startAngle+m.endAngle)/2,b=Vn(m.cx,m.cy,m.outerRadius+d,_),E=pn(pn(pn(pn({},o),m),{},{stroke:"none"},c),{},{index:y,textAnchor:$3e(b.x,m.cx)},b),A=pn(pn(pn(pn({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:y,points:[Vn(m.cx,m.cy,m.outerRadius,_),b],key:"line"});return R.createElement(Ra,{zIndex:zn.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},R.createElement(Cn,null,a&&K3e(a,A),W3e(i,E,Lr(m,s))))});return R.createElement(Cn,{className:"recharts-pie-labels"},p)}function J3e(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?R.createElement($k,{label:i}):R.createElement(Y3e,{sectors:t,props:r,showLabels:n})}function X3e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=ft(eu),c=ft(Lk),u=ft(o4e),{onMouseEnter:d,onClick:p,onMouseLeave:m}=i,y=G_(i,M3e),_=Kk(d,i.dataKey,s),b=Wk(m),E=Yk(p,i.dataKey,s);return t==null||t.length===0?null:R.createElement(R.Fragment,null,t.map((A,L)=>{if(A?.startAngle===0&&A?.endAngle===0&&t.length!==1)return null;var I=u==null||u===s,O=String(L)===o&&(c==null||i.dataKey===c)&&I,D=o?n:null,M=r&&O?r:D,N=pn(pn({},A),{},{stroke:A.stroke,tabIndex:-1,[z$]:L,[$$]:s});return R.createElement(Cn,tu({key:"sector-".concat(A?.startAngle,"-").concat(A?.endAngle,"-").concat(A.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Bm(y,A,L),{onMouseEnter:_(A,L),onMouseLeave:b(A,L),onClick:E(A,L)}),R.createElement(Vq,tu({option:a??M,index:L,shapeType:"sector",isActive:O},N)))}))}function Z3e(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:p}=r,m=Math.abs(r.minAngle),y=q3e(o,c),_=Math.abs(y),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,E=n.filter(M=>Lr(M,u,0)!==0).length,A=(_>=360?E:E-1)*b,L=_-E*m-A,I=n.reduce((M,N)=>{var k=Lr(N,u,0);return M+(it(k)?k:0)},0),O;if(I>0){var D;O=n.map((M,N)=>{var k=Lr(M,u,0),P=Lr(M,d,N),U=G3e(r,a,M),B=(it(k)?k:0)/I,F,H=pn(pn({},M),i&&i[N]&&i[N].props);N?F=D.endAngle+ui(y)*b*(k!==0?1:0):F=o;var fe=F+ui(y)*((k!==0?m:0)+B*L),pe=(F+fe)/2,re=(U.innerRadius+U.outerRadius)/2,ue=[{name:P,value:k,payload:H,dataKey:u,type:p,graphicalItemId:r.id}],ce=Vn(U.cx,U.cy,re,pe);return D=pn(pn(pn(pn({},r.presentationProps),{},{percent:B,cornerRadius:typeof s=="string"?parseFloat(s):s,name:P,tooltipPayload:ue,midAngle:pe,middleRadius:re,tooltipPosition:ce},H),U),{},{value:k,dataKey:u,startAngle:F,endAngle:fe,payload:H,paddingAngle:ui(y)*b}),D})}return O}function Q3e(e){var{showLabels:t,sectors:r,children:n}=e,i=R.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return R.createElement(ODe,{value:t?i:void 0},n)}function e6e(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:p,onAnimationEnd:m}=t,y=Wm(t,"recharts-pie-"),_=r.current,[b,E]=R.useState(!1),A=R.useCallback(()=>{typeof m=="function"&&m(),E(!1)},[m]),L=R.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return R.createElement(Q3e,{showLabels:!b,sectors:i},R.createElement(Km,{animationId:y,begin:s,duration:o,isActive:a,easing:c,onAnimationStart:L,onAnimationEnd:A,key:y},I=>{var O,D=[],M=i&&i[0],N=(O=M?.startAngle)!==null&&O!==void 0?O:0;return i?.forEach((k,P)=>{var U=_&&_[P],B=P>0?gf(k,"paddingAngle",0):0;if(U){var F=Wr(U.endAngle-U.startAngle,k.endAngle-k.startAngle,I),H=pn(pn({},k),{},{startAngle:N+B,endAngle:N+F+B});D.push(H),N=H.endAngle}else{var{endAngle:fe,startAngle:pe}=k,re=Wr(0,fe-pe,I),ue=pn(pn({},k),{},{startAngle:N+B,endAngle:N+re+B});D.push(ue),N=ue.endAngle}}),r.current=D,R.createElement(Cn,null,R.createElement(X3e,{sectors:D,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),R.createElement(J3e,{showLabels:!b,sectors:i,props:t}),t.children)}var t6e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:zn.area};function r6e(e){var{id:t}=e,r=G_(e,D3e),{hide:n,className:i,rootTabIndex:a}=e,s=R.useMemo(()=>qk(e.children,sg),[e.children]),o=ft(d=>XDe(d,t,s)),c=R.useRef(null),u=dr("recharts-pie",i);return n||o==null?(c.current=null,R.createElement(Cn,{tabIndex:a,className:u})):R.createElement(Ra,{zIndex:e.zIndex},R.createElement(z3e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),R.createElement(Cn,{tabIndex:a,className:u},R.createElement(e6e,{props:pn(pn({},r),{},{sectors:o}),previousSectorsRef:c,id:t})))}function Gq(e){var t=Hn(e,t6e),{id:r}=t,n=G_(t,L3e),i=ka(n);return R.createElement(Xk,{id:r,type:"pie"},a=>R.createElement(R.Fragment,null,R.createElement(R3e,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),R.createElement(V3e,tu({},n,{id:a})),R.createElement(r6e,tu({},n,{id:a}))))}Gq.displayName="Pie";var n6e=["points"];function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){i6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i6e(e,t,r){return(t=a6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6e(e){var t=s6e(e,"string");return typeof t=="symbol"?t:t+""}function s6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(null,arguments)}function o6e(e,t){if(e==null)return{};var r,n,i=l6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function c6e(e){var{option:t,dotProps:r,className:n}=e;if(R.isValidElement(t))return R.cloneElement(t,r);if(typeof t=="function")return t(r);var i=dr(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=o6e(a,n6e);return R.createElement(Oq,b1({},o,{className:i}))}function u6e(e,t){return e==null?!1:t?!0:e.length===1}function f6e(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:u=zn.scatter}=e;if(!u6e(t,r))return null;var d=Bq(r),p=CTe(r),m=t.map((_,b)=>{var E,A,L=tS(tS(tS({r:3},s),p),{},{index:b,cx:(E=_.x)!==null&&E!==void 0?E:void 0,cy:(A=_.y)!==null&&A!==void 0?A:void 0,dataKey:a,value:_.value,payload:_.payload,points:t});return R.createElement(c6e,{key:"dot-".concat(b),option:r,dotProps:L,className:i})}),y={};return o&&c!=null&&(y.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),R.createElement(Ra,{zIndex:u},R.createElement(Cn,b1({className:n},y),m))}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){d6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d6e(e,t,r){return(t=h6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h6e(e){var t=p6e(e,"string");return typeof t=="symbol"?t:t+""}function p6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qq=0,m6e={xAxis:{},yAxis:{},zAxis:{}},Kq=Pa({name:"cartesianAxis",initialState:m6e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Zr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Zr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Zr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Zr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Zr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Zr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Zr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Zr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Zr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=Yj(Yj({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:g6e,replaceXAxis:v6e,removeXAxis:y6e,addYAxis:x6e,replaceYAxis:_6e,removeYAxis:b6e,addZAxis:p8e,replaceZAxis:m8e,removeZAxis:g8e,updateYAxisWidth:w6e}=Kq.actions,E6e=Kq.reducer,T6e=be([Qn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),S6e=be([T6e,Bl,Vl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Zk=()=>ft(S6e),A6e=()=>ft(d4e);function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){C6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C6e(e,t,r){return(t=N6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6e(e){var t=k6e(e,"string");return typeof t=="symbol"?t:t+""}function k6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I6e=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=rS(rS(rS({},o),pf(i)),mN(i)),u;return R.isValidElement(i)?u=R.cloneElement(i,c):typeof i=="function"?u=i(c):u=R.createElement(Oq,c),R.createElement(Cn,{className:"recharts-active-dot",clipPath:s},u)};function Xj(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=zn.activeDot}=e,o=ft(eu),c=A6e();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return vn(u)?null:R.createElement(Ra,{zIndex:s},R.createElement(I6e,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var Zj=(e,t,r)=>{var n=r??e;if(!vn(n))return Wi(n,t,0)},P6e=(e,t,r)=>{var n={},i=e.filter(O_),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>{var p=u[d.stackId];return p==null&&(p=[]),p.push(d),u[d.stackId]=p,u},n),o=Object.entries(s).map(u=>{var d,[p,m]=u,y=m.map(b=>b.dataKey),_=Zj(t,r,(d=m[0])===null||d===void 0?void 0:d.barSize);return{stackId:p,dataKeys:y,barSize:_}}),c=a.map(u=>{var d=[u.dataKey].filter(m=>m!=null),p=Zj(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...o,...c]};function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){R6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R6e(e,t,r){return(t=O6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O6e(e){var t=M6e(e,"string");return typeof t=="symbol"?t:t+""}function M6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D6e(e,t,r,n,i){var a,s=n.length;if(!(s<1)){var o=Wi(e,r,0,!0),c,u=[];if(Bt((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,p=r/s,m=n.reduce((L,I)=>L+(I.barSize||0),0);m+=(s-1)*o,m>=r&&(m-=(s-1)*o,o=0),m>=r&&p>0&&(d=!0,p*=.9,m=s*p);var y=(r-m)/2>>0,_={offset:y-o,size:0};c=n.reduce((L,I)=>{var O,D={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:_.offset+_.size+o,size:d?p:(O=I.barSize)!==null&&O!==void 0?O:0}},M=[...L,D];return _=D.position,M},u)}else{var b=Wi(t,r,0,!0);r-2*b-(s-1)*o<=0&&(o=0);var E=(r-2*b-(s-1)*o)/s;E>1&&(E>>=0);var A=Bt(i)?Math.min(E,i):E;c=n.reduce((L,I,O)=>[...L,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:b+(E+o)*O+(E-A)/2,size:A}}],u)}return c}}var L6e=(e,t,r,n,i,a,s)=>{var o=vn(s)?t:s,c=D6e(r,n,i!==a?i:a,e,o);return i!==a&&c!=null&&(c=c.map(u=>fy(fy({},u),{},{position:fy(fy({},u.position),{},{offset:u.position.offset-i/2})}))),c},F6e=(e,t)=>{var r=R_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},j6e=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function U6e(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Bt(e.zIndex)?e.zIndex:t}var Wq=e=>{var{chartData:t}=e,r=Hr(),n=Xi();return R.useEffect(()=>n?()=>{}:(r(ij(t)),()=>{r(ij(void 0))}),[t,r,n]),null},e8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Yq=Pa({name:"brush",initialState:e8,reducers:{setBrushSettings(e,t){return t.payload==null?e8:t.payload}}}),{setBrushSettings:v8e}=Yq.actions,B6e=Yq.reducer;function V6e(e){return(e%180+180)%180}var z6e=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=V6e(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},$6e={dots:[],areas:[],lines:[]},Jq=Pa({name:"referenceElements",initialState:$6e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=io(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=io(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=io(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:y8e,removeDot:x8e,addArea:_8e,removeArea:b8e,addLine:w8e,removeLine:E8e}=Jq.actions,H6e=Jq.reducer,G6e=R.createContext(void 0),q6e=e=>{var{children:t}=e,[r]=R.useState("".concat(um("recharts"),"-clip")),n=Zk();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return R.createElement(G6e.Provider,{value:r},R.createElement("defs",null,R.createElement("clipPath",{id:r},R.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function Xq(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function K6e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return z6e(n,r)}function W6e(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Tm(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Y6e(e,t){return Xq(e,t+1)}function J6e(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,p=function(){var _=n?.[c];if(_===void 0)return{v:Xq(n,u)};var b=c,E,A=()=>(E===void 0&&(E=r(_,b)),E),L=_.coordinate,I=c===0||Tm(e,L,A,d,o);I||(c=0,d=s,u+=1),I&&(d=L+e*(A()/2+i),c+=u)},m;u<=a.length;)if(m=p(),m)return m.v;return[]}function X6e(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:c}=t,u=1;u<=s;u++){for(var d=(s-1)%u,p=o,m=!0,y=function(){var O=n[b];if(O==null)return 0;var D=b,M,N=()=>(M===void 0&&(M=r(O,D)),M),k=O.coordinate,P=b===d||Tm(e,k,N,p,c);if(!P)return m=!1,1;P&&(p=k+e*(N()/2+i))},_,b=d;b<s&&(_=y(),!(_!==0&&_===1));b+=u);if(m){for(var E=[],A=d;A<s;A+=u){var L=n[A];L!=null&&E.push(L)}return E}}return[]}function t8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t8(Object(r),!0).forEach(function(n){Z6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z6e(e,t,r){return(t=Q6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q6e(e){var t=eLe(e,"string");return typeof t=="symbol"?t:t+""}function eLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tLe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:c}=t,u=function(m){var y=a[m];if(y==null)return 1;var _=y,b,E=()=>(b===void 0&&(b=r(y,m)),b);if(m===s-1){var A=e*(_.coordinate+e*E()/2-c);a[m]=_=ji(ji({},_),{},{tickCoord:A>0?_.coordinate-A*e:_.coordinate})}else a[m]=_=ji(ji({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var L=Tm(e,_.tickCoord,E,o,c);L&&(c=_.tickCoord-e*(E()/2+i),a[m]=ji(ji({},_),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function rLe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(a){var d=n[o-1];if(d!=null){var p=r(d,o-1),m=e*(d.coordinate+e*p/2-u);if(s[o-1]=d=ji(ji({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var y=Tm(e,d.tickCoord,()=>p,c,u);y&&(u=d.tickCoord-e*(p/2+i),s[o-1]=ji(ji({},d),{},{isShow:!0}))}}}for(var _=a?o-1:o,b=function(L){var I=s[L];if(I==null)return 1;var O=I,D,M=()=>(D===void 0&&(D=r(I,L)),D);if(L===0){var N=e*(O.coordinate-e*M()/2-c);s[L]=O=ji(ji({},O),{},{tickCoord:N<0?O.coordinate-N*e:O.coordinate})}else s[L]=O=ji(ji({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var k=Tm(e,O.tickCoord,M,c,u);k&&(c=O.tickCoord+e*(M()/2+i),s[L]=ji(ji({},O),{},{isShow:!0}))}},E=0;E<_;E++)b(E);return s}function Qk(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:p}=e;if(!i||!i.length||!n)return[];if(it(c)||qm.isSsr){var m;return(m=Y6e(i,it(c)?c:0))!==null&&m!==void 0?m:[]}var y=[],_=o==="top"||o==="bottom"?"width":"height",b=d&&_==="width"?Mp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},E=(D,M)=>{var N=typeof u=="function"?u(D.value,M):D.value;return _==="width"?K6e(Mp(N,{fontSize:t,letterSpacing:r}),b,p):Mp(N,{fontSize:t,letterSpacing:r})[_]},A=i[0],L=i[1],I=i.length>=2&&A!=null&&L!=null?ui(L.coordinate-A.coordinate):1,O=W6e(a,I,_);return c==="equidistantPreserveStart"?J6e(I,O,E,i,s):c==="equidistantPreserveEnd"?X6e(I,O,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=rLe(I,O,E,i,s,c==="preserveStartEnd"):y=tLe(I,O,E,i,s),y.filter(D=>D.isShow))}var nLe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>s&&(s=p.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},iLe=["axisLine","width","height","className","hide","ticks","axisType"];function aLe(e,t){if(e==null)return{};var r,n,i=sLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(null,arguments)}function r8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(r),!0).forEach(function(n){oLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oLe(e,t,r){return(t=lLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lLe(e){var t=cLe(e,"string");return typeof t=="symbol"?t:t+""}function cLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:zn.axis};function uLe(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=fn(fn(fn({},c),ka(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=fn(fn({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);u=fn(fn({},u),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return R.createElement("line",wf({},u,{className:dr("recharts-cartesian-axis-line",gf(o,"className"))}))}function fLe(e,t,r,n,i,a,s,o,c){var u,d,p,m,y,_,b=o?-1:1,E=e.tickSize||s,A=it(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,m=r+ +!o*i,p=m-b*E,_=p-b*c,y=A;break;case"left":p=m=e.coordinate,d=t+ +!o*n,u=d-b*E,y=u-b*c,_=A;break;case"right":p=m=e.coordinate,d=t+ +o*n,u=d+b*E,y=u+b*c,_=A;break;default:u=d=e.coordinate,m=r+ +o*i,p=m+b*E,_=p+b*c,y=A;break}return{line:{x1:u,y1:p,x2:d,y2:m},tick:{x:y,y:_}}}function dLe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function hLe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function pLe(e){var{option:t,tickProps:r,value:n}=e,i,a=dr(r.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(t))i=R.cloneElement(t,fn(fn({},r),{},{className:a}));else if(typeof t=="function")i=t(fn(fn({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=dr(s,Fq(t))),i=R.createElement(z_,wf({},r,{className:s}),n)}return i}var mLe=R.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:p,x:m,y,width:_,height:b,tickSize:E,tickMargin:A,fontSize:L,letterSpacing:I,getTicksConfig:O,events:D,axisType:M}=e,N=Qk(fn(fn({},O),{},{ticks:r}),L,I),k=dLe(d,p),P=hLe(d,p),U=ka(O),B=pf(n),F={};typeof i=="object"&&(F=i);var H=fn(fn({},U),{},{fill:"none"},F),fe=N.map(ue=>fn({entry:ue},fLe(ue,m,y,_,b,d,E,p,A))),pe=fe.map(ue=>{var{entry:ce,line:ie}=ue;return R.createElement(Cn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&R.createElement("line",wf({},H,ie,{className:dr("recharts-cartesian-axis-tick-line",gf(i,"className"))})))}),re=fe.map((ue,ce)=>{var ie,xe,{entry:J,tick:V}=ue,ee=fn(fn(fn(fn({verticalAnchor:P},U),{},{textAnchor:k,stroke:"none",fill:a},V),{},{index:ce,payload:J,visibleTicksCount:N.length,tickFormatter:s,padding:c},u),{},{angle:(ie=(xe=u?.angle)!==null&&xe!==void 0?xe:U.angle)!==null&&ie!==void 0?ie:0}),X=fn(fn({},ee),B);return R.createElement(Cn,wf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},Bm(D,J,ce)),n&&R.createElement(pLe,{option:n,tickProps:X,value:"".concat(typeof s=="function"?s(J.value,ce):J.value).concat(o||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},re.length>0&&R.createElement(Ra,{zIndex:zn.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},re)),pe.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},pe))}),gLe=R.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=e,u=aLe(e,iLe),[d,p]=R.useState(""),[m,y]=R.useState(""),_=R.useRef(null);R.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return nLe({ticks:_.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=R.useCallback(E=>{if(E){var A=E.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=A;var L=A[0];if(L){var I=window.getComputedStyle(L),O=I.fontSize,D=I.letterSpacing;(O!==d||D!==m)&&(p(O),y(D))}}},[d,m]);return s||n!=null&&n<=0||i!=null&&i<=0?null:R.createElement(Ra,{zIndex:e.zIndex},R.createElement(Cn,{className:dr("recharts-cartesian-axis",a)},R.createElement(uLe,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ka(e)}),R.createElement(mLe,{ref:b,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),R.createElement(dDe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},R.createElement(wDe,{label:e.label,labelRef:e.labelRef}),e.children)))}),eI=R.forwardRef((e,t)=>{var r=Hn(e,Tl);return R.createElement(gLe,wf({},r,{ref:t}))});eI.displayName="CartesianAxis";var vLe=["x1","y1","x2","y2","key"],yLe=["offset"],xLe=["xAxisId","yAxisId"],_Le=["xAxisId","yAxisId"];function n8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(r),!0).forEach(function(n){bLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bLe(e,t,r){return(t=wLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wLe(e){var t=ELe(e,"string");return typeof t=="symbol"?t:t+""}function ELe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(null,arguments)}function w1(e,t){if(e==null)return{};var r,n,i=TLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SLe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return R.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Zq(e){var{option:t,lineItemProps:r}=e,n;if(R.isValidElement(t))n=R.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=r,d=w1(r,vLe),p=(i=ka(d))!==null&&i!==void 0?i:{},{offset:m}=p,y=w1(p,yLe);n=R.createElement("line",Ku({},y,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function ALe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=w1(e,xLe),c=i.map((u,d)=>{var p=Vi(Vi({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return R.createElement(Zq,{key:"line-".concat(d),option:n,lineItemProps:p})});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function CLe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=w1(e,_Le),c=i.map((u,d)=>{var p=Vi(Vi({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return R.createElement(Zq,{option:n,lineItemProps:p,key:"line-".concat(d)})});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function NLe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==u[0]&&u.unshift(0);var d=u.map((p,m)=>{var y=u[m+1],_=y==null,b=_?i+s-p:y-p;if(b<=0)return null;var E=m%t.length;return R.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:b,width:a,stroke:"none",fill:t[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function kLe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==u[0]&&u.unshift(0);var d=u.map((p,m)=>{var y=u[m+1],_=y==null,b=_?i+s-p:y-p;if(b<=0)return null;var E=m%r.length;return R.createElement("rect",{key:"react-".concat(m),x:p,y:a,width:b,height:o,stroke:"none",fill:r[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ILe=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return j$(Qk(Vi(Vi(Vi({},Tl),r),{},{ticks:U$(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},PLe=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return j$(Qk(Vi(Vi(Vi({},Tl),r),{},{ticks:U$(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},RLe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:zn.grid};function zy(e){var t=NN(),r=kN(),n=K$(),i=Vi(Vi({},Hn(e,RLe)),{},{x:it(e.x)?e.x:n.left,y:it(e.y)?e.y:n.top,width:it(e.width)?e.width:n.width,height:it(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:p,horizontalValues:m,verticalValues:y}=i,_=Xi(),b=ft(P=>q5(P,"xAxis",a,_)),E=ft(P=>q5(P,"yAxis",s,_));if(!Uo(u)||!Uo(d)||!it(o)||!it(c))return null;var A=i.verticalCoordinatesGenerator||ILe,L=i.horizontalCoordinatesGenerator||PLe,{horizontalPoints:I,verticalPoints:O}=i;if((!I||!I.length)&&typeof L=="function"){var D=m&&m.length,M=L({yAxis:E?Vi(Vi({},E),{},{ticks:D?m:E.ticks}):void 0,width:t??u,height:r??d,offset:n},D?!0:p);Kx(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(I=M)}if((!O||!O.length)&&typeof A=="function"){var N=y&&y.length,k=A({xAxis:b?Vi(Vi({},b),{},{ticks:N?y:b.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:p);Kx(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(O=k)}return R.createElement(Ra,{zIndex:i.zIndex},R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(SLe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(NLe,Ku({},i,{horizontalPoints:I})),R.createElement(kLe,Ku({},i,{verticalPoints:O})),R.createElement(ALe,Ku({},i,{offset:n,horizontalPoints:I,xAxis:b,yAxis:E})),R.createElement(CLe,Ku({},i,{offset:n,verticalPoints:O,xAxis:b,yAxis:E}))))}zy.displayName="CartesianGrid";var OLe={},Qq=Pa({name:"errorBars",initialState:OLe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:T8e,replaceErrorBar:S8e,removeErrorBar:A8e}=Qq.actions,MLe=Qq.reducer,DLe=["children"];function LLe(e,t){if(e==null)return{};var r,n,i=FLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jLe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ULe=R.createContext(jLe);function BLe(e){var{children:t}=e,r=LLe(e,DLe);return R.createElement(ULe.Provider,{value:r},t)}function tI(e,t){var r,n,i=ft(u=>Hl(u,e)),a=ft(u=>Gl(u,t)),s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:ii.allowDataOverflow,o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:ai.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function eK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Zk(),{needClipX:a,needClipY:s,needClip:o}=tI(t,r);if(!o||!i)return null;var{x:c,y:u,width:d,height:p}=i;return R.createElement("clipPath",{id:"clipPath-".concat(n)},R.createElement("rect",{x:a?c:c-d/2,y:s?u:u-p/2,width:a?d:d*2,height:s?p:p*2}))}function VLe(e){var t=pf(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var nS={exports:{}},iS={};var i8;function zLe(){if(i8)return iS;i8=1;var e=bh();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return iS.useSyncExternalStoreWithSelector=function(c,u,d,p,m){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=s(function(){function E(D){if(!A){if(A=!0,L=D,D=p(D),m!==void 0&&_.hasValue){var M=_.value;if(m(M,D))return I=M}return I=D}if(M=I,r(L,D))return M;var N=p(D);return m!==void 0&&m(M,N)?(L=D,M):(L=D,I=N)}var A=!1,L,I,O=d===void 0?null:d;return[function(){return E(u())},O===null?void 0:function(){return E(O())}]},[u,d,p,m]);var b=n(c,y[0],y[1]);return a(function(){_.hasValue=!0,_.value=b},[b]),o(b),b},iS}var a8;function $Le(){return a8||(a8=1,nS.exports=zLe()),nS.exports}$Le();function HLe(e){e()}function GLe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){HLe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var s8={notify(){},get:()=>[]};function qLe(e,t){let r,n=s8,i=0,a=!1;function s(b){d();const E=n.subscribe(b);let A=!1;return()=>{A||(A=!0,E(),p())}}function o(){n.notify()}function c(){_.onStateChange&&_.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=GLe())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=s8)}function m(){a||(a=!0,d())}function y(){a&&(a=!1,p())}const _={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>n};return _}var KLe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WLe=KLe(),YLe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",JLe=YLe(),XLe=()=>WLe||JLe?R.useLayoutEffect:R.useEffect,ZLe=XLe();function o8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function QLe(e,t){if(o8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!o8(e[r[i]],t[r[i]]))return!1;return!0}var eFe=Symbol.for("react-redux-context"),tFe=typeof globalThis<"u"?globalThis:{};function rFe(){if(!R.createContext)return{};const e=tFe[eFe]??=new Map;let t=e.get(R.createContext);return t||(t=R.createContext(null),e.set(R.createContext,t)),t}var nFe=rFe();function iFe(e){const{children:t,context:r,serverState:n,store:i}=e,a=R.useMemo(()=>{const c=qLe(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=R.useMemo(()=>i.getState(),[i]);ZLe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||nFe;return R.createElement(o.Provider,{value:a},t)}var aFe=iFe,sFe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function oFe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function q_(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(sFe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!QLe(e[n],t[n]))return!1}else if(!oFe(e[n],t[n]))return!1;return!0}function Ho(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:qq}function Go(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:qq}var tK=(e,t,r)=>Qc(e,"xAxis",Ho(e,t),r),rK=(e,t,r)=>Zc(e,"xAxis",Ho(e,t),r),nK=(e,t,r)=>Qc(e,"yAxis",Go(e,t),r),iK=(e,t,r)=>Zc(e,"yAxis",Go(e,t),r),lFe=be([lr,tK,nK,rK,iK],(e,t,r,n,i)=>$o(e,"xAxis")?mh(t,n,!1):mh(r,i,!1)),cFe=(e,t)=>t,aK=be([L_,cFe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),sK=e=>{var t=lr(e),r=$o(t,"xAxis");return r?"yAxis":"xAxis"},uFe=(e,t)=>{var r=sK(e);return r==="yAxis"?Go(e,t):Ho(e,t)},fFe=(e,t,r)=>m1(e,sK(e),uFe(e,t),r),dFe=be([aK,fFe],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=R_(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a?.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),hFe=be([lr,tK,nK,rK,iK,dFe,XH,lFe,aK,oRe],(e,t,r,n,i,a,s,o,c,u)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:m}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:y}=c,_;if(y&&y.length>0?_=y:_=d?.slice(p,m+1),_!=null)return RFe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:p,areaSettings:c,stackedData:a,displayedData:_,chartBaseValue:u,bandSize:o})}}),pFe=["id"],mFe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}function oK(e,t){if(e==null)return{};var r,n,i=gFe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(r),!0).forEach(function(n){vFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vFe(e,t,r){return(t=yFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yFe(e){var t=xFe(e,"string");return typeof t=="symbol"?t:t+""}function xFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E1(e,t){return e&&e!=="none"?e:t}var _Fe=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:E1(n,i),value:Mh(r,t),payload:e}]},bFe=R.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:u,id:d}=e,p={dataDefinedOnItem:r,getPosition:Lf,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Mh(s,t),hide:o,type:u,color:E1(n,a),unit:c,graphicalItemId:d}};return R.createElement(Jk,{tooltipEntrySettings:p})});function wFe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,o=ka(n);return R.createElement(f6e,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function EFe(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return zd(zd({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return R.createElement(Pq,{value:t?i:void 0},r)}function c8(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:c,connectNulls:u,isRange:d}=a,{id:p}=a,m=oK(a,pFe),y=ka(m),_=ha(m);return R.createElement(R.Fragment,null,t?.length>1&&R.createElement(Cn,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},R.createElement(Qd,rf({},_,{id:p,points:t,connectNulls:u,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&R.createElement(Qd,rf({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&R.createElement(Qd,rf({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:r}))),R.createElement(wFe,{points:t,props:m,clipPathId:i}))}function TFe(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,c=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!Bt(o)||!Bt(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(p=>p.x||0));return it(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(p=>p.x||0),d)),it(d)?R.createElement("rect",{x:0,y:o<c?o:o-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function SFe(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,c=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!Bt(o)||!Bt(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(p=>p.y||0));return it(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(p=>p.y||0),d)),it(d)?R.createElement("rect",{x:o<c?o:o-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function AFe(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?R.createElement(TFe,{alpha:t,points:n,baseLine:i,strokeWidth:a}):R.createElement(SFe,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function CFe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:p,onAnimationStart:m,onAnimationEnd:y}=n,_=R.useMemo(()=>({points:s,baseLine:o}),[s,o]),b=Wm(_,"recharts-area-"),E=IN(),[A,L]=R.useState(!1),I=!A,O=R.useCallback(()=>{typeof y=="function"&&y(),L(!1)},[y]),D=R.useCallback(()=>{typeof m=="function"&&m(),L(!0)},[m]);if(E==null)return null;var M=i.current,N=a.current;return R.createElement(EFe,{showLabels:I,points:s},n.children,R.createElement(Km,{animationId:b,begin:u,duration:d,isActive:c,easing:p,onAnimationEnd:O,onAnimationStart:D,key:b},k=>{if(M){var P=M.length/s.length,U=k===1?s:s.map((F,H)=>{var fe=Math.floor(H*P);if(M[fe]){var pe=M[fe];return zd(zd({},F),{},{x:Wr(pe.x,F.x,k),y:Wr(pe.y,F.y,k)})}return F}),B;return it(o)?B=Wr(N,o,k):vn(o)||ao(o)?B=Wr(N,0,k):B=o.map((F,H)=>{var fe=Math.floor(H*P);if(Array.isArray(N)&&N[fe]){var pe=N[fe];return zd(zd({},F),{},{x:Wr(pe.x,F.x,k),y:Wr(pe.y,F.y,k)})}return F}),k>0&&(i.current=U,a.current=B),R.createElement(c8,{points:U,baseLine:B,needClip:t,clipPathId:r,props:n})}return k>0&&(i.current=s,a.current=o),R.createElement(Cn,null,c&&R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(r)},R.createElement(AFe,{alpha:k,points:s,baseLine:o,layout:E,strokeWidth:n.strokeWidth}))),R.createElement(Cn,{clipPath:"url(#animationClipPath-".concat(r,")")},R.createElement(c8,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),R.createElement($k,{label:n.label}))}function NFe(e){var{needClip:t,clipPathId:r,props:n}=e,i=R.useRef(null),a=R.useRef();return R.createElement(CFe,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class kFe extends R.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:c,yAxisId:u,width:d,height:p,id:m,baseLine:y,zIndex:_}=this.props;if(t)return null;var b=dr("recharts-area",i),E=m,{r:A,strokeWidth:L}=VLe(r),I=Bq(r),O=A*2+L,D=o?"url(#clipPath-".concat(I?"":"dots-").concat(E,")"):void 0;return R.createElement(Ra,{zIndex:_},R.createElement(Cn,{className:b},o&&R.createElement("defs",null,R.createElement(eK,{clipPathId:E,xAxisId:c,yAxisId:u}),!I&&R.createElement("clipPath",{id:"clipPath-dots-".concat(E)},R.createElement("rect",{x:s-O/2,y:a-O/2,width:d+O,height:p+O}))),R.createElement(NFe,{needClip:o,clipPathId:E,props:this.props})),R.createElement(Xj,{points:n,mainColor:E1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&R.createElement(Xj,{points:y,mainColor:E1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var lK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:zn.area};function IFe(e){var t,r=Hn(e,lK),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:p,isAnimationActive:m,legendType:y,stroke:_,xAxisId:b,yAxisId:E}=r,A=oK(r,mFe),L=Ff(),I=dq(),{needClip:O}=tI(b,E),D=Xi(),{points:M,isRange:N,baseLine:k}=(t=ft(fe=>hFe(fe,e.id,D)))!==null&&t!==void 0?t:{},P=Zk();if(L!=="horizontal"&&L!=="vertical"||P==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:U,width:B,x:F,y:H}=P;return!M||!M.length?null:R.createElement(kFe,rf({},A,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:k,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:U,hide:p,layout:L,isAnimationActive:m==="auto"?!qm.isSsr:m,isRange:N,legendType:y,needClip:O,points:M,stroke:_,width:B,left:F,top:H,xAxisId:b,yAxisId:E}))}var PFe=(e,t,r,n,i)=>{var a=r??t;if(it(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function RFe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:p,yAxisTicks:m,bandSize:y}=e,_=i&&i.length,b=PFe(a,s,r,o,c),E=a==="horizontal",A=!1,L=u.map((O,D)=>{var M,N,k,P;if(_)P=i[d+D];else{var U=Lr(O,n);Array.isArray(U)?(P=U,A=!0):P=[b,U]}var B=(M=(N=P)===null||N===void 0?void 0:N[1])!==null&&M!==void 0?M:null,F=B==null||_&&!t&&Lr(O,n)==null;if(E){var H;return{x:$L({axis:o,ticks:p,bandSize:y,entry:O,index:D}),y:F?null:(H=c.scale.map(B))!==null&&H!==void 0?H:null,value:P,payload:O}}return{x:F?null:(k=o.scale.map(B))!==null&&k!==void 0?k:null,y:$L({axis:c,ticks:m,bandSize:y,entry:O,index:D}),value:P,payload:O}}),I;return _||A?I=L.map(O=>{var D,M=Array.isArray(O.value)?O.value[0]:null;if(E){var N;return{x:O.x,y:M!=null&&O.y!=null&&(N=c.scale.map(M))!==null&&N!==void 0?N:null,payload:O.payload}}return{x:M!=null&&(D=o.scale.map(M))!==null&&D!==void 0?D:null,y:O.y,payload:O.payload}}):I=E?c.scale.map(b):o.scale.map(b),{points:L,baseLine:I??0,isRange:A}}function OFe(e){var t=Hn(e,lK),r=Xi();return R.createElement(Xk,{id:t.id,type:"area"},n=>R.createElement(R.Fragment,null,R.createElement(zq,{legendPayload:_Fe(t)}),R.createElement(bFe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),R.createElement(Hq,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:B$(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),R.createElement(IFe,rf({},t,{id:n}))))}var cK=R.memo(OFe,q_);cK.displayName="Area";var MFe="Invariant failed";function DFe(e,t){throw new Error(MFe)}function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(null,arguments)}function T1(e){return R.createElement(Vq,m2({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var LFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(it(t))return t;var a=it(n)||vn(n);return a?t(n,i):(a||DFe(),r)}},FFe=(e,t,r)=>r,jFe=(e,t)=>t,og=be([L_,jFe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),UFe=be([og],e=>e?.maxBarSize),BFe=(e,t,r,n)=>n,VFe=be([lr,L_,Ho,Go,FFe],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),zFe=(e,t,r)=>{var n=lr(e),i=Ho(e,t),a=Go(e,t);if(!(i==null||a==null))return n==="horizontal"?m1(e,"yAxis",a,r):m1(e,"xAxis",i,r)},$Fe=(e,t)=>{var r=lr(e),n=Ho(e,t),i=Go(e,t);if(!(n==null||i==null))return r==="horizontal"?G5(e,"xAxis",n):G5(e,"yAxis",i)},HFe=be([VFe,sRe,$Fe],P6e),GFe=(e,t,r)=>{var n,i,a=og(e,t);if(a==null)return 0;var s=Ho(e,t),o=Go(e,t);if(s==null||o==null)return 0;var c=lr(e),u=cG(e),{maxBarSize:d}=a,p=vn(d)?u:d,m,y;return c==="horizontal"?(m=Qc(e,"xAxis",s,r),y=Zc(e,"xAxis",s,r)):(m=Qc(e,"yAxis",o,r),y=Zc(e,"yAxis",o,r)),(n=(i=mh(m,y,!0))!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0},uK=(e,t,r)=>{var n=lr(e),i=Ho(e,t),a=Go(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=Qc(e,"xAxis",i,r),o=Zc(e,"xAxis",i,r)):(s=Qc(e,"yAxis",a,r),o=Zc(e,"yAxis",a,r)),mh(s,o)}},qFe=be([HFe,cG,aRe,uG,GFe,uK,UFe],L6e),KFe=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return Qc(e,"xAxis",n,r)},WFe=(e,t,r)=>{var n=Go(e,t);if(n!=null)return Qc(e,"yAxis",n,r)},YFe=(e,t,r)=>{var n=Ho(e,t);if(n!=null)return Zc(e,"xAxis",n,r)},JFe=(e,t,r)=>{var n=Go(e,t);if(n!=null)return Zc(e,"yAxis",n,r)},XFe=be([qFe,og],j6e),ZFe=be([zFe,og],F6e),QFe=be([Qn,SN,KFe,WFe,YFe,JFe,XFe,lr,XH,uK,ZFe,og,BFe],(e,t,r,n,i,a,s,o,c,u,d,p,m)=>{var{chartData:y,dataStartIndex:_,dataEndIndex:b}=c;if(!(p==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:E}=p,A;if(E!=null&&E.length>0?A=E:A=y?.slice(_,b+1),A!=null)return C5e({layout:o,barSettings:p,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:A,offset:e,cells:m,dataStartIndex:_})}}),e5e=["index"];function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g2.apply(null,arguments)}function t5e(e,t){if(e==null)return{};var r,n,i=r5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fK=R.createContext(void 0),n5e=e=>{var t=R.useContext(fK);if(t!=null)return t.stackId;if(e!=null)return B$(e)},i5e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),a5e=e=>{var t=R.useContext(fK);if(t!=null){var{stackId:r}=t;return"url(#".concat(i5e(r,e),")")}},dK=e=>{var{index:t}=e,r=t5e(e,e5e),n=a5e(t);return R.createElement(Cn,g2({className:"recharts-bar-stack-layer",clipPath:n},r))},s5e=["onMouseEnter","onMouseLeave","onClick"],o5e=["value","background","tooltipPosition"],l5e=["id"],c5e=["onMouseEnter","onClick","onMouseLeave"];function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(null,arguments)}function u8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(r),!0).forEach(function(n){u5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u5e(e,t,r){return(t=f5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5e(e){var t=d5e(e,"string");return typeof t=="symbol"?t:t+""}function d5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S1(e,t){if(e==null)return{};var r,n,i=h5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p5e=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Mh(r,t),payload:e}]},m5e=R.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:Lf,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Mh(a,t),hide:s,type:c,color:i,unit:o,graphicalItemId:u}};return R.createElement(Jk,{tooltipEntrySettings:d})});function g5e(e){var t=ft(eu),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,u=S1(a,s5e),d=Kk(s,n,a.id),p=Wk(o),m=Yk(c,n,a.id);if(!i||r==null)return null;var y=pf(i);return R.createElement(Ra,{zIndex:U6e(i,zn.barBackground)},r.map((_,b)=>{var{value:E,background:A,tooltipPosition:L}=_,I=S1(_,o5e);if(!A)return null;var O=d(_,b),D=p(_,b),M=m(_,b),N=oa(oa(oa(oa(oa({option:i,isActive:String(b)===t},I),{},{fill:"#eee"},A),y),Bm(u,_,b)),{},{onMouseEnter:O,onMouseLeave:D,onClick:M,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return R.createElement(T1,Ll({key:"background-bar-".concat(b)},N))}))}function v5e(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return oa(oa({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return R.createElement(Pq,{value:t?i:void 0},r)}function y5e(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=ft(eu),c=ft(Lk),u=r&&String(a)===o&&(c==null||s===c),d=u?r:t;return u?R.createElement(Ra,{zIndex:zn.activeBar},R.createElement(dK,{index:a},R.createElement(T1,Ll({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s})))):R.createElement(T1,Ll({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function x5e(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return R.createElement(T1,Ll({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function _5e(e){var t,{data:r,props:n}=e,i=(t=ka(n))!==null&&t!==void 0?t:{},{id:a}=i,s=S1(i,l5e),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:p,onMouseLeave:m}=n,y=S1(n,c5e),_=Kk(d,c,a),b=Wk(m),E=Yk(p,c,a);return r?R.createElement(R.Fragment,null,r.map((A,L)=>R.createElement(dK,Ll({index:L,key:"rectangle-".concat(A?.x,"-").concat(A?.y,"-").concat(A?.value,"-").concat(L),className:"recharts-bar-rectangle"},Bm(y,A,L),{onMouseEnter:_(A,L),onMouseLeave:b(A,L),onClick:E(A,L)}),u?R.createElement(y5e,{shape:o,activeBar:u,baseProps:s,entry:A,index:L,dataKey:c}):R.createElement(x5e,{shape:o,baseProps:s,entry:A,index:L,dataKey:c})))):null}function b5e(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,p=r.current,m=Wm(t,"recharts-bar-"),[y,_]=R.useState(!1),b=!y,E=R.useCallback(()=>{typeof u=="function"&&u(),_(!1)},[u]),A=R.useCallback(()=>{typeof d=="function"&&d(),_(!0)},[d]);return R.createElement(v5e,{showLabels:b,rects:n},R.createElement(Km,{animationId:m,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:E,onAnimationStart:A,key:m},L=>{var I=L===1?n:n?.map((O,D)=>{var M=p&&p[D];if(M)return oa(oa({},O),{},{x:Wr(M.x,O.x,L),y:Wr(M.y,O.y,L),width:Wr(M.width,O.width,L),height:Wr(M.height,O.height,L)});if(i==="horizontal"){var N=Wr(0,O.height,L),k=Wr(O.stackedBarStart,O.y,L);return oa(oa({},O),{},{y:k,height:N})}var P=Wr(0,O.width,L),U=Wr(O.stackedBarStart,O.x,L);return oa(oa({},O),{},{width:P,x:U})});return L>0&&(r.current=I??null),I==null?null:R.createElement(Cn,null,R.createElement(_5e,{props:t,data:I}))}),R.createElement($k,{label:t.label}),t.children)}function w5e(e){var t=R.useRef(null);return R.createElement(b5e,{previousRectanglesRef:t,props:e})}var hK=0,E5e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Lr(e,t)}};class T5e extends R.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=dr("recharts-bar",i),p=u;return R.createElement(Cn,{className:d,id:u},o&&R.createElement("defs",null,R.createElement(eK,{clipPathId:p,xAxisId:a,yAxisId:s})),R.createElement(Cn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},R.createElement(g5e,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),R.createElement(w5e,this.props)))}}var S5e={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:hK,xAxisId:0,yAxisId:0,zIndex:zn.bar};function A5e(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:p}=tI(t,r),m=Ff(),y=Xi(),_=qk(e.children,sg),b=ft(L=>QFe(L,e.id,y,_));if(m!=="vertical"&&m!=="horizontal")return null;var E,A=b?.[0];return A==null||A.height==null||A.width==null?E=0:E=m==="vertical"?A.height/2:A.width/2,R.createElement(BLe,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:E5e,errorBarOffset:E},R.createElement(T5e,Ll({},e,{layout:m,needClip:p,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function C5e(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:p,offset:m,cells:y,parentViewBox:_,dataStartIndex:b}=e,E=t==="horizontal"?o:s,A=d?E.scale.domain():null,L=K2e({numericAxis:E}),I=E.scale.map(L);return p.map((O,D)=>{var M,N,k,P,U,B;if(d){var F=d[D+b];if(F==null)return null;M=z2e(F,A)}else M=Lr(O,r),Array.isArray(M)||(M=[L,M]);var H=LFe(n,hK)(M[1],D);if(t==="horizontal"){var fe,pe=o.scale.map(M[0]),re=o.scale.map(M[1]);if(pe==null||re==null)return null;N=HL({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:O,index:D}),k=(fe=re??pe)!==null&&fe!==void 0?fe:void 0,P=i.size;var ue=pe-re;if(U=ao(ue)?0:ue,B={x:N,y:m.top,width:P,height:m.height},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var ce=ui(U||H)*(Math.abs(H)-Math.abs(U));k-=ce,U+=ce}}else{var ie=s.scale.map(M[0]),xe=s.scale.map(M[1]);if(ie==null||xe==null)return null;if(N=ie,k=HL({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:O,index:D}),P=xe-ie,U=i.size,B={x:m.left,y:k,width:m.width,height:U},Math.abs(H)>0&&Math.abs(P)<Math.abs(H)){var J=ui(P||H)*(Math.abs(H)-Math.abs(P));P+=J}}if(N==null||k==null||P==null||U==null)return null;var V=oa(oa({},O),{},{stackedBarStart:I,x:N,y:k,width:P,height:U,value:d?M:M[1],payload:O,background:B,tooltipPosition:{x:N+P/2,y:k+U/2},parentViewBox:_},y&&y[D]&&y[D].props);return V}).filter(Boolean)}function N5e(e){var t=Hn(e,S5e),r=n5e(t.stackId),n=Xi();return R.createElement(Xk,{id:t.id,type:"bar"},i=>R.createElement(R.Fragment,null,R.createElement(zq,{legendPayload:p5e(t)}),R.createElement(m5e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),R.createElement(Hq,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),R.createElement(Ra,{zIndex:t.zIndex},R.createElement(A5e,Ll({},t,{id:i})))))}var $y=R.memo(N5e,q_);$y.displayName="Bar";var k5e=["domain","range"],I5e=["domain","range"];function f8(e,t){if(e==null)return{};var r,n,i=P5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function P5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function d8(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function pK(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=f8(e,k5e),{domain:a,range:s}=t,o=f8(t,I5e);return!d8(r,a)||!d8(n,s)?!1:q_(i,o)}var R5e=["type"],O5e=["dangerouslySetInnerHTML","ticks","scale"],M5e=["id","scale"];function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v2.apply(null,arguments)}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function p8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){D5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D5e(e,t,r){return(t=L5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L5e(e){var t=F5e(e,"string");return typeof t=="symbol"?t:t+""}function F5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y2(e,t){if(e==null)return{};var r,n,i=j5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function j5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function U5e(e){var t=Hr(),r=R.useRef(null),n=IN(),{type:i}=e,a=y2(e,R5e),s=I_(n,"xAxis",i),o=R.useMemo(()=>{if(s!=null)return p8(p8({},a),{},{type:s})},[a,s]);return R.useLayoutEffect(()=>{o!=null&&(r.current===null?t(g6e(o)):r.current!==o&&t(v6e({prev:r.current,next:o})),r.current=o)},[o,t]),R.useLayoutEffect(()=>()=>{r.current&&(t(y6e(r.current)),r.current=null)},[t]),null}var B5e=e=>{var{xAxisId:t,className:r}=e,n=ft(SN),i=Xi(),a="xAxis",s=ft(A=>$G(A,a,t,i)),o=ft(A=>UG(A,t)),c=ft(A=>oOe(A,t)),u=ft(A=>_G(A,t));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:p,scale:m}=e,y=y2(e,O5e),{id:_,scale:b}=u,E=y2(u,M5e);return R.createElement(eI,v2({},y,E,{x:c.x,y:c.y,width:o.width,height:o.height,className:dr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},V5e={allowDataOverflow:ii.allowDataOverflow,allowDecimals:ii.allowDecimals,allowDuplicatedCategory:ii.allowDuplicatedCategory,angle:ii.angle,axisLine:Tl.axisLine,height:ii.height,hide:!1,includeHidden:ii.includeHidden,interval:ii.interval,label:!1,minTickGap:ii.minTickGap,mirror:ii.mirror,orientation:ii.orientation,padding:ii.padding,reversed:ii.reversed,scale:ii.scale,tick:ii.tick,tickCount:ii.tickCount,tickLine:Tl.tickLine,tickSize:Tl.tickSize,type:ii.type,xAxisId:0},z5e=e=>{var t=Hn(e,V5e);return R.createElement(R.Fragment,null,R.createElement(U5e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),R.createElement(B5e,t))},pp=R.memo(z5e,pK);pp.displayName="XAxis";var $5e=["type"],H5e=["dangerouslySetInnerHTML","ticks","scale"],G5e=["id","scale"];function x2(){return x2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x2.apply(null,arguments)}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function g8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){q5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q5e(e,t,r){return(t=K5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K5e(e){var t=W5e(e,"string");return typeof t=="symbol"?t:t+""}function W5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _2(e,t){if(e==null)return{};var r,n,i=Y5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Y5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function J5e(e){var t=Hr(),r=R.useRef(null),n=IN(),{type:i}=e,a=_2(e,$5e),s=I_(n,"yAxis",i),o=R.useMemo(()=>{if(s!=null)return g8(g8({},a),{},{type:s})},[s,a]);return R.useLayoutEffect(()=>{o!=null&&(r.current===null?t(x6e(o)):r.current!==o&&t(_6e({prev:r.current,next:o})),r.current=o)},[o,t]),R.useLayoutEffect(()=>()=>{r.current&&(t(b6e(r.current)),r.current=null)},[t]),null}function X5e(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=R.useRef(null),s=R.useRef(null),o=ft(SN),c=Xi(),u=Hr(),d="yAxis",p=ft(M=>BG(M,t)),m=ft(M=>cOe(M,t)),y=ft(M=>$G(M,d,t,c)),_=ft(M=>bG(M,t));if(R.useLayoutEffect(()=>{if(!(n!=="auto"||!p||zk(i)||R.isValidElement(i)||_==null)){var M=a.current;if(M){var N=M.getCalculatedWidth();Math.round(p.width)!==Math.round(N)&&u(w6e({id:t,width:N}))}}},[y,p,u,i,t,n,_]),p==null||m==null||_==null)return null;var{dangerouslySetInnerHTML:b,ticks:E,scale:A}=e,L=_2(e,H5e),{id:I,scale:O}=_,D=_2(_,G5e);return R.createElement(eI,x2({},L,D,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:dr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:y,axisType:d}))}var Z5e={allowDataOverflow:ai.allowDataOverflow,allowDecimals:ai.allowDecimals,allowDuplicatedCategory:ai.allowDuplicatedCategory,angle:ai.angle,axisLine:Tl.axisLine,hide:!1,includeHidden:ai.includeHidden,interval:ai.interval,label:!1,minTickGap:ai.minTickGap,mirror:ai.mirror,orientation:ai.orientation,padding:ai.padding,reversed:ai.reversed,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,tickLine:Tl.tickLine,tickSize:Tl.tickSize,type:ai.type,width:ai.width,yAxisId:0},Q5e=e=>{var t=Hn(e,Z5e);return R.createElement(R.Fragment,null,R.createElement(J5e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),R.createElement(X5e,t))},mp=R.memo(Q5e,pK);mp.displayName="YAxis";var eje=(e,t)=>t,rI=be([eje,lr,vG,mi,sq,ql,T4e,Qn],P4e),nI=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},mK=As("mouseClick"),gK=zm();gK.startListening({actionCreator:mK,effect:(e,t)=>{var r=e.payload,n=rI(t.getState(),nI(r));n?.activeIndex!=null&&t.dispatch(EOe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var b2=As("mouseMove"),vK=zm(),dy=null;vK.startListening({actionCreator:b2,effect:(e,t)=>{var r=e.payload;dy!==null&&cancelAnimationFrame(dy);var n=nI(r);dy=requestAnimationFrame(()=>{var i=t.getState(),a=Ik(i,i.tooltip.settings.shared);if(a==="axis"){var s=rI(i,n);s?.activeIndex!=null?t.dispatch(XG({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(JG())}dy=null})}});function tje(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var v8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},yK=Pa({name:"rootProps",initialState:v8,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:v8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rje=yK.reducer,{updateOptions:nje}=yK.actions,ije=null,aje={updatePolarOptions:(e,t)=>t.payload},xK=Pa({name:"polarOptions",initialState:ije,reducers:aje}),{updatePolarOptions:sje}=xK.actions,oje=xK.reducer,_K=As("keyDown"),bK=As("focus"),iI=zm();iI.startListening({actionCreator:_K,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Pk(i,$h(r),rg(r),ig(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=ql(r);if(a==="Enter"){var u=v1(r,"axis","hover",String(i.index));t.dispatch(u2({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=hOe(r),p=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,y=o+m*p;if(!(c==null||y>=c.length||y<0)){var _=v1(r,"axis","hover",String(y));t.dispatch(u2({active:!0,activeIndex:y.toString(),activeCoordinate:_}))}}}}}});iI.startListening({actionCreator:bK,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=v1(r,"axis","hover",String(a));t.dispatch(u2({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ms=As("externalEvent"),wK=zm(),aS=new Map;wK.startListening({actionCreator:ms,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=aS.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:c4e(o),activeDataKey:Lk(o),activeIndex:eu(o),activeLabel:cq(o),activeTooltipIndex:eu(o),isTooltipActive:u4e(o)};r(c,n)}finally{aS.delete(i)}});aS.set(i,s)}}});var lje=be([Vh],e=>e.tooltipItemPayloads),cje=be([lje,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),EK=As("touchMove"),TK=zm();TK.startListening({actionCreator:EK,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Ik(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=rI(n,nI({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(XG({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(z$),p=(o=u.getAttribute($$))!==null&&o!==void 0?o:void 0,m=zh(n).find(b=>b.id===p);if(d==null||m==null||p==null)return;var{dataKey:y}=m,_=cje(n,d,p);t.dispatch(YG({activeDataKey:y,activeIndex:d,activeCoordinate:_,activeGraphicalItemId:p}))}}}});var uje=c$({brush:B6e,cartesianAxis:E6e,chartData:lMe,errorBars:MLe,graphicalItems:I3e,layout:F2e,legend:$Ce,options:nMe,polarAxis:HDe,polarOptions:oje,referenceElements:H6e,rootProps:rje,tooltip:TOe,zIndex:G4e}),fje=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return l2e({reducer:uje,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([gK.middleware,vK.middleware,iI.middleware,wK.middleware,TK.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(T$({type:"raf"}))},devTools:{serialize:{replacer:tje},name:"recharts-".concat(r)}})};function SK(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Xi(),a=R.useRef(null);if(i)return r;a.current==null&&(a.current=fje(t,n));var s=yN;return R.createElement(aFe,{context:s,store:a.current},r)}function dje(e){var{layout:t,margin:r}=e,n=Hr(),i=Xi();return R.useEffect(()=>{i||(n(M2e(t)),n(O2e(r)))},[n,i,t,r]),null}var AK=R.memo(dje,q_);function CK(e){var t=Hr();return R.useEffect(()=>{t(nje(e))},[t,e]),null}function y8(e){var{zIndex:t,isPanorama:r}=e,n=R.useRef(null),i=Hr();return R.useLayoutEffect(()=>(n.current&&i($4e({zIndex:t,element:n.current,isPanorama:r})),()=>{i(H4e({zIndex:t,isPanorama:r}))}),[i,t,r]),R.createElement("g",{tabIndex:-1,ref:n})}function x8(e){var{children:t,isPanorama:r}=e,n=ft(O4e);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return R.createElement(R.Fragment,null,i.map(s=>R.createElement(y8,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>R.createElement(y8,{key:s,zIndex:s,isPanorama:r})))}var hje=["children"];function pje(e,t){if(e==null)return{};var r,n,i=mje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(null,arguments)}var gje={width:"100%",height:"100%",display:"block"},vje=R.forwardRef((e,t)=>{var r=NN(),n=kN(),i=sH();if(!Uo(r)||!Uo(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),R.createElement(oN,A1({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:gje,ref:t}),a)}),yje=e=>{var{children:t}=e,r=ft(v_);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return R.createElement(oN,{width:n,height:i,x:s,y:a},t)},_8=R.forwardRef((e,t)=>{var{children:r}=e,n=pje(e,hje),i=Xi();return i?R.createElement(yje,null,R.createElement(x8,{isPanorama:!0},r)):R.createElement(vje,A1({ref:t},n),R.createElement(x8,{isPanorama:!1},r))});function xje(){var e=Hr(),[t,r]=R.useState(null),n=ft(Q2e);return R.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Bt(a)&&a!==n&&e(L2e(a))}},[t,e,n]),r}function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(n){bje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bje(e,t,r){return(t=wje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wje(e){var t=Eje(e,"string");return typeof t=="symbol"?t:t+""}function Eje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zc(){return zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zc.apply(null,arguments)}var Tje=()=>(vMe(),null);function C1(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Sje=R.forwardRef((e,t)=>{var r,n,i=R.useRef(null),[a,s]=R.useState({containerWidth:C1((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:C1((n=e.style)===null||n===void 0?void 0:n.height)}),o=R.useCallback((u,d)=>{s(p=>{var m=Math.round(u),y=Math.round(d);return p.containerWidth===m&&p.containerHeight===y?p:{containerWidth:m,containerHeight:y}})},[]),c=R.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=u.getBoundingClientRect();o(d,p);var m=_=>{var b=_[0];if(b!=null){var{width:E,height:A}=b.contentRect;o(E,A)}},y=new ResizeObserver(m);y.observe(u),i.current=y}},[t,o]);return R.useEffect(()=>()=>{var u=i.current;u?.disconnect()},[o]),R.createElement(R.Fragment,null,R.createElement(Hm,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",zc({ref:c},e)))}),Aje=R.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=R.useState({containerWidth:C1(r),containerHeight:C1(n)}),s=R.useCallback((c,u)=>{a(d=>{var p=Math.round(c),m=Math.round(u);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),o=R.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return R.createElement(R.Fragment,null,R.createElement(Hm,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",zc({ref:o},e)))}),Cje=R.forwardRef((e,t)=>{var{width:r,height:n}=e;return R.createElement(R.Fragment,null,R.createElement(Hm,{width:r,height:n}),R.createElement("div",zc({ref:t},e)))}),Nje=R.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?R.createElement(Aje,zc({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?R.createElement(Cje,zc({},e,{width:r,height:n,ref:t})):R.createElement(R.Fragment,null,R.createElement(Hm,{width:r,height:n}),R.createElement("div",zc({ref:t},e)))});function kje(e){return e?Sje:Nje}var Ije=R.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:p,onMouseUp:m,onTouchEnd:y,onTouchMove:_,onTouchStart:b,style:E,width:A,responsive:L,dispatchTouchEvents:I=!0}=e,O=R.useRef(null),D=Hr(),[M,N]=R.useState(null),[k,P]=R.useState(null),U=xje(),B=AN(),F=B?.width>0?B.width:A,H=B?.height>0?B.height:i,fe=R.useCallback(le=>{U(le),typeof t=="function"&&t(le),N(le),P(le),le!=null&&(O.current=le)},[U,t,N,P]),pe=R.useCallback(le=>{D(mK(le)),D(ms({handler:a,reactEvent:le}))},[D,a]),re=R.useCallback(le=>{D(b2(le)),D(ms({handler:u,reactEvent:le}))},[D,u]),ue=R.useCallback(le=>{D(JG()),D(ms({handler:d,reactEvent:le}))},[D,d]),ce=R.useCallback(le=>{D(b2(le)),D(ms({handler:p,reactEvent:le}))},[D,p]),ie=R.useCallback(()=>{D(bK())},[D]),xe=R.useCallback(le=>{D(_K(le.key))},[D]),J=R.useCallback(le=>{D(ms({handler:s,reactEvent:le}))},[D,s]),V=R.useCallback(le=>{D(ms({handler:o,reactEvent:le}))},[D,o]),ee=R.useCallback(le=>{D(ms({handler:c,reactEvent:le}))},[D,c]),X=R.useCallback(le=>{D(ms({handler:m,reactEvent:le}))},[D,m]),q=R.useCallback(le=>{D(ms({handler:b,reactEvent:le}))},[D,b]),he=R.useCallback(le=>{I&&D(EK(le)),D(ms({handler:_,reactEvent:le}))},[D,I,_]),ye=R.useCallback(le=>{D(ms({handler:y,reactEvent:le}))},[D,y]),ke=kje(L);return R.createElement(vq.Provider,{value:M},R.createElement(A7.Provider,{value:k},R.createElement(ke,{width:F??E?.width,height:H??E?.height,className:dr("recharts-wrapper",n),style:_je({position:"relative",cursor:"default",width:F,height:H},E),onClick:pe,onContextMenu:J,onDoubleClick:V,onFocus:ie,onKeyDown:xe,onMouseDown:ee,onMouseEnter:re,onMouseLeave:ue,onMouseMove:ce,onMouseUp:X,onTouchEnd:ye,onTouchMove:he,onTouchStart:q,ref:fe},R.createElement(Tje,null),r)))}),Pje=["width","height","responsive","children","className","style","compact","title","desc"];function Rje(e,t){if(e==null)return{};var r,n,i=Oje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NK=R.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=e,p=Rje(e,Pje),m=ka(p);return c?R.createElement(R.Fragment,null,R.createElement(Hm,{width:r,height:n}),R.createElement(_8,{otherAttributes:m,title:u,desc:d},a)):R.createElement(Ije,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},R.createElement(_8,{otherAttributes:m,title:u,desc:d,ref:t},R.createElement(q6e,null,a)))});function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w2.apply(null,arguments)}var Mje={top:5,right:5,bottom:5,left:5},Dje={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Mje,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},kK=R.forwardRef(function(t,r){var n,i=Hn(t.categoricalChartProps,Dje),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return R.createElement(SK,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},R.createElement(Wq,{chartData:u.data}),R.createElement(AK,{layout:i.layout,margin:i.margin}),R.createElement(CK,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(NK,w2({},i,{ref:r})))}),Lje=["axis","item"],sS=R.forwardRef((e,t)=>R.createElement(kK,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Lje,tooltipPayloadSearcher:Vk,categoricalChartProps:e,ref:t}));function Fje(e){var t=Hr();return R.useEffect(()=>{t(sje(e))},[t,e]),null}var jje=["layout"];function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E2.apply(null,arguments)}function Uje(e,t){if(e==null)return{};var r,n,i=Bje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vje={top:5,right:5,bottom:5,left:5},IK={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vje,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zje=R.forwardRef(function(t,r){var n,i=Hn(t.categoricalChartProps,IK),{layout:a}=i,s=Uje(i,jje),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,p={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return R.createElement(SK,{preloadedState:{options:p},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},R.createElement(Wq,{chartData:i.data}),R.createElement(AK,{layout:a,margin:i.margin}),R.createElement(CK,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(Fje,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),R.createElement(NK,E2({},s,{ref:r})))});function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){$je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $je(e,t,r){return(t=Hje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hje(e){var t=Gje(e,"string");return typeof t=="symbol"?t:t+""}function Gje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qje=["item"],Kje=E8(E8({},IK),{},{layout:"centric",startAngle:0,endAngle:360}),Wje=R.forwardRef((e,t)=>{var r=Hn(e,Kje);return R.createElement(zje,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:qje,tooltipPayloadSearcher:Vk,categoricalChartProps:r,ref:t})}),Yje=["axis"],Jje=R.forwardRef((e,t)=>R.createElement(kK,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yje,tooltipPayloadSearcher:Vk,categoricalChartProps:e,ref:t}));const T8=["#0061A4","#006A60","#6B5778","#BA1A1A","#535F70","#56605B","#49454F","#000000"],hy=({title:e,value:t,icon:r,trend:n,color:i})=>g.jsxs("div",{className:"bg-surface p-6 rounded-3xl shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-all group overflow-hidden relative",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${i} opacity-[0.03] -mr-16 -mt-16 rounded-full group-hover:scale-110 transition-transform`}),g.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-on-surface-variant uppercase tracking-[0.15em] mb-1 opacity-60",children:e}),g.jsx("p",{className:"text-2xl font-black text-on-surface tracking-tight",children:t})]}),g.jsx("div",{className:`p-3 rounded-2xl ${i}/10 ${i.replace("bg-","text-")}`,children:g.jsx(r,{size:24})})]}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 relative z-10",children:[g.jsxs("span",{className:`flex items-center text-xs font-black px-2 py-0.5 rounded-full ${n>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n>=0?g.jsx(LY,{size:12}):g.jsx(NY,{size:12}),Math.abs(n),"%"]}),g.jsx("span",{className:"text-[10px] text-on-surface-variant opacity-40 font-bold uppercase tracking-wider",children:"vs ms anterior"})]})]}),Xje=({clients:e,products:t,users:r,onClose:n,searchQuery:i,setSearchQuery:a,filterRegion:s,setFilterRegion:o,filterState:c,setFilterState:u,filterCity:d,setFilterCity:p,filterCategory:m,setFilterCategory:y,filterSalespersonId:_,setFilterSalespersonId:b,filterSalesCategory:E,setFilterSalesCategory:A,filterCnae:L,setFilterCnae:I,filterProductCategory:O,setFilterProductCategory:D,productCategories:M,filterOnlyWithPurchases:N,setFilterOnlyWithPurchases:k,resetFilters:P,startDate:U,setStartDate:B,endDate:F,setEndDate:H,availableStates:fe,availableCities:pe,availableCnaes:re,categories:ue,currentUser:ce,isAdminUser:ie,canViewAllData:xe})=>{const[J]=R.useState(new Date),[V,ee]=R.useState("desc"),X=R.useMemo(()=>{const q={},he={},ye={},ke={},le={};let ge=0,De=0;return e.forEach(K=>{const Ye=(K.purchasedProducts||[]).filter(Je=>{const tt=Je.purchaseDate||"";return!(U&&tt<U||F&&tt>F)}),je=Ye.reduce((Je,tt)=>Je+(tt.totalValue||tt.price*(tt.quantity||1)),0);ge+=je,De+=Ye.length;const Ke=K.region||"Outras";ye[Ke]=(ye[Ke]||0)+je;const Le=r.find(Je=>Je.id===K.salespersonId)?.name||"No Atribudo";le[Le]||(le[Le]={name:Le,revenue:0}),le[Le].revenue+=je,Ye.forEach(Je=>{const tt=Je.totalValue||Je.price*(Je.quantity||1);q[Je.sku]||(q[Je.sku]={name:Je.name,revenue:0,count:0}),q[Je.sku].revenue+=tt,q[Je.sku].count+=Je.quantity||1;const ht=Je.category||"Outros";if(he[ht]=(he[ht]||0)+tt,Je.purchaseDate){const at=Je.purchaseDate.split("T")[0];ke[at]=(ke[at]||0)+tt}})}),{totalRevenue:ge,totalSalesCount:De,totalClients:e.length,totalProducts:t.length,topProductsData:Object.values(q).sort((K,Ye)=>V==="desc"?Ye.count-K.count:K.count-Ye.count).slice(0,5),sellerPerformanceData:Object.values(le).sort((K,Ye)=>Ye.revenue-K.revenue).slice(0,6),categoryDistributionData:(()=>{const K=Object.entries(he).sort(([,Ke],[,Ve])=>Ve-Ke);if(K.length<=8)return K.map(([Ke,Ve])=>({name:Ke,value:Ve}));const Ye=K.slice(0,7),je=K.slice(7).reduce((Ke,[,Ve])=>Ke+Ve,0);return[...Ye.map(([Ke,Ve])=>({name:Ke,value:Ve})),{name:"Outros",value:je}]})(),regionalSalesData:Object.entries(ye).map(([K,Ye])=>({name:K,value:Ye})),salesTrendData:Object.entries(ke).map(([K,Ye])=>({date:K,value:Ye})).sort((K,Ye)=>K.date.localeCompare(Ye.date))}},[e,t,V,r,U,F]);return g.jsxs("div",{className:"flex flex-col h-full bg-background overflow-hidden animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex flex-col border-b border-outline-variant bg-surface/80 backdrop-blur-md sticky top-0 z-20 shadow-sm",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between px-8 py-4 gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-primary/10 text-primary rounded-2xl shadow-inner",children:g.jsx(LO,{size:24})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-xl font-black text-on-surface tracking-tight flex items-center gap-2",children:["Dashboard Pro",g.jsx("span",{className:"hidden sm:inline-block text-[9px] bg-primary text-on-primary px-2 py-0.5 rounded-full font-bold uppercase tracking-[0.1em] shadow-sm",children:"Inteligncia"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-on-surface-variant/50 text-[10px] font-medium",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(HJ,{size:10,className:"animate-spin-slow"})," Live Update"]}),g.jsx("span",{children:""}),g.jsx("span",{children:J.toLocaleTimeString()})]})]})]}),g.jsxs("div",{className:"flex items-center flex-1 max-w-4xl gap-3",children:[g.jsxs("div",{className:"relative group flex-1",children:[g.jsx(yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant group-focus-within:text-primary transition-colors"}),g.jsx("input",{type:"text",value:i,onChange:q=>a(q.target.value),placeholder:"Buscar cliente ou empresa...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-low border border-outline-variant/30 rounded-xl text-xs outline-none focus:ring-2 focus:ring-primary/10 focus:border-primary transition-all shadow-sm"})]}),g.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border transition-all ${U||F?"bg-primary/5 border-primary/20":"bg-surface-container-low border-outline-variant/30"}`,children:[g.jsx(Dp,{className:"w-3.5 h-3.5 text-primary"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("input",{type:"date",value:U,onChange:q=>B(q.target.value),className:"text-[10px] bg-transparent border-none outline-none text-on-surface font-bold w-24",title:"Data Inicial"}),g.jsx("span",{className:"text-outline-variant/30",children:"-"}),g.jsx("input",{type:"date",value:F,onChange:q=>H(q.target.value),className:"text-[10px] bg-transparent border-none outline-none text-on-surface font-bold w-24",title:"Data Final"})]})]})]}),g.jsx("button",{onClick:n,className:"p-2.5 hover:bg-surface-container-highest rounded-2xl transition-all active:scale-95 group border border-transparent hover:border-outline-variant shadow-sm",title:"Fechar Dashboard",children:g.jsx(Na,{className:"w-5 h-5 text-on-surface-variant group-hover:text-primary"})})]}),g.jsxs("div",{className:"px-8 pb-4 flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 bg-secondary-container/20 px-2.5 py-1 rounded-lg border border-secondary-container/30 mr-2",children:[g.jsx(T2,{className:"w-3 h-3 text-secondary"}),g.jsx("span",{className:"text-[10px] font-bold text-secondary uppercase tracking-tight",children:"Refinar"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl border transition-all ${xe?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("div",{className:"relative",children:[g.jsx($i,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 pointer-events-none ${xe?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:xe?_:ce?.id||"",onChange:q=>xe&&b(q.target.value),disabled:!xe,className:`text-xs rounded-lg pl-7 pr-2 py-1 font-bold appearance-none bg-transparent outline-none ${xe?"text-purple-900 cursor-pointer":"text-gray-600 cursor-not-allowed"}`,title:"Filtrar por Vendedor",children:[xe&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),xe?r.filter(q=>q.role==="salesperson"||q.role==="sales_external"||q.role==="sales_internal").map(q=>g.jsx("option",{value:q.id,children:q.name},q.id)):g.jsx("option",{value:ce?.id,children:ce?.name})]})]}),xe&&g.jsxs("div",{className:"border-l border-purple-200 pl-2 ml-1 relative",children:[g.jsx(qa,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:E,onChange:q=>A(q.target.value),className:"text-[11px] bg-transparent text-purple-900 rounded-lg pl-6 pr-1 py-1 font-bold outline-none appearance-none cursor-pointer",title:"Filtrar por Equipe",children:[g.jsx("option",{value:"Todos",children:"Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"M.Livre"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:[g.jsxs("select",{value:s,onChange:q=>{o(q.target.value),u("Todos"),p("Todas")},className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer border-r border-outline-variant/30",title:"Filtrar por Regio",children:[g.jsx("option",{value:"Todas",children:"Regies"}),rh.map(q=>g.jsx("option",{value:q,children:q},q))]}),g.jsxs("select",{value:c,onChange:q=>{u(q.target.value),p("Todas")},className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer border-r border-outline-variant/30",disabled:fe.length===0,title:"Filtrar por Estado",children:[g.jsx("option",{value:"Todos",children:"UF"}),fe.map(q=>g.jsx("option",{value:q,children:q},q))]}),g.jsxs("select",{value:d,onChange:q=>p(q.target.value),className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer min-w-[80px]",disabled:c==="Todos"||pe.length===0,title:"Filtrar por Cidade",children:[g.jsx("option",{value:"Todas",children:"Cidades"}),pe.map(q=>g.jsx("option",{value:q,children:q},q))]})]}),g.jsx("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:g.jsxs("div",{className:"relative",children:[g.jsx(qa,{className:"w-3.5 h-3.5 text-on-surface-variant/50 absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none"}),g.jsxs("select",{value:L,onChange:q=>I(q.target.value),className:"text-xs bg-transparent pl-7 pr-3 py-1 font-bold outline-none cursor-pointer max-w-[120px]",title:"Filtrar por CNAE",children:[g.jsx("option",{value:"Todos",children:"CNAEs"}),re.map(q=>g.jsx("option",{value:q,children:q.length>20?q.substring(0,20)+"...":q},q))]})]})}),g.jsx("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:g.jsxs("div",{className:"relative",children:[g.jsx(Qs,{className:"w-3.5 h-3.5 text-on-surface-variant/50 absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none"}),g.jsxs("select",{value:O,onChange:q=>D(q.target.value),className:"text-xs bg-transparent pl-7 pr-3 py-1 font-bold outline-none cursor-pointer max-w-[180px]",title:"Filtrar por Marcas / Categorias de Produtos",children:[g.jsx("option",{value:"Todos",children:"Todas Marcas / Cat."}),M.map(q=>g.jsx("option",{value:q,children:q},q))]})]})}),g.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[g.jsxs("button",{onClick:()=>k?.(!N),className:`text-[10px] font-black px-4 py-2 rounded-full transition-all flex items-center gap-1.5 shadow-sm active:scale-95 ${N?"bg-green-600 text-white ring-2 ring-green-200":"bg-surface-container-low border border-outline-variant text-on-surface hover:bg-surface-container-high"}`,title:"Mostrar apenas clientes com histrico de compras",children:[g.jsx(xs,{className:`w-3 h-3 ${N?"text-white":"text-green-600"}`}),"SOMENTE COM COMPRAS"]}),g.jsx("button",{onClick:()=>P?.(),className:"text-[10px] font-black px-4 py-2 rounded-full bg-white border border-outline-variant text-on-surface hover:bg-surface-container-high transition-all shadow-sm active:scale-95 flex items-center gap-1.5",title:"Limpar todos os filtros",children:"MOSTRAR TODOS"})]})]})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 bg-surface-container-lowest/30 custom-scrollbar",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(hy,{title:"Faturamento Total",value:`R$ ${X.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:R8,trend:12.5,color:"bg-primary"}),g.jsx(hy,{title:"Carteira Filtrada",value:X.totalClients,icon:Hy,trend:5.2,color:"bg-secondary"}),g.jsx(hy,{title:"Mix de Produtos",value:X.totalProducts,icon:Qs,trend:-2.4,color:"bg-tertiary"}),g.jsx(hy,{title:"Vendas Registradas",value:X.totalSalesCount,icon:LO,trend:8.1,color:"bg-primary"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsx("div",{className:"flex justify-between items-center mb-8",children:g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-black text-on-surface flex items-center gap-2 uppercase tracking-tighter",children:[g.jsx(U8,{className:"text-primary"}),"Comportamento de Vendas"]}),g.jsx("p",{className:"text-sm text-on-surface-variant opacity-60",children:"Volume de receita por perodo"})]})}),g.jsx("div",{className:"h-80 w-full",children:g.jsx(z0,{width:"100%",height:"100%",children:g.jsxs(Jje,{data:X.salesTrendData,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#0061A4",stopOpacity:.1}),g.jsx("stop",{offset:"95%",stopColor:"#0061A4",stopOpacity:0})]})}),g.jsx(zy,{strokeDasharray:"3 3",vertical:!1,stroke:"#F0F0F0"}),g.jsx(pp,{dataKey:"date",stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1}),g.jsx(mp,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(X0,{contentStyle:{backgroundColor:"#fff",borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:q=>[`R$ ${q.toLocaleString("pt-BR")}`,"Venda"]}),g.jsx(cK,{type:"monotone",dataKey:"value",stroke:"#0061A4",strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsx("h3",{className:"text-xl font-black text-on-surface mb-8 uppercase tracking-tighter",children:"Mix por Categoria"}),g.jsxs("div",{className:"h-80 w-full relative",children:[g.jsx(z0,{width:"100%",height:"100%",children:g.jsxs(Wje,{children:[g.jsx(Gq,{data:X.categoryDistributionData,innerRadius:70,outerRadius:95,paddingAngle:4,dataKey:"value",stroke:"none",animationDuration:1200,children:X.categoryDistributionData.map((q,he)=>g.jsx(sg,{fill:T8[he%T8.length]},`cell-${he}`))}),g.jsx(X0,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none"},formatter:q=>[`R$ ${q.toLocaleString("pt-BR")}`,"Total"]}),g.jsx(aH,{verticalAlign:"bottom",layout:"horizontal",align:"center",iconType:"circle",wrapperStyle:{paddingTop:"20px",fontSize:"10px",height:"auto"}})]})}),g.jsxs("div",{className:"absolute inset-x-0 top-[35%] flex flex-col items-center justify-center pointer-events-none",children:[g.jsx("span",{className:"text-[10px] text-on-surface-variant uppercase font-bold tracking-widest opacity-40",children:"Liderana"}),g.jsx("span",{className:"text-sm font-black text-primary px-4 text-center line-clamp-2 leading-tight",children:X.categoryDistributionData[0]?.name||"..."})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-secondary/10 rounded-xl text-secondary",children:g.jsx(Qs,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:V==="desc"?"Produtos Mais Vendidos":"Produtos Menos Vendidos"}),g.jsxs("div",{className:"flex gap-1 ml-auto bg-surface-container-high p-1 rounded-lg",children:[g.jsx("button",{onClick:()=>ee("desc"),className:`text-[10px] font-bold px-2 py-1 rounded-md transition-all ${V==="desc"?"bg-primary text-on-primary shadow-sm":"text-on-surface-variant hover:bg-surface-container-highest"}`,children:"TOP"}),g.jsx("button",{onClick:()=>ee("asc"),className:`text-[10px] font-bold px-2 py-1 rounded-md transition-all ${V==="asc"?"bg-tertiary text-on-tertiary shadow-sm":"text-on-surface-variant hover:bg-surface-container-highest"}`,children:"BOTTOM"})]})]}),g.jsx("div",{className:"h-80",children:g.jsx(z0,{width:"100%",height:"100%",children:g.jsxs(sS,{data:X.topProductsData,layout:"vertical",margin:{left:20},children:[g.jsx(zy,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"#F0F0F0"}),g.jsx(pp,{type:"number",hide:!0}),g.jsx(mp,{dataKey:"name",type:"category",stroke:"#8E9199",fontSize:10,width:120,axisLine:!1,tickLine:!1}),g.jsx(X0,{cursor:{fill:"rgba(0,0,0,0.03)"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:q=>[q,"Qtd Vendida"]}),g.jsx($y,{dataKey:"count",fill:V==="desc"?"#535F70":"#BA1A1A",radius:[0,8,8,0],barSize:24,animationDuration:1e3})]})})})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:g.jsx(Lp,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:"Desempenho Regional"})]}),g.jsx("div",{className:"h-80",children:g.jsx(z0,{width:"100%",height:"100%",children:g.jsxs(sS,{data:X.regionalSalesData,children:[g.jsx(zy,{strokeDasharray:"3 3",vertical:!1,stroke:"#F0F0F0"}),g.jsx(pp,{dataKey:"name",stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1}),g.jsx(mp,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(X0,{contentStyle:{borderRadius:"12px"}}),g.jsx($y,{dataKey:"value",fill:"#6B5778",radius:[8,8,0,0],barSize:40,animationDuration:1500})]})})})]})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:g.jsx(qa,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:"Equipe de Vendas (Ranking PRO)"})]}),g.jsx("div",{className:"h-80",children:g.jsx(z0,{width:"100%",height:"100%",children:g.jsxs(sS,{data:X.sellerPerformanceData,margin:{bottom:20},children:[g.jsx(pp,{dataKey:"name",stroke:"#8E9199",fontSize:10,angle:-45,textAnchor:"end",height:80,interval:0,axisLine:!1,tickLine:!1}),g.jsx(mp,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(X0,{contentStyle:{borderRadius:"16px"}}),g.jsx($y,{dataKey:"revenue",fill:"#D7E3F7",radius:[12,12,0,0],activeBar:{fill:"#0061A4"},animationDuration:2e3})]})})})]})]})]})},Zje=[{id:"admin",name:"Admin DEV",username:"admin",email:"admin@vendas.ai",role:"admin_dev",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"sales_external",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"sales_internal",password:"123",salesCategory:"Interno",color:"#3B82F6"}],PK=()=>{const[e,t]=R.useState([]),[r,n]=R.useState(null);return{users:e,setUsers:t,currentUser:r,login:u=>{n(u)},logout:()=>{n(null)},addUser:u=>{t([...e,u])},updateUser:u=>{t(e.map(d=>d.id===u.id?u:d))},deleteUser:u=>{t(e.filter(d=>d.id!==u))}}},N1=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_USERS:Zje,useAuth:PK},Symbol.toStringTag,{value:"Module"})),oS=()=>{try{const e=localStorage.getItem("vendas_ai_clients");if(e)return JSON.parse(e).map(r=>({...r,category:Array.isArray(r.category)?r.category:typeof r.category=="string"?[r.category]:["Outros"],region:Up(r.state)}))}catch(e){console.error("Failed to load clients",e)}return[]},S8=()=>{try{const e=localStorage.getItem("vendas_ai_products");return e?JSON.parse(e):[]}catch{return[]}},A8=()=>{try{const e=localStorage.getItem("vendas_ai_categories");return e?JSON.parse(e):jp.filter(t=>t!=="Todos")}catch{return jp.filter(t=>t!=="Todos")}},C8=()=>{try{const e=localStorage.getItem("vendas_ai_files");return e?JSON.parse(e):[]}catch{return[]}},Qje=(e,t)=>{const[r,n]=R.useState([]),[i,a]=R.useState(S8),[s,o]=R.useState(A8),[c,u]=R.useState(C8),[d,p]=R.useState(!1),[m,y]=R.useState(!1),[_,b]=R.useState(0),[E,A]=R.useState("Iniciando sistema...");return R.useEffect(()=>{(async()=>{A("Conectando ao Firebase..."),b(10);const I=await rN();if(p(I),b(25),I){A("Buscando dados na nuvem..."),b(40);try{const D=await Gwe();if(b(60),D&&(D.clients?.length>0||D.products?.length>0||D.users?.length>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),D.clients&&n(D.clients),D.products&&a(D.products),D.categories&&o(D.categories),D.users&&t&&t(Q0(D.users)),D.uploadedFiles&&u(D.uploadedFiles),A("Finalizando sincronizao..."),b(100),setTimeout(()=>y(!0),500);return}else{console.log("Cloud is empty. Checking localStorage for migration...");const M=localStorage.getItem("vendas_ai_users");let N=M?JSON.parse(M):null;if(!N||N.length===0){const{INITIAL_USERS:k}=await kx(async()=>{const{INITIAL_USERS:P}=await Promise.resolve().then(()=>N1);return{INITIAL_USERS:P}},void 0);N=k}N=Q0(N),t&&t(N),n(oS()),console.log("Saving initial data to cloud (background attempt)..."),mA(oS(),S8(),A8(),N,C8()).catch(k=>console.warn("Initial cloud save failed (expected in some offline cases), will retry later",k)),A("Configurao concluda!"),b(100),setTimeout(()=>y(!0),500);return}}catch(D){console.error("Cloud load error, falling back to local:",D)}}console.log("Loading data from LocalStorage..."),n(oS());const O=localStorage.getItem("vendas_ai_users");if(O&&t)t(Q0(JSON.parse(O)));else if(t){const{INITIAL_USERS:D}=await kx(async()=>{const{INITIAL_USERS:M}=await Promise.resolve().then(()=>N1);return{INITIAL_USERS:M}},void 0);t(Q0(D))}A("Carregado localmente"),b(100),setTimeout(()=>y(!0),500)})()},[]),R.useEffect(()=>{if(d&&m&&(r.length>0||e.length>0||c.length>0)){const L=setTimeout(()=>{mA(r,i,s,e,c).catch(I=>console.error("Auto-save failed",I))},2e3);return()=>clearTimeout(L)}},[r,i,s,e,c,d,m]),R.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(r))},[r]),R.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(s))},[s]),R.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(i))},[i]),R.useEffect(()=>{localStorage.setItem("vendas_ai_files",JSON.stringify(c))},[c]),R.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(e))},[e]),{masterClientList:r,setMasterClientList:n,products:i,setProducts:a,categories:s,setCategories:o,uploadedFiles:c,setUploadedFiles:u,isFirebaseConnected:d,isDataLoaded:m,loadingProgress:_,loadingMessage:E}},e8e=(e,t,r,n)=>{const[i,a]=R.useState(""),[s,o]=R.useState("Todas"),[c,u]=R.useState("Todos"),[d,p]=R.useState("Todas"),[m,y]=R.useState("Todos"),[_,b]=R.useState("Todos"),[E,A]=R.useState("Todos"),[L,I]=R.useState("Todos"),[O,D]=R.useState(!1),[M,N]=R.useState(""),[k,P]=R.useState(""),[U,B]=R.useState("Todos"),[F,H]=R.useState("Todos"),[fe,pe]=R.useState(""),[re,ue]=R.useState(!1),ce=R.useMemo(()=>{if(!r)return[];let q=[];return pS(r.role)?_!=="Todos"?q=e.filter(he=>he.salespersonId===_):q=e:q=e.filter(he=>he.salespersonId===r.id),q},[r,e,_]),ie=R.useMemo(()=>ce.filter(q=>{const he=s==="Todas"||q.region===s,ye=c==="Todos"||q.state===c,ke=d==="Todas"||q.city===d,le=m==="Todos"||Array.isArray(q.category)&&q.category.includes(m);let ge=!0;if(r&&pS(r.role)&&E!=="Todos"){const Le=t.find(Je=>Je.id===q.salespersonId);(!Le||Le.salesCategory!==E)&&(ge=!1)}const De=(i||"").toLowerCase(),K=i===""||(q.companyName||"").toLowerCase().includes(De)||q.ownerName&&(q.ownerName||"").toLowerCase().includes(De);let Ye=!0;const je=(fe||"").toLowerCase(),Ke=L==="Todos"||q.mainCnae&&q.mainCnae.includes(L)||q.secondaryCnaes&&q.secondaryCnaes.some(Le=>Le.includes(L));if(U!=="Todos"||F!=="Todos"||je!=="")if(!q.purchasedProducts||q.purchasedProducts.length===0)Ye=!1;else{const Le=U==="Todos"||q.purchasedProducts.some(at=>(at.category||"")===U),Je=F==="Todos"||q.purchasedProducts.some(at=>(at.sku||"")===F),tt=je===""||q.purchasedProducts.some(at=>(at.name||"").toLowerCase().includes(je)||(at.sku||"").toLowerCase().includes(je)||(at.brand||"").toLowerCase().includes(je)||(at.category||"").toLowerCase().includes(je)||(at.factoryCode||"").toLowerCase().includes(je)||(at.price||0).toString().includes(je)),ht=!M||!k||q.purchasedProducts.some(at=>{if(!at.purchaseDate)return!1;const At=new Date(at.purchaseDate),Br=new Date(M),wt=new Date(k);return Br.setHours(0,0,0,0),wt.setHours(23,59,59,999),At>=Br&&At<=wt});Ye=Le&&Je&&tt&&ht}const Ve=!O||q.purchasedProducts&&q.purchasedProducts.length>0;return he&&ye&&ke&&le&&K&&Ye&&ge&&Ve&&Ke}),[ce,s,c,d,m,L,i,U,F,fe,E,O,t,r,M,k]),xe=R.useMemo(()=>{let q=ce;s!=="Todas"&&(q=q.filter(ye=>ye.region===s));const he=new Set(q.map(ye=>ye.state).filter(Boolean));return Array.from(he).sort()},[ce,s]),J=R.useMemo(()=>{let q=ce;if(s!=="Todas"&&(q=q.filter(ye=>ye.region===s)),c!=="Todos")q=q.filter(ye=>ye.state===c);else return[];const he=new Set(q.map(ye=>ye.city).filter(Boolean));return Array.from(he).sort()},[ce,s,c]),V=R.useMemo(()=>{const q=new Set(n.map(he=>he.category));return Array.from(q).sort()},[n]),ee=R.useMemo(()=>{const q=new Set;return ce.forEach(he=>{he.mainCnae&&q.add(he.mainCnae),he.secondaryCnaes&&he.secondaryCnaes.forEach(ye=>q.add(ye))}),Array.from(q).sort()},[ce]);return{searchQuery:i,setSearchQuery:a,filterRegion:s,setFilterRegion:o,filterState:c,setFilterState:u,filterCity:d,setFilterCity:p,filterCategory:m,setFilterCategory:y,filterSalespersonId:_,setFilterSalespersonId:b,filterSalesCategory:E,setFilterSalesCategory:A,filterCnae:L,setFilterCnae:I,filterProductCategory:U,setFilterProductCategory:B,filterProductSku:F,setFilterProductSku:H,searchProductQuery:fe,setSearchProductQuery:pe,showProductSuggestions:re,setShowProductSuggestions:ue,filterOnlyWithPurchases:O,setFilterOnlyWithPurchases:D,startDate:M,setStartDate:N,endDate:k,setEndDate:P,filteredClients:ie,visibleClients:ce,availableStates:xe,availableCities:J,availableCnaes:ee,productCategories:V,resetFilters:()=>{a(""),o("Todas"),u("Todos"),p("Todas"),b("Todos"),A("Todos"),I("Todos"),B("Todos"),H("Todos"),pe(""),D(!1),N(""),P("")}}},t8e=({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,type:a="info",confirmLabel:s="Confirmar",cancelLabel:o="Cancelar",icon:c})=>{if(!e)return null;const u=()=>{if(c)return g.jsx(c,{className:"w-8 h-8"});switch(a){case"success":return g.jsx(P8,{className:"w-8 h-8 text-green-600"});case"error":return g.jsx(qi,{className:"w-8 h-8 text-red-600"});case"warning":return g.jsx(qi,{className:"w-8 h-8 text-amber-600"});case"confirm":return g.jsx(XY,{className:"w-8 h-8 text-blue-600"});default:return g.jsx(D8,{className:"w-8 h-8 text-blue-600"})}},p=(()=>{switch(a){case"success":return{bg:"bg-green-50",border:"border-green-100",text:"text-green-800"};case"error":return{bg:"bg-red-50",border:"border-red-100",text:"text-red-800"};case"warning":return{bg:"bg-amber-50",border:"border-amber-100",text:"text-amber-800"};case"confirm":return{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800"};default:return{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800"}}})(),m=()=>Array.isArray(i)?g.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:i.map((y,_)=>g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),y]},_))}):g.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i});return g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsx("div",{className:"bg-blue-600 h-2 w-full"}),g.jsxs("div",{className:"p-8",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:`w-16 h-16 ${p.bg} rounded-2xl flex items-center justify-center ring-4 ring-white shadow-sm`,children:u()})}),g.jsx("div",{className:"text-center mb-6",children:g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:n})}),g.jsx("div",{className:`${p.bg} ${p.border} border rounded-2xl p-5 mb-8`,children:m()}),g.jsxs("div",{className:"flex gap-3",children:[(r||a==="confirm")&&g.jsx("button",{onClick:t,className:"flex-1 py-3.5 px-4 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-all active:scale-95",children:o}),g.jsx("button",{onClick:()=>{r&&r(),t()},className:`flex-1 py-3.5 px-4 rounded-xl text-sm font-bold text-white transition-all shadow-md active:scale-95 flex items-center justify-center gap-2
                                ${a==="error"?"bg-red-600 hover:bg-red-700":a==="success"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:s})]})]})]})})},r8e=({clients:e,users:t,startDate:r,endDate:n,onRangeChange:i})=>{const a=R.useMemo(()=>{const u=[];return e.forEach(d=>{d.purchasedProducts&&d.purchasedProducts.forEach(p=>{const m=p.purchaseDate;r&&m<r||n&&m>n||u.push({...p,clientName:d.companyName,clientId:d.id})})}),u.sort((d,p)=>(p.purchaseDate||"").localeCompare(d.purchaseDate||""))},[e,r,n]),s=R.useMemo(()=>{const u=a.reduce((m,y)=>m+(y.totalValue||y.price*(y.quantity||1)),0),d=new Set(a.map(m=>m.clientId)).size,p=a.reduce((m,y)=>m+(y.quantity||1),0);return{totalValue:u,uniqueClients:d,totalItems:p}},[a]),o=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),c=u=>{try{return u.split("-").reverse().join("/")}catch{return u}};return g.jsxs("div",{className:"flex flex-col h-full bg-gray-50 p-4 overflow-hidden",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(U8,{className:"text-primary w-6 h-6"}),"Histrico Mgico de Vendas"]}),g.jsx("p",{className:"text-sm text-gray-500",children:"Analise compras por anos, meses, semanas e dias"})]}),g.jsxs("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-gray-100 flex items-center gap-3",children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase ml-2",children:"Filtrar Perodo:"}),g.jsx(w7,{startDate:r,endDate:n,onRangeChange:i})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-full flex items-center justify-center text-green-600",children:g.jsx(R8,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Volume Total"}),g.jsx("p",{className:"text-xl font-bold text-gray-800",children:o(s.totalValue)})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600",children:g.jsx(xs,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total de Itens"}),g.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[s.totalItems," un."]})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-full flex items-center justify-center text-purple-600",children:g.jsx($i,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Clientes Atendidos"}),g.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[s.uniqueClients," empresas"]})]})]})]}),g.jsx("div",{className:"flex-1 bg-white rounded-2xl shadow-sm border border-gray-100 flex flex-col overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Data"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Cliente"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"SKU / Produto"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Qtd"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase text-right",children:"Valor Total"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-50",children:a.length>0?a.map((u,d)=>g.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Dp,{className:"w-4 h-4 text-gray-300"}),g.jsx("span",{className:"text-sm font-medium text-gray-700",children:c(u.purchaseDate)})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("p",{className:"text-sm font-bold text-gray-800 truncate max-w-[200px]",title:u.clientName,children:u.clientName})}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-xs font-bold text-primary",children:u.sku}),g.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[250px]",title:u.name,children:u.name})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.quantity||1})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx("span",{className:"text-sm font-bold text-gray-900",children:o(u.totalValue||u.price*(u.quantity||1))})})]},d)):g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"py-20 text-center",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(Dp,{className:"w-12 h-12 text-gray-200 mb-2"}),g.jsx("p",{className:"text-gray-400 font-medium",children:"Nenhuma venda encontrada para o perodo"}),g.jsx("p",{className:"text-xs text-gray-400",children:"Tente expandir o filtro de datas"})]})})})})]})})})]})},n8e=()=>{const{users:e,setUsers:t,currentUser:r,login:n,logout:i,addUser:a,updateUser:s,deleteUser:o}=PK(),{masterClientList:c,setMasterClientList:u,products:d,setProducts:p,categories:m,setCategories:y,uploadedFiles:_,setUploadedFiles:b,isFirebaseConnected:E,isDataLoaded:A,loadingProgress:L,loadingMessage:I}=Qje(e,t),{searchQuery:O,setSearchQuery:D,filterRegion:M,setFilterRegion:N,filterState:k,setFilterState:P,filterCity:U,setFilterCity:B,filterCategory:F,setFilterCategory:H,filterSalespersonId:fe,setFilterSalespersonId:pe,filterSalesCategory:re,setFilterSalesCategory:ue,filterCnae:ce,setFilterCnae:ie,filterProductCategory:xe,setFilterProductCategory:J,filterProductSku:V,setFilterProductSku:ee,searchProductQuery:X,setSearchProductQuery:q,showProductSuggestions:he,setShowProductSuggestions:ye,filteredClients:ke,visibleClients:le,availableStates:ge,availableCities:De,availableCnaes:K,productCategories:Ye,filterOnlyWithPurchases:je,setFilterOnlyWithPurchases:Ke,startDate:Ve,setStartDate:Le,endDate:Je,setEndDate:tt,resetFilters:ht}=e8e(c,e,r,d),[at,At]=R.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[Br,wt]=R.useState(()=>{const se="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Gemini API Key Source:","FOUND","(first 10 chars):",se?.substring(0,10)+"..."),se}),[$t,Zt]=R.useState(()=>{const se="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Maps API Key Source:","FOUND","(first 10 chars):",se?.substring(0,10)+"..."),se}),[Ir,Kt]=R.useState(0),[Et,xt]=R.useState("map"),[rr,xr]=R.useState(!1),[Vt,wr]=R.useState(!1),[gi,Vr]=R.useState(!1),[cu,co]=R.useState(void 0),[qo,vi]=R.useState(!1),[Rs,Fr]=R.useState(!1),yi="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw",[In,xi]=R.useState({isOpen:!1,title:"",message:"",type:"info"}),ma=(se,Re,$e="info")=>{xi({isOpen:!0,title:se,message:Re,type:$e,confirmLabel:"Entendi"})},Za=(se,Re,$e,et)=>{xi({isOpen:!0,title:se,message:Re,type:"confirm",onConfirm:$e,confirmLabel:et?.confirm||"Confirmar",cancelLabel:et?.cancel||"Cancelar"})},_n=R.useRef(!1),_i=se=>{at.isActive&&at.status==="processing"?Za("Parar Envio?",["Gostaria de parar de enviar o arquivo?","O progresso atual ser perdido."],()=>{_n.current=!0,xt(se)},{confirm:"Parar Envio",cancel:"Continuar"}):xt(se)},[Bf,Os]=R.useState(""),[Qa,on]=R.useState(!1),Ms=()=>{Za("Remover Clientes Duplicados?",["Esta ao ir identificar clientes com mesmo nome e endereo.","Manteremos apenas 1 registro de cada e atualizaremos a contagem total."],()=>{const se=new Map,Re=[];let $e=0;if(c.forEach(et=>{const mt=`${et.companyName||""}-${et.cleanAddress||""}`.toLowerCase().trim();se.has(mt)?$e++:(se.set(mt,et),Re.push(et))}),$e===0){ma("Sucesso","Nenhum cliente duplicado encontrado!","success");return}u(Re),ma("Limpeza Concluda!",[`${$e} clientes duplicados removidos.`,`Total anterior: ${c.length}`,`Total atual: ${Re.length}`],"success")})},ga=async()=>{if(c.length===0){ma("Aviso","Nenhum cliente na base para atualizar.","warning");return}Za("Iniciar Atualizao em Massa?",["Este processo utilizar sua API CNPJa para:"," Buscar CNPJs faltantes via Razo Social"," Atualizar CNAEs (Atividade Econmica)"," Telefones, Endereos e Georreferenciamento",`Total de clientes: ${c.length}`],async()=>{At({isActive:!0,current:0,total:c.length,status:"processing",fileName:"Enriquecimento de Base (CNPJa Comercial)",ownerName:r?.name||"Sistema"});const se=QB(3);let Re=0,$e=0;const et=c.map((mt,Mt)=>se(async()=>{try{let nt=mt.cnpj?.replace(/\D/g,"");if(!nt||nt.length!==14){const gt=await hve({filtros:mt.companyName,uf:mt.state});gt&&gt.length>0&&(nt=gt[0].taxId)}if(nt&&nt.length===14){const gt=await z1(nt);if(gt){const Tt=gt.logradouro&&gt.numero;u(zt=>zt.map(Nt=>Nt.id===mt.id?{...Nt,cnpj:gt.cnpj,companyName:gt.nome_fantasia||gt.razao_social||Nt.companyName,contact:gt.ddd_telefone_1||Nt.contact,cleanAddress:Tt?`${gt.logradouro}, ${gt.numero}, ${gt.municipio} - ${gt.uf}`:Nt.cleanAddress,originalAddress:Tt?`${gt.logradouro}, ${gt.numero}${gt.complemento?` - ${gt.complemento}`:""}, ${gt.bairro}, ${gt.municipio} - ${gt.uf}`:Nt.originalAddress,mainCnae:gt.cnae_fiscal||Nt.mainCnae,secondaryCnaes:gt.cnaes_secundarios?.map(Ht=>`${Ht.codigo} - ${Ht.texto}`)||Nt.secondaryCnaes||[],lat:gt.latitude||Nt.lat,lng:gt.longitude||Nt.lng,googleMapsUri:gt.latitude?`https://www.google.com/maps?q=${gt.latitude},${gt.longitude}`:Nt.googleMapsUri}:Nt)),Re++}}}catch(nt){console.error(`Erro ao atualizar cliente ${mt.companyName}:`,nt),$e++,nt.message&&(nt.message.includes("401")||nt.message.toLowerCase().includes("chave de api cnpja invlida"))&&(_n.current=!0,At(gt=>({...gt,status:"error",errorMessage:"Autenticao CNPJa falhou. Chave invlida ou expirada."})),Fr(!0))}finally{At(nt=>({...nt,current:Mt+1}))}}));await Promise.all(et),At(mt=>({...mt,status:"completed"})),ma("Atualizao Concluda!",[`Sucesso: ${Re} clientes`,`Erros/No localizados: ${$e+(c.length-Re-$e)}`,"Sua base de dados agora est enriquecida!"],"success"),setTimeout(()=>{At(mt=>({...mt,isActive:!1}))},3e3)})},W=se=>{m.includes(se)||y([...m,se])},ae=se=>{y(m.filter(Re=>Re!==se))},Z=se=>{p(Re=>{const $e=[...Re,...se];return Se(c,$e),$e})},te=se=>{p(se)},ne=()=>{p([]),u(se=>se.map(Re=>({...Re,purchasedProducts:[]})))},oe=()=>{Za("Limpar TODOS os Clientes?",[" ATENO: Esta ao remover TODOS os clientes do sistema."," Limpeza da listagem de arquivos e reset de contadores."," Vendedores, produtos e categorias NO sero afetados."],()=>{u([]),b(se=>se.filter(Re=>Re.type!=="clients")),ma("Sucesso","Base de clientes limpa com sucesso!","success")})},we=async se=>{for(const Re of se){const $e=Re?.trim();if($e)try{const et=await XB($e,$t||"");if(et)return et}catch(et){console.warn(`Geocoding failed for ${$e}:`,et)}}return null},Oe=async()=>{const se=c.filter(Re=>!Re.plusCode&&Re.lat&&Re.lng&&Re.lat!==0);if(se.length===0){ma("Aviso","Todos os clientes com coordenadas j possuem Plus Code!","info");return}Za("Gerar Plus Codes?",[`Deseja gerar Plus Codes para ${se.length} clientes?`,"Isso utilizar a cota da API de Geocoding do Google."],async()=>{At({isActive:!0,current:0,total:se.length,status:"processing",fileName:"Gerao de Plus Codes",ownerName:r?.name||"Sistema"});let Re=0;const $e=[...c];for(let et=0;et<se.length&&!_n.current;et++){const mt=se[et];try{const Mt=await L0(mt.lat,mt.lng,$t||"");if(Mt){const nt=$e.findIndex(gt=>gt.id===mt.id);nt!==-1&&($e[nt]={...$e[nt],plusCode:Mt},Re++)}}catch(Mt){console.error(`Error generating Plus Code for ${mt.companyName}:`,Mt)}At(Mt=>({...Mt,current:et+1}))}u($e),At(et=>({...et,status:"completed",isActive:!0})),_n.current=!1,ma("Sucesso",`Processo concludo! ${Re} Plus Codes gerados.`,"success")})},Ee=async se=>{const Re=c.find(Tt=>Tt.id===se.id);let $e={...se};const et=Re&&Re.cleanAddress!==se.cleanAddress,mt=Re&&Re.plusCode!==se.plusCode,Mt=Re&&(Re.lat!==se.lat||Re.lng!==se.lng),nt=se.lat===0||se.lng===0;if(!(Mt&&!nt)&&(et||mt||nt)){const Tt=[se.cleanAddress,se.district,se.city,se.state,se.zip,se.region,se.country||"Brasil"].filter(Boolean).join(", "),zt=await we([se.plusCode,Tt,se.cleanAddress,se.originalAddress]);if(zt&&($e.lat=zt.lat,$e.lng=zt.lng,zt.formattedAddress&&($e.cleanAddress=zt.formattedAddress),!$e.plusCode)){const Nt=await L0($e.lat,$e.lng,$t||"");Nt&&($e.plusCode=Nt)}}else if(!$e.plusCode&&$e.lat&&$e.lng){const Tt=await L0($e.lat,$e.lng,$t||"");Tt&&($e.plusCode=Tt)}u(Tt=>Tt.map(zt=>zt.id===$e.id?$e:zt))},Ce=async se=>{let Re={...se,id:se.id||crypto.randomUUID(),lat:se.lat||0,lng:se.lng||0};if(!Re.lat||!Re.lng||Re.lat===0){const $e=await we([Re.plusCode,Re.cleanAddress,Re.originalAddress]);if($e){if(Re.lat=$e.lat,Re.lng=$e.lng,$e.formattedAddress&&(Re.cleanAddress=$e.formattedAddress),console.log(`[APP] Geocoding for manual client successful: ${Re.lat}, ${Re.lng}`),!Re.plusCode){const et=await L0(Re.lat,Re.lng,$t||"");et&&(Re.plusCode=et)}}else console.warn(`[APP] Geocoding for manual client FAILED: ${Re.companyName}`)}else if(!Re.plusCode&&Re.lat&&Re.lng){const $e=await L0(Re.lat,Re.lng,$t||"");$e&&(Re.plusCode=$e)}u($e=>[...$e,Re]),setTimeout(()=>{const $e=document.querySelector(".overflow-y-auto");$e&&($e.scrollTop=$e.scrollHeight)},100)},Se=(se,Re)=>{if(Re.length===0)return;const $e=se.map(et=>{if(et.purchasedProducts&&et.purchasedProducts.length>0)return et;let mt=Re.filter(Tt=>(et.category||[]).some(zt=>(Tt.category||"").toLowerCase().includes((zt||"").toLowerCase())||(zt||"").toLowerCase().includes((Tt.category||"").toLowerCase())));mt.length===0&&(mt=Re);const Mt=Math.floor(Math.random()*5)+1,gt=[...mt].sort(()=>.5-Math.random()).slice(0,Mt);return{...et,purchasedProducts:gt.map(Tt=>({...Tt,purchaseDate:new Date().toISOString()}))}});u($e)},qe=async()=>{vi(!0)},We=se=>{se&&se.trim()&&(Zt(se.trim()),localStorage.setItem("google_maps_api_key",se.trim()),Kt(Re=>Re+1),vi(!1))},Qe=se=>{if(n(se),ht(),_i("map"),on(!1),hS(se.role)){const Re=e.find($e=>Md($e.role));Re&&Os(Re.id)}},He=se=>{localStorage.setItem("cnpja_api_key",se),Fr(!1),ma("Sucesso","Chave CNPJa atualizada! Tente realizar a consulta novamente.","success")},Xe=()=>{if(at.isActive&&at.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))_n.current=!0;else return;i(),ht()},lt=async(se,Re,$e=!1)=>{const et=e.find(nt=>nt.id===Re),mt=et?et.name:"Desconhecido";if(c.length>0&&!$e&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const Mt=crypto.randomUUID();At({isActive:!0,total:0,current:0,fileName:se.name,ownerName:mt,status:"reading"}),_n.current=!1;try{let nt=[];const gt=se.name.toLowerCase();if(console.log(`Processing file: ${se.name}, Lower: ${gt}`),gt.endsWith(".csv"))console.log("Selected Parser: CSV"),nt=await Wte(se);else if(gt.endsWith(".xlsx")||gt.endsWith(".xls"))console.log("Selected Parser: Excel"),nt=await Zue(se);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",nt.length),nt.length>0&&console.log("Sample Parsed Item:",nt[0]),nt.length===0)throw new Error("Arquivo vazio.");const Tt={id:Mt,fileName:se.name,uploadDate:new Date().toISOString(),salespersonId:Re,salespersonName:mt,type:"clients",itemCount:nt.length,status:"processing"};try{const Ht=new Date().getTime(),Gn=`uploads/clients/${Re}/${Ht}_${se.name}`,Qt=await bE(se,Gn);Qt&&(Tt.storageUrl=Qt,console.log(`[APP] CSV file uploaded to Storage: ${Qt}`))}catch(Ht){console.error("[APP] Failed to upload file to Storage:",Ht)}b(Ht=>[Tt,...Ht]),At(Ht=>({...Ht,total:nt.length,status:"processing"}));const Nt=(await xve(nt,Re,Br,$t,m,(Ht,Gn)=>{if(_n.current)throw new Error("CANCELLED_BY_USER");At(Qt=>({...Qt,current:Ht,total:Gn}))})).map(Ht=>({...Ht,sourceFileId:Mt}));u(Ht=>{const Gn=[...Ht];return Nt.forEach(Qt=>{const Pn=Qt.cnpj?.replace(/\D/g,""),Qi=Gn.findIndex(Tr=>{const bn=Tr.cnpj?.replace(/\D/g,"");return Pn&&bn&&Pn.length===14&&bn.length===14?Pn===bn:Tr.companyName.toLowerCase().trim()===Qt.companyName.toLowerCase().trim()&&Tr.city.toLowerCase().trim()===Qt.city.toLowerCase().trim()});if(Qi!==-1){const Tr=Gn[Qi];Gn[Qi]={...Tr,...Qt,ownerName:Qt.ownerName||Tr.ownerName,contact:Qt.contact||Tr.contact,whatsapp:Qt.whatsapp||Tr.whatsapp,cnpj:Qt.cnpj||Tr.cnpj,mainCnae:Qt.mainCnae||Tr.mainCnae,secondaryCnaes:Qt.secondaryCnaes&&Qt.secondaryCnaes.length>0?Qt.secondaryCnaes:Tr.secondaryCnaes,lat:Qt.lat!==0?Qt.lat:Tr.lat,lng:Qt.lng!==0?Qt.lng:Tr.lng,googleMapsUri:Qt.googleMapsUri||Tr.googleMapsUri,plusCode:Qt.plusCode||Tr.plusCode}}else Gn.push(Qt)}),Gn}),At(Ht=>({...Ht,status:"completed"})),b(Ht=>Ht.map(Gn=>Gn.id===Mt?{...Gn,status:"completed"}:Gn)),setTimeout(()=>{At(Ht=>Ht.status==="completed"?{...Ht,isActive:!1}:Ht)},5e3)}catch(nt){console.error(nt);const gt=nt.message==="CANCELLED_BY_USER",Tt=gt?"Cancelado pelo usurio.":nt.message||"Erro desconhecido",zt=gt;At(Nt=>({...Nt,status:"error",errorMessage:Tt,isActive:!zt})),b(Nt=>Nt.map(Ht=>Ht.id===Mt?{...Ht,status:"error",errorMessage:Tt}:Ht))}},pr=se=>{const Re=_.find($e=>$e.id===se);Re&&window.confirm(`Tem certeza que deseja excluir o arquivo "${Re.fileName}"?

Isso remover todos os ${Re.itemCount} registros associados.`)&&(Re.type==="clients"?u($e=>$e.filter(et=>et.sourceFileId!==se)):Re.type==="products"&&p($e=>$e.filter(et=>et.sourceFileId!==se)),b($e=>$e.filter(et=>et.id!==se)))},mr=(se,Re)=>{const et=e.find(mt=>mt.id===Re)?.name||"None";b(mt=>mt.map(Mt=>Mt.id===se?{...Mt,salespersonId:Re,salespersonName:et}:Mt)),u(mt=>mt.map(Mt=>Mt.sourceFileId===se?{...Mt,salespersonId:Re}:Mt)),Re?(_i("map"),pe(Re),alert(`Arquivo e ${ke.filter(mt=>mt.sourceFileId===se).length} clientes reatribudos para: ${et}

Mapa filtrado automaticamente.`)):(pe("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},Er=async(se,Re)=>{const $e=crypto.randomUUID();At({isActive:!0,total:0,current:0,fileName:se.name,ownerName:"Sistema",status:"reading"});try{const et=await Yte(se);if(et.length===0)throw new Error("Arquivo vazio ou sem registros vlidos.");const mt=et.reduce((Tt,zt)=>{const Nt=zt.cnpj?zt.cnpj:(zt.companyName||"").toLowerCase().trim();return Tt[Nt]||(Tt[Nt]=[]),Tt[Nt].push(zt),Tt},{}),Mt=Object.keys(mt);At(Tt=>({...Tt,total:Mt.length,status:"processing"}));let nt=0;u(Tt=>{const zt=[...Tt];return Mt.forEach((Nt,Ht)=>{At(Qi=>({...Qi,current:Ht+1}));const Qt=mt[Nt][0];let Pn=-1;if(Qt.cnpj&&(Pn=zt.findIndex(Qi=>(Qi.cnpj||"").replace(/[.\-\/]/g,"")===Qt.cnpj)),Pn===-1){const Qi=(Qt.companyName||"").toLowerCase().trim();Pn=zt.findIndex(Tr=>(Tr.companyName||"").toLowerCase().trim()===Qi)}if(Pn!==-1){nt++;const Tr=mt[Nt].map(ln=>{const Ds=d.find(uo=>ln.sku&&uo.sku===ln.sku||uo.name&&ln.name&&(uo.name||"").toLowerCase().trim()===(ln.name||"").toLowerCase().trim());return Ds?{...Ds,purchaseDate:ln.purchaseDate,quantity:ln.quantity,totalValue:ln.totalValue}:{sku:ln.sku||"N/A",name:ln.name||"Produto Desconhecido",brand:"Desconhecido",category:"Manual",price:ln.price||0,factoryCode:"",purchaseDate:ln.purchaseDate,quantity:ln.quantity,totalValue:ln.totalValue}}),bn=zt[Pn].purchasedProducts||[],uu=Tr.filter(ln=>!bn.some(Ds=>Ds.sku===ln.sku&&Ds.purchaseDate===ln.purchaseDate));uu.length>0&&(zt[Pn]={...zt[Pn],purchasedProducts:[...bn,...uu]})}}),zt});const gt={id:$e,fileName:se.name,uploadDate:new Date().toISOString(),salespersonId:Re,salespersonName:e.find(Tt=>Tt.id===Re)?.name||"Vendedor",type:"purchases",itemCount:et.length,status:"completed"};try{const zt=`uploads/purchases/${new Date().getTime()}_${se.name}`;await bE(se,zt).then(Nt=>{Nt&&(gt.storageUrl=Nt)})}catch(Tt){console.error("[APP] Failed to upload purchase file to Storage:",Tt)}b(Tt=>[gt,...Tt]),At({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(` Atualizao de Compras concluda!

${nt} clientes identificados e com histrico renovado.`)}catch(et){console.error(et),At(mt=>({...mt,status:"error",errorMessage:et.message})),b(mt=>[...mt,{id:$e,fileName:se.name,uploadDate:new Date().toISOString(),salespersonId:Re,salespersonName:e.find(Mt=>Mt.id===Re)?.name||"Vendedor",type:"purchases",itemCount:0,status:"error",errorMessage:et.message}])}},ri=async se=>{const Re=crypto.randomUUID();At({isActive:!0,total:0,current:0,fileName:se.name,ownerName:"Sistema",status:"reading"});try{let $e=[];const et=se.name.toLowerCase();if(et.endsWith(".csv"))$e=await bU(se);else if(et.endsWith(".xlsx")||et.endsWith(".xls"))$e=await nB(se);else throw new Error("Formato no suportado.");if($e.length===0)throw new Error("Arquivo vazio.");$e=$e.map(Mt=>({...Mt,sourceFileId:Re}));const mt={id:Re,fileName:se.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:$e.length,status:"completed"};try{const nt=`uploads/products/${new Date().getTime()}_${se.name}`,gt=await bE(se,nt);gt&&(mt.storageUrl=gt)}catch(Mt){console.error("[APP] Failed to upload product file to Storage:",Mt)}b(Mt=>[mt,...Mt]),Z($e),At({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${$e.length} produtos importados com sucesso.`)}catch($e){console.error($e),At(et=>({...et,status:"error",errorMessage:$e.message})),b(et=>et.map(mt=>mt.id===Re?{...mt,status:"error",errorMessage:$e.message}:mt))}},Zi="6LcyKmUsAAAAAC-uUPRRD2ZMZRJu_dBPUH5Gp4gm";if(console.log("[APP] reCAPTCHA Key Source:","FALLBACK"),console.log("[APP] reCAPTCHA Key (first 10 chars):",Zi.substring(0,10)+"..."),console.log("[APP] Environment:","production"),!r)return g.jsx(v6,{reCaptchaKey:Zi,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:g.jsx(dTe,{users:e,onLogin:Qe})});const gr=hS(r.role),Dt=pS(r.role),Oa=xe!=="Todos"||V!=="Todos"||X!=="";return A?g.jsxs(v6,{reCaptchaKey:Zi,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:[g.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[Qa&&g.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>on(!1),role:"button",tabIndex:0,"aria-label":"Fechar menu",onKeyDown:se=>se.key==="Escape"&&on(!1)}),g.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${Qa?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[g.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[g.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[g.jsx(qw,{className:"w-6 h-6"}),"Rota de Vendas"]}),g.jsx("button",{onClick:()=>on(!1),className:"md:hidden text-on-surface-variant hover:text-primary",title:"Fechar menu lateral",children:g.jsx(Na,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"px-6 py-2",children:g.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:gr?"Painel Administrativo":"Portal do Vendedor"})}),g.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[g.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),g.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),g.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md overflow-hidden ${gr?"bg-tertiary":"bg-secondary"}`,children:r.photoURL?g.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):g.jsx("span",{children:r.name.charAt(0)})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:r.name}),g.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:r.email})]})]})]}),g.jsxs("nav",{className:"space-y-1 mb-8",children:[g.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),g.jsxs("button",{onClick:()=>{xt("map"),on(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Et==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(CJ,{className:`w-5 h-5 ${Et==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),gr&&g.jsxs("button",{onClick:()=>{_i("dashboard"),on(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Et==="dashboard"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(qw,{className:`w-5 h-5 ${Et==="dashboard"?"fill-current":""}`}),"Dashboard Admin"]}),g.jsxs("button",{onClick:()=>{xt("table"),on(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Et==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(eX,{className:`w-5 h-5 ${Et==="table"?"fill-current":""}`}),"Listagem de Dados"]}),g.jsxs("button",{onClick:()=>{xt("history"),on(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Et==="history"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(xs,{className:`w-5 h-5 ${Et==="history"?"fill-current":""}`}),"Histrico de Vendas"]})]}),gr&&g.jsxs("nav",{className:"space-y-1 mb-8",children:[g.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),g.jsxs("button",{onClick:()=>{_i("admin_users"),on(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Et==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(Hy,{className:`w-5 h-5 ${Et==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),g.jsxs("button",{onClick:()=>{_i("admin_categories"),on(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Et==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(L8,{className:`w-5 h-5 ${Et==="admin_categories"?"fill-current":""}`}),"Categorias"]}),g.jsxs("button",{onClick:()=>{_i("admin_products"),on(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Et==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(Qs,{className:`w-5 h-5 ${Et==="admin_products"?"fill-current":""}`}),"Produtos"]}),g.jsxs("button",{onClick:()=>{_i("admin_files"),on(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Et==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(gp,{className:`w-5 h-5 ${Et==="admin_files"?"fill-current":""}`}),"Arquivos"]}),g.jsxs("button",{onClick:()=>{Vr(!0),on(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[g.jsx(lS,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),g.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[g.jsxs("button",{onClick:Xe,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",title:"Encerrar sesso e sair do sistema",children:[g.jsx(wJ,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),g.jsx("div",{className:"text-center mt-4",children:g.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),g.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[g.jsx("button",{onClick:()=>on(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",title:"Abrir menu",children:g.jsx(PJ,{className:"w-6 h-6"})}),g.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[g.jsx(qw,{className:"w-5 h-5"})," Rota de Vendas"]}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!gr&&Et==="table"&&g.jsx("button",{onClick:()=>xr(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",title:"Adicionar Novo Cliente",children:g.jsx(Hy,{className:"w-6 h-6"})}),g.jsx(vTe,{isOpen:gi,onClose:()=>Vr(!1),onSaveToCloud:()=>{mA(c,d,m,e),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:oe,isFirebaseConnected:E}),g.jsx(bTe,{isOpen:qo,onClose:()=>vi(!1),onConfirm:We,suggestedKey:yi}),g.jsx(wTe,{isOpen:Rs,onClose:()=>Fr(!1),onConfirm:He}),g.jsx(yTe,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),g.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[g.jsx("span",{children:"Portal"}),g.jsx(I8,{className:"w-4 h-4"}),g.jsx("span",{className:"font-semibold text-blue-600",children:Et==="map"?"Mapa da Carteira":Et==="table"?"Listagem de Clientes":Et==="dashboard"?"Dashboard Administrativo":Et==="admin_categories"?"Categorias de Clientes":Et==="admin_products"?"Catlogo de Produtos":"Gesto de Usurios"})]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-gray-400",children:gr?"Clientes Visualizados":"Meus Clientes"}),g.jsx("p",{className:"text-lg font-bold leading-none",children:le.length})]}),gr&&g.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[g.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),g.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:c.length})]})]})]}),Et==="admin_users"&&gr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(pTe,{currentUser:r,users:e,onAddUser:a,onUpdateUser:s,onDeleteUser:o,onCleanupDuplicates:Ms,totalClients:c.length})}):Et==="admin_categories"&&gr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(mTe,{categories:m,onAddCategory:W,onDeleteCategory:ae})}):Et==="admin_products"&&gr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(gTe,{products:d,onUploadProducts:Z,onClearProducts:ne,onSaveProducts:te,apiKey:Br})}):Et==="admin_files"&&gr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(xTe,{users:e,uploadedFiles:_,onUploadClients:(se,Re)=>lt(se,Re),onUploadProducts:ri,onUploadPurchases:Er,onDeleteFile:pr,onReassignSalesperson:mr,procState:at})}):Et==="dashboard"&&gr?g.jsx("div",{className:"flex-1 overflow-hidden bg-surface",children:g.jsx(Xje,{clients:ke,products:d,users:e,onClose:()=>xt("map"),searchQuery:O,setSearchQuery:D,filterRegion:M,setFilterRegion:N,filterState:k,setFilterState:P,filterCity:U,setFilterCity:B,filterCategory:F,setFilterCategory:H,filterSalespersonId:fe,setFilterSalespersonId:pe,filterSalesCategory:re,setFilterSalesCategory:ue,filterCnae:ce,setFilterCnae:ie,filterProductCategory:xe,setFilterProductCategory:J,productCategories:Ye,startDate:Ve,setStartDate:Le,endDate:Je,setEndDate:tt,availableStates:ge,availableCities:De,availableCnaes:K,categories:m,currentUser:r,isAdminUser:gr,canViewAllData:Dt})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-gray-100 px-3 py-2.5 border-b border-gray-200 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[g.jsx(T2,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"Filtros:"})]}),g.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${Dt?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${Dt?"text-purple-600":"text-gray-500"}`,title:gr?"Perfil Administrador":Dt?"Perfil Gestor":"Perfil Vendedor",children:[Dt?g.jsx(dS,{className:"w-3 h-3"}):g.jsx($i,{className:"w-3 h-3"}),gr?"Admin":Dt?"Gesto":"Vendedor"]}),g.jsxs("div",{className:"relative",children:[g.jsx($i,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${Dt?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:Dt?fe:r?.id||"",onChange:se=>Dt&&pe(se.target.value),disabled:!Dt,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${Dt?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:Dt?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[Dt&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),Dt?e.filter(se=>se.role==="salesperson"||se.role==="sales_external"||se.role==="sales_internal").map(se=>g.jsx("option",{value:se.id,children:se.name},se.id)):g.jsx("option",{value:r?.id,children:r?.name})]})]}),Dt&&g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(qa,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:re,onChange:se=>ue(se.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[g.jsx("option",{value:"Todos",children:"Todas Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),g.jsxs("select",{value:M,onChange:se=>{N(se.target.value),P("Todos"),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio geogrfica",children:[g.jsx("option",{value:"Todas",children:"Todas Regies"}),rh.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("select",{value:k,onChange:se=>{P(se.target.value),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:ge.length===0,title:"Filtrar por estado (UF)",children:[g.jsxs("option",{value:"Todos",children:["Todos Estados ",M!=="Todas"?`(${M})`:""]}),ge.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("select",{value:U,onChange:se=>B(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5 min-w-[100px]",disabled:k==="Todos"||De.length===0,title:"Filtrar por cidade",children:[g.jsx("option",{value:"Todas",children:"Todas Cidades"}),De.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(xs,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:F,onChange:se=>H(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",title:"Filtrar por categoria de cliente",children:[g.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),m.map(se=>g.jsx("option",{value:se,children:se},se))]})]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(qa,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:ce,onChange:se=>ie(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5 max-w-[200px]",title:"Filtrar por CNAE (Atividade Econmica)",children:[g.jsx("option",{value:"Todos",children:"Todos CNAEs"}),K.map(se=>g.jsx("option",{value:se,children:se.length>40?se.substring(0,40)+"...":se},se))]})]}),g.jsx(w7,{startDate:Ve,endDate:Je,onRangeChange:(se,Re)=>{Le(se),tt(Re)},label:"Perodo"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[g.jsx(Qs,{className:"w-4 h-4"}),"Vendas:"]}),g.jsxs("select",{value:xe,onChange:se=>J(se.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${xe!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por marca ou categoria de produto",children:[g.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),Ye.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(xs,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${V!=="Todos"?"text-green-600":"text-gray-400"}`}),g.jsxs("select",{value:V,onChange:se=>ee(se.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${V!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por produto especfico",children:[g.jsx("option",{value:"Todos",children:"Todos Produtos"}),d.filter(se=>xe==="Todos"||se.category===xe).sort((se,Re)=>(se.name||"").localeCompare(Re.name||"")).map(se=>g.jsxs("option",{value:se.sku,children:[se.name.substring(0,30),"... (",se.sku,")"]},se.sku))]})]}),g.jsxs("div",{className:"relative group/search",children:[g.jsx(yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),g.jsx("input",{type:"text",value:X,onChange:se=>{q(se.target.value),ye(!0)},onFocus:()=>ye(!0),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-56 transition-colors ${X?"bg-green-50 border-green-300":"border-gray-300"}`,title:"Buscar produtos por SKU, Marca, Cdigo ou Descrio"}),he&&X.length>=2&&g.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto custom-scrollbar",children:(()=>{const se=d.filter(Re=>{const $e=X.toLowerCase();return(Re.name||"").toLowerCase().includes($e)||(Re.sku||"").toLowerCase().includes($e)||(Re.brand||"").toLowerCase().includes($e)}).slice(0,8);return se.length===0?g.jsxs("div",{className:"p-3 text-xs text-gray-500 italic flex items-center gap-2",children:[g.jsx(qi,{className:"w-3 h-3 text-gray-400"}),"No Foi Encontrado"]}):se.map(Re=>g.jsxs("button",{onClick:()=>{q(Re.sku),ye(!1)},className:"w-full text-left px-3 py-2 text-xs hover:bg-green-50 flex flex-col border-b border-gray-50 last:border-0",children:[g.jsx("span",{className:"font-bold text-gray-800",children:Re.name}),g.jsxs("span",{className:"text-[10px] text-gray-500 uppercase",children:[Re.sku,"  ",Re.brand]})]},Re.sku))})()}),!he&&X&&ke.length===0&&g.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 flex items-center gap-1.5 text-[10px] font-bold text-rose-500 animate-fade-in bg-rose-50 px-2 py-1 rounded border border-rose-100 italic",children:[g.jsx(qi,{className:"w-3 h-3"}),"No Foi Encontrado"]})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>Ke(!0),className:`text-[10px] uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg border transition-all ${je?"bg-green-600 border-green-600 text-white shadow-sm":"bg-white border-gray-300 text-gray-600 hover:border-green-400 hover:text-green-700"}`,children:"Somente com Compras"}),g.jsx("button",{onClick:()=>Ke(!1),className:`text-[10px] uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg border transition-all ${je?"bg-white border-gray-300 text-gray-600 hover:border-blue-400 hover:text-blue-700":"bg-blue-600 border-blue-600 text-white shadow-sm"}`,children:"Mostrar Todos"}),gr&&g.jsxs("button",{onClick:ga,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all text-[10px] font-bold uppercase tracking-wider ml-2",title:"Enriquecer toda a base com dados da Receita Federal via CNPJa Comercial",children:[g.jsx(cS,{className:"w-3 h-3"})," Atualizar Base (CNPJa)"]})]}),Oa&&g.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[g.jsx(Wu,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!Oa&&g.jsx("span",{className:"ml-auto text-xs text-gray-400",children:d.length===0?"Nenhum produto cadastrado no admin.":`${d.length} produtos no catlogo.`})]}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-lg",children:[ke.length," resultados encontrados"]})})]}),g.jsx("div",{className:"flex-1 overflow-hidden p-1.5 bg-gray-100",children:le.length===0&&!at.isActive?g.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:gr?g.jsxs(g.Fragment,{children:[g.jsx(gp,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),g.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):g.jsxs(g.Fragment,{children:[g.jsx(fS,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),g.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):g.jsx("div",{className:"h-full bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden relative",children:Et==="map"?g.jsx(WEe,{clients:ke,apiKey:$t,onInvalidKey:qe,productFilterActive:Oa,highlightProductTerm:X,activeProductCategory:xe,users:e,filterContent:g.jsxs("div",{className:"bg-gray-100/95 backdrop-blur-sm px-3 py-2 flex flex-col gap-1.5",children:[g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"relative",children:[g.jsx(yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx("input",{type:"text",value:O,onChange:se=>D(se.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-3 py-1.5 text-sm border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-48 border outline-none",title:"Buscar cliente ou empresa"})]}),g.jsx("div",{className:"h-5 w-px bg-gray-300 mx-0.5 hidden sm:block"}),g.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${Dt?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${Dt?"text-purple-600":"text-gray-500"}`,children:[Dt?g.jsx(dS,{className:"w-3 h-3"}):g.jsx($i,{className:"w-3 h-3"}),gr?"Admin":Dt?"Gesto":"Vendedor"]}),g.jsxs("div",{className:"relative",children:[g.jsx($i,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${Dt?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:Dt?fe:r?.id||"",onChange:se=>Dt&&pe(se.target.value),disabled:!Dt,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${Dt?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:Dt?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[Dt&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),Dt?e.filter(se=>se.role==="salesperson"||se.role==="sales_external"||se.role==="sales_internal").map(se=>g.jsx("option",{value:se.id,children:se.name},se.id)):g.jsx("option",{value:r?.id,children:r?.name})]})]}),Dt&&g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(qa,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:re,onChange:se=>ue(se.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[g.jsx("option",{value:"Todos",children:"Todas Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),g.jsxs("select",{value:M,onChange:se=>{N(se.target.value),P("Todos"),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio",children:[g.jsx("option",{value:"Todas",children:"Todas Regies"}),rh.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("select",{value:k,onChange:se=>{P(se.target.value),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:ge.length===0,title:"Filtrar por estado",children:[g.jsx("option",{value:"Todos",children:"Todos Estados"}),ge.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("select",{value:U,onChange:se=>B(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:k==="Todos"||De.length===0,title:"Filtrar por cidade",children:[g.jsx("option",{value:"Todas",children:"Todas Cidades"}),De.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(xs,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:F,onChange:se=>H(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",title:"Filtrar por categoria de cliente",children:[g.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),m.map(se=>g.jsx("option",{value:se,children:se},se))]})]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(qa,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:ce,onChange:se=>ie(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5 max-w-[200px]",title:"Filtrar por CNAE (Atividade Econmica)",children:[g.jsx("option",{value:"Todos",children:"Todos CNAEs"}),K.map(se=>g.jsx("option",{value:se,children:se.length>40?se.substring(0,40)+"...":se},se))]})]}),gr&&g.jsxs("button",{onClick:ga,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all text-[10px] font-bold uppercase tracking-wider ml-2",title:"Enriquecer toda a base com dados da Receita Federal via CNPJa Comercial",children:[g.jsx(cS,{className:"w-3.5 h-3.5"})," Atualizar Base (CNPJa)"]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[g.jsx(Qs,{className:"w-4 h-4"}),"Vendas:"]}),g.jsxs("select",{value:xe,onChange:se=>J(se.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${xe!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por marca ou categoria de produto",children:[g.jsx("option",{value:"Todos",children:"Todos Deptos / Marcas"}),Ye.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(xs,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${V!=="Todos"?"text-green-600":"text-gray-400"}`}),g.jsxs("select",{value:V,onChange:se=>ee(se.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${V!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por SKU do produto",children:[g.jsx("option",{value:"Todos",children:"Todos Produtos"}),d.filter(se=>xe==="Todos"||se.category===xe).sort((se,Re)=>(se.name||"").localeCompare(Re.name||"")).map(se=>g.jsxs("option",{value:se.sku,children:[se.name.substring(0,30),"... (",se.sku,")"]},se.sku))]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),g.jsx("input",{type:"text",value:X,onChange:se=>q(se.target.value),placeholder:"Depto, Marca, SKU ou Produto...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-52 transition-colors ${X?"bg-green-50 border-green-300":"border-gray-300"}`})]}),g.jsxs("div",{className:"flex gap-1 ml-1",children:[g.jsx("button",{onClick:()=>Ke(!0),className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1.5 rounded-lg border transition-all ${je?"bg-green-600 border-green-600 text-white shadow-sm":"bg-white border-gray-200 text-gray-500 hover:border-green-400 hover:text-green-600"}`,children:"Com Compras"}),g.jsx("button",{onClick:()=>Ke(!1),className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1.5 rounded-lg border transition-all ${je?"bg-white border-gray-200 text-gray-500 hover:border-blue-400 hover:text-blue-600":"bg-blue-600 border-blue-600 text-white shadow-sm"}`,children:"Todos"})]}),Oa&&g.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[g.jsx(Wu,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]})]})]})},`${Br}-${Ir}`):Et==="table"?g.jsx(ZEe,{clients:ke,onUpdateClient:Ee,onAddClient:Ce,currentUserRole:r?.role,currentUserId:r?.id,currentUserName:r?.name,products:d,productCategories:Ye,filterOnlyWithPurchases:je,setFilterOnlyWithPurchases:Ke,resetFilters:ht,users:e,uploadedFiles:_,onGeneratePlusCodes:Oe,onCNPJAuthError:()=>Fr(!0)}):Et==="history"?g.jsx(r8e,{clients:ke,users:e,startDate:Ve,endDate:Je,onRangeChange:(se,Re)=>{Le(se),tt(Re)}}):null})})]}),at.isActive&&g.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[g.jsx("div",{className:`h-1.5 w-full ${at.status==="error"?"bg-red-200":"bg-blue-100"}`,children:g.jsx("div",{className:`h-full transition-all duration-300 ${at.status==="completed"?"bg-green-500 w-full":at.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:at.total>0?`${at.current/at.total*100}%`:"0%"}})}),g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[at.status==="completed"&&g.jsx(Wu,{className:"w-4 h-4 text-green-500"}),at.status==="processing"&&g.jsx(Mc,{className:"w-4 h-4 text-blue-500 animate-spin"}),at.status==="error"&&g.jsx(qi,{className:"w-4 h-4 text-red-500"}),at.status==="reading"?"Lendo Arquivo...":at.status==="processing"?"Processando Planilha":at.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[at.fileName," ",g.jsx("span",{className:"mx-1",children:""})," ",at.ownerName]})]}),g.jsx("button",{onClick:()=>{at.isActive&&at.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(_n.current=!0,At(se=>({...se,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):At(se=>({...se,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",title:"Fechar Notificao",children:g.jsx(Na,{className:"w-4 h-4"})})]}),at.status==="processing"&&g.jsxs("div",{className:"mt-3",children:[g.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[g.jsx("span",{children:"Progresso (IA + Maps)"}),g.jsxs("span",{className:"font-mono",children:[at.current," / ",at.total]})]}),g.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),at.status==="error"&&g.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:at.errorMessage})]})]})]})]}),g.jsx(t8e,{isOpen:In.isOpen,onClose:()=>xi(se=>({...se,isOpen:!1})),onConfirm:In.onConfirm,title:In.title,message:In.message,type:In.type,confirmLabel:In.confirmLabel,cancelLabel:In.cancelLabel})]}):g.jsx(ETe,{progress:L,message:I})};class i8e extends Nr.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:g.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[g.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[g.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:g.jsx(qi,{className:"w-8 h-8"})}),g.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),g.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:this.state.error?.toString()}),g.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const RK=document.getElementById("root");if(!RK)throw new Error("Could not find root element to mount to");const a8e=_Y.createRoot(RK);a8e.render(g.jsx(Nr.StrictMode,{children:g.jsx(i8e,{children:g.jsx(n8e,{})})}));
